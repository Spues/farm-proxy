(self.webpackChunkroot_workspace_0b6124=self.webpackChunkroot_workspace_0b6124||[]).push([[73],{46262(e,t,r){function n(e){var t=e.onEdit,r=e.onDelete,n=e.onAdd,a=(0,S.tz)(),s=(0,w.xH)(function(e){return e.servers});if(!s)return null;var i=(0,D.jsx)("span",{className:N.A.dimm,children:"---"}),o=[{key:"name",header:a.formatMessage({id:"pJajuYL+ji",defaultMessage:"Server Name"}),colProps:{style:{whiteSpace:"nowrap"}}},{key:"port",header:a.formatMessage({id:"9ng2zo9akJ",defaultMessage:"Port"}),tooltip:a.formatMessage({id:"pi1A2t5uy7",defaultMessage:"Listening port of the proxy."}),colProps:{style:{whiteSpace:"nowrap"}}},{key:"extranonceSize",align:"right",header:a.formatMessage({id:"XhTgAABIv1",defaultMessage:"Extra Nonce Size"}),tooltip:a.formatMessage({id:"PbfDINHWeC",defaultMessage:"Extra nonce for the downstream device."}),colProps:{style:{whiteSpace:"nowrap"}}},{key:"useEmptyExtranonce1",align:"right",header:a.formatMessage({id:"uPb6eOZn3A",defaultMessage:"Empty Extra Nonce 1"}),tooltip:(0,D.jsx)(S.sA,{id:"VbOuxGKSwE",defaultMessage:"Parameter defining if 1 more byte of extra nonce can be used. <a>Braiins Academy</a>",values:{a:function(e){return(0,D.jsx)(O.M,{href:"https://academy.braiins.com",children:e})}}}),colProps:{style:{whiteSpace:"nowrap"}}},{key:"actions",align:"right",header:a.formatMessage({id:"S4S7JYdGGx",defaultMessage:"Actions"}),colProps:{style:{whiteSpace:"nowrap"}}}],l=s.map(function(e){var n;return{id:e.name,cells:{name:e.name,port:e.port,extranonceSize:null!=(n=e.extranonceSize)?n:i,useEmptyExtranonce1:a.formatMessage({id:"Y7ap4TcIHX",defaultMessage:"Yes"}),actions:{children:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(E.$,{title:"Edit",kind:"ghost",hasIconOnly:!0,className:N.A.tableActionButton,onClick:function(){return t(e.name)},children:v||(v=(0,D.jsx)(P.ff,{}))}),(0,D.jsx)(E.$,{title:"Delete",kind:"ghost",hasIconOnly:!0,className:N.A.tableActionButton,onClick:function(){return r(e.name)},children:h||(h=(0,D.jsx)(T.zH,{}))})]})}}}});return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(A.bQ,{headers:o,rows:l}),(0,D.jsx)(E.$,{icon:"plus",style:{marginTop:"2rem"},onClick:function(){return n()},children:a.formatMessage({id:"n+hURgUjkH",defaultMessage:"Add New Server"})})]})}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){var t,r,n,a,i,o,l,u,c,d,f,m,g,p,v=e.server,h=e.clientErr,x=e.onChangeInput,b=(0,S.tz)(),M=(0,y.useContext)(k.A).isMobile,j=(0,w.p_)().server,E=(0,y.useState)(!1),A=E[0],P=E[1],T=v.name,Y=v.port,L=v.extranonceSize,X=(0,w.xH)(function(e){return e.serverErrors}),Z=function(e,t){var r=t?Number(t):void 0;x(e,r)},V={UNSPECIFIED:"FIELD_ERROR_UNSPECIFIED",MISSING:b.formatMessage({id:"GpKq3jyL73",defaultMessage:"Please fill in the required field"}),UNKNOWN:"FIELD_ERROR_UNKNOWN",UNAVAILABLE:b.formatMessage({id:"Bh1qod6TSd",defaultMessage:"This value is already used"}),RANGE:"FIELD_ERROR_RANGE",FORMAT:b.formatMessage({id:"90Za6zec9o",defaultMessage:"Invalid format"}),CUSTOM:b.formatMessage({id:"Bh1qod6TSd",defaultMessage:"This value is already used"})},W=new F.Kw(X,h,V),J=null;return A&&(J=(0,D.jsxs)("div",{className:(0,K.A)(q,M&&G),children:[(0,D.jsx)("div",{children:(0,D.jsx)(C.Q,{id:"extranonceSize",name:"extranonceSize",invalid:W.isInvalid("extranonceSize"),invalidText:W.getMessage("extranonceSize",b.formatMessage({id:"0AvsfFZx2p",defaultMessage:"Please provide an integer between {min} and {max}"},{min:null==j||null==(f=j.extranonceSize)?void 0:f.min,max:null==j||null==(m=j.extranonceSize)?void 0:m.max})),allowEmpty:!0,min:null==j||null==(g=j.extranonceSize)?void 0:g.min,max:null==j||null==(p=j.extranonceSize)?void 0:p.max,step:1,value:null!=L?L:"",onChange:function(e){return Z("extranonceSize",e)},extraBlockedSymbols:Q,label:b.formatMessage({id:"XhTgAABIv1",defaultMessage:"Extra Nonce Size"}),helperText:(0,D.jsx)(S.sA,{id:"0cEl4KlVdB",defaultMessage:"Extra Nonce provided to the downstream device (ASIC). Recommended minimum is 4 (default value when empty is 5) for all firmwares that roll extranonce (any lower value may produce duplicit submits on your miner). With Braiins OS+ you can use any value (at least 0). This field must contain a value that is at least 1 less than the Extra Nonce Size of the target (e.g. if the Extra Nonce Size of the target is 8 then this field must be 7 or less)."})})}),(0,D.jsx)("div",{children:(0,D.jsx)(I.l,{id:"useEmptyExtranonce1",name:"useEmptyExtranonce1",labelA:"Off",labelB:"On",disabled:!0,toggled:!0,onToggle:function(e){return x("useEmptyExtranonce1",e)},labelText:b.formatMessage({id:"H1eRVu8bN3",defaultMessage:"Use Empty Extra Nonce 1"}),description:(0,D.jsxs)("div",{style:{marginTop:4},children:[(0,D.jsx)("span",{children:b.formatMessage({id:"eAr7oGljY0",defaultMessage:"Parameter defining if 1 more byte of extra nonce can be used. This parameter has been deprecated and is always on (except of Avalon miners, where it’s dynamically turned off for compatibility of Avalon FW).  It allows mining on pools with Extra Nonce 2 size of 5 and smaller."})})," ",(0,D.jsx)("span",{children:b.formatMessage({id:"QWIs/kZU+Q",defaultMessage:"More info can be found at the <a>Braiins Academy</a>."},{a:function(e){return(0,D.jsx)(O.M,{external:!0,href:"https://academy.braiins.com/en/farm-proxy/configuration/#configuration-parameters",children:e})}})})]})})})]})),(0,D.jsxs)(y.Fragment,{children:[(0,D.jsxs)("section",{className:N.A.modalSection,children:[(0,D.jsx)("h3",{className:N.A.sectionTitle,children:b.formatMessage({id:"aZCUuEwVeq",defaultMessage:"Basic Settings"})}),(0,D.jsxs)("div",{className:(0,K.A)(q,M&&G),children:[(0,D.jsx)(R.ksK,{"data-modal-primary-focus":!0,id:"name",name:"name",invalid:W.isInvalid("name"),invalidText:W.getMessage("name",V.MISSING),value:T,onChange:function(e){return x(e.target.name,e.target.value)},labelText:b.formatMessage({id:"pJajuYL+ji",defaultMessage:"Server Name"}),helperText:b.formatMessage({id:"KDMvlpw4BH",defaultMessage:"Each server requires a unique name."})}),(0,D.jsx)(C.Q,{id:"port",type:"number",name:"port",invalid:W.isInvalid("port"),invalidText:W.getMessage("port",b.formatMessage({id:"QdHLPY9yVo",defaultMessage:"Please enter a number within the range of {min} and {max}."},{min:null!=(t=null==j||null==(r=j.port)?void 0:r.min)?t:"-",max:null!=(n=null==j||null==(a=j.port)?void 0:a.max)?n:"-"})),min:null==j||null==(i=j.port)?void 0:i.min,max:null==j||null==(o=j.port)?void 0:o.max,value:null!=Y?Y:"",onChange:function(e){return Z("port",e)},extraBlockedSymbols:Q,label:b.formatMessage({id:"9ng2zo9akJ",defaultMessage:"Port"}),helperText:(0,D.jsxs)(y.Fragment,{children:[(0,D.jsx)(S.sA,{id:"4TkTqApJVU",defaultMessage:"This is the port Farm Proxy will open to accept miner connections on.{br} Each server requires a different port.",values:{br:H||(H=(0,D.jsx)("br",{}))}}),U||(U=(0,D.jsx)("br",{})),(0,D.jsx)(S.sA,{id:"WKDBIrZPan",defaultMessage:"Default ports: {min}-{max}",values:{min:(0,D.jsx)("strong",{children:null!=(l=null==j||null==(u=j.port)?void 0:u.min)?l:"-"}),max:(0,D.jsx)("strong",{children:null!=(c=null==j||null==(d=j.port)?void 0:d.max)?c:"-"})}})]})})]})]}),(0,D.jsxs)("section",{className:N.A.modalSection,children:[(0,D.jsxs)("h3",s(s({className:(0,K.A)(N.A.sectionTitle,N.A.advancedSectionTitle,A&&N.A.active)},z.K.button(function(){P(!A)})),{},{children:[_||(_=(0,D.jsx)(B.I,{name:"angle-down-thin"})),(0,D.jsx)("span",{children:b.formatMessage({id:"GDuTEtkXyE",defaultMessage:"Advanced Settings"})})]})),J]})]})}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(){function e(e,r,n,a){var o=r&&r.prototype instanceof t?r:t,l=Object.create(o.prototype);return f(l,"_invoke",function(e,t,r){function n(e,t){for(o=e,l=t,i=0;!f&&u&&!r&&i<d.length;i++){var r,n=d[i],a=m.p,g=n[2];e>3?(r=g===t)&&(l=n[(o=n[4])?5:(o=3,3)],n[4]=n[5]=s):n[0]<=a&&((r=e<2&&a<n[1])?(o=0,m.v=t,m.n=n[1]):a<g&&(r=e<3||n[0]>t||t>g)&&(n[4]=e,n[5]=t,m.n=g,o=0))}if(r||e>1)return c;throw f=!0,t}var a,o,l,u=0,d=r||[],f=!1,m={p:0,n:0,v:s,a:n,f:n.bind(s,4),d:function(e,t){return a=e,o=0,l=s,m.n=t,c}};return function(r,d,g){if(u>1)throw TypeError("Generator is already running");for(f&&1===d&&n(d,g),o=d,l=g;(i=o<2?s:l)||!f;){a||(o?o<3?(o>1&&(m.n=-1),n(o,l)):m.n=l:m.v=l);try{if(u=2,a){if(o||(r="next"),i=a[r]){if(!(i=i.call(a,l)))throw TypeError("iterator result is not an object");if(!i.done)return i;l=i.value,o<2&&(o=0)}else 1===o&&(i=a.return)&&i.call(a),o<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),o=1);a=s}else if((i=(f=m.n<0)?l:e.call(t,m))!==c)break}catch(e){a=s,o=1,l=e}finally{u=1}}return{value:i,done:f}}}(e,n,a),!0),l}function t(){}function r(){}function n(){}function a(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,n):(e.__proto__=n,f(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e}/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var s,i,o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",u=o.toStringTag||"@@toStringTag",c={};i=Object.getPrototypeOf;var m=[][l]?i(i([][l]())):(f(i={},l,function(){return this}),i),g=n.prototype=t.prototype=Object.create(m);return r.prototype=n,f(g,"constructor",n),f(n,"constructor",r),r.displayName="GeneratorFunction",f(n,u,"GeneratorFunction"),f(g),f(g,u,"Generator"),f(g,l,function(){return this}),f(g,"toString",function(){return"[object Generator]"}),(d=function(){return{w:e,m:a}})()}function f(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}f=function(e,t,r,n){function s(t,r){f(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(s("next",0),s("throw",1),s("return",2))},f(e,t,r,n)}function m(e,t,r,n,a,s,i){try{var o=e[s](i),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(n,a)}function g(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){function s(e){m(o,n,a,s,i,"next",e)}function i(e){m(o,n,a,s,i,"throw",e)}var o=e.apply(t,r);s(void 0)})}}function p(){function e(){U(!1)}function t(){W(!1),setTimeout(function(){O()},200)}function r(){return(r=g(d().m(function e(r){return d().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,A(r);case 2:"error"===e.v.status?l.notify("error",i.formatMessage({id:"YD4Fg4qKDw",defaultMessage:"Server validation failed"}),5e3):(l.notify("success",i.formatMessage({id:"vjgK6lsMs3",defaultMessage:"Server was deleted"})),t()),e.n=4;break;case 3:e.p=3,e.v,l.notify("error",i.formatMessage({id:"YD4Fg4qKDw",defaultMessage:"Server validation failed"}),5e3);case 4:return e.a(2)}},e,null,[[1,3]])}))).apply(this,arguments)}function a(){return(a=g(d().m(function t(){return d().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,P(I);case 1:"error"===t.v.status?l.notify("error",i.formatMessage({id:"YD4Fg4qKDw",defaultMessage:"Server validation failed"}),5e3):(l.notify("success",i.formatMessage({id:"++cc3xYK6s",defaultMessage:"Server was added"})),e());case 2:return t.a(2)}},t)}))).apply(this,arguments)}function s(){return(s=g(d().m(function t(){return d().w(function(t){for(;;)switch(t.n){case 0:if(R){t.n=1;break}return t.a(2);case 1:return t.n=2,T(I,R);case 2:"error"===t.v.status?l.notify("error",i.formatMessage({id:"YD4Fg4qKDw",defaultMessage:"Server validation failed"}),5e3):(l.notify("success",i.formatMessage({id:"JKnK2XXCNp",defaultMessage:"Server was updated"})),e());case 3:return t.a(2)}},t)}))).apply(this,arguments)}var i=(0,S.tz)(),l=(0,y.useContext)(k.A),c=(0,w.xH)(function(e){var t;return null==(t=e.defaultConfig)?void 0:t.server}),f=X.v(Z.Xz,c),m=(0,w.xH)(function(e){return e.metadata}),p=(0,w.xH)(function(e){return e.servers}),v=(0,w.yz)(),h=v.clearServerErrors,O=v.clearServerDependsOnRouting,E=v.isServerDependsOnRouting,A=v.deleteServer,P=v.addServer,T=v.updateServer,C=(0,y.useState)(f),I=C[0],z=C[1],B=(0,y.useState)(null),R=B[0],K=B[1],q=(0,w.xH)(function(e){return e.serverDependsOnRouting}),G=(0,y.useState)(!1),H=G[0],U=G[1],_=(0,y.useState)(!1),Q=_[0],W=_[1],J=function(){var e=g(d().m(function e(t){return d().w(function(e){for(;;)switch(e.p=e.n){case 0:return K(t),e.p=1,e.n=2,E(t);case 2:"error"===e.v.status?l.notify("error",i.formatMessage({id:"YD4Fg4qKDw",defaultMessage:"Server validation failed"}),5e3):setTimeout(function(){W(!0)},200),e.n=4;break;case 3:e.p=3,e.v,l.notify("error",i.formatMessage({id:"YD4Fg4qKDw",defaultMessage:"Server validation failed"}),5e3);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}(),$=function(){h(),K(null),z(f),U(!0)},ee=(0,F.SQ)(I,m),te=i.formatMessage({id:"yxeKboQu/W",defaultMessage:"Servers"});return(0,D.jsxs)(y.Fragment,{children:[(0,D.jsx)(L.mg,{title:te}),(0,D.jsx)(b.A,{title:te,caption:i.formatMessage({id:"tBxQ087+Zr",defaultMessage:"Server acts as a destination where the miners are going to be connected."})}),(0,D.jsx)(x.a,{id:V.CY.servers.editModal,className:N.A.modal,size:"lg",selectorPrimaryFocus:"input#name",open:H,preventCloseOnClickOutside:!0,modalHeading:R?(0,D.jsx)(S.sA,{id:"AjzQweP1Sf",defaultMessage:'Edit the "{name}" server',values:{name:R}}):i.formatMessage({id:"n+hURgUjkH",defaultMessage:"Add New Server"}),onRequestClose:function(){return e()},onRequestSubmit:function(){return R?function(){return s.apply(this,arguments)}():function(){return a.apply(this,arguments)}()},primaryButtonText:R?i.formatMessage({id:"xl692sCSZQ",defaultMessage:"Save Changes"}):i.formatMessage({id:"n+hURgUjkH",defaultMessage:"Add New Server"}),primaryButtonDisabled:!ee.isValid,secondaryButtonText:i.formatMessage({id:"1r/fx4e7T/",defaultMessage:"Cancel"}),children:(0,D.jsx)(o,{clientErr:ee,server:I,onChangeInput:function(e,t){h(),z(function(r){var n;return u(u({},r),{},((n={})[e]=t,n))})}})}),(0,D.jsxs)(x.a,{id:V.CY.servers.deleteModal,className:N.A.modal,size:"sm",danger:!0,open:Q,modalHeading:i.formatMessage({id:"ZAKmw2U1gn",defaultMessage:'Delete "{name}"'},{name:R}),onRequestClose:t,onRequestSubmit:function(){return function(e){return r.apply(this,arguments)}(R)},primaryButtonText:i.formatMessage({id:"E2QCGI0oS5",defaultMessage:"Delete Server"}),secondaryButtonText:i.formatMessage({id:"1r/fx4e7T/",defaultMessage:"Cancel"}),primaryButtonDisabled:q,children:[(0,D.jsx)("div",{children:i.formatMessage({id:"4Bn/XZPlTO",defaultMessage:"Do you really want to delete this Server?"})}),(0,D.jsx)("div",{children:i.formatMessage({id:"hPse1f9God",defaultMessage:"This action is permanent and irreversible."})}),(0,D.jsx)("div",{style:{lineHeight:1,color:"red",padding:"16px 0"},children:q&&i.formatMessage({id:"g38/p5dLRX",defaultMessage:"Routing Logic depends on this server"})})]}),(0,D.jsxs)("div",{className:N.A.layoutRoot,children:[Y||(Y=(0,D.jsx)(M.A,{})),p&&(p.length>0?(0,D.jsx)(n,{onAdd:$,onEdit:function(e){var t;h(),z(null!=(t=null==p?void 0:p.find(function(t){return t.name===e}))?t:f),K(e),U(!0)},onDelete:J}):(0,D.jsx)(j.A,{kind:"server",onClick:$}))]})]})}r.r(t),r.d(t,{default:()=>p});var v,h,y=r(96540),x=r(62766),b=r(48539),M=r(80103),j=r(45626),S=r(31377),w=r(63830),O=r(35422),E=r(47313),A=r(1955),P=r(40771),T=r(55576),N=r(16927),D=r(74848),k=r(84292),C=r(30193),I=r(88989),z=r(29249),B=r(13623),R=r(30346),F=r(49439),K=r(34164);const q="Bke4Gjeq",G="UBcQI6X3";var H,U,_,Y,Q=[".",",","-"],L=r(21029),X=r(40014),Z=r(91148),V=r(25153)}}]);