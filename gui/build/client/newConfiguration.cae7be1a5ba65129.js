(self.webpackChunkroot_workspace_0b6124=self.webpackChunkroot_workspace_0b6124||[]).push([[879],{2294(e,t,n){function r(e){var t=e.templates,n=e.onChange,r=e.selectedTemplateTitle,a=(0,y.tz)();return(0,u.useEffect)(function(){var e;n(null==(e=t[0])?void 0:e.title)},[t[0],n]),(0,w.jsxs)("div",{className:x,children:[(0,w.jsx)("div",{className:O.A.helperText,children:a.formatMessage({id:"Suaf56Xy5o",defaultMessage:"Choose a template"})}),(0,w.jsx)(g.zWQ,{orientation:"vertical",name:"template-mode",valueSelected:null!=r?r:void 0,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return n(e)}),children:t.map(function(e){return(0,w.jsx)(j.a,{value:e.title,label:e.title,description:e.description&&(0,y.CH)(a,null==e?void 0:e.description)},e.title)})})]})}function a(e){var t=e.onChangeFile,n=e.status,r=e.isValid,a=e.onDelete,o=(0,y.tz)();return(0,w.jsx)("div",{className:M,children:(0,w.jsx)(g.l0C,{className:(0,S.A)(!1===r&&C),filenameStatus:null!=n?n:"edit",accept:[".toml"],buttonLabel:o.formatMessage({id:"GmNP/yALl/",defaultMessage:"Upload file"}),labelDescription:o.formatMessage({id:"jBHhsisvIx",defaultMessage:"Only .toml files for upload"}),onChange:function(e){var n;return t(null==(n=e.target.files)?void 0:n[0])},onDelete:a})})}function o(){function e(e,n,r,a){var o=n&&n.prototype instanceof t?n:t,c=Object.create(o.prototype);return i(c,"_invoke",function(e,t,n){function r(e,t){for(o=e,i=t,l=0;!f&&c&&!n&&l<u.length;l++){var n,r=u[l],a=p.p,m=r[2];e>3?(n=m===t)&&(i=r[(o=r[4])?5:(o=3,3)],r[4]=r[5]=s):r[0]<=a&&((n=e<2&&a<r[1])?(o=0,p.v=t,p.n=r[1]):a<m&&(n=e<3||r[0]>t||t>m)&&(r[4]=e,r[5]=t,p.n=m,o=0))}if(n||e>1)return d;throw f=!0,t}var a,o,i,c=0,u=n||[],f=!1,p={p:0,n:0,v:s,a:r,f:r.bind(s,4),d:function(e,t){return a=e,o=0,i=s,p.n=t,d}};return function(n,u,m){if(c>1)throw TypeError("Generator is already running");for(f&&1===u&&r(u,m),o=u,i=m;(l=o<2?s:i)||!f;){a||(o?o<3?(o>1&&(p.n=-1),r(o,i)):p.n=i:p.v=i);try{if(c=2,a){if(o||(n="next"),l=a[n]){if(!(l=l.call(a,i)))throw TypeError("iterator result is not an object");if(!l.done)return l;i=l.value,o<2&&(o=0)}else 1===o&&(l=a.return)&&l.call(a),o<2&&(i=TypeError("The iterator does not provide a '"+n+"' method"),o=1);a=s}else if((l=(f=p.n<0)?i:e.call(t,p))!==d)break}catch(e){a=s,o=1,i=e}finally{c=1}}return{value:l,done:f}}}(e,r,a),!0),c}function t(){}function n(){}function r(){}function a(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,r):(e.__proto__=r,i(e,f,"GeneratorFunction")),e.prototype=Object.create(m),e}/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var s,l,c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",f=c.toStringTag||"@@toStringTag",d={};l=Object.getPrototypeOf;var p=[][u]?l(l([][u]())):(i(l={},u,function(){return this}),l),m=r.prototype=t.prototype=Object.create(p);return n.prototype=r,i(m,"constructor",r),i(r,"constructor",n),n.displayName="GeneratorFunction",i(r,f,"GeneratorFunction"),i(m),i(m,f,"Generator"),i(m,u,function(){return this}),i(m,"toString",function(){return"[object Generator]"}),(o=function(){return{w:e,m:a}})()}function i(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}i=function(e,t,n,r){function o(t,n){i(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},i(e,t,n,r)}function s(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){function o(e){s(l,r,a,o,i,"next",e)}function i(e){s(l,r,a,o,i,"throw",e)}var l=e.apply(t,n);o(void 0)})}}function c(){function e(e){for(var t=[],n=function(){var n,o=a[r];null==(n=e[o])||n.errors.forEach(function(e){t.push(s.formatMessage({id:"3GsLldnR71",defaultMessage:"Profile validation failed"})+"\n\n                    Path: ["+o+"."+e.path.join(".")+"]\n\n                    Error: "+e.message)})},r=0,a=["servers","targets","routings"];r<a.length;r++)n();for(var o=0,i=t;o<i.length;o++){var l=i[o];c.notify("error",l)}}var t,n,i,s=(0,y.tz)(),c=(0,u.useContext)(_.A),j=(0,P.rd)(),x=(0,u.useState)(void 0),M=x[0],C=x[1],S=null!=(t=null==(n=(0,D.xH)(function(e){return e.templateFiles}))?void 0:n.files)?t:[],Z=(0,u.useState)(null==(i=S[0])?void 0:i.title),Q=Z[0],R=Z[1],Y=(0,u.useState)(""),H=Y[0],J=Y[1],L=(0,u.useState)(!1),W=L[0],q=L[1],K=(0,u.useState)(!1),X=K[0],$=K[1],ee=(0,D.Pl)(),te=ee.validateConfigFile,ne=ee.createConfigFileFromUploadedFile,re=ee.cloneTemplateConfigFile,ae=ee.fetchConfigFiles,oe=ee.createBlankConfigFile,ie=ee.setSelectedConfig,se=(0,u.useState)(),le=se[0],ce=se[1],ue=(0,u.useState)(),fe=ue[0],de=ue[1],pe=(0,u.useState)(null),me=pe[0],ge=pe[1],ve=function(){var t=l(o().m(function t(n){var r;return o().w(function(t){for(;;)switch(t.n){case 0:if(n){t.n=1;break}return t.a(2);case 1:return ce(null),ge(null),de("uploading"),t.n=2,te(n);case 2:r=t.v,ce(n),null!=r&&r.isValid?(c.notify("success",s.formatMessage({id:"hpkypAbgm8",defaultMessage:"Profile was validated"}),5e3),de("complete")):null!=r&&r.isValid||null==r||!r.errors?(c.notify("error",s.formatMessage({id:"3GsLldnR71",defaultMessage:"Profile validation failed"}),5e3),de("edit")):(ge(!1),de("edit"),e(r.errors));case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),he=function(e){"error"===e.status?(c.notify("error",(0,y.CH)(s,e.error.toMessage()),5e3),q(!1)):(c.notify("success",s.formatMessage({id:"HFIMCVLh+l",defaultMessage:"Profile was created"}),5e3),$(!1),ie(H),ae(),(0,N.g)(j.navigate,A.tl.servers.getHref()))},be=function(){var e=l(o().m(function e(t){var n,r,a,i;return o().w(function(e){for(;;)switch(e.n){case 0:if(t.preventDefault(),W&&M){e.n=1;break}return e.a(2);case 1:i=M,e.n="template"===i?2:"blank"===i?5:"upload"===i?7:10;break;case 2:if(Q){e.n=3;break}return e.a(2);case 3:return e.n=4,re(Q,H);case 4:return n=e.v,he(n),e.a(3,11);case 5:return e.n=6,oe(H);case 6:return"ok"===(r=e.v).status&&c.setIsIntroModalOpen(!0),he(r),e.a(3,11);case 7:if(le){e.n=8;break}return e.a(2);case 8:return e.n=9,ne(H,le);case 9:return a=e.v,he(a),e.a(3,11);case 10:(0,T.dr)(M);case 11:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),ye={blank:{title:s.formatMessage({id:"cgcJ3K1ryx",defaultMessage:"Blank Space"}),icon:U||(U=(0,w.jsx)(v.zs,{size:32}))},template:{title:s.formatMessage({id:"vdvSIDyTs/",defaultMessage:"Use Predefined Template"}),icon:I||(I=(0,w.jsx)(h.yo,{size:32})),content:"template"===M&&(0,w.jsx)(r,{templates:S,selectedTemplateTitle:Q,onChange:R})},upload:{title:s.formatMessage({id:"LiatYsWuOl",defaultMessage:"Upload Your File"}),icon:V||(V=(0,w.jsx)(b._O,{size:32})),content:"upload"===M&&(0,w.jsx)("div",{children:(0,w.jsx)(a,{status:fe,isValid:me,onChangeFile:function(e){ge(null),ve(e)},onDelete:function(){ge(null),ce(null)}})})}},je=function(){$(!1),q(!1),J("")},xe=s.formatMessage({id:"aC8UZMuWbT",defaultMessage:"Create a Profile"}),Oe=s.formatMessage({id:"t481gT+CZZ",defaultMessage:"New Configuration"});return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(k.mg,{title:Oe}),(0,w.jsx)(m.A,{title:Oe,caption:s.formatMessage({id:"sEg9jbpKVW",defaultMessage:"You can choose between few options how to start. Choose the one thats relevant for you."})}),(0,w.jsxs)("div",{className:O.A.layoutRoot,children:[(0,w.jsx)(g.iS9,{className:G,valueSelected:M,onChange:function(e){ge(null),ce(null),C(e)},legend:s.formatMessage({id:"EVoacoQFqg",defaultMessage:"Choose how you want to start"}),name:"create-config-group",children:Object.keys(ye).map(function(e){var t=ye[e];return(0,w.jsxs)(g.mMp,{id:e,className:E,value:e,disabled:t.disabled,children:[(0,w.jsxs)("div",{className:B,children:[t.icon,(0,w.jsx)("div",{className:z,children:t.title})]}),t.content]},e)})}),(0,w.jsx)(d.$,{style:{marginTop:"2.5rem"},children:xe,disabled:!M||"upload"===M&&!le,onClick:function(){return $(!0)}})]}),(0,w.jsx)(p.a,{id:A.CY.global.createProfileDialog,preventCloseOnClickOutside:!0,open:X,className:O.A.modal,size:"sm",modalHeading:xe,secondaryButtonText:s.formatMessage({id:"JRhw9/18GD",defaultMessage:"Close"}),onSecondarySubmit:je,primaryButtonText:xe,primaryButtonDisabled:!W,onRequestSubmit:be,onRequestClose:je,selectorPrimaryFocus:"input#filename",children:(0,w.jsx)(g.ksK,{helperText:s.formatMessage({id:"aRNWUazXl6",defaultMessage:"File name must be at least 3 characters"}),invalidText:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{children:s.formatMessage({id:"aRNWUazXl6",defaultMessage:"File name must be at least 3 characters"})}),(0,w.jsx)("div",{children:s.formatMessage({id:"qSfw4Fxwok",defaultMessage:"Allowing only specific characters, such as letters, numbers, underscores, hyphens, and periods"})})]}),invalid:!W,id:"filename",type:"text",name:"filename",labelText:s.formatMessage({id:"xsOOgdnmgj",defaultMessage:"File name"}),value:H,onChange:function(e){var t=e.target.value.trim(),n=F.Yj().trim().min(3).regex(/^[a-zA-Z0-9]+$/).safeParse(t);q(n.success),J(t)},onKeyDown:function(e){e.key===f.U.Enter&&be(e)}})})]})}n.r(t),n.d(t,{default:()=>c});var u=n(96540),f=n(23083),d=n(47313),p=n(62766),m=n(48539),g=n(30346),v=n(92137),h=n(63654),b=n(2383),y=n(31377),j=n(11668);const x="yPzOC6kB";var O=n(16927),w=n(74848);const M="bGNo3Mit",C="x6OcJZMW";var S=n(34164),k=n(21029),P=n(35353),N=n(90044),T=n(2504),F=n(73453),_=n(84292),D=n(63830),A=n(25153);const E="fu4roY3o",G="QZVu6DG0",B="oCBgEQhr OZRyxSpI Tl31gjJs KOYJ53Ig",z="Lg5GQcnY";var U,I,V},2504(e,t,n){function r(e,t){throw new Error((t?"Unexected "+t+" value has been reached!":"Unexected value has been reached!")+" - "+e)}n.d(t,{dr:()=>r})},11668(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=e.label,n=e.description,r=e.descriptionClassName,o=e.addon,i=e.darker,j=e.stretch,x=e.className,O=e.style,w=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,y),M=t;(t||n)&&(M=(0,b.jsxs)("span",{className:d,"data-cy":l.S.components.radioButton,children:[(0,b.jsx)("span",{className:p,children:t}),n&&(0,b.jsx)("span",{className:(0,h.A)(m,r),children:n})]})),o&&(M=(0,b.jsxs)("div",{className:g,"data-cy":l.S.components.radioButton,children:[t,(0,b.jsx)("div",{className:v,children:o})]}));var C=(0,h.A)(c,x,i&&u,j&&f);return(0,b.jsx)(s.aaP,a(a({},w),{},{labelText:M,className:C,style:O}))}n.d(t,{a:()=>i});var s=n(30346),l=n(94077);const c="rQk2d94t Tl31gjJs GxUwV3vQ",u="omu0O_Ew",f="oQAT5BCr",d="_nwCGItF A3ONTpKf",p="NqtVZXYp",m="ykdpCCDm",g="oOZ_mrNe Tl31gjJs IZBfxUDD GxUwV3vQ",v="tIj0Enqr";var h=n(34164),b=n(74848),y=["label","description","descriptionClassName","addon","darker","stretch","className","style"]},94077(e,t,n){n.d(t,{S:()=>r});var r={components:{notifications:{container:"notifications_container",toastItem:"notifications_toast-item",clearButton:"notifications_clear-button"},dataTable:{selectAllCheckbox:"data-table_select-all-checkbox",selectionActions:"data-table_selection-actions"},inlineNotification:"inline-notification",radioButton:"radio-button",tabs:{container:"tabs_container",tabs:"tabs_tabs",tabButton:"tabs_tab-button",tabContent:"tabs_tab-content"}}}}}]);