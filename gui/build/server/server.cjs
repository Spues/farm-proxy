#!/usr/bin/env -S yarn tsx
"use strict";var __create=Object.create;var __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty;var __esm=(fn,res)=>function(){return fn&&(res=(0,fn[__getOwnPropNames(fn)[0]])(fn=0)),res};var __commonJS=(cb,mod)=>function(){return mod||(0,cb[__getOwnPropNames(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports};var __export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})},__copyProps=(to,from,except,desc)=>{if(from&&typeof from=="object"||typeof from=="function")for(let key of __getOwnPropNames(from))!__hasOwnProp.call(to,key)&&key!==except&&__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to};var __toESM=(mod,isNodeMode,target)=>(target=mod!=null?__create(__getProtoOf(mod)):{},__copyProps(isNodeMode||!mod||!mod.__esModule?__defProp(target,"default",{value:mod,enumerable:!0}):target,mod)),__toCommonJS=mod=>__copyProps(__defProp({},"__esModule",{value:!0}),mod);var require_reusify=__commonJS({"../../../../node_modules/reusify/reusify.js"(exports2,module2){"use strict";function reusify(Constructor){var head=new Constructor,tail=head;function get2(){var current=head;return current.next?head=current.next:(head=new Constructor,tail=head),current.next=null,current}function release(obj){tail.next=obj,tail=obj}return{get:get2,release}}module2.exports=reusify}});var require_queue=__commonJS({"../../../../node_modules/fastq/queue.js"(exports2,module2){"use strict";var reusify=require_reusify();function fastqueue(context,worker,_concurrency){if(typeof context=="function"&&(_concurrency=worker,worker=context,context=null),!(_concurrency>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var cache=reusify(Task),queueHead=null,queueTail=null,_running=0,errorHandler=null,self2={push,drain:noop,saturated:noop,pause,paused:!1,get concurrency(){return _concurrency},set concurrency(value){if(!(value>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(_concurrency=value,!self2.paused)for(;queueHead&&_running<_concurrency;)_running++,release()},running,resume,idle,length,getQueue,unshift,empty:noop,kill,killAndDrain,error};return self2;function running(){return _running}function pause(){self2.paused=!0}function length(){for(var current=queueHead,counter=0;current;)current=current.next,counter++;return counter}function getQueue(){for(var current=queueHead,tasks=[];current;)tasks.push(current.value),current=current.next;return tasks}function resume(){if(self2.paused){if(self2.paused=!1,queueHead===null){_running++,release();return}for(;queueHead&&_running<_concurrency;)_running++,release()}}function idle(){return _running===0&&self2.length()===0}function push(value,done){var current=cache.get();current.context=context,current.release=release,current.value=value,current.callback=done||noop,current.errorHandler=errorHandler,_running>=_concurrency||self2.paused?queueTail?(queueTail.next=current,queueTail=current):(queueHead=current,queueTail=current,self2.saturated()):(_running++,worker.call(context,current.value,current.worked))}function unshift(value,done){var current=cache.get();current.context=context,current.release=release,current.value=value,current.callback=done||noop,current.errorHandler=errorHandler,_running>=_concurrency||self2.paused?queueHead?(current.next=queueHead,queueHead=current):(queueHead=current,queueTail=current,self2.saturated()):(_running++,worker.call(context,current.value,current.worked))}function release(holder){holder&&cache.release(holder);var next=queueHead;next&&_running<=_concurrency?self2.paused?_running--:(queueTail===queueHead&&(queueTail=null),queueHead=next.next,next.next=null,worker.call(context,next.value,next.worked),queueTail===null&&self2.empty()):--_running===0&&self2.drain()}function kill(){queueHead=null,queueTail=null,self2.drain=noop}function killAndDrain(){queueHead=null,queueTail=null,self2.drain(),self2.drain=noop}function error(handler){errorHandler=handler}}function noop(){}function Task(){this.value=null,this.callback=noop,this.next=null,this.release=noop,this.context=null,this.errorHandler=null;var self2=this;this.worked=function(err,result){var callback=self2.callback,errorHandler=self2.errorHandler,val=self2.value;self2.value=null,self2.callback=noop,self2.errorHandler&&errorHandler(err,val),callback.call(self2.context,err,result),self2.release(self2)}}function queueAsPromised(context,worker,_concurrency){typeof context=="function"&&(_concurrency=worker,worker=context,context=null);function asyncWrapper(arg,cb){worker.call(this,arg).then(function(res){cb(null,res)},cb)}var queue=fastqueue(context,asyncWrapper,_concurrency),pushCb=queue.push,unshiftCb=queue.unshift;return queue.push=push,queue.unshift=unshift,queue.drained=drained,queue;function push(value){var p=new Promise(function(resolve,reject){pushCb(value,function(err,result){if(err){reject(err);return}resolve(result)})});return p.catch(noop),p}function unshift(value){var p=new Promise(function(resolve,reject){unshiftCb(value,function(err,result){if(err){reject(err);return}resolve(result)})});return p.catch(noop),p}function drained(){var p=new Promise(function(resolve){process.nextTick(function(){if(queue.idle())resolve();else{var previousDrain=queue.drain;queue.drain=function(){typeof previousDrain=="function"&&previousDrain(),resolve(),queue.drain=previousDrain}}})});return p}}module2.exports=fastqueue;module2.exports.promise=queueAsPromised}});var require_error=__commonJS({"../../../../node_modules/@fastify/error/index.js"(exports2,module2){"use strict";var{format:format2}=require("node:util");function toString2(){return`${this.name} [${this.code}]: ${this.message}`}var FastifyGenericErrorSymbol=Symbol.for("fastify-error-generic");function createError(code2,message,statusCode=500,Base=Error,captureStackTrace=createError.captureStackTrace){let shouldCreateFastifyGenericError=code2===FastifyGenericErrorSymbol;if(shouldCreateFastifyGenericError&&(code2="FST_ERR"),!code2)throw new Error("Fastify error code must not be empty");if(!message)throw new Error("Fastify error message must not be empty");code2=code2.toUpperCase(),!statusCode&&(statusCode=void 0);let FastifySpecificErrorSymbol=Symbol.for(`fastify-error ${code2}`);function FastifyError(...args){if(!new.target)return new FastifyError(...args);this.code=code2,this.name="FastifyError",this.statusCode=statusCode;let lastElement=args.length-1;lastElement!==-1&&args[lastElement]&&typeof args[lastElement]=="object"&&"cause"in args[lastElement]&&(this.cause=args.pop().cause),this.message=format2(message,...args),Error.stackTraceLimit&&captureStackTrace&&Error.captureStackTrace(this,FastifyError)}return FastifyError.prototype=Object.create(Base.prototype,{constructor:{value:FastifyError,enumerable:!1,writable:!0,configurable:!0},[FastifyGenericErrorSymbol]:{value:!0,enumerable:!1,writable:!1,configurable:!1},[FastifySpecificErrorSymbol]:{value:!0,enumerable:!1,writable:!1,configurable:!1}}),shouldCreateFastifyGenericError?Object.defineProperty(FastifyError,Symbol.hasInstance,{value(instance){return instance&&instance[FastifyGenericErrorSymbol]},configurable:!1,writable:!1,enumerable:!1}):Object.defineProperty(FastifyError,Symbol.hasInstance,{value(instance){return instance&&instance[FastifySpecificErrorSymbol]},configurable:!1,writable:!1,enumerable:!1}),FastifyError.prototype[Symbol.toStringTag]="Error",FastifyError.prototype.toString=toString2,FastifyError}createError.captureStackTrace=!0;var FastifyErrorConstructor=createError(FastifyGenericErrorSymbol,"Fastify Error",500,Error);module2.exports=createError;module2.exports.FastifyError=FastifyErrorConstructor;module2.exports.default=createError;module2.exports.createError=createError}});var require_errors=__commonJS({"../../../../node_modules/avvio/lib/errors.js"(exports2,module2){"use strict";var{createError}=require_error();module2.exports={AVV_ERR_EXPOSE_ALREADY_DEFINED:createError("AVV_ERR_EXPOSE_ALREADY_DEFINED","'%s' is already defined, specify an expose option for '%s'"),AVV_ERR_ATTRIBUTE_ALREADY_DEFINED:createError("AVV_ERR_ATTRIBUTE_ALREADY_DEFINED","'%s' is already defined"),AVV_ERR_CALLBACK_NOT_FN:createError("AVV_ERR_CALLBACK_NOT_FN","Callback for '%s' hook is not a function. Received: '%s'"),AVV_ERR_PLUGIN_NOT_VALID:createError("AVV_ERR_PLUGIN_NOT_VALID","Plugin must be a function or a promise. Received: '%s'"),AVV_ERR_ROOT_PLG_BOOTED:createError("AVV_ERR_ROOT_PLG_BOOTED","Root plugin has already booted"),AVV_ERR_PARENT_PLG_LOADED:createError("AVV_ERR_PARENT_PLG_LOADED","Impossible to load '%s' plugin because the parent '%s' was already loaded"),AVV_ERR_READY_TIMEOUT:createError("AVV_ERR_READY_TIMEOUT","Plugin did not start in time: '%s'. You may have forgotten to call 'done' function or to resolve a Promise"),AVV_ERR_PLUGIN_EXEC_TIMEOUT:createError("AVV_ERR_PLUGIN_EXEC_TIMEOUT","Plugin did not start in time: '%s'. You may have forgotten to call 'done' function or to resolve a Promise")}}});var require_symbols=__commonJS({"../../../../node_modules/avvio/lib/symbols.js"(exports2,module2){"use strict";var kAvvio=Symbol("avvio.Boot"),kIsOnCloseHandler=Symbol("isOnCloseHandler"),kThenifyDoNotWrap=Symbol("avvio.ThenifyDoNotWrap"),kUntrackNode=Symbol("avvio.TimeTree.untrackNode"),kTrackNode=Symbol("avvio.TimeTree.trackNode"),kGetParent=Symbol("avvio.TimeTree.getParent"),kGetNode=Symbol("avvio.TimeTree.getNode"),kAddNode=Symbol("avvio.TimeTree.addNode"),kPluginMeta=Symbol.for("plugin-meta");module2.exports={kAvvio,kIsOnCloseHandler,kThenifyDoNotWrap,kUntrackNode,kTrackNode,kGetParent,kGetNode,kAddNode,kPluginMeta}}});var require_time_tree=__commonJS({"../../../../node_modules/avvio/lib/time-tree.js"(exports2,module2){"use strict";var{kUntrackNode,kTrackNode,kGetParent,kGetNode,kAddNode}=require_symbols(),TimeTree=class{constructor(){this.root=null,this.tableId=new Map,this.tableLabel=new Map}[kTrackNode](node){this.tableId.set(node.id,node),this.tableLabel.has(node.label)?this.tableLabel.get(node.label).push(node):this.tableLabel.set(node.label,[node])}[kUntrackNode](node){this.tableId.delete(node.id);let labelNode=this.tableLabel.get(node.label);labelNode.pop(),labelNode.length===0&&this.tableLabel.delete(node.label)}[kGetParent](parent){if(parent===null)return null;if(this.tableLabel.has(parent)){let parentNode=this.tableLabel.get(parent);return parentNode[parentNode.length-1]}else return null}[kGetNode](nodeId){return this.tableId.get(nodeId)}[kAddNode](parent,label,start){let parentNode=this[kGetParent](parent);if(parentNode===null)return this.root={parent:null,id:"root",label,nodes:[],start,stop:null,diff:-1},this[kTrackNode](this.root),this.root.id;let nodeId=`${label}-${Math.random()}`,childNode={parent,id:nodeId,label,nodes:[],start,stop:null,diff:-1};return parentNode.nodes.push(childNode),this[kTrackNode](childNode),nodeId}start(parent,label,start=Date.now()){return this[kAddNode](parent,label,start)}stop(nodeId,stop=Date.now()){let node=this[kGetNode](nodeId);node&&(node.stop=stop,node.diff=node.stop-node.start||0,this[kUntrackNode](node))}toJSON(){return Object.assign({},this.root)}prettyPrint(){return prettyPrintTimeTree(this.toJSON())}};function prettyPrintTimeTree(obj,prefix=""){let result=prefix,nodesCount=obj.nodes.length,lastIndex=nodesCount-1;result+=`${obj.label} ${obj.diff} ms
`;for(let i=0;i<nodesCount;++i){let node=obj.nodes[i],prefix_=prefix+(i===lastIndex?"  ":"\u2502 ");result+=prefix,result+=i===lastIndex?"\u2514\u2500":"\u251C\u2500",result+=node.nodes.length===0?"\u2500 ":"\u252C ",result+=prettyPrintTimeTree(node,prefix_).slice(prefix.length+2)}return result}module2.exports={TimeTree}}});var require_debug=__commonJS({"../../../../node_modules/avvio/lib/debug.js"(exports2,module2){"use strict";var{debuglog}=require("node:util"),debug=debuglog("avvio");module2.exports={debug}}});var require_create_promise=__commonJS({"../../../../node_modules/avvio/lib/create-promise.js"(exports2,module2){"use strict";function createPromise(){let obj={resolve:null,reject:null,promise:null};return obj.promise=new Promise((resolve,reject)=>{obj.resolve=resolve,obj.reject=reject}),obj}module2.exports={createPromise}}});var require_get_plugin_name=__commonJS({"../../../../node_modules/avvio/lib/get-plugin-name.js"(exports2,module2){"use strict";var{kPluginMeta}=require_symbols();function getPluginName(plugin2,options2){return plugin2[kPluginMeta]&&plugin2[kPluginMeta].name?plugin2[kPluginMeta].name:options2&&options2.name?options2.name:plugin2.name?plugin2.name:plugin2.toString().split(`
`).slice(0,2).map(s=>s.trim()).join(" -- ")}module2.exports={getPluginName}}});var require_is_promise_like=__commonJS({"../../../../node_modules/avvio/lib/is-promise-like.js"(exports2,module2){"use strict";function isPromiseLike(maybePromiseLike){return maybePromiseLike!==null&&typeof maybePromiseLike=="object"&&typeof maybePromiseLike.then=="function"}module2.exports={isPromiseLike}}});var require_plugin=__commonJS({"../../../../node_modules/avvio/lib/plugin.js"(exports2,module2){"use strict";var{EventEmitter}=require("node:events"),{inherits}=require("node:util"),{debug}=require_debug(),{createPromise}=require_create_promise(),{AVV_ERR_PLUGIN_EXEC_TIMEOUT}=require_errors(),{getPluginName}=require_get_plugin_name(),{isPromiseLike}=require_is_promise_like();function Plugin(queue,func,options2,isAfter,timeout){this.queue=queue,this.func=func,this.options=options2,this.isAfter=isAfter,this.timeout=timeout,this.started=!1,this.name=getPluginName(func,options2),this.queue.pause(),this._error=null,this.loaded=!1,this._promise=null,this.startTime=null}inherits(Plugin,EventEmitter);Plugin.prototype.exec=function(server,callback){debug("exec",this.name),this.server=server;let func=this.func,name=this.name,completed=!1;this.options=typeof this.options=="function"?this.options(this.server):this.options;let timer=null,done=execErr=>{if(completed){debug("loading complete",name);return}this._error=execErr,debug(execErr?"exec errored":"exec completed",name),completed=!0,timer&&clearTimeout(timer),callback(execErr)};this.timeout>0&&(debug("setting up timeout",name,this.timeout),timer=setTimeout(function(){debug("timed out",name),timer=null;let readyTimeoutErr=new AVV_ERR_PLUGIN_EXEC_TIMEOUT(name);readyTimeoutErr.fn=func,done(readyTimeoutErr)},this.timeout)),this.started=!0,this.startTime=Date.now(),this.emit("start",this.server?this.server.name:null,this.name,Date.now());let maybePromiseLike=func(this.server,this.options,done);isPromiseLike(maybePromiseLike)?(debug("exec: resolving promise",name),maybePromiseLike.then(()=>process.nextTick(done),e=>process.nextTick(done,e))):func.length<3&&done()};Plugin.prototype.loadedSoFar=function(){if(debug("loadedSoFar",this.name),this.loaded)return Promise.resolve();let setup=()=>{this.server.after((afterErr,callback)=>{this._error=afterErr,this.queue.pause(),this._promise&&(afterErr?(debug("rejecting promise",this.name,afterErr),this._promise.reject(afterErr)):(debug("resolving promise",this.name),this._promise.resolve()),this._promise=null),process.nextTick(callback,afterErr)}),this.queue.resume()},res;return this._promise?res=Promise.resolve():(this._promise=createPromise(),res=this._promise.promise,this.server?setup():this.on("start",setup)),res};Plugin.prototype.enqueue=function(plugin2,callback){debug("enqueue",this.name,plugin2.name),this.emit("enqueue",this.server?this.server.name:null,this.name,Date.now()),this.queue.push(plugin2,callback)};Plugin.prototype.finish=function(err,callback){debug("finish",this.name,err);let done=()=>{this.loaded||(debug("loaded",this.name),this.emit("loaded",this.server?this.server.name:null,this.name,Date.now()),this.loaded=!0,callback(err))};if(err){this._promise&&(this._promise.reject(err),this._promise=null),done();return}let check=()=>{if(debug("check",this.name,this.queue.length(),this.queue.running(),this._promise),this.queue.length()===0&&this.queue.running()===0)if(this._promise){let wrap=()=>{debug("wrap"),queueMicrotask(check)};this._promise.resolve(),this._promise.promise.then(wrap,wrap),this._promise=null}else done();else debug("delayed",this.name),this.queue.drain=()=>{debug("drain",this.name),this.queue.drain=noop,queueMicrotask(check)}};queueMicrotask(check),this.queue.resume()};function noop(){}module2.exports={Plugin}}});var require_validate_plugin=__commonJS({"../../../../node_modules/avvio/lib/validate-plugin.js"(exports2,module2){"use strict";var{AVV_ERR_PLUGIN_NOT_VALID}=require_errors();function validatePlugin(maybePlugin){if(!(maybePlugin&&(typeof maybePlugin=="function"||typeof maybePlugin.then=="function")))throw Array.isArray(maybePlugin)?new AVV_ERR_PLUGIN_NOT_VALID("array"):maybePlugin===null?new AVV_ERR_PLUGIN_NOT_VALID("null"):new AVV_ERR_PLUGIN_NOT_VALID(typeof maybePlugin)}module2.exports={validatePlugin}}});var require_is_bundled_or_typescript_plugin=__commonJS({"../../../../node_modules/avvio/lib/is-bundled-or-typescript-plugin.js"(exports2,module2){"use strict";function isBundledOrTypescriptPlugin(maybeBundledOrTypescriptPlugin){return maybeBundledOrTypescriptPlugin!==null&&typeof maybeBundledOrTypescriptPlugin=="object"&&typeof maybeBundledOrTypescriptPlugin.default=="function"}module2.exports={isBundledOrTypescriptPlugin}}});var require_thenify=__commonJS({"../../../../node_modules/avvio/lib/thenify.js"(exports2,module2){"use strict";var{debug}=require_debug(),{kThenifyDoNotWrap}=require_symbols();function thenify(){if(this.booted){debug("thenify returning undefined because we are already booted");return}if(this[kThenifyDoNotWrap]){this[kThenifyDoNotWrap]=!1;return}return debug("thenify"),(resolve,reject)=>this._loadRegistered().then(()=>(this[kThenifyDoNotWrap]=!0,resolve(this._server)),reject)}module2.exports={thenify}}});var require_execute_with_thenable=__commonJS({"../../../../node_modules/avvio/lib/execute-with-thenable.js"(exports2,module2){"use strict";var{isPromiseLike}=require_is_promise_like(),{kAvvio}=require_symbols();function executeWithThenable(func,args,callback){let result=func.apply(func,args);isPromiseLike(result)&&!result[kAvvio]?result.then(()=>process.nextTick(callback),error=>process.nextTick(callback,error)):callback&&process.nextTick(callback)}module2.exports={executeWithThenable}}});var require_boot=__commonJS({"../../../../node_modules/avvio/boot.js"(exports2,module2){"use strict";var fastq=require_queue(),EE=require("node:events").EventEmitter,inherits=require("node:util").inherits,{AVV_ERR_EXPOSE_ALREADY_DEFINED,AVV_ERR_CALLBACK_NOT_FN,AVV_ERR_ROOT_PLG_BOOTED,AVV_ERR_READY_TIMEOUT,AVV_ERR_ATTRIBUTE_ALREADY_DEFINED}=require_errors(),{kAvvio,kIsOnCloseHandler}=require_symbols(),{TimeTree}=require_time_tree(),{Plugin}=require_plugin(),{debug}=require_debug(),{validatePlugin}=require_validate_plugin(),{isBundledOrTypescriptPlugin}=require_is_bundled_or_typescript_plugin(),{isPromiseLike}=require_is_promise_like(),{thenify}=require_thenify(),{executeWithThenable}=require_execute_with_thenable();function Boot(server,opts,done){if(typeof server=="function"&&arguments.length===1&&(done=server,opts={},server=null),typeof opts=="function"&&(done=opts,opts={}),opts=opts||{},opts.autostart=opts.autostart!==!1,opts.timeout=Number(opts.timeout)||0,opts.expose=opts.expose||{},!new.target)return new Boot(server,opts,done);this._server=server||this,this._opts=opts,server&&this._expose(),this._current=[],this._error=null,this._lastUsed=null,this.setMaxListeners(0),done&&this.once("start",done),this.started=!1,this.booted=!1,this.pluginTree=new TimeTree,this._readyQ=fastq(this,callWithCbOrNextTick,1),this._readyQ.pause(),this._readyQ.drain=()=>{this.emit("start"),this._readyQ.drain=noop},this._closeQ=fastq(this,closeWithCbOrNextTick,1),this._closeQ.pause(),this._closeQ.drain=()=>{this.emit("close"),this._closeQ.drain=noop},this._doStart=null;let instance=this;this._root=new Plugin(fastq(this,this._loadPluginNextTick,1),function(server2,opts2,done2){instance._doStart=done2,opts2.autostart&&instance.start()},opts,!1,0),this._trackPluginLoading(this._root),this._loadPlugin(this._root,err=>{debug("root plugin ready");try{this.emit("preReady"),this._root=null}catch(preReadyError){err=err||this._error||preReadyError}if(err){if(this._error=err,this._readyQ.length()===0)throw err}else this.booted=!0;this._readyQ.resume()})}inherits(Boot,EE);Boot.prototype.start=function(){return this.started=!0,process.nextTick(this._doStart),this};Boot.prototype.override=function(server,func,opts){return server};Boot.prototype[kAvvio]=!0;Boot.prototype.use=function(plugin2,opts){return this._lastUsed=this._addPlugin(plugin2,opts,!1),this};Boot.prototype._loadRegistered=function(){let plugin2=this._current[0];return!this.started&&!this.booted&&process.nextTick(()=>this._root.queue.resume()),plugin2?plugin2.loadedSoFar():Promise.resolve()};Object.defineProperty(Boot.prototype,"then",{get:thenify});Boot.prototype._addPlugin=function(pluginFn,opts,isAfter){if(isBundledOrTypescriptPlugin(pluginFn)&&(pluginFn=pluginFn.default),validatePlugin(pluginFn),opts=opts||{},this.booted)throw new AVV_ERR_ROOT_PLG_BOOTED;let current=this._current[0],timeout=this._opts.timeout;if(!current.loaded&&current.timeout>0){let delta=Date.now()-current.startTime;timeout=current.timeout-(delta+3)}let plugin2=new Plugin(fastq(this,this._loadPluginNextTick,1),pluginFn,opts,isAfter,timeout);if(this._trackPluginLoading(plugin2),current.loaded)throw new Error(plugin2.name,current.name);return current.enqueue(plugin2,err=>{err&&(this._error=err)}),plugin2};Boot.prototype._expose=function(){let instance=this,server=instance._server,{use:useKey="use",after:afterKey="after",ready:readyKey="ready",onClose:onCloseKey="onClose",close:closeKey="close"}=this._opts.expose;if(server[useKey])throw new AVV_ERR_EXPOSE_ALREADY_DEFINED(useKey,"use");if(server[useKey]=function(fn,opts){return instance.use(fn,opts),this},server[afterKey])throw new AVV_ERR_EXPOSE_ALREADY_DEFINED(afterKey,"after");if(server[afterKey]=function(func){return typeof func!="function"?instance._loadRegistered():(instance.after(encapsulateThreeParam(func,this)),this)},server[readyKey])throw new AVV_ERR_EXPOSE_ALREADY_DEFINED(readyKey,"ready");if(server[readyKey]=function(func){if(func&&typeof func!="function")throw new AVV_ERR_CALLBACK_NOT_FN(readyKey,typeof func);return instance.ready(func?encapsulateThreeParam(func,this):void 0)},server[onCloseKey])throw new AVV_ERR_EXPOSE_ALREADY_DEFINED(onCloseKey,"onClose");if(server[onCloseKey]=function(func){if(typeof func!="function")throw new AVV_ERR_CALLBACK_NOT_FN(onCloseKey,typeof func);return instance.onClose(encapsulateTwoParam(func,this)),this},server[closeKey])throw new AVV_ERR_EXPOSE_ALREADY_DEFINED(closeKey,"close");if(server[closeKey]=function(func){if(func&&typeof func!="function")throw new AVV_ERR_CALLBACK_NOT_FN(closeKey,typeof func);return func?(instance.close(encapsulateThreeParam(func,this)),this):instance.close()},server.then)throw new AVV_ERR_ATTRIBUTE_ALREADY_DEFINED("then");Object.defineProperty(server,"then",{get:thenify.bind(instance)}),server[kAvvio]=!0};Boot.prototype.after=function(func){if(!func)return this._loadRegistered();this._addPlugin(_after.bind(this),{},!0);function _after(s,opts,done){callWithCbOrNextTick.call(this,func,done)}return this};Boot.prototype.onClose=function(func){if(typeof func!="function")throw new AVV_ERR_CALLBACK_NOT_FN("onClose",typeof func);return func[kIsOnCloseHandler]=!0,this._closeQ.unshift(func,err=>{err&&(this._error=err)}),this};Boot.prototype.close=function(func){let promise;if(func){if(typeof func!="function")throw new AVV_ERR_CALLBACK_NOT_FN("close",typeof func)}else promise=new Promise(function(resolve,reject){func=function(err){if(err)return reject(err);resolve()}});return this.ready(()=>{this._error=null,this._closeQ.push(func),process.nextTick(this._closeQ.resume.bind(this._closeQ))}),promise};Boot.prototype.ready=function(func){if(func){if(typeof func!="function")throw new AVV_ERR_CALLBACK_NOT_FN("ready",typeof func);this._readyQ.push(func),queueMicrotask(this.start.bind(this));return}return new Promise((resolve,reject)=>{this._readyQ.push(readyPromiseCB),this.start();let relativeContext=this._current[0].server;function readyPromiseCB(err,context,done){err?reject(err):resolve(relativeContext),process.nextTick(done)}})};Boot.prototype._trackPluginLoading=function(plugin2){let parentName=this._current[0]?.name||null;plugin2.once("start",(serverName,funcName,time)=>{let nodeId=this.pluginTree.start(parentName||null,funcName,time);plugin2.once("loaded",(serverName2,funcName2,time2)=>{this.pluginTree.stop(nodeId,time2)})})};Boot.prototype.prettyPrint=function(){return this.pluginTree.prettyPrint()};Boot.prototype.toJSON=function(){return this.pluginTree.toJSON()};Boot.prototype._loadPlugin=function(plugin2,callback){let instance=this;if(isPromiseLike(plugin2.func)){plugin2.func.then(fn=>{typeof fn.default=="function"&&(fn=fn.default),plugin2.func=fn,this._loadPlugin(plugin2,callback)},callback);return}let last=instance._current[0];if(instance._current.unshift(plugin2),instance._error&&!plugin2.isAfter){debug("skipping loading of plugin as instance errored and it is not an after",plugin2.name),process.nextTick(execCallback);return}let server=last&&last.server||instance._server;if(!plugin2.isAfter)try{server=instance.override(server,plugin2.func,plugin2.options)}catch(overrideErr){return debug("override errored",plugin2.name),execCallback(overrideErr)}plugin2.exec(server,execCallback);function execCallback(err){plugin2.finish(err,err2=>{instance._current.shift(),callback(err2)})}};Boot.prototype._loadPluginNextTick=function(plugin2,callback){process.nextTick(this._loadPlugin.bind(this),plugin2,callback)};function noop(){}function callWithCbOrNextTick(func,cb){let context=this._server,err=this._error;if(this._error=null,func.length===0)this._error=err,executeWithThenable(func,[],cb);else if(func.length===1)executeWithThenable(func,[err],cb);else if(this._opts.timeout===0){let wrapCb=err2=>{this._error=err2,cb(this._error)};func.length===2?func(err,wrapCb):func(err,context,wrapCb)}else timeoutCall.call(this,func,err,context,cb)}function timeoutCall(func,rootErr,context,cb){let name=func.unwrappedName??func.name;debug("setting up ready timeout",name,this._opts.timeout);let timer=setTimeout(()=>{debug("timed out",name),timer=null;let toutErr=new AVV_ERR_READY_TIMEOUT(name);toutErr.fn=func,this._error=toutErr,cb(toutErr)},this._opts.timeout);func.length===2?func(rootErr,timeoutCb.bind(this)):func(rootErr,context,timeoutCb.bind(this));function timeoutCb(err){timer&&(clearTimeout(timer),this._error=err,cb(this._error))}}function closeWithCbOrNextTick(func,cb){let context=this._server,isOnCloseHandler=func[kIsOnCloseHandler];if(func.length===0||func.length===1){let promise;isOnCloseHandler?promise=func(context):promise=func(this._error),promise&&typeof promise.then=="function"?(debug("resolving close/onClose promise"),promise.then(()=>process.nextTick(cb),e=>process.nextTick(cb,e))):process.nextTick(cb)}else func.length===2?func(isOnCloseHandler?context:this._error,cb):isOnCloseHandler?func(context,cb):func(this._error,context,cb)}function encapsulateTwoParam(func,that){return _encapsulateTwoParam.bind(that);function _encapsulateTwoParam(context,cb){let res;func.length===0?(res=func(),res&&res.then?res.then(function(){process.nextTick(cb)},cb):process.nextTick(cb)):func.length===1?(res=func(this),res&&res.then?res.then(function(){process.nextTick(cb)},cb):process.nextTick(cb)):func(this,cb)}}function encapsulateThreeParam(func,that){let wrapped=_encapsulateThreeParam.bind(that);return wrapped.unwrappedName=func.name,wrapped;function _encapsulateThreeParam(err,cb){let res;func?func.length===0?(res=func(),res&&res.then?res.then(function(){process.nextTick(cb,err)},cb):process.nextTick(cb,err)):func.length===1?(res=func(err),res&&res.then?res.then(function(){process.nextTick(cb)},cb):process.nextTick(cb)):func.length===2?func(err,cb):func(err,this,cb):process.nextTick(cb)}}module2.exports=Boot}});var require_symbols2=__commonJS({"../../../../node_modules/fastify/lib/symbols.js"(exports2,module2){"use strict";var keys2={kAvvioBoot:Symbol("fastify.avvioBoot"),kChildren:Symbol("fastify.children"),kServerBindings:Symbol("fastify.serverBindings"),kBodyLimit:Symbol("fastify.bodyLimit"),kSupportedHTTPMethods:Symbol("fastify.acceptedHTTPMethods"),kRoutePrefix:Symbol("fastify.routePrefix"),kLogLevel:Symbol("fastify.logLevel"),kLogSerializers:Symbol("fastify.logSerializers"),kHooks:Symbol("fastify.hooks"),kContentTypeParser:Symbol("fastify.contentTypeParser"),kState:Symbol("fastify.state"),kOptions:Symbol("fastify.options"),kDisableRequestLogging:Symbol("fastify.disableRequestLogging"),kPluginNameChain:Symbol("fastify.pluginNameChain"),kRouteContext:Symbol("fastify.context"),kGenReqId:Symbol("fastify.genReqId"),kHttp2ServerSessions:Symbol("fastify.http2ServerSessions"),kSchemaController:Symbol("fastify.schemaController"),kSchemaHeaders:Symbol("headers-schema"),kSchemaParams:Symbol("params-schema"),kSchemaQuerystring:Symbol("querystring-schema"),kSchemaBody:Symbol("body-schema"),kSchemaResponse:Symbol("response-schema"),kSchemaErrorFormatter:Symbol("fastify.schemaErrorFormatter"),kSchemaVisited:Symbol("fastify.schemas.visited"),kRequest:Symbol("fastify.Request"),kRequestPayloadStream:Symbol("fastify.RequestPayloadStream"),kRequestAcceptVersion:Symbol("fastify.RequestAcceptVersion"),kRequestCacheValidateFns:Symbol("fastify.request.cache.validateFns"),kRequestOriginalUrl:Symbol("fastify.request.originalUrl"),kFourOhFour:Symbol("fastify.404"),kCanSetNotFoundHandler:Symbol("fastify.canSetNotFoundHandler"),kFourOhFourLevelInstance:Symbol("fastify.404LogLevelInstance"),kFourOhFourContext:Symbol("fastify.404ContextKey"),kDefaultJsonParse:Symbol("fastify.defaultJSONParse"),kReply:Symbol("fastify.Reply"),kReplySerializer:Symbol("fastify.reply.serializer"),kReplyIsError:Symbol("fastify.reply.isError"),kReplyHeaders:Symbol("fastify.reply.headers"),kReplyTrailers:Symbol("fastify.reply.trailers"),kReplyHasStatusCode:Symbol("fastify.reply.hasStatusCode"),kReplyHijacked:Symbol("fastify.reply.hijacked"),kReplyStartTime:Symbol("fastify.reply.startTime"),kReplyNextErrorHandler:Symbol("fastify.reply.nextErrorHandler"),kReplyEndTime:Symbol("fastify.reply.endTime"),kReplyErrorHandlerCalled:Symbol("fastify.reply.errorHandlerCalled"),kReplyIsRunningOnErrorHook:Symbol("fastify.reply.isRunningOnErrorHook"),kReplySerializerDefault:Symbol("fastify.replySerializerDefault"),kReplyCacheSerializeFns:Symbol("fastify.reply.cache.serializeFns"),kTestInternals:Symbol("fastify.testInternals"),kErrorHandler:Symbol("fastify.errorHandler"),kErrorHandlerAlreadySet:Symbol("fastify.errorHandlerAlreadySet"),kChildLoggerFactory:Symbol("fastify.childLoggerFactory"),kHasBeenDecorated:Symbol("fastify.hasBeenDecorated"),kKeepAliveConnections:Symbol("fastify.keepAliveConnections"),kRouteByFastify:Symbol("fastify.routeByFastify")};module2.exports=keys2}});var require_process_warning=__commonJS({"../../../../node_modules/process-warning/index.js"(exports2,module2){"use strict";var{format:format2}=require("node:util");function createDeprecation(params){return createWarning({...params,name:"DeprecationWarning"})}function createWarning({name,code:code2,message,unlimited=!1}={}){if(!name)throw new Error("Warning name must not be empty");if(!code2)throw new Error("Warning code must not be empty");if(!message)throw new Error("Warning message must not be empty");if(typeof unlimited!="boolean")throw new Error("Warning opts.unlimited must be a boolean");code2=code2.toUpperCase();let warningContainer={[name]:function(a,b,c){warning.emitted===!0&&warning.unlimited!==!0||(warning.emitted=!0,process.emitWarning(warning.format(a,b,c),warning.name,warning.code))}};unlimited&&(warningContainer={[name]:function(a,b,c){warning.emitted=!0,process.emitWarning(warning.format(a,b,c),warning.name,warning.code)}});let warning=warningContainer[name];return warning.emitted=!1,warning.message=message,warning.unlimited=unlimited,warning.code=code2,warning.format=function(a,b,c){let formatted;return a&&b&&c?formatted=format2(message,a,b,c):a&&b?formatted=format2(message,a,b):a?formatted=format2(message,a):formatted=message,formatted},warning}var out={createWarning,createDeprecation};module2.exports=out;module2.exports.default=out;module2.exports.processWarning=out}});var require_warnings=__commonJS({"../../../../node_modules/fastify/lib/warnings.js"(exports2,module2){"use strict";var{createWarning}=require_process_warning(),FSTWRN001=createWarning({name:"FastifyWarning",code:"FSTWRN001",message:"The %s schema for %s: %s is missing. This may indicate the schema is not well specified.",unlimited:!0}),FSTWRN003=createWarning({name:"FastifyWarning",code:"FSTWRN003",message:"The %s mixes async and callback styles that may lead to unhandled rejections. Please use only one of them.",unlimited:!0}),FSTWRN004=createWarning({name:"FastifyWarning",code:"FSTWRN004",message:"It seems that you are overriding an errorHandler in the same scope, which can lead to subtle bugs.",unlimited:!0}),FSTSEC001=createWarning({name:"FastifySecurity",code:"FSTSEC001",message:'You are using /%s/ Content-Type which may be vulnerable to CORS attack. Please make sure your RegExp start with "^" or include ";?" to proper detection of the essence MIME type.',unlimited:!0}),FSTDEP022=createWarning({name:"FastifyWarning",code:"FSTDEP022",message:'The router options for %s property access is deprecated. Please use "options.routerOptions" instead for accessing router options. The router options will be removed in `fastify@6`.',unlimited:!0});module2.exports={FSTWRN001,FSTWRN003,FSTWRN004,FSTSEC001,FSTDEP022}}});var require_errors2=__commonJS({"../../../../node_modules/fastify/lib/errors.js"(exports2,module2){"use strict";var createError=require_error(),codes={FST_ERR_NOT_FOUND:createError("FST_ERR_NOT_FOUND","Not Found",404),FST_ERR_OPTIONS_NOT_OBJ:createError("FST_ERR_OPTIONS_NOT_OBJ","Options must be an object",500,TypeError),FST_ERR_QSP_NOT_FN:createError("FST_ERR_QSP_NOT_FN","querystringParser option should be a function, instead got '%s'",500,TypeError),FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN:createError("FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN","schemaController.bucket option should be a function, instead got '%s'",500,TypeError),FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN:createError("FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN","schemaErrorFormatter option should be a non async function. Instead got '%s'.",500,TypeError),FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ:createError("FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ","ajv.customOptions option should be an object, instead got '%s'",500,TypeError),FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR:createError("FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR","ajv.plugins option should be an array, instead got '%s'",500,TypeError),FST_ERR_VALIDATION:createError("FST_ERR_VALIDATION","%s",400),FST_ERR_LISTEN_OPTIONS_INVALID:createError("FST_ERR_LISTEN_OPTIONS_INVALID","Invalid listen options: '%s'",500,TypeError),FST_ERR_ERROR_HANDLER_NOT_FN:createError("FST_ERR_ERROR_HANDLER_NOT_FN","Error Handler must be a function",500,TypeError),FST_ERR_ERROR_HANDLER_ALREADY_SET:createError("FST_ERR_ERROR_HANDLER_ALREADY_SET","Error Handler already set in this scope. Set 'allowErrorHandlerOverride: true' to allow overriding.",500,TypeError),FST_ERR_CTP_ALREADY_PRESENT:createError("FST_ERR_CTP_ALREADY_PRESENT","Content type parser '%s' already present."),FST_ERR_CTP_INVALID_TYPE:createError("FST_ERR_CTP_INVALID_TYPE","The content type should be a string or a RegExp",500,TypeError),FST_ERR_CTP_EMPTY_TYPE:createError("FST_ERR_CTP_EMPTY_TYPE","The content type cannot be an empty string",500,TypeError),FST_ERR_CTP_INVALID_HANDLER:createError("FST_ERR_CTP_INVALID_HANDLER","The content type handler should be a function",500,TypeError),FST_ERR_CTP_INVALID_PARSE_TYPE:createError("FST_ERR_CTP_INVALID_PARSE_TYPE","The body parser can only parse your data as 'string' or 'buffer', you asked '%s' which is not supported.",500,TypeError),FST_ERR_CTP_BODY_TOO_LARGE:createError("FST_ERR_CTP_BODY_TOO_LARGE","Request body is too large",413,RangeError),FST_ERR_CTP_INVALID_MEDIA_TYPE:createError("FST_ERR_CTP_INVALID_MEDIA_TYPE","Unsupported Media Type: %s",415),FST_ERR_CTP_INVALID_CONTENT_LENGTH:createError("FST_ERR_CTP_INVALID_CONTENT_LENGTH","Request body size did not match Content-Length",400,RangeError),FST_ERR_CTP_EMPTY_JSON_BODY:createError("FST_ERR_CTP_EMPTY_JSON_BODY","Body cannot be empty when content-type is set to 'application/json'",400),FST_ERR_CTP_INVALID_JSON_BODY:createError("FST_ERR_CTP_INVALID_JSON_BODY","Body is not valid JSON but content-type is set to 'application/json'",400),FST_ERR_CTP_INSTANCE_ALREADY_STARTED:createError("FST_ERR_CTP_INSTANCE_ALREADY_STARTED",'Cannot call "%s" when fastify instance is already started!',400),FST_ERR_DEC_ALREADY_PRESENT:createError("FST_ERR_DEC_ALREADY_PRESENT","The decorator '%s' has already been added!"),FST_ERR_DEC_DEPENDENCY_INVALID_TYPE:createError("FST_ERR_DEC_DEPENDENCY_INVALID_TYPE","The dependencies of decorator '%s' must be of type Array.",500,TypeError),FST_ERR_DEC_MISSING_DEPENDENCY:createError("FST_ERR_DEC_MISSING_DEPENDENCY","The decorator is missing dependency '%s'."),FST_ERR_DEC_AFTER_START:createError("FST_ERR_DEC_AFTER_START","The decorator '%s' has been added after start!"),FST_ERR_DEC_REFERENCE_TYPE:createError("FST_ERR_DEC_REFERENCE_TYPE","The decorator '%s' of type '%s' is a reference type. Use the { getter, setter } interface instead."),FST_ERR_DEC_UNDECLARED:createError("FST_ERR_DEC_UNDECLARED","No decorator '%s' has been declared on %s."),FST_ERR_HOOK_INVALID_TYPE:createError("FST_ERR_HOOK_INVALID_TYPE","The hook name must be a string",500,TypeError),FST_ERR_HOOK_INVALID_HANDLER:createError("FST_ERR_HOOK_INVALID_HANDLER","%s hook should be a function, instead got %s",500,TypeError),FST_ERR_HOOK_INVALID_ASYNC_HANDLER:createError("FST_ERR_HOOK_INVALID_ASYNC_HANDLER","Async function has too many arguments. Async hooks should not use the 'done' argument.",500,TypeError),FST_ERR_HOOK_NOT_SUPPORTED:createError("FST_ERR_HOOK_NOT_SUPPORTED","%s hook not supported!",500,TypeError),FST_ERR_MISSING_MIDDLEWARE:createError("FST_ERR_MISSING_MIDDLEWARE","You must register a plugin for handling middlewares, visit fastify.dev/docs/latest/Reference/Middleware/ for more info.",500),FST_ERR_HOOK_TIMEOUT:createError("FST_ERR_HOOK_TIMEOUT","A callback for '%s' hook%s timed out. You may have forgotten to call 'done' function or to resolve a Promise"),FST_ERR_LOG_INVALID_DESTINATION:createError("FST_ERR_LOG_INVALID_DESTINATION","Cannot specify both logger.stream and logger.file options"),FST_ERR_LOG_INVALID_LOGGER:createError("FST_ERR_LOG_INVALID_LOGGER","Invalid logger object provided. The logger instance should have these functions(s): '%s'.",500,TypeError),FST_ERR_LOG_INVALID_LOGGER_INSTANCE:createError("FST_ERR_LOG_INVALID_LOGGER_INSTANCE","loggerInstance only accepts a logger instance.",500,TypeError),FST_ERR_LOG_INVALID_LOGGER_CONFIG:createError("FST_ERR_LOG_INVALID_LOGGER_CONFIG","logger options only accepts a configuration object.",500,TypeError),FST_ERR_LOG_LOGGER_AND_LOGGER_INSTANCE_PROVIDED:createError("FST_ERR_LOG_LOGGER_AND_LOGGER_INSTANCE_PROVIDED","You cannot provide both logger and loggerInstance. Please provide only one.",500,TypeError),FST_ERR_REP_INVALID_PAYLOAD_TYPE:createError("FST_ERR_REP_INVALID_PAYLOAD_TYPE","Attempted to send payload of invalid type '%s'. Expected a string or Buffer.",500,TypeError),FST_ERR_REP_RESPONSE_BODY_CONSUMED:createError("FST_ERR_REP_RESPONSE_BODY_CONSUMED","Response.body is already consumed."),FST_ERR_REP_READABLE_STREAM_LOCKED:createError("FST_ERR_REP_READABLE_STREAM_LOCKED","ReadableStream was locked. You should call releaseLock() method on reader before sending."),FST_ERR_REP_ALREADY_SENT:createError("FST_ERR_REP_ALREADY_SENT",'Reply was already sent, did you forget to "return reply" in "%s" (%s)?'),FST_ERR_REP_SENT_VALUE:createError("FST_ERR_REP_SENT_VALUE","The only possible value for reply.sent is true.",500,TypeError),FST_ERR_SEND_INSIDE_ONERR:createError("FST_ERR_SEND_INSIDE_ONERR","You cannot use `send` inside the `onError` hook"),FST_ERR_SEND_UNDEFINED_ERR:createError("FST_ERR_SEND_UNDEFINED_ERR","Undefined error has occurred"),FST_ERR_BAD_STATUS_CODE:createError("FST_ERR_BAD_STATUS_CODE","Called reply with an invalid status code: %s"),FST_ERR_BAD_TRAILER_NAME:createError("FST_ERR_BAD_TRAILER_NAME","Called reply.trailer with an invalid header name: %s"),FST_ERR_BAD_TRAILER_VALUE:createError("FST_ERR_BAD_TRAILER_VALUE","Called reply.trailer('%s', fn) with an invalid type: %s. Expected a function."),FST_ERR_FAILED_ERROR_SERIALIZATION:createError("FST_ERR_FAILED_ERROR_SERIALIZATION","Failed to serialize an error. Error: %s. Original error: %s"),FST_ERR_MISSING_SERIALIZATION_FN:createError("FST_ERR_MISSING_SERIALIZATION_FN",'Missing serialization function. Key "%s"'),FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN:createError("FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN",'Missing serialization function. Key "%s:%s"'),FST_ERR_REQ_INVALID_VALIDATION_INVOCATION:createError("FST_ERR_REQ_INVALID_VALIDATION_INVOCATION",'Invalid validation invocation. Missing validation function for HTTP part "%s" nor schema provided.'),FST_ERR_SCH_MISSING_ID:createError("FST_ERR_SCH_MISSING_ID","Missing schema $id property"),FST_ERR_SCH_ALREADY_PRESENT:createError("FST_ERR_SCH_ALREADY_PRESENT","Schema with id '%s' already declared!"),FST_ERR_SCH_CONTENT_MISSING_SCHEMA:createError("FST_ERR_SCH_CONTENT_MISSING_SCHEMA","Schema is missing for the content type '%s'"),FST_ERR_SCH_DUPLICATE:createError("FST_ERR_SCH_DUPLICATE","Schema with '%s' already present!"),FST_ERR_SCH_VALIDATION_BUILD:createError("FST_ERR_SCH_VALIDATION_BUILD","Failed building the validation schema for %s: %s, due to error %s"),FST_ERR_SCH_SERIALIZATION_BUILD:createError("FST_ERR_SCH_SERIALIZATION_BUILD","Failed building the serialization schema for %s: %s, due to error %s"),FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX:createError("FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX",'response schemas should be nested under a valid status code, e.g { 2xx: { type: "object" } }'),FST_ERR_INIT_OPTS_INVALID:createError("FST_ERR_INIT_OPTS_INVALID","Invalid initialization options: '%s'"),FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE:createError("FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE","Cannot set forceCloseConnections to 'idle' as your HTTP server does not support closeIdleConnections method"),FST_ERR_DUPLICATED_ROUTE:createError("FST_ERR_DUPLICATED_ROUTE","Method '%s' already declared for route '%s'"),FST_ERR_BAD_URL:createError("FST_ERR_BAD_URL","'%s' is not a valid url component",400,URIError),FST_ERR_ASYNC_CONSTRAINT:createError("FST_ERR_ASYNC_CONSTRAINT","Unexpected error from async constraint",500),FST_ERR_INVALID_URL:createError("FST_ERR_INVALID_URL","URL must be a string. Received '%s'",400,TypeError),FST_ERR_ROUTE_OPTIONS_NOT_OBJ:createError("FST_ERR_ROUTE_OPTIONS_NOT_OBJ",'Options for "%s:%s" route must be an object',500,TypeError),FST_ERR_ROUTE_DUPLICATED_HANDLER:createError("FST_ERR_ROUTE_DUPLICATED_HANDLER",'Duplicate handler for "%s:%s" route is not allowed!',500),FST_ERR_ROUTE_HANDLER_NOT_FN:createError("FST_ERR_ROUTE_HANDLER_NOT_FN","Error Handler for %s:%s route, if defined, must be a function",500,TypeError),FST_ERR_ROUTE_MISSING_HANDLER:createError("FST_ERR_ROUTE_MISSING_HANDLER",'Missing handler function for "%s:%s" route.',500),FST_ERR_ROUTE_METHOD_INVALID:createError("FST_ERR_ROUTE_METHOD_INVALID","Provided method is invalid!",500,TypeError),FST_ERR_ROUTE_METHOD_NOT_SUPPORTED:createError("FST_ERR_ROUTE_METHOD_NOT_SUPPORTED","%s method is not supported.",500),FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED:createError("FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED","Body validation schema for %s:%s route is not supported!",500),FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT:createError("FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT","'bodyLimit' option must be an integer > 0. Got '%s'",500,TypeError),FST_ERR_ROUTE_REWRITE_NOT_STR:createError("FST_ERR_ROUTE_REWRITE_NOT_STR",'Rewrite url for "%s" needs to be of type "string" but received "%s"',500,TypeError),FST_ERR_REOPENED_CLOSE_SERVER:createError("FST_ERR_REOPENED_CLOSE_SERVER","Fastify has already been closed and cannot be reopened"),FST_ERR_REOPENED_SERVER:createError("FST_ERR_REOPENED_SERVER","Fastify is already listening"),FST_ERR_INSTANCE_ALREADY_LISTENING:createError("FST_ERR_INSTANCE_ALREADY_LISTENING","Fastify instance is already listening. %s"),FST_ERR_PLUGIN_VERSION_MISMATCH:createError("FST_ERR_PLUGIN_VERSION_MISMATCH","fastify-plugin: %s - expected '%s' fastify version, '%s' is installed"),FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE:createError("FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE","The decorator '%s'%s is not present in %s"),FST_ERR_PLUGIN_INVALID_ASYNC_HANDLER:createError("FST_ERR_PLUGIN_INVALID_ASYNC_HANDLER","The %s plugin being registered mixes async and callback styles. Async plugin should not mix async and callback style.",500,TypeError),FST_ERR_PLUGIN_CALLBACK_NOT_FN:createError("FST_ERR_PLUGIN_CALLBACK_NOT_FN","fastify-plugin: %s",500,TypeError),FST_ERR_PLUGIN_NOT_VALID:createError("FST_ERR_PLUGIN_NOT_VALID","fastify-plugin: %s"),FST_ERR_ROOT_PLG_BOOTED:createError("FST_ERR_ROOT_PLG_BOOTED","fastify-plugin: %s"),FST_ERR_PARENT_PLUGIN_BOOTED:createError("FST_ERR_PARENT_PLUGIN_BOOTED","fastify-plugin: %s"),FST_ERR_PLUGIN_TIMEOUT:createError("FST_ERR_PLUGIN_TIMEOUT","fastify-plugin: %s")};function appendStackTrace(oldErr,newErr){return newErr.cause=oldErr,newErr}module2.exports=codes;module2.exports.appendStackTrace=appendStackTrace;module2.exports.AVVIO_ERRORS_MAP={AVV_ERR_CALLBACK_NOT_FN:codes.FST_ERR_PLUGIN_CALLBACK_NOT_FN,AVV_ERR_PLUGIN_NOT_VALID:codes.FST_ERR_PLUGIN_NOT_VALID,AVV_ERR_ROOT_PLG_BOOTED:codes.FST_ERR_ROOT_PLG_BOOTED,AVV_ERR_PARENT_PLG_LOADED:codes.FST_ERR_PARENT_PLUGIN_BOOTED,AVV_ERR_READY_TIMEOUT:codes.FST_ERR_PLUGIN_TIMEOUT,AVV_ERR_PLUGIN_EXEC_TIMEOUT:codes.FST_ERR_PLUGIN_TIMEOUT}}});var require_hooks=__commonJS({"../../../../node_modules/fastify/lib/hooks.js"(exports2,module2){"use strict";var applicationHooks=["onRoute","onRegister","onReady","onListen","preClose","onClose"],lifecycleHooks=["onTimeout","onRequest","preParsing","preValidation","preSerialization","preHandler","onSend","onResponse","onError","onRequestAbort"],supportedHooks=lifecycleHooks.concat(applicationHooks),{FST_ERR_HOOK_INVALID_TYPE,FST_ERR_HOOK_INVALID_HANDLER,FST_ERR_SEND_UNDEFINED_ERR,FST_ERR_HOOK_TIMEOUT,FST_ERR_HOOK_NOT_SUPPORTED,AVVIO_ERRORS_MAP,appendStackTrace}=require_errors2(),{kChildren,kHooks,kRequestPayloadStream}=require_symbols2();function Hooks(){this.onRequest=[],this.preParsing=[],this.preValidation=[],this.preSerialization=[],this.preHandler=[],this.onResponse=[],this.onSend=[],this.onError=[],this.onRoute=[],this.onRegister=[],this.onReady=[],this.onListen=[],this.onTimeout=[],this.onRequestAbort=[],this.preClose=[]}Hooks.prototype=Object.create(null);Hooks.prototype.validate=function(hook,fn){if(typeof hook!="string")throw new FST_ERR_HOOK_INVALID_TYPE;if(Array.isArray(this[hook])===!1)throw new FST_ERR_HOOK_NOT_SUPPORTED(hook);if(typeof fn!="function")throw new FST_ERR_HOOK_INVALID_HANDLER(hook,Object.prototype.toString.call(fn))};Hooks.prototype.add=function(hook,fn){this.validate(hook,fn),this[hook].push(fn)};function buildHooks(h){let hooks=new Hooks;return hooks.onRequest=h.onRequest.slice(),hooks.preParsing=h.preParsing.slice(),hooks.preValidation=h.preValidation.slice(),hooks.preSerialization=h.preSerialization.slice(),hooks.preHandler=h.preHandler.slice(),hooks.onSend=h.onSend.slice(),hooks.onResponse=h.onResponse.slice(),hooks.onError=h.onError.slice(),hooks.onRoute=h.onRoute.slice(),hooks.onRegister=h.onRegister.slice(),hooks.onTimeout=h.onTimeout.slice(),hooks.onRequestAbort=h.onRequestAbort.slice(),hooks.onReady=[],hooks.onListen=[],hooks.preClose=[],hooks}function hookRunnerApplication(hookName,boot2,server,cb){let hooks=server[kHooks][hookName],i=0,c=0;next();function exit(err){let hookFnName=hooks[i-1]?.name,hookFnFragment=hookFnName?` "${hookFnName}"`:"";if(err){err.code==="AVV_ERR_READY_TIMEOUT"?err=appendStackTrace(err,new FST_ERR_HOOK_TIMEOUT(hookName,hookFnFragment)):err=AVVIO_ERRORS_MAP[err.code]!=null?appendStackTrace(err,new AVVIO_ERRORS_MAP[err.code](err.message)):err,cb(err);return}cb()}function next(err){if(err){exit(err);return}if(i===hooks.length&&c===server[kChildren].length){i===0&&c===0?exit():boot2(function(err2,done){exit(err2),done(err2)});return}if(i===hooks.length&&c<server[kChildren].length){let child=server[kChildren][c++];hookRunnerApplication(hookName,boot2,child,next);return}boot2(wrap(hooks[i++],server)),next()}function wrap(fn,server2){return function(err,done){if(err){done(err);return}if(fn.length===1){try{fn.call(server2,done)}catch(error){done(error)}return}try{let ret=fn.call(server2);if(ret&&typeof ret.then=="function"){ret.then(done,done);return}}catch(error){err=error}done(err)}}}function onListenHookRunner(server){let hooks=server[kHooks].onListen,hooksLen=hooks.length,i=0,c=0;next();function next(err){if(err&&server.log.error(err),i===hooksLen){for(;c<server[kChildren].length;){let child=server[kChildren][c++];onListenHookRunner(child)}return}wrap(hooks[i++],server,next)}async function wrap(fn,server2,done){if(fn.length===1){try{fn.call(server2,done)}catch(e){done(e)}return}try{let ret=fn.call(server2);if(ret&&typeof ret.then=="function"){ret.then(done,done);return}done()}catch(error){done(error)}}}function hookRunnerGenerator(iterator){return function(functions,request2,reply,cb){let i=0;function next(err){if(err||i===functions.length){cb(err,request2,reply);return}let result;try{result=iterator(functions[i++],request2,reply,next)}catch(error){cb(error,request2,reply);return}result&&typeof result.then=="function"&&result.then(handleResolve,handleReject)}function handleResolve(){next()}function handleReject(err){err||(err=new FST_ERR_SEND_UNDEFINED_ERR),cb(err,request2,reply)}next()}}function onResponseHookIterator(fn,request2,reply,next){return fn(request2,reply,next)}var onResponseHookRunner=hookRunnerGenerator(onResponseHookIterator),preValidationHookRunner=hookRunnerGenerator(hookIterator),preHandlerHookRunner=hookRunnerGenerator(hookIterator),onTimeoutHookRunner=hookRunnerGenerator(hookIterator),onRequestHookRunner=hookRunnerGenerator(hookIterator);function onSendHookRunner(functions,request2,reply,payload,cb){let i=0;function next(err,newPayload){if(err){cb(err,request2,reply,payload);return}if(newPayload!==void 0&&(payload=newPayload),i===functions.length){cb(null,request2,reply,payload);return}let result;try{result=functions[i++](request2,reply,payload,next)}catch(error){cb(error,request2,reply);return}result&&typeof result.then=="function"&&result.then(handleResolve,handleReject)}function handleResolve(newPayload){next(null,newPayload)}function handleReject(err){err||(err=new FST_ERR_SEND_UNDEFINED_ERR),cb(err,request2,reply,payload)}next()}var preSerializationHookRunner=onSendHookRunner;function preParsingHookRunner(functions,request2,reply,cb){let i=0;function next(err,newPayload){if(reply.sent)return;if(newPayload!==void 0&&(request2[kRequestPayloadStream]=newPayload),err||i===functions.length){cb(err,request2,reply);return}let result;try{result=functions[i++](request2,reply,request2[kRequestPayloadStream],next)}catch(error){cb(error,request2,reply);return}result&&typeof result.then=="function"&&result.then(handleResolve,handleReject)}function handleResolve(newPayload){next(null,newPayload)}function handleReject(err){err||(err=new FST_ERR_SEND_UNDEFINED_ERR),cb(err,request2,reply)}next()}function onRequestAbortHookRunner(functions,request2,cb){let i=0;function next(err){if(err||i===functions.length){cb(err,request2);return}let result;try{result=functions[i++](request2,next)}catch(error){cb(error,request2);return}result&&typeof result.then=="function"&&result.then(handleResolve,handleReject)}function handleResolve(){next()}function handleReject(err){err||(err=new FST_ERR_SEND_UNDEFINED_ERR),cb(err,request2)}next()}function hookIterator(fn,request2,reply,next){if(reply.sent!==!0)return fn(request2,reply,next)}module2.exports={Hooks,buildHooks,hookRunnerGenerator,preParsingHookRunner,onResponseHookRunner,onSendHookRunner,preSerializationHookRunner,onRequestAbortHookRunner,hookIterator,hookRunnerApplication,onListenHookRunner,preHandlerHookRunner,preValidationHookRunner,onRequestHookRunner,onTimeoutHookRunner,lifecycleHooks,supportedHooks}}});var require_noop_set=__commonJS({"../../../../node_modules/fastify/lib/noop-set.js"(exports2,module2){"use strict";module2.exports=function(){return{[Symbol.iterator]:function*(){},add(){},delete(){},has(){return!0}}}}});var require_promise=__commonJS({"../../../../node_modules/fastify/lib/promise.js"(exports2,module2){"use strict";var{kTestInternals}=require_symbols2();function withResolvers(){let res,rej;return{promise:new Promise((resolve,reject)=>{res=resolve,rej=reject}),resolve:res,reject:rej}}module2.exports={withResolvers:typeof Promise.withResolvers=="function"?Promise.withResolvers.bind(Promise):withResolvers,[kTestInternals]:{withResolvers}}}});var require_server=__commonJS({"../../../../node_modules/fastify/lib/server.js"(exports2,module2){"use strict";var http=require("node:http"),https=require("node:https"),http2=require("node:http2"),dns=require("node:dns"),os=require("node:os"),{kState,kOptions,kServerBindings,kHttp2ServerSessions}=require_symbols2(),{FSTWRN003}=require_warnings(),{onListenHookRunner}=require_hooks(),{FST_ERR_REOPENED_CLOSE_SERVER,FST_ERR_REOPENED_SERVER,FST_ERR_LISTEN_OPTIONS_INVALID,FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE}=require_errors2(),noopSet=require_noop_set(),PonyPromise=require_promise();module2.exports.createServer=createServer;function defaultResolveServerListeningText(address){return`Server listening at ${address}`}function createServer(options2,httpHandler){let server=getServerInstance(options2,httpHandler);function listen(listenOptions={port:0,host:"localhost"},cb=void 0){if(typeof cb=="function"&&(cb.constructor.name==="AsyncFunction"&&FSTWRN003("listen method"),listenOptions.cb=cb),listenOptions.signal){if(typeof listenOptions.signal.on!="function"&&typeof listenOptions.signal.addEventListener!="function")throw new FST_ERR_LISTEN_OPTIONS_INVALID("Invalid options.signal");if(this[kState].aborted=listenOptions.signal.aborted,this[kState].aborted)return this.close();{let onAborted=()=>{this[kState].aborted=!0,this.close()};listenOptions.signal.addEventListener("abort",onAborted,{once:!0})}}let host;if(listenOptions.path==null?host=listenOptions.host??"localhost":host=listenOptions.host,(!Object.hasOwn(listenOptions,"host")||listenOptions.host==null)&&(listenOptions.host=host),host==="localhost"?listenOptions.cb=(err,address)=>{if(err){cb(err,address);return}multipleBindings.call(this,server,httpHandler,options2,listenOptions,()=>{this[kState].listening=!0,cb(null,address),onListenHookRunner(this)})}:listenOptions.cb=(err,address)=>{if(err){cb(err,address);return}this[kState].listening=!0,cb(null,address),onListenHookRunner(this)},cb===void 0)return listenPromise.call(this,server,listenOptions).then(address=>{let{promise,resolve}=PonyPromise.withResolvers();return host==="localhost"?multipleBindings.call(this,server,httpHandler,options2,listenOptions,()=>{this[kState].listening=!0,resolve(address),onListenHookRunner(this)}):(resolve(address),onListenHookRunner(this)),promise});this.ready(listenCallback.call(this,server,listenOptions))}let serverHasCloseAllConnections=typeof server.closeAllConnections=="function",serverHasCloseIdleConnections=typeof server.closeIdleConnections=="function",serverHasCloseHttp2Sessions=typeof server.closeHttp2Sessions=="function",forceCloseConnections=options2.forceCloseConnections;if(forceCloseConnections==="idle"&&!serverHasCloseIdleConnections)throw new FST_ERR_FORCE_CLOSE_CONNECTIONS_IDLE_NOT_AVAILABLE;typeof forceCloseConnections!="boolean"&&(forceCloseConnections=serverHasCloseIdleConnections?"idle":!1);let keepAliveConnections=!serverHasCloseAllConnections&&forceCloseConnections===!0?new Set:noopSet();return{server,listen,forceCloseConnections,serverHasCloseAllConnections,serverHasCloseHttp2Sessions,keepAliveConnections}}function multipleBindings(mainServer,httpHandler,serverOpts,listenOptions,onListen){this[kState].listening=!1,dns.lookup(listenOptions.host,{all:!0},(dnsErr,addresses)=>{if(dnsErr||this[kState].aborted){onListen();return}let isMainServerListening=mainServer.listening&&serverOpts.serverFactory,binding=0,bound=0;if(!isMainServerListening){let primaryAddress=mainServer.address();for(let adr of addresses)if(adr.address!==primaryAddress.address){binding++;let secondaryOpts=Object.assign({},listenOptions,{host:adr.address,port:primaryAddress.port,cb:_ignoreErr=>{bound++,_ignoreErr||this[kServerBindings].push(secondaryServer),bound===binding&&onListen()}}),secondaryServer=getServerInstance(serverOpts,httpHandler),closeSecondary=()=>{secondaryServer.close(()=>{}),typeof secondaryServer.closeAllConnections=="function"&&serverOpts.forceCloseConnections===!0&&secondaryServer.closeAllConnections(),typeof secondaryServer.closeHttp2Sessions=="function"&&secondaryServer.closeHttp2Sessions()};secondaryServer.on("upgrade",mainServer.emit.bind(mainServer,"upgrade")),mainServer.on("unref",closeSecondary),mainServer.on("close",closeSecondary),mainServer.on("error",closeSecondary),this[kState].listening=!1,listenCallback.call(this,secondaryServer,secondaryOpts)()}}if(binding===0){onListen();return}let originUnref=mainServer.unref;mainServer.unref=function(){originUnref.call(mainServer),mainServer.emit("unref")}})}function listenCallback(server,listenOptions){let wrap=err=>{if(server.removeListener("error",wrap),server.removeListener("listening",wrap),err)this[kState].listening=!1,listenOptions.cb(err,null);else{let address=logServerAddress.call(this,server,listenOptions.listenTextResolver||defaultResolveServerListeningText);listenOptions.cb(null,address)}};return err=>{if(err!=null)return listenOptions.cb(err);if(this[kState].listening&&this[kState].closing)return listenOptions.cb(new FST_ERR_REOPENED_CLOSE_SERVER,null);if(this[kState].listening)return listenOptions.cb(new FST_ERR_REOPENED_SERVER,null);server.once("error",wrap),this[kState].closing||(server.once("listening",wrap),server.listen(listenOptions),this[kState].listening=!0)}}function listenPromise(server,listenOptions){return this[kState].listening&&this[kState].closing?Promise.reject(new FST_ERR_REOPENED_CLOSE_SERVER):this[kState].listening?Promise.reject(new FST_ERR_REOPENED_SERVER):this.ready().then(()=>{if(this[kState].aborted)return;let{promise,resolve,reject}=PonyPromise.withResolvers(),errEventHandler=err=>{cleanup(),this[kState].listening=!1,reject(err)},listeningEventHandler=()=>{cleanup(),this[kState].listening=!0,resolve(logServerAddress.call(this,server,listenOptions.listenTextResolver||defaultResolveServerListeningText))};function cleanup(){server.removeListener("error",errEventHandler),server.removeListener("listening",listeningEventHandler)}return server.once("error",errEventHandler),server.once("listening",listeningEventHandler),server.listen(listenOptions),promise})}function getServerInstance(options2,httpHandler){if(options2.serverFactory)return options2.serverFactory(httpHandler,options2);let httpsOptions=options2.https===!0?{}:options2.https;if(options2.http2){let server2=typeof httpsOptions=="object"?http2.createSecureServer(httpsOptions,httpHandler):http2.createServer(options2.http,httpHandler);return server2.on("session",session=>session.setTimeout(options2.http2SessionTimeout,()=>{session.close()})),options2.forceCloseConnections===!0&&(server2.closeHttp2Sessions=createCloseHttp2SessionsByHttp2Server(server2)),server2.setTimeout(options2.connectionTimeout),server2}let server=httpsOptions?https.createServer(httpsOptions,httpHandler):http.createServer(options2.http,httpHandler);return server.keepAliveTimeout=options2.keepAliveTimeout,server.requestTimeout=options2.requestTimeout,server.setTimeout(options2.connectionTimeout),options2.maxRequestsPerSocket>0&&(server.maxRequestsPerSocket=options2.maxRequestsPerSocket),server}function getAddresses(address){return address.address==="0.0.0.0"?Object.values(os.networkInterfaces()).flatMap(iface=>iface.filter(iface2=>iface2.family==="IPv4")).sort(iface=>iface.internal?-1:1).map(iface=>iface.address):[address.address]}function logServerAddress(server,listenTextResolver){let addresses;typeof server.address()=="string"?addresses=[server.address()]:(server.address().address.indexOf(":")===-1?addresses=getAddresses(server.address()).map(address=>address+":"+server.address().port):addresses=["["+server.address().address+"]:"+server.address().port],addresses=addresses.map(address=>"http"+(this[kOptions].https?"s":"")+"://"+address));for(let address of addresses)this.log.info(listenTextResolver(address));return addresses[0]}function createCloseHttp2SessionsByHttp2Server(http2Server){return http2Server[kHttp2ServerSessions]=new Set,http2Server.on("session",function(session){session.once("connect",function(){http2Server[kHttp2ServerSessions].add(session)}),session.once("close",function(){http2Server[kHttp2ServerSessions].delete(session)}),session.once("frameError",function(type,code2,streamId){streamId===0&&http2Server[kHttp2ServerSessions].delete(session)}),session.once("goaway",function(){http2Server[kHttp2ServerSessions].delete(session)})}),function(){if(http2Server[kHttp2ServerSessions].size!==0)for(let session of http2Server[kHttp2ServerSessions])session.close()}}}});var require_content_type=__commonJS({"../../../../node_modules/fastify/lib/content-type.js"(exports2,module2){"use strict";var keyValuePairsReg=/([\w!#$%&'*+.^`|~-]+)=([^;]*)/gm,typeNameReg=/^[\w!#$%&'*+.^`|~-]+$/,subtypeNameReg=/^[\w!#$%&'*+.^`|~-]+\s*/,ContentType=class{#valid=!1;#empty=!0;#type="";#subtype="";#parameters=new Map;#string;constructor(headerValue){if(headerValue==null||headerValue===""||headerValue==="undefined")return;let sepIdx=headerValue.indexOf(";");if(sepIdx===-1){if(sepIdx=headerValue.indexOf("/"),sepIdx===-1)return;let type2=headerValue.slice(0,sepIdx).trimStart().toLowerCase(),subtype2=headerValue.slice(sepIdx+1).trimEnd().toLowerCase();typeNameReg.test(type2)===!0&&subtypeNameReg.test(subtype2)===!0&&(this.#valid=!0,this.#empty=!1,this.#type=type2,this.#subtype=subtype2);return}let mediaType=headerValue.slice(0,sepIdx).toLowerCase(),paramsList=headerValue.slice(sepIdx+1).trim();if(sepIdx=mediaType.indexOf("/"),sepIdx===-1)return;let type=mediaType.slice(0,sepIdx).trimStart(),subtype=mediaType.slice(sepIdx+1).trimEnd();if(typeNameReg.test(type)===!1||subtypeNameReg.test(subtype)===!1)return;this.#type=type,this.#subtype=subtype,this.#valid=!0,this.#empty=!1;let matches=keyValuePairsReg.exec(paramsList);for(;matches;){let key=matches[1],value=matches[2];if(value[0]==='"'){if(value.at(-1)!=='"'){this.#parameters.set(key,"invalid quoted string"),matches=keyValuePairsReg.exec(paramsList);continue}this.#parameters.set(key,value.slice(1,value.length-1))}else this.#parameters.set(key,value);matches=keyValuePairsReg.exec(paramsList)}}get[Symbol.toStringTag](){return"ContentType"}get isEmpty(){return this.#empty}get isValid(){return this.#valid}get mediaType(){return`${this.#type}/${this.#subtype}`}get type(){return this.#type}get subtype(){return this.#subtype}get parameters(){return this.#parameters}toString(){if(this.#string)return this.#string;let parameters=[];for(let[key,value]of this.#parameters.entries())parameters.push(`${key}="${value}"`);let result=[this.#type,"/",this.#subtype];return parameters.length>0&&(result.push("; "),result.push(parameters.join("; "))),this.#string=result.join(""),this.#string}};module2.exports=ContentType}});var require_error_status=__commonJS({"../../../../node_modules/fastify/lib/error-status.js"(exports2,module2){"use strict";var{kReplyHasStatusCode}=require_symbols2();function setErrorStatusCode(reply,err){if(!reply[kReplyHasStatusCode]||reply.statusCode===200){let statusCode=err&&(err.statusCode||err.status);reply.code(statusCode>=400?statusCode:500)}}module2.exports={setErrorStatusCode}}});var require_wrap_thenable=__commonJS({"../../../../node_modules/fastify/lib/wrap-thenable.js"(exports2,module2){"use strict";var{kReplyIsError,kReplyHijacked}=require_symbols2(),{setErrorStatusCode}=require_error_status(),diagnostics=require("node:diagnostics_channel"),channels=diagnostics.tracingChannel("fastify.request.handler");function wrapThenable(thenable,reply,store){store&&(store.async=!0),thenable.then(function(payload){if(reply[kReplyHijacked]!==!0){store&&channels.asyncStart.publish(store);try{if(payload!==void 0||reply.sent===!1&&reply.raw.headersSent===!1&&reply.request.raw.aborted===!1&&reply.request.socket&&!reply.request.socket.destroyed)try{reply.send(payload)}catch(err){reply[kReplyIsError]=!0,reply.send(err)}}finally{store&&channels.asyncEnd.publish(store)}}},function(err){store&&(store.error=err,setErrorStatusCode(reply,err),channels.error.publish(store),channels.asyncStart.publish(store));try{if(reply.sent===!0){reply.log.error({err},"Promise errored, but reply.sent = true was set");return}reply[kReplyIsError]=!0,reply.send(err)}catch(err2){reply.send(err2)}finally{store&&channels.asyncEnd.publish(store)}})}module2.exports=wrapThenable}});var require_validation=__commonJS({"../../../../node_modules/fastify/lib/validation.js"(exports2,module2){"use strict";var{kSchemaHeaders:headersSchema,kSchemaParams:paramsSchema,kSchemaQuerystring:querystringSchema,kSchemaBody:bodySchema,kSchemaResponse:responseSchema}=require_symbols2(),scChecker=/^[1-5](?:\d{2}|xx)$|^default$/,{FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX}=require_errors2(),{FSTWRN001}=require_warnings();function compileSchemasForSerialization(context,compile2){if(!context.schema||!context.schema.response)return;let{method,url}=context.config||{};context[responseSchema]=Object.keys(context.schema.response).reduce(function(acc,statusCode){let schema=context.schema.response[statusCode];if(statusCode=statusCode.toLowerCase(),!scChecker.test(statusCode))throw new FST_ERR_SCH_RESPONSE_SCHEMA_NOT_NESTED_2XX;if(schema.content){let contentTypesSchemas={};for(let mediaName of Object.keys(schema.content)){let contentSchema=schema.content[mediaName].schema;contentTypesSchemas[mediaName]=compile2({schema:contentSchema,url,method,httpStatus:statusCode,contentType:mediaName})}acc[statusCode]=contentTypesSchemas}else acc[statusCode]=compile2({schema,url,method,httpStatus:statusCode});return acc},{})}function compileSchemasForValidation(context,compile2,isCustom){let{schema}=context;if(!schema)return;let{method,url}=context.config||{},headers=schema.headers;if(headers&&(isCustom||Object.getPrototypeOf(headers)!==Object.prototype))context[headersSchema]=compile2({schema:headers,method,url,httpPart:"headers"});else if(headers){let headersSchemaLowerCase={};Object.keys(headers).forEach(k=>{headersSchemaLowerCase[k]=headers[k]}),headersSchemaLowerCase.required instanceof Array&&(headersSchemaLowerCase.required=headersSchemaLowerCase.required.map(h=>h.toLowerCase())),headers.properties&&(headersSchemaLowerCase.properties={},Object.keys(headers.properties).forEach(k=>{headersSchemaLowerCase.properties[k.toLowerCase()]=headers.properties[k]})),context[headersSchema]=compile2({schema:headersSchemaLowerCase,method,url,httpPart:"headers"})}else Object.hasOwn(schema,"headers")&&FSTWRN001("headers",method,url);if(schema.body){let contentProperty=schema.body.content;if(contentProperty){let contentTypeSchemas={};for(let contentType of Object.keys(contentProperty)){let contentSchema=contentProperty[contentType].schema;contentTypeSchemas[contentType]=compile2({schema:contentSchema,method,url,httpPart:"body",contentType})}context[bodySchema]=contentTypeSchemas}else context[bodySchema]=compile2({schema:schema.body,method,url,httpPart:"body"})}else Object.hasOwn(schema,"body")&&FSTWRN001("body",method,url);schema.querystring?context[querystringSchema]=compile2({schema:schema.querystring,method,url,httpPart:"querystring"}):Object.hasOwn(schema,"querystring")&&FSTWRN001("querystring",method,url),schema.params?context[paramsSchema]=compile2({schema:schema.params,method,url,httpPart:"params"}):Object.hasOwn(schema,"params")&&FSTWRN001("params",method,url)}function validateParam(validatorFunction,request2,paramName){let isUndefined=request2[paramName]===void 0,ret;try{ret=validatorFunction?.(isUndefined?null:request2[paramName])}catch(err){return err.statusCode=500,err}if(ret&&typeof ret.then=="function")return ret.then(res=>answer(res)).catch(err=>err);return answer(ret);function answer(ret2){return ret2===!1?validatorFunction.errors:ret2&&ret2.error?ret2.error:(ret2&&ret2.value&&(request2[paramName]=ret2.value),!1)}}function validate(context,request2,execution){let runExecution=execution===void 0;if(runExecution||!execution.skipParams){let params=validateParam(context[paramsSchema],request2,"params");if(params)return typeof params.then!="function"?wrapValidationError(params,"params",context.schemaErrorFormatter):validateAsyncParams(params,context,request2)}if(runExecution||!execution.skipBody){let validatorFunction=null;if(typeof context[bodySchema]=="function")validatorFunction=context[bodySchema];else if(context[bodySchema]){let contentType=getEssenceMediaType(request2.headers["content-type"]),contentSchema=context[bodySchema][contentType];contentSchema&&(validatorFunction=contentSchema)}let body=validateParam(validatorFunction,request2,"body");if(body)return typeof body.then!="function"?wrapValidationError(body,"body",context.schemaErrorFormatter):validateAsyncBody(body,context,request2)}if(runExecution||!execution.skipQuery){let query=validateParam(context[querystringSchema],request2,"query");if(query)return typeof query.then!="function"?wrapValidationError(query,"querystring",context.schemaErrorFormatter):validateAsyncQuery(query,context,request2)}let headers=validateParam(context[headersSchema],request2,"headers");return headers?typeof headers.then!="function"?wrapValidationError(headers,"headers",context.schemaErrorFormatter):validateAsyncHeaders(headers,context,request2):!1}function validateAsyncParams(validatePromise,context,request2){return validatePromise.then(paramsResult=>paramsResult?wrapValidationError(paramsResult,"params",context.schemaErrorFormatter):validate(context,request2,{skipParams:!0}))}function validateAsyncBody(validatePromise,context,request2){return validatePromise.then(bodyResult=>bodyResult?wrapValidationError(bodyResult,"body",context.schemaErrorFormatter):validate(context,request2,{skipParams:!0,skipBody:!0}))}function validateAsyncQuery(validatePromise,context,request2){return validatePromise.then(queryResult=>queryResult?wrapValidationError(queryResult,"querystring",context.schemaErrorFormatter):validate(context,request2,{skipParams:!0,skipBody:!0,skipQuery:!0}))}function validateAsyncHeaders(validatePromise,context,request2){return validatePromise.then(headersResult=>headersResult?wrapValidationError(headersResult,"headers",context.schemaErrorFormatter):!1)}function wrapValidationError(result,dataVar,schemaErrorFormatter){if(result instanceof Error)return result.statusCode=result.statusCode||400,result.code=result.code||"FST_ERR_VALIDATION",result.validationContext=result.validationContext||dataVar,result;let error=schemaErrorFormatter(result,dataVar);return error.statusCode=error.statusCode||400,error.code=error.code||"FST_ERR_VALIDATION",error.validation=result,error.validationContext=dataVar,error}function getEssenceMediaType(header){return header?header.split(/[ ;]/,1)[0].trim().toLowerCase():""}module2.exports={symbols:{bodySchema,querystringSchema,responseSchema,paramsSchema,headersSchema},compileSchemasForValidation,compileSchemasForSerialization,validate}}});var require_handle_request=__commonJS({"../../../../node_modules/fastify/lib/handle-request.js"(exports2,module2){"use strict";var diagnostics=require("node:diagnostics_channel"),ContentType=require_content_type(),wrapThenable=require_wrap_thenable(),{validate:validateSchema}=require_validation(),{preValidationHookRunner,preHandlerHookRunner}=require_hooks(),{FST_ERR_CTP_INVALID_MEDIA_TYPE}=require_errors2(),{setErrorStatusCode}=require_error_status(),{kReplyIsError,kRouteContext,kFourOhFourContext,kSupportedHTTPMethods}=require_symbols2(),channels=diagnostics.tracingChannel("fastify.request.handler");function handleRequest(err,request2,reply){if(reply.sent===!0)return;if(err!=null){reply[kReplyIsError]=!0,reply.send(err);return}let method=request2.method;if(this[kSupportedHTTPMethods].bodyless.has(method)){handler(request2,reply);return}if(this[kSupportedHTTPMethods].bodywith.has(method)){let headers=request2.headers,ctHeader=headers["content-type"];if(ctHeader===void 0){let contentLength=headers["content-length"];if(headers["transfer-encoding"]===void 0&&(contentLength===void 0||contentLength==="0")){handler(request2,reply);return}request2[kRouteContext].contentTypeParser.run("",handler,request2,reply);return}let contentType=new ContentType(ctHeader);if(contentType.isValid===!1){reply[kReplyIsError]=!0,reply.status(415).send(new FST_ERR_CTP_INVALID_MEDIA_TYPE);return}request2[kRouteContext].contentTypeParser.run(contentType.toString(),handler,request2,reply);return}handler(request2,reply)}function handler(request2,reply){try{request2[kRouteContext].preValidation!==null?preValidationHookRunner(request2[kRouteContext].preValidation,request2,reply,preValidationCallback):preValidationCallback(null,request2,reply)}catch(err){preValidationCallback(err,request2,reply)}}function preValidationCallback(err,request2,reply){if(reply.sent===!0)return;if(err!=null){reply[kReplyIsError]=!0,reply.send(err);return}let validationErr=validateSchema(reply[kRouteContext],request2);if(validationErr&&typeof validationErr.then=="function"||!1){let cb=validationCompleted.bind(null,request2,reply);validationErr.then(cb,cb)}else validationCompleted(request2,reply,validationErr)}function validationCompleted(request2,reply,validationErr){if(validationErr){if(reply[kRouteContext].attachValidation===!1){reply.send(validationErr);return}reply.request.validationError=validationErr}request2[kRouteContext].preHandler!==null?preHandlerHookRunner(request2[kRouteContext].preHandler,request2,reply,preHandlerCallback):preHandlerCallback(null,request2,reply)}function preHandlerCallback(err,request2,reply){if(reply.sent)return;let context=request2[kRouteContext];if(!channels.hasSubscribers||context[kFourOhFourContext]===null)preHandlerCallbackInner(err,request2,reply);else{let store={request:request2,reply,async:!1,route:{url:context.config.url,method:context.config.method}};channels.start.runStores(store,preHandlerCallbackInner,void 0,err,request2,reply,store)}}function preHandlerCallbackInner(err,request2,reply,store){let context=request2[kRouteContext];try{if(err!=null){reply[kReplyIsError]=!0,store&&(store.error=err,setErrorStatusCode(reply,err),channels.error.publish(store)),reply.send(err);return}let result;try{result=context.handler(request2,reply)}catch(err2){store&&(store.error=err2,setErrorStatusCode(reply,err2),channels.error.publish(store)),reply[kReplyIsError]=!0,reply.send(err2);return}result!==void 0&&(result!==null&&typeof result.then=="function"?wrapThenable(result,reply,store):reply.send(result))}finally{store&&channels.end.publish(store)}}module2.exports=handleRequest;module2.exports[Symbol.for("internals")]={handler,preHandlerCallback}}});var require_abstract_logging=__commonJS({"../../../../node_modules/abstract-logging/index.js"(exports2,module2){"use strict";function noop(){}var proto={fatal:noop,error:noop,warn:noop,info:noop,debug:noop,trace:noop};Object.defineProperty(module2,"exports",{get(){return Object.create(proto)}})}});var require_err_helpers=__commonJS({"../../../../node_modules/pino-std-serializers/lib/err-helpers.js"(exports2,module2){"use strict";var isErrorLike=err=>err&&typeof err.message=="string",getErrorCause=err=>{if(!err)return;let cause=err.cause;if(typeof cause=="function"){let causeResult=err.cause();return isErrorLike(causeResult)?causeResult:void 0}else return isErrorLike(cause)?cause:void 0},_stackWithCauses=(err,seen)=>{if(!isErrorLike(err))return"";let stack=err.stack||"";if(seen.has(err))return stack+`
causes have become circular...`;let cause=getErrorCause(err);return cause?(seen.add(err),stack+`
caused by: `+_stackWithCauses(cause,seen)):stack},stackWithCauses=err=>_stackWithCauses(err,new Set),_messageWithCauses=(err,seen,skip)=>{if(!isErrorLike(err))return"";let message=skip?"":err.message||"";if(seen.has(err))return message+": ...";let cause=getErrorCause(err);if(cause){seen.add(err);let skipIfVErrorStyleCause=typeof err.cause=="function";return message+(skipIfVErrorStyleCause?"":": ")+_messageWithCauses(cause,seen,skipIfVErrorStyleCause)}else return message},messageWithCauses=err=>_messageWithCauses(err,new Set);module2.exports={isErrorLike,getErrorCause,stackWithCauses,messageWithCauses}}});var require_err_proto=__commonJS({"../../../../node_modules/pino-std-serializers/lib/err-proto.js"(exports2,module2){"use strict";var seen=Symbol("circular-ref-tag"),rawSymbol=Symbol("pino-raw-err-ref"),pinoErrProto=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},aggregateErrors:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[rawSymbol]},set:function(val){this[rawSymbol]=val}}});Object.defineProperty(pinoErrProto,rawSymbol,{writable:!0,value:{}});module2.exports={pinoErrProto,pinoErrorSymbols:{seen,rawSymbol}}}});var require_err=__commonJS({"../../../../node_modules/pino-std-serializers/lib/err.js"(exports2,module2){"use strict";module2.exports=errSerializer;var{messageWithCauses,stackWithCauses,isErrorLike}=require_err_helpers(),{pinoErrProto,pinoErrorSymbols}=require_err_proto(),{seen}=pinoErrorSymbols,{toString:toString2}=Object.prototype;function errSerializer(err){if(!isErrorLike(err))return err;err[seen]=void 0;let _err=Object.create(pinoErrProto);_err.type=toString2.call(err.constructor)==="[object Function]"?err.constructor.name:err.name,_err.message=messageWithCauses(err),_err.stack=stackWithCauses(err),Array.isArray(err.errors)&&(_err.aggregateErrors=err.errors.map(err2=>errSerializer(err2)));for(let key in err)if(_err[key]===void 0){let val=err[key];isErrorLike(val)?key!=="cause"&&!Object.prototype.hasOwnProperty.call(val,seen)&&(_err[key]=errSerializer(val)):_err[key]=val}return delete err[seen],_err.raw=err,_err}}});var require_err_with_cause=__commonJS({"../../../../node_modules/pino-std-serializers/lib/err-with-cause.js"(exports2,module2){"use strict";module2.exports=errWithCauseSerializer;var{isErrorLike}=require_err_helpers(),{pinoErrProto,pinoErrorSymbols}=require_err_proto(),{seen}=pinoErrorSymbols,{toString:toString2}=Object.prototype;function errWithCauseSerializer(err){if(!isErrorLike(err))return err;err[seen]=void 0;let _err=Object.create(pinoErrProto);_err.type=toString2.call(err.constructor)==="[object Function]"?err.constructor.name:err.name,_err.message=err.message,_err.stack=err.stack,Array.isArray(err.errors)&&(_err.aggregateErrors=err.errors.map(err2=>errWithCauseSerializer(err2))),isErrorLike(err.cause)&&!Object.prototype.hasOwnProperty.call(err.cause,seen)&&(_err.cause=errWithCauseSerializer(err.cause));for(let key in err)if(_err[key]===void 0){let val=err[key];isErrorLike(val)?Object.prototype.hasOwnProperty.call(val,seen)||(_err[key]=errWithCauseSerializer(val)):_err[key]=val}return delete err[seen],_err.raw=err,_err}}});var require_req=__commonJS({"../../../../node_modules/pino-std-serializers/lib/req.js"(exports2,module2){"use strict";module2.exports={mapHttpRequest,reqSerializer};var rawSymbol=Symbol("pino-raw-req-ref"),pinoReqProto=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[rawSymbol]},set:function(val){this[rawSymbol]=val}}});Object.defineProperty(pinoReqProto,rawSymbol,{writable:!0,value:{}});function reqSerializer(req){let connection=req.info||req.socket,_req=Object.create(pinoReqProto);if(_req.id=typeof req.id=="function"?req.id():req.id||(req.info?req.info.id:void 0),_req.method=req.method,req.originalUrl)_req.url=req.originalUrl;else{let path5=req.path;_req.url=typeof path5=="string"?path5:req.url?req.url.path||req.url:void 0}return req.query&&(_req.query=req.query),req.params&&(_req.params=req.params),_req.headers=req.headers,_req.remoteAddress=connection&&connection.remoteAddress,_req.remotePort=connection&&connection.remotePort,_req.raw=req.raw||req,_req}function mapHttpRequest(req){return{req:reqSerializer(req)}}}});var require_res=__commonJS({"../../../../node_modules/pino-std-serializers/lib/res.js"(exports2,module2){"use strict";module2.exports={mapHttpResponse,resSerializer};var rawSymbol=Symbol("pino-raw-res-ref"),pinoResProto=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[rawSymbol]},set:function(val){this[rawSymbol]=val}}});Object.defineProperty(pinoResProto,rawSymbol,{writable:!0,value:{}});function resSerializer(res){let _res=Object.create(pinoResProto);return _res.statusCode=res.headersSent?res.statusCode:null,_res.headers=res.getHeaders?res.getHeaders():res._headers,_res.raw=res,_res}function mapHttpResponse(res){return{res:resSerializer(res)}}}});var require_pino_std_serializers=__commonJS({"../../../../node_modules/pino-std-serializers/index.js"(exports2,module2){"use strict";var errSerializer=require_err(),errWithCauseSerializer=require_err_with_cause(),reqSerializers=require_req(),resSerializers=require_res();module2.exports={err:errSerializer,errWithCause:errWithCauseSerializer,mapHttpRequest:reqSerializers.mapHttpRequest,mapHttpResponse:resSerializers.mapHttpResponse,req:reqSerializers.reqSerializer,res:resSerializers.resSerializer,wrapErrorSerializer:function(customSerializer){return customSerializer===errSerializer?customSerializer:function(err){return customSerializer(errSerializer(err))}},wrapRequestSerializer:function(customSerializer){return customSerializer===reqSerializers.reqSerializer?customSerializer:function(req){return customSerializer(reqSerializers.reqSerializer(req))}},wrapResponseSerializer:function(customSerializer){return customSerializer===resSerializers.resSerializer?customSerializer:function(res){return customSerializer(resSerializers.resSerializer(res))}}}}});var require_caller=__commonJS({"../../../../node_modules/pino/lib/caller.js"(exports2,module2){"use strict";function noOpPrepareStackTrace(_,stack){return stack}module2.exports=function(){let originalPrepare=Error.prepareStackTrace;Error.prepareStackTrace=noOpPrepareStackTrace;let stack=new Error().stack;if(Error.prepareStackTrace=originalPrepare,!Array.isArray(stack))return;let entries=stack.slice(2),fileNames=[];for(let entry of entries)entry&&fileNames.push(entry.getFileName());return fileNames}}});var require_redact=__commonJS({"../../../../node_modules/@pinojs/redact/index.js"(exports2,module2){"use strict";function deepClone(obj){if(obj===null||typeof obj!="object")return obj;if(obj instanceof Date)return new Date(obj.getTime());if(obj instanceof Array){let cloned=[];for(let i=0;i<obj.length;i++)cloned[i]=deepClone(obj[i]);return cloned}if(typeof obj=="object"){let cloned=Object.create(Object.getPrototypeOf(obj));for(let key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(cloned[key]=deepClone(obj[key]));return cloned}return obj}function parsePath(path5){let parts=[],current="",inBrackets=!1,inQuotes=!1,quoteChar="";for(let i=0;i<path5.length;i++){let char=path5[i];!inBrackets&&char==="."?current&&(parts.push(current),current=""):char==="["?(current&&(parts.push(current),current=""),inBrackets=!0):char==="]"&&inBrackets?(parts.push(current),current="",inBrackets=!1,inQuotes=!1):(char==='"'||char==="'")&&inBrackets?inQuotes?char===quoteChar?(inQuotes=!1,quoteChar=""):current+=char:(inQuotes=!0,quoteChar=char):current+=char}return current&&parts.push(current),parts}function setValue(obj,parts,value){let current=obj;for(let i=0;i<parts.length-1;i++){let key=parts[i];if(typeof current!="object"||current===null||!(key in current)||typeof current[key]!="object"||current[key]===null)return!1;current=current[key]}let lastKey=parts[parts.length-1];if(lastKey==="*"){if(Array.isArray(current))for(let i=0;i<current.length;i++)current[i]=value;else if(typeof current=="object"&&current!==null)for(let key in current)Object.prototype.hasOwnProperty.call(current,key)&&(current[key]=value)}else typeof current=="object"&&current!==null&&lastKey in current&&Object.prototype.hasOwnProperty.call(current,lastKey)&&(current[lastKey]=value);return!0}function removeKey(obj,parts){let current=obj;for(let i=0;i<parts.length-1;i++){let key=parts[i];if(typeof current!="object"||current===null||!(key in current)||typeof current[key]!="object"||current[key]===null)return!1;current=current[key]}let lastKey=parts[parts.length-1];if(lastKey==="*"){if(Array.isArray(current))for(let i=0;i<current.length;i++)current[i]=void 0;else if(typeof current=="object"&&current!==null)for(let key in current)Object.prototype.hasOwnProperty.call(current,key)&&delete current[key]}else typeof current=="object"&&current!==null&&lastKey in current&&Object.prototype.hasOwnProperty.call(current,lastKey)&&delete current[lastKey];return!0}var PATH_NOT_FOUND=Symbol("PATH_NOT_FOUND");function getValueIfExists(obj,parts){let current=obj;for(let part of parts){if(current==null||typeof current!="object"||current===null||!(part in current))return PATH_NOT_FOUND;current=current[part]}return current}function getValue(obj,parts){let current=obj;for(let part of parts){if(current==null||typeof current!="object"||current===null)return;current=current[part]}return current}function redactPaths(obj,paths,censor,remove=!1){for(let path5 of paths){let parts=parsePath(path5);if(parts.includes("*"))redactWildcardPath(obj,parts,censor,path5,remove);else if(remove)removeKey(obj,parts);else{let value=getValueIfExists(obj,parts);if(value===PATH_NOT_FOUND)continue;let actualCensor=typeof censor=="function"?censor(value,parts):censor;setValue(obj,parts,actualCensor)}}}function redactWildcardPath(obj,parts,censor,originalPath,remove=!1){let wildcardIndex=parts.indexOf("*");if(wildcardIndex===parts.length-1){let parentParts=parts.slice(0,-1),current=obj;for(let part of parentParts){if(current==null||typeof current!="object"||current===null)return;current=current[part]}if(Array.isArray(current))if(remove)for(let i=0;i<current.length;i++)current[i]=void 0;else for(let i=0;i<current.length;i++){let indexPath=[...parentParts,i.toString()],actualCensor=typeof censor=="function"?censor(current[i],indexPath):censor;current[i]=actualCensor}else if(typeof current=="object"&&current!==null)if(remove){let keysToDelete=[];for(let key in current)Object.prototype.hasOwnProperty.call(current,key)&&keysToDelete.push(key);for(let key of keysToDelete)delete current[key]}else for(let key in current){let keyPath=[...parentParts,key],actualCensor=typeof censor=="function"?censor(current[key],keyPath):censor;current[key]=actualCensor}}else redactIntermediateWildcard(obj,parts,censor,wildcardIndex,originalPath,remove)}function redactIntermediateWildcard(obj,parts,censor,wildcardIndex,originalPath,remove=!1){let beforeWildcard=parts.slice(0,wildcardIndex),afterWildcard=parts.slice(wildcardIndex+1),pathArray=[];function traverse(current,pathLength){if(pathLength===beforeWildcard.length){if(Array.isArray(current))for(let i=0;i<current.length;i++)pathArray[pathLength]=i.toString(),traverse(current[i],pathLength+1);else if(typeof current=="object"&&current!==null)for(let key in current)pathArray[pathLength]=key,traverse(current[key],pathLength+1)}else if(pathLength<beforeWildcard.length){let nextKey=beforeWildcard[pathLength];current&&typeof current=="object"&&current!==null&&nextKey in current&&(pathArray[pathLength]=nextKey,traverse(current[nextKey],pathLength+1))}else if(afterWildcard.includes("*"))redactWildcardPath(current,afterWildcard,typeof censor=="function"?(value,path5)=>{let fullPath=[...pathArray.slice(0,pathLength),...path5];return censor(value,fullPath)}:censor,originalPath,remove);else if(remove)removeKey(current,afterWildcard);else{let actualCensor=typeof censor=="function"?censor(getValue(current,afterWildcard),[...pathArray.slice(0,pathLength),...afterWildcard]):censor;setValue(current,afterWildcard,actualCensor)}}if(beforeWildcard.length===0)traverse(obj,0);else{let current=obj;for(let i=0;i<beforeWildcard.length;i++){let part=beforeWildcard[i];if(current==null||typeof current!="object"||current===null)return;current=current[part],pathArray[i]=part}current!=null&&traverse(current,beforeWildcard.length)}}function buildPathStructure(pathsToClone){if(pathsToClone.length===0)return null;let pathStructure=new Map;for(let path5 of pathsToClone){let parts=parsePath(path5),current=pathStructure;for(let i=0;i<parts.length;i++){let part=parts[i];current.has(part)||current.set(part,new Map),current=current.get(part)}}return pathStructure}function selectiveClone(obj,pathStructure){if(!pathStructure)return obj;function cloneSelectively(source,pathMap,depth=0){if(!pathMap||pathMap.size===0||source===null||typeof source!="object")return source;if(source instanceof Date)return new Date(source.getTime());if(Array.isArray(source)){let cloned2=[];for(let i=0;i<source.length;i++){let indexStr=i.toString();pathMap.has(indexStr)||pathMap.has("*")?cloned2[i]=cloneSelectively(source[i],pathMap.get(indexStr)||pathMap.get("*")):cloned2[i]=source[i]}return cloned2}let cloned=Object.create(Object.getPrototypeOf(source));for(let key in source)Object.prototype.hasOwnProperty.call(source,key)&&(pathMap.has(key)||pathMap.has("*")?cloned[key]=cloneSelectively(source[key],pathMap.get(key)||pathMap.get("*")):cloned[key]=source[key]);return cloned}return cloneSelectively(obj,pathStructure)}function validatePath(path5){if(typeof path5!="string")throw new Error("Paths must be (non-empty) strings");if(path5==="")throw new Error("Invalid redaction path ()");if(path5.includes(".."))throw new Error(`Invalid redaction path (${path5})`);if(path5.includes(","))throw new Error(`Invalid redaction path (${path5})`);let bracketCount=0,inQuotes=!1,quoteChar="";for(let i=0;i<path5.length;i++){let char=path5[i];if((char==='"'||char==="'")&&bracketCount>0)inQuotes?char===quoteChar&&(inQuotes=!1,quoteChar=""):(inQuotes=!0,quoteChar=char);else if(char==="["&&!inQuotes)bracketCount++;else if(char==="]"&&!inQuotes&&(bracketCount--,bracketCount<0))throw new Error(`Invalid redaction path (${path5})`)}if(bracketCount!==0)throw new Error(`Invalid redaction path (${path5})`)}function validatePaths(paths){if(!Array.isArray(paths))throw new TypeError("paths must be an array");for(let path5 of paths)validatePath(path5)}function slowRedact(options2={}){let{paths=[],censor="[REDACTED]",serialize=JSON.stringify,strict=!0,remove=!1}=options2;validatePaths(paths);let pathStructure=buildPathStructure(paths);return function(obj){if(strict&&(obj===null||typeof obj!="object")&&(obj==null||typeof obj!="object"))return serialize?serialize(obj):obj;let cloned=selectiveClone(obj,pathStructure),original=obj,actualCensor=censor;return typeof censor=="function"&&(actualCensor=censor),redactPaths(cloned,paths,actualCensor,remove),serialize===!1?(cloned.restore=function(){return deepClone(original)},cloned):typeof serialize=="function"?serialize(cloned):JSON.stringify(cloned)}}module2.exports=slowRedact}});var require_symbols3=__commonJS({"../../../../node_modules/pino/lib/symbols.js"(exports2,module2){"use strict";var setLevelSym=Symbol("pino.setLevel"),getLevelSym=Symbol("pino.getLevel"),levelValSym=Symbol("pino.levelVal"),levelCompSym=Symbol("pino.levelComp"),useLevelLabelsSym=Symbol("pino.useLevelLabels"),useOnlyCustomLevelsSym=Symbol("pino.useOnlyCustomLevels"),mixinSym=Symbol("pino.mixin"),lsCacheSym=Symbol("pino.lsCache"),chindingsSym=Symbol("pino.chindings"),asJsonSym=Symbol("pino.asJson"),writeSym=Symbol("pino.write"),redactFmtSym=Symbol("pino.redactFmt"),timeSym=Symbol("pino.time"),timeSliceIndexSym=Symbol("pino.timeSliceIndex"),streamSym=Symbol("pino.stream"),stringifySym=Symbol("pino.stringify"),stringifySafeSym=Symbol("pino.stringifySafe"),stringifiersSym=Symbol("pino.stringifiers"),endSym=Symbol("pino.end"),formatOptsSym=Symbol("pino.formatOpts"),messageKeySym=Symbol("pino.messageKey"),errorKeySym=Symbol("pino.errorKey"),nestedKeySym=Symbol("pino.nestedKey"),nestedKeyStrSym=Symbol("pino.nestedKeyStr"),mixinMergeStrategySym=Symbol("pino.mixinMergeStrategy"),msgPrefixSym=Symbol("pino.msgPrefix"),wildcardFirstSym=Symbol("pino.wildcardFirst"),serializersSym=Symbol.for("pino.serializers"),formattersSym=Symbol.for("pino.formatters"),hooksSym=Symbol.for("pino.hooks"),needsMetadataGsym=Symbol.for("pino.metadata");module2.exports={setLevelSym,getLevelSym,levelValSym,levelCompSym,useLevelLabelsSym,mixinSym,lsCacheSym,chindingsSym,asJsonSym,writeSym,serializersSym,redactFmtSym,timeSym,timeSliceIndexSym,streamSym,stringifySym,stringifySafeSym,stringifiersSym,endSym,formatOptsSym,messageKeySym,errorKeySym,nestedKeySym,wildcardFirstSym,needsMetadataGsym,useOnlyCustomLevelsSym,formattersSym,hooksSym,nestedKeyStrSym,mixinMergeStrategySym,msgPrefixSym}}});var require_redaction=__commonJS({"../../../../node_modules/pino/lib/redaction.js"(exports2,module2){"use strict";var Redact=require_redact(),{redactFmtSym,wildcardFirstSym}=require_symbols3(),rx=/[^.[\]]+|\[([^[\]]*?)\]/g,CENSOR="[Redacted]",strict=!1;function redaction(opts,serialize){let{paths,censor,remove}=handle(opts),shape=paths.reduce((o,str)=>{rx.lastIndex=0;let first=rx.exec(str),next=rx.exec(str),ns=first[1]!==void 0?first[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):first[0];if(ns==="*"&&(ns=wildcardFirstSym),next===null)return o[ns]=null,o;if(o[ns]===null)return o;let{index:index2}=next,nextPath=`${str.substr(index2,str.length-1)}`;return o[ns]=o[ns]||[],ns!==wildcardFirstSym&&o[ns].length===0&&o[ns].push(...o[wildcardFirstSym]||[]),ns===wildcardFirstSym&&Object.keys(o).forEach(function(k){o[k]&&o[k].push(nextPath)}),o[ns].push(nextPath),o},{}),result={[redactFmtSym]:Redact({paths,censor,serialize,strict,remove})},topCensor=(...args)=>serialize(typeof censor=="function"?censor(...args):censor);return[...Object.keys(shape),...Object.getOwnPropertySymbols(shape)].reduce((o,k)=>{if(shape[k]===null)o[k]=value=>topCensor(value,[k]);else{let wrappedCensor=typeof censor=="function"?(value,path5)=>censor(value,[k,...path5]):censor;o[k]=Redact({paths:shape[k],censor:wrappedCensor,serialize,strict,remove})}return o},result)}function handle(opts){if(Array.isArray(opts))return opts={paths:opts,censor:CENSOR},opts;let{paths,censor=CENSOR,remove}=opts;if(Array.isArray(paths)===!1)throw Error("pino \u2013 redact must contain an array of strings");return remove===!0&&(censor=void 0),{paths,censor,remove}}module2.exports=redaction}});var require_time=__commonJS({"../../../../node_modules/pino/lib/time.js"(exports2,module2){"use strict";var nullTime=()=>"",epochTime=()=>`,"time":${Date.now()}`,unixTime=()=>`,"time":${Math.round(Date.now()/1e3)}`,isoTime=()=>`,"time":"${new Date(Date.now()).toISOString()}"`,NS_PER_MS=1000000n,NS_PER_SEC=1000000000n,startWallTimeNs=BigInt(Date.now())*NS_PER_MS,startHrTime=process.hrtime.bigint(),isoTimeNano=()=>{let elapsedNs=process.hrtime.bigint()-startHrTime,currentTimeNs=startWallTimeNs+elapsedNs,secondsSinceEpoch=currentTimeNs/NS_PER_SEC,nanosWithinSecond=currentTimeNs%NS_PER_SEC,msSinceEpoch=Number(secondsSinceEpoch*1000n+nanosWithinSecond/1000000n),date=new Date(msSinceEpoch),year=date.getUTCFullYear(),month=(date.getUTCMonth()+1).toString().padStart(2,"0"),day=date.getUTCDate().toString().padStart(2,"0"),hours=date.getUTCHours().toString().padStart(2,"0"),minutes=date.getUTCMinutes().toString().padStart(2,"0"),seconds=date.getUTCSeconds().toString().padStart(2,"0");return`,"time":"${year}-${month}-${day}T${hours}:${minutes}:${seconds}.${nanosWithinSecond.toString().padStart(9,"0")}Z"`};module2.exports={nullTime,epochTime,unixTime,isoTime,isoTimeNano}}});var require_quick_format_unescaped=__commonJS({"../../../../node_modules/quick-format-unescaped/index.js"(exports2,module2){"use strict";function tryStringify(o){try{return JSON.stringify(o)}catch{return'"[Circular]"'}}module2.exports=format2;function format2(f,args,opts){var ss=opts&&opts.stringify||tryStringify,offset=1;if(typeof f=="object"&&f!==null){var len=args.length+offset;if(len===1)return f;var objects=new Array(len);objects[0]=ss(f);for(var index2=1;index2<len;index2++)objects[index2]=ss(args[index2]);return objects.join(" ")}if(typeof f!="string")return f;var argLen=args.length;if(argLen===0)return f;for(var str="",a=1-offset,lastPos=-1,flen=f&&f.length||0,i=0;i<flen;){if(f.charCodeAt(i)===37&&i+1<flen){switch(lastPos=lastPos>-1?lastPos:0,f.charCodeAt(i+1)){case 100:case 102:if(a>=argLen||args[a]==null)break;lastPos<i&&(str+=f.slice(lastPos,i)),str+=Number(args[a]),lastPos=i+2,i++;break;case 105:if(a>=argLen||args[a]==null)break;lastPos<i&&(str+=f.slice(lastPos,i)),str+=Math.floor(Number(args[a])),lastPos=i+2,i++;break;case 79:case 111:case 106:if(a>=argLen||args[a]===void 0)break;lastPos<i&&(str+=f.slice(lastPos,i));var type=typeof args[a];if(type==="string"){str+="'"+args[a]+"'",lastPos=i+2,i++;break}if(type==="function"){str+=args[a].name||"<anonymous>",lastPos=i+2,i++;break}str+=ss(args[a]),lastPos=i+2,i++;break;case 115:if(a>=argLen)break;lastPos<i&&(str+=f.slice(lastPos,i)),str+=String(args[a]),lastPos=i+2,i++;break;case 37:lastPos<i&&(str+=f.slice(lastPos,i)),str+="%",lastPos=i+2,i++,a--;break}++a}++i}return lastPos===-1?f:(lastPos<flen&&(str+=f.slice(lastPos)),str)}}});var require_atomic_sleep=__commonJS({"../../../../node_modules/atomic-sleep/index.js"(exports2,module2){"use strict";if(typeof SharedArrayBuffer<"u"&&typeof Atomics<"u"){let sleep=function(ms){if((ms>0&&ms<1/0)===!1)throw typeof ms!="number"&&typeof ms!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(nil,0,0,Number(ms))},nil=new Int32Array(new SharedArrayBuffer(4));module2.exports=sleep}else{let sleep=function(ms){if((ms>0&&ms<1/0)===!1)throw typeof ms!="number"&&typeof ms!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");let target=Date.now()+Number(ms);for(;target>Date.now(););};module2.exports=sleep}}});var require_sonic_boom=__commonJS({"../../../../node_modules/sonic-boom/index.js"(exports2,module2){"use strict";var fs3=require("fs"),EventEmitter=require("events"),inherits=require("util").inherits,path5=require("path"),sleep=require_atomic_sleep(),assert2=require("assert"),BUSY_WRITE_TIMEOUT=100,kEmptyBuffer=Buffer.allocUnsafe(0),MAX_WRITE=16*1024,kContentModeBuffer="buffer",kContentModeUtf8="utf8",[major,minor]=(process.versions.node||"0.0").split(".").map(Number),kCopyBuffer=major>=22&&minor>=7;function openFile(file,sonic){sonic._opening=!0,sonic._writing=!0,sonic._asyncDrainScheduled=!1;function fileOpened(err,fd){if(err){sonic._reopening=!1,sonic._writing=!1,sonic._opening=!1,sonic.sync?process.nextTick(()=>{sonic.listenerCount("error")>0&&sonic.emit("error",err)}):sonic.emit("error",err);return}let reopening=sonic._reopening;sonic.fd=fd,sonic.file=file,sonic._reopening=!1,sonic._opening=!1,sonic._writing=!1,sonic.sync?process.nextTick(()=>sonic.emit("ready")):sonic.emit("ready"),!sonic.destroyed&&(!sonic._writing&&sonic._len>sonic.minLength||sonic._flushPending?sonic._actualWrite():reopening&&process.nextTick(()=>sonic.emit("drain")))}let flags=sonic.append?"a":"w",mode=sonic.mode;if(sonic.sync)try{sonic.mkdir&&fs3.mkdirSync(path5.dirname(file),{recursive:!0});let fd=fs3.openSync(file,flags,mode);fileOpened(null,fd)}catch(err){throw fileOpened(err),err}else sonic.mkdir?fs3.mkdir(path5.dirname(file),{recursive:!0},err=>{if(err)return fileOpened(err);fs3.open(file,flags,mode,fileOpened)}):fs3.open(file,flags,mode,fileOpened)}function SonicBoom(opts){if(!(this instanceof SonicBoom))return new SonicBoom(opts);let{fd,dest,minLength,maxLength,maxWrite,periodicFlush,sync,append=!0,mkdir,retryEAGAIN,fsync,contentMode,mode}=opts||{};fd=fd||dest,this._len=0,this.fd=-1,this._bufs=[],this._lens=[],this._writing=!1,this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._flushPending=!1,this._hwm=Math.max(minLength||0,16387),this.file=null,this.destroyed=!1,this.minLength=minLength||0,this.maxLength=maxLength||0,this.maxWrite=maxWrite||MAX_WRITE,this._periodicFlush=periodicFlush||0,this._periodicFlushTimer=void 0,this.sync=sync||!1,this.writable=!0,this._fsync=fsync||!1,this.append=append||!1,this.mode=mode,this.retryEAGAIN=retryEAGAIN||(()=>!0),this.mkdir=mkdir||!1;let fsWriteSync,fsWrite;if(contentMode===kContentModeBuffer)this._writingBuf=kEmptyBuffer,this.write=writeBuffer,this.flush=flushBuffer,this.flushSync=flushBufferSync,this._actualWrite=actualWriteBuffer,fsWriteSync=()=>fs3.writeSync(this.fd,this._writingBuf),fsWrite=()=>fs3.write(this.fd,this._writingBuf,this.release);else if(contentMode===void 0||contentMode===kContentModeUtf8)this._writingBuf="",this.write=write2,this.flush=flush,this.flushSync=flushSync,this._actualWrite=actualWrite,fsWriteSync=()=>fs3.writeSync(this.fd,this._writingBuf,"utf8"),fsWrite=()=>fs3.write(this.fd,this._writingBuf,"utf8",this.release);else throw new Error(`SonicBoom supports "${kContentModeUtf8}" and "${kContentModeBuffer}", but passed ${contentMode}`);if(typeof fd=="number")this.fd=fd,process.nextTick(()=>this.emit("ready"));else if(typeof fd=="string")openFile(fd,this);else throw new Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw new Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(err,n)=>{if(err){if((err.code==="EAGAIN"||err.code==="EBUSY")&&this.retryEAGAIN(err,this._writingBuf.length,this._len-this._writingBuf.length))if(this.sync)try{sleep(BUSY_WRITE_TIMEOUT),this.release(void 0,0)}catch(err2){this.release(err2)}else setTimeout(fsWrite,BUSY_WRITE_TIMEOUT);else this._writing=!1,this.emit("error",err);return}this.emit("write",n);let releasedBufObj=releaseWritingBuf(this._writingBuf,this._len,n);if(this._len=releasedBufObj.len,this._writingBuf=releasedBufObj.writingBuf,this._writingBuf.length){if(!this.sync){fsWrite();return}try{do{let n2=fsWriteSync(),releasedBufObj2=releaseWritingBuf(this._writingBuf,this._len,n2);this._len=releasedBufObj2.len,this._writingBuf=releasedBufObj2.writingBuf}while(this._writingBuf.length)}catch(err2){this.release(err2);return}}this._fsync&&fs3.fsyncSync(this.fd);let len=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):len>this.minLength?this._actualWrite():this._ending?len>0?this._actualWrite():(this._writing=!1,actualClose(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(emitDrain,this)):this.emit("drain"))},this.on("newListener",function(name){name==="drain"&&(this._asyncDrainScheduled=!1)}),this._periodicFlush!==0&&(this._periodicFlushTimer=setInterval(()=>this.flush(null),this._periodicFlush),this._periodicFlushTimer.unref())}function releaseWritingBuf(writingBuf,len,n){return typeof writingBuf=="string"&&Buffer.byteLength(writingBuf)!==n&&(n=Buffer.from(writingBuf).subarray(0,n).toString().length),len=Math.max(len-n,0),writingBuf=writingBuf.slice(n),{writingBuf,len}}function emitDrain(sonic){sonic.listenerCount("drain")>0&&(sonic._asyncDrainScheduled=!1,sonic.emit("drain"))}inherits(SonicBoom,EventEmitter);function mergeBuf(bufs,len){return bufs.length===0?kEmptyBuffer:bufs.length===1?bufs[0]:Buffer.concat(bufs,len)}function write2(data){if(this.destroyed)throw new Error("SonicBoom destroyed");let len=this._len+data.length,bufs=this._bufs;return this.maxLength&&len>this.maxLength?(this.emit("drop",data),this._len<this._hwm):(bufs.length===0||bufs[bufs.length-1].length+data.length>this.maxWrite?bufs.push(""+data):bufs[bufs.length-1]+=data,this._len=len,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}function writeBuffer(data){if(this.destroyed)throw new Error("SonicBoom destroyed");let len=this._len+data.length,bufs=this._bufs,lens=this._lens;return this.maxLength&&len>this.maxLength?(this.emit("drop",data),this._len<this._hwm):(bufs.length===0||lens[lens.length-1]+data.length>this.maxWrite?(bufs.push([data]),lens.push(data.length)):(bufs[bufs.length-1].push(data),lens[lens.length-1]+=data.length),this._len=len,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}function callFlushCallbackOnDrain(cb){this._flushPending=!0;let onDrain=()=>{if(this._fsync)this._flushPending=!1,cb();else try{fs3.fsync(this.fd,err=>{this._flushPending=!1,cb(err)})}catch(err){cb(err)}this.off("error",onError)},onError=err=>{this._flushPending=!1,cb(err),this.off("drain",onDrain)};this.once("drain",onDrain),this.once("error",onError)}function flush(cb){if(cb!=null&&typeof cb!="function")throw new Error("flush cb must be a function");if(this.destroyed){let error=new Error("SonicBoom destroyed");if(cb){cb(error);return}throw error}if(this.minLength<=0){cb?.();return}cb&&callFlushCallbackOnDrain.call(this,cb),!this._writing&&(this._bufs.length===0&&this._bufs.push(""),this._actualWrite())}function flushBuffer(cb){if(cb!=null&&typeof cb!="function")throw new Error("flush cb must be a function");if(this.destroyed){let error=new Error("SonicBoom destroyed");if(cb){cb(error);return}throw error}if(this.minLength<=0){cb?.();return}cb&&callFlushCallbackOnDrain.call(this,cb),!this._writing&&(this._bufs.length===0&&(this._bufs.push([]),this._lens.push(0)),this._actualWrite())}SonicBoom.prototype.reopen=function(file){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(file)});return}if(this._ending)return;if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(file&&(this.file=file),this._reopening=!0,this._writing)return;let fd=this.fd;this.once("ready",()=>{fd!==this.fd&&fs3.close(fd,err=>{if(err)return this.emit("error",err)})}),openFile(this.file,this)};SonicBoom.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}this._ending||(this._ending=!0,!this._writing&&(this._len>0&&this.fd>=0?this._actualWrite():actualClose(this)))};function flushSync(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");let buf="";for(;this._bufs.length||buf;){buf.length<=0&&(buf=this._bufs[0]);try{let n=fs3.writeSync(this.fd,buf,"utf8"),releasedBufObj=releaseWritingBuf(buf,this._len,n);buf=releasedBufObj.writingBuf,this._len=releasedBufObj.len,buf.length<=0&&this._bufs.shift()}catch(err){if((err.code==="EAGAIN"||err.code==="EBUSY")&&!this.retryEAGAIN(err,buf.length,this._len-buf.length))throw err;sleep(BUSY_WRITE_TIMEOUT)}}try{fs3.fsyncSync(this.fd)}catch{}}function flushBufferSync(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift([this._writingBuf]),this._writingBuf=kEmptyBuffer);let buf=kEmptyBuffer;for(;this._bufs.length||buf.length;){buf.length<=0&&(buf=mergeBuf(this._bufs[0],this._lens[0]));try{let n=fs3.writeSync(this.fd,buf);buf=buf.subarray(n),this._len=Math.max(this._len-n,0),buf.length<=0&&(this._bufs.shift(),this._lens.shift())}catch(err){if((err.code==="EAGAIN"||err.code==="EBUSY")&&!this.retryEAGAIN(err,buf.length,this._len-buf.length))throw err;sleep(BUSY_WRITE_TIMEOUT)}}}SonicBoom.prototype.destroy=function(){this.destroyed||actualClose(this)};function actualWrite(){let release=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf||this._bufs.shift()||"",this.sync)try{let written=fs3.writeSync(this.fd,this._writingBuf,"utf8");release(null,written)}catch(err){release(err)}else fs3.write(this.fd,this._writingBuf,"utf8",release)}function actualWriteBuffer(){let release=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf.length?this._writingBuf:mergeBuf(this._bufs.shift(),this._lens.shift()),this.sync)try{let written=fs3.writeSync(this.fd,this._writingBuf);release(null,written)}catch(err){release(err)}else kCopyBuffer&&(this._writingBuf=Buffer.from(this._writingBuf)),fs3.write(this.fd,this._writingBuf,release)}function actualClose(sonic){if(sonic.fd===-1){sonic.once("ready",actualClose.bind(null,sonic));return}sonic._periodicFlushTimer!==void 0&&clearInterval(sonic._periodicFlushTimer),sonic.destroyed=!0,sonic._bufs=[],sonic._lens=[],assert2(typeof sonic.fd=="number",`sonic.fd must be a number, got ${typeof sonic.fd}`);try{fs3.fsync(sonic.fd,closeWrapped)}catch{}function closeWrapped(){sonic.fd!==1&&sonic.fd!==2?fs3.close(sonic.fd,done):done()}function done(err){if(err){sonic.emit("error",err);return}sonic._ending&&!sonic._writing&&sonic.emit("finish"),sonic.emit("close")}}SonicBoom.SonicBoom=SonicBoom;SonicBoom.default=SonicBoom;module2.exports=SonicBoom}});var require_on_exit_leak_free=__commonJS({"../../../../node_modules/on-exit-leak-free/index.js"(exports2,module2){"use strict";var refs={exit:[],beforeExit:[]},functions={exit:onExit,beforeExit:onBeforeExit},registry;function ensureRegistry(){registry===void 0&&(registry=new FinalizationRegistry(clear))}function install(event){refs[event].length>0||process.on(event,functions[event])}function uninstall(event){refs[event].length>0||(process.removeListener(event,functions[event]),refs.exit.length===0&&refs.beforeExit.length===0&&(registry=void 0))}function onExit(){callRefs("exit")}function onBeforeExit(){callRefs("beforeExit")}function callRefs(event){for(let ref of refs[event]){let obj=ref.deref(),fn=ref.fn;obj!==void 0&&fn(obj,event)}refs[event]=[]}function clear(ref){for(let event of["exit","beforeExit"]){let index2=refs[event].indexOf(ref);refs[event].splice(index2,index2+1),uninstall(event)}}function _register(event,obj,fn){if(obj===void 0)throw new Error("the object can't be undefined");install(event);let ref=new WeakRef(obj);ref.fn=fn,ensureRegistry(),registry.register(obj,ref),refs[event].push(ref)}function register(obj,fn){_register("exit",obj,fn)}function registerBeforeExit(obj,fn){_register("beforeExit",obj,fn)}function unregister(obj){if(registry!==void 0){registry.unregister(obj);for(let event of["exit","beforeExit"])refs[event]=refs[event].filter(ref=>{let _obj=ref.deref();return _obj&&_obj!==obj}),uninstall(event)}}module2.exports={register,registerBeforeExit,unregister}}});var require_package=__commonJS({"../../../../node_modules/thread-stream/package.json"(exports2,module2){module2.exports={name:"thread-stream",version:"4.0.0",description:"A streaming way to send data to a Node.js Worker Thread",main:"index.js",types:"index.d.ts",engines:{node:">=20"},dependencies:{"real-require":"^0.2.0"},devDependencies:{"@types/node":"^22.0.0","@yao-pkg/pkg":"^6.0.0",borp:"^0.21.0",desm:"^1.3.0",eslint:"^9.39.1",fastbench:"^1.0.1",husky:"^9.0.6",neostandard:"^0.12.2","pino-elasticsearch":"^8.0.0","sonic-boom":"^4.0.1","ts-node":"^10.8.0",typescript:"~5.7.3"},scripts:{build:"tsc --noEmit",lint:"eslint",test:"npm run lint && npm run build && npm run transpile && borp --pattern 'test/*.test.{js,mjs}'","test:ci":"npm run lint && npm run transpile && borp --pattern 'test/*.test.{js,mjs}'","test:yarn":"npm run transpile && borp --pattern 'test/*.test.js'",transpile:"sh ./test/ts/transpile.sh",prepare:"husky install"},repository:{type:"git",url:"git+https://github.com/mcollina/thread-stream.git"},keywords:["worker","thread","threads","stream"],author:"Matteo Collina <hello@matteocollina.com>",license:"MIT",bugs:{url:"https://github.com/mcollina/thread-stream/issues"},homepage:"https://github.com/mcollina/thread-stream#readme"}}});var require_wait=__commonJS({"../../../../node_modules/thread-stream/lib/wait.js"(exports2,module2){"use strict";function wait(state,index2,expected,timeout,done){let max=timeout===1/0?1/0:Date.now()+timeout,check=()=>{let current=Atomics.load(state,index2);if(current===expected){done(null,"ok");return}if(max!==1/0&&Date.now()>max){done(null,"timed-out");return}let remaining=max===1/0?1e4:Math.min(1e4,Math.max(1,max-Date.now())),result=Atomics.waitAsync(state,index2,current,remaining);result.async?result.value.then(check):setImmediate(check)};check()}function waitDiff(state,index2,expected,timeout,done){let max=timeout===1/0?1/0:Date.now()+timeout,check=()=>{if(Atomics.load(state,index2)!==expected){done(null,"ok");return}if(max!==1/0&&Date.now()>max){done(null,"timed-out");return}let remaining=max===1/0?1e4:Math.min(1e4,Math.max(1,max-Date.now())),result=Atomics.waitAsync(state,index2,expected,remaining);result.async?result.value.then(check):setImmediate(check)};check()}module2.exports={wait,waitDiff}}});var require_indexes=__commonJS({"../../../../node_modules/thread-stream/lib/indexes.js"(exports2,module2){"use strict";module2.exports={WRITE_INDEX:4,READ_INDEX:8}}});var require_thread_stream=__commonJS({"../../../../node_modules/thread-stream/index.js"(exports2,module2){"use strict";var{version}=require_package(),{EventEmitter}=require("events"),{Worker}=require("worker_threads"),{join}=require("path"),{pathToFileURL}=require("url"),{wait}=require_wait(),{WRITE_INDEX,READ_INDEX}=require_indexes(),buffer=require("buffer"),assert2=require("assert"),kImpl=Symbol("kImpl"),MAX_STRING=buffer.constants.MAX_STRING_LENGTH,FakeWeakRef=class{constructor(value){this._value=value}deref(){return this._value}},FakeFinalizationRegistry=class{register(){}unregister(){}},FinalizationRegistry2=process.env.NODE_V8_COVERAGE?FakeFinalizationRegistry:global.FinalizationRegistry||FakeFinalizationRegistry,WeakRef2=process.env.NODE_V8_COVERAGE?FakeWeakRef:global.WeakRef||FakeWeakRef,registry=new FinalizationRegistry2(worker=>{worker.exited||worker.terminate()});function createWorker(stream,opts){let{filename,workerData}=opts,toExecute=("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||join(__dirname,"lib","worker.js"),worker=new Worker(toExecute,{...opts.workerOpts,trackUnmanagedFds:!1,workerData:{filename:filename.indexOf("file://")===0?filename:pathToFileURL(filename).href,dataBuf:stream[kImpl].dataBuf,stateBuf:stream[kImpl].stateBuf,workerData:{$context:{threadStreamVersion:version},...workerData}}});return worker.stream=new FakeWeakRef(stream),worker.on("message",onWorkerMessage),worker.on("exit",onWorkerExit),registry.register(stream,worker),worker}function drain(stream){assert2(!stream[kImpl].sync),stream[kImpl].needDrain&&(stream[kImpl].needDrain=!1,stream.emit("drain"))}function nextFlush(stream){let writeIndex=Atomics.load(stream[kImpl].state,WRITE_INDEX),leftover=stream[kImpl].data.length-writeIndex;if(leftover>0){if(stream[kImpl].buf.length===0){stream[kImpl].flushing=!1,stream[kImpl].ending?end(stream):stream[kImpl].needDrain&&process.nextTick(drain,stream);return}let toWrite=stream[kImpl].buf.slice(0,leftover),toWriteBytes=Buffer.byteLength(toWrite);toWriteBytes<=leftover?(stream[kImpl].buf=stream[kImpl].buf.slice(leftover),write2(stream,toWrite,nextFlush.bind(null,stream))):stream.flush(()=>{if(!stream.destroyed){for(Atomics.store(stream[kImpl].state,READ_INDEX,0),Atomics.store(stream[kImpl].state,WRITE_INDEX,0),Atomics.notify(stream[kImpl].state,READ_INDEX);toWriteBytes>stream[kImpl].data.length;)leftover=leftover/2,toWrite=stream[kImpl].buf.slice(0,leftover),toWriteBytes=Buffer.byteLength(toWrite);stream[kImpl].buf=stream[kImpl].buf.slice(leftover),write2(stream,toWrite,nextFlush.bind(null,stream))}})}else if(leftover===0){if(writeIndex===0&&stream[kImpl].buf.length===0)return;stream.flush(()=>{Atomics.store(stream[kImpl].state,READ_INDEX,0),Atomics.store(stream[kImpl].state,WRITE_INDEX,0),Atomics.notify(stream[kImpl].state,READ_INDEX),nextFlush(stream)})}else destroy(stream,new Error("overwritten"))}function onWorkerMessage(msg){let stream=this.stream.deref();if(stream===void 0){this.exited=!0,this.terminate();return}switch(msg.code){case"READY":this.stream=new WeakRef2(stream),stream.flush(()=>{stream[kImpl].ready=!0,stream.emit("ready")});break;case"ERROR":destroy(stream,msg.err);break;case"EVENT":Array.isArray(msg.args)?stream.emit(msg.name,...msg.args):stream.emit(msg.name,msg.args);break;case"WARNING":process.emitWarning(msg.err);break;default:destroy(stream,new Error("this should not happen: "+msg.code))}}function onWorkerExit(code2){let stream=this.stream.deref();stream!==void 0&&(registry.unregister(stream),stream.worker.exited=!0,stream.worker.off("exit",onWorkerExit),destroy(stream,code2!==0?new Error("the worker thread exited"):null))}var ThreadStream=class extends EventEmitter{constructor(opts={}){if(super(),opts.bufferSize<4)throw new Error("bufferSize must at least fit a 4-byte utf-8 char");this[kImpl]={},this[kImpl].stateBuf=new SharedArrayBuffer(128),this[kImpl].state=new Int32Array(this[kImpl].stateBuf),this[kImpl].dataBuf=new SharedArrayBuffer(opts.bufferSize||4*1024*1024),this[kImpl].data=Buffer.from(this[kImpl].dataBuf),this[kImpl].sync=opts.sync||!1,this[kImpl].ending=!1,this[kImpl].ended=!1,this[kImpl].needDrain=!1,this[kImpl].destroyed=!1,this[kImpl].flushing=!1,this[kImpl].ready=!1,this[kImpl].finished=!1,this[kImpl].errored=null,this[kImpl].closed=!1,this[kImpl].buf="",this.worker=createWorker(this,opts),this.on("message",(message,transferList)=>{this.worker.postMessage(message,transferList)})}write(data){if(this[kImpl].destroyed)return error(this,new Error("the worker has exited")),!1;if(this[kImpl].ending)return error(this,new Error("the worker is ending")),!1;if(this[kImpl].flushing&&this[kImpl].buf.length+data.length>=MAX_STRING)try{writeSync(this),this[kImpl].flushing=!0}catch(err){return destroy(this,err),!1}if(this[kImpl].buf+=data,this[kImpl].sync)try{return writeSync(this),!0}catch(err){return destroy(this,err),!1}return this[kImpl].flushing||(this[kImpl].flushing=!0,setImmediate(nextFlush,this)),this[kImpl].needDrain=this[kImpl].data.length-this[kImpl].buf.length-Atomics.load(this[kImpl].state,WRITE_INDEX)<=0,!this[kImpl].needDrain}end(){this[kImpl].destroyed||(this[kImpl].ending=!0,end(this))}flush(cb){if(this[kImpl].destroyed){typeof cb=="function"&&process.nextTick(cb,new Error("the worker has exited"));return}let writeIndex=Atomics.load(this[kImpl].state,WRITE_INDEX);wait(this[kImpl].state,READ_INDEX,writeIndex,1/0,(err,res)=>{if(err){destroy(this,err),process.nextTick(cb,err);return}if(res==="not-equal"){this.flush(cb);return}process.nextTick(cb)})}flushSync(){this[kImpl].destroyed||(writeSync(this),flushSync(this))}unref(){this.worker.unref()}ref(){this.worker.ref()}get ready(){return this[kImpl].ready}get destroyed(){return this[kImpl].destroyed}get closed(){return this[kImpl].closed}get writable(){return!this[kImpl].destroyed&&!this[kImpl].ending}get writableEnded(){return this[kImpl].ending}get writableFinished(){return this[kImpl].finished}get writableNeedDrain(){return this[kImpl].needDrain}get writableObjectMode(){return!1}get writableErrored(){return this[kImpl].errored}};function error(stream,err){setImmediate(()=>{stream.emit("error",err)})}function destroy(stream,err){stream[kImpl].destroyed||(stream[kImpl].destroyed=!0,err&&(stream[kImpl].errored=err,error(stream,err)),stream.worker.exited?setImmediate(()=>{stream[kImpl].closed=!0,stream.emit("close")}):stream.worker.terminate().catch(()=>{}).then(()=>{stream[kImpl].closed=!0,stream.emit("close")}))}function write2(stream,data,cb){let current=Atomics.load(stream[kImpl].state,WRITE_INDEX),length=Buffer.byteLength(data);return stream[kImpl].data.write(data,current),Atomics.store(stream[kImpl].state,WRITE_INDEX,current+length),Atomics.notify(stream[kImpl].state,WRITE_INDEX),cb(),!0}function end(stream){if(!(stream[kImpl].ended||!stream[kImpl].ending||stream[kImpl].flushing)){stream[kImpl].ended=!0;try{stream.flushSync();let readIndex=Atomics.load(stream[kImpl].state,READ_INDEX);Atomics.store(stream[kImpl].state,WRITE_INDEX,-1),Atomics.notify(stream[kImpl].state,WRITE_INDEX);let spins=0;for(;readIndex!==-1;){if(Atomics.wait(stream[kImpl].state,READ_INDEX,readIndex,1e3),readIndex=Atomics.load(stream[kImpl].state,READ_INDEX),readIndex===-2){destroy(stream,new Error("end() failed"));return}if(++spins===10){destroy(stream,new Error("end() took too long (10s)"));return}}process.nextTick(()=>{stream[kImpl].finished=!0,stream.emit("finish")})}catch(err){destroy(stream,err)}}}function writeSync(stream){let cb=()=>{stream[kImpl].ending?end(stream):stream[kImpl].needDrain&&process.nextTick(drain,stream)};for(stream[kImpl].flushing=!1;stream[kImpl].buf.length!==0;){let writeIndex=Atomics.load(stream[kImpl].state,WRITE_INDEX),leftover=stream[kImpl].data.length-writeIndex;if(leftover===0){flushSync(stream),Atomics.store(stream[kImpl].state,READ_INDEX,0),Atomics.store(stream[kImpl].state,WRITE_INDEX,0),Atomics.notify(stream[kImpl].state,READ_INDEX);continue}else if(leftover<0)throw new Error("overwritten");let toWrite=stream[kImpl].buf.slice(0,leftover),toWriteBytes=Buffer.byteLength(toWrite);if(toWriteBytes<=leftover)stream[kImpl].buf=stream[kImpl].buf.slice(leftover),write2(stream,toWrite,cb);else{for(flushSync(stream),Atomics.store(stream[kImpl].state,READ_INDEX,0),Atomics.store(stream[kImpl].state,WRITE_INDEX,0),Atomics.notify(stream[kImpl].state,READ_INDEX);toWriteBytes>stream[kImpl].buf.length;)leftover=leftover/2,toWrite=stream[kImpl].buf.slice(0,leftover),toWriteBytes=Buffer.byteLength(toWrite);stream[kImpl].buf=stream[kImpl].buf.slice(leftover),write2(stream,toWrite,cb)}}}function flushSync(stream){if(stream[kImpl].flushing)throw new Error("unable to flush while flushing");let writeIndex=Atomics.load(stream[kImpl].state,WRITE_INDEX),spins=0;for(;;){let readIndex=Atomics.load(stream[kImpl].state,READ_INDEX);if(readIndex===-2)throw Error("_flushSync failed");if(readIndex!==writeIndex)Atomics.wait(stream[kImpl].state,READ_INDEX,readIndex,1e3);else break;if(++spins===10)throw new Error("_flushSync took too long (10s)")}}module2.exports=ThreadStream}});var require_transport=__commonJS({"../../../../node_modules/pino/lib/transport.js"(exports2,module2){"use strict";var{createRequire}=require("module"),getCallers=require_caller(),{join,isAbsolute,sep}=require("node:path"),sleep=require_atomic_sleep(),onExit=require_on_exit_leak_free(),ThreadStream=require_thread_stream();function setupOnExit(stream){onExit.register(stream,autoEnd),onExit.registerBeforeExit(stream,flush),stream.on("close",function(){onExit.unregister(stream)})}function hasPreloadFlags(){let execArgv=process.execArgv;for(let i=0;i<execArgv.length;i++){let arg=execArgv[i];if(arg==="--import"||arg==="--require"||arg==="-r"||arg.startsWith("--import=")||arg.startsWith("--require=")||arg.startsWith("-r="))return!0}return!1}function buildStream(filename,workerData,workerOpts,sync,name){!workerOpts.execArgv&&hasPreloadFlags()&&require.main===void 0&&(workerOpts={...workerOpts,execArgv:[]}),workerOpts={...workerOpts,name};let stream=new ThreadStream({filename,workerData,workerOpts,sync});stream.on("ready",onReady),stream.on("close",function(){process.removeListener("exit",onExit2)}),process.on("exit",onExit2);function onReady(){process.removeListener("exit",onExit2),stream.unref(),workerOpts.autoEnd!==!1&&setupOnExit(stream)}function onExit2(){stream.closed||(stream.flushSync(),sleep(100),stream.end())}return stream}function autoEnd(stream){stream.ref(),stream.flushSync(),stream.end(),stream.once("close",function(){stream.unref()})}function flush(stream){stream.flushSync()}function transport(fullOptions){let{pipeline,targets,levels,dedupe,worker={},caller=getCallers(),sync=!1}=fullOptions,options2={...fullOptions.options},callers=typeof caller=="string"?[caller]:caller,bundlerOverrides=typeof globalThis=="object"&&Object.prototype.hasOwnProperty.call(globalThis,"__bundlerPathsOverrides")&&globalThis.__bundlerPathsOverrides&&typeof globalThis.__bundlerPathsOverrides=="object"?globalThis.__bundlerPathsOverrides:Object.create(null),target=fullOptions.target;if(target&&targets)throw new Error("only one of target or targets can be specified");targets?(target=bundlerOverrides["pino-worker"]||join(__dirname,"worker.js"),options2.targets=targets.filter(dest=>dest.target).map(dest=>({...dest,target:fixTarget(dest.target)})),options2.pipelines=targets.filter(dest=>dest.pipeline).map(dest=>dest.pipeline.map(t=>({...t,level:dest.level,target:fixTarget(t.target)})))):pipeline&&(target=bundlerOverrides["pino-worker"]||join(__dirname,"worker.js"),options2.pipelines=[pipeline.map(dest=>({...dest,target:fixTarget(dest.target)}))]),levels&&(options2.levels=levels),dedupe&&(options2.dedupe=dedupe),options2.pinoWillSendConfig=!0;let name=targets||pipeline?"pino.transport":target;return buildStream(fixTarget(target),options2,worker,sync,name);function fixTarget(origin){if(origin=bundlerOverrides[origin]||origin,isAbsolute(origin)||origin.indexOf("file://")===0)return origin;if(origin==="pino/file")return join(__dirname,"..","file.js");let fixTarget2;for(let filePath of callers)try{let context=filePath==="node:repl"?process.cwd()+sep:filePath;fixTarget2=createRequire(context).resolve(origin);break}catch{continue}if(!fixTarget2)throw new Error(`unable to determine transport target for "${origin}"`);return fixTarget2}}module2.exports=transport}});var require_tools=__commonJS({"../../../../node_modules/pino/lib/tools.js"(exports2,module2){"use strict";var diagChan=require("node:diagnostics_channel"),format2=require_quick_format_unescaped(),{mapHttpRequest,mapHttpResponse}=require_pino_std_serializers(),SonicBoom=require_sonic_boom(),onExit=require_on_exit_leak_free(),{lsCacheSym,chindingsSym,writeSym,serializersSym,formatOptsSym,endSym,stringifiersSym,stringifySym,stringifySafeSym,wildcardFirstSym,nestedKeySym,formattersSym,messageKeySym,errorKeySym,nestedKeyStrSym,msgPrefixSym}=require_symbols3(),{isMainThread}=require("worker_threads"),transport=require_transport(),[nodeMajor]=process.versions.node.split(".").map(v=>Number(v)),asJsonChan=diagChan.tracingChannel("pino_asJson"),asString=nodeMajor>=25?str=>JSON.stringify(str):_asString;function noop(){}function genLog(level,hook){if(!hook)return LOG;return function(...args){hook.call(this,args,LOG,level)};function LOG(o,...n){if(typeof o=="object"){let msg=o;o!==null&&(o.method&&o.headers&&o.socket?o=mapHttpRequest(o):typeof o.setHeader=="function"&&(o=mapHttpResponse(o)));let formatParams;msg===null&&n.length===0?formatParams=[null]:(msg=n.shift(),formatParams=n),typeof this[msgPrefixSym]=="string"&&msg!==void 0&&msg!==null&&(msg=this[msgPrefixSym]+msg),this[writeSym](o,format2(msg,formatParams,this[formatOptsSym]),level)}else{let msg=o===void 0?n.shift():o;typeof this[msgPrefixSym]=="string"&&msg!==void 0&&msg!==null&&(msg=this[msgPrefixSym]+msg),this[writeSym](null,format2(msg,n,this[formatOptsSym]),level)}}}function _asString(str){let result="",last=0,found=!1,point=255,l=str.length;if(l>100)return JSON.stringify(str);for(var i=0;i<l&&point>=32;i++)point=str.charCodeAt(i),(point===34||point===92)&&(result+=str.slice(last,i)+"\\",last=i,found=!0);return found?result+=str.slice(last):result=str,point<32?JSON.stringify(str):'"'+result+'"'}function asJson(obj,msg,num,time){if(asJsonChan.hasSubscribers===!1)return _asJson.call(this,obj,msg,num,time);let store={instance:this,arguments};return asJsonChan.traceSync(_asJson,store,this,obj,msg,num,time)}function _asJson(obj,msg,num,time){let stringify3=this[stringifySym],stringifySafe=this[stringifySafeSym],stringifiers=this[stringifiersSym],end=this[endSym],chindings=this[chindingsSym],serializers=this[serializersSym],formatters=this[formattersSym],messageKey=this[messageKeySym],errorKey=this[errorKeySym],data=this[lsCacheSym][num]+time;data=data+chindings;let value;formatters.log&&(obj=formatters.log(obj));let wildcardStringifier=stringifiers[wildcardFirstSym],propStr="";for(let key in obj)if(value=obj[key],Object.prototype.hasOwnProperty.call(obj,key)&&value!==void 0){serializers[key]?value=serializers[key](value):key===errorKey&&serializers.err&&(value=serializers.err(value));let stringifier=stringifiers[key]||wildcardStringifier;switch(typeof value){case"undefined":case"function":continue;case"number":Number.isFinite(value)===!1&&(value=null);case"boolean":stringifier&&(value=stringifier(value));break;case"string":value=(stringifier||asString)(value);break;default:value=(stringifier||stringify3)(value,stringifySafe)}if(value===void 0)continue;let strKey=asString(key);propStr+=","+strKey+":"+value}let msgStr="";if(msg!==void 0){value=serializers[messageKey]?serializers[messageKey](msg):msg;let stringifier=stringifiers[messageKey]||wildcardStringifier;switch(typeof value){case"function":break;case"number":Number.isFinite(value)===!1&&(value=null);case"boolean":stringifier&&(value=stringifier(value)),msgStr=',"'+messageKey+'":'+value;break;case"string":value=(stringifier||asString)(value),msgStr=',"'+messageKey+'":'+value;break;default:value=(stringifier||stringify3)(value,stringifySafe),msgStr=',"'+messageKey+'":'+value}}return this[nestedKeySym]&&propStr?data+this[nestedKeyStrSym]+propStr.slice(1)+"}"+msgStr+end:data+propStr+msgStr+end}function asChindings(instance,bindings){let value,data=instance[chindingsSym],stringify3=instance[stringifySym],stringifySafe=instance[stringifySafeSym],stringifiers=instance[stringifiersSym],wildcardStringifier=stringifiers[wildcardFirstSym],serializers=instance[serializersSym],formatter=instance[formattersSym].bindings;bindings=formatter(bindings);for(let key in bindings)if(value=bindings[key],((key.length<5||key!=="level"&&key!=="serializers"&&key!=="formatters"&&key!=="customLevels")&&bindings.hasOwnProperty(key)&&value!==void 0)===!0){if(value=serializers[key]?serializers[key](value):value,value=(stringifiers[key]||wildcardStringifier||stringify3)(value,stringifySafe),value===void 0)continue;data+=',"'+key+'":'+value}return data}function hasBeenTampered(stream){return stream.write!==stream.constructor.prototype.write}function buildSafeSonicBoom(opts){let stream=new SonicBoom(opts);return stream.on("error",filterBrokenPipe),!opts.sync&&isMainThread&&(onExit.register(stream,autoEnd),stream.on("close",function(){onExit.unregister(stream)})),stream;function filterBrokenPipe(err){if(err.code==="EPIPE"){stream.write=noop,stream.end=noop,stream.flushSync=noop,stream.destroy=noop;return}stream.removeListener("error",filterBrokenPipe),stream.emit("error",err)}}function autoEnd(stream,eventName){stream.destroyed||(eventName==="beforeExit"?(stream.flush(),stream.on("drain",function(){stream.end()})):stream.flushSync())}function createArgsNormalizer(defaultOptions3){return function(instance,caller,opts={},stream){if(typeof opts=="string")stream=buildSafeSonicBoom({dest:opts}),opts={};else if(typeof stream=="string"){if(opts&&opts.transport)throw Error("only one of option.transport or stream can be specified");stream=buildSafeSonicBoom({dest:stream})}else if(opts instanceof SonicBoom||opts.writable||opts._writableState)stream=opts,opts={};else if(opts.transport){if(opts.transport instanceof SonicBoom||opts.transport.writable||opts.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(opts.transport.targets&&opts.transport.targets.length&&opts.formatters&&typeof opts.formatters.level=="function")throw Error("option.transport.targets do not allow custom level formatters");let customLevels;opts.customLevels&&(customLevels=opts.useOnlyCustomLevels?opts.customLevels:Object.assign({},opts.levels,opts.customLevels)),stream=transport({caller,...opts.transport,levels:customLevels})}if(opts=Object.assign({},defaultOptions3,opts),opts.serializers=Object.assign({},defaultOptions3.serializers,opts.serializers),opts.formatters=Object.assign({},defaultOptions3.formatters,opts.formatters),opts.prettyPrint)throw new Error("prettyPrint option is no longer supported, see the pino-pretty package (https://github.com/pinojs/pino-pretty)");let{enabled:enabled2,onChild}=opts;return enabled2===!1&&(opts.level="silent"),onChild||(opts.onChild=noop),stream||(hasBeenTampered(process.stdout)?stream=process.stdout:stream=buildSafeSonicBoom({fd:process.stdout.fd||1})),{opts,stream}}}function stringify2(obj,stringifySafeFn){try{return JSON.stringify(obj)}catch{try{return(stringifySafeFn||this[stringifySafeSym])(obj)}catch{return'"[unable to serialize, circular reference is too complex to analyze]"'}}}function buildFormatters(level,bindings,log){return{level,bindings,log}}function normalizeDestFileDescriptor(destination){let fd=Number(destination);return typeof destination=="string"&&Number.isFinite(fd)?fd:destination===void 0?1:destination}module2.exports={noop,buildSafeSonicBoom,asChindings,asJson,genLog,createArgsNormalizer,stringify:stringify2,buildFormatters,normalizeDestFileDescriptor}}});var require_constants=__commonJS({"../../../../node_modules/pino/lib/constants.js"(exports2,module2){var DEFAULT_LEVELS={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},SORTING_ORDER={ASC:"ASC",DESC:"DESC"};module2.exports={DEFAULT_LEVELS,SORTING_ORDER}}});var require_levels=__commonJS({"../../../../node_modules/pino/lib/levels.js"(exports2,module2){"use strict";var{lsCacheSym,levelValSym,useOnlyCustomLevelsSym,streamSym,formattersSym,hooksSym,levelCompSym}=require_symbols3(),{noop,genLog}=require_tools(),{DEFAULT_LEVELS,SORTING_ORDER}=require_constants(),levelMethods={fatal:hook=>{let logFatal=genLog(DEFAULT_LEVELS.fatal,hook);return function(...args){let stream=this[streamSym];if(logFatal.call(this,...args),typeof stream.flushSync=="function")try{stream.flushSync()}catch{}}},error:hook=>genLog(DEFAULT_LEVELS.error,hook),warn:hook=>genLog(DEFAULT_LEVELS.warn,hook),info:hook=>genLog(DEFAULT_LEVELS.info,hook),debug:hook=>genLog(DEFAULT_LEVELS.debug,hook),trace:hook=>genLog(DEFAULT_LEVELS.trace,hook)},nums=Object.keys(DEFAULT_LEVELS).reduce((o,k)=>(o[DEFAULT_LEVELS[k]]=k,o),{}),initialLsCache=Object.keys(nums).reduce((o,k)=>(o[k]='{"level":'+Number(k),o),{});function genLsCache(instance){let formatter=instance[formattersSym].level,{labels}=instance.levels,cache={};for(let label in labels){let level=formatter(labels[label],Number(label));cache[label]=JSON.stringify(level).slice(0,-1)}return instance[lsCacheSym]=cache,instance}function isStandardLevel(level,useOnlyCustomLevels){if(useOnlyCustomLevels)return!1;switch(level){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function setLevel(level){let{labels,values:values2}=this.levels;if(typeof level=="number"){if(labels[level]===void 0)throw Error("unknown level value"+level);level=labels[level]}if(values2[level]===void 0)throw Error("unknown level "+level);let preLevelVal=this[levelValSym],levelVal=this[levelValSym]=values2[level],useOnlyCustomLevelsVal=this[useOnlyCustomLevelsSym],levelComparison=this[levelCompSym],hook=this[hooksSym].logMethod;for(let key in values2){if(levelComparison(values2[key],levelVal)===!1){this[key]=noop;continue}this[key]=isStandardLevel(key,useOnlyCustomLevelsVal)?levelMethods[key](hook):genLog(values2[key],hook)}this.emit("level-change",level,levelVal,labels[preLevelVal],preLevelVal,this)}function getLevel(level){let{levels,levelVal}=this;return levels&&levels.labels?levels.labels[levelVal]:""}function isLevelEnabled(logLevel){let{values:values2}=this.levels,logLevelVal=values2[logLevel];return logLevelVal!==void 0&&this[levelCompSym](logLevelVal,this[levelValSym])}function compareLevel(direction,current,expected){return direction===SORTING_ORDER.DESC?current<=expected:current>=expected}function genLevelComparison(levelComparison){return typeof levelComparison=="string"?compareLevel.bind(null,levelComparison):levelComparison}function mappings(customLevels=null,useOnlyCustomLevels=!1){let customNums=customLevels?Object.keys(customLevels).reduce((o,k)=>(o[customLevels[k]]=k,o),{}):null,labels=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),useOnlyCustomLevels?null:nums,customNums),values2=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),useOnlyCustomLevels?null:DEFAULT_LEVELS,customLevels);return{labels,values:values2}}function assertDefaultLevelFound(defaultLevel,customLevels,useOnlyCustomLevels){if(typeof defaultLevel=="number"){if(![].concat(Object.keys(customLevels||{}).map(key=>customLevels[key]),useOnlyCustomLevels?[]:Object.keys(nums).map(level=>+level),1/0).includes(defaultLevel))throw Error(`default level:${defaultLevel} must be included in custom levels`);return}let labels=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),useOnlyCustomLevels?null:DEFAULT_LEVELS,customLevels);if(!(defaultLevel in labels))throw Error(`default level:${defaultLevel} must be included in custom levels`)}function assertNoLevelCollisions(levels,customLevels){let{labels,values:values2}=levels;for(let k in customLevels){if(k in values2)throw Error("levels cannot be overridden");if(customLevels[k]in labels)throw Error("pre-existing level values cannot be used for new levels")}}function assertLevelComparison(levelComparison){if(typeof levelComparison!="function"&&!(typeof levelComparison=="string"&&Object.values(SORTING_ORDER).includes(levelComparison)))throw new Error('Levels comparison should be one of "ASC", "DESC" or "function" type')}module2.exports={initialLsCache,genLsCache,levelMethods,getLevel,setLevel,isLevelEnabled,mappings,assertNoLevelCollisions,assertDefaultLevelFound,genLevelComparison,assertLevelComparison}}});var require_meta=__commonJS({"../../../../node_modules/pino/lib/meta.js"(exports2,module2){"use strict";module2.exports={version:"10.3.0"}}});var require_proto=__commonJS({"../../../../node_modules/pino/lib/proto.js"(exports2,module2){"use strict";var{EventEmitter}=require("node:events"),{lsCacheSym,levelValSym,setLevelSym,getLevelSym,chindingsSym,mixinSym,asJsonSym,writeSym,mixinMergeStrategySym,timeSym,timeSliceIndexSym,streamSym,serializersSym,formattersSym,errorKeySym,messageKeySym,useOnlyCustomLevelsSym,needsMetadataGsym,redactFmtSym,stringifySym,formatOptsSym,stringifiersSym,msgPrefixSym,hooksSym}=require_symbols3(),{getLevel,setLevel,isLevelEnabled,mappings,initialLsCache,genLsCache,assertNoLevelCollisions}=require_levels(),{asChindings,asJson,buildFormatters,stringify:stringify2,noop}=require_tools(),{version}=require_meta(),redaction=require_redaction(),constructor=class{},prototype={constructor,child,bindings,setBindings,flush,isLevelEnabled,version,get level(){return this[getLevelSym]()},set level(lvl){this[setLevelSym](lvl)},get levelVal(){return this[levelValSym]},set levelVal(n){throw Error("levelVal is read-only")},get msgPrefix(){return this[msgPrefixSym]},get[Symbol.toStringTag](){return"Pino"},[lsCacheSym]:initialLsCache,[writeSym]:write2,[asJsonSym]:asJson,[getLevelSym]:getLevel,[setLevelSym]:setLevel};Object.setPrototypeOf(prototype,EventEmitter.prototype);module2.exports=function(){return Object.create(prototype)};var resetChildingsFormatter=bindings2=>bindings2;function child(bindings2,options2){if(!bindings2)throw Error("missing bindings for child Pino");let serializers=this[serializersSym],formatters=this[formattersSym],instance=Object.create(this);if(options2==null)return instance[formattersSym].bindings!==resetChildingsFormatter&&(instance[formattersSym]=buildFormatters(formatters.level,resetChildingsFormatter,formatters.log)),instance[chindingsSym]=asChindings(instance,bindings2),this.onChild!==noop&&this.onChild(instance),instance;if(options2.hasOwnProperty("serializers")===!0){instance[serializersSym]=Object.create(null);for(let k in serializers)instance[serializersSym][k]=serializers[k];let parentSymbols=Object.getOwnPropertySymbols(serializers);for(var i=0;i<parentSymbols.length;i++){let ks=parentSymbols[i];instance[serializersSym][ks]=serializers[ks]}for(let bk in options2.serializers)instance[serializersSym][bk]=options2.serializers[bk];let bindingsSymbols=Object.getOwnPropertySymbols(options2.serializers);for(var bi=0;bi<bindingsSymbols.length;bi++){let bks=bindingsSymbols[bi];instance[serializersSym][bks]=options2.serializers[bks]}}else instance[serializersSym]=serializers;if(options2.hasOwnProperty("formatters")){let{level,bindings:chindings,log}=options2.formatters;instance[formattersSym]=buildFormatters(level||formatters.level,chindings||resetChildingsFormatter,log||formatters.log)}else instance[formattersSym]=buildFormatters(formatters.level,resetChildingsFormatter,formatters.log);if(options2.hasOwnProperty("customLevels")===!0&&(assertNoLevelCollisions(this.levels,options2.customLevels),instance.levels=mappings(options2.customLevels,instance[useOnlyCustomLevelsSym]),genLsCache(instance)),typeof options2.redact=="object"&&options2.redact!==null||Array.isArray(options2.redact)){instance.redact=options2.redact;let stringifiers=redaction(instance.redact,stringify2),formatOpts={stringify:stringifiers[redactFmtSym]};instance[stringifySym]=stringify2,instance[stringifiersSym]=stringifiers,instance[formatOptsSym]=formatOpts}if(typeof options2.msgPrefix=="string"&&(instance[msgPrefixSym]=(this[msgPrefixSym]||"")+options2.msgPrefix),instance[chindingsSym]=asChindings(instance,bindings2),options2.level!==void 0&&options2.level!==this.level||options2.hasOwnProperty("customLevels")){let childLevel=options2.level||this.level;instance[setLevelSym](childLevel)}return this.onChild(instance),instance}function bindings(){let chindingsJson=`{${this[chindingsSym].substr(1)}}`,bindingsFromJson=JSON.parse(chindingsJson);return delete bindingsFromJson.pid,delete bindingsFromJson.hostname,bindingsFromJson}function setBindings(newBindings){let chindings=asChindings(this,newBindings);this[chindingsSym]=chindings}function defaultMixinMergeStrategy(mergeObject,mixinObject){return Object.assign(mixinObject,mergeObject)}function write2(_obj,msg,num){let t=this[timeSym](),mixin=this[mixinSym],errorKey=this[errorKeySym],messageKey=this[messageKeySym],mixinMergeStrategy=this[mixinMergeStrategySym]||defaultMixinMergeStrategy,obj,streamWriteHook=this[hooksSym].streamWrite;_obj==null?obj={}:_obj instanceof Error?(obj={[errorKey]:_obj},msg===void 0&&(msg=_obj.message)):(obj=_obj,msg===void 0&&_obj[messageKey]===void 0&&_obj[errorKey]&&(msg=_obj[errorKey].message)),mixin&&(obj=mixinMergeStrategy(obj,mixin(obj,num,this)));let s=this[asJsonSym](obj,msg,num,t),stream=this[streamSym];stream[needsMetadataGsym]===!0&&(stream.lastLevel=num,stream.lastObj=obj,stream.lastMsg=msg,stream.lastTime=t.slice(this[timeSliceIndexSym]),stream.lastLogger=this),stream.write(streamWriteHook?streamWriteHook(s):s)}function flush(cb){if(cb!=null&&typeof cb!="function")throw Error("callback must be a function");let stream=this[streamSym];typeof stream.flush=="function"?stream.flush(cb||noop):cb&&cb()}}});var require_safe_stable_stringify=__commonJS({"../../../../node_modules/safe-stable-stringify/index.js"(exports2,module2){"use strict";var{hasOwnProperty}=Object.prototype,stringify2=configure();stringify2.configure=configure;stringify2.stringify=stringify2;stringify2.default=stringify2;exports2.stringify=stringify2;exports2.configure=configure;module2.exports=stringify2;var strEscapeSequencesRegExp=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function strEscape(str){return str.length<5e3&&!strEscapeSequencesRegExp.test(str)?`"${str}"`:JSON.stringify(str)}function sort(array,comparator){if(array.length>200||comparator)return array.sort(comparator);for(let i=1;i<array.length;i++){let currentValue=array[i],position=i;for(;position!==0&&array[position-1]>currentValue;)array[position]=array[position-1],position--;array[position]=currentValue}return array}var typedArrayPrototypeGetSymbolToStringTag=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function isTypedArrayWithEntries(value){return typedArrayPrototypeGetSymbolToStringTag.call(value)!==void 0&&value.length!==0}function stringifyTypedArray(array,separator,maximumBreadth){array.length<maximumBreadth&&(maximumBreadth=array.length);let whitespace=separator===","?"":" ",res=`"0":${whitespace}${array[0]}`;for(let i=1;i<maximumBreadth;i++)res+=`${separator}"${i}":${whitespace}${array[i]}`;return res}function getCircularValueOption(options2){if(hasOwnProperty.call(options2,"circularValue")){let circularValue=options2.circularValue;if(typeof circularValue=="string")return`"${circularValue}"`;if(circularValue==null)return circularValue;if(circularValue===Error||circularValue===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function getDeterministicOption(options2){let value;if(hasOwnProperty.call(options2,"deterministic")&&(value=options2.deterministic,typeof value!="boolean"&&typeof value!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return value===void 0?!0:value}function getBooleanOption(options2,key){let value;if(hasOwnProperty.call(options2,key)&&(value=options2[key],typeof value!="boolean"))throw new TypeError(`The "${key}" argument must be of type boolean`);return value===void 0?!0:value}function getPositiveIntegerOption(options2,key){let value;if(hasOwnProperty.call(options2,key)){if(value=options2[key],typeof value!="number")throw new TypeError(`The "${key}" argument must be of type number`);if(!Number.isInteger(value))throw new TypeError(`The "${key}" argument must be an integer`);if(value<1)throw new RangeError(`The "${key}" argument must be >= 1`)}return value===void 0?1/0:value}function getItemCount(number){return number===1?"1 item":`${number} items`}function getUniqueReplacerSet(replacerArray){let replacerSet=new Set;for(let value of replacerArray)(typeof value=="string"||typeof value=="number")&&replacerSet.add(String(value));return replacerSet}function getStrictOption(options2){if(hasOwnProperty.call(options2,"strict")){let value=options2.strict;if(typeof value!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(value)return value2=>{let message=`Object can not safely be stringified. Received type ${typeof value2}`;throw typeof value2!="function"&&(message+=` (${value2.toString()})`),new Error(message)}}}function configure(options2){options2={...options2};let fail=getStrictOption(options2);fail&&(options2.bigint===void 0&&(options2.bigint=!1),"circularValue"in options2||(options2.circularValue=Error));let circularValue=getCircularValueOption(options2),bigint=getBooleanOption(options2,"bigint"),deterministic=getDeterministicOption(options2),comparator=typeof deterministic=="function"?deterministic:void 0,maximumDepth=getPositiveIntegerOption(options2,"maximumDepth"),maximumBreadth=getPositiveIntegerOption(options2,"maximumBreadth");function stringifyFnReplacer(key,parent,stack,replacer,spacer,indentation){let value=parent[key];switch(typeof value=="object"&&value!==null&&typeof value.toJSON=="function"&&(value=value.toJSON(key)),value=replacer.call(parent,key,value),typeof value){case"string":return strEscape(value);case"object":{if(value===null)return"null";if(stack.indexOf(value)!==-1)return circularValue;let res="",join=",",originalIndentation=indentation;if(Array.isArray(value)){if(value.length===0)return"[]";if(maximumDepth<stack.length+1)return'"[Array]"';stack.push(value),spacer!==""&&(indentation+=spacer,res+=`
${indentation}`,join=`,
${indentation}`);let maximumValuesToStringify=Math.min(value.length,maximumBreadth),i=0;for(;i<maximumValuesToStringify-1;i++){let tmp2=stringifyFnReplacer(String(i),value,stack,replacer,spacer,indentation);res+=tmp2!==void 0?tmp2:"null",res+=join}let tmp=stringifyFnReplacer(String(i),value,stack,replacer,spacer,indentation);if(res+=tmp!==void 0?tmp:"null",value.length-1>maximumBreadth){let removedKeys=value.length-maximumBreadth-1;res+=`${join}"... ${getItemCount(removedKeys)} not stringified"`}return spacer!==""&&(res+=`
${originalIndentation}`),stack.pop(),`[${res}]`}let keys2=Object.keys(value),keyLength=keys2.length;if(keyLength===0)return"{}";if(maximumDepth<stack.length+1)return'"[Object]"';let whitespace="",separator="";spacer!==""&&(indentation+=spacer,join=`,
${indentation}`,whitespace=" ");let maximumPropertiesToStringify=Math.min(keyLength,maximumBreadth);deterministic&&!isTypedArrayWithEntries(value)&&(keys2=sort(keys2,comparator)),stack.push(value);for(let i=0;i<maximumPropertiesToStringify;i++){let key2=keys2[i],tmp=stringifyFnReplacer(key2,value,stack,replacer,spacer,indentation);tmp!==void 0&&(res+=`${separator}${strEscape(key2)}:${whitespace}${tmp}`,separator=join)}if(keyLength>maximumBreadth){let removedKeys=keyLength-maximumBreadth;res+=`${separator}"...":${whitespace}"${getItemCount(removedKeys)} not stringified"`,separator=join}return spacer!==""&&separator.length>1&&(res=`
${indentation}${res}
${originalIndentation}`),stack.pop(),`{${res}}`}case"number":return isFinite(value)?String(value):fail?fail(value):"null";case"boolean":return value===!0?"true":"false";case"undefined":return;case"bigint":if(bigint)return String(value);default:return fail?fail(value):void 0}}function stringifyArrayReplacer(key,value,stack,replacer,spacer,indentation){switch(typeof value=="object"&&value!==null&&typeof value.toJSON=="function"&&(value=value.toJSON(key)),typeof value){case"string":return strEscape(value);case"object":{if(value===null)return"null";if(stack.indexOf(value)!==-1)return circularValue;let originalIndentation=indentation,res="",join=",";if(Array.isArray(value)){if(value.length===0)return"[]";if(maximumDepth<stack.length+1)return'"[Array]"';stack.push(value),spacer!==""&&(indentation+=spacer,res+=`
${indentation}`,join=`,
${indentation}`);let maximumValuesToStringify=Math.min(value.length,maximumBreadth),i=0;for(;i<maximumValuesToStringify-1;i++){let tmp2=stringifyArrayReplacer(String(i),value[i],stack,replacer,spacer,indentation);res+=tmp2!==void 0?tmp2:"null",res+=join}let tmp=stringifyArrayReplacer(String(i),value[i],stack,replacer,spacer,indentation);if(res+=tmp!==void 0?tmp:"null",value.length-1>maximumBreadth){let removedKeys=value.length-maximumBreadth-1;res+=`${join}"... ${getItemCount(removedKeys)} not stringified"`}return spacer!==""&&(res+=`
${originalIndentation}`),stack.pop(),`[${res}]`}stack.push(value);let whitespace="";spacer!==""&&(indentation+=spacer,join=`,
${indentation}`,whitespace=" ");let separator="";for(let key2 of replacer){let tmp=stringifyArrayReplacer(key2,value[key2],stack,replacer,spacer,indentation);tmp!==void 0&&(res+=`${separator}${strEscape(key2)}:${whitespace}${tmp}`,separator=join)}return spacer!==""&&separator.length>1&&(res=`
${indentation}${res}
${originalIndentation}`),stack.pop(),`{${res}}`}case"number":return isFinite(value)?String(value):fail?fail(value):"null";case"boolean":return value===!0?"true":"false";case"undefined":return;case"bigint":if(bigint)return String(value);default:return fail?fail(value):void 0}}function stringifyIndent(key,value,stack,spacer,indentation){switch(typeof value){case"string":return strEscape(value);case"object":{if(value===null)return"null";if(typeof value.toJSON=="function"){if(value=value.toJSON(key),typeof value!="object")return stringifyIndent(key,value,stack,spacer,indentation);if(value===null)return"null"}if(stack.indexOf(value)!==-1)return circularValue;let originalIndentation=indentation;if(Array.isArray(value)){if(value.length===0)return"[]";if(maximumDepth<stack.length+1)return'"[Array]"';stack.push(value),indentation+=spacer;let res2=`
${indentation}`,join2=`,
${indentation}`,maximumValuesToStringify=Math.min(value.length,maximumBreadth),i=0;for(;i<maximumValuesToStringify-1;i++){let tmp2=stringifyIndent(String(i),value[i],stack,spacer,indentation);res2+=tmp2!==void 0?tmp2:"null",res2+=join2}let tmp=stringifyIndent(String(i),value[i],stack,spacer,indentation);if(res2+=tmp!==void 0?tmp:"null",value.length-1>maximumBreadth){let removedKeys=value.length-maximumBreadth-1;res2+=`${join2}"... ${getItemCount(removedKeys)} not stringified"`}return res2+=`
${originalIndentation}`,stack.pop(),`[${res2}]`}let keys2=Object.keys(value),keyLength=keys2.length;if(keyLength===0)return"{}";if(maximumDepth<stack.length+1)return'"[Object]"';indentation+=spacer;let join=`,
${indentation}`,res="",separator="",maximumPropertiesToStringify=Math.min(keyLength,maximumBreadth);isTypedArrayWithEntries(value)&&(res+=stringifyTypedArray(value,join,maximumBreadth),keys2=keys2.slice(value.length),maximumPropertiesToStringify-=value.length,separator=join),deterministic&&(keys2=sort(keys2,comparator)),stack.push(value);for(let i=0;i<maximumPropertiesToStringify;i++){let key2=keys2[i],tmp=stringifyIndent(key2,value[key2],stack,spacer,indentation);tmp!==void 0&&(res+=`${separator}${strEscape(key2)}: ${tmp}`,separator=join)}if(keyLength>maximumBreadth){let removedKeys=keyLength-maximumBreadth;res+=`${separator}"...": "${getItemCount(removedKeys)} not stringified"`,separator=join}return separator!==""&&(res=`
${indentation}${res}
${originalIndentation}`),stack.pop(),`{${res}}`}case"number":return isFinite(value)?String(value):fail?fail(value):"null";case"boolean":return value===!0?"true":"false";case"undefined":return;case"bigint":if(bigint)return String(value);default:return fail?fail(value):void 0}}function stringifySimple(key,value,stack){switch(typeof value){case"string":return strEscape(value);case"object":{if(value===null)return"null";if(typeof value.toJSON=="function"){if(value=value.toJSON(key),typeof value!="object")return stringifySimple(key,value,stack);if(value===null)return"null"}if(stack.indexOf(value)!==-1)return circularValue;let res="",hasLength=value.length!==void 0;if(hasLength&&Array.isArray(value)){if(value.length===0)return"[]";if(maximumDepth<stack.length+1)return'"[Array]"';stack.push(value);let maximumValuesToStringify=Math.min(value.length,maximumBreadth),i=0;for(;i<maximumValuesToStringify-1;i++){let tmp2=stringifySimple(String(i),value[i],stack);res+=tmp2!==void 0?tmp2:"null",res+=","}let tmp=stringifySimple(String(i),value[i],stack);if(res+=tmp!==void 0?tmp:"null",value.length-1>maximumBreadth){let removedKeys=value.length-maximumBreadth-1;res+=`,"... ${getItemCount(removedKeys)} not stringified"`}return stack.pop(),`[${res}]`}let keys2=Object.keys(value),keyLength=keys2.length;if(keyLength===0)return"{}";if(maximumDepth<stack.length+1)return'"[Object]"';let separator="",maximumPropertiesToStringify=Math.min(keyLength,maximumBreadth);hasLength&&isTypedArrayWithEntries(value)&&(res+=stringifyTypedArray(value,",",maximumBreadth),keys2=keys2.slice(value.length),maximumPropertiesToStringify-=value.length,separator=","),deterministic&&(keys2=sort(keys2,comparator)),stack.push(value);for(let i=0;i<maximumPropertiesToStringify;i++){let key2=keys2[i],tmp=stringifySimple(key2,value[key2],stack);tmp!==void 0&&(res+=`${separator}${strEscape(key2)}:${tmp}`,separator=",")}if(keyLength>maximumBreadth){let removedKeys=keyLength-maximumBreadth;res+=`${separator}"...":"${getItemCount(removedKeys)} not stringified"`}return stack.pop(),`{${res}}`}case"number":return isFinite(value)?String(value):fail?fail(value):"null";case"boolean":return value===!0?"true":"false";case"undefined":return;case"bigint":if(bigint)return String(value);default:return fail?fail(value):void 0}}function stringify3(value,replacer,space){if(arguments.length>1){let spacer="";if(typeof space=="number"?spacer=" ".repeat(Math.min(space,10)):typeof space=="string"&&(spacer=space.slice(0,10)),replacer!=null){if(typeof replacer=="function")return stringifyFnReplacer("",{"":value},[],replacer,spacer,"");if(Array.isArray(replacer))return stringifyArrayReplacer("",value,[],getUniqueReplacerSet(replacer),spacer,"")}if(spacer.length!==0)return stringifyIndent("",value,[],spacer,"")}return stringifySimple("",value,[])}return stringify3}}});var require_multistream=__commonJS({"../../../../node_modules/pino/lib/multistream.js"(exports2,module2){"use strict";var metadata=Symbol.for("pino.metadata"),{DEFAULT_LEVELS}=require_constants(),DEFAULT_INFO_LEVEL=DEFAULT_LEVELS.info;function multistream(streamsArray,opts){streamsArray=streamsArray||[],opts=opts||{dedupe:!1};let streamLevels=Object.create(DEFAULT_LEVELS);streamLevels.silent=1/0,opts.levels&&typeof opts.levels=="object"&&Object.keys(opts.levels).forEach(i=>{streamLevels[i]=opts.levels[i]});let res={write:write2,add:add2,remove,emit,flushSync,end,minLevel:0,lastId:0,streams:[],clone,[metadata]:!0,streamLevels};return Array.isArray(streamsArray)?streamsArray.forEach(add2,res):add2.call(res,streamsArray),streamsArray=null,res;function write2(data){let dest,level=this.lastLevel,{streams}=this,recordedLevel=0,stream;for(let i=initLoopVar(streams.length,opts.dedupe);checkLoopVar(i,streams.length,opts.dedupe);i=adjustLoopVar(i,opts.dedupe))if(dest=streams[i],dest.level<=level){if(recordedLevel!==0&&recordedLevel!==dest.level)break;if(stream=dest.stream,stream[metadata]){let{lastTime,lastMsg,lastObj,lastLogger}=this;stream.lastLevel=level,stream.lastTime=lastTime,stream.lastMsg=lastMsg,stream.lastObj=lastObj,stream.lastLogger=lastLogger}stream.write(data),opts.dedupe&&(recordedLevel=dest.level)}else if(!opts.dedupe)break}function emit(...args){for(let{stream}of this.streams)typeof stream.emit=="function"&&stream.emit(...args)}function flushSync(){for(let{stream}of this.streams)typeof stream.flushSync=="function"&&stream.flushSync()}function add2(dest){if(!dest)return res;let isStream=typeof dest.write=="function"||dest.stream,stream_=dest.write?dest:dest.stream;if(!isStream)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams,streamLevels:streamLevels2}=this,level;typeof dest.levelVal=="number"?level=dest.levelVal:typeof dest.level=="string"?level=streamLevels2[dest.level]:typeof dest.level=="number"?level=dest.level:level=DEFAULT_INFO_LEVEL;let dest_={stream:stream_,level,levelVal:void 0,id:++res.lastId};return streams.unshift(dest_),streams.sort(compareByLevel),this.minLevel=streams[0].level,res}function remove(id){let{streams}=this,index2=streams.findIndex(s=>s.id===id);return index2>=0&&(streams.splice(index2,1),streams.sort(compareByLevel),this.minLevel=streams.length>0?streams[0].level:-1),res}function end(){for(let{stream}of this.streams)typeof stream.flushSync=="function"&&stream.flushSync(),stream.end()}function clone(level){let streams=new Array(this.streams.length);for(let i=0;i<streams.length;i++)streams[i]={level,stream:this.streams[i].stream};return{write:write2,add:add2,remove,minLevel:level,streams,clone,emit,flushSync,[metadata]:!0}}}function compareByLevel(a,b){return a.level-b.level}function initLoopVar(length,dedupe){return dedupe?length-1:0}function adjustLoopVar(i,dedupe){return dedupe?i-1:i+1}function checkLoopVar(i,length,dedupe){return dedupe?i>=0:i<length}module2.exports=multistream}});var require_pino=__commonJS({"../../../../node_modules/pino/pino.js"(exports2,module2){function pinoBundlerAbsolutePath(p){try{return require("path").resolve("/Users/kushchov/work/braiins/frontend/packages/froxy/build/server",p.replace(/^\.\//,""))}catch{return new Function("p","return new URL(p, import.meta.url).pathname")(p)}}globalThis.__bundlerPathsOverrides={...globalThis.__bundlerPathsOverrides||{},"thread-stream-worker":pinoBundlerAbsolutePath("./thread-stream-worker.cjs"),"pino-worker":pinoBundlerAbsolutePath("./pino-worker.cjs"),"pino/file":pinoBundlerAbsolutePath("./pino-file.cjs"),"pino-pretty":pinoBundlerAbsolutePath("./pino-pretty.cjs")};var os=require("node:os"),stdSerializers=require_pino_std_serializers(),caller=require_caller(),redaction=require_redaction(),time=require_time(),proto=require_proto(),symbols=require_symbols3(),{configure}=require_safe_stable_stringify(),{assertDefaultLevelFound,mappings,genLsCache,genLevelComparison,assertLevelComparison}=require_levels(),{DEFAULT_LEVELS,SORTING_ORDER}=require_constants(),{createArgsNormalizer,asChindings,buildSafeSonicBoom,buildFormatters,stringify:stringify2,normalizeDestFileDescriptor,noop}=require_tools(),{version}=require_meta(),{chindingsSym,redactFmtSym,serializersSym,timeSym,timeSliceIndexSym,streamSym,stringifySym,stringifySafeSym,stringifiersSym,setLevelSym,endSym,formatOptsSym,messageKeySym,errorKeySym,nestedKeySym,mixinSym,levelCompSym,useOnlyCustomLevelsSym,formattersSym,hooksSym,nestedKeyStrSym,mixinMergeStrategySym,msgPrefixSym}=symbols,{epochTime,nullTime}=time,{pid}=process,hostname=os.hostname(),defaultErrorSerializer=stdSerializers.err,defaultOptions3={level:"info",levelComparison:SORTING_ORDER.ASC,levels:DEFAULT_LEVELS,messageKey:"msg",errorKey:"err",nestedKey:null,enabled:!0,base:{pid,hostname},serializers:Object.assign(Object.create(null),{err:defaultErrorSerializer}),formatters:Object.assign(Object.create(null),{bindings(bindings){return bindings},level(label,number){return{level:number}}}),hooks:{logMethod:void 0,streamWrite:void 0},timestamp:epochTime,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100},normalize4=createArgsNormalizer(defaultOptions3),serializers=Object.assign(Object.create(null),stdSerializers);function pino(...args){let instance={},{opts,stream}=normalize4(instance,caller(),...args);opts.level&&typeof opts.level=="string"&&DEFAULT_LEVELS[opts.level.toLowerCase()]!==void 0&&(opts.level=opts.level.toLowerCase());let{redact,crlf,serializers:serializers2,timestamp,messageKey,errorKey,nestedKey,base,name,level,customLevels,levelComparison,mixin,mixinMergeStrategy,useOnlyCustomLevels,formatters,hooks,depthLimit,edgeLimit,onChild,msgPrefix}=opts,stringifySafe=configure({maximumDepth:depthLimit,maximumBreadth:edgeLimit}),allFormatters=buildFormatters(formatters.level,formatters.bindings,formatters.log),stringifyFn=stringify2.bind({[stringifySafeSym]:stringifySafe}),stringifiers=redact?redaction(redact,stringifyFn):{},formatOpts=redact?{stringify:stringifiers[redactFmtSym]}:{stringify:stringifyFn},end="}"+(crlf?`\r
`:`
`),coreChindings=asChindings.bind(null,{[chindingsSym]:"",[serializersSym]:serializers2,[stringifiersSym]:stringifiers,[stringifySym]:stringify2,[stringifySafeSym]:stringifySafe,[formattersSym]:allFormatters}),chindings="";base!==null&&(name===void 0?chindings=coreChindings(base):chindings=coreChindings(Object.assign({},base,{name})));let time2=timestamp instanceof Function?timestamp:timestamp?epochTime:nullTime,timeSliceIndex=time2().indexOf(":")+1;if(useOnlyCustomLevels&&!customLevels)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(mixin&&typeof mixin!="function")throw Error(`Unknown mixin type "${typeof mixin}" - expected "function"`);if(msgPrefix&&typeof msgPrefix!="string")throw Error(`Unknown msgPrefix type "${typeof msgPrefix}" - expected "string"`);assertDefaultLevelFound(level,customLevels,useOnlyCustomLevels);let levels=mappings(customLevels,useOnlyCustomLevels);typeof stream.emit=="function"&&stream.emit("message",{code:"PINO_CONFIG",config:{levels,messageKey,errorKey}}),assertLevelComparison(levelComparison);let levelCompFunc=genLevelComparison(levelComparison);return Object.assign(instance,{levels,[levelCompSym]:levelCompFunc,[useOnlyCustomLevelsSym]:useOnlyCustomLevels,[streamSym]:stream,[timeSym]:time2,[timeSliceIndexSym]:timeSliceIndex,[stringifySym]:stringify2,[stringifySafeSym]:stringifySafe,[stringifiersSym]:stringifiers,[endSym]:end,[formatOptsSym]:formatOpts,[messageKeySym]:messageKey,[errorKeySym]:errorKey,[nestedKeySym]:nestedKey,[nestedKeyStrSym]:nestedKey?`,${JSON.stringify(nestedKey)}:{`:"",[serializersSym]:serializers2,[mixinSym]:mixin,[mixinMergeStrategySym]:mixinMergeStrategy,[chindingsSym]:chindings,[formattersSym]:allFormatters,[hooksSym]:hooks,silent:noop,onChild,[msgPrefixSym]:msgPrefix}),Object.setPrototypeOf(instance,proto()),genLsCache(instance),instance[setLevelSym](level),instance}module2.exports=pino;module2.exports.destination=(dest=process.stdout.fd)=>typeof dest=="object"?(dest.dest=normalizeDestFileDescriptor(dest.dest||process.stdout.fd),buildSafeSonicBoom(dest)):buildSafeSonicBoom({dest:normalizeDestFileDescriptor(dest),minLength:0});module2.exports.transport=require_transport();module2.exports.multistream=require_multistream();module2.exports.levels=mappings();module2.exports.stdSerializers=serializers;module2.exports.stdTimeFunctions=Object.assign({},time);module2.exports.symbols=symbols;module2.exports.version=version;module2.exports.default=pino;module2.exports.pino=pino}});var require_logger_pino=__commonJS({"../../../../node_modules/fastify/lib/logger-pino.js"(exports2,module2){"use strict";var pino=require_pino(),{serializersSym}=pino.symbols,{FST_ERR_LOG_INVALID_DESTINATION}=require_errors2();function createPinoLogger(opts){if(opts.stream&&opts.file)throw new FST_ERR_LOG_INVALID_DESTINATION;opts.file&&(opts.stream=pino.destination(opts.file),delete opts.file);let prevLogger=opts.logger,prevGenReqId=opts.genReqId,logger=null;return prevLogger?(opts.logger=void 0,opts.genReqId=void 0,prevLogger[serializersSym]&&(opts.serializers=Object.assign({},opts.serializers,prevLogger[serializersSym])),logger=prevLogger.child({},opts),opts.logger=prevLogger,opts.genReqId=prevGenReqId):logger=pino(opts,opts.stream),logger}var serializers={req:function(req){return{method:req.method,url:req.url,version:req.headers&&req.headers["accept-version"],host:req.host,remoteAddress:req.ip,remotePort:req.socket?req.socket.remotePort:void 0}},err:pino.stdSerializers.err,res:function(reply){return{statusCode:reply.statusCode}}};module2.exports={serializers,createPinoLogger}}});var require_logger_factory=__commonJS({"../../../../node_modules/fastify/lib/logger-factory.js"(exports2,module2){"use strict";var{FST_ERR_LOG_LOGGER_AND_LOGGER_INSTANCE_PROVIDED,FST_ERR_LOG_INVALID_LOGGER_CONFIG,FST_ERR_LOG_INVALID_LOGGER_INSTANCE,FST_ERR_LOG_INVALID_LOGGER}=require_errors2();function createChildLogger(context,logger,req,reqId,loggerOpts){let loggerBindings={[context.requestIdLogLabel]:reqId},child=context.childLoggerFactory.call(context.server,logger,loggerBindings,loggerOpts||{},req);return context.childLoggerFactory!==defaultChildLoggerFactory&&validateLogger(child,!0),child}function defaultChildLoggerFactory(logger,bindings,opts){return logger.child(bindings,opts)}function validateLogger(logger,strict){let methods=["info","error","debug","fatal","warn","trace","child"],missingMethods=logger?methods.filter(method=>!logger[method]||typeof logger[method]!="function"):methods;if(missingMethods.length){if(missingMethods.length===methods.length&&!strict)return!1;throw FST_ERR_LOG_INVALID_LOGGER(missingMethods.join(","))}else return!0}function createLogger(options2){if(options2.logger&&options2.loggerInstance)throw new FST_ERR_LOG_LOGGER_AND_LOGGER_INSTANCE_PROVIDED;if(!options2.loggerInstance&&!options2.logger){let logger2=require_abstract_logging();return logger2.child=()=>logger2,{logger:logger2,hasLogger:!1}}let{createPinoLogger,serializers}=require_logger_pino();if(validateLogger(options2.loggerInstance))return{logger:createPinoLogger({logger:options2.loggerInstance,serializers:Object.assign({},serializers,options2.loggerInstance.serializers)}),hasLogger:!0};if(validateLogger(options2.logger))throw FST_ERR_LOG_INVALID_LOGGER_CONFIG();if(options2.loggerInstance)throw FST_ERR_LOG_INVALID_LOGGER_INSTANCE();let localLoggerOptions={};return Object.prototype.toString.call(options2.logger)==="[object Object]"&&Reflect.ownKeys(options2.logger).forEach(prop=>{Object.defineProperty(localLoggerOptions,prop,{value:options2.logger[prop],writable:!0,enumerable:!0,configurable:!0})}),localLoggerOptions.level=localLoggerOptions.level||"info",localLoggerOptions.serializers=Object.assign({},serializers,localLoggerOptions.serializers),options2.logger=localLoggerOptions,{logger:createPinoLogger(options2.logger),hasLogger:!0}}function now(){let ts=process.hrtime();return ts[0]*1e3+ts[1]/1e6}module2.exports={createChildLogger,defaultChildLoggerFactory,createLogger,validateLogger,now}}});var require_rfdc=__commonJS({"../../../../node_modules/rfdc/index.js"(exports2,module2){"use strict";module2.exports=rfdc;function copyBuffer(cur){return cur instanceof Buffer?Buffer.from(cur):new cur.constructor(cur.buffer.slice(),cur.byteOffset,cur.length)}function rfdc(opts){if(opts=opts||{},opts.circles)return rfdcCircles(opts);let constructorHandlers=new Map;if(constructorHandlers.set(Date,o=>new Date(o)),constructorHandlers.set(Map,(o,fn)=>new Map(cloneArray(Array.from(o),fn))),constructorHandlers.set(Set,(o,fn)=>new Set(cloneArray(Array.from(o),fn))),opts.constructorHandlers)for(let handler2 of opts.constructorHandlers)constructorHandlers.set(handler2[0],handler2[1]);let handler=null;return opts.proto?cloneProto:clone;function cloneArray(a,fn){let keys2=Object.keys(a),a2=new Array(keys2.length);for(let i=0;i<keys2.length;i++){let k=keys2[i],cur=a[k];typeof cur!="object"||cur===null?a2[k]=cur:cur.constructor!==Object&&(handler=constructorHandlers.get(cur.constructor))?a2[k]=handler(cur,fn):ArrayBuffer.isView(cur)?a2[k]=copyBuffer(cur):a2[k]=fn(cur)}return a2}function clone(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return cloneArray(o,clone);if(o.constructor!==Object&&(handler=constructorHandlers.get(o.constructor)))return handler(o,clone);let o2={};for(let k in o){if(Object.hasOwnProperty.call(o,k)===!1)continue;let cur=o[k];typeof cur!="object"||cur===null?o2[k]=cur:cur.constructor!==Object&&(handler=constructorHandlers.get(cur.constructor))?o2[k]=handler(cur,clone):ArrayBuffer.isView(cur)?o2[k]=copyBuffer(cur):o2[k]=clone(cur)}return o2}function cloneProto(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return cloneArray(o,cloneProto);if(o.constructor!==Object&&(handler=constructorHandlers.get(o.constructor)))return handler(o,cloneProto);let o2={};for(let k in o){let cur=o[k];typeof cur!="object"||cur===null?o2[k]=cur:cur.constructor!==Object&&(handler=constructorHandlers.get(cur.constructor))?o2[k]=handler(cur,cloneProto):ArrayBuffer.isView(cur)?o2[k]=copyBuffer(cur):o2[k]=cloneProto(cur)}return o2}}function rfdcCircles(opts){let refs=[],refsNew=[],constructorHandlers=new Map;if(constructorHandlers.set(Date,o=>new Date(o)),constructorHandlers.set(Map,(o,fn)=>new Map(cloneArray(Array.from(o),fn))),constructorHandlers.set(Set,(o,fn)=>new Set(cloneArray(Array.from(o),fn))),opts.constructorHandlers)for(let handler2 of opts.constructorHandlers)constructorHandlers.set(handler2[0],handler2[1]);let handler=null;return opts.proto?cloneProto:clone;function cloneArray(a,fn){let keys2=Object.keys(a),a2=new Array(keys2.length);for(let i=0;i<keys2.length;i++){let k=keys2[i],cur=a[k];if(typeof cur!="object"||cur===null)a2[k]=cur;else if(cur.constructor!==Object&&(handler=constructorHandlers.get(cur.constructor)))a2[k]=handler(cur,fn);else if(ArrayBuffer.isView(cur))a2[k]=copyBuffer(cur);else{let index2=refs.indexOf(cur);index2!==-1?a2[k]=refsNew[index2]:a2[k]=fn(cur)}}return a2}function clone(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return cloneArray(o,clone);if(o.constructor!==Object&&(handler=constructorHandlers.get(o.constructor)))return handler(o,clone);let o2={};refs.push(o),refsNew.push(o2);for(let k in o){if(Object.hasOwnProperty.call(o,k)===!1)continue;let cur=o[k];if(typeof cur!="object"||cur===null)o2[k]=cur;else if(cur.constructor!==Object&&(handler=constructorHandlers.get(cur.constructor)))o2[k]=handler(cur,clone);else if(ArrayBuffer.isView(cur))o2[k]=copyBuffer(cur);else{let i=refs.indexOf(cur);i!==-1?o2[k]=refsNew[i]:o2[k]=clone(cur)}}return refs.pop(),refsNew.pop(),o2}function cloneProto(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return cloneArray(o,cloneProto);if(o.constructor!==Object&&(handler=constructorHandlers.get(o.constructor)))return handler(o,cloneProto);let o2={};refs.push(o),refsNew.push(o2);for(let k in o){let cur=o[k];if(typeof cur!="object"||cur===null)o2[k]=cur;else if(cur.constructor!==Object&&(handler=constructorHandlers.get(cur.constructor)))o2[k]=handler(cur,cloneProto);else if(ArrayBuffer.isView(cur))o2[k]=copyBuffer(cur);else{let i=refs.indexOf(cur);i!==-1?o2[k]=refsNew[i]:o2[k]=cloneProto(cur)}}return refs.pop(),refsNew.pop(),o2}}}});var require_schemas=__commonJS({"../../../../node_modules/fastify/lib/schemas.js"(exports2,module2){"use strict";var fastClone=require_rfdc()({circles:!1,proto:!0}),{kSchemaVisited,kSchemaResponse}=require_symbols2(),kFluentSchema=Symbol.for("fluent-schema-object"),{FST_ERR_SCH_MISSING_ID,FST_ERR_SCH_ALREADY_PRESENT,FST_ERR_SCH_DUPLICATE,FST_ERR_SCH_CONTENT_MISSING_SCHEMA}=require_errors2(),SCHEMAS_SOURCE=["params","body","querystring","query","headers"];function Schemas(initStore){this.store=initStore||{}}Schemas.prototype.add=function(inputSchema){let schema=fastClone(inputSchema.isFluentSchema||inputSchema.isFluentJSONSchema||inputSchema[kFluentSchema]?inputSchema.valueOf():inputSchema),id=schema.$id;if(!id)throw new FST_ERR_SCH_MISSING_ID;if(this.store[id])throw new FST_ERR_SCH_ALREADY_PRESENT(id);this.store[id]=schema};Schemas.prototype.getSchemas=function(){return Object.assign({},this.store)};Schemas.prototype.getSchema=function(schemaId){return this.store[schemaId]};function isCustomSchemaPrototype(schema){return typeof schema=="object"&&Object.getPrototypeOf(schema)!==Object.prototype}function normalizeSchema(routeSchemas,serverOptions){if(routeSchemas[kSchemaVisited])return routeSchemas;if(routeSchemas.query){if(routeSchemas.querystring)throw new FST_ERR_SCH_DUPLICATE("querystring");routeSchemas.querystring=routeSchemas.query}generateFluentSchema(routeSchemas);for(let key of SCHEMAS_SOURCE){let schema=routeSchemas[key];if(schema&&!isCustomSchemaPrototype(schema)&&key==="body"&&schema.content){let contentProperty=schema.content,keys2=Object.keys(contentProperty);for(let i=0;i<keys2.length;i++){let contentType=keys2[i];if(!contentProperty[contentType].schema)throw new FST_ERR_SCH_CONTENT_MISSING_SCHEMA(contentType)}continue}}if(routeSchemas.response){let httpCodes=Object.keys(routeSchemas.response);for(let code2 of httpCodes){if(isCustomSchemaPrototype(routeSchemas.response[code2]))continue;let contentProperty=routeSchemas.response[code2].content;if(contentProperty){let keys2=Object.keys(contentProperty);for(let i=0;i<keys2.length;i++){let mediaName=keys2[i];if(!contentProperty[mediaName].schema)throw new FST_ERR_SCH_CONTENT_MISSING_SCHEMA(mediaName)}}}}return routeSchemas[kSchemaVisited]=!0,routeSchemas}function generateFluentSchema(schema){for(let key of SCHEMAS_SOURCE)schema[key]&&(schema[key].isFluentSchema||schema[key][kFluentSchema])&&(schema[key]=schema[key].valueOf());if(schema.response){let httpCodes=Object.keys(schema.response);for(let code2 of httpCodes)(schema.response[code2].isFluentSchema||schema.response[code2][kFluentSchema])&&(schema.response[code2]=schema.response[code2].valueOf())}}function getSchemaSerializer(context,statusCode,contentType){let responseSchemaDef=context[kSchemaResponse];if(!responseSchemaDef)return!1;if(responseSchemaDef[statusCode]){if(responseSchemaDef[statusCode].constructor===Object&&contentType){let mediaName=contentType.split(";",1)[0];return responseSchemaDef[statusCode][mediaName]?responseSchemaDef[statusCode][mediaName]:responseSchemaDef[statusCode]["*/*"]?responseSchemaDef[statusCode]["*/*"]:!1}return responseSchemaDef[statusCode]}let fallbackStatusCode=(statusCode+"")[0]+"xx";if(responseSchemaDef[fallbackStatusCode]){if(responseSchemaDef[fallbackStatusCode].constructor===Object&&contentType){let mediaName=contentType.split(";",1)[0];return responseSchemaDef[fallbackStatusCode][mediaName]?responseSchemaDef[fallbackStatusCode][mediaName]:responseSchemaDef[fallbackStatusCode]["*/*"]?responseSchemaDef[fallbackStatusCode]["*/*"]:!1}return responseSchemaDef[fallbackStatusCode]}if(responseSchemaDef.default){if(responseSchemaDef.default.constructor===Object&&contentType){let mediaName=contentType.split(";",1)[0];return responseSchemaDef.default[mediaName]?responseSchemaDef.default[mediaName]:responseSchemaDef.default["*/*"]?responseSchemaDef.default["*/*"]:!1}return responseSchemaDef.default}return!1}module2.exports={buildSchemas(initStore){return new Schemas(initStore)},getSchemaSerializer,normalizeSchema}}});var require_serializer=__commonJS({"../../../../node_modules/fast-json-stringify/lib/serializer.js"(exports2,module2){"use strict";var STR_ESCAPE=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;module2.exports=class Serializer{constructor(options2){switch(options2&&options2.rounding){case"floor":this.parseInteger=Math.floor;break;case"ceil":this.parseInteger=Math.ceil;break;case"round":this.parseInteger=Math.round;break;case"trunc":default:this.parseInteger=Math.trunc;break}this._options=options2}asInteger(i){if(Number.isInteger(i))return""+i;if(typeof i=="bigint")return i.toString();let integer=this.parseInteger(i);if(integer===1/0||integer===-1/0||integer!==integer)throw new Error(`The value "${i}" cannot be converted to an integer.`);return""+integer}asNumber(i){let num=Number(i);if(num!==num)throw new Error(`The value "${i}" cannot be converted to a number.`);return num===1/0||num===-1/0?"null":""+num}asBoolean(bool){return bool&&"true"||"false"}asDateTime(date){if(date===null)return'""';if(date instanceof Date)return'"'+date.toISOString()+'"';if(typeof date=="string")return'"'+date+'"';throw new Error(`The value "${date}" cannot be converted to a date-time.`)}asDate(date){if(date===null)return'""';if(date instanceof Date)return'"'+new Date(date.getTime()-date.getTimezoneOffset()*6e4).toISOString().slice(0,10)+'"';if(typeof date=="string")return'"'+date+'"';throw new Error(`The value "${date}" cannot be converted to a date.`)}asTime(date){if(date===null)return'""';if(date instanceof Date)return'"'+new Date(date.getTime()-date.getTimezoneOffset()*6e4).toISOString().slice(11,19)+'"';if(typeof date=="string")return'"'+date+'"';throw new Error(`The value "${date}" cannot be converted to a time.`)}asString(str){let len=str.length;if(len===0)return'""';if(len<42){let result="",last=-1,point=255;for(let i=0;i<len;i++)if(point=str.charCodeAt(i),point===34||point===92)last===-1&&(last=0),result+=str.slice(last,i)+"\\",last=i;else if(point<32||point>=55296&&point<=57343)return JSON.stringify(str);return last===-1&&'"'+str+'"'||'"'+result+str.slice(last)+'"'}else return len<5e3&&STR_ESCAPE.test(str)===!1?'"'+str+'"':JSON.stringify(str)}asUnsafeString(str){return'"'+str+'"'}getState(){return this._options}static restoreFromState(state){return new Serializer(state)}}}});var require_error_serializer=__commonJS({"../../../../node_modules/fastify/lib/error-serializer.js"(exports2,module2){"use strict";var Serializer=require_serializer(),serializerState={mode:"standalone"},serializer=Serializer.restoreFromState(serializerState),validator=null;module2.exports=(function(validator2,serializer2){let{asString,asNumber,asBoolean,asDateTime,asDate,asTime,asUnsafeString}=serializer2,asInteger=serializer2.asInteger.bind(serializer2),JSON_STR_BEGIN_OBJECT="{",JSON_STR_END_OBJECT="}",JSON_STR_BEGIN_ARRAY="[",JSON_STR_END_ARRAY="]",JSON_STR_COMMA=",",JSON_STR_COLONS=":",JSON_STR_QUOTE='"',JSON_STR_EMPTY_OBJECT=JSON_STR_BEGIN_OBJECT+JSON_STR_END_OBJECT,JSON_STR_EMPTY_ARRAY=JSON_STR_BEGIN_ARRAY+JSON_STR_END_ARRAY,JSON_STR_EMPTY_STRING=JSON_STR_QUOTE+JSON_STR_QUOTE,JSON_STR_NULL="null";function anonymous0(input){let obj=input&&typeof input.toJSON=="function"?input.toJSON():input;if(obj===null)return JSON_STR_EMPTY_OBJECT;let value,json=JSON_STR_BEGIN_OBJECT,addComma=!1;return value=obj.statusCode,value!==void 0&&(!addComma&&(addComma=!0)||(json+=JSON_STR_COMMA),json+='"statusCode":',json+=asNumber(value)),value=obj.code,value!==void 0&&(!addComma&&(addComma=!0)||(json+=JSON_STR_COMMA),json+='"code":',typeof value!="string"?value===null?json+=JSON_STR_EMPTY_STRING:value instanceof Date?json+=JSON_STR_QUOTE+value.toISOString()+JSON_STR_QUOTE:value instanceof RegExp?json+=asString(value.source):json+=asString(value.toString()):json+=asString(value)),value=obj.error,value!==void 0&&(!addComma&&(addComma=!0)||(json+=JSON_STR_COMMA),json+='"error":',typeof value!="string"?value===null?json+=JSON_STR_EMPTY_STRING:value instanceof Date?json+=JSON_STR_QUOTE+value.toISOString()+JSON_STR_QUOTE:value instanceof RegExp?json+=asString(value.source):json+=asString(value.toString()):json+=asString(value)),value=obj.message,value!==void 0&&(!addComma&&(addComma=!0)||(json+=JSON_STR_COMMA),json+='"message":',typeof value!="string"?value===null?json+=JSON_STR_EMPTY_STRING:value instanceof Date?json+=JSON_STR_QUOTE+value.toISOString()+JSON_STR_QUOTE:value instanceof RegExp?json+=asString(value.source):json+=asString(value.toString()):json+=asString(value)),json+JSON_STR_END_OBJECT}return anonymous0})(validator,serializer)}});var require_error_handler=__commonJS({"../../../../node_modules/fastify/lib/error-handler.js"(exports2,module2){"use strict";var statusCodes=require("node:http").STATUS_CODES,wrapThenable=require_wrap_thenable(),{setErrorStatusCode}=require_error_status(),{kReplyHeaders,kReplyNextErrorHandler,kReplyIsRunningOnErrorHook,kRouteContext,kDisableRequestLogging}=require_symbols2(),{FST_ERR_REP_INVALID_PAYLOAD_TYPE,FST_ERR_FAILED_ERROR_SERIALIZATION}=require_errors2(),{getSchemaSerializer}=require_schemas(),serializeError2=require_error_serializer(),rootErrorHandler={func:defaultErrorHandler,toJSON(){return this.func.name.toString()+"()"}};function handleError(reply,error,cb){reply[kReplyIsRunningOnErrorHook]=!1;let context=reply[kRouteContext];if(reply[kReplyNextErrorHandler]===!1){fallbackErrorHandler(error,reply,function(reply2,payload){try{reply2.raw.writeHead(reply2.raw.statusCode,reply2[kReplyHeaders])}catch(error2){reply2.log[kDisableRequestLogging]||reply2.log.warn({req:reply2.request,res:reply2,err:error2},error2?.message),reply2.raw.writeHead(reply2.raw.statusCode)}reply2.raw.end(payload)});return}let errorHandler=reply[kReplyNextErrorHandler]||context.errorHandler;reply[kReplyNextErrorHandler]=Object.getPrototypeOf(errorHandler),delete reply[kReplyHeaders]["content-type"],delete reply[kReplyHeaders]["content-length"];let func=errorHandler.func;if(!func){reply[kReplyNextErrorHandler]=!1,fallbackErrorHandler(error,reply,cb);return}try{let result=func(error,reply.request,reply);result!==void 0&&(result!==null&&typeof result.then=="function"?wrapThenable(result,reply):reply.send(result))}catch(err){reply.send(err)}}function defaultErrorHandler(error,request2,reply){setErrorHeaders(error,reply),setErrorStatusCode(reply,error),reply.statusCode<500?reply.log[kDisableRequestLogging]||reply.log.info({res:reply,err:error},error?.message):reply.log[kDisableRequestLogging]||reply.log.error({req:request2,res:reply,err:error},error?.message),reply.send(error)}function fallbackErrorHandler(error,reply,cb){let res=reply.raw,statusCode=reply.statusCode;reply[kReplyHeaders]["content-type"]=reply[kReplyHeaders]["content-type"]??"application/json; charset=utf-8";let payload;try{let serializerFn=getSchemaSerializer(reply[kRouteContext],statusCode,reply[kReplyHeaders]["content-type"]);serializerFn===!1?payload=serializeError2({error:statusCodes[statusCode+""],code:error.code,message:error.message,statusCode}):payload=serializerFn(Object.create(error,{error:{value:statusCodes[statusCode+""]},message:{value:error.message},statusCode:{value:statusCode}}))}catch(err){reply.log[kDisableRequestLogging]||reply.log.error({err,statusCode:res.statusCode},"The serializer for the given status code failed"),reply.code(500),payload=serializeError2(new FST_ERR_FAILED_ERROR_SERIALIZATION(err.message,error.message))}typeof payload!="string"&&!Buffer.isBuffer(payload)&&(payload=serializeError2(new FST_ERR_REP_INVALID_PAYLOAD_TYPE(typeof payload))),reply[kReplyHeaders]["content-length"]=""+Buffer.byteLength(payload),cb(reply,payload)}function buildErrorHandler(parent=rootErrorHandler,func){if(!func)return parent;let errorHandler=Object.create(parent);return errorHandler.func=func,errorHandler}function setErrorHeaders(error,reply){let res=reply.raw,statusCode=res.statusCode;statusCode=statusCode>=400?statusCode:500,error!=null&&(error.headers!==void 0&&reply.headers(error.headers),error.status>=400?statusCode=error.status:error.statusCode>=400&&(statusCode=error.statusCode)),res.statusCode=statusCode}module2.exports={buildErrorHandler,handleError}}});var require_decorate=__commonJS({"../../../../node_modules/fastify/lib/decorate.js"(exports2,module2){"use strict";var{kReply,kRequest,kState,kHasBeenDecorated}=require_symbols2(),{FST_ERR_DEC_ALREADY_PRESENT,FST_ERR_DEC_MISSING_DEPENDENCY,FST_ERR_DEC_AFTER_START,FST_ERR_DEC_REFERENCE_TYPE,FST_ERR_DEC_DEPENDENCY_INVALID_TYPE,FST_ERR_DEC_UNDECLARED}=require_errors2();function decorate(instance,name,fn,dependencies){if(Object.hasOwn(instance,name))throw new FST_ERR_DEC_ALREADY_PRESENT(name);checkDependencies(instance,name,dependencies),fn&&(typeof fn.getter=="function"||typeof fn.setter=="function")?Object.defineProperty(instance,name,{get:fn.getter,set:fn.setter}):instance[name]=fn}function getInstanceDecorator(name){if(!checkExistence(this,name))throw new FST_ERR_DEC_UNDECLARED(name,"instance");return typeof this[name]=="function"?this[name].bind(this):this[name]}function decorateConstructor(konstructor,name,fn,dependencies){let instance=konstructor.prototype;if(Object.hasOwn(instance,name)||hasKey(konstructor,name))throw new FST_ERR_DEC_ALREADY_PRESENT(name);konstructor[kHasBeenDecorated]=!0,checkDependencies(konstructor,name,dependencies),fn&&(typeof fn.getter=="function"||typeof fn.setter=="function")?Object.defineProperty(instance,name,{get:fn.getter,set:fn.setter}):typeof fn=="function"?instance[name]=fn:konstructor.props.push({key:name,value:fn})}function checkReferenceType(name,fn){if(typeof fn=="object"&&fn&&!(typeof fn.getter=="function"||typeof fn.setter=="function"))throw new FST_ERR_DEC_REFERENCE_TYPE(name,typeof fn)}function decorateFastify(name,fn,dependencies){return assertNotStarted(this,name),decorate(this,name,fn,dependencies),this}function checkExistence(instance,name){return name?name in instance||instance.prototype&&name in instance.prototype||hasKey(instance,name):instance in this}function hasKey(fn,name){return fn.props?fn.props.find(({key})=>key===name):!1}function checkRequestExistence(name){return name&&hasKey(this[kRequest],name)?!0:checkExistence(this[kRequest].prototype,name)}function checkReplyExistence(name){return name&&hasKey(this[kReply],name)?!0:checkExistence(this[kReply].prototype,name)}function checkDependencies(instance,name,deps){if(deps!=null){if(!Array.isArray(deps))throw new FST_ERR_DEC_DEPENDENCY_INVALID_TYPE(name);for(let i=0;i!==deps.length;++i)if(!checkExistence(instance,deps[i]))throw new FST_ERR_DEC_MISSING_DEPENDENCY(deps[i])}}function decorateReply(name,fn,dependencies){return assertNotStarted(this,name),checkReferenceType(name,fn),decorateConstructor(this[kReply],name,fn,dependencies),this}function decorateRequest(name,fn,dependencies){return assertNotStarted(this,name),checkReferenceType(name,fn),decorateConstructor(this[kRequest],name,fn,dependencies),this}function assertNotStarted(instance,name){if(instance[kState].started)throw new FST_ERR_DEC_AFTER_START(name)}module2.exports={add:decorateFastify,exist:checkExistence,existRequest:checkRequestExistence,existReply:checkReplyExistence,dependencies:checkDependencies,decorateReply,decorateRequest,getInstanceDecorator,hasKey}}});var require_reply=__commonJS({"../../../../node_modules/fastify/lib/reply.js"(exports2,module2){"use strict";var eos=require("node:stream").finished,{kFourOhFourContext,kReplyErrorHandlerCalled,kReplyHijacked,kReplyStartTime,kReplyEndTime,kReplySerializer,kReplySerializerDefault,kReplyIsError,kReplyHeaders,kReplyTrailers,kReplyHasStatusCode,kReplyIsRunningOnErrorHook,kReplyNextErrorHandler,kDisableRequestLogging,kSchemaResponse,kReplyCacheSerializeFns,kSchemaController,kOptions,kRouteContext}=require_symbols2(),{onSendHookRunner,onResponseHookRunner,preHandlerHookRunner,preSerializationHookRunner}=require_hooks(),internals=require_handle_request()[Symbol.for("internals")],loggerUtils=require_logger_factory(),now=loggerUtils.now,{handleError}=require_error_handler(),{getSchemaSerializer}=require_schemas(),CONTENT_TYPE={JSON:"application/json; charset=utf-8",PLAIN:"text/plain; charset=utf-8",OCTET:"application/octet-stream"},{FST_ERR_REP_INVALID_PAYLOAD_TYPE,FST_ERR_REP_RESPONSE_BODY_CONSUMED,FST_ERR_REP_READABLE_STREAM_LOCKED,FST_ERR_REP_ALREADY_SENT,FST_ERR_SEND_INSIDE_ONERR,FST_ERR_BAD_STATUS_CODE,FST_ERR_BAD_TRAILER_NAME,FST_ERR_BAD_TRAILER_VALUE,FST_ERR_MISSING_SERIALIZATION_FN,FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN,FST_ERR_DEC_UNDECLARED}=require_errors2(),decorators=require_decorate(),toString2=Object.prototype.toString;function Reply(res,request2,log){this.raw=res,this[kReplySerializer]=null,this[kReplyErrorHandlerCalled]=!1,this[kReplyIsError]=!1,this[kReplyIsRunningOnErrorHook]=!1,this.request=request2,this[kReplyHeaders]={},this[kReplyTrailers]=null,this[kReplyHasStatusCode]=!1,this[kReplyStartTime]=void 0,this.log=log}Reply.props=[];Object.defineProperties(Reply.prototype,{[kRouteContext]:{get(){return this.request[kRouteContext]}},elapsedTime:{get(){return this[kReplyStartTime]===void 0?0:(this[kReplyEndTime]||now())-this[kReplyStartTime]}},server:{get(){return this.request[kRouteContext].server}},sent:{enumerable:!0,get(){return(this[kReplyHijacked]||this.raw.writableEnded)===!0}},statusCode:{get(){return this.raw.statusCode},set(value){this.code(value)}},routeOptions:{get(){return this.request.routeOptions}}});Reply.prototype.writeEarlyHints=function(hints,callback){return this.raw.writeEarlyHints(hints,callback),this};Reply.prototype.hijack=function(){return this[kReplyHijacked]=!0,this};Reply.prototype.send=function(payload){if(this[kReplyIsRunningOnErrorHook])throw new FST_ERR_SEND_INSIDE_ONERR;if(this.sent===!0)return this.log.warn({err:new FST_ERR_REP_ALREADY_SENT(this.request.url,this.request.method)}),this;if(this[kReplyIsError]||payload instanceof Error)return this[kReplyIsError]=!1,onErrorHook(this,payload,onSendHook),this;if(payload===void 0)return onSendHook(this,payload),this;let contentType=this.getHeader("content-type"),hasContentType=contentType!==void 0;if(payload!==null){if(typeof payload.pipe=="function"||typeof payload.getReader=="function"||toString2.call(payload)==="[object Response]")return onSendHook(this,payload),this;if(payload.buffer instanceof ArrayBuffer){hasContentType||(this[kReplyHeaders]["content-type"]=CONTENT_TYPE.OCTET);let payloadToSend=Buffer.isBuffer(payload)?payload:Buffer.from(payload.buffer,payload.byteOffset,payload.byteLength);return onSendHook(this,payloadToSend),this}if(!hasContentType&&typeof payload=="string")return this[kReplyHeaders]["content-type"]=CONTENT_TYPE.PLAIN,onSendHook(this,payload),this}if(this[kReplySerializer]!==null){if(typeof payload!="string")return preSerializationHook(this,payload),this;payload=this[kReplySerializer](payload)}else if(!hasContentType||contentType.indexOf("json")!==-1){if(!hasContentType)this[kReplyHeaders]["content-type"]=CONTENT_TYPE.JSON;else if(contentType.indexOf("charset")===-1){let customContentType=contentType.trim();customContentType.endsWith(";")?this[kReplyHeaders]["content-type"]=`${customContentType} charset=utf-8`:this[kReplyHeaders]["content-type"]=`${customContentType}; charset=utf-8`}if(typeof payload!="string")return preSerializationHook(this,payload),this}return onSendHook(this,payload),this};Reply.prototype.getHeader=function(key){key=key.toLowerCase();let value=this[kReplyHeaders][key];return value!==void 0?value:this.raw.getHeader(key)};Reply.prototype.getHeaders=function(){return{...this.raw.getHeaders(),...this[kReplyHeaders]}};Reply.prototype.hasHeader=function(key){return key=key.toLowerCase(),this[kReplyHeaders][key]!==void 0||this.raw.hasHeader(key)};Reply.prototype.removeHeader=function(key){return delete this[kReplyHeaders][key.toLowerCase()],this};Reply.prototype.header=function(key,value=""){return key=key.toLowerCase(),this[kReplyHeaders][key]&&key==="set-cookie"?(typeof this[kReplyHeaders][key]=="string"&&(this[kReplyHeaders][key]=[this[kReplyHeaders][key]]),Array.isArray(value)?Array.prototype.push.apply(this[kReplyHeaders][key],value):this[kReplyHeaders][key].push(value)):this[kReplyHeaders][key]=value,this};Reply.prototype.headers=function(headers){let keys2=Object.keys(headers);for(let i=0;i!==keys2.length;++i){let key=keys2[i];this.header(key,headers[key])}return this};var INVALID_TRAILERS=new Set(["transfer-encoding","content-length","host","cache-control","max-forwards","te","authorization","set-cookie","content-encoding","content-type","content-range","trailer"]);Reply.prototype.trailer=function(key,fn){if(key=key.toLowerCase(),INVALID_TRAILERS.has(key))throw new FST_ERR_BAD_TRAILER_NAME(key);if(typeof fn!="function")throw new FST_ERR_BAD_TRAILER_VALUE(key,typeof fn);return this[kReplyTrailers]===null&&(this[kReplyTrailers]={}),this[kReplyTrailers][key]=fn,this};Reply.prototype.hasTrailer=function(key){return this[kReplyTrailers]?.[key.toLowerCase()]!==void 0};Reply.prototype.removeTrailer=function(key){return this[kReplyTrailers]===null?this:(this[kReplyTrailers][key.toLowerCase()]=void 0,this)};Reply.prototype.code=function(code2){let statusCode=+code2;if(!(statusCode>=100&&statusCode<=599))throw new FST_ERR_BAD_STATUS_CODE(code2||String(code2));return this.raw.statusCode=statusCode,this[kReplyHasStatusCode]=!0,this};Reply.prototype.status=Reply.prototype.code;Reply.prototype.getSerializationFunction=function(schemaOrStatus,contentType){let serialize2;return typeof schemaOrStatus=="string"||typeof schemaOrStatus=="number"?typeof contentType=="string"?serialize2=this[kRouteContext][kSchemaResponse]?.[schemaOrStatus]?.[contentType]:serialize2=this[kRouteContext][kSchemaResponse]?.[schemaOrStatus]:typeof schemaOrStatus=="object"&&(serialize2=this[kRouteContext][kReplyCacheSerializeFns]?.get(schemaOrStatus)),serialize2};Reply.prototype.compileSerializationSchema=function(schema,httpStatus=null,contentType=null){let{request:request2}=this,{method,url}=request2;if(this[kRouteContext][kReplyCacheSerializeFns]?.has(schema))return this[kRouteContext][kReplyCacheSerializeFns].get(schema);let serializeFn=(this[kRouteContext].serializerCompiler||this.server[kSchemaController].serializerCompiler||this.server[kSchemaController].setupSerializer(this.server[kOptions])||this.server[kSchemaController].serializerCompiler)({schema,method,url,httpStatus,contentType});return this[kRouteContext][kReplyCacheSerializeFns]==null&&(this[kRouteContext][kReplyCacheSerializeFns]=new WeakMap),this[kRouteContext][kReplyCacheSerializeFns].set(schema,serializeFn),serializeFn};Reply.prototype.serializeInput=function(input,schema,httpStatus,contentType){let possibleContentType=httpStatus,serialize2;if(httpStatus=typeof schema=="string"||typeof schema=="number"?schema:httpStatus,contentType=httpStatus&&possibleContentType!==httpStatus?possibleContentType:contentType,httpStatus!=null){if(contentType!=null?serialize2=this[kRouteContext][kSchemaResponse]?.[httpStatus]?.[contentType]:serialize2=this[kRouteContext][kSchemaResponse]?.[httpStatus],serialize2==null)throw contentType?new FST_ERR_MISSING_CONTENTTYPE_SERIALIZATION_FN(httpStatus,contentType):new FST_ERR_MISSING_SERIALIZATION_FN(httpStatus)}else this[kRouteContext][kReplyCacheSerializeFns]?.has(schema)?serialize2=this[kRouteContext][kReplyCacheSerializeFns].get(schema):serialize2=this.compileSerializationSchema(schema,httpStatus,contentType);return serialize2(input)};Reply.prototype.serialize=function(payload){return this[kReplySerializer]!==null?this[kReplySerializer](payload):this[kRouteContext]&&this[kRouteContext][kReplySerializerDefault]?this[kRouteContext][kReplySerializerDefault](payload,this.raw.statusCode):serialize(this[kRouteContext],payload,this.raw.statusCode)};Reply.prototype.serializer=function(fn){return this[kReplySerializer]=fn,this};Reply.prototype.type=function(type){return this[kReplyHeaders]["content-type"]=type,this};Reply.prototype.redirect=function(url,code2){return code2||(code2=this[kReplyHasStatusCode]?this.raw.statusCode:302),this.header("location",url).code(code2).send()};Reply.prototype.callNotFound=function(){return notFound(this),this};Reply.prototype.then=function(fulfilled,rejected){if(this.sent){fulfilled();return}eos(this.raw,err=>{err&&err.code!=="ERR_STREAM_PREMATURE_CLOSE"?rejected?rejected(err):this.log&&this.log.warn("unhandled rejection on reply.then"):fulfilled()})};Reply.prototype.getDecorator=function(name){if(!decorators.hasKey(this,name)&&!decorators.exist(this,name))throw new FST_ERR_DEC_UNDECLARED(name,"reply");let decorator=this[name];return typeof decorator=="function"?decorator.bind(this):decorator};function preSerializationHook(reply,payload){reply[kRouteContext].preSerialization!==null?preSerializationHookRunner(reply[kRouteContext].preSerialization,reply.request,reply,payload,preSerializationHookEnd):preSerializationHookEnd(null,void 0,reply,payload)}function preSerializationHookEnd(err,_request,reply,payload){if(err!=null){onErrorHook(reply,err);return}try{reply[kReplySerializer]!==null?payload=reply[kReplySerializer](payload):reply[kRouteContext]&&reply[kRouteContext][kReplySerializerDefault]?payload=reply[kRouteContext][kReplySerializerDefault](payload,reply.raw.statusCode):payload=serialize(reply[kRouteContext],payload,reply.raw.statusCode,reply[kReplyHeaders]["content-type"])}catch(e){wrapSerializationError(e,reply),onErrorHook(reply,e);return}onSendHook(reply,payload)}function wrapSerializationError(error,reply){error.serialization=reply[kRouteContext].config}function onSendHook(reply,payload){reply[kRouteContext].onSend!==null?onSendHookRunner(reply[kRouteContext].onSend,reply.request,reply,payload,wrapOnSendEnd):onSendEnd(reply,payload)}function wrapOnSendEnd(err,request2,reply,payload){err!=null?onErrorHook(reply,err):onSendEnd(reply,payload)}function safeWriteHead(reply,statusCode){let res=reply.raw;try{res.writeHead(statusCode,reply[kReplyHeaders])}catch(err){throw err.code==="ERR_HTTP_HEADERS_SENT"&&reply.log.warn(`Reply was already sent, did you forget to "return reply" in the "${reply.request.raw.url}" (${reply.request.raw.method}) route?`),err}}function onSendEnd(reply,payload){let res=reply.raw,req=reply.request;if(reply[kReplyTrailers]!==null){let trailerHeaders=Object.keys(reply[kReplyTrailers]),header="";for(let trailerName of trailerHeaders)typeof reply[kReplyTrailers][trailerName]=="function"&&(header+=" ",header+=trailerName);reply.header("Transfer-Encoding","chunked"),reply.header("Trailer",header.trim())}if(toString2.call(payload)==="[object Response]"){if(typeof payload.status=="number"&&reply.code(payload.status),typeof payload.headers=="object"&&typeof payload.headers.forEach=="function")for(let[headerName,headerValue]of payload.headers)reply.header(headerName,headerValue);if(payload.body!==null&&payload.bodyUsed)throw new FST_ERR_REP_RESPONSE_BODY_CONSUMED;payload=payload.body}let statusCode=res.statusCode;if(payload==null){statusCode>=200&&statusCode!==204&&statusCode!==304&&req.method!=="HEAD"&&reply[kReplyTrailers]===null&&(reply[kReplyHeaders]["content-length"]="0"),safeWriteHead(reply,statusCode),sendTrailer(payload,res,reply);return}if(statusCode>=100&&statusCode<200||statusCode===204){reply.removeHeader("content-type"),reply.removeHeader("content-length"),safeWriteHead(reply,statusCode),sendTrailer(void 0,res,reply),typeof payload.resume=="function"&&(payload.on("error",noop),payload.resume());return}if(typeof payload.pipe=="function"){sendStream(payload,res,reply);return}if(typeof payload.getReader=="function"){sendWebStream(payload,res,reply);return}if(typeof payload!="string"&&!Buffer.isBuffer(payload))throw new FST_ERR_REP_INVALID_PAYLOAD_TYPE(typeof payload);if(reply[kReplyTrailers]===null){let contentLength=reply[kReplyHeaders]["content-length"];(!contentLength||req.raw.method!=="HEAD"&&Number(contentLength)!==Buffer.byteLength(payload))&&(reply[kReplyHeaders]["content-length"]=""+Buffer.byteLength(payload))}safeWriteHead(reply,statusCode),res.write(payload),sendTrailer(payload,res,reply)}function logStreamError(logger,err,res){err.code==="ERR_STREAM_PREMATURE_CLOSE"?logger[kDisableRequestLogging]||logger.info({res},"stream closed prematurely"):logger.warn({err},"response terminated with an error with headers already sent")}function sendWebStream(payload,res,reply){if(payload.locked)throw new FST_ERR_REP_READABLE_STREAM_LOCKED;let sourceOpen=!0,errorLogged=!1,reader=payload.getReader();if(eos(res,function(err){sourceOpen&&(err!=null&&res.headersSent&&!errorLogged&&(errorLogged=!0,logStreamError(reply.log,err,res)),reader.cancel().catch(noop))}),res.headersSent)reply.log.warn("response will send, but you shouldn't use res.writeHead in stream mode");else for(let key in reply[kReplyHeaders])res.setHeader(key,reply[kReplyHeaders][key]);function onRead(result){if(result.done){sourceOpen=!1,sendTrailer(null,res,reply);return}if(res.destroyed){sourceOpen=!1,reader.cancel().catch(noop);return}res.write(result.value),reader.read().then(onRead,onReadError)}function onReadError(err){sourceOpen=!1,res.headersSent||reply.request.raw.aborted===!0?(errorLogged||(errorLogged=!0,logStreamError(reply.log,err,reply)),res.destroy()):onErrorHook(reply,err)}reader.read().then(onRead,onReadError)}function sendStream(payload,res,reply){let sourceOpen=!0,errorLogged=!1;if(sendStreamTrailer(payload,res,reply),eos(payload,{readable:!0,writable:!1},function(err){sourceOpen=!1,err!=null&&(res.headersSent||reply.request.raw.aborted===!0?(errorLogged||(errorLogged=!0,logStreamError(reply.log,err,reply)),res.destroy()):onErrorHook(reply,err))}),eos(res,function(err){sourceOpen&&(err!=null&&res.headersSent&&!errorLogged&&(errorLogged=!0,logStreamError(reply.log,err,res)),typeof payload.destroy=="function"?payload.destroy():typeof payload.close=="function"?payload.close(noop):typeof payload.abort=="function"?payload.abort():reply.log.warn("stream payload does not end properly"))}),res.headersSent)reply.log.warn("response will send, but you shouldn't use res.writeHead in stream mode");else for(let key in reply[kReplyHeaders])res.setHeader(key,reply[kReplyHeaders][key]);payload.pipe(res)}function sendTrailer(payload,res,reply){if(reply[kReplyTrailers]===null){res.end(null,null,null);return}let trailerHeaders=Object.keys(reply[kReplyTrailers]),trailers={},handled=0,skipped=!0;function send(){handled===0&&(res.addTrailers(trailers),res.end(null,null,null))}for(let trailerName of trailerHeaders){let cb=function(err,value){handled++,err?reply.log.debug(err):trailers[trailerName]=value,process.nextTick(send)};if(typeof reply[kReplyTrailers][trailerName]!="function")continue;skipped=!1,handled--;let result=reply[kReplyTrailers][trailerName](reply,payload,cb);typeof result=="object"&&typeof result.then=="function"&&result.then(v=>cb(null,v),cb)}skipped&&res.end(null,null,null)}function sendStreamTrailer(payload,res,reply){reply[kReplyTrailers]!==null&&payload.on("end",()=>sendTrailer(null,res,reply))}function onErrorHook(reply,error,cb){reply[kRouteContext].onError!==null&&!reply[kReplyNextErrorHandler]?(reply[kReplyIsRunningOnErrorHook]=!0,onSendHookRunner(reply[kRouteContext].onError,reply.request,reply,error,()=>handleError(reply,error,cb))):handleError(reply,error,cb)}function setupResponseListeners(reply){reply[kReplyStartTime]=now();let onResFinished=err=>{reply[kReplyEndTime]=now(),reply.raw.removeListener("finish",onResFinished),reply.raw.removeListener("error",onResFinished);let ctx=reply[kRouteContext];ctx&&ctx.onResponse!==null?onResponseHookRunner(ctx.onResponse,reply.request,reply,onResponseCallback):onResponseCallback(err,reply.request,reply)};reply.raw.on("finish",onResFinished),reply.raw.on("error",onResFinished)}function onResponseCallback(err,request2,reply){if(reply.log[kDisableRequestLogging])return;let responseTime=reply.elapsedTime;if(err!=null){reply.log.error({res:reply,err,responseTime},"request errored");return}reply.log.info({res:reply,responseTime},"request completed")}function buildReply(R){let props=R.props.slice();function _Reply(res,request2,log){this.raw=res,this[kReplyIsError]=!1,this[kReplyErrorHandlerCalled]=!1,this[kReplyHijacked]=!1,this[kReplySerializer]=null,this.request=request2,this[kReplyHeaders]={},this[kReplyTrailers]=null,this[kReplyStartTime]=void 0,this[kReplyEndTime]=void 0,this.log=log;let prop;for(let i=0;i<props.length;i++)prop=props[i],this[prop.key]=prop.value}return Object.setPrototypeOf(_Reply.prototype,R.prototype),Object.setPrototypeOf(_Reply,R),_Reply.parent=R,_Reply.props=props,_Reply}function notFound(reply){if(reply[kRouteContext][kFourOhFourContext]===null){reply.log.warn("Trying to send a NotFound error inside a 404 handler. Sending basic 404 response."),reply.code(404).send("404 Not Found");return}reply.request[kRouteContext]=reply[kRouteContext][kFourOhFourContext],reply[kRouteContext].preHandler!==null?preHandlerHookRunner(reply[kRouteContext].preHandler,reply.request,reply,internals.preHandlerCallback):internals.preHandlerCallback(null,reply.request,reply)}function serialize(context,data,statusCode,contentType){let fnSerialize=getSchemaSerializer(context,statusCode,contentType);return fnSerialize?fnSerialize(data):JSON.stringify(data)}function noop(){}module2.exports=Reply;module2.exports.buildReply=buildReply;module2.exports.setupResponseListeners=setupResponseListeners}});var require_forwarded=__commonJS({"../../../../node_modules/@fastify/forwarded/index.js"(exports2,module2){"use strict";function forwarded(req){if(!req)throw new TypeError("argument req is required");let header=req.headers["x-forwarded-for"],socketAddr=req.socket.remoteAddress;if(!header||typeof header!="string")return[socketAddr];if(header.indexOf(",")===-1){let remote=header.trim();return remote.length?[socketAddr,remote]:[socketAddr]}else return parse2(header,socketAddr)}function parse2(header,socketAddr){let result=[socketAddr],end=header.length,start=end,char,i;for(i=end-1;i>=0;--i)char=header[i],char===" "?start===end&&(start=end=i):char===","?(start!==end&&result.push(header.slice(start,end)),start=end=i):start=i;return start!==end&&result.push(header.substring(start,end)),result}module2.exports=forwarded;module2.exports.default=forwarded;module2.exports.forwarded=forwarded}});var require_ipaddr=__commonJS({"../../../../node_modules/ipaddr.js/lib/ipaddr.js"(exports2,module2){(function(root){"use strict";let ipv4Part="(0?\\d+|0x[a-f0-9]+)",ipv4Regexes={fourOctet:new RegExp(`^${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}$`,"i"),threeOctet:new RegExp(`^${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}$`,"i"),twoOctet:new RegExp(`^${ipv4Part}\\.${ipv4Part}$`,"i"),longValue:new RegExp(`^${ipv4Part}$`,"i")},octalRegex=new RegExp("^0[0-7]+$","i"),hexRegex=new RegExp("^0x[a-f0-9]+$","i"),zoneIndex="%[0-9a-z]{1,}",ipv6Part="(?:[0-9a-f]+::?)+",ipv6Regexes={zoneIndex:new RegExp(zoneIndex,"i"),native:new RegExp(`^(::)?(${ipv6Part})?([0-9a-f]+)?(::)?(${zoneIndex})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}(${zoneIndex})?)$`,"i"),transitional:new RegExp(`^((?:${ipv6Part})|(?:::)(?:${ipv6Part})?)${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}\\.${ipv4Part}(${zoneIndex})?$`,"i")};function expandIPv6(string,parts){if(string.indexOf("::")!==string.lastIndexOf("::"))return null;let colonCount=0,lastColon=-1,zoneId=(string.match(ipv6Regexes.zoneIndex)||[])[0],replacement,replacementCount;for(zoneId&&(zoneId=zoneId.substring(1),string=string.replace(/%.+$/,""));(lastColon=string.indexOf(":",lastColon+1))>=0;)colonCount++;if(string.substr(0,2)==="::"&&colonCount--,string.substr(-2,2)==="::"&&colonCount--,colonCount>parts)return null;for(replacementCount=parts-colonCount,replacement=":";replacementCount--;)replacement+="0:";return string=string.replace("::",replacement),string[0]===":"&&(string=string.slice(1)),string[string.length-1]===":"&&(string=string.slice(0,-1)),parts=(function(){let ref=string.split(":"),results=[];for(let i=0;i<ref.length;i++)results.push(parseInt(ref[i],16));return results})(),{parts,zoneId}}function matchCIDR(first,second,partSize,cidrBits){if(first.length!==second.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let part=0,shift;for(;cidrBits>0;){if(shift=partSize-cidrBits,shift<0&&(shift=0),first[part]>>shift!==second[part]>>shift)return!1;cidrBits-=partSize,part+=1}return!0}function parseIntAuto(string){if(hexRegex.test(string))return parseInt(string,16);if(string[0]==="0"&&!isNaN(parseInt(string[1],10))){if(octalRegex.test(string))return parseInt(string,8);throw new Error(`ipaddr: cannot parse ${string} as octal`)}return parseInt(string,10)}function padPart(part,length){for(;part.length<length;)part=`0${part}`;return part}let ipaddr={};ipaddr.IPv4=(function(){function IPv4(octets){if(octets.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");let i,octet;for(i=0;i<octets.length;i++)if(octet=octets[i],!(0<=octet&&octet<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=octets}return IPv4.prototype.SpecialRanges={unspecified:[[new IPv4([0,0,0,0]),8]],broadcast:[[new IPv4([255,255,255,255]),32]],multicast:[[new IPv4([224,0,0,0]),4]],linkLocal:[[new IPv4([169,254,0,0]),16]],loopback:[[new IPv4([127,0,0,0]),8]],carrierGradeNat:[[new IPv4([100,64,0,0]),10]],private:[[new IPv4([10,0,0,0]),8],[new IPv4([172,16,0,0]),12],[new IPv4([192,168,0,0]),16]],reserved:[[new IPv4([192,0,0,0]),24],[new IPv4([192,0,2,0]),24],[new IPv4([192,88,99,0]),24],[new IPv4([198,18,0,0]),15],[new IPv4([198,51,100,0]),24],[new IPv4([203,0,113,0]),24],[new IPv4([240,0,0,0]),4]],as112:[[new IPv4([192,175,48,0]),24],[new IPv4([192,31,196,0]),24]],amt:[[new IPv4([192,52,193,0]),24]]},IPv4.prototype.kind=function(){return"ipv4"},IPv4.prototype.match=function(other,cidrRange){let ref;if(cidrRange===void 0&&(ref=other,other=ref[0],cidrRange=ref[1]),other.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return matchCIDR(this.octets,other.octets,8,cidrRange)},IPv4.prototype.prefixLengthFromSubnetMask=function(){let cidr=0,stop=!1,zerotable={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},i,octet,zeros;for(i=3;i>=0;i-=1)if(octet=this.octets[i],octet in zerotable){if(zeros=zerotable[octet],stop&&zeros!==0)return null;zeros!==8&&(stop=!0),cidr+=zeros}else return null;return 32-cidr},IPv4.prototype.range=function(){return ipaddr.subnetMatch(this,this.SpecialRanges)},IPv4.prototype.toByteArray=function(){return this.octets.slice(0)},IPv4.prototype.toIPv4MappedAddress=function(){return ipaddr.IPv6.parse(`::ffff:${this.toString()}`)},IPv4.prototype.toNormalizedString=function(){return this.toString()},IPv4.prototype.toString=function(){return this.octets.join(".")},IPv4})(),ipaddr.IPv4.broadcastAddressFromCIDR=function(string){try{let cidr=this.parseCIDR(string),ipInterfaceOctets=cidr[0].toByteArray(),subnetMaskOctets=this.subnetMaskFromPrefixLength(cidr[1]).toByteArray(),octets=[],i=0;for(;i<4;)octets.push(parseInt(ipInterfaceOctets[i],10)|parseInt(subnetMaskOctets[i],10)^255),i++;return new this(octets)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},ipaddr.IPv4.isIPv4=function(string){return this.parser(string)!==null},ipaddr.IPv4.isValid=function(string){try{return new this(this.parser(string)),!0}catch{return!1}},ipaddr.IPv4.isValidCIDR=function(string){try{return this.parseCIDR(string),!0}catch{return!1}},ipaddr.IPv4.isValidFourPartDecimal=function(string){return!!(ipaddr.IPv4.isValid(string)&&string.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},ipaddr.IPv4.isValidCIDRFourPartDecimal=function(string){let match2=string.match(/^(.+)\/(\d+)$/);return!ipaddr.IPv4.isValidCIDR(string)||!match2?!1:ipaddr.IPv4.isValidFourPartDecimal(match2[1])},ipaddr.IPv4.networkAddressFromCIDR=function(string){let cidr,i,ipInterfaceOctets,octets,subnetMaskOctets;try{for(cidr=this.parseCIDR(string),ipInterfaceOctets=cidr[0].toByteArray(),subnetMaskOctets=this.subnetMaskFromPrefixLength(cidr[1]).toByteArray(),octets=[],i=0;i<4;)octets.push(parseInt(ipInterfaceOctets[i],10)&parseInt(subnetMaskOctets[i],10)),i++;return new this(octets)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},ipaddr.IPv4.parse=function(string){let parts=this.parser(string);if(parts===null)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(parts)},ipaddr.IPv4.parseCIDR=function(string){let match2;if(match2=string.match(/^(.+)\/(\d+)$/)){let maskLength=parseInt(match2[2]);if(maskLength>=0&&maskLength<=32){let parsed=[this.parse(match2[1]),maskLength];return Object.defineProperty(parsed,"toString",{value:function(){return this.join("/")}}),parsed}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},ipaddr.IPv4.parser=function(string){let match2,part,value;if(match2=string.match(ipv4Regexes.fourOctet))return(function(){let ref=match2.slice(1,6),results=[];for(let i=0;i<ref.length;i++)part=ref[i],results.push(parseIntAuto(part));return results})();if(match2=string.match(ipv4Regexes.longValue)){if(value=parseIntAuto(match2[1]),value>4294967295||value<0)throw new Error("ipaddr: address outside defined range");return(function(){let results=[],shift;for(shift=0;shift<=24;shift+=8)results.push(value>>shift&255);return results})().reverse()}else return(match2=string.match(ipv4Regexes.twoOctet))?(function(){let ref=match2.slice(1,4),results=[];if(value=parseIntAuto(ref[1]),value>16777215||value<0)throw new Error("ipaddr: address outside defined range");return results.push(parseIntAuto(ref[0])),results.push(value>>16&255),results.push(value>>8&255),results.push(value&255),results})():(match2=string.match(ipv4Regexes.threeOctet))?(function(){let ref=match2.slice(1,5),results=[];if(value=parseIntAuto(ref[2]),value>65535||value<0)throw new Error("ipaddr: address outside defined range");return results.push(parseIntAuto(ref[0])),results.push(parseIntAuto(ref[1])),results.push(value>>8&255),results.push(value&255),results})():null},ipaddr.IPv4.subnetMaskFromPrefixLength=function(prefix){if(prefix=parseInt(prefix),prefix<0||prefix>32)throw new Error("ipaddr: invalid IPv4 prefix length");let octets=[0,0,0,0],j=0,filledOctetCount=Math.floor(prefix/8);for(;j<filledOctetCount;)octets[j]=255,j++;return filledOctetCount<4&&(octets[filledOctetCount]=Math.pow(2,prefix%8)-1<<8-prefix%8),new this(octets)},ipaddr.IPv6=(function(){function IPv6(parts,zoneId){let i,part;if(parts.length===16)for(this.parts=[],i=0;i<=14;i+=2)this.parts.push(parts[i]<<8|parts[i+1]);else if(parts.length===8)this.parts=parts;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(i=0;i<this.parts.length;i++)if(part=this.parts[i],!(0<=part&&part<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");zoneId&&(this.zoneId=zoneId)}return IPv6.prototype.SpecialRanges={unspecified:[new IPv6([0,0,0,0,0,0,0,0]),128],linkLocal:[new IPv6([65152,0,0,0,0,0,0,0]),10],multicast:[new IPv6([65280,0,0,0,0,0,0,0]),8],loopback:[new IPv6([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new IPv6([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new IPv6([0,0,0,0,0,65535,0,0]),96],discard:[new IPv6([256,0,0,0,0,0,0,0]),64],rfc6145:[new IPv6([0,0,0,0,65535,0,0,0]),96],rfc6052:[new IPv6([100,65435,0,0,0,0,0,0]),96],"6to4":[new IPv6([8194,0,0,0,0,0,0,0]),16],teredo:[new IPv6([8193,0,0,0,0,0,0,0]),32],benchmarking:[new IPv6([8193,2,0,0,0,0,0,0]),48],amt:[new IPv6([8193,3,0,0,0,0,0,0]),32],as112v6:[[new IPv6([8193,4,274,0,0,0,0,0]),48],[new IPv6([9760,79,32768,0,0,0,0,0]),48]],deprecated:[new IPv6([8193,16,0,0,0,0,0,0]),28],orchid2:[new IPv6([8193,32,0,0,0,0,0,0]),28],droneRemoteIdProtocolEntityTags:[new IPv6([8193,48,0,0,0,0,0,0]),28],reserved:[[new IPv6([8193,0,0,0,0,0,0,0]),23],[new IPv6([8193,3512,0,0,0,0,0,0]),32]]},IPv6.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},IPv6.prototype.kind=function(){return"ipv6"},IPv6.prototype.match=function(other,cidrRange){let ref;if(cidrRange===void 0&&(ref=other,other=ref[0],cidrRange=ref[1]),other.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return matchCIDR(this.parts,other.parts,16,cidrRange)},IPv6.prototype.prefixLengthFromSubnetMask=function(){let cidr=0,stop=!1,zerotable={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},part,zeros;for(let i=7;i>=0;i-=1)if(part=this.parts[i],part in zerotable){if(zeros=zerotable[part],stop&&zeros!==0)return null;zeros!==16&&(stop=!0),cidr+=zeros}else return null;return 128-cidr},IPv6.prototype.range=function(){return ipaddr.subnetMatch(this,this.SpecialRanges)},IPv6.prototype.toByteArray=function(){let part,bytes=[],ref=this.parts;for(let i=0;i<ref.length;i++)part=ref[i],bytes.push(part>>8),bytes.push(part&255);return bytes},IPv6.prototype.toFixedLengthString=function(){let addr=(function(){let results=[];for(let i=0;i<this.parts.length;i++)results.push(padPart(this.parts[i].toString(16),4));return results}).call(this).join(":"),suffix="";return this.zoneId&&(suffix=`%${this.zoneId}`),addr+suffix},IPv6.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");let ref=this.parts.slice(-2),high=ref[0],low=ref[1];return new ipaddr.IPv4([high>>8,high&255,low>>8,low&255])},IPv6.prototype.toNormalizedString=function(){let addr=(function(){let results=[];for(let i=0;i<this.parts.length;i++)results.push(this.parts[i].toString(16));return results}).call(this).join(":"),suffix="";return this.zoneId&&(suffix=`%${this.zoneId}`),addr+suffix},IPv6.prototype.toRFC5952String=function(){let regex=/((^|:)(0(:|$)){2,})/g,string=this.toNormalizedString(),bestMatchIndex=0,bestMatchLength=-1,match2;for(;match2=regex.exec(string);)match2[0].length>bestMatchLength&&(bestMatchIndex=match2.index,bestMatchLength=match2[0].length);return bestMatchLength<0?string:`${string.substring(0,bestMatchIndex)}::${string.substring(bestMatchIndex+bestMatchLength)}`},IPv6.prototype.toString=function(){return this.toRFC5952String()},IPv6})(),ipaddr.IPv6.broadcastAddressFromCIDR=function(string){try{let cidr=this.parseCIDR(string),ipInterfaceOctets=cidr[0].toByteArray(),subnetMaskOctets=this.subnetMaskFromPrefixLength(cidr[1]).toByteArray(),octets=[],i=0;for(;i<16;)octets.push(parseInt(ipInterfaceOctets[i],10)|parseInt(subnetMaskOctets[i],10)^255),i++;return new this(octets)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},ipaddr.IPv6.isIPv6=function(string){return this.parser(string)!==null},ipaddr.IPv6.isValid=function(string){if(typeof string=="string"&&string.indexOf(":")===-1)return!1;try{let addr=this.parser(string);return new this(addr.parts,addr.zoneId),!0}catch{return!1}},ipaddr.IPv6.isValidCIDR=function(string){if(typeof string=="string"&&string.indexOf(":")===-1)return!1;try{return this.parseCIDR(string),!0}catch{return!1}},ipaddr.IPv6.networkAddressFromCIDR=function(string){let cidr,i,ipInterfaceOctets,octets,subnetMaskOctets;try{for(cidr=this.parseCIDR(string),ipInterfaceOctets=cidr[0].toByteArray(),subnetMaskOctets=this.subnetMaskFromPrefixLength(cidr[1]).toByteArray(),octets=[],i=0;i<16;)octets.push(parseInt(ipInterfaceOctets[i],10)&parseInt(subnetMaskOctets[i],10)),i++;return new this(octets)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},ipaddr.IPv6.parse=function(string){let addr=this.parser(string);if(addr.parts===null)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(addr.parts,addr.zoneId)},ipaddr.IPv6.parseCIDR=function(string){let maskLength,match2,parsed;if((match2=string.match(/^(.+)\/(\d+)$/))&&(maskLength=parseInt(match2[2]),maskLength>=0&&maskLength<=128))return parsed=[this.parse(match2[1]),maskLength],Object.defineProperty(parsed,"toString",{value:function(){return this.join("/")}}),parsed;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},ipaddr.IPv6.parser=function(string){let addr,i,match2,octet,octets,zoneId;if(match2=string.match(ipv6Regexes.deprecatedTransitional))return this.parser(`::ffff:${match2[1]}`);if(ipv6Regexes.native.test(string))return expandIPv6(string,8);if((match2=string.match(ipv6Regexes.transitional))&&(zoneId=match2[6]||"",addr=match2[1],match2[1].endsWith("::")||(addr=addr.slice(0,-1)),addr=expandIPv6(addr+zoneId,6),addr.parts)){for(octets=[parseInt(match2[2]),parseInt(match2[3]),parseInt(match2[4]),parseInt(match2[5])],i=0;i<octets.length;i++)if(octet=octets[i],!(0<=octet&&octet<=255))return null;return addr.parts.push(octets[0]<<8|octets[1]),addr.parts.push(octets[2]<<8|octets[3]),{parts:addr.parts,zoneId:addr.zoneId}}return null},ipaddr.IPv6.subnetMaskFromPrefixLength=function(prefix){if(prefix=parseInt(prefix),prefix<0||prefix>128)throw new Error("ipaddr: invalid IPv6 prefix length");let octets=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],j=0,filledOctetCount=Math.floor(prefix/8);for(;j<filledOctetCount;)octets[j]=255,j++;return filledOctetCount<16&&(octets[filledOctetCount]=Math.pow(2,prefix%8)-1<<8-prefix%8),new this(octets)},ipaddr.fromByteArray=function(bytes){let length=bytes.length;if(length===4)return new ipaddr.IPv4(bytes);if(length===16)return new ipaddr.IPv6(bytes);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},ipaddr.isValid=function(string){return ipaddr.IPv6.isValid(string)||ipaddr.IPv4.isValid(string)},ipaddr.isValidCIDR=function(string){return ipaddr.IPv6.isValidCIDR(string)||ipaddr.IPv4.isValidCIDR(string)},ipaddr.parse=function(string){if(ipaddr.IPv6.isValid(string))return ipaddr.IPv6.parse(string);if(ipaddr.IPv4.isValid(string))return ipaddr.IPv4.parse(string);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},ipaddr.parseCIDR=function(string){try{return ipaddr.IPv6.parseCIDR(string)}catch{try{return ipaddr.IPv4.parseCIDR(string)}catch{throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},ipaddr.process=function(string){let addr=this.parse(string);return addr.kind()==="ipv6"&&addr.isIPv4MappedAddress()?addr.toIPv4Address():addr},ipaddr.subnetMatch=function(address,rangeList,defaultName){let i,rangeName,rangeSubnets,subnet;defaultName==null&&(defaultName="unicast");for(rangeName in rangeList)if(Object.prototype.hasOwnProperty.call(rangeList,rangeName)){for(rangeSubnets=rangeList[rangeName],rangeSubnets[0]&&!(rangeSubnets[0]instanceof Array)&&(rangeSubnets=[rangeSubnets]),i=0;i<rangeSubnets.length;i++)if(subnet=rangeSubnets[i],address.kind()===subnet[0].kind()&&address.match.apply(address,subnet))return rangeName}return defaultName},typeof module2<"u"&&module2.exports?module2.exports=ipaddr:root.ipaddr=ipaddr})(exports2)}});var require_proxy_addr=__commonJS({"../../../../node_modules/@fastify/proxy-addr/index.js"(exports2,module2){"use strict";module2.exports=proxyaddr;module2.exports.default=proxyaddr;module2.exports.proxyaddr=proxyaddr;module2.exports.all=alladdrs;module2.exports.compile=compile2;var forwarded=require_forwarded(),ipaddr=require_ipaddr(),DIGIT_REGEXP=/^\d+$/u,isip=ipaddr.isValid,parseip=ipaddr.parse,IP_RANGES={linklocal:["169.254.0.0/16","fe80::/10"],loopback:["127.0.0.1/8","::1/128"],uniquelocal:["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16","fc00::/7"]};function alladdrs(req,trust){let addrs=forwarded(req);if(!trust)return addrs;typeof trust!="function"&&(trust=compile2(trust));for(let i=0;i<addrs.length-1;i++)trust(addrs[i],i)||(addrs.length=i+1);return addrs}function compile2(val){if(!val)throw new TypeError("argument is required");let trust;if(typeof val=="string")trust=[val];else if(Array.isArray(val))trust=val.slice();else throw new TypeError("unsupported trust argument");for(let i=0;i<trust.length;i++)val=trust[i],Object.hasOwn(IP_RANGES,val)&&(val=IP_RANGES[val],trust.splice.apply(trust,[i,1].concat(val)),i+=val.length-1);return compileTrust(compileRangeSubnets(trust))}function compileRangeSubnets(arr){let rangeSubnets=new Array(arr.length);for(let i=0;i<arr.length;i++)rangeSubnets[i]=parseipNotation(arr[i]);return rangeSubnets}function compileTrust(rangeSubnets){let len=rangeSubnets.length;return len===0?trustNone:len===1?trustSingle(rangeSubnets[0]):trustMulti(rangeSubnets)}function parseipNotation(note){let pos=note.lastIndexOf("/"),str=pos!==-1?note.substring(0,pos):note;if(!isip(str))throw new TypeError("invalid IP address: "+str);let ip=parseip(str);pos===-1&&ip.kind()==="ipv6"&&ip.isIPv4MappedAddress()&&(ip=ip.toIPv4Address());let max=ip.kind()==="ipv6"?128:32,range=pos!==-1?note.substring(pos+1,note.length):null;if(range===null?range=max:DIGIT_REGEXP.test(range)?range=parseInt(range,10):ip.kind()==="ipv4"&&isip(range)?range=parseNetmask(range):range=null,range<=0||range>max)throw new TypeError("invalid range on address: "+note);return[ip,range]}function parseNetmask(netmask){let ip=parseip(netmask);return ip.kind()==="ipv4"?ip.prefixLengthFromSubnetMask():null}function proxyaddr(req,trust){if(!req)throw new TypeError("req argument is required");if(!trust)throw new TypeError("trust argument is required");let addrs=alladdrs(req,trust);return addrs[addrs.length-1]}function trustNone(){return!1}function trustMulti(subnets){return function(addr){if(!isip(addr))return!1;let ip=parseip(addr),ipconv,kind=ip.kind();for(let i=0;i<subnets.length;i++){let subnet=subnets[i],subnetip=subnet[0],subnetkind=subnetip.kind(),subnetrange=subnet[1],trusted=ip;if(kind!==subnetkind){let subnetisipv4=subnetkind==="ipv4";if(subnetisipv4&&!ip.isIPv4MappedAddress())continue;ipconv||(ipconv=subnetisipv4?ip.toIPv4Address():ip.toIPv4MappedAddress()),trusted=ipconv}if(trusted.match(subnetip,subnetrange))return!0}return!1}}function trustSingle(subnet){let subnetip=subnet[0],subnetkind=subnetip.kind(),subnetisipv4=subnetkind==="ipv4",subnetrange=subnet[1];return function(addr){if(!isip(addr))return!1;let ip=parseip(addr);if(ip.kind()!==subnetkind){if(subnetisipv4&&!ip.isIPv4MappedAddress())return!1;ip=subnetisipv4?ip.toIPv4Address():ip.toIPv4MappedAddress()}return ip.match(subnetip,subnetrange)}}}});var require_request=__commonJS({"../../../../node_modules/fastify/lib/request.js"(exports2,module2){"use strict";var proxyAddr=require_proxy_addr(),{kHasBeenDecorated,kSchemaBody,kSchemaHeaders,kSchemaParams,kSchemaQuerystring,kSchemaController,kOptions,kRequestCacheValidateFns,kRouteContext,kRequestOriginalUrl}=require_symbols2(),{FST_ERR_REQ_INVALID_VALIDATION_INVOCATION,FST_ERR_DEC_UNDECLARED}=require_errors2(),decorators=require_decorate(),HTTP_PART_SYMBOL_MAP={body:kSchemaBody,headers:kSchemaHeaders,params:kSchemaParams,querystring:kSchemaQuerystring,query:kSchemaQuerystring};function Request(id,params,req,query,log,context){this.id=id,this[kRouteContext]=context,this.params=params,this.raw=req,this.query=query,this.log=log,this.body=void 0}Request.props=[];function getTrustProxyFn(tp){if(typeof tp=="function")return tp;if(tp===!0)return null;if(typeof tp=="number")return function(a,i){return i<tp};if(typeof tp=="string"){let values2=tp.split(",").map(it=>it.trim());return proxyAddr.compile(values2)}return proxyAddr.compile(tp)}function buildRequest(R,trustProxy){return trustProxy?buildRequestWithTrustProxy(R,trustProxy):buildRegularRequest(R)}function buildRegularRequest(R){let props=R.props.slice();function _Request(id,params,req,query,log,context){this.id=id,this[kRouteContext]=context,this.params=params,this.raw=req,this.query=query,this.log=log,this.body=void 0;let prop;for(let i=0;i<props.length;i++)prop=props[i],this[prop.key]=prop.value}return Object.setPrototypeOf(_Request.prototype,R.prototype),Object.setPrototypeOf(_Request,R),_Request.props=props,_Request.parent=R,_Request}function getLastEntryInMultiHeaderValue(headerValue){let lastIndex=headerValue.lastIndexOf(",");return lastIndex===-1?headerValue.trim():headerValue.slice(lastIndex+1).trim()}function buildRequestWithTrustProxy(R,trustProxy){let _Request=buildRegularRequest(R),proxyFn=getTrustProxyFn(trustProxy);return _Request[kHasBeenDecorated]=!0,Object.defineProperties(_Request.prototype,{ip:{get(){let addrs=proxyAddr.all(this.raw,proxyFn);return addrs[addrs.length-1]}},ips:{get(){return proxyAddr.all(this.raw,proxyFn)}},host:{get(){return this.ip!==void 0&&this.headers["x-forwarded-host"]?getLastEntryInMultiHeaderValue(this.headers["x-forwarded-host"]):this.headers.host??this.headers[":authority"]??""}},protocol:{get(){if(this.headers["x-forwarded-proto"])return getLastEntryInMultiHeaderValue(this.headers["x-forwarded-proto"]);if(this.socket)return this.socket.encrypted?"https":"http"}}}),_Request}function assertsRequestDecoration(request2,name){if(!decorators.hasKey(request2,name)&&!decorators.exist(request2,name))throw new FST_ERR_DEC_UNDECLARED(name,"request")}Object.defineProperties(Request.prototype,{server:{get(){return this[kRouteContext].server}},url:{get(){return this.raw.url}},originalUrl:{get(){return this[kRequestOriginalUrl]||(this[kRequestOriginalUrl]=this.raw.originalUrl||this.raw.url),this[kRequestOriginalUrl]}},method:{get(){return this.raw.method}},routeOptions:{get(){let context=this[kRouteContext],routeLimit=context._parserOptions.limit,serverLimit=context.server.initialConfig.bodyLimit,version=context.server.hasConstraintStrategy("version")?this.raw.headers["accept-version"]:void 0;return{method:context.config?.method,url:context.config?.url,bodyLimit:routeLimit||serverLimit,attachValidation:context.attachValidation,logLevel:context.logLevel,exposeHeadRoute:context.exposeHeadRoute,prefixTrailingSlash:context.prefixTrailingSlash,handler:context.handler,config:context.config,schema:context.schema,version}}},is404:{get(){return this[kRouteContext].config?.url===void 0}},socket:{get(){return this.raw.socket}},ip:{get(){if(this.socket)return this.socket.remoteAddress}},host:{get(){return this.raw.headers.host??this.raw.headers[":authority"]??""}},hostname:{get(){return this.host[0]==="["?this.host.slice(0,this.host.indexOf("]")+1):this.host.split(":",1)[0]}},port:{get(){let portFromHost=parseInt(this.host.split(":").slice(-1)[0]);if(!isNaN(portFromHost))return portFromHost;let host=this.headers.host??this.headers[":authority"]??"",portFromHeader=parseInt(host.split(":").slice(-1)[0]);return isNaN(portFromHeader)?null:portFromHeader}},protocol:{get(){if(this.socket)return this.socket.encrypted?"https":"http"}},headers:{get(){return this.additionalHeaders?Object.assign({},this.raw.headers,this.additionalHeaders):this.raw.headers},set(headers){this.additionalHeaders=headers}},getValidationFunction:{value:function(httpPartOrSchema){if(typeof httpPartOrSchema=="string"){let symbol2=HTTP_PART_SYMBOL_MAP[httpPartOrSchema];return this[kRouteContext][symbol2]}else if(typeof httpPartOrSchema=="object")return this[kRouteContext][kRequestCacheValidateFns]?.get(httpPartOrSchema)}},compileValidationSchema:{value:function(schema,httpPart=null){let{method,url}=this;if(this[kRouteContext][kRequestCacheValidateFns]?.has(schema))return this[kRouteContext][kRequestCacheValidateFns].get(schema);let validateFn=(this[kRouteContext].validatorCompiler||this.server[kSchemaController].validatorCompiler||this.server[kSchemaController].setupValidator(this.server[kOptions])||this.server[kSchemaController].validatorCompiler)({schema,method,url,httpPart});return this[kRouteContext][kRequestCacheValidateFns]==null&&(this[kRouteContext][kRequestCacheValidateFns]=new WeakMap),this[kRouteContext][kRequestCacheValidateFns].set(schema,validateFn),validateFn}},validateInput:{value:function(input,schema,httpPart){httpPart=typeof schema=="string"?schema:httpPart;let symbol2=httpPart!=null&&typeof httpPart=="string"&&HTTP_PART_SYMBOL_MAP[httpPart],validate;if(symbol2&&(validate=this[kRouteContext][symbol2]),validate==null&&(schema==null||typeof schema!="object"||Array.isArray(schema)))throw new FST_ERR_REQ_INVALID_VALIDATION_INVOCATION(httpPart);return validate==null&&(this[kRouteContext][kRequestCacheValidateFns]?.has(schema)?validate=this[kRouteContext][kRequestCacheValidateFns].get(schema):validate=this.compileValidationSchema(schema,httpPart)),validate(input)}},getDecorator:{value:function(name){assertsRequestDecoration(this,name);let decorator=this[name];return typeof decorator=="function"?decorator.bind(this):decorator}},setDecorator:{value:function(name,value){assertsRequestDecoration(this,name),this[name]=value}}});module2.exports=Request;module2.exports.buildRequest=buildRequest}});var require_context=__commonJS({"../../../../node_modules/fastify/lib/context.js"(exports2,module2){"use strict";var{kFourOhFourContext,kReplySerializerDefault,kSchemaErrorFormatter,kErrorHandler,kChildLoggerFactory,kOptions,kReply,kRequest,kBodyLimit,kLogLevel,kContentTypeParser,kRouteByFastify,kRequestCacheValidateFns,kReplyCacheSerializeFns}=require_symbols2();function Context({schema,handler,config:config3,requestIdLogLabel,childLoggerFactory,errorHandler,bodyLimit,logLevel,logSerializers,attachValidation,validatorCompiler,serializerCompiler,replySerializer,schemaErrorFormatter,exposeHeadRoute,prefixTrailingSlash,server,isFastify}){this.schema=schema,this.handler=handler,this.Reply=server[kReply],this.Request=server[kRequest],this.contentTypeParser=server[kContentTypeParser],this.onRequest=null,this.onSend=null,this.onError=null,this.onTimeout=null,this.preHandler=null,this.onResponse=null,this.preSerialization=null,this.onRequestAbort=null,this.config=config3,this.errorHandler=errorHandler||server[kErrorHandler],this.requestIdLogLabel=requestIdLogLabel||server[kOptions].requestIdLogLabel,this.childLoggerFactory=childLoggerFactory||server[kChildLoggerFactory],this._middie=null,this._parserOptions={limit:bodyLimit||server[kBodyLimit]},this.exposeHeadRoute=exposeHeadRoute,this.prefixTrailingSlash=prefixTrailingSlash,this.logLevel=logLevel||server[kLogLevel],this.logSerializers=logSerializers,this[kFourOhFourContext]=null,this.attachValidation=attachValidation,this[kReplySerializerDefault]=replySerializer,this.schemaErrorFormatter=schemaErrorFormatter||server[kSchemaErrorFormatter]||defaultSchemaErrorFormatter,this[kRouteByFastify]=isFastify,this[kRequestCacheValidateFns]=null,this[kReplyCacheSerializeFns]=null,this.validatorCompiler=validatorCompiler||null,this.serializerCompiler=serializerCompiler||null,this.server=server}function defaultSchemaErrorFormatter(errors,dataVar){let text2="";for(let i=0;i!==errors.length;++i){let e=errors[i];text2+=dataVar+(e.instancePath||"")+" "+e.message+", "}return new Error(text2.slice(0,-2))}module2.exports=Context}});var require_toad_cache=__commonJS({"../../../../node_modules/toad-cache/dist/toad-cache.cjs"(exports2){"use strict";var FifoMap=class{constructor(max=1e3,ttlInMsecs=0){if(isNaN(max)||max<0)throw new Error("Invalid max value");if(isNaN(ttlInMsecs)||ttlInMsecs<0)throw new Error("Invalid ttl value");this.first=null,this.items=new Map,this.last=null,this.max=max,this.ttl=ttlInMsecs}get size(){return this.items.size}clear(){this.items=new Map,this.first=null,this.last=null}delete(key){if(this.items.has(key)){let deletedItem=this.items.get(key);this.items.delete(key),deletedItem.prev!==null&&(deletedItem.prev.next=deletedItem.next),deletedItem.next!==null&&(deletedItem.next.prev=deletedItem.prev),this.first===deletedItem&&(this.first=deletedItem.next),this.last===deletedItem&&(this.last=deletedItem.prev)}}deleteMany(keys2){for(var i=0;i<keys2.length;i++)this.delete(keys2[i])}evict(){if(this.size>0){let item=this.first;this.items.delete(item.key),this.size===0?(this.first=null,this.last=null):(this.first=item.next,this.first.prev=null)}}expiresAt(key){if(this.items.has(key))return this.items.get(key).expiry}get(key){if(this.items.has(key)){let item=this.items.get(key);if(this.ttl>0&&item.expiry<=Date.now()){this.delete(key);return}return item.value}}getMany(keys2){let result=[];for(var i=0;i<keys2.length;i++)result.push(this.get(keys2[i]));return result}keys(){return this.items.keys()}set(key,value){if(this.items.has(key)){let item2=this.items.get(key);item2.value=value,item2.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl;return}this.max>0&&this.size===this.max&&this.evict();let item={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key,prev:this.last,next:null,value};this.items.set(key,item),this.size===1?this.first=item:this.last.next=item,this.last=item}},LruMap=class{constructor(max=1e3,ttlInMsecs=0){if(isNaN(max)||max<0)throw new Error("Invalid max value");if(isNaN(ttlInMsecs)||ttlInMsecs<0)throw new Error("Invalid ttl value");this.first=null,this.items=new Map,this.last=null,this.max=max,this.ttl=ttlInMsecs}get size(){return this.items.size}bumpLru(item){if(this.last===item)return;let last=this.last,next=item.next,prev=item.prev;this.first===item&&(this.first=next),item.next=null,item.prev=last,last.next=item,prev!==null&&(prev.next=next),next!==null&&(next.prev=prev),this.last=item}clear(){this.items=new Map,this.first=null,this.last=null}delete(key){if(this.items.has(key)){let item=this.items.get(key);this.items.delete(key),item.prev!==null&&(item.prev.next=item.next),item.next!==null&&(item.next.prev=item.prev),this.first===item&&(this.first=item.next),this.last===item&&(this.last=item.prev)}}deleteMany(keys2){for(var i=0;i<keys2.length;i++)this.delete(keys2[i])}evict(){if(this.size>0){let item=this.first;this.items.delete(item.key),this.size===0?(this.first=null,this.last=null):(this.first=item.next,this.first.prev=null)}}expiresAt(key){if(this.items.has(key))return this.items.get(key).expiry}get(key){if(this.items.has(key)){let item=this.items.get(key);if(this.ttl>0&&item.expiry<=Date.now()){this.delete(key);return}return this.bumpLru(item),item.value}}getMany(keys2){let result=[];for(var i=0;i<keys2.length;i++)result.push(this.get(keys2[i]));return result}keys(){return this.items.keys()}set(key,value){if(this.items.has(key)){let item2=this.items.get(key);item2.value=value,item2.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl,this.last!==item2&&this.bumpLru(item2);return}this.max>0&&this.size===this.max&&this.evict();let item={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key,prev:this.last,next:null,value};this.items.set(key,item),this.size===1?this.first=item:this.last.next=item,this.last=item}},LruObject=class{constructor(max=1e3,ttlInMsecs=0){if(isNaN(max)||max<0)throw new Error("Invalid max value");if(isNaN(ttlInMsecs)||ttlInMsecs<0)throw new Error("Invalid ttl value");this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this.max=max,this.ttl=ttlInMsecs}bumpLru(item){if(this.last===item)return;let last=this.last,next=item.next,prev=item.prev;this.first===item&&(this.first=next),item.next=null,item.prev=last,last.next=item,prev!==null&&(prev.next=next),next!==null&&(next.prev=prev),this.last=item}clear(){this.items=Object.create(null),this.first=null,this.last=null,this.size=0}delete(key){if(Object.prototype.hasOwnProperty.call(this.items,key)){let item=this.items[key];delete this.items[key],this.size--,item.prev!==null&&(item.prev.next=item.next),item.next!==null&&(item.next.prev=item.prev),this.first===item&&(this.first=item.next),this.last===item&&(this.last=item.prev)}}deleteMany(keys2){for(var i=0;i<keys2.length;i++)this.delete(keys2[i])}evict(){if(this.size>0){let item=this.first;delete this.items[item.key],--this.size===0?(this.first=null,this.last=null):(this.first=item.next,this.first.prev=null)}}expiresAt(key){if(Object.prototype.hasOwnProperty.call(this.items,key))return this.items[key].expiry}get(key){if(Object.prototype.hasOwnProperty.call(this.items,key)){let item=this.items[key];if(this.ttl>0&&item.expiry<=Date.now()){this.delete(key);return}return this.bumpLru(item),item.value}}getMany(keys2){let result=[];for(var i=0;i<keys2.length;i++)result.push(this.get(keys2[i]));return result}keys(){return Object.keys(this.items)}set(key,value){if(Object.prototype.hasOwnProperty.call(this.items,key)){let item2=this.items[key];item2.value=value,item2.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl,this.last!==item2&&this.bumpLru(item2);return}this.max>0&&this.size===this.max&&this.evict();let item={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key,prev:this.last,next:null,value};this.items[key]=item,++this.size===1?this.first=item:this.last.next=item,this.last=item}},HitStatisticsRecord=class{constructor(){this.records={}}initForCache(cacheId,currentTimeStamp){this.records[cacheId]={[currentTimeStamp]:{cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,invalidateOne:0,invalidateAll:0,sets:0}}}resetForCache(cacheId){for(let key of Object.keys(this.records[cacheId]))this.records[cacheId][key]={cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,invalidateOne:0,invalidateAll:0,sets:0}}getStatistics(){return this.records}};function getTimestamp(date){return`${date.getFullYear()}-${(date.getMonth()+1).toString().padStart(2,"0")}-${date.getDate().toString().padStart(2,"0")}`}var HitStatistics=class{constructor(cacheId,statisticTtlInHours,globalStatisticsRecord){this.cacheId=cacheId,this.statisticTtlInHours=statisticTtlInHours,this.collectionStart=new Date,this.currentTimeStamp=getTimestamp(this.collectionStart),this.records=globalStatisticsRecord||new HitStatisticsRecord,this.records.initForCache(this.cacheId,this.currentTimeStamp)}get currentRecord(){return this.records.records[this.cacheId][this.currentTimeStamp]||(this.records.records[this.cacheId][this.currentTimeStamp]={cacheSize:0,hits:0,falsyHits:0,emptyHits:0,misses:0,expirations:0,evictions:0,sets:0,invalidateOne:0,invalidateAll:0}),this.records.records[this.cacheId][this.currentTimeStamp]}hoursPassed(){return(Date.now()-this.collectionStart)/1e3/60/60}addHit(){this.archiveIfNeeded(),this.currentRecord.hits++}addFalsyHit(){this.archiveIfNeeded(),this.currentRecord.falsyHits++}addEmptyHit(){this.archiveIfNeeded(),this.currentRecord.emptyHits++}addMiss(){this.archiveIfNeeded(),this.currentRecord.misses++}addEviction(){this.archiveIfNeeded(),this.currentRecord.evictions++}setCacheSize(currentSize){this.archiveIfNeeded(),this.currentRecord.cacheSize=currentSize}addExpiration(){this.archiveIfNeeded(),this.currentRecord.expirations++}addSet(){this.archiveIfNeeded(),this.currentRecord.sets++}addInvalidateOne(){this.archiveIfNeeded(),this.currentRecord.invalidateOne++}addInvalidateAll(){this.archiveIfNeeded(),this.currentRecord.invalidateAll++}getStatistics(){return this.records.getStatistics()}archiveIfNeeded(){this.hoursPassed()>=this.statisticTtlInHours&&(this.collectionStart=new Date,this.currentTimeStamp=getTimestamp(this.collectionStart),this.records.initForCache(this.cacheId,this.currentTimeStamp))}},LruObjectHitStatistics=class extends LruObject{constructor(max,ttlInMsecs,cacheId,globalStatisticsRecord,statisticTtlInHours){if(super(max||1e3,ttlInMsecs||0),!cacheId)throw new Error("Cache id is mandatory");this.hitStatistics=new HitStatistics(cacheId,statisticTtlInHours!==void 0?statisticTtlInHours:24,globalStatisticsRecord)}getStatistics(){return this.hitStatistics.getStatistics()}set(key,value){super.set(key,value),this.hitStatistics.addSet(),this.hitStatistics.setCacheSize(this.size)}evict(){super.evict(),this.hitStatistics.addEviction(),this.hitStatistics.setCacheSize(this.size)}delete(key,isExpiration=!1){super.delete(key),isExpiration||this.hitStatistics.addInvalidateOne(),this.hitStatistics.setCacheSize(this.size)}clear(){super.clear(),this.hitStatistics.addInvalidateAll(),this.hitStatistics.setCacheSize(this.size)}get(key){if(Object.prototype.hasOwnProperty.call(this.items,key)){let item=this.items[key];if(this.ttl>0&&item.expiry<=Date.now()){this.delete(key,!0),this.hitStatistics.addExpiration();return}return this.bumpLru(item),item.value||this.hitStatistics.addFalsyHit(),(item.value===void 0||item.value===null||item.value==="")&&this.hitStatistics.addEmptyHit(),this.hitStatistics.addHit(),item.value}this.hitStatistics.addMiss()}},FifoObject=class{constructor(max=1e3,ttlInMsecs=0){if(isNaN(max)||max<0)throw new Error("Invalid max value");if(isNaN(ttlInMsecs)||ttlInMsecs<0)throw new Error("Invalid ttl value");this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this.max=max,this.ttl=ttlInMsecs}clear(){this.items=Object.create(null),this.first=null,this.last=null,this.size=0}delete(key){if(Object.prototype.hasOwnProperty.call(this.items,key)){let deletedItem=this.items[key];delete this.items[key],this.size--,deletedItem.prev!==null&&(deletedItem.prev.next=deletedItem.next),deletedItem.next!==null&&(deletedItem.next.prev=deletedItem.prev),this.first===deletedItem&&(this.first=deletedItem.next),this.last===deletedItem&&(this.last=deletedItem.prev)}}deleteMany(keys2){for(var i=0;i<keys2.length;i++)this.delete(keys2[i])}evict(){if(this.size>0){let item=this.first;delete this.items[item.key],--this.size===0?(this.first=null,this.last=null):(this.first=item.next,this.first.prev=null)}}expiresAt(key){if(Object.prototype.hasOwnProperty.call(this.items,key))return this.items[key].expiry}get(key){if(Object.prototype.hasOwnProperty.call(this.items,key)){let item=this.items[key];if(this.ttl>0&&item.expiry<=Date.now()){this.delete(key);return}return item.value}}getMany(keys2){let result=[];for(var i=0;i<keys2.length;i++)result.push(this.get(keys2[i]));return result}keys(){return Object.keys(this.items)}set(key,value){if(Object.prototype.hasOwnProperty.call(this.items,key)){let item2=this.items[key];item2.value=value,item2.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl;return}this.max>0&&this.size===this.max&&this.evict();let item={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key,prev:this.last,next:null,value};this.items[key]=item,++this.size===1?this.first=item:this.last.next=item,this.last=item}};exports2.Fifo=FifoObject;exports2.FifoMap=FifoMap;exports2.FifoObject=FifoObject;exports2.HitStatisticsRecord=HitStatisticsRecord;exports2.Lru=LruObject;exports2.LruHitStatistics=LruObjectHitStatistics;exports2.LruMap=LruMap;exports2.LruObject=LruObject;exports2.LruObjectHitStatistics=LruObjectHitStatistics}});var require_secure_json_parse=__commonJS({"../../../../node_modules/secure-json-parse/index.js"(exports2,module2){"use strict";var hasBuffer=typeof Buffer<"u",suspectProtoRx=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function _parse(text2,reviver,options2){options2==null&&reviver!==null&&typeof reviver=="object"&&(options2=reviver,reviver=void 0),hasBuffer&&Buffer.isBuffer(text2)&&(text2=text2.toString()),text2&&text2.charCodeAt(0)===65279&&(text2=text2.slice(1));let obj=JSON.parse(text2,reviver);if(obj===null||typeof obj!="object")return obj;let protoAction=options2&&options2.protoAction||"error",constructorAction=options2&&options2.constructorAction||"error";if(protoAction==="ignore"&&constructorAction==="ignore")return obj;if(protoAction!=="ignore"&&constructorAction!=="ignore"){if(suspectProtoRx.test(text2)===!1&&suspectConstructorRx.test(text2)===!1)return obj}else if(protoAction!=="ignore"&&constructorAction==="ignore"){if(suspectProtoRx.test(text2)===!1)return obj}else if(suspectConstructorRx.test(text2)===!1)return obj;return filter(obj,{protoAction,constructorAction,safe:options2&&options2.safe})}function filter(obj,{protoAction="error",constructorAction="error",safe}={}){let next=[obj];for(;next.length;){let nodes=next;next=[];for(let node of nodes){if(protoAction!=="ignore"&&Object.prototype.hasOwnProperty.call(node,"__proto__")){if(safe===!0)return null;if(protoAction==="error")throw new SyntaxError("Object contains forbidden prototype property");delete node.__proto__}if(constructorAction!=="ignore"&&Object.prototype.hasOwnProperty.call(node,"constructor")&&node.constructor!==null&&typeof node.constructor=="object"&&Object.prototype.hasOwnProperty.call(node.constructor,"prototype")){if(safe===!0)return null;if(constructorAction==="error")throw new SyntaxError("Object contains forbidden prototype property");delete node.constructor}for(let key in node){let value=node[key];value&&typeof value=="object"&&next.push(value)}}}return obj}function parse2(text2,reviver,options2){let{stackTraceLimit}=Error;Error.stackTraceLimit=0;try{return _parse(text2,reviver,options2)}finally{Error.stackTraceLimit=stackTraceLimit}}function safeParse(text2,reviver){let{stackTraceLimit}=Error;Error.stackTraceLimit=0;try{return _parse(text2,reviver,{safe:!0})}catch{return}finally{Error.stackTraceLimit=stackTraceLimit}}module2.exports=parse2;module2.exports.default=parse2;module2.exports.parse=parse2;module2.exports.safeParse=safeParse;module2.exports.scan=filter}});var require_content_type_parser=__commonJS({"../../../../node_modules/fastify/lib/content-type-parser.js"(exports2,module2){"use strict";var{AsyncResource}=require("node:async_hooks"),{FifoMap:Fifo}=require_toad_cache(),{parse:secureJsonParse}=require_secure_json_parse(),ContentType=require_content_type(),{kDefaultJsonParse,kContentTypeParser,kBodyLimit,kRequestPayloadStream,kState,kTestInternals,kReplyIsError,kRouteContext}=require_symbols2(),{FST_ERR_CTP_INVALID_TYPE,FST_ERR_CTP_EMPTY_TYPE,FST_ERR_CTP_ALREADY_PRESENT,FST_ERR_CTP_INVALID_HANDLER,FST_ERR_CTP_INVALID_PARSE_TYPE,FST_ERR_CTP_BODY_TOO_LARGE,FST_ERR_CTP_INVALID_MEDIA_TYPE,FST_ERR_CTP_INVALID_CONTENT_LENGTH,FST_ERR_CTP_EMPTY_JSON_BODY,FST_ERR_CTP_INSTANCE_ALREADY_STARTED,FST_ERR_CTP_INVALID_JSON_BODY}=require_errors2(),{FSTSEC001}=require_warnings();function ContentTypeParser(bodyLimit,onProtoPoisoning,onConstructorPoisoning){this[kDefaultJsonParse]=getDefaultJsonParser(onProtoPoisoning,onConstructorPoisoning),this.customParsers=new Map,this.customParsers.set("application/json",new Parser(!0,!1,bodyLimit,this[kDefaultJsonParse])),this.customParsers.set("text/plain",new Parser(!0,!1,bodyLimit,defaultPlainTextParser)),this.parserList=["application/json","text/plain"],this.parserRegExpList=[],this.cache=new Fifo(100)}ContentTypeParser.prototype.add=function(contentType,opts,parserFn){let contentTypeIsString=typeof contentType=="string";if(contentTypeIsString){if(contentType=contentType.trim().toLowerCase(),contentType.length===0)throw new FST_ERR_CTP_EMPTY_TYPE}else if(!(contentType instanceof RegExp))throw new FST_ERR_CTP_INVALID_TYPE;if(typeof parserFn!="function")throw new FST_ERR_CTP_INVALID_HANDLER;if(this.existingParser(contentType))throw new FST_ERR_CTP_ALREADY_PRESENT(contentType);if(opts.parseAs!==void 0&&opts.parseAs!=="string"&&opts.parseAs!=="buffer")throw new FST_ERR_CTP_INVALID_PARSE_TYPE(opts.parseAs);let parser=new Parser(opts.parseAs==="string",opts.parseAs==="buffer",opts.bodyLimit,parserFn);if(contentType==="*")this.customParsers.set("",parser);else if(contentTypeIsString){let ct=new ContentType(contentType);if(ct.isValid===!1)throw new FST_ERR_CTP_INVALID_TYPE;let normalizedContentType=ct.toString();this.parserList.unshift(normalizedContentType),this.customParsers.set(normalizedContentType,parser)}else validateRegExp(contentType),this.parserRegExpList.unshift(contentType),this.customParsers.set(contentType.toString(),parser)};ContentTypeParser.prototype.hasParser=function(contentType){if(typeof contentType=="string")contentType=new ContentType(contentType).toString();else{if(!(contentType instanceof RegExp))throw new FST_ERR_CTP_INVALID_TYPE;contentType=contentType.toString()}return this.customParsers.has(contentType)};ContentTypeParser.prototype.existingParser=function(contentType){if(typeof contentType=="string"){let ct=new ContentType(contentType).toString();if(contentType==="application/json"&&this.customParsers.has(contentType))return this.customParsers.get(ct).fn!==this[kDefaultJsonParse];if(contentType==="text/plain"&&this.customParsers.has(contentType))return this.customParsers.get(ct).fn!==defaultPlainTextParser}return this.hasParser(contentType)};ContentTypeParser.prototype.getParser=function(contentType){typeof contentType=="string"&&(contentType=new ContentType(contentType));let ct=contentType.toString(),parser=this.cache.get(ct);if(parser!==void 0)return parser;if(parser=this.customParsers.get(ct),parser!==void 0)return this.cache.set(ct,parser),parser;if(parser=this.customParsers.get(contentType.mediaType),parser!==void 0)return parser;for(let j=0;j!==this.parserRegExpList.length;++j){let parserRegExp=this.parserRegExpList[j];if(parserRegExp.test(ct))return parser=this.customParsers.get(parserRegExp.toString()),this.cache.set(ct,parser),parser}return this.customParsers.get("")};ContentTypeParser.prototype.removeAll=function(){this.customParsers=new Map,this.parserRegExpList=[],this.parserList=[],this.cache=new Fifo(100)};ContentTypeParser.prototype.remove=function(contentType){let parsers;if(typeof contentType=="string")contentType=new ContentType(contentType).toString(),parsers=this.parserList;else{if(!(contentType instanceof RegExp))throw new FST_ERR_CTP_INVALID_TYPE;contentType=contentType.toString(),parsers=this.parserRegExpList}let removed=this.customParsers.delete(contentType),idx=parsers.findIndex(ct=>ct.toString()===contentType);return idx>-1&&parsers.splice(idx,1),removed||idx>-1};ContentTypeParser.prototype.run=function(contentType,handler,request2,reply){let parser=this.getParser(contentType);if(parser===void 0){if(request2.is404===!0){handler(request2,reply);return}reply[kReplyIsError]=!0,reply.send(new FST_ERR_CTP_INVALID_MEDIA_TYPE(contentType||void 0));return}let resource=new AsyncResource("content-type-parser:run",request2),done=resource.bind(onDone);if(parser.asString===!0||parser.asBuffer===!0){rawBody(request2,reply,reply[kRouteContext]._parserOptions,parser,done);return}let result=parser.fn(request2,request2[kRequestPayloadStream],done);result&&typeof result.then=="function"&&result.then(body=>{done(null,body)},done);function onDone(error,body){if(resource.emitDestroy(),error!=null){reply.header("connection","close"),reply[kReplyIsError]=!0,reply.send(error);return}request2.body=body,handler(request2,reply)}};function rawBody(request2,reply,options2,parser,done){let asString=parser.asString===!0,limit=options2.limit===null?parser.bodyLimit:options2.limit,contentLength=Number(request2.headers["content-length"]);if(contentLength>limit){done(new FST_ERR_CTP_BODY_TOO_LARGE,void 0);return}let receivedLength=0,body=asString?"":[],payload=request2[kRequestPayloadStream]||request2.raw;asString&&payload.setEncoding("utf8"),payload.on("data",onData),payload.on("end",onEnd),payload.on("error",onEnd),payload.resume();function onData(chunk){receivedLength+=asString?Buffer.byteLength(chunk):chunk.length;let{receivedEncodedLength=0}=payload;if(receivedLength>limit||receivedEncodedLength>limit){payload.removeListener("data",onData),payload.removeListener("end",onEnd),payload.removeListener("error",onEnd),done(new FST_ERR_CTP_BODY_TOO_LARGE,void 0);return}asString?body+=chunk:body.push(chunk)}function onEnd(err){if(payload.removeListener("data",onData),payload.removeListener("end",onEnd),payload.removeListener("error",onEnd),err!=null){typeof err.statusCode=="number"&&err.statusCode>=400||(err.statusCode=400),done(err,void 0);return}if(!Number.isNaN(contentLength)&&(payload.receivedEncodedLength||receivedLength)!==contentLength){done(new FST_ERR_CTP_INVALID_CONTENT_LENGTH,void 0);return}asString||(body=Buffer.concat(body));let result=parser.fn(request2,body,done);result&&typeof result.then=="function"&&result.then(body2=>{done(null,body2)},done)}}function getDefaultJsonParser(onProtoPoisoning,onConstructorPoisoning){let parseOptions={protoAction:onProtoPoisoning,constructorAction:onConstructorPoisoning};return defaultJsonParser;function defaultJsonParser(req,body,done){if(body.length===0){done(new FST_ERR_CTP_EMPTY_JSON_BODY,void 0);return}try{done(null,secureJsonParse(body,parseOptions))}catch{done(new FST_ERR_CTP_INVALID_JSON_BODY,void 0)}}}function defaultPlainTextParser(req,body,done){done(null,body)}function Parser(asString,asBuffer,bodyLimit,fn){this.asString=asString,this.asBuffer=asBuffer,this.bodyLimit=bodyLimit,this.fn=fn}function buildContentTypeParser(c){let contentTypeParser=new ContentTypeParser;return contentTypeParser[kDefaultJsonParse]=c[kDefaultJsonParse],contentTypeParser.customParsers=new Map(c.customParsers.entries()),contentTypeParser.parserList=c.parserList.slice(),contentTypeParser.parserRegExpList=c.parserRegExpList.slice(),contentTypeParser}function addContentTypeParser(contentType,opts,parser){if(this[kState].started)throw new FST_ERR_CTP_INSTANCE_ALREADY_STARTED("addContentTypeParser");return typeof opts=="function"&&(parser=opts,opts={}),opts||(opts={}),opts.bodyLimit||(opts.bodyLimit=this[kBodyLimit]),Array.isArray(contentType)?contentType.forEach(type=>this[kContentTypeParser].add(type,opts,parser)):this[kContentTypeParser].add(contentType,opts,parser),this}function hasContentTypeParser(contentType){return this[kContentTypeParser].hasParser(contentType)}function removeContentTypeParser(contentType){if(this[kState].started)throw new FST_ERR_CTP_INSTANCE_ALREADY_STARTED("removeContentTypeParser");if(Array.isArray(contentType))for(let type of contentType)this[kContentTypeParser].remove(type);else this[kContentTypeParser].remove(contentType)}function removeAllContentTypeParsers(){if(this[kState].started)throw new FST_ERR_CTP_INSTANCE_ALREADY_STARTED("removeAllContentTypeParsers");this[kContentTypeParser].removeAll()}function validateRegExp(regexp){regexp.source[0]!=="^"&&regexp.source.includes(";?")===!1&&FSTSEC001(regexp.source)}module2.exports=ContentTypeParser;module2.exports.helpers={buildContentTypeParser,addContentTypeParser,hasContentTypeParser,removeContentTypeParser,removeAllContentTypeParsers};module2.exports.defaultParsers={getDefaultJsonParser,defaultTextParser:defaultPlainTextParser};module2.exports[kTestInternals]={rawBody}}});var require_code=__commonJS({"../../../../node_modules/ajv/dist/compile/codegen/code.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.regexpCode=exports2.getEsmExportName=exports2.getProperty=exports2.safeStringify=exports2.stringify=exports2.strConcat=exports2.addCodeArg=exports2.str=exports2._=exports2.nil=exports2._Code=exports2.Name=exports2.IDENTIFIER=exports2._CodeOrName=void 0;var _CodeOrName=class{};exports2._CodeOrName=_CodeOrName;exports2.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Name=class extends _CodeOrName{constructor(s){if(super(),!exports2.IDENTIFIER.test(s))throw new Error("CodeGen: name must be a valid identifier");this.str=s}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};exports2.Name=Name;var _Code=class extends _CodeOrName{constructor(code2){super(),this._items=typeof code2=="string"?[code2]:code2}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let item=this._items[0];return item===""||item==='""'}get str(){var _a2;return(_a2=this._str)!==null&&_a2!==void 0?_a2:this._str=this._items.reduce((s,c)=>`${s}${c}`,"")}get names(){var _a2;return(_a2=this._names)!==null&&_a2!==void 0?_a2:this._names=this._items.reduce((names,c)=>(c instanceof Name&&(names[c.str]=(names[c.str]||0)+1),names),{})}};exports2._Code=_Code;exports2.nil=new _Code("");function _(strs,...args){let code2=[strs[0]],i=0;for(;i<args.length;)addCodeArg(code2,args[i]),code2.push(strs[++i]);return new _Code(code2)}exports2._=_;var plus=new _Code("+");function str(strs,...args){let expr=[safeStringify(strs[0])],i=0;for(;i<args.length;)expr.push(plus),addCodeArg(expr,args[i]),expr.push(plus,safeStringify(strs[++i]));return optimize(expr),new _Code(expr)}exports2.str=str;function addCodeArg(code2,arg){arg instanceof _Code?code2.push(...arg._items):arg instanceof Name?code2.push(arg):code2.push(interpolate(arg))}exports2.addCodeArg=addCodeArg;function optimize(expr){let i=1;for(;i<expr.length-1;){if(expr[i]===plus){let res=mergeExprItems(expr[i-1],expr[i+1]);if(res!==void 0){expr.splice(i-1,3,res);continue}expr[i++]="+"}i++}}function mergeExprItems(a,b){if(b==='""')return a;if(a==='""')return b;if(typeof a=="string")return b instanceof Name||a[a.length-1]!=='"'?void 0:typeof b!="string"?`${a.slice(0,-1)}${b}"`:b[0]==='"'?a.slice(0,-1)+b.slice(1):void 0;if(typeof b=="string"&&b[0]==='"'&&!(a instanceof Name))return`"${a}${b.slice(1)}`}function strConcat(c1,c2){return c2.emptyStr()?c1:c1.emptyStr()?c2:str`${c1}${c2}`}exports2.strConcat=strConcat;function interpolate(x){return typeof x=="number"||typeof x=="boolean"||x===null?x:safeStringify(Array.isArray(x)?x.join(","):x)}function stringify2(x){return new _Code(safeStringify(x))}exports2.stringify=stringify2;function safeStringify(x){return JSON.stringify(x).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}exports2.safeStringify=safeStringify;function getProperty(key){return typeof key=="string"&&exports2.IDENTIFIER.test(key)?new _Code(`.${key}`):_`[${key}]`}exports2.getProperty=getProperty;function getEsmExportName(key){if(typeof key=="string"&&exports2.IDENTIFIER.test(key))return new _Code(`${key}`);throw new Error(`CodeGen: invalid export name: ${key}, use explicit $id name mapping`)}exports2.getEsmExportName=getEsmExportName;function regexpCode(rx){return new _Code(rx.toString())}exports2.regexpCode=regexpCode}});var require_scope=__commonJS({"../../../../node_modules/ajv/dist/compile/codegen/scope.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.ValueScope=exports2.ValueScopeName=exports2.Scope=exports2.varKinds=exports2.UsedValueState=void 0;var code_1=require_code(),ValueError=class extends Error{constructor(name){super(`CodeGen: "code" for ${name} not defined`),this.value=name.value}},UsedValueState;(function(UsedValueState2){UsedValueState2[UsedValueState2.Started=0]="Started",UsedValueState2[UsedValueState2.Completed=1]="Completed"})(UsedValueState||(exports2.UsedValueState=UsedValueState={}));exports2.varKinds={const:new code_1.Name("const"),let:new code_1.Name("let"),var:new code_1.Name("var")};var Scope=class{constructor({prefixes,parent}={}){this._names={},this._prefixes=prefixes,this._parent=parent}toName(nameOrPrefix){return nameOrPrefix instanceof code_1.Name?nameOrPrefix:this.name(nameOrPrefix)}name(prefix){return new code_1.Name(this._newName(prefix))}_newName(prefix){let ng=this._names[prefix]||this._nameGroup(prefix);return`${prefix}${ng.index++}`}_nameGroup(prefix){var _a2,_b;if(!((_b=(_a2=this._parent)===null||_a2===void 0?void 0:_a2._prefixes)===null||_b===void 0)&&_b.has(prefix)||this._prefixes&&!this._prefixes.has(prefix))throw new Error(`CodeGen: prefix "${prefix}" is not allowed in this scope`);return this._names[prefix]={prefix,index:0}}};exports2.Scope=Scope;var ValueScopeName=class extends code_1.Name{constructor(prefix,nameStr){super(nameStr),this.prefix=prefix}setValue(value,{property,itemIndex}){this.value=value,this.scopePath=(0,code_1._)`.${new code_1.Name(property)}[${itemIndex}]`}};exports2.ValueScopeName=ValueScopeName;var line=(0,code_1._)`\n`,ValueScope=class extends Scope{constructor(opts){super(opts),this._values={},this._scope=opts.scope,this.opts={...opts,_n:opts.lines?line:code_1.nil}}get(){return this._scope}name(prefix){return new ValueScopeName(prefix,this._newName(prefix))}value(nameOrPrefix,value){var _a2;if(value.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let name=this.toName(nameOrPrefix),{prefix}=name,valueKey=(_a2=value.key)!==null&&_a2!==void 0?_a2:value.ref,vs=this._values[prefix];if(vs){let _name=vs.get(valueKey);if(_name)return _name}else vs=this._values[prefix]=new Map;vs.set(valueKey,name);let s=this._scope[prefix]||(this._scope[prefix]=[]),itemIndex=s.length;return s[itemIndex]=value.ref,name.setValue(value,{property:prefix,itemIndex}),name}getValue(prefix,keyOrRef){let vs=this._values[prefix];if(vs)return vs.get(keyOrRef)}scopeRefs(scopeName,values2=this._values){return this._reduceValues(values2,name=>{if(name.scopePath===void 0)throw new Error(`CodeGen: name "${name}" has no value`);return(0,code_1._)`${scopeName}${name.scopePath}`})}scopeCode(values2=this._values,usedValues,getCode){return this._reduceValues(values2,name=>{if(name.value===void 0)throw new Error(`CodeGen: name "${name}" has no value`);return name.value.code},usedValues,getCode)}_reduceValues(values2,valueCode,usedValues={},getCode){let code2=code_1.nil;for(let prefix in values2){let vs=values2[prefix];if(!vs)continue;let nameSet=usedValues[prefix]=usedValues[prefix]||new Map;vs.forEach(name=>{if(nameSet.has(name))return;nameSet.set(name,UsedValueState.Started);let c=valueCode(name);if(c){let def=this.opts.es5?exports2.varKinds.var:exports2.varKinds.const;code2=(0,code_1._)`${code2}${def} ${name} = ${c};${this.opts._n}`}else if(c=getCode?.(name))code2=(0,code_1._)`${code2}${c}${this.opts._n}`;else throw new ValueError(name);nameSet.set(name,UsedValueState.Completed)})}return code2}};exports2.ValueScope=ValueScope}});var require_codegen=__commonJS({"../../../../node_modules/ajv/dist/compile/codegen/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.or=exports2.and=exports2.not=exports2.CodeGen=exports2.operators=exports2.varKinds=exports2.ValueScopeName=exports2.ValueScope=exports2.Scope=exports2.Name=exports2.regexpCode=exports2.stringify=exports2.getProperty=exports2.nil=exports2.strConcat=exports2.str=exports2._=void 0;var code_1=require_code(),scope_1=require_scope(),code_2=require_code();Object.defineProperty(exports2,"_",{enumerable:!0,get:function(){return code_2._}});Object.defineProperty(exports2,"str",{enumerable:!0,get:function(){return code_2.str}});Object.defineProperty(exports2,"strConcat",{enumerable:!0,get:function(){return code_2.strConcat}});Object.defineProperty(exports2,"nil",{enumerable:!0,get:function(){return code_2.nil}});Object.defineProperty(exports2,"getProperty",{enumerable:!0,get:function(){return code_2.getProperty}});Object.defineProperty(exports2,"stringify",{enumerable:!0,get:function(){return code_2.stringify}});Object.defineProperty(exports2,"regexpCode",{enumerable:!0,get:function(){return code_2.regexpCode}});Object.defineProperty(exports2,"Name",{enumerable:!0,get:function(){return code_2.Name}});var scope_2=require_scope();Object.defineProperty(exports2,"Scope",{enumerable:!0,get:function(){return scope_2.Scope}});Object.defineProperty(exports2,"ValueScope",{enumerable:!0,get:function(){return scope_2.ValueScope}});Object.defineProperty(exports2,"ValueScopeName",{enumerable:!0,get:function(){return scope_2.ValueScopeName}});Object.defineProperty(exports2,"varKinds",{enumerable:!0,get:function(){return scope_2.varKinds}});exports2.operators={GT:new code_1._Code(">"),GTE:new code_1._Code(">="),LT:new code_1._Code("<"),LTE:new code_1._Code("<="),EQ:new code_1._Code("==="),NEQ:new code_1._Code("!=="),NOT:new code_1._Code("!"),OR:new code_1._Code("||"),AND:new code_1._Code("&&"),ADD:new code_1._Code("+")};var Node=class{optimizeNodes(){return this}optimizeNames(_names,_constants){return this}},Def=class extends Node{constructor(varKind,name,rhs){super(),this.varKind=varKind,this.name=name,this.rhs=rhs}render({es5,_n}){let varKind=es5?scope_1.varKinds.var:this.varKind,rhs=this.rhs===void 0?"":` = ${this.rhs}`;return`${varKind} ${this.name}${rhs};`+_n}optimizeNames(names,constants){if(names[this.name.str])return this.rhs&&(this.rhs=optimizeExpr(this.rhs,names,constants)),this}get names(){return this.rhs instanceof code_1._CodeOrName?this.rhs.names:{}}},Assign=class extends Node{constructor(lhs,rhs,sideEffects){super(),this.lhs=lhs,this.rhs=rhs,this.sideEffects=sideEffects}render({_n}){return`${this.lhs} = ${this.rhs};`+_n}optimizeNames(names,constants){if(!(this.lhs instanceof code_1.Name&&!names[this.lhs.str]&&!this.sideEffects))return this.rhs=optimizeExpr(this.rhs,names,constants),this}get names(){let names=this.lhs instanceof code_1.Name?{}:{...this.lhs.names};return addExprNames(names,this.rhs)}},AssignOp=class extends Assign{constructor(lhs,op,rhs,sideEffects){super(lhs,rhs,sideEffects),this.op=op}render({_n}){return`${this.lhs} ${this.op}= ${this.rhs};`+_n}},Label=class extends Node{constructor(label){super(),this.label=label,this.names={}}render({_n}){return`${this.label}:`+_n}},Break=class extends Node{constructor(label){super(),this.label=label,this.names={}}render({_n}){return`break${this.label?` ${this.label}`:""};`+_n}},Throw=class extends Node{constructor(error){super(),this.error=error}render({_n}){return`throw ${this.error};`+_n}get names(){return this.error.names}},AnyCode=class extends Node{constructor(code2){super(),this.code=code2}render({_n}){return`${this.code};`+_n}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(names,constants){return this.code=optimizeExpr(this.code,names,constants),this}get names(){return this.code instanceof code_1._CodeOrName?this.code.names:{}}},ParentNode=class extends Node{constructor(nodes=[]){super(),this.nodes=nodes}render(opts){return this.nodes.reduce((code2,n)=>code2+n.render(opts),"")}optimizeNodes(){let{nodes}=this,i=nodes.length;for(;i--;){let n=nodes[i].optimizeNodes();Array.isArray(n)?nodes.splice(i,1,...n):n?nodes[i]=n:nodes.splice(i,1)}return nodes.length>0?this:void 0}optimizeNames(names,constants){let{nodes}=this,i=nodes.length;for(;i--;){let n=nodes[i];n.optimizeNames(names,constants)||(subtractNames(names,n.names),nodes.splice(i,1))}return nodes.length>0?this:void 0}get names(){return this.nodes.reduce((names,n)=>addNames(names,n.names),{})}},BlockNode=class extends ParentNode{render(opts){return"{"+opts._n+super.render(opts)+"}"+opts._n}},Root=class extends ParentNode{},Else=class extends BlockNode{};Else.kind="else";var If=class _If extends BlockNode{constructor(condition,nodes){super(nodes),this.condition=condition}render(opts){let code2=`if(${this.condition})`+super.render(opts);return this.else&&(code2+="else "+this.else.render(opts)),code2}optimizeNodes(){super.optimizeNodes();let cond=this.condition;if(cond===!0)return this.nodes;let e=this.else;if(e){let ns=e.optimizeNodes();e=this.else=Array.isArray(ns)?new Else(ns):ns}if(e)return cond===!1?e instanceof _If?e:e.nodes:this.nodes.length?this:new _If(not(cond),e instanceof _If?[e]:e.nodes);if(!(cond===!1||!this.nodes.length))return this}optimizeNames(names,constants){var _a2;if(this.else=(_a2=this.else)===null||_a2===void 0?void 0:_a2.optimizeNames(names,constants),!!(super.optimizeNames(names,constants)||this.else))return this.condition=optimizeExpr(this.condition,names,constants),this}get names(){let names=super.names;return addExprNames(names,this.condition),this.else&&addNames(names,this.else.names),names}};If.kind="if";var For=class extends BlockNode{};For.kind="for";var ForLoop=class extends For{constructor(iteration){super(),this.iteration=iteration}render(opts){return`for(${this.iteration})`+super.render(opts)}optimizeNames(names,constants){if(super.optimizeNames(names,constants))return this.iteration=optimizeExpr(this.iteration,names,constants),this}get names(){return addNames(super.names,this.iteration.names)}},ForRange=class extends For{constructor(varKind,name,from,to){super(),this.varKind=varKind,this.name=name,this.from=from,this.to=to}render(opts){let varKind=opts.es5?scope_1.varKinds.var:this.varKind,{name,from,to}=this;return`for(${varKind} ${name}=${from}; ${name}<${to}; ${name}++)`+super.render(opts)}get names(){let names=addExprNames(super.names,this.from);return addExprNames(names,this.to)}},ForIter=class extends For{constructor(loop,varKind,name,iterable){super(),this.loop=loop,this.varKind=varKind,this.name=name,this.iterable=iterable}render(opts){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(opts)}optimizeNames(names,constants){if(super.optimizeNames(names,constants))return this.iterable=optimizeExpr(this.iterable,names,constants),this}get names(){return addNames(super.names,this.iterable.names)}},Func=class extends BlockNode{constructor(name,args,async){super(),this.name=name,this.args=args,this.async=async}render(opts){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(opts)}};Func.kind="func";var Return=class extends ParentNode{render(opts){return"return "+super.render(opts)}};Return.kind="return";var Try=class extends BlockNode{render(opts){let code2="try"+super.render(opts);return this.catch&&(code2+=this.catch.render(opts)),this.finally&&(code2+=this.finally.render(opts)),code2}optimizeNodes(){var _a2,_b;return super.optimizeNodes(),(_a2=this.catch)===null||_a2===void 0||_a2.optimizeNodes(),(_b=this.finally)===null||_b===void 0||_b.optimizeNodes(),this}optimizeNames(names,constants){var _a2,_b;return super.optimizeNames(names,constants),(_a2=this.catch)===null||_a2===void 0||_a2.optimizeNames(names,constants),(_b=this.finally)===null||_b===void 0||_b.optimizeNames(names,constants),this}get names(){let names=super.names;return this.catch&&addNames(names,this.catch.names),this.finally&&addNames(names,this.finally.names),names}},Catch=class extends BlockNode{constructor(error){super(),this.error=error}render(opts){return`catch(${this.error})`+super.render(opts)}};Catch.kind="catch";var Finally=class extends BlockNode{render(opts){return"finally"+super.render(opts)}};Finally.kind="finally";var CodeGen=class{constructor(extScope,opts={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...opts,_n:opts.lines?`
`:""},this._extScope=extScope,this._scope=new scope_1.Scope({parent:extScope}),this._nodes=[new Root]}toString(){return this._root.render(this.opts)}name(prefix){return this._scope.name(prefix)}scopeName(prefix){return this._extScope.name(prefix)}scopeValue(prefixOrName,value){let name=this._extScope.value(prefixOrName,value);return(this._values[name.prefix]||(this._values[name.prefix]=new Set)).add(name),name}getScopeValue(prefix,keyOrRef){return this._extScope.getValue(prefix,keyOrRef)}scopeRefs(scopeName){return this._extScope.scopeRefs(scopeName,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(varKind,nameOrPrefix,rhs,constant){let name=this._scope.toName(nameOrPrefix);return rhs!==void 0&&constant&&(this._constants[name.str]=rhs),this._leafNode(new Def(varKind,name,rhs)),name}const(nameOrPrefix,rhs,_constant){return this._def(scope_1.varKinds.const,nameOrPrefix,rhs,_constant)}let(nameOrPrefix,rhs,_constant){return this._def(scope_1.varKinds.let,nameOrPrefix,rhs,_constant)}var(nameOrPrefix,rhs,_constant){return this._def(scope_1.varKinds.var,nameOrPrefix,rhs,_constant)}assign(lhs,rhs,sideEffects){return this._leafNode(new Assign(lhs,rhs,sideEffects))}add(lhs,rhs){return this._leafNode(new AssignOp(lhs,exports2.operators.ADD,rhs))}code(c){return typeof c=="function"?c():c!==code_1.nil&&this._leafNode(new AnyCode(c)),this}object(...keyValues){let code2=["{"];for(let[key,value]of keyValues)code2.length>1&&code2.push(","),code2.push(key),(key!==value||this.opts.es5)&&(code2.push(":"),(0,code_1.addCodeArg)(code2,value));return code2.push("}"),new code_1._Code(code2)}if(condition,thenBody,elseBody){if(this._blockNode(new If(condition)),thenBody&&elseBody)this.code(thenBody).else().code(elseBody).endIf();else if(thenBody)this.code(thenBody).endIf();else if(elseBody)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(condition){return this._elseNode(new If(condition))}else(){return this._elseNode(new Else)}endIf(){return this._endBlockNode(If,Else)}_for(node,forBody){return this._blockNode(node),forBody&&this.code(forBody).endFor(),this}for(iteration,forBody){return this._for(new ForLoop(iteration),forBody)}forRange(nameOrPrefix,from,to,forBody,varKind=this.opts.es5?scope_1.varKinds.var:scope_1.varKinds.let){let name=this._scope.toName(nameOrPrefix);return this._for(new ForRange(varKind,name,from,to),()=>forBody(name))}forOf(nameOrPrefix,iterable,forBody,varKind=scope_1.varKinds.const){let name=this._scope.toName(nameOrPrefix);if(this.opts.es5){let arr=iterable instanceof code_1.Name?iterable:this.var("_arr",iterable);return this.forRange("_i",0,(0,code_1._)`${arr}.length`,i=>{this.var(name,(0,code_1._)`${arr}[${i}]`),forBody(name)})}return this._for(new ForIter("of",varKind,name,iterable),()=>forBody(name))}forIn(nameOrPrefix,obj,forBody,varKind=this.opts.es5?scope_1.varKinds.var:scope_1.varKinds.const){if(this.opts.ownProperties)return this.forOf(nameOrPrefix,(0,code_1._)`Object.keys(${obj})`,forBody);let name=this._scope.toName(nameOrPrefix);return this._for(new ForIter("in",varKind,name,obj),()=>forBody(name))}endFor(){return this._endBlockNode(For)}label(label){return this._leafNode(new Label(label))}break(label){return this._leafNode(new Break(label))}return(value){let node=new Return;if(this._blockNode(node),this.code(value),node.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Return)}try(tryBody,catchCode,finallyCode){if(!catchCode&&!finallyCode)throw new Error('CodeGen: "try" without "catch" and "finally"');let node=new Try;if(this._blockNode(node),this.code(tryBody),catchCode){let error=this.name("e");this._currNode=node.catch=new Catch(error),catchCode(error)}return finallyCode&&(this._currNode=node.finally=new Finally,this.code(finallyCode)),this._endBlockNode(Catch,Finally)}throw(error){return this._leafNode(new Throw(error))}block(body,nodeCount){return this._blockStarts.push(this._nodes.length),body&&this.code(body).endBlock(nodeCount),this}endBlock(nodeCount){let len=this._blockStarts.pop();if(len===void 0)throw new Error("CodeGen: not in self-balancing block");let toClose=this._nodes.length-len;if(toClose<0||nodeCount!==void 0&&toClose!==nodeCount)throw new Error(`CodeGen: wrong number of nodes: ${toClose} vs ${nodeCount} expected`);return this._nodes.length=len,this}func(name,args=code_1.nil,async,funcBody){return this._blockNode(new Func(name,args,async)),funcBody&&this.code(funcBody).endFunc(),this}endFunc(){return this._endBlockNode(Func)}optimize(n=1){for(;n-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(node){return this._currNode.nodes.push(node),this}_blockNode(node){this._currNode.nodes.push(node),this._nodes.push(node)}_endBlockNode(N1,N2){let n=this._currNode;if(n instanceof N1||N2&&n instanceof N2)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${N2?`${N1.kind}/${N2.kind}`:N1.kind}"`)}_elseNode(node){let n=this._currNode;if(!(n instanceof If))throw new Error('CodeGen: "else" without "if"');return this._currNode=n.else=node,this}get _root(){return this._nodes[0]}get _currNode(){let ns=this._nodes;return ns[ns.length-1]}set _currNode(node){let ns=this._nodes;ns[ns.length-1]=node}};exports2.CodeGen=CodeGen;function addNames(names,from){for(let n in from)names[n]=(names[n]||0)+(from[n]||0);return names}function addExprNames(names,from){return from instanceof code_1._CodeOrName?addNames(names,from.names):names}function optimizeExpr(expr,names,constants){if(expr instanceof code_1.Name)return replaceName(expr);if(!canOptimize(expr))return expr;return new code_1._Code(expr._items.reduce((items,c)=>(c instanceof code_1.Name&&(c=replaceName(c)),c instanceof code_1._Code?items.push(...c._items):items.push(c),items),[]));function replaceName(n){let c=constants[n.str];return c===void 0||names[n.str]!==1?n:(delete names[n.str],c)}function canOptimize(e){return e instanceof code_1._Code&&e._items.some(c=>c instanceof code_1.Name&&names[c.str]===1&&constants[c.str]!==void 0)}}function subtractNames(names,from){for(let n in from)names[n]=(names[n]||0)-(from[n]||0)}function not(x){return typeof x=="boolean"||typeof x=="number"||x===null?!x:(0,code_1._)`!${par(x)}`}exports2.not=not;var andCode=mappend(exports2.operators.AND);function and(...args){return args.reduce(andCode)}exports2.and=and;var orCode=mappend(exports2.operators.OR);function or(...args){return args.reduce(orCode)}exports2.or=or;function mappend(op){return(x,y)=>x===code_1.nil?y:y===code_1.nil?x:(0,code_1._)`${par(x)} ${op} ${par(y)}`}function par(x){return x instanceof code_1.Name?x:(0,code_1._)`(${x})`}}});var require_util=__commonJS({"../../../../node_modules/ajv/dist/compile/util.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.checkStrictMode=exports2.getErrorPath=exports2.Type=exports2.useFunc=exports2.setEvaluated=exports2.evaluatedPropsToName=exports2.mergeEvaluated=exports2.eachItem=exports2.unescapeJsonPointer=exports2.escapeJsonPointer=exports2.escapeFragment=exports2.unescapeFragment=exports2.schemaRefOrVal=exports2.schemaHasRulesButRef=exports2.schemaHasRules=exports2.checkUnknownRules=exports2.alwaysValidSchema=exports2.toHash=void 0;var codegen_1=require_codegen(),code_1=require_code();function toHash(arr){let hash={};for(let item of arr)hash[item]=!0;return hash}exports2.toHash=toHash;function alwaysValidSchema(it,schema){return typeof schema=="boolean"?schema:Object.keys(schema).length===0?!0:(checkUnknownRules(it,schema),!schemaHasRules(schema,it.self.RULES.all))}exports2.alwaysValidSchema=alwaysValidSchema;function checkUnknownRules(it,schema=it.schema){let{opts,self:self2}=it;if(!opts.strictSchema||typeof schema=="boolean")return;let rules=self2.RULES.keywords;for(let key in schema)rules[key]||checkStrictMode(it,`unknown keyword: "${key}"`)}exports2.checkUnknownRules=checkUnknownRules;function schemaHasRules(schema,rules){if(typeof schema=="boolean")return!schema;for(let key in schema)if(rules[key])return!0;return!1}exports2.schemaHasRules=schemaHasRules;function schemaHasRulesButRef(schema,RULES){if(typeof schema=="boolean")return!schema;for(let key in schema)if(key!=="$ref"&&RULES.all[key])return!0;return!1}exports2.schemaHasRulesButRef=schemaHasRulesButRef;function schemaRefOrVal({topSchemaRef,schemaPath},schema,keyword,$data){if(!$data){if(typeof schema=="number"||typeof schema=="boolean")return schema;if(typeof schema=="string")return(0,codegen_1._)`${schema}`}return(0,codegen_1._)`${topSchemaRef}${schemaPath}${(0,codegen_1.getProperty)(keyword)}`}exports2.schemaRefOrVal=schemaRefOrVal;function unescapeFragment(str){return unescapeJsonPointer(decodeURIComponent(str))}exports2.unescapeFragment=unescapeFragment;function escapeFragment(str){return encodeURIComponent(escapeJsonPointer(str))}exports2.escapeFragment=escapeFragment;function escapeJsonPointer(str){return typeof str=="number"?`${str}`:str.replace(/~/g,"~0").replace(/\//g,"~1")}exports2.escapeJsonPointer=escapeJsonPointer;function unescapeJsonPointer(str){return str.replace(/~1/g,"/").replace(/~0/g,"~")}exports2.unescapeJsonPointer=unescapeJsonPointer;function eachItem(xs,f){if(Array.isArray(xs))for(let x of xs)f(x);else f(xs)}exports2.eachItem=eachItem;function makeMergeEvaluated({mergeNames,mergeToName,mergeValues:mergeValues2,resultToName}){return(gen,from,to,toName)=>{let res=to===void 0?from:to instanceof codegen_1.Name?(from instanceof codegen_1.Name?mergeNames(gen,from,to):mergeToName(gen,from,to),to):from instanceof codegen_1.Name?(mergeToName(gen,to,from),from):mergeValues2(from,to);return toName===codegen_1.Name&&!(res instanceof codegen_1.Name)?resultToName(gen,res):res}}exports2.mergeEvaluated={props:makeMergeEvaluated({mergeNames:(gen,from,to)=>gen.if((0,codegen_1._)`${to} !== true && ${from} !== undefined`,()=>{gen.if((0,codegen_1._)`${from} === true`,()=>gen.assign(to,!0),()=>gen.assign(to,(0,codegen_1._)`${to} || {}`).code((0,codegen_1._)`Object.assign(${to}, ${from})`))}),mergeToName:(gen,from,to)=>gen.if((0,codegen_1._)`${to} !== true`,()=>{from===!0?gen.assign(to,!0):(gen.assign(to,(0,codegen_1._)`${to} || {}`),setEvaluated(gen,to,from))}),mergeValues:(from,to)=>from===!0?!0:{...from,...to},resultToName:evaluatedPropsToName}),items:makeMergeEvaluated({mergeNames:(gen,from,to)=>gen.if((0,codegen_1._)`${to} !== true && ${from} !== undefined`,()=>gen.assign(to,(0,codegen_1._)`${from} === true ? true : ${to} > ${from} ? ${to} : ${from}`)),mergeToName:(gen,from,to)=>gen.if((0,codegen_1._)`${to} !== true`,()=>gen.assign(to,from===!0?!0:(0,codegen_1._)`${to} > ${from} ? ${to} : ${from}`)),mergeValues:(from,to)=>from===!0?!0:Math.max(from,to),resultToName:(gen,items)=>gen.var("items",items)})};function evaluatedPropsToName(gen,ps){if(ps===!0)return gen.var("props",!0);let props=gen.var("props",(0,codegen_1._)`{}`);return ps!==void 0&&setEvaluated(gen,props,ps),props}exports2.evaluatedPropsToName=evaluatedPropsToName;function setEvaluated(gen,props,ps){Object.keys(ps).forEach(p=>gen.assign((0,codegen_1._)`${props}${(0,codegen_1.getProperty)(p)}`,!0))}exports2.setEvaluated=setEvaluated;var snippets={};function useFunc(gen,f){return gen.scopeValue("func",{ref:f,code:snippets[f.code]||(snippets[f.code]=new code_1._Code(f.code))})}exports2.useFunc=useFunc;var Type;(function(Type2){Type2[Type2.Num=0]="Num",Type2[Type2.Str=1]="Str"})(Type||(exports2.Type=Type={}));function getErrorPath(dataProp,dataPropType,jsPropertySyntax){if(dataProp instanceof codegen_1.Name){let isNumber2=dataPropType===Type.Num;return jsPropertySyntax?isNumber2?(0,codegen_1._)`"[" + ${dataProp} + "]"`:(0,codegen_1._)`"['" + ${dataProp} + "']"`:isNumber2?(0,codegen_1._)`"/" + ${dataProp}`:(0,codegen_1._)`"/" + ${dataProp}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return jsPropertySyntax?(0,codegen_1.getProperty)(dataProp).toString():"/"+escapeJsonPointer(dataProp)}exports2.getErrorPath=getErrorPath;function checkStrictMode(it,msg,mode=it.opts.strictSchema){if(mode){if(msg=`strict mode: ${msg}`,mode===!0)throw new Error(msg);it.self.logger.warn(msg)}}exports2.checkStrictMode=checkStrictMode}});var require_names=__commonJS({"../../../../node_modules/ajv/dist/compile/names.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var codegen_1=require_codegen(),names={data:new codegen_1.Name("data"),valCxt:new codegen_1.Name("valCxt"),instancePath:new codegen_1.Name("instancePath"),parentData:new codegen_1.Name("parentData"),parentDataProperty:new codegen_1.Name("parentDataProperty"),rootData:new codegen_1.Name("rootData"),dynamicAnchors:new codegen_1.Name("dynamicAnchors"),vErrors:new codegen_1.Name("vErrors"),errors:new codegen_1.Name("errors"),this:new codegen_1.Name("this"),self:new codegen_1.Name("self"),scope:new codegen_1.Name("scope"),json:new codegen_1.Name("json"),jsonPos:new codegen_1.Name("jsonPos"),jsonLen:new codegen_1.Name("jsonLen"),jsonPart:new codegen_1.Name("jsonPart")};exports2.default=names}});var require_errors3=__commonJS({"../../../../node_modules/ajv/dist/compile/errors.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.extendErrors=exports2.resetErrorsCount=exports2.reportExtraError=exports2.reportError=exports2.keyword$DataError=exports2.keywordError=void 0;var codegen_1=require_codegen(),util_1=require_util(),names_1=require_names();exports2.keywordError={message:({keyword})=>(0,codegen_1.str)`must pass "${keyword}" keyword validation`};exports2.keyword$DataError={message:({keyword,schemaType})=>schemaType?(0,codegen_1.str)`"${keyword}" keyword must be ${schemaType} ($data)`:(0,codegen_1.str)`"${keyword}" keyword is invalid ($data)`};function reportError(cxt,error=exports2.keywordError,errorPaths,overrideAllErrors){let{it}=cxt,{gen,compositeRule,allErrors}=it,errObj=errorObjectCode(cxt,error,errorPaths);overrideAllErrors??(compositeRule||allErrors)?addError(gen,errObj):returnErrors(it,(0,codegen_1._)`[${errObj}]`)}exports2.reportError=reportError;function reportExtraError(cxt,error=exports2.keywordError,errorPaths){let{it}=cxt,{gen,compositeRule,allErrors}=it,errObj=errorObjectCode(cxt,error,errorPaths);addError(gen,errObj),compositeRule||allErrors||returnErrors(it,names_1.default.vErrors)}exports2.reportExtraError=reportExtraError;function resetErrorsCount(gen,errsCount){gen.assign(names_1.default.errors,errsCount),gen.if((0,codegen_1._)`${names_1.default.vErrors} !== null`,()=>gen.if(errsCount,()=>gen.assign((0,codegen_1._)`${names_1.default.vErrors}.length`,errsCount),()=>gen.assign(names_1.default.vErrors,null)))}exports2.resetErrorsCount=resetErrorsCount;function extendErrors({gen,keyword,schemaValue,data,errsCount,it}){if(errsCount===void 0)throw new Error("ajv implementation error");let err=gen.name("err");gen.forRange("i",errsCount,names_1.default.errors,i=>{gen.const(err,(0,codegen_1._)`${names_1.default.vErrors}[${i}]`),gen.if((0,codegen_1._)`${err}.instancePath === undefined`,()=>gen.assign((0,codegen_1._)`${err}.instancePath`,(0,codegen_1.strConcat)(names_1.default.instancePath,it.errorPath))),gen.assign((0,codegen_1._)`${err}.schemaPath`,(0,codegen_1.str)`${it.errSchemaPath}/${keyword}`),it.opts.verbose&&(gen.assign((0,codegen_1._)`${err}.schema`,schemaValue),gen.assign((0,codegen_1._)`${err}.data`,data))})}exports2.extendErrors=extendErrors;function addError(gen,errObj){let err=gen.const("err",errObj);gen.if((0,codegen_1._)`${names_1.default.vErrors} === null`,()=>gen.assign(names_1.default.vErrors,(0,codegen_1._)`[${err}]`),(0,codegen_1._)`${names_1.default.vErrors}.push(${err})`),gen.code((0,codegen_1._)`${names_1.default.errors}++`)}function returnErrors(it,errs){let{gen,validateName,schemaEnv}=it;schemaEnv.$async?gen.throw((0,codegen_1._)`new ${it.ValidationError}(${errs})`):(gen.assign((0,codegen_1._)`${validateName}.errors`,errs),gen.return(!1))}var E={keyword:new codegen_1.Name("keyword"),schemaPath:new codegen_1.Name("schemaPath"),params:new codegen_1.Name("params"),propertyName:new codegen_1.Name("propertyName"),message:new codegen_1.Name("message"),schema:new codegen_1.Name("schema"),parentSchema:new codegen_1.Name("parentSchema")};function errorObjectCode(cxt,error,errorPaths){let{createErrors}=cxt.it;return createErrors===!1?(0,codegen_1._)`{}`:errorObject(cxt,error,errorPaths)}function errorObject(cxt,error,errorPaths={}){let{gen,it}=cxt,keyValues=[errorInstancePath(it,errorPaths),errorSchemaPath(cxt,errorPaths)];return extraErrorProps(cxt,error,keyValues),gen.object(...keyValues)}function errorInstancePath({errorPath},{instancePath}){let instPath=instancePath?(0,codegen_1.str)`${errorPath}${(0,util_1.getErrorPath)(instancePath,util_1.Type.Str)}`:errorPath;return[names_1.default.instancePath,(0,codegen_1.strConcat)(names_1.default.instancePath,instPath)]}function errorSchemaPath({keyword,it:{errSchemaPath}},{schemaPath,parentSchema}){let schPath=parentSchema?errSchemaPath:(0,codegen_1.str)`${errSchemaPath}/${keyword}`;return schemaPath&&(schPath=(0,codegen_1.str)`${schPath}${(0,util_1.getErrorPath)(schemaPath,util_1.Type.Str)}`),[E.schemaPath,schPath]}function extraErrorProps(cxt,{params,message},keyValues){let{keyword,data,schemaValue,it}=cxt,{opts,propertyName,topSchemaRef,schemaPath}=it;keyValues.push([E.keyword,keyword],[E.params,typeof params=="function"?params(cxt):params||(0,codegen_1._)`{}`]),opts.messages&&keyValues.push([E.message,typeof message=="function"?message(cxt):message]),opts.verbose&&keyValues.push([E.schema,schemaValue],[E.parentSchema,(0,codegen_1._)`${topSchemaRef}${schemaPath}`],[names_1.default.data,data]),propertyName&&keyValues.push([E.propertyName,propertyName])}}});var require_boolSchema=__commonJS({"../../../../node_modules/ajv/dist/compile/validate/boolSchema.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.boolOrEmptySchema=exports2.topBoolOrEmptySchema=void 0;var errors_1=require_errors3(),codegen_1=require_codegen(),names_1=require_names(),boolError={message:"boolean schema is false"};function topBoolOrEmptySchema(it){let{gen,schema,validateName}=it;schema===!1?falseSchemaError(it,!1):typeof schema=="object"&&schema.$async===!0?gen.return(names_1.default.data):(gen.assign((0,codegen_1._)`${validateName}.errors`,null),gen.return(!0))}exports2.topBoolOrEmptySchema=topBoolOrEmptySchema;function boolOrEmptySchema(it,valid){let{gen,schema}=it;schema===!1?(gen.var(valid,!1),falseSchemaError(it)):gen.var(valid,!0)}exports2.boolOrEmptySchema=boolOrEmptySchema;function falseSchemaError(it,overrideAllErrors){let{gen,data}=it,cxt={gen,keyword:"false schema",data,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it};(0,errors_1.reportError)(cxt,boolError,void 0,overrideAllErrors)}}});var require_rules=__commonJS({"../../../../node_modules/ajv/dist/compile/rules.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.getRules=exports2.isJSONType=void 0;var _jsonTypes=["string","number","integer","boolean","null","object","array"],jsonTypes=new Set(_jsonTypes);function isJSONType(x){return typeof x=="string"&&jsonTypes.has(x)}exports2.isJSONType=isJSONType;function getRules(){let groups={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...groups,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},groups.number,groups.string,groups.array,groups.object],post:{rules:[]},all:{},keywords:{}}}exports2.getRules=getRules}});var require_applicability=__commonJS({"../../../../node_modules/ajv/dist/compile/validate/applicability.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.shouldUseRule=exports2.shouldUseGroup=exports2.schemaHasRulesForType=void 0;function schemaHasRulesForType({schema,self:self2},type){let group=self2.RULES.types[type];return group&&group!==!0&&shouldUseGroup(schema,group)}exports2.schemaHasRulesForType=schemaHasRulesForType;function shouldUseGroup(schema,group){return group.rules.some(rule=>shouldUseRule(schema,rule))}exports2.shouldUseGroup=shouldUseGroup;function shouldUseRule(schema,rule){var _a2;return schema[rule.keyword]!==void 0||((_a2=rule.definition.implements)===null||_a2===void 0?void 0:_a2.some(kwd=>schema[kwd]!==void 0))}exports2.shouldUseRule=shouldUseRule}});var require_dataType=__commonJS({"../../../../node_modules/ajv/dist/compile/validate/dataType.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.reportTypeError=exports2.checkDataTypes=exports2.checkDataType=exports2.coerceAndCheckDataType=exports2.getJSONTypes=exports2.getSchemaTypes=exports2.DataType=void 0;var rules_1=require_rules(),applicability_1=require_applicability(),errors_1=require_errors3(),codegen_1=require_codegen(),util_1=require_util(),DataType;(function(DataType2){DataType2[DataType2.Correct=0]="Correct",DataType2[DataType2.Wrong=1]="Wrong"})(DataType||(exports2.DataType=DataType={}));function getSchemaTypes(schema){let types=getJSONTypes(schema.type);if(types.includes("null")){if(schema.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!types.length&&schema.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');schema.nullable===!0&&types.push("null")}return types}exports2.getSchemaTypes=getSchemaTypes;function getJSONTypes(ts){let types=Array.isArray(ts)?ts:ts?[ts]:[];if(types.every(rules_1.isJSONType))return types;throw new Error("type must be JSONType or JSONType[]: "+types.join(","))}exports2.getJSONTypes=getJSONTypes;function coerceAndCheckDataType(it,types){let{gen,data,opts}=it,coerceTo=coerceToTypes(types,opts.coerceTypes),checkTypes=types.length>0&&!(coerceTo.length===0&&types.length===1&&(0,applicability_1.schemaHasRulesForType)(it,types[0]));if(checkTypes){let wrongType=checkDataTypes(types,data,opts.strictNumbers,DataType.Wrong);gen.if(wrongType,()=>{coerceTo.length?coerceData(it,types,coerceTo):reportTypeError(it)})}return checkTypes}exports2.coerceAndCheckDataType=coerceAndCheckDataType;var COERCIBLE=new Set(["string","number","integer","boolean","null"]);function coerceToTypes(types,coerceTypes){return coerceTypes?types.filter(t=>COERCIBLE.has(t)||coerceTypes==="array"&&t==="array"):[]}function coerceData(it,types,coerceTo){let{gen,data,opts}=it,dataType=gen.let("dataType",(0,codegen_1._)`typeof ${data}`),coerced=gen.let("coerced",(0,codegen_1._)`undefined`);opts.coerceTypes==="array"&&gen.if((0,codegen_1._)`${dataType} == 'object' && Array.isArray(${data}) && ${data}.length == 1`,()=>gen.assign(data,(0,codegen_1._)`${data}[0]`).assign(dataType,(0,codegen_1._)`typeof ${data}`).if(checkDataTypes(types,data,opts.strictNumbers),()=>gen.assign(coerced,data))),gen.if((0,codegen_1._)`${coerced} !== undefined`);for(let t of coerceTo)(COERCIBLE.has(t)||t==="array"&&opts.coerceTypes==="array")&&coerceSpecificType(t);gen.else(),reportTypeError(it),gen.endIf(),gen.if((0,codegen_1._)`${coerced} !== undefined`,()=>{gen.assign(data,coerced),assignParentData(it,coerced)});function coerceSpecificType(t){switch(t){case"string":gen.elseIf((0,codegen_1._)`${dataType} == "number" || ${dataType} == "boolean"`).assign(coerced,(0,codegen_1._)`"" + ${data}`).elseIf((0,codegen_1._)`${data} === null`).assign(coerced,(0,codegen_1._)`""`);return;case"number":gen.elseIf((0,codegen_1._)`${dataType} == "boolean" || ${data} === null
              || (${dataType} == "string" && ${data} && ${data} == +${data})`).assign(coerced,(0,codegen_1._)`+${data}`);return;case"integer":gen.elseIf((0,codegen_1._)`${dataType} === "boolean" || ${data} === null
              || (${dataType} === "string" && ${data} && ${data} == +${data} && !(${data} % 1))`).assign(coerced,(0,codegen_1._)`+${data}`);return;case"boolean":gen.elseIf((0,codegen_1._)`${data} === "false" || ${data} === 0 || ${data} === null`).assign(coerced,!1).elseIf((0,codegen_1._)`${data} === "true" || ${data} === 1`).assign(coerced,!0);return;case"null":gen.elseIf((0,codegen_1._)`${data} === "" || ${data} === 0 || ${data} === false`),gen.assign(coerced,null);return;case"array":gen.elseIf((0,codegen_1._)`${dataType} === "string" || ${dataType} === "number"
              || ${dataType} === "boolean" || ${data} === null`).assign(coerced,(0,codegen_1._)`[${data}]`)}}}function assignParentData({gen,parentData,parentDataProperty},expr){gen.if((0,codegen_1._)`${parentData} !== undefined`,()=>gen.assign((0,codegen_1._)`${parentData}[${parentDataProperty}]`,expr))}function checkDataType(dataType,data,strictNums,correct=DataType.Correct){let EQ=correct===DataType.Correct?codegen_1.operators.EQ:codegen_1.operators.NEQ,cond;switch(dataType){case"null":return(0,codegen_1._)`${data} ${EQ} null`;case"array":cond=(0,codegen_1._)`Array.isArray(${data})`;break;case"object":cond=(0,codegen_1._)`${data} && typeof ${data} == "object" && !Array.isArray(${data})`;break;case"integer":cond=numCond((0,codegen_1._)`!(${data} % 1) && !isNaN(${data})`);break;case"number":cond=numCond();break;default:return(0,codegen_1._)`typeof ${data} ${EQ} ${dataType}`}return correct===DataType.Correct?cond:(0,codegen_1.not)(cond);function numCond(_cond=codegen_1.nil){return(0,codegen_1.and)((0,codegen_1._)`typeof ${data} == "number"`,_cond,strictNums?(0,codegen_1._)`isFinite(${data})`:codegen_1.nil)}}exports2.checkDataType=checkDataType;function checkDataTypes(dataTypes,data,strictNums,correct){if(dataTypes.length===1)return checkDataType(dataTypes[0],data,strictNums,correct);let cond,types=(0,util_1.toHash)(dataTypes);if(types.array&&types.object){let notObj=(0,codegen_1._)`typeof ${data} != "object"`;cond=types.null?notObj:(0,codegen_1._)`!${data} || ${notObj}`,delete types.null,delete types.array,delete types.object}else cond=codegen_1.nil;types.number&&delete types.integer;for(let t in types)cond=(0,codegen_1.and)(cond,checkDataType(t,data,strictNums,correct));return cond}exports2.checkDataTypes=checkDataTypes;var typeError={message:({schema})=>`must be ${schema}`,params:({schema,schemaValue})=>typeof schema=="string"?(0,codegen_1._)`{type: ${schema}}`:(0,codegen_1._)`{type: ${schemaValue}}`};function reportTypeError(it){let cxt=getTypeErrorContext(it);(0,errors_1.reportError)(cxt,typeError)}exports2.reportTypeError=reportTypeError;function getTypeErrorContext(it){let{gen,data,schema}=it,schemaCode=(0,util_1.schemaRefOrVal)(it,schema,"type");return{gen,keyword:"type",data,schema:schema.type,schemaCode,schemaValue:schemaCode,parentSchema:schema,params:{},it}}}});var require_defaults=__commonJS({"../../../../node_modules/ajv/dist/compile/validate/defaults.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.assignDefaults=void 0;var codegen_1=require_codegen(),util_1=require_util();function assignDefaults(it,ty){let{properties,items}=it.schema;if(ty==="object"&&properties)for(let key in properties)assignDefault(it,key,properties[key].default);else ty==="array"&&Array.isArray(items)&&items.forEach((sch,i)=>assignDefault(it,i,sch.default))}exports2.assignDefaults=assignDefaults;function assignDefault(it,prop,defaultValue){let{gen,compositeRule,data,opts}=it;if(defaultValue===void 0)return;let childData=(0,codegen_1._)`${data}${(0,codegen_1.getProperty)(prop)}`;if(compositeRule){(0,util_1.checkStrictMode)(it,`default is ignored for: ${childData}`);return}let condition=(0,codegen_1._)`${childData} === undefined`;opts.useDefaults==="empty"&&(condition=(0,codegen_1._)`${condition} || ${childData} === null || ${childData} === ""`),gen.if(condition,(0,codegen_1._)`${childData} = ${(0,codegen_1.stringify)(defaultValue)}`)}}});var require_code2=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/code.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.validateUnion=exports2.validateArray=exports2.usePattern=exports2.callValidateCode=exports2.schemaProperties=exports2.allSchemaProperties=exports2.noPropertyInData=exports2.propertyInData=exports2.isOwnProperty=exports2.hasPropFunc=exports2.reportMissingProp=exports2.checkMissingProp=exports2.checkReportMissingProp=void 0;var codegen_1=require_codegen(),util_1=require_util(),names_1=require_names(),util_2=require_util();function checkReportMissingProp(cxt,prop){let{gen,data,it}=cxt;gen.if(noPropertyInData(gen,data,prop,it.opts.ownProperties),()=>{cxt.setParams({missingProperty:(0,codegen_1._)`${prop}`},!0),cxt.error()})}exports2.checkReportMissingProp=checkReportMissingProp;function checkMissingProp({gen,data,it:{opts}},properties,missing){return(0,codegen_1.or)(...properties.map(prop=>(0,codegen_1.and)(noPropertyInData(gen,data,prop,opts.ownProperties),(0,codegen_1._)`${missing} = ${prop}`)))}exports2.checkMissingProp=checkMissingProp;function reportMissingProp(cxt,missing){cxt.setParams({missingProperty:missing},!0),cxt.error()}exports2.reportMissingProp=reportMissingProp;function hasPropFunc(gen){return gen.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,codegen_1._)`Object.prototype.hasOwnProperty`})}exports2.hasPropFunc=hasPropFunc;function isOwnProperty(gen,data,property){return(0,codegen_1._)`${hasPropFunc(gen)}.call(${data}, ${property})`}exports2.isOwnProperty=isOwnProperty;function propertyInData(gen,data,property,ownProperties){let cond=(0,codegen_1._)`${data}${(0,codegen_1.getProperty)(property)} !== undefined`;return ownProperties?(0,codegen_1._)`${cond} && ${isOwnProperty(gen,data,property)}`:cond}exports2.propertyInData=propertyInData;function noPropertyInData(gen,data,property,ownProperties){let cond=(0,codegen_1._)`${data}${(0,codegen_1.getProperty)(property)} === undefined`;return ownProperties?(0,codegen_1.or)(cond,(0,codegen_1.not)(isOwnProperty(gen,data,property))):cond}exports2.noPropertyInData=noPropertyInData;function allSchemaProperties(schemaMap){return schemaMap?Object.keys(schemaMap).filter(p=>p!=="__proto__"):[]}exports2.allSchemaProperties=allSchemaProperties;function schemaProperties(it,schemaMap){return allSchemaProperties(schemaMap).filter(p=>!(0,util_1.alwaysValidSchema)(it,schemaMap[p]))}exports2.schemaProperties=schemaProperties;function callValidateCode({schemaCode,data,it:{gen,topSchemaRef,schemaPath,errorPath},it},func,context,passSchema){let dataAndSchema=passSchema?(0,codegen_1._)`${schemaCode}, ${data}, ${topSchemaRef}${schemaPath}`:data,valCxt=[[names_1.default.instancePath,(0,codegen_1.strConcat)(names_1.default.instancePath,errorPath)],[names_1.default.parentData,it.parentData],[names_1.default.parentDataProperty,it.parentDataProperty],[names_1.default.rootData,names_1.default.rootData]];it.opts.dynamicRef&&valCxt.push([names_1.default.dynamicAnchors,names_1.default.dynamicAnchors]);let args=(0,codegen_1._)`${dataAndSchema}, ${gen.object(...valCxt)}`;return context!==codegen_1.nil?(0,codegen_1._)`${func}.call(${context}, ${args})`:(0,codegen_1._)`${func}(${args})`}exports2.callValidateCode=callValidateCode;var newRegExp=(0,codegen_1._)`new RegExp`;function usePattern({gen,it:{opts}},pattern){let u=opts.unicodeRegExp?"u":"",{regExp}=opts.code,rx=regExp(pattern,u);return gen.scopeValue("pattern",{key:rx.toString(),ref:rx,code:(0,codegen_1._)`${regExp.code==="new RegExp"?newRegExp:(0,util_2.useFunc)(gen,regExp)}(${pattern}, ${u})`})}exports2.usePattern=usePattern;function validateArray(cxt){let{gen,data,keyword,it}=cxt,valid=gen.name("valid");if(it.allErrors){let validArr=gen.let("valid",!0);return validateItems(()=>gen.assign(validArr,!1)),validArr}return gen.var(valid,!0),validateItems(()=>gen.break()),valid;function validateItems(notValid){let len=gen.const("len",(0,codegen_1._)`${data}.length`);gen.forRange("i",0,len,i=>{cxt.subschema({keyword,dataProp:i,dataPropType:util_1.Type.Num},valid),gen.if((0,codegen_1.not)(valid),notValid)})}}exports2.validateArray=validateArray;function validateUnion(cxt){let{gen,schema,keyword,it}=cxt;if(!Array.isArray(schema))throw new Error("ajv implementation error");if(schema.some(sch=>(0,util_1.alwaysValidSchema)(it,sch))&&!it.opts.unevaluated)return;let valid=gen.let("valid",!1),schValid=gen.name("_valid");gen.block(()=>schema.forEach((_sch,i)=>{let schCxt=cxt.subschema({keyword,schemaProp:i,compositeRule:!0},schValid);gen.assign(valid,(0,codegen_1._)`${valid} || ${schValid}`),cxt.mergeValidEvaluated(schCxt,schValid)||gen.if((0,codegen_1.not)(valid))})),cxt.result(valid,()=>cxt.reset(),()=>cxt.error(!0))}exports2.validateUnion=validateUnion}});var require_keyword=__commonJS({"../../../../node_modules/ajv/dist/compile/validate/keyword.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.validateKeywordUsage=exports2.validSchemaType=exports2.funcKeywordCode=exports2.macroKeywordCode=void 0;var codegen_1=require_codegen(),names_1=require_names(),code_1=require_code2(),errors_1=require_errors3();function macroKeywordCode(cxt,def){let{gen,keyword,schema,parentSchema,it}=cxt,macroSchema=def.macro.call(it.self,schema,parentSchema,it),schemaRef=useKeyword(gen,keyword,macroSchema);it.opts.validateSchema!==!1&&it.self.validateSchema(macroSchema,!0);let valid=gen.name("valid");cxt.subschema({schema:macroSchema,schemaPath:codegen_1.nil,errSchemaPath:`${it.errSchemaPath}/${keyword}`,topSchemaRef:schemaRef,compositeRule:!0},valid),cxt.pass(valid,()=>cxt.error(!0))}exports2.macroKeywordCode=macroKeywordCode;function funcKeywordCode(cxt,def){var _a2;let{gen,keyword,schema,parentSchema,$data,it}=cxt;checkAsyncKeyword(it,def);let validate=!$data&&def.compile?def.compile.call(it.self,schema,parentSchema,it):def.validate,validateRef=useKeyword(gen,keyword,validate),valid=gen.let("valid");cxt.block$data(valid,validateKeyword),cxt.ok((_a2=def.valid)!==null&&_a2!==void 0?_a2:valid);function validateKeyword(){if(def.errors===!1)assignValid(),def.modifying&&modifyData(cxt),reportErrs(()=>cxt.error());else{let ruleErrs=def.async?validateAsync():validateSync();def.modifying&&modifyData(cxt),reportErrs(()=>addErrs(cxt,ruleErrs))}}function validateAsync(){let ruleErrs=gen.let("ruleErrs",null);return gen.try(()=>assignValid((0,codegen_1._)`await `),e=>gen.assign(valid,!1).if((0,codegen_1._)`${e} instanceof ${it.ValidationError}`,()=>gen.assign(ruleErrs,(0,codegen_1._)`${e}.errors`),()=>gen.throw(e))),ruleErrs}function validateSync(){let validateErrs=(0,codegen_1._)`${validateRef}.errors`;return gen.assign(validateErrs,null),assignValid(codegen_1.nil),validateErrs}function assignValid(_await=def.async?(0,codegen_1._)`await `:codegen_1.nil){let passCxt=it.opts.passContext?names_1.default.this:names_1.default.self,passSchema=!("compile"in def&&!$data||def.schema===!1);gen.assign(valid,(0,codegen_1._)`${_await}${(0,code_1.callValidateCode)(cxt,validateRef,passCxt,passSchema)}`,def.modifying)}function reportErrs(errors){var _a3;gen.if((0,codegen_1.not)((_a3=def.valid)!==null&&_a3!==void 0?_a3:valid),errors)}}exports2.funcKeywordCode=funcKeywordCode;function modifyData(cxt){let{gen,data,it}=cxt;gen.if(it.parentData,()=>gen.assign(data,(0,codegen_1._)`${it.parentData}[${it.parentDataProperty}]`))}function addErrs(cxt,errs){let{gen}=cxt;gen.if((0,codegen_1._)`Array.isArray(${errs})`,()=>{gen.assign(names_1.default.vErrors,(0,codegen_1._)`${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`).assign(names_1.default.errors,(0,codegen_1._)`${names_1.default.vErrors}.length`),(0,errors_1.extendErrors)(cxt)},()=>cxt.error())}function checkAsyncKeyword({schemaEnv},def){if(def.async&&!schemaEnv.$async)throw new Error("async keyword in sync schema")}function useKeyword(gen,keyword,result){if(result===void 0)throw new Error(`keyword "${keyword}" failed to compile`);return gen.scopeValue("keyword",typeof result=="function"?{ref:result}:{ref:result,code:(0,codegen_1.stringify)(result)})}function validSchemaType(schema,schemaType,allowUndefined=!1){return!schemaType.length||schemaType.some(st=>st==="array"?Array.isArray(schema):st==="object"?schema&&typeof schema=="object"&&!Array.isArray(schema):typeof schema==st||allowUndefined&&typeof schema>"u")}exports2.validSchemaType=validSchemaType;function validateKeywordUsage({schema,opts,self:self2,errSchemaPath},def,keyword){if(Array.isArray(def.keyword)?!def.keyword.includes(keyword):def.keyword!==keyword)throw new Error("ajv implementation error");let deps=def.dependencies;if(deps?.some(kwd=>!Object.prototype.hasOwnProperty.call(schema,kwd)))throw new Error(`parent schema must have dependencies of ${keyword}: ${deps.join(",")}`);if(def.validateSchema&&!def.validateSchema(schema[keyword])){let msg=`keyword "${keyword}" value is invalid at path "${errSchemaPath}": `+self2.errorsText(def.validateSchema.errors);if(opts.validateSchema==="log")self2.logger.error(msg);else throw new Error(msg)}}exports2.validateKeywordUsage=validateKeywordUsage}});var require_subschema=__commonJS({"../../../../node_modules/ajv/dist/compile/validate/subschema.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.extendSubschemaMode=exports2.extendSubschemaData=exports2.getSubschema=void 0;var codegen_1=require_codegen(),util_1=require_util();function getSubschema(it,{keyword,schemaProp,schema,schemaPath,errSchemaPath,topSchemaRef}){if(keyword!==void 0&&schema!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(keyword!==void 0){let sch=it.schema[keyword];return schemaProp===void 0?{schema:sch,schemaPath:(0,codegen_1._)`${it.schemaPath}${(0,codegen_1.getProperty)(keyword)}`,errSchemaPath:`${it.errSchemaPath}/${keyword}`}:{schema:sch[schemaProp],schemaPath:(0,codegen_1._)`${it.schemaPath}${(0,codegen_1.getProperty)(keyword)}${(0,codegen_1.getProperty)(schemaProp)}`,errSchemaPath:`${it.errSchemaPath}/${keyword}/${(0,util_1.escapeFragment)(schemaProp)}`}}if(schema!==void 0){if(schemaPath===void 0||errSchemaPath===void 0||topSchemaRef===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema,schemaPath,topSchemaRef,errSchemaPath}}throw new Error('either "keyword" or "schema" must be passed')}exports2.getSubschema=getSubschema;function extendSubschemaData(subschema,it,{dataProp,dataPropType:dpType,data,dataTypes,propertyName}){if(data!==void 0&&dataProp!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen}=it;if(dataProp!==void 0){let{errorPath,dataPathArr,opts}=it,nextData=gen.let("data",(0,codegen_1._)`${it.data}${(0,codegen_1.getProperty)(dataProp)}`,!0);dataContextProps(nextData),subschema.errorPath=(0,codegen_1.str)`${errorPath}${(0,util_1.getErrorPath)(dataProp,dpType,opts.jsPropertySyntax)}`,subschema.parentDataProperty=(0,codegen_1._)`${dataProp}`,subschema.dataPathArr=[...dataPathArr,subschema.parentDataProperty]}if(data!==void 0){let nextData=data instanceof codegen_1.Name?data:gen.let("data",data,!0);dataContextProps(nextData),propertyName!==void 0&&(subschema.propertyName=propertyName)}dataTypes&&(subschema.dataTypes=dataTypes);function dataContextProps(_nextData){subschema.data=_nextData,subschema.dataLevel=it.dataLevel+1,subschema.dataTypes=[],it.definedProperties=new Set,subschema.parentData=it.data,subschema.dataNames=[...it.dataNames,_nextData]}}exports2.extendSubschemaData=extendSubschemaData;function extendSubschemaMode(subschema,{jtdDiscriminator,jtdMetadata,compositeRule,createErrors,allErrors}){compositeRule!==void 0&&(subschema.compositeRule=compositeRule),createErrors!==void 0&&(subschema.createErrors=createErrors),allErrors!==void 0&&(subschema.allErrors=allErrors),subschema.jtdDiscriminator=jtdDiscriminator,subschema.jtdMetadata=jtdMetadata}exports2.extendSubschemaMode=extendSubschemaMode}});var require_fast_deep_equal=__commonJS({"../../../../node_modules/fast-deep-equal/index.js"(exports2,module2){"use strict";module2.exports=function equal(a,b){if(a===b)return!0;if(a&&b&&typeof a=="object"&&typeof b=="object"){if(a.constructor!==b.constructor)return!1;var length,i,keys2;if(Array.isArray(a)){if(length=a.length,length!=b.length)return!1;for(i=length;i--!==0;)if(!equal(a[i],b[i]))return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();if(keys2=Object.keys(a),length=keys2.length,length!==Object.keys(b).length)return!1;for(i=length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(b,keys2[i]))return!1;for(i=length;i--!==0;){var key=keys2[i];if(!equal(a[key],b[key]))return!1}return!0}return a!==a&&b!==b}}});var require_json_schema_traverse=__commonJS({"../../../../node_modules/json-schema-traverse/index.js"(exports2,module2){"use strict";var traverse=module2.exports=function(schema,opts,cb){typeof opts=="function"&&(cb=opts,opts={}),cb=opts.cb||cb;var pre=typeof cb=="function"?cb:cb.pre||function(){},post=cb.post||function(){};_traverse(opts,pre,post,schema,"",schema)};traverse.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};traverse.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};traverse.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};traverse.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function _traverse(opts,pre,post,schema,jsonPtr,rootSchema,parentJsonPtr,parentKeyword,parentSchema,keyIndex){if(schema&&typeof schema=="object"&&!Array.isArray(schema)){pre(schema,jsonPtr,rootSchema,parentJsonPtr,parentKeyword,parentSchema,keyIndex);for(var key in schema){var sch=schema[key];if(Array.isArray(sch)){if(key in traverse.arrayKeywords)for(var i=0;i<sch.length;i++)_traverse(opts,pre,post,sch[i],jsonPtr+"/"+key+"/"+i,rootSchema,jsonPtr,key,schema,i)}else if(key in traverse.propsKeywords){if(sch&&typeof sch=="object")for(var prop in sch)_traverse(opts,pre,post,sch[prop],jsonPtr+"/"+key+"/"+escapeJsonPtr(prop),rootSchema,jsonPtr,key,schema,prop)}else(key in traverse.keywords||opts.allKeys&&!(key in traverse.skipKeywords))&&_traverse(opts,pre,post,sch,jsonPtr+"/"+key,rootSchema,jsonPtr,key,schema)}post(schema,jsonPtr,rootSchema,parentJsonPtr,parentKeyword,parentSchema,keyIndex)}}function escapeJsonPtr(str){return str.replace(/~/g,"~0").replace(/\//g,"~1")}}});var require_resolve=__commonJS({"../../../../node_modules/ajv/dist/compile/resolve.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.getSchemaRefs=exports2.resolveUrl=exports2.normalizeId=exports2._getFullPath=exports2.getFullPath=exports2.inlineRef=void 0;var util_1=require_util(),equal=require_fast_deep_equal(),traverse=require_json_schema_traverse(),SIMPLE_INLINED=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function inlineRef(schema,limit=!0){return typeof schema=="boolean"?!0:limit===!0?!hasRef(schema):limit?countKeys(schema)<=limit:!1}exports2.inlineRef=inlineRef;var REF_KEYWORDS=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function hasRef(schema){for(let key in schema){if(REF_KEYWORDS.has(key))return!0;let sch=schema[key];if(Array.isArray(sch)&&sch.some(hasRef)||typeof sch=="object"&&hasRef(sch))return!0}return!1}function countKeys(schema){let count=0;for(let key in schema){if(key==="$ref")return 1/0;if(count++,!SIMPLE_INLINED.has(key)&&(typeof schema[key]=="object"&&(0,util_1.eachItem)(schema[key],sch=>count+=countKeys(sch)),count===1/0))return 1/0}return count}function getFullPath(resolver,id="",normalize4){normalize4!==!1&&(id=normalizeId(id));let p=resolver.parse(id);return _getFullPath(resolver,p)}exports2.getFullPath=getFullPath;function _getFullPath(resolver,p){return resolver.serialize(p).split("#")[0]+"#"}exports2._getFullPath=_getFullPath;var TRAILING_SLASH_HASH=/#\/?$/;function normalizeId(id){return id?id.replace(TRAILING_SLASH_HASH,""):""}exports2.normalizeId=normalizeId;function resolveUrl(resolver,baseId,id){return id=normalizeId(id),resolver.resolve(baseId,id)}exports2.resolveUrl=resolveUrl;var ANCHOR=/^[a-z_][-a-z0-9._]*$/i;function getSchemaRefs(schema,baseId){if(typeof schema=="boolean")return{};let{schemaId,uriResolver}=this.opts,schId=normalizeId(schema[schemaId]||baseId),baseIds={"":schId},pathPrefix=getFullPath(uriResolver,schId,!1),localRefs={},schemaRefs=new Set;return traverse(schema,{allKeys:!0},(sch,jsonPtr,_,parentJsonPtr)=>{if(parentJsonPtr===void 0)return;let fullPath=pathPrefix+jsonPtr,innerBaseId=baseIds[parentJsonPtr];typeof sch[schemaId]=="string"&&(innerBaseId=addRef.call(this,sch[schemaId])),addAnchor.call(this,sch.$anchor),addAnchor.call(this,sch.$dynamicAnchor),baseIds[jsonPtr]=innerBaseId;function addRef(ref){let _resolve=this.opts.uriResolver.resolve;if(ref=normalizeId(innerBaseId?_resolve(innerBaseId,ref):ref),schemaRefs.has(ref))throw ambiguos(ref);schemaRefs.add(ref);let schOrRef=this.refs[ref];return typeof schOrRef=="string"&&(schOrRef=this.refs[schOrRef]),typeof schOrRef=="object"?checkAmbiguosRef(sch,schOrRef.schema,ref):ref!==normalizeId(fullPath)&&(ref[0]==="#"?(checkAmbiguosRef(sch,localRefs[ref],ref),localRefs[ref]=sch):this.refs[ref]=fullPath),ref}function addAnchor(anchor){if(typeof anchor=="string"){if(!ANCHOR.test(anchor))throw new Error(`invalid anchor "${anchor}"`);addRef.call(this,`#${anchor}`)}}}),localRefs;function checkAmbiguosRef(sch1,sch2,ref){if(sch2!==void 0&&!equal(sch1,sch2))throw ambiguos(ref)}function ambiguos(ref){return new Error(`reference "${ref}" resolves to more than one schema`)}}exports2.getSchemaRefs=getSchemaRefs}});var require_validate=__commonJS({"../../../../node_modules/ajv/dist/compile/validate/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.getData=exports2.KeywordCxt=exports2.validateFunctionCode=void 0;var boolSchema_1=require_boolSchema(),dataType_1=require_dataType(),applicability_1=require_applicability(),dataType_2=require_dataType(),defaults_1=require_defaults(),keyword_1=require_keyword(),subschema_1=require_subschema(),codegen_1=require_codegen(),names_1=require_names(),resolve_1=require_resolve(),util_1=require_util(),errors_1=require_errors3();function validateFunctionCode(it){if(isSchemaObj(it)&&(checkKeywords(it),schemaCxtHasRules(it))){topSchemaObjCode(it);return}validateFunction(it,()=>(0,boolSchema_1.topBoolOrEmptySchema)(it))}exports2.validateFunctionCode=validateFunctionCode;function validateFunction({gen,validateName,schema,schemaEnv,opts},body){opts.code.es5?gen.func(validateName,(0,codegen_1._)`${names_1.default.data}, ${names_1.default.valCxt}`,schemaEnv.$async,()=>{gen.code((0,codegen_1._)`"use strict"; ${funcSourceUrl(schema,opts)}`),destructureValCxtES5(gen,opts),gen.code(body)}):gen.func(validateName,(0,codegen_1._)`${names_1.default.data}, ${destructureValCxt(opts)}`,schemaEnv.$async,()=>gen.code(funcSourceUrl(schema,opts)).code(body))}function destructureValCxt(opts){return(0,codegen_1._)`{${names_1.default.instancePath}="", ${names_1.default.parentData}, ${names_1.default.parentDataProperty}, ${names_1.default.rootData}=${names_1.default.data}${opts.dynamicRef?(0,codegen_1._)`, ${names_1.default.dynamicAnchors}={}`:codegen_1.nil}}={}`}function destructureValCxtES5(gen,opts){gen.if(names_1.default.valCxt,()=>{gen.var(names_1.default.instancePath,(0,codegen_1._)`${names_1.default.valCxt}.${names_1.default.instancePath}`),gen.var(names_1.default.parentData,(0,codegen_1._)`${names_1.default.valCxt}.${names_1.default.parentData}`),gen.var(names_1.default.parentDataProperty,(0,codegen_1._)`${names_1.default.valCxt}.${names_1.default.parentDataProperty}`),gen.var(names_1.default.rootData,(0,codegen_1._)`${names_1.default.valCxt}.${names_1.default.rootData}`),opts.dynamicRef&&gen.var(names_1.default.dynamicAnchors,(0,codegen_1._)`${names_1.default.valCxt}.${names_1.default.dynamicAnchors}`)},()=>{gen.var(names_1.default.instancePath,(0,codegen_1._)`""`),gen.var(names_1.default.parentData,(0,codegen_1._)`undefined`),gen.var(names_1.default.parentDataProperty,(0,codegen_1._)`undefined`),gen.var(names_1.default.rootData,names_1.default.data),opts.dynamicRef&&gen.var(names_1.default.dynamicAnchors,(0,codegen_1._)`{}`)})}function topSchemaObjCode(it){let{schema,opts,gen}=it;validateFunction(it,()=>{opts.$comment&&schema.$comment&&commentKeyword(it),checkNoDefault(it),gen.let(names_1.default.vErrors,null),gen.let(names_1.default.errors,0),opts.unevaluated&&resetEvaluated(it),typeAndKeywords(it),returnResults(it)})}function resetEvaluated(it){let{gen,validateName}=it;it.evaluated=gen.const("evaluated",(0,codegen_1._)`${validateName}.evaluated`),gen.if((0,codegen_1._)`${it.evaluated}.dynamicProps`,()=>gen.assign((0,codegen_1._)`${it.evaluated}.props`,(0,codegen_1._)`undefined`)),gen.if((0,codegen_1._)`${it.evaluated}.dynamicItems`,()=>gen.assign((0,codegen_1._)`${it.evaluated}.items`,(0,codegen_1._)`undefined`))}function funcSourceUrl(schema,opts){let schId=typeof schema=="object"&&schema[opts.schemaId];return schId&&(opts.code.source||opts.code.process)?(0,codegen_1._)`/*# sourceURL=${schId} */`:codegen_1.nil}function subschemaCode(it,valid){if(isSchemaObj(it)&&(checkKeywords(it),schemaCxtHasRules(it))){subSchemaObjCode(it,valid);return}(0,boolSchema_1.boolOrEmptySchema)(it,valid)}function schemaCxtHasRules({schema,self:self2}){if(typeof schema=="boolean")return!schema;for(let key in schema)if(self2.RULES.all[key])return!0;return!1}function isSchemaObj(it){return typeof it.schema!="boolean"}function subSchemaObjCode(it,valid){let{schema,gen,opts}=it;opts.$comment&&schema.$comment&&commentKeyword(it),updateContext(it),checkAsyncSchema(it);let errsCount=gen.const("_errs",names_1.default.errors);typeAndKeywords(it,errsCount),gen.var(valid,(0,codegen_1._)`${errsCount} === ${names_1.default.errors}`)}function checkKeywords(it){(0,util_1.checkUnknownRules)(it),checkRefsAndKeywords(it)}function typeAndKeywords(it,errsCount){if(it.opts.jtd)return schemaKeywords(it,[],!1,errsCount);let types=(0,dataType_1.getSchemaTypes)(it.schema),checkedTypes=(0,dataType_1.coerceAndCheckDataType)(it,types);schemaKeywords(it,types,!checkedTypes,errsCount)}function checkRefsAndKeywords(it){let{schema,errSchemaPath,opts,self:self2}=it;schema.$ref&&opts.ignoreKeywordsWithRef&&(0,util_1.schemaHasRulesButRef)(schema,self2.RULES)&&self2.logger.warn(`$ref: keywords ignored in schema at path "${errSchemaPath}"`)}function checkNoDefault(it){let{schema,opts}=it;schema.default!==void 0&&opts.useDefaults&&opts.strictSchema&&(0,util_1.checkStrictMode)(it,"default is ignored in the schema root")}function updateContext(it){let schId=it.schema[it.opts.schemaId];schId&&(it.baseId=(0,resolve_1.resolveUrl)(it.opts.uriResolver,it.baseId,schId))}function checkAsyncSchema(it){if(it.schema.$async&&!it.schemaEnv.$async)throw new Error("async schema in sync schema")}function commentKeyword({gen,schemaEnv,schema,errSchemaPath,opts}){let msg=schema.$comment;if(opts.$comment===!0)gen.code((0,codegen_1._)`${names_1.default.self}.logger.log(${msg})`);else if(typeof opts.$comment=="function"){let schemaPath=(0,codegen_1.str)`${errSchemaPath}/$comment`,rootName=gen.scopeValue("root",{ref:schemaEnv.root});gen.code((0,codegen_1._)`${names_1.default.self}.opts.$comment(${msg}, ${schemaPath}, ${rootName}.schema)`)}}function returnResults(it){let{gen,schemaEnv,validateName,ValidationError,opts}=it;schemaEnv.$async?gen.if((0,codegen_1._)`${names_1.default.errors} === 0`,()=>gen.return(names_1.default.data),()=>gen.throw((0,codegen_1._)`new ${ValidationError}(${names_1.default.vErrors})`)):(gen.assign((0,codegen_1._)`${validateName}.errors`,names_1.default.vErrors),opts.unevaluated&&assignEvaluated(it),gen.return((0,codegen_1._)`${names_1.default.errors} === 0`))}function assignEvaluated({gen,evaluated,props,items}){props instanceof codegen_1.Name&&gen.assign((0,codegen_1._)`${evaluated}.props`,props),items instanceof codegen_1.Name&&gen.assign((0,codegen_1._)`${evaluated}.items`,items)}function schemaKeywords(it,types,typeErrors,errsCount){let{gen,schema,data,allErrors,opts,self:self2}=it,{RULES}=self2;if(schema.$ref&&(opts.ignoreKeywordsWithRef||!(0,util_1.schemaHasRulesButRef)(schema,RULES))){gen.block(()=>keywordCode(it,"$ref",RULES.all.$ref.definition));return}opts.jtd||checkStrictTypes(it,types),gen.block(()=>{for(let group of RULES.rules)groupKeywords(group);groupKeywords(RULES.post)});function groupKeywords(group){(0,applicability_1.shouldUseGroup)(schema,group)&&(group.type?(gen.if((0,dataType_2.checkDataType)(group.type,data,opts.strictNumbers)),iterateKeywords(it,group),types.length===1&&types[0]===group.type&&typeErrors&&(gen.else(),(0,dataType_2.reportTypeError)(it)),gen.endIf()):iterateKeywords(it,group),allErrors||gen.if((0,codegen_1._)`${names_1.default.errors} === ${errsCount||0}`))}}function iterateKeywords(it,group){let{gen,schema,opts:{useDefaults}}=it;useDefaults&&(0,defaults_1.assignDefaults)(it,group.type),gen.block(()=>{for(let rule of group.rules)(0,applicability_1.shouldUseRule)(schema,rule)&&keywordCode(it,rule.keyword,rule.definition,group.type)})}function checkStrictTypes(it,types){it.schemaEnv.meta||!it.opts.strictTypes||(checkContextTypes(it,types),it.opts.allowUnionTypes||checkMultipleTypes(it,types),checkKeywordTypes(it,it.dataTypes))}function checkContextTypes(it,types){if(types.length){if(!it.dataTypes.length){it.dataTypes=types;return}types.forEach(t=>{includesType(it.dataTypes,t)||strictTypesError(it,`type "${t}" not allowed by context "${it.dataTypes.join(",")}"`)}),narrowSchemaTypes(it,types)}}function checkMultipleTypes(it,ts){ts.length>1&&!(ts.length===2&&ts.includes("null"))&&strictTypesError(it,"use allowUnionTypes to allow union type keyword")}function checkKeywordTypes(it,ts){let rules=it.self.RULES.all;for(let keyword in rules){let rule=rules[keyword];if(typeof rule=="object"&&(0,applicability_1.shouldUseRule)(it.schema,rule)){let{type}=rule.definition;type.length&&!type.some(t=>hasApplicableType(ts,t))&&strictTypesError(it,`missing type "${type.join(",")}" for keyword "${keyword}"`)}}}function hasApplicableType(schTs,kwdT){return schTs.includes(kwdT)||kwdT==="number"&&schTs.includes("integer")}function includesType(ts,t){return ts.includes(t)||t==="integer"&&ts.includes("number")}function narrowSchemaTypes(it,withTypes){let ts=[];for(let t of it.dataTypes)includesType(withTypes,t)?ts.push(t):withTypes.includes("integer")&&t==="number"&&ts.push("integer");it.dataTypes=ts}function strictTypesError(it,msg){let schemaPath=it.schemaEnv.baseId+it.errSchemaPath;msg+=` at "${schemaPath}" (strictTypes)`,(0,util_1.checkStrictMode)(it,msg,it.opts.strictTypes)}var KeywordCxt=class{constructor(it,def,keyword){if((0,keyword_1.validateKeywordUsage)(it,def,keyword),this.gen=it.gen,this.allErrors=it.allErrors,this.keyword=keyword,this.data=it.data,this.schema=it.schema[keyword],this.$data=def.$data&&it.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,util_1.schemaRefOrVal)(it,this.schema,keyword,this.$data),this.schemaType=def.schemaType,this.parentSchema=it.schema,this.params={},this.it=it,this.def=def,this.$data)this.schemaCode=it.gen.const("vSchema",getData(this.$data,it));else if(this.schemaCode=this.schemaValue,!(0,keyword_1.validSchemaType)(this.schema,def.schemaType,def.allowUndefined))throw new Error(`${keyword} value must be ${JSON.stringify(def.schemaType)}`);("code"in def?def.trackErrors:def.errors!==!1)&&(this.errsCount=it.gen.const("_errs",names_1.default.errors))}result(condition,successAction,failAction){this.failResult((0,codegen_1.not)(condition),successAction,failAction)}failResult(condition,successAction,failAction){this.gen.if(condition),failAction?failAction():this.error(),successAction?(this.gen.else(),successAction(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(condition,failAction){this.failResult((0,codegen_1.not)(condition),void 0,failAction)}fail(condition){if(condition===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(condition),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(condition){if(!this.$data)return this.fail(condition);let{schemaCode}=this;this.fail((0,codegen_1._)`${schemaCode} !== undefined && (${(0,codegen_1.or)(this.invalid$data(),condition)})`)}error(append,errorParams,errorPaths){if(errorParams){this.setParams(errorParams),this._error(append,errorPaths),this.setParams({});return}this._error(append,errorPaths)}_error(append,errorPaths){(append?errors_1.reportExtraError:errors_1.reportError)(this,this.def.error,errorPaths)}$dataError(){(0,errors_1.reportError)(this,this.def.$dataError||errors_1.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,errors_1.resetErrorsCount)(this.gen,this.errsCount)}ok(cond){this.allErrors||this.gen.if(cond)}setParams(obj,assign4){assign4?Object.assign(this.params,obj):this.params=obj}block$data(valid,codeBlock,$dataValid=codegen_1.nil){this.gen.block(()=>{this.check$data(valid,$dataValid),codeBlock()})}check$data(valid=codegen_1.nil,$dataValid=codegen_1.nil){if(!this.$data)return;let{gen,schemaCode,schemaType,def}=this;gen.if((0,codegen_1.or)((0,codegen_1._)`${schemaCode} === undefined`,$dataValid)),valid!==codegen_1.nil&&gen.assign(valid,!0),(schemaType.length||def.validateSchema)&&(gen.elseIf(this.invalid$data()),this.$dataError(),valid!==codegen_1.nil&&gen.assign(valid,!1)),gen.else()}invalid$data(){let{gen,schemaCode,schemaType,def,it}=this;return(0,codegen_1.or)(wrong$DataType(),invalid$DataSchema());function wrong$DataType(){if(schemaType.length){if(!(schemaCode instanceof codegen_1.Name))throw new Error("ajv implementation error");let st=Array.isArray(schemaType)?schemaType:[schemaType];return(0,codegen_1._)`${(0,dataType_2.checkDataTypes)(st,schemaCode,it.opts.strictNumbers,dataType_2.DataType.Wrong)}`}return codegen_1.nil}function invalid$DataSchema(){if(def.validateSchema){let validateSchemaRef=gen.scopeValue("validate$data",{ref:def.validateSchema});return(0,codegen_1._)`!${validateSchemaRef}(${schemaCode})`}return codegen_1.nil}}subschema(appl,valid){let subschema=(0,subschema_1.getSubschema)(this.it,appl);(0,subschema_1.extendSubschemaData)(subschema,this.it,appl),(0,subschema_1.extendSubschemaMode)(subschema,appl);let nextContext={...this.it,...subschema,items:void 0,props:void 0};return subschemaCode(nextContext,valid),nextContext}mergeEvaluated(schemaCxt,toName){let{it,gen}=this;it.opts.unevaluated&&(it.props!==!0&&schemaCxt.props!==void 0&&(it.props=util_1.mergeEvaluated.props(gen,schemaCxt.props,it.props,toName)),it.items!==!0&&schemaCxt.items!==void 0&&(it.items=util_1.mergeEvaluated.items(gen,schemaCxt.items,it.items,toName)))}mergeValidEvaluated(schemaCxt,valid){let{it,gen}=this;if(it.opts.unevaluated&&(it.props!==!0||it.items!==!0))return gen.if(valid,()=>this.mergeEvaluated(schemaCxt,codegen_1.Name)),!0}};exports2.KeywordCxt=KeywordCxt;function keywordCode(it,keyword,def,ruleType){let cxt=new KeywordCxt(it,def,keyword);"code"in def?def.code(cxt,ruleType):cxt.$data&&def.validate?(0,keyword_1.funcKeywordCode)(cxt,def):"macro"in def?(0,keyword_1.macroKeywordCode)(cxt,def):(def.compile||def.validate)&&(0,keyword_1.funcKeywordCode)(cxt,def)}var JSON_POINTER=/^\/(?:[^~]|~0|~1)*$/,RELATIVE_JSON_POINTER=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function getData($data,{dataLevel,dataNames,dataPathArr}){let jsonPointer,data;if($data==="")return names_1.default.rootData;if($data[0]==="/"){if(!JSON_POINTER.test($data))throw new Error(`Invalid JSON-pointer: ${$data}`);jsonPointer=$data,data=names_1.default.rootData}else{let matches=RELATIVE_JSON_POINTER.exec($data);if(!matches)throw new Error(`Invalid JSON-pointer: ${$data}`);let up=+matches[1];if(jsonPointer=matches[2],jsonPointer==="#"){if(up>=dataLevel)throw new Error(errorMsg("property/index",up));return dataPathArr[dataLevel-up]}if(up>dataLevel)throw new Error(errorMsg("data",up));if(data=dataNames[dataLevel-up],!jsonPointer)return data}let expr=data,segments=jsonPointer.split("/");for(let segment of segments)segment&&(data=(0,codegen_1._)`${data}${(0,codegen_1.getProperty)((0,util_1.unescapeJsonPointer)(segment))}`,expr=(0,codegen_1._)`${expr} && ${data}`);return expr;function errorMsg(pointerType,up){return`Cannot access ${pointerType} ${up} levels up, current level is ${dataLevel}`}}exports2.getData=getData}});var require_validation_error=__commonJS({"../../../../node_modules/ajv/dist/runtime/validation_error.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var ValidationError=class extends Error{constructor(errors){super("validation failed"),this.errors=errors,this.ajv=this.validation=!0}};exports2.default=ValidationError}});var require_ref_error=__commonJS({"../../../../node_modules/ajv/dist/compile/ref_error.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var resolve_1=require_resolve(),MissingRefError=class extends Error{constructor(resolver,baseId,ref,msg){super(msg||`can't resolve reference ${ref} from id ${baseId}`),this.missingRef=(0,resolve_1.resolveUrl)(resolver,baseId,ref),this.missingSchema=(0,resolve_1.normalizeId)((0,resolve_1.getFullPath)(resolver,this.missingRef))}};exports2.default=MissingRefError}});var require_compile=__commonJS({"../../../../node_modules/ajv/dist/compile/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.resolveSchema=exports2.getCompilingSchema=exports2.resolveRef=exports2.compileSchema=exports2.SchemaEnv=void 0;var codegen_1=require_codegen(),validation_error_1=require_validation_error(),names_1=require_names(),resolve_1=require_resolve(),util_1=require_util(),validate_1=require_validate(),SchemaEnv=class{constructor(env2){var _a2;this.refs={},this.dynamicAnchors={};let schema;typeof env2.schema=="object"&&(schema=env2.schema),this.schema=env2.schema,this.schemaId=env2.schemaId,this.root=env2.root||this,this.baseId=(_a2=env2.baseId)!==null&&_a2!==void 0?_a2:(0,resolve_1.normalizeId)(schema?.[env2.schemaId||"$id"]),this.schemaPath=env2.schemaPath,this.localRefs=env2.localRefs,this.meta=env2.meta,this.$async=schema?.$async,this.refs={}}};exports2.SchemaEnv=SchemaEnv;function compileSchema(sch){let _sch=getCompilingSchema.call(this,sch);if(_sch)return _sch;let rootId=(0,resolve_1.getFullPath)(this.opts.uriResolver,sch.root.baseId),{es5,lines}=this.opts.code,{ownProperties}=this.opts,gen=new codegen_1.CodeGen(this.scope,{es5,lines,ownProperties}),_ValidationError;sch.$async&&(_ValidationError=gen.scopeValue("Error",{ref:validation_error_1.default,code:(0,codegen_1._)`require("ajv/dist/runtime/validation_error").default`}));let validateName=gen.scopeName("validate");sch.validateName=validateName;let schemaCxt={gen,allErrors:this.opts.allErrors,data:names_1.default.data,parentData:names_1.default.parentData,parentDataProperty:names_1.default.parentDataProperty,dataNames:[names_1.default.data],dataPathArr:[codegen_1.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:gen.scopeValue("schema",this.opts.code.source===!0?{ref:sch.schema,code:(0,codegen_1.stringify)(sch.schema)}:{ref:sch.schema}),validateName,ValidationError:_ValidationError,schema:sch.schema,schemaEnv:sch,rootId,baseId:sch.baseId||rootId,schemaPath:codegen_1.nil,errSchemaPath:sch.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,codegen_1._)`""`,opts:this.opts,self:this},sourceCode;try{this._compilations.add(sch),(0,validate_1.validateFunctionCode)(schemaCxt),gen.optimize(this.opts.code.optimize);let validateCode=gen.toString();sourceCode=`${gen.scopeRefs(names_1.default.scope)}return ${validateCode}`,this.opts.code.process&&(sourceCode=this.opts.code.process(sourceCode,sch));let validate=new Function(`${names_1.default.self}`,`${names_1.default.scope}`,sourceCode)(this,this.scope.get());if(this.scope.value(validateName,{ref:validate}),validate.errors=null,validate.schema=sch.schema,validate.schemaEnv=sch,sch.$async&&(validate.$async=!0),this.opts.code.source===!0&&(validate.source={validateName,validateCode,scopeValues:gen._values}),this.opts.unevaluated){let{props,items}=schemaCxt;validate.evaluated={props:props instanceof codegen_1.Name?void 0:props,items:items instanceof codegen_1.Name?void 0:items,dynamicProps:props instanceof codegen_1.Name,dynamicItems:items instanceof codegen_1.Name},validate.source&&(validate.source.evaluated=(0,codegen_1.stringify)(validate.evaluated))}return sch.validate=validate,sch}catch(e){throw delete sch.validate,delete sch.validateName,sourceCode&&this.logger.error("Error compiling schema, function code:",sourceCode),e}finally{this._compilations.delete(sch)}}exports2.compileSchema=compileSchema;function resolveRef(root,baseId,ref){var _a2;ref=(0,resolve_1.resolveUrl)(this.opts.uriResolver,baseId,ref);let schOrFunc=root.refs[ref];if(schOrFunc)return schOrFunc;let _sch=resolve.call(this,root,ref);if(_sch===void 0){let schema=(_a2=root.localRefs)===null||_a2===void 0?void 0:_a2[ref],{schemaId}=this.opts;schema&&(_sch=new SchemaEnv({schema,schemaId,root,baseId}))}if(_sch!==void 0)return root.refs[ref]=inlineOrCompile.call(this,_sch)}exports2.resolveRef=resolveRef;function inlineOrCompile(sch){return(0,resolve_1.inlineRef)(sch.schema,this.opts.inlineRefs)?sch.schema:sch.validate?sch:compileSchema.call(this,sch)}function getCompilingSchema(schEnv){for(let sch of this._compilations)if(sameSchemaEnv(sch,schEnv))return sch}exports2.getCompilingSchema=getCompilingSchema;function sameSchemaEnv(s1,s2){return s1.schema===s2.schema&&s1.root===s2.root&&s1.baseId===s2.baseId}function resolve(root,ref){let sch;for(;typeof(sch=this.refs[ref])=="string";)ref=sch;return sch||this.schemas[ref]||resolveSchema.call(this,root,ref)}function resolveSchema(root,ref){let p=this.opts.uriResolver.parse(ref),refPath=(0,resolve_1._getFullPath)(this.opts.uriResolver,p),baseId=(0,resolve_1.getFullPath)(this.opts.uriResolver,root.baseId,void 0);if(Object.keys(root.schema).length>0&&refPath===baseId)return getJsonPointer.call(this,p,root);let id=(0,resolve_1.normalizeId)(refPath),schOrRef=this.refs[id]||this.schemas[id];if(typeof schOrRef=="string"){let sch=resolveSchema.call(this,root,schOrRef);return typeof sch?.schema!="object"?void 0:getJsonPointer.call(this,p,sch)}if(typeof schOrRef?.schema=="object"){if(schOrRef.validate||compileSchema.call(this,schOrRef),id===(0,resolve_1.normalizeId)(ref)){let{schema}=schOrRef,{schemaId}=this.opts,schId=schema[schemaId];return schId&&(baseId=(0,resolve_1.resolveUrl)(this.opts.uriResolver,baseId,schId)),new SchemaEnv({schema,schemaId,root,baseId})}return getJsonPointer.call(this,p,schOrRef)}}exports2.resolveSchema=resolveSchema;var PREVENT_SCOPE_CHANGE=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function getJsonPointer(parsedRef,{baseId,schema,root}){var _a2;if(((_a2=parsedRef.fragment)===null||_a2===void 0?void 0:_a2[0])!=="/")return;for(let part of parsedRef.fragment.slice(1).split("/")){if(typeof schema=="boolean")return;let partSchema=schema[(0,util_1.unescapeFragment)(part)];if(partSchema===void 0)return;schema=partSchema;let schId=typeof schema=="object"&&schema[this.opts.schemaId];!PREVENT_SCOPE_CHANGE.has(part)&&schId&&(baseId=(0,resolve_1.resolveUrl)(this.opts.uriResolver,baseId,schId))}let env2;if(typeof schema!="boolean"&&schema.$ref&&!(0,util_1.schemaHasRulesButRef)(schema,this.RULES)){let $ref=(0,resolve_1.resolveUrl)(this.opts.uriResolver,baseId,schema.$ref);env2=resolveSchema.call(this,root,$ref)}let{schemaId}=this.opts;if(env2=env2||new SchemaEnv({schema,schemaId,root,baseId}),env2.schema!==env2.root.schema)return env2}}});var require_data=__commonJS({"../../../../node_modules/ajv/dist/refs/data.json"(exports2,module2){module2.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}});var require_utils=__commonJS({"../../../../node_modules/fast-uri/lib/utils.js"(exports2,module2){"use strict";var isUUID=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),isIPv4=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function stringArrayToHexStripped(input){let acc="",code2=0,i=0;for(i=0;i<input.length;i++)if(code2=input[i].charCodeAt(0),code2!==48){if(!(code2>=48&&code2<=57||code2>=65&&code2<=70||code2>=97&&code2<=102))return"";acc+=input[i];break}for(i+=1;i<input.length;i++){if(code2=input[i].charCodeAt(0),!(code2>=48&&code2<=57||code2>=65&&code2<=70||code2>=97&&code2<=102))return"";acc+=input[i]}return acc}var nonSimpleDomain=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function consumeIsZone(buffer){return buffer.length=0,!0}function consumeHextets(buffer,address,output){if(buffer.length){let hex=stringArrayToHexStripped(buffer);if(hex!=="")address.push(hex);else return output.error=!0,!1;buffer.length=0}return!0}function getIPV6(input){let tokenCount=0,output={error:!1,address:"",zone:""},address=[],buffer=[],endipv6Encountered=!1,endIpv6=!1,consume=consumeHextets;for(let i=0;i<input.length;i++){let cursor=input[i];if(!(cursor==="["||cursor==="]"))if(cursor===":"){if(endipv6Encountered===!0&&(endIpv6=!0),!consume(buffer,address,output))break;if(++tokenCount>7){output.error=!0;break}i>0&&input[i-1]===":"&&(endipv6Encountered=!0),address.push(":");continue}else if(cursor==="%"){if(!consume(buffer,address,output))break;consume=consumeIsZone}else{buffer.push(cursor);continue}}return buffer.length&&(consume===consumeIsZone?output.zone=buffer.join(""):endIpv6?address.push(buffer.join("")):address.push(stringArrayToHexStripped(buffer))),output.address=address.join(""),output}function normalizeIPv6(host){if(findToken(host,":")<2)return{host,isIPV6:!1};let ipv6=getIPV6(host);if(ipv6.error)return{host,isIPV6:!1};{let newHost=ipv6.address,escapedHost=ipv6.address;return ipv6.zone&&(newHost+="%"+ipv6.zone,escapedHost+="%25"+ipv6.zone),{host:newHost,isIPV6:!0,escapedHost}}}function findToken(str,token){let ind=0;for(let i=0;i<str.length;i++)str[i]===token&&ind++;return ind}function removeDotSegments(path5){let input=path5,output=[],nextSlash=-1,len=0;for(;len=input.length;){if(len===1){if(input===".")break;if(input==="/"){output.push("/");break}else{output.push(input);break}}else if(len===2){if(input[0]==="."){if(input[1]===".")break;if(input[1]==="/"){input=input.slice(2);continue}}else if(input[0]==="/"&&(input[1]==="."||input[1]==="/")){output.push("/");break}}else if(len===3&&input==="/.."){output.length!==0&&output.pop(),output.push("/");break}if(input[0]==="."){if(input[1]==="."){if(input[2]==="/"){input=input.slice(3);continue}}else if(input[1]==="/"){input=input.slice(2);continue}}else if(input[0]==="/"&&input[1]==="."){if(input[2]==="/"){input=input.slice(2);continue}else if(input[2]==="."&&input[3]==="/"){input=input.slice(3),output.length!==0&&output.pop();continue}}if((nextSlash=input.indexOf("/",1))===-1){output.push(input);break}else output.push(input.slice(0,nextSlash)),input=input.slice(nextSlash)}return output.join("")}function normalizeComponentEncoding(component,esc){let func=esc!==!0?escape:unescape;return component.scheme!==void 0&&(component.scheme=func(component.scheme)),component.userinfo!==void 0&&(component.userinfo=func(component.userinfo)),component.host!==void 0&&(component.host=func(component.host)),component.path!==void 0&&(component.path=func(component.path)),component.query!==void 0&&(component.query=func(component.query)),component.fragment!==void 0&&(component.fragment=func(component.fragment)),component}function recomposeAuthority(component){let uriTokens=[];if(component.userinfo!==void 0&&(uriTokens.push(component.userinfo),uriTokens.push("@")),component.host!==void 0){let host=unescape(component.host);if(!isIPv4(host)){let ipV6res=normalizeIPv6(host);ipV6res.isIPV6===!0?host=`[${ipV6res.escapedHost}]`:host=component.host}uriTokens.push(host)}return(typeof component.port=="number"||typeof component.port=="string")&&(uriTokens.push(":"),uriTokens.push(String(component.port))),uriTokens.length?uriTokens.join(""):void 0}module2.exports={nonSimpleDomain,recomposeAuthority,normalizeComponentEncoding,removeDotSegments,isIPv4,isUUID,normalizeIPv6,stringArrayToHexStripped}}});var require_schemes=__commonJS({"../../../../node_modules/fast-uri/lib/schemes.js"(exports2,module2){"use strict";var{isUUID}=require_utils(),URN_REG=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,supportedSchemeNames=["http","https","ws","wss","urn","urn:uuid"];function isValidSchemeName(name){return supportedSchemeNames.indexOf(name)!==-1}function wsIsSecure(wsComponent){return wsComponent.secure===!0?!0:wsComponent.secure===!1?!1:wsComponent.scheme?wsComponent.scheme.length===3&&(wsComponent.scheme[0]==="w"||wsComponent.scheme[0]==="W")&&(wsComponent.scheme[1]==="s"||wsComponent.scheme[1]==="S")&&(wsComponent.scheme[2]==="s"||wsComponent.scheme[2]==="S"):!1}function httpParse(component){return component.host||(component.error=component.error||"HTTP URIs must have a host."),component}function httpSerialize(component){let secure=String(component.scheme).toLowerCase()==="https";return(component.port===(secure?443:80)||component.port==="")&&(component.port=void 0),component.path||(component.path="/"),component}function wsParse(wsComponent){return wsComponent.secure=wsIsSecure(wsComponent),wsComponent.resourceName=(wsComponent.path||"/")+(wsComponent.query?"?"+wsComponent.query:""),wsComponent.path=void 0,wsComponent.query=void 0,wsComponent}function wsSerialize(wsComponent){if((wsComponent.port===(wsIsSecure(wsComponent)?443:80)||wsComponent.port==="")&&(wsComponent.port=void 0),typeof wsComponent.secure=="boolean"&&(wsComponent.scheme=wsComponent.secure?"wss":"ws",wsComponent.secure=void 0),wsComponent.resourceName){let[path5,query]=wsComponent.resourceName.split("?");wsComponent.path=path5&&path5!=="/"?path5:void 0,wsComponent.query=query,wsComponent.resourceName=void 0}return wsComponent.fragment=void 0,wsComponent}function urnParse(urnComponent,options2){if(!urnComponent.path)return urnComponent.error="URN can not be parsed",urnComponent;let matches=urnComponent.path.match(URN_REG);if(matches){let scheme=options2.scheme||urnComponent.scheme||"urn";urnComponent.nid=matches[1].toLowerCase(),urnComponent.nss=matches[2];let urnScheme=`${scheme}:${options2.nid||urnComponent.nid}`,schemeHandler=getSchemeHandler(urnScheme);urnComponent.path=void 0,schemeHandler&&(urnComponent=schemeHandler.parse(urnComponent,options2))}else urnComponent.error=urnComponent.error||"URN can not be parsed.";return urnComponent}function urnSerialize(urnComponent,options2){if(urnComponent.nid===void 0)throw new Error("URN without nid cannot be serialized");let scheme=options2.scheme||urnComponent.scheme||"urn",nid=urnComponent.nid.toLowerCase(),urnScheme=`${scheme}:${options2.nid||nid}`,schemeHandler=getSchemeHandler(urnScheme);schemeHandler&&(urnComponent=schemeHandler.serialize(urnComponent,options2));let uriComponent=urnComponent,nss=urnComponent.nss;return uriComponent.path=`${nid||options2.nid}:${nss}`,options2.skipEscape=!0,uriComponent}function urnuuidParse(urnComponent,options2){let uuidComponent=urnComponent;return uuidComponent.uuid=uuidComponent.nss,uuidComponent.nss=void 0,!options2.tolerant&&(!uuidComponent.uuid||!isUUID(uuidComponent.uuid))&&(uuidComponent.error=uuidComponent.error||"UUID is not valid."),uuidComponent}function urnuuidSerialize(uuidComponent){let urnComponent=uuidComponent;return urnComponent.nss=(uuidComponent.uuid||"").toLowerCase(),urnComponent}var http={scheme:"http",domainHost:!0,parse:httpParse,serialize:httpSerialize},https={scheme:"https",domainHost:http.domainHost,parse:httpParse,serialize:httpSerialize},ws={scheme:"ws",domainHost:!0,parse:wsParse,serialize:wsSerialize},wss={scheme:"wss",domainHost:ws.domainHost,parse:ws.parse,serialize:ws.serialize},urn={scheme:"urn",parse:urnParse,serialize:urnSerialize,skipNormalize:!0},urnuuid={scheme:"urn:uuid",parse:urnuuidParse,serialize:urnuuidSerialize,skipNormalize:!0},SCHEMES={http,https,ws,wss,urn,"urn:uuid":urnuuid};Object.setPrototypeOf(SCHEMES,null);function getSchemeHandler(scheme){return scheme&&(SCHEMES[scheme]||SCHEMES[scheme.toLowerCase()])||void 0}module2.exports={wsIsSecure,SCHEMES,isValidSchemeName,getSchemeHandler}}});var require_fast_uri=__commonJS({"../../../../node_modules/fast-uri/index.js"(exports2,module2){"use strict";var{normalizeIPv6,removeDotSegments,recomposeAuthority,normalizeComponentEncoding,isIPv4,nonSimpleDomain}=require_utils(),{SCHEMES,getSchemeHandler}=require_schemes();function normalize4(uri,options2){return typeof uri=="string"?uri=serialize(parse2(uri,options2),options2):typeof uri=="object"&&(uri=parse2(serialize(uri,options2),options2)),uri}function resolve(baseURI,relativeURI,options2){let schemelessOptions=options2?Object.assign({scheme:"null"},options2):{scheme:"null"},resolved=resolveComponent(parse2(baseURI,schemelessOptions),parse2(relativeURI,schemelessOptions),schemelessOptions,!0);return schemelessOptions.skipEscape=!0,serialize(resolved,schemelessOptions)}function resolveComponent(base,relative,options2,skipNormalization){let target={};return skipNormalization||(base=parse2(serialize(base,options2),options2),relative=parse2(serialize(relative,options2),options2)),options2=options2||{},!options2.tolerant&&relative.scheme?(target.scheme=relative.scheme,target.userinfo=relative.userinfo,target.host=relative.host,target.port=relative.port,target.path=removeDotSegments(relative.path||""),target.query=relative.query):(relative.userinfo!==void 0||relative.host!==void 0||relative.port!==void 0?(target.userinfo=relative.userinfo,target.host=relative.host,target.port=relative.port,target.path=removeDotSegments(relative.path||""),target.query=relative.query):(relative.path?(relative.path[0]==="/"?target.path=removeDotSegments(relative.path):((base.userinfo!==void 0||base.host!==void 0||base.port!==void 0)&&!base.path?target.path="/"+relative.path:base.path?target.path=base.path.slice(0,base.path.lastIndexOf("/")+1)+relative.path:target.path=relative.path,target.path=removeDotSegments(target.path)),target.query=relative.query):(target.path=base.path,relative.query!==void 0?target.query=relative.query:target.query=base.query),target.userinfo=base.userinfo,target.host=base.host,target.port=base.port),target.scheme=base.scheme),target.fragment=relative.fragment,target}function equal(uriA,uriB,options2){return typeof uriA=="string"?(uriA=unescape(uriA),uriA=serialize(normalizeComponentEncoding(parse2(uriA,options2),!0),{...options2,skipEscape:!0})):typeof uriA=="object"&&(uriA=serialize(normalizeComponentEncoding(uriA,!0),{...options2,skipEscape:!0})),typeof uriB=="string"?(uriB=unescape(uriB),uriB=serialize(normalizeComponentEncoding(parse2(uriB,options2),!0),{...options2,skipEscape:!0})):typeof uriB=="object"&&(uriB=serialize(normalizeComponentEncoding(uriB,!0),{...options2,skipEscape:!0})),uriA.toLowerCase()===uriB.toLowerCase()}function serialize(cmpts,opts){let component={host:cmpts.host,scheme:cmpts.scheme,userinfo:cmpts.userinfo,port:cmpts.port,path:cmpts.path,query:cmpts.query,nid:cmpts.nid,nss:cmpts.nss,uuid:cmpts.uuid,fragment:cmpts.fragment,reference:cmpts.reference,resourceName:cmpts.resourceName,secure:cmpts.secure,error:""},options2=Object.assign({},opts),uriTokens=[],schemeHandler=getSchemeHandler(options2.scheme||component.scheme);schemeHandler&&schemeHandler.serialize&&schemeHandler.serialize(component,options2),component.path!==void 0&&(options2.skipEscape?component.path=unescape(component.path):(component.path=escape(component.path),component.scheme!==void 0&&(component.path=component.path.split("%3A").join(":")))),options2.reference!=="suffix"&&component.scheme&&uriTokens.push(component.scheme,":");let authority=recomposeAuthority(component);if(authority!==void 0&&(options2.reference!=="suffix"&&uriTokens.push("//"),uriTokens.push(authority),component.path&&component.path[0]!=="/"&&uriTokens.push("/")),component.path!==void 0){let s=component.path;!options2.absolutePath&&(!schemeHandler||!schemeHandler.absolutePath)&&(s=removeDotSegments(s)),authority===void 0&&s[0]==="/"&&s[1]==="/"&&(s="/%2F"+s.slice(2)),uriTokens.push(s)}return component.query!==void 0&&uriTokens.push("?",component.query),component.fragment!==void 0&&uriTokens.push("#",component.fragment),uriTokens.join("")}var URI_PARSE=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function parse2(uri,opts){let options2=Object.assign({},opts),parsed={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},isIP=!1;options2.reference==="suffix"&&(options2.scheme?uri=options2.scheme+":"+uri:uri="//"+uri);let matches=uri.match(URI_PARSE);if(matches){if(parsed.scheme=matches[1],parsed.userinfo=matches[3],parsed.host=matches[4],parsed.port=parseInt(matches[5],10),parsed.path=matches[6]||"",parsed.query=matches[7],parsed.fragment=matches[8],isNaN(parsed.port)&&(parsed.port=matches[5]),parsed.host)if(isIPv4(parsed.host)===!1){let ipv6result=normalizeIPv6(parsed.host);parsed.host=ipv6result.host.toLowerCase(),isIP=ipv6result.isIPV6}else isIP=!0;parsed.scheme===void 0&&parsed.userinfo===void 0&&parsed.host===void 0&&parsed.port===void 0&&parsed.query===void 0&&!parsed.path?parsed.reference="same-document":parsed.scheme===void 0?parsed.reference="relative":parsed.fragment===void 0?parsed.reference="absolute":parsed.reference="uri",options2.reference&&options2.reference!=="suffix"&&options2.reference!==parsed.reference&&(parsed.error=parsed.error||"URI is not a "+options2.reference+" reference.");let schemeHandler=getSchemeHandler(options2.scheme||parsed.scheme);if(!options2.unicodeSupport&&(!schemeHandler||!schemeHandler.unicodeSupport)&&parsed.host&&(options2.domainHost||schemeHandler&&schemeHandler.domainHost)&&isIP===!1&&nonSimpleDomain(parsed.host))try{parsed.host=URL.domainToASCII(parsed.host.toLowerCase())}catch(e){parsed.error=parsed.error||"Host's domain name can not be converted to ASCII: "+e}(!schemeHandler||schemeHandler&&!schemeHandler.skipNormalize)&&(uri.indexOf("%")!==-1&&(parsed.scheme!==void 0&&(parsed.scheme=unescape(parsed.scheme)),parsed.host!==void 0&&(parsed.host=unescape(parsed.host))),parsed.path&&(parsed.path=escape(unescape(parsed.path))),parsed.fragment&&(parsed.fragment=encodeURI(decodeURIComponent(parsed.fragment)))),schemeHandler&&schemeHandler.parse&&schemeHandler.parse(parsed,options2)}else parsed.error=parsed.error||"URI can not be parsed.";return parsed}var fastUri={SCHEMES,normalize:normalize4,resolve,resolveComponent,equal,serialize,parse:parse2};module2.exports=fastUri;module2.exports.default=fastUri;module2.exports.fastUri=fastUri}});var require_uri=__commonJS({"../../../../node_modules/ajv/dist/runtime/uri.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var uri=require_fast_uri();uri.code='require("ajv/dist/runtime/uri").default';exports2.default=uri}});var require_core=__commonJS({"../../../../node_modules/ajv/dist/core.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.CodeGen=exports2.Name=exports2.nil=exports2.stringify=exports2.str=exports2._=exports2.KeywordCxt=void 0;var validate_1=require_validate();Object.defineProperty(exports2,"KeywordCxt",{enumerable:!0,get:function(){return validate_1.KeywordCxt}});var codegen_1=require_codegen();Object.defineProperty(exports2,"_",{enumerable:!0,get:function(){return codegen_1._}});Object.defineProperty(exports2,"str",{enumerable:!0,get:function(){return codegen_1.str}});Object.defineProperty(exports2,"stringify",{enumerable:!0,get:function(){return codegen_1.stringify}});Object.defineProperty(exports2,"nil",{enumerable:!0,get:function(){return codegen_1.nil}});Object.defineProperty(exports2,"Name",{enumerable:!0,get:function(){return codegen_1.Name}});Object.defineProperty(exports2,"CodeGen",{enumerable:!0,get:function(){return codegen_1.CodeGen}});var validation_error_1=require_validation_error(),ref_error_1=require_ref_error(),rules_1=require_rules(),compile_1=require_compile(),codegen_2=require_codegen(),resolve_1=require_resolve(),dataType_1=require_dataType(),util_1=require_util(),$dataRefSchema=require_data(),uri_1=require_uri(),defaultRegExp=(str,flags)=>new RegExp(str,flags);defaultRegExp.code="new RegExp";var META_IGNORE_OPTIONS=["removeAdditional","useDefaults","coerceTypes"],EXT_SCOPE_NAMES=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),removedOptions={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},deprecatedOptions={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},MAX_EXPRESSION=200;function requiredOptions(o){var _a2,_b,_c,_d,_e,_f,_g,_h,_j,_k,_l,_m,_o,_p,_q,_r,_s,_t,_u,_v,_w,_x,_y,_z,_0;let s=o.strict,_optz=(_a2=o.code)===null||_a2===void 0?void 0:_a2.optimize,optimize=_optz===!0||_optz===void 0?1:_optz||0,regExp=(_c=(_b=o.code)===null||_b===void 0?void 0:_b.regExp)!==null&&_c!==void 0?_c:defaultRegExp,uriResolver=(_d=o.uriResolver)!==null&&_d!==void 0?_d:uri_1.default;return{strictSchema:(_f=(_e=o.strictSchema)!==null&&_e!==void 0?_e:s)!==null&&_f!==void 0?_f:!0,strictNumbers:(_h=(_g=o.strictNumbers)!==null&&_g!==void 0?_g:s)!==null&&_h!==void 0?_h:!0,strictTypes:(_k=(_j=o.strictTypes)!==null&&_j!==void 0?_j:s)!==null&&_k!==void 0?_k:"log",strictTuples:(_m=(_l=o.strictTuples)!==null&&_l!==void 0?_l:s)!==null&&_m!==void 0?_m:"log",strictRequired:(_p=(_o=o.strictRequired)!==null&&_o!==void 0?_o:s)!==null&&_p!==void 0?_p:!1,code:o.code?{...o.code,optimize,regExp}:{optimize,regExp},loopRequired:(_q=o.loopRequired)!==null&&_q!==void 0?_q:MAX_EXPRESSION,loopEnum:(_r=o.loopEnum)!==null&&_r!==void 0?_r:MAX_EXPRESSION,meta:(_s=o.meta)!==null&&_s!==void 0?_s:!0,messages:(_t=o.messages)!==null&&_t!==void 0?_t:!0,inlineRefs:(_u=o.inlineRefs)!==null&&_u!==void 0?_u:!0,schemaId:(_v=o.schemaId)!==null&&_v!==void 0?_v:"$id",addUsedSchema:(_w=o.addUsedSchema)!==null&&_w!==void 0?_w:!0,validateSchema:(_x=o.validateSchema)!==null&&_x!==void 0?_x:!0,validateFormats:(_y=o.validateFormats)!==null&&_y!==void 0?_y:!0,unicodeRegExp:(_z=o.unicodeRegExp)!==null&&_z!==void 0?_z:!0,int32range:(_0=o.int32range)!==null&&_0!==void 0?_0:!0,uriResolver}}var Ajv=class{constructor(opts={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,opts=this.opts={...opts,...requiredOptions(opts)};let{es5,lines}=this.opts.code;this.scope=new codegen_2.ValueScope({scope:{},prefixes:EXT_SCOPE_NAMES,es5,lines}),this.logger=getLogger(opts.logger);let formatOpt=opts.validateFormats;opts.validateFormats=!1,this.RULES=(0,rules_1.getRules)(),checkOptions.call(this,removedOptions,opts,"NOT SUPPORTED"),checkOptions.call(this,deprecatedOptions,opts,"DEPRECATED","warn"),this._metaOpts=getMetaSchemaOptions.call(this),opts.formats&&addInitialFormats.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),opts.keywords&&addInitialKeywords.call(this,opts.keywords),typeof opts.meta=="object"&&this.addMetaSchema(opts.meta),addInitialSchemas.call(this),opts.validateFormats=formatOpt}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data,meta,schemaId}=this.opts,_dataRefSchema=$dataRefSchema;schemaId==="id"&&(_dataRefSchema={...$dataRefSchema},_dataRefSchema.id=_dataRefSchema.$id,delete _dataRefSchema.$id),meta&&$data&&this.addMetaSchema(_dataRefSchema,_dataRefSchema[schemaId],!1)}defaultMeta(){let{meta,schemaId}=this.opts;return this.opts.defaultMeta=typeof meta=="object"?meta[schemaId]||meta:void 0}validate(schemaKeyRef,data){let v;if(typeof schemaKeyRef=="string"){if(v=this.getSchema(schemaKeyRef),!v)throw new Error(`no schema with key or ref "${schemaKeyRef}"`)}else v=this.compile(schemaKeyRef);let valid=v(data);return"$async"in v||(this.errors=v.errors),valid}compile(schema,_meta){let sch=this._addSchema(schema,_meta);return sch.validate||this._compileSchemaEnv(sch)}compileAsync(schema,meta){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema}=this.opts;return runCompileAsync.call(this,schema,meta);async function runCompileAsync(_schema,_meta){await loadMetaSchema.call(this,_schema.$schema);let sch=this._addSchema(_schema,_meta);return sch.validate||_compileAsync.call(this,sch)}async function loadMetaSchema($ref){$ref&&!this.getSchema($ref)&&await runCompileAsync.call(this,{$ref},!0)}async function _compileAsync(sch){try{return this._compileSchemaEnv(sch)}catch(e){if(!(e instanceof ref_error_1.default))throw e;return checkLoaded.call(this,e),await loadMissingSchema.call(this,e.missingSchema),_compileAsync.call(this,sch)}}function checkLoaded({missingSchema:ref,missingRef}){if(this.refs[ref])throw new Error(`AnySchema ${ref} is loaded but ${missingRef} cannot be resolved`)}async function loadMissingSchema(ref){let _schema=await _loadSchema.call(this,ref);this.refs[ref]||await loadMetaSchema.call(this,_schema.$schema),this.refs[ref]||this.addSchema(_schema,ref,meta)}async function _loadSchema(ref){let p=this._loading[ref];if(p)return p;try{return await(this._loading[ref]=loadSchema(ref))}finally{delete this._loading[ref]}}}addSchema(schema,key,_meta,_validateSchema=this.opts.validateSchema){if(Array.isArray(schema)){for(let sch of schema)this.addSchema(sch,void 0,_meta,_validateSchema);return this}let id;if(typeof schema=="object"){let{schemaId}=this.opts;if(id=schema[schemaId],id!==void 0&&typeof id!="string")throw new Error(`schema ${schemaId} must be string`)}return key=(0,resolve_1.normalizeId)(key||id),this._checkUnique(key),this.schemas[key]=this._addSchema(schema,_meta,key,_validateSchema,!0),this}addMetaSchema(schema,key,_validateSchema=this.opts.validateSchema){return this.addSchema(schema,key,!0,_validateSchema),this}validateSchema(schema,throwOrLogError){if(typeof schema=="boolean")return!0;let $schema;if($schema=schema.$schema,$schema!==void 0&&typeof $schema!="string")throw new Error("$schema must be a string");if($schema=$schema||this.opts.defaultMeta||this.defaultMeta(),!$schema)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let valid=this.validate($schema,schema);if(!valid&&throwOrLogError){let message="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(message);else throw new Error(message)}return valid}getSchema(keyRef){let sch;for(;typeof(sch=getSchEnv.call(this,keyRef))=="string";)keyRef=sch;if(sch===void 0){let{schemaId}=this.opts,root=new compile_1.SchemaEnv({schema:{},schemaId});if(sch=compile_1.resolveSchema.call(this,root,keyRef),!sch)return;this.refs[keyRef]=sch}return sch.validate||this._compileSchemaEnv(sch)}removeSchema(schemaKeyRef){if(schemaKeyRef instanceof RegExp)return this._removeAllSchemas(this.schemas,schemaKeyRef),this._removeAllSchemas(this.refs,schemaKeyRef),this;switch(typeof schemaKeyRef){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let sch=getSchEnv.call(this,schemaKeyRef);return typeof sch=="object"&&this._cache.delete(sch.schema),delete this.schemas[schemaKeyRef],delete this.refs[schemaKeyRef],this}case"object":{let cacheKey=schemaKeyRef;this._cache.delete(cacheKey);let id=schemaKeyRef[this.opts.schemaId];return id&&(id=(0,resolve_1.normalizeId)(id),delete this.schemas[id],delete this.refs[id]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(definitions){for(let def of definitions)this.addKeyword(def);return this}addKeyword(kwdOrDef,def){let keyword;if(typeof kwdOrDef=="string")keyword=kwdOrDef,typeof def=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),def.keyword=keyword);else if(typeof kwdOrDef=="object"&&def===void 0){if(def=kwdOrDef,keyword=def.keyword,Array.isArray(keyword)&&!keyword.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(checkKeyword.call(this,keyword,def),!def)return(0,util_1.eachItem)(keyword,kwd=>addRule.call(this,kwd)),this;keywordMetaschema.call(this,def);let definition={...def,type:(0,dataType_1.getJSONTypes)(def.type),schemaType:(0,dataType_1.getJSONTypes)(def.schemaType)};return(0,util_1.eachItem)(keyword,definition.type.length===0?k=>addRule.call(this,k,definition):k=>definition.type.forEach(t=>addRule.call(this,k,definition,t))),this}getKeyword(keyword){let rule=this.RULES.all[keyword];return typeof rule=="object"?rule.definition:!!rule}removeKeyword(keyword){let{RULES}=this;delete RULES.keywords[keyword],delete RULES.all[keyword];for(let group of RULES.rules){let i=group.rules.findIndex(rule=>rule.keyword===keyword);i>=0&&group.rules.splice(i,1)}return this}addFormat(name,format2){return typeof format2=="string"&&(format2=new RegExp(format2)),this.formats[name]=format2,this}errorsText(errors=this.errors,{separator=", ",dataVar="data"}={}){return!errors||errors.length===0?"No errors":errors.map(e=>`${dataVar}${e.instancePath} ${e.message}`).reduce((text2,msg)=>text2+separator+msg)}$dataMetaSchema(metaSchema,keywordsJsonPointers){let rules=this.RULES.all;metaSchema=JSON.parse(JSON.stringify(metaSchema));for(let jsonPointer of keywordsJsonPointers){let segments=jsonPointer.split("/").slice(1),keywords=metaSchema;for(let seg of segments)keywords=keywords[seg];for(let key in rules){let rule=rules[key];if(typeof rule!="object")continue;let{$data}=rule.definition,schema=keywords[key];$data&&schema&&(keywords[key]=schemaOrData(schema))}}return metaSchema}_removeAllSchemas(schemas,regex){for(let keyRef in schemas){let sch=schemas[keyRef];(!regex||regex.test(keyRef))&&(typeof sch=="string"?delete schemas[keyRef]:sch&&!sch.meta&&(this._cache.delete(sch.schema),delete schemas[keyRef]))}}_addSchema(schema,meta,baseId,validateSchema=this.opts.validateSchema,addSchema=this.opts.addUsedSchema){let id,{schemaId}=this.opts;if(typeof schema=="object")id=schema[schemaId];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof schema!="boolean")throw new Error("schema must be object or boolean")}let sch=this._cache.get(schema);if(sch!==void 0)return sch;baseId=(0,resolve_1.normalizeId)(id||baseId);let localRefs=resolve_1.getSchemaRefs.call(this,schema,baseId);return sch=new compile_1.SchemaEnv({schema,schemaId,meta,baseId,localRefs}),this._cache.set(sch.schema,sch),addSchema&&!baseId.startsWith("#")&&(baseId&&this._checkUnique(baseId),this.refs[baseId]=sch),validateSchema&&this.validateSchema(schema,!0),sch}_checkUnique(id){if(this.schemas[id]||this.refs[id])throw new Error(`schema with key or id "${id}" already exists`)}_compileSchemaEnv(sch){if(sch.meta?this._compileMetaSchema(sch):compile_1.compileSchema.call(this,sch),!sch.validate)throw new Error("ajv implementation error");return sch.validate}_compileMetaSchema(sch){let currentOpts=this.opts;this.opts=this._metaOpts;try{compile_1.compileSchema.call(this,sch)}finally{this.opts=currentOpts}}};Ajv.ValidationError=validation_error_1.default;Ajv.MissingRefError=ref_error_1.default;exports2.default=Ajv;function checkOptions(checkOpts,options2,msg,log="error"){for(let key in checkOpts){let opt=key;opt in options2&&this.logger[log](`${msg}: option ${key}. ${checkOpts[opt]}`)}}function getSchEnv(keyRef){return keyRef=(0,resolve_1.normalizeId)(keyRef),this.schemas[keyRef]||this.refs[keyRef]}function addInitialSchemas(){let optsSchemas=this.opts.schemas;if(optsSchemas)if(Array.isArray(optsSchemas))this.addSchema(optsSchemas);else for(let key in optsSchemas)this.addSchema(optsSchemas[key],key)}function addInitialFormats(){for(let name in this.opts.formats){let format2=this.opts.formats[name];format2&&this.addFormat(name,format2)}}function addInitialKeywords(defs){if(Array.isArray(defs)){this.addVocabulary(defs);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let keyword in defs){let def=defs[keyword];def.keyword||(def.keyword=keyword),this.addKeyword(def)}}function getMetaSchemaOptions(){let metaOpts={...this.opts};for(let opt of META_IGNORE_OPTIONS)delete metaOpts[opt];return metaOpts}var noLogs={log(){},warn(){},error(){}};function getLogger(logger){if(logger===!1)return noLogs;if(logger===void 0)return console;if(logger.log&&logger.warn&&logger.error)return logger;throw new Error("logger must implement log, warn and error methods")}var KEYWORD_NAME=/^[a-z_$][a-z0-9_$:-]*$/i;function checkKeyword(keyword,def){let{RULES}=this;if((0,util_1.eachItem)(keyword,kwd=>{if(RULES.keywords[kwd])throw new Error(`Keyword ${kwd} is already defined`);if(!KEYWORD_NAME.test(kwd))throw new Error(`Keyword ${kwd} has invalid name`)}),!!def&&def.$data&&!("code"in def||"validate"in def))throw new Error('$data keyword must have "code" or "validate" function')}function addRule(keyword,definition,dataType){var _a2;let post=definition?.post;if(dataType&&post)throw new Error('keyword with "post" flag cannot have "type"');let{RULES}=this,ruleGroup=post?RULES.post:RULES.rules.find(({type:t})=>t===dataType);if(ruleGroup||(ruleGroup={type:dataType,rules:[]},RULES.rules.push(ruleGroup)),RULES.keywords[keyword]=!0,!definition)return;let rule={keyword,definition:{...definition,type:(0,dataType_1.getJSONTypes)(definition.type),schemaType:(0,dataType_1.getJSONTypes)(definition.schemaType)}};definition.before?addBeforeRule.call(this,ruleGroup,rule,definition.before):ruleGroup.rules.push(rule),RULES.all[keyword]=rule,(_a2=definition.implements)===null||_a2===void 0||_a2.forEach(kwd=>this.addKeyword(kwd))}function addBeforeRule(ruleGroup,rule,before){let i=ruleGroup.rules.findIndex(_rule=>_rule.keyword===before);i>=0?ruleGroup.rules.splice(i,0,rule):(ruleGroup.rules.push(rule),this.logger.warn(`rule ${before} is not defined`))}function keywordMetaschema(def){let{metaSchema}=def;metaSchema!==void 0&&(def.$data&&this.opts.$data&&(metaSchema=schemaOrData(metaSchema)),def.validateSchema=this.compile(metaSchema,!0))}var $dataRef={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function schemaOrData(schema){return{anyOf:[schema,$dataRef]}}}});var require_id=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/core/id.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var def={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};exports2.default=def}});var require_ref=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/core/ref.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.callRef=exports2.getValidate=void 0;var ref_error_1=require_ref_error(),code_1=require_code2(),codegen_1=require_codegen(),names_1=require_names(),compile_1=require_compile(),util_1=require_util(),def={keyword:"$ref",schemaType:"string",code(cxt){let{gen,schema:$ref,it}=cxt,{baseId,schemaEnv:env2,validateName,opts,self:self2}=it,{root}=env2;if(($ref==="#"||$ref==="#/")&&baseId===root.baseId)return callRootRef();let schOrEnv=compile_1.resolveRef.call(self2,root,baseId,$ref);if(schOrEnv===void 0)throw new ref_error_1.default(it.opts.uriResolver,baseId,$ref);if(schOrEnv instanceof compile_1.SchemaEnv)return callValidate(schOrEnv);return inlineRefSchema(schOrEnv);function callRootRef(){if(env2===root)return callRef(cxt,validateName,env2,env2.$async);let rootName=gen.scopeValue("root",{ref:root});return callRef(cxt,(0,codegen_1._)`${rootName}.validate`,root,root.$async)}function callValidate(sch){let v=getValidate(cxt,sch);callRef(cxt,v,sch,sch.$async)}function inlineRefSchema(sch){let schName=gen.scopeValue("schema",opts.code.source===!0?{ref:sch,code:(0,codegen_1.stringify)(sch)}:{ref:sch}),valid=gen.name("valid"),schCxt=cxt.subschema({schema:sch,dataTypes:[],schemaPath:codegen_1.nil,topSchemaRef:schName,errSchemaPath:$ref},valid);cxt.mergeEvaluated(schCxt),cxt.ok(valid)}}};function getValidate(cxt,sch){let{gen}=cxt;return sch.validate?gen.scopeValue("validate",{ref:sch.validate}):(0,codegen_1._)`${gen.scopeValue("wrapper",{ref:sch})}.validate`}exports2.getValidate=getValidate;function callRef(cxt,v,sch,$async){let{gen,it}=cxt,{allErrors,schemaEnv:env2,opts}=it,passCxt=opts.passContext?names_1.default.this:codegen_1.nil;$async?callAsyncRef():callSyncRef();function callAsyncRef(){if(!env2.$async)throw new Error("async schema referenced by sync schema");let valid=gen.let("valid");gen.try(()=>{gen.code((0,codegen_1._)`await ${(0,code_1.callValidateCode)(cxt,v,passCxt)}`),addEvaluatedFrom(v),allErrors||gen.assign(valid,!0)},e=>{gen.if((0,codegen_1._)`!(${e} instanceof ${it.ValidationError})`,()=>gen.throw(e)),addErrorsFrom(e),allErrors||gen.assign(valid,!1)}),cxt.ok(valid)}function callSyncRef(){cxt.result((0,code_1.callValidateCode)(cxt,v,passCxt),()=>addEvaluatedFrom(v),()=>addErrorsFrom(v))}function addErrorsFrom(source){let errs=(0,codegen_1._)`${source}.errors`;gen.assign(names_1.default.vErrors,(0,codegen_1._)`${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`),gen.assign(names_1.default.errors,(0,codegen_1._)`${names_1.default.vErrors}.length`)}function addEvaluatedFrom(source){var _a2;if(!it.opts.unevaluated)return;let schEvaluated=(_a2=sch?.validate)===null||_a2===void 0?void 0:_a2.evaluated;if(it.props!==!0)if(schEvaluated&&!schEvaluated.dynamicProps)schEvaluated.props!==void 0&&(it.props=util_1.mergeEvaluated.props(gen,schEvaluated.props,it.props));else{let props=gen.var("props",(0,codegen_1._)`${source}.evaluated.props`);it.props=util_1.mergeEvaluated.props(gen,props,it.props,codegen_1.Name)}if(it.items!==!0)if(schEvaluated&&!schEvaluated.dynamicItems)schEvaluated.items!==void 0&&(it.items=util_1.mergeEvaluated.items(gen,schEvaluated.items,it.items));else{let items=gen.var("items",(0,codegen_1._)`${source}.evaluated.items`);it.items=util_1.mergeEvaluated.items(gen,items,it.items,codegen_1.Name)}}}exports2.callRef=callRef;exports2.default=def}});var require_core2=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/core/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var id_1=require_id(),ref_1=require_ref(),core=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",id_1.default,ref_1.default];exports2.default=core}});var require_limitNumber=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var codegen_1=require_codegen(),ops=codegen_1.operators,KWDs={maximum:{okStr:"<=",ok:ops.LTE,fail:ops.GT},minimum:{okStr:">=",ok:ops.GTE,fail:ops.LT},exclusiveMaximum:{okStr:"<",ok:ops.LT,fail:ops.GTE},exclusiveMinimum:{okStr:">",ok:ops.GT,fail:ops.LTE}},error={message:({keyword,schemaCode})=>(0,codegen_1.str)`must be ${KWDs[keyword].okStr} ${schemaCode}`,params:({keyword,schemaCode})=>(0,codegen_1._)`{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`},def={keyword:Object.keys(KWDs),type:"number",schemaType:"number",$data:!0,error,code(cxt){let{keyword,data,schemaCode}=cxt;cxt.fail$data((0,codegen_1._)`${data} ${KWDs[keyword].fail} ${schemaCode} || isNaN(${data})`)}};exports2.default=def}});var require_multipleOf=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var codegen_1=require_codegen(),error={message:({schemaCode})=>(0,codegen_1.str)`must be multiple of ${schemaCode}`,params:({schemaCode})=>(0,codegen_1._)`{multipleOf: ${schemaCode}}`},def={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error,code(cxt){let{gen,data,schemaCode,it}=cxt,prec=it.opts.multipleOfPrecision,res=gen.let("res"),invalid=prec?(0,codegen_1._)`Math.abs(Math.round(${res}) - ${res}) > 1e-${prec}`:(0,codegen_1._)`${res} !== parseInt(${res})`;cxt.fail$data((0,codegen_1._)`(${schemaCode} === 0 || (${res} = ${data}/${schemaCode}, ${invalid}))`)}};exports2.default=def}});var require_ucs2length=__commonJS({"../../../../node_modules/ajv/dist/runtime/ucs2length.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});function ucs2length(str){let len=str.length,length=0,pos=0,value;for(;pos<len;)length++,value=str.charCodeAt(pos++),value>=55296&&value<=56319&&pos<len&&(value=str.charCodeAt(pos),(value&64512)===56320&&pos++);return length}exports2.default=ucs2length;ucs2length.code='require("ajv/dist/runtime/ucs2length").default'}});var require_limitLength=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/validation/limitLength.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var codegen_1=require_codegen(),util_1=require_util(),ucs2length_1=require_ucs2length(),error={message({keyword,schemaCode}){let comp=keyword==="maxLength"?"more":"fewer";return(0,codegen_1.str)`must NOT have ${comp} than ${schemaCode} characters`},params:({schemaCode})=>(0,codegen_1._)`{limit: ${schemaCode}}`},def={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error,code(cxt){let{keyword,data,schemaCode,it}=cxt,op=keyword==="maxLength"?codegen_1.operators.GT:codegen_1.operators.LT,len=it.opts.unicode===!1?(0,codegen_1._)`${data}.length`:(0,codegen_1._)`${(0,util_1.useFunc)(cxt.gen,ucs2length_1.default)}(${data})`;cxt.fail$data((0,codegen_1._)`${len} ${op} ${schemaCode}`)}};exports2.default=def}});var require_pattern=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/validation/pattern.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var code_1=require_code2(),codegen_1=require_codegen(),error={message:({schemaCode})=>(0,codegen_1.str)`must match pattern "${schemaCode}"`,params:({schemaCode})=>(0,codegen_1._)`{pattern: ${schemaCode}}`},def={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error,code(cxt){let{data,$data,schema,schemaCode,it}=cxt,u=it.opts.unicodeRegExp?"u":"",regExp=$data?(0,codegen_1._)`(new RegExp(${schemaCode}, ${u}))`:(0,code_1.usePattern)(cxt,schema);cxt.fail$data((0,codegen_1._)`!${regExp}.test(${data})`)}};exports2.default=def}});var require_limitProperties=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var codegen_1=require_codegen(),error={message({keyword,schemaCode}){let comp=keyword==="maxProperties"?"more":"fewer";return(0,codegen_1.str)`must NOT have ${comp} than ${schemaCode} properties`},params:({schemaCode})=>(0,codegen_1._)`{limit: ${schemaCode}}`},def={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error,code(cxt){let{keyword,data,schemaCode}=cxt,op=keyword==="maxProperties"?codegen_1.operators.GT:codegen_1.operators.LT;cxt.fail$data((0,codegen_1._)`Object.keys(${data}).length ${op} ${schemaCode}`)}};exports2.default=def}});var require_required=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/validation/required.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var code_1=require_code2(),codegen_1=require_codegen(),util_1=require_util(),error={message:({params:{missingProperty}})=>(0,codegen_1.str)`must have required property '${missingProperty}'`,params:({params:{missingProperty}})=>(0,codegen_1._)`{missingProperty: ${missingProperty}}`},def={keyword:"required",type:"object",schemaType:"array",$data:!0,error,code(cxt){let{gen,schema,schemaCode,data,$data,it}=cxt,{opts}=it;if(!$data&&schema.length===0)return;let useLoop=schema.length>=opts.loopRequired;if(it.allErrors?allErrorsMode():exitOnErrorMode(),opts.strictRequired){let props=cxt.parentSchema.properties,{definedProperties}=cxt.it;for(let requiredKey of schema)if(props?.[requiredKey]===void 0&&!definedProperties.has(requiredKey)){let schemaPath=it.schemaEnv.baseId+it.errSchemaPath,msg=`required property "${requiredKey}" is not defined at "${schemaPath}" (strictRequired)`;(0,util_1.checkStrictMode)(it,msg,it.opts.strictRequired)}}function allErrorsMode(){if(useLoop||$data)cxt.block$data(codegen_1.nil,loopAllRequired);else for(let prop of schema)(0,code_1.checkReportMissingProp)(cxt,prop)}function exitOnErrorMode(){let missing=gen.let("missing");if(useLoop||$data){let valid=gen.let("valid",!0);cxt.block$data(valid,()=>loopUntilMissing(missing,valid)),cxt.ok(valid)}else gen.if((0,code_1.checkMissingProp)(cxt,schema,missing)),(0,code_1.reportMissingProp)(cxt,missing),gen.else()}function loopAllRequired(){gen.forOf("prop",schemaCode,prop=>{cxt.setParams({missingProperty:prop}),gen.if((0,code_1.noPropertyInData)(gen,data,prop,opts.ownProperties),()=>cxt.error())})}function loopUntilMissing(missing,valid){cxt.setParams({missingProperty:missing}),gen.forOf(missing,schemaCode,()=>{gen.assign(valid,(0,code_1.propertyInData)(gen,data,missing,opts.ownProperties)),gen.if((0,codegen_1.not)(valid),()=>{cxt.error(),gen.break()})},codegen_1.nil)}}};exports2.default=def}});var require_limitItems=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/validation/limitItems.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var codegen_1=require_codegen(),error={message({keyword,schemaCode}){let comp=keyword==="maxItems"?"more":"fewer";return(0,codegen_1.str)`must NOT have ${comp} than ${schemaCode} items`},params:({schemaCode})=>(0,codegen_1._)`{limit: ${schemaCode}}`},def={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error,code(cxt){let{keyword,data,schemaCode}=cxt,op=keyword==="maxItems"?codegen_1.operators.GT:codegen_1.operators.LT;cxt.fail$data((0,codegen_1._)`${data}.length ${op} ${schemaCode}`)}};exports2.default=def}});var require_equal=__commonJS({"../../../../node_modules/ajv/dist/runtime/equal.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var equal=require_fast_deep_equal();equal.code='require("ajv/dist/runtime/equal").default';exports2.default=equal}});var require_uniqueItems=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var dataType_1=require_dataType(),codegen_1=require_codegen(),util_1=require_util(),equal_1=require_equal(),error={message:({params:{i,j}})=>(0,codegen_1.str)`must NOT have duplicate items (items ## ${j} and ${i} are identical)`,params:({params:{i,j}})=>(0,codegen_1._)`{i: ${i}, j: ${j}}`},def={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error,code(cxt){let{gen,data,$data,schema,parentSchema,schemaCode,it}=cxt;if(!$data&&!schema)return;let valid=gen.let("valid"),itemTypes=parentSchema.items?(0,dataType_1.getSchemaTypes)(parentSchema.items):[];cxt.block$data(valid,validateUniqueItems,(0,codegen_1._)`${schemaCode} === false`),cxt.ok(valid);function validateUniqueItems(){let i=gen.let("i",(0,codegen_1._)`${data}.length`),j=gen.let("j");cxt.setParams({i,j}),gen.assign(valid,!0),gen.if((0,codegen_1._)`${i} > 1`,()=>(canOptimize()?loopN:loopN2)(i,j))}function canOptimize(){return itemTypes.length>0&&!itemTypes.some(t=>t==="object"||t==="array")}function loopN(i,j){let item=gen.name("item"),wrongType=(0,dataType_1.checkDataTypes)(itemTypes,item,it.opts.strictNumbers,dataType_1.DataType.Wrong),indices=gen.const("indices",(0,codegen_1._)`{}`);gen.for((0,codegen_1._)`;${i}--;`,()=>{gen.let(item,(0,codegen_1._)`${data}[${i}]`),gen.if(wrongType,(0,codegen_1._)`continue`),itemTypes.length>1&&gen.if((0,codegen_1._)`typeof ${item} == "string"`,(0,codegen_1._)`${item} += "_"`),gen.if((0,codegen_1._)`typeof ${indices}[${item}] == "number"`,()=>{gen.assign(j,(0,codegen_1._)`${indices}[${item}]`),cxt.error(),gen.assign(valid,!1).break()}).code((0,codegen_1._)`${indices}[${item}] = ${i}`)})}function loopN2(i,j){let eql=(0,util_1.useFunc)(gen,equal_1.default),outer=gen.name("outer");gen.label(outer).for((0,codegen_1._)`;${i}--;`,()=>gen.for((0,codegen_1._)`${j} = ${i}; ${j}--;`,()=>gen.if((0,codegen_1._)`${eql}(${data}[${i}], ${data}[${j}])`,()=>{cxt.error(),gen.assign(valid,!1).break(outer)})))}}};exports2.default=def}});var require_const=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/validation/const.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var codegen_1=require_codegen(),util_1=require_util(),equal_1=require_equal(),error={message:"must be equal to constant",params:({schemaCode})=>(0,codegen_1._)`{allowedValue: ${schemaCode}}`},def={keyword:"const",$data:!0,error,code(cxt){let{gen,data,$data,schemaCode,schema}=cxt;$data||schema&&typeof schema=="object"?cxt.fail$data((0,codegen_1._)`!${(0,util_1.useFunc)(gen,equal_1.default)}(${data}, ${schemaCode})`):cxt.fail((0,codegen_1._)`${schema} !== ${data}`)}};exports2.default=def}});var require_enum=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/validation/enum.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var codegen_1=require_codegen(),util_1=require_util(),equal_1=require_equal(),error={message:"must be equal to one of the allowed values",params:({schemaCode})=>(0,codegen_1._)`{allowedValues: ${schemaCode}}`},def={keyword:"enum",schemaType:"array",$data:!0,error,code(cxt){let{gen,data,$data,schema,schemaCode,it}=cxt;if(!$data&&schema.length===0)throw new Error("enum must have non-empty array");let useLoop=schema.length>=it.opts.loopEnum,eql,getEql=()=>eql??(eql=(0,util_1.useFunc)(gen,equal_1.default)),valid;if(useLoop||$data)valid=gen.let("valid"),cxt.block$data(valid,loopEnum);else{if(!Array.isArray(schema))throw new Error("ajv implementation error");let vSchema=gen.const("vSchema",schemaCode);valid=(0,codegen_1.or)(...schema.map((_x,i)=>equalCode(vSchema,i)))}cxt.pass(valid);function loopEnum(){gen.assign(valid,!1),gen.forOf("v",schemaCode,v=>gen.if((0,codegen_1._)`${getEql()}(${data}, ${v})`,()=>gen.assign(valid,!0).break()))}function equalCode(vSchema,i){let sch=schema[i];return typeof sch=="object"&&sch!==null?(0,codegen_1._)`${getEql()}(${data}, ${vSchema}[${i}])`:(0,codegen_1._)`${data} === ${sch}`}}};exports2.default=def}});var require_validation2=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/validation/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var limitNumber_1=require_limitNumber(),multipleOf_1=require_multipleOf(),limitLength_1=require_limitLength(),pattern_1=require_pattern(),limitProperties_1=require_limitProperties(),required_1=require_required(),limitItems_1=require_limitItems(),uniqueItems_1=require_uniqueItems(),const_1=require_const(),enum_1=require_enum(),validation=[limitNumber_1.default,multipleOf_1.default,limitLength_1.default,pattern_1.default,limitProperties_1.default,required_1.default,limitItems_1.default,uniqueItems_1.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},const_1.default,enum_1.default];exports2.default=validation}});var require_additionalItems=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.validateAdditionalItems=void 0;var codegen_1=require_codegen(),util_1=require_util(),error={message:({params:{len}})=>(0,codegen_1.str)`must NOT have more than ${len} items`,params:({params:{len}})=>(0,codegen_1._)`{limit: ${len}}`},def={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error,code(cxt){let{parentSchema,it}=cxt,{items}=parentSchema;if(!Array.isArray(items)){(0,util_1.checkStrictMode)(it,'"additionalItems" is ignored when "items" is not an array of schemas');return}validateAdditionalItems(cxt,items)}};function validateAdditionalItems(cxt,items){let{gen,schema,data,keyword,it}=cxt;it.items=!0;let len=gen.const("len",(0,codegen_1._)`${data}.length`);if(schema===!1)cxt.setParams({len:items.length}),cxt.pass((0,codegen_1._)`${len} <= ${items.length}`);else if(typeof schema=="object"&&!(0,util_1.alwaysValidSchema)(it,schema)){let valid=gen.var("valid",(0,codegen_1._)`${len} <= ${items.length}`);gen.if((0,codegen_1.not)(valid),()=>validateItems(valid)),cxt.ok(valid)}function validateItems(valid){gen.forRange("i",items.length,len,i=>{cxt.subschema({keyword,dataProp:i,dataPropType:util_1.Type.Num},valid),it.allErrors||gen.if((0,codegen_1.not)(valid),()=>gen.break())})}}exports2.validateAdditionalItems=validateAdditionalItems;exports2.default=def}});var require_items=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/applicator/items.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.validateTuple=void 0;var codegen_1=require_codegen(),util_1=require_util(),code_1=require_code2(),def={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(cxt){let{schema,it}=cxt;if(Array.isArray(schema))return validateTuple(cxt,"additionalItems",schema);it.items=!0,!(0,util_1.alwaysValidSchema)(it,schema)&&cxt.ok((0,code_1.validateArray)(cxt))}};function validateTuple(cxt,extraItems,schArr=cxt.schema){let{gen,parentSchema,data,keyword,it}=cxt;checkStrictTuple(parentSchema),it.opts.unevaluated&&schArr.length&&it.items!==!0&&(it.items=util_1.mergeEvaluated.items(gen,schArr.length,it.items));let valid=gen.name("valid"),len=gen.const("len",(0,codegen_1._)`${data}.length`);schArr.forEach((sch,i)=>{(0,util_1.alwaysValidSchema)(it,sch)||(gen.if((0,codegen_1._)`${len} > ${i}`,()=>cxt.subschema({keyword,schemaProp:i,dataProp:i},valid)),cxt.ok(valid))});function checkStrictTuple(sch){let{opts,errSchemaPath}=it,l=schArr.length,fullTuple=l===sch.minItems&&(l===sch.maxItems||sch[extraItems]===!1);if(opts.strictTuples&&!fullTuple){let msg=`"${keyword}" is ${l}-tuple, but minItems or maxItems/${extraItems} are not specified or different at path "${errSchemaPath}"`;(0,util_1.checkStrictMode)(it,msg,opts.strictTuples)}}}exports2.validateTuple=validateTuple;exports2.default=def}});var require_prefixItems=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var items_1=require_items(),def={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:cxt=>(0,items_1.validateTuple)(cxt,"items")};exports2.default=def}});var require_items2020=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/applicator/items2020.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var codegen_1=require_codegen(),util_1=require_util(),code_1=require_code2(),additionalItems_1=require_additionalItems(),error={message:({params:{len}})=>(0,codegen_1.str)`must NOT have more than ${len} items`,params:({params:{len}})=>(0,codegen_1._)`{limit: ${len}}`},def={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error,code(cxt){let{schema,parentSchema,it}=cxt,{prefixItems}=parentSchema;it.items=!0,!(0,util_1.alwaysValidSchema)(it,schema)&&(prefixItems?(0,additionalItems_1.validateAdditionalItems)(cxt,prefixItems):cxt.ok((0,code_1.validateArray)(cxt)))}};exports2.default=def}});var require_contains=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/applicator/contains.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var codegen_1=require_codegen(),util_1=require_util(),error={message:({params:{min,max}})=>max===void 0?(0,codegen_1.str)`must contain at least ${min} valid item(s)`:(0,codegen_1.str)`must contain at least ${min} and no more than ${max} valid item(s)`,params:({params:{min,max}})=>max===void 0?(0,codegen_1._)`{minContains: ${min}}`:(0,codegen_1._)`{minContains: ${min}, maxContains: ${max}}`},def={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error,code(cxt){let{gen,schema,parentSchema,data,it}=cxt,min,max,{minContains,maxContains}=parentSchema;it.opts.next?(min=minContains===void 0?1:minContains,max=maxContains):min=1;let len=gen.const("len",(0,codegen_1._)`${data}.length`);if(cxt.setParams({min,max}),max===void 0&&min===0){(0,util_1.checkStrictMode)(it,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(max!==void 0&&min>max){(0,util_1.checkStrictMode)(it,'"minContains" > "maxContains" is always invalid'),cxt.fail();return}if((0,util_1.alwaysValidSchema)(it,schema)){let cond=(0,codegen_1._)`${len} >= ${min}`;max!==void 0&&(cond=(0,codegen_1._)`${cond} && ${len} <= ${max}`),cxt.pass(cond);return}it.items=!0;let valid=gen.name("valid");max===void 0&&min===1?validateItems(valid,()=>gen.if(valid,()=>gen.break())):min===0?(gen.let(valid,!0),max!==void 0&&gen.if((0,codegen_1._)`${data}.length > 0`,validateItemsWithCount)):(gen.let(valid,!1),validateItemsWithCount()),cxt.result(valid,()=>cxt.reset());function validateItemsWithCount(){let schValid=gen.name("_valid"),count=gen.let("count",0);validateItems(schValid,()=>gen.if(schValid,()=>checkLimits(count)))}function validateItems(_valid,block2){gen.forRange("i",0,len,i=>{cxt.subschema({keyword:"contains",dataProp:i,dataPropType:util_1.Type.Num,compositeRule:!0},_valid),block2()})}function checkLimits(count){gen.code((0,codegen_1._)`${count}++`),max===void 0?gen.if((0,codegen_1._)`${count} >= ${min}`,()=>gen.assign(valid,!0).break()):(gen.if((0,codegen_1._)`${count} > ${max}`,()=>gen.assign(valid,!1).break()),min===1?gen.assign(valid,!0):gen.if((0,codegen_1._)`${count} >= ${min}`,()=>gen.assign(valid,!0)))}}};exports2.default=def}});var require_dependencies=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.validateSchemaDeps=exports2.validatePropertyDeps=exports2.error=void 0;var codegen_1=require_codegen(),util_1=require_util(),code_1=require_code2();exports2.error={message:({params:{property,depsCount,deps}})=>{let property_ies=depsCount===1?"property":"properties";return(0,codegen_1.str)`must have ${property_ies} ${deps} when property ${property} is present`},params:({params:{property,depsCount,deps,missingProperty}})=>(0,codegen_1._)`{property: ${property},
    missingProperty: ${missingProperty},
    depsCount: ${depsCount},
    deps: ${deps}}`};var def={keyword:"dependencies",type:"object",schemaType:"object",error:exports2.error,code(cxt){let[propDeps,schDeps]=splitDependencies(cxt);validatePropertyDeps(cxt,propDeps),validateSchemaDeps(cxt,schDeps)}};function splitDependencies({schema}){let propertyDeps={},schemaDeps={};for(let key in schema){if(key==="__proto__")continue;let deps=Array.isArray(schema[key])?propertyDeps:schemaDeps;deps[key]=schema[key]}return[propertyDeps,schemaDeps]}function validatePropertyDeps(cxt,propertyDeps=cxt.schema){let{gen,data,it}=cxt;if(Object.keys(propertyDeps).length===0)return;let missing=gen.let("missing");for(let prop in propertyDeps){let deps=propertyDeps[prop];if(deps.length===0)continue;let hasProperty=(0,code_1.propertyInData)(gen,data,prop,it.opts.ownProperties);cxt.setParams({property:prop,depsCount:deps.length,deps:deps.join(", ")}),it.allErrors?gen.if(hasProperty,()=>{for(let depProp of deps)(0,code_1.checkReportMissingProp)(cxt,depProp)}):(gen.if((0,codegen_1._)`${hasProperty} && (${(0,code_1.checkMissingProp)(cxt,deps,missing)})`),(0,code_1.reportMissingProp)(cxt,missing),gen.else())}}exports2.validatePropertyDeps=validatePropertyDeps;function validateSchemaDeps(cxt,schemaDeps=cxt.schema){let{gen,data,keyword,it}=cxt,valid=gen.name("valid");for(let prop in schemaDeps)(0,util_1.alwaysValidSchema)(it,schemaDeps[prop])||(gen.if((0,code_1.propertyInData)(gen,data,prop,it.opts.ownProperties),()=>{let schCxt=cxt.subschema({keyword,schemaProp:prop},valid);cxt.mergeValidEvaluated(schCxt,valid)},()=>gen.var(valid,!0)),cxt.ok(valid))}exports2.validateSchemaDeps=validateSchemaDeps;exports2.default=def}});var require_propertyNames=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var codegen_1=require_codegen(),util_1=require_util(),error={message:"property name must be valid",params:({params})=>(0,codegen_1._)`{propertyName: ${params.propertyName}}`},def={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error,code(cxt){let{gen,schema,data,it}=cxt;if((0,util_1.alwaysValidSchema)(it,schema))return;let valid=gen.name("valid");gen.forIn("key",data,key=>{cxt.setParams({propertyName:key}),cxt.subschema({keyword:"propertyNames",data:key,dataTypes:["string"],propertyName:key,compositeRule:!0},valid),gen.if((0,codegen_1.not)(valid),()=>{cxt.error(!0),it.allErrors||gen.break()})}),cxt.ok(valid)}};exports2.default=def}});var require_additionalProperties=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var code_1=require_code2(),codegen_1=require_codegen(),names_1=require_names(),util_1=require_util(),error={message:"must NOT have additional properties",params:({params})=>(0,codegen_1._)`{additionalProperty: ${params.additionalProperty}}`},def={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error,code(cxt){let{gen,schema,parentSchema,data,errsCount,it}=cxt;if(!errsCount)throw new Error("ajv implementation error");let{allErrors,opts}=it;if(it.props=!0,opts.removeAdditional!=="all"&&(0,util_1.alwaysValidSchema)(it,schema))return;let props=(0,code_1.allSchemaProperties)(parentSchema.properties),patProps=(0,code_1.allSchemaProperties)(parentSchema.patternProperties);checkAdditionalProperties(),cxt.ok((0,codegen_1._)`${errsCount} === ${names_1.default.errors}`);function checkAdditionalProperties(){gen.forIn("key",data,key=>{!props.length&&!patProps.length?additionalPropertyCode(key):gen.if(isAdditional(key),()=>additionalPropertyCode(key))})}function isAdditional(key){let definedProp;if(props.length>8){let propsSchema=(0,util_1.schemaRefOrVal)(it,parentSchema.properties,"properties");definedProp=(0,code_1.isOwnProperty)(gen,propsSchema,key)}else props.length?definedProp=(0,codegen_1.or)(...props.map(p=>(0,codegen_1._)`${key} === ${p}`)):definedProp=codegen_1.nil;return patProps.length&&(definedProp=(0,codegen_1.or)(definedProp,...patProps.map(p=>(0,codegen_1._)`${(0,code_1.usePattern)(cxt,p)}.test(${key})`))),(0,codegen_1.not)(definedProp)}function deleteAdditional(key){gen.code((0,codegen_1._)`delete ${data}[${key}]`)}function additionalPropertyCode(key){if(opts.removeAdditional==="all"||opts.removeAdditional&&schema===!1){deleteAdditional(key);return}if(schema===!1){cxt.setParams({additionalProperty:key}),cxt.error(),allErrors||gen.break();return}if(typeof schema=="object"&&!(0,util_1.alwaysValidSchema)(it,schema)){let valid=gen.name("valid");opts.removeAdditional==="failing"?(applyAdditionalSchema(key,valid,!1),gen.if((0,codegen_1.not)(valid),()=>{cxt.reset(),deleteAdditional(key)})):(applyAdditionalSchema(key,valid),allErrors||gen.if((0,codegen_1.not)(valid),()=>gen.break()))}}function applyAdditionalSchema(key,valid,errors){let subschema={keyword:"additionalProperties",dataProp:key,dataPropType:util_1.Type.Str};errors===!1&&Object.assign(subschema,{compositeRule:!0,createErrors:!1,allErrors:!1}),cxt.subschema(subschema,valid)}}};exports2.default=def}});var require_properties=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/applicator/properties.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var validate_1=require_validate(),code_1=require_code2(),util_1=require_util(),additionalProperties_1=require_additionalProperties(),def={keyword:"properties",type:"object",schemaType:"object",code(cxt){let{gen,schema,parentSchema,data,it}=cxt;it.opts.removeAdditional==="all"&&parentSchema.additionalProperties===void 0&&additionalProperties_1.default.code(new validate_1.KeywordCxt(it,additionalProperties_1.default,"additionalProperties"));let allProps=(0,code_1.allSchemaProperties)(schema);for(let prop of allProps)it.definedProperties.add(prop);it.opts.unevaluated&&allProps.length&&it.props!==!0&&(it.props=util_1.mergeEvaluated.props(gen,(0,util_1.toHash)(allProps),it.props));let properties=allProps.filter(p=>!(0,util_1.alwaysValidSchema)(it,schema[p]));if(properties.length===0)return;let valid=gen.name("valid");for(let prop of properties)hasDefault(prop)?applyPropertySchema(prop):(gen.if((0,code_1.propertyInData)(gen,data,prop,it.opts.ownProperties)),applyPropertySchema(prop),it.allErrors||gen.else().var(valid,!0),gen.endIf()),cxt.it.definedProperties.add(prop),cxt.ok(valid);function hasDefault(prop){return it.opts.useDefaults&&!it.compositeRule&&schema[prop].default!==void 0}function applyPropertySchema(prop){cxt.subschema({keyword:"properties",schemaProp:prop,dataProp:prop},valid)}}};exports2.default=def}});var require_patternProperties=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var code_1=require_code2(),codegen_1=require_codegen(),util_1=require_util(),util_2=require_util(),def={keyword:"patternProperties",type:"object",schemaType:"object",code(cxt){let{gen,schema,data,parentSchema,it}=cxt,{opts}=it,patterns=(0,code_1.allSchemaProperties)(schema),alwaysValidPatterns=patterns.filter(p=>(0,util_1.alwaysValidSchema)(it,schema[p]));if(patterns.length===0||alwaysValidPatterns.length===patterns.length&&(!it.opts.unevaluated||it.props===!0))return;let checkProperties=opts.strictSchema&&!opts.allowMatchingProperties&&parentSchema.properties,valid=gen.name("valid");it.props!==!0&&!(it.props instanceof codegen_1.Name)&&(it.props=(0,util_2.evaluatedPropsToName)(gen,it.props));let{props}=it;validatePatternProperties();function validatePatternProperties(){for(let pat of patterns)checkProperties&&checkMatchingProperties(pat),it.allErrors?validateProperties(pat):(gen.var(valid,!0),validateProperties(pat),gen.if(valid))}function checkMatchingProperties(pat){for(let prop in checkProperties)new RegExp(pat).test(prop)&&(0,util_1.checkStrictMode)(it,`property ${prop} matches pattern ${pat} (use allowMatchingProperties)`)}function validateProperties(pat){gen.forIn("key",data,key=>{gen.if((0,codegen_1._)`${(0,code_1.usePattern)(cxt,pat)}.test(${key})`,()=>{let alwaysValid=alwaysValidPatterns.includes(pat);alwaysValid||cxt.subschema({keyword:"patternProperties",schemaProp:pat,dataProp:key,dataPropType:util_2.Type.Str},valid),it.opts.unevaluated&&props!==!0?gen.assign((0,codegen_1._)`${props}[${key}]`,!0):!alwaysValid&&!it.allErrors&&gen.if((0,codegen_1.not)(valid),()=>gen.break())})})}}};exports2.default=def}});var require_not=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/applicator/not.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var util_1=require_util(),def={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(cxt){let{gen,schema,it}=cxt;if((0,util_1.alwaysValidSchema)(it,schema)){cxt.fail();return}let valid=gen.name("valid");cxt.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},valid),cxt.failResult(valid,()=>cxt.reset(),()=>cxt.error())},error:{message:"must NOT be valid"}};exports2.default=def}});var require_anyOf=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var code_1=require_code2(),def={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:code_1.validateUnion,error:{message:"must match a schema in anyOf"}};exports2.default=def}});var require_oneOf=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var codegen_1=require_codegen(),util_1=require_util(),error={message:"must match exactly one schema in oneOf",params:({params})=>(0,codegen_1._)`{passingSchemas: ${params.passing}}`},def={keyword:"oneOf",schemaType:"array",trackErrors:!0,error,code(cxt){let{gen,schema,parentSchema,it}=cxt;if(!Array.isArray(schema))throw new Error("ajv implementation error");if(it.opts.discriminator&&parentSchema.discriminator)return;let schArr=schema,valid=gen.let("valid",!1),passing=gen.let("passing",null),schValid=gen.name("_valid");cxt.setParams({passing}),gen.block(validateOneOf),cxt.result(valid,()=>cxt.reset(),()=>cxt.error(!0));function validateOneOf(){schArr.forEach((sch,i)=>{let schCxt;(0,util_1.alwaysValidSchema)(it,sch)?gen.var(schValid,!0):schCxt=cxt.subschema({keyword:"oneOf",schemaProp:i,compositeRule:!0},schValid),i>0&&gen.if((0,codegen_1._)`${schValid} && ${valid}`).assign(valid,!1).assign(passing,(0,codegen_1._)`[${passing}, ${i}]`).else(),gen.if(schValid,()=>{gen.assign(valid,!0),gen.assign(passing,i),schCxt&&cxt.mergeEvaluated(schCxt,codegen_1.Name)})})}}};exports2.default=def}});var require_allOf=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/applicator/allOf.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var util_1=require_util(),def={keyword:"allOf",schemaType:"array",code(cxt){let{gen,schema,it}=cxt;if(!Array.isArray(schema))throw new Error("ajv implementation error");let valid=gen.name("valid");schema.forEach((sch,i)=>{if((0,util_1.alwaysValidSchema)(it,sch))return;let schCxt=cxt.subschema({keyword:"allOf",schemaProp:i},valid);cxt.ok(valid),cxt.mergeEvaluated(schCxt)})}};exports2.default=def}});var require_if=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/applicator/if.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var codegen_1=require_codegen(),util_1=require_util(),error={message:({params})=>(0,codegen_1.str)`must match "${params.ifClause}" schema`,params:({params})=>(0,codegen_1._)`{failingKeyword: ${params.ifClause}}`},def={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error,code(cxt){let{gen,parentSchema,it}=cxt;parentSchema.then===void 0&&parentSchema.else===void 0&&(0,util_1.checkStrictMode)(it,'"if" without "then" and "else" is ignored');let hasThen=hasSchema(it,"then"),hasElse=hasSchema(it,"else");if(!hasThen&&!hasElse)return;let valid=gen.let("valid",!0),schValid=gen.name("_valid");if(validateIf(),cxt.reset(),hasThen&&hasElse){let ifClause=gen.let("ifClause");cxt.setParams({ifClause}),gen.if(schValid,validateClause("then",ifClause),validateClause("else",ifClause))}else hasThen?gen.if(schValid,validateClause("then")):gen.if((0,codegen_1.not)(schValid),validateClause("else"));cxt.pass(valid,()=>cxt.error(!0));function validateIf(){let schCxt=cxt.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},schValid);cxt.mergeEvaluated(schCxt)}function validateClause(keyword,ifClause){return()=>{let schCxt=cxt.subschema({keyword},schValid);gen.assign(valid,schValid),cxt.mergeValidEvaluated(schCxt,valid),ifClause?gen.assign(ifClause,(0,codegen_1._)`${keyword}`):cxt.setParams({ifClause:keyword})}}}};function hasSchema(it,keyword){let schema=it.schema[keyword];return schema!==void 0&&!(0,util_1.alwaysValidSchema)(it,schema)}exports2.default=def}});var require_thenElse=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var util_1=require_util(),def={keyword:["then","else"],schemaType:["object","boolean"],code({keyword,parentSchema,it}){parentSchema.if===void 0&&(0,util_1.checkStrictMode)(it,`"${keyword}" without "if" is ignored`)}};exports2.default=def}});var require_applicator=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/applicator/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var additionalItems_1=require_additionalItems(),prefixItems_1=require_prefixItems(),items_1=require_items(),items2020_1=require_items2020(),contains_1=require_contains(),dependencies_1=require_dependencies(),propertyNames_1=require_propertyNames(),additionalProperties_1=require_additionalProperties(),properties_1=require_properties(),patternProperties_1=require_patternProperties(),not_1=require_not(),anyOf_1=require_anyOf(),oneOf_1=require_oneOf(),allOf_1=require_allOf(),if_1=require_if(),thenElse_1=require_thenElse();function getApplicator(draft2020=!1){let applicator=[not_1.default,anyOf_1.default,oneOf_1.default,allOf_1.default,if_1.default,thenElse_1.default,propertyNames_1.default,additionalProperties_1.default,dependencies_1.default,properties_1.default,patternProperties_1.default];return draft2020?applicator.push(prefixItems_1.default,items2020_1.default):applicator.push(additionalItems_1.default,items_1.default),applicator.push(contains_1.default),applicator}exports2.default=getApplicator}});var require_format=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/format/format.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var codegen_1=require_codegen(),error={message:({schemaCode})=>(0,codegen_1.str)`must match format "${schemaCode}"`,params:({schemaCode})=>(0,codegen_1._)`{format: ${schemaCode}}`},def={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error,code(cxt,ruleType){let{gen,data,$data,schema,schemaCode,it}=cxt,{opts,errSchemaPath,schemaEnv,self:self2}=it;if(!opts.validateFormats)return;$data?validate$DataFormat():validateFormat();function validate$DataFormat(){let fmts=gen.scopeValue("formats",{ref:self2.formats,code:opts.code.formats}),fDef=gen.const("fDef",(0,codegen_1._)`${fmts}[${schemaCode}]`),fType=gen.let("fType"),format2=gen.let("format");gen.if((0,codegen_1._)`typeof ${fDef} == "object" && !(${fDef} instanceof RegExp)`,()=>gen.assign(fType,(0,codegen_1._)`${fDef}.type || "string"`).assign(format2,(0,codegen_1._)`${fDef}.validate`),()=>gen.assign(fType,(0,codegen_1._)`"string"`).assign(format2,fDef)),cxt.fail$data((0,codegen_1.or)(unknownFmt(),invalidFmt()));function unknownFmt(){return opts.strictSchema===!1?codegen_1.nil:(0,codegen_1._)`${schemaCode} && !${format2}`}function invalidFmt(){let callFormat=schemaEnv.$async?(0,codegen_1._)`(${fDef}.async ? await ${format2}(${data}) : ${format2}(${data}))`:(0,codegen_1._)`${format2}(${data})`,validData=(0,codegen_1._)`(typeof ${format2} == "function" ? ${callFormat} : ${format2}.test(${data}))`;return(0,codegen_1._)`${format2} && ${format2} !== true && ${fType} === ${ruleType} && !${validData}`}}function validateFormat(){let formatDef=self2.formats[schema];if(!formatDef){unknownFormat();return}if(formatDef===!0)return;let[fmtType,format2,fmtRef]=getFormat(formatDef);fmtType===ruleType&&cxt.pass(validCondition());function unknownFormat(){if(opts.strictSchema===!1){self2.logger.warn(unknownMsg());return}throw new Error(unknownMsg());function unknownMsg(){return`unknown format "${schema}" ignored in schema at path "${errSchemaPath}"`}}function getFormat(fmtDef){let code2=fmtDef instanceof RegExp?(0,codegen_1.regexpCode)(fmtDef):opts.code.formats?(0,codegen_1._)`${opts.code.formats}${(0,codegen_1.getProperty)(schema)}`:void 0,fmt=gen.scopeValue("formats",{key:schema,ref:fmtDef,code:code2});return typeof fmtDef=="object"&&!(fmtDef instanceof RegExp)?[fmtDef.type||"string",fmtDef.validate,(0,codegen_1._)`${fmt}.validate`]:["string",fmtDef,fmt]}function validCondition(){if(typeof formatDef=="object"&&!(formatDef instanceof RegExp)&&formatDef.async){if(!schemaEnv.$async)throw new Error("async format in sync schema");return(0,codegen_1._)`await ${fmtRef}(${data})`}return typeof format2=="function"?(0,codegen_1._)`${fmtRef}(${data})`:(0,codegen_1._)`${fmtRef}.test(${data})`}}}};exports2.default=def}});var require_format2=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/format/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var format_1=require_format(),format2=[format_1.default];exports2.default=format2}});var require_metadata=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/metadata.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.contentVocabulary=exports2.metadataVocabulary=void 0;exports2.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];exports2.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}});var require_draft7=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/draft7.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var core_1=require_core2(),validation_1=require_validation2(),applicator_1=require_applicator(),format_1=require_format2(),metadata_1=require_metadata(),draft7Vocabularies=[core_1.default,validation_1.default,(0,applicator_1.default)(),format_1.default,metadata_1.metadataVocabulary,metadata_1.contentVocabulary];exports2.default=draft7Vocabularies}});var require_types=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/discriminator/types.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.DiscrError=void 0;var DiscrError;(function(DiscrError2){DiscrError2.Tag="tag",DiscrError2.Mapping="mapping"})(DiscrError||(exports2.DiscrError=DiscrError={}))}});var require_discriminator=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/discriminator/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var codegen_1=require_codegen(),types_1=require_types(),compile_1=require_compile(),ref_error_1=require_ref_error(),util_1=require_util(),error={message:({params:{discrError,tagName}})=>discrError===types_1.DiscrError.Tag?`tag "${tagName}" must be string`:`value of tag "${tagName}" must be in oneOf`,params:({params:{discrError,tag,tagName}})=>(0,codegen_1._)`{error: ${discrError}, tag: ${tagName}, tagValue: ${tag}}`},def={keyword:"discriminator",type:"object",schemaType:"object",error,code(cxt){let{gen,data,schema,parentSchema,it}=cxt,{oneOf}=parentSchema;if(!it.opts.discriminator)throw new Error("discriminator: requires discriminator option");let tagName=schema.propertyName;if(typeof tagName!="string")throw new Error("discriminator: requires propertyName");if(schema.mapping)throw new Error("discriminator: mapping is not supported");if(!oneOf)throw new Error("discriminator: requires oneOf keyword");let valid=gen.let("valid",!1),tag=gen.const("tag",(0,codegen_1._)`${data}${(0,codegen_1.getProperty)(tagName)}`);gen.if((0,codegen_1._)`typeof ${tag} == "string"`,()=>validateMapping(),()=>cxt.error(!1,{discrError:types_1.DiscrError.Tag,tag,tagName})),cxt.ok(valid);function validateMapping(){let mapping=getMapping();gen.if(!1);for(let tagValue in mapping)gen.elseIf((0,codegen_1._)`${tag} === ${tagValue}`),gen.assign(valid,applyTagSchema(mapping[tagValue]));gen.else(),cxt.error(!1,{discrError:types_1.DiscrError.Mapping,tag,tagName}),gen.endIf()}function applyTagSchema(schemaProp){let _valid=gen.name("valid"),schCxt=cxt.subschema({keyword:"oneOf",schemaProp},_valid);return cxt.mergeEvaluated(schCxt,codegen_1.Name),_valid}function getMapping(){var _a2;let oneOfMapping={},topRequired=hasRequired(parentSchema),tagRequired=!0;for(let i=0;i<oneOf.length;i++){let sch=oneOf[i];if(sch?.$ref&&!(0,util_1.schemaHasRulesButRef)(sch,it.self.RULES)){let ref=sch.$ref;if(sch=compile_1.resolveRef.call(it.self,it.schemaEnv.root,it.baseId,ref),sch instanceof compile_1.SchemaEnv&&(sch=sch.schema),sch===void 0)throw new ref_error_1.default(it.opts.uriResolver,it.baseId,ref)}let propSch=(_a2=sch?.properties)===null||_a2===void 0?void 0:_a2[tagName];if(typeof propSch!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${tagName}"`);tagRequired=tagRequired&&(topRequired||hasRequired(sch)),addMappings(propSch,i)}if(!tagRequired)throw new Error(`discriminator: "${tagName}" must be required`);return oneOfMapping;function hasRequired({required}){return Array.isArray(required)&&required.includes(tagName)}function addMappings(sch,i){if(sch.const)addMapping(sch.const,i);else if(sch.enum)for(let tagValue of sch.enum)addMapping(tagValue,i);else throw new Error(`discriminator: "properties/${tagName}" must have "const" or "enum"`)}function addMapping(tagValue,i){if(typeof tagValue!="string"||tagValue in oneOfMapping)throw new Error(`discriminator: "${tagName}" values must be unique strings`);oneOfMapping[tagValue]=i}}}};exports2.default=def}});var require_json_schema_draft_07=__commonJS({"../../../../node_modules/ajv/dist/refs/json-schema-draft-07.json"(exports2,module2){module2.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}});var require_ajv=__commonJS({"../../../../node_modules/ajv/dist/ajv.js"(exports2,module2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.MissingRefError=exports2.ValidationError=exports2.CodeGen=exports2.Name=exports2.nil=exports2.stringify=exports2.str=exports2._=exports2.KeywordCxt=exports2.Ajv=void 0;var core_1=require_core(),draft7_1=require_draft7(),discriminator_1=require_discriminator(),draft7MetaSchema=require_json_schema_draft_07(),META_SUPPORT_DATA=["/properties"],META_SCHEMA_ID="http://json-schema.org/draft-07/schema",Ajv=class extends core_1.default{_addVocabularies(){super._addVocabularies(),draft7_1.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(discriminator_1.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let metaSchema=this.opts.$data?this.$dataMetaSchema(draft7MetaSchema,META_SUPPORT_DATA):draft7MetaSchema;this.addMetaSchema(metaSchema,META_SCHEMA_ID,!1),this.refs["http://json-schema.org/schema"]=META_SCHEMA_ID}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(META_SCHEMA_ID)?META_SCHEMA_ID:void 0)}};exports2.Ajv=Ajv;module2.exports=exports2=Ajv;module2.exports.Ajv=Ajv;Object.defineProperty(exports2,"__esModule",{value:!0});exports2.default=Ajv;var validate_1=require_validate();Object.defineProperty(exports2,"KeywordCxt",{enumerable:!0,get:function(){return validate_1.KeywordCxt}});var codegen_1=require_codegen();Object.defineProperty(exports2,"_",{enumerable:!0,get:function(){return codegen_1._}});Object.defineProperty(exports2,"str",{enumerable:!0,get:function(){return codegen_1.str}});Object.defineProperty(exports2,"stringify",{enumerable:!0,get:function(){return codegen_1.stringify}});Object.defineProperty(exports2,"nil",{enumerable:!0,get:function(){return codegen_1.nil}});Object.defineProperty(exports2,"Name",{enumerable:!0,get:function(){return codegen_1.Name}});Object.defineProperty(exports2,"CodeGen",{enumerable:!0,get:function(){return codegen_1.CodeGen}});var validation_error_1=require_validation_error();Object.defineProperty(exports2,"ValidationError",{enumerable:!0,get:function(){return validation_error_1.default}});var ref_error_1=require_ref_error();Object.defineProperty(exports2,"MissingRefError",{enumerable:!0,get:function(){return ref_error_1.default}})}});var require_metadata2=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/jtd/metadata.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.checkMetadata=void 0;var util_1=require_util(),def={keyword:"metadata",schemaType:"object",code(cxt){checkMetadata(cxt);let{gen,schema,it}=cxt;if((0,util_1.alwaysValidSchema)(it,schema))return;let valid=gen.name("valid");cxt.subschema({keyword:"metadata",jtdMetadata:!0},valid),cxt.ok(valid)}};function checkMetadata({it,keyword},metadata){if(it.jtdMetadata!==metadata)throw new Error(`JTD: "${keyword}" cannot be used in this schema location`)}exports2.checkMetadata=checkMetadata;exports2.default=def}});var require_ref2=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/jtd/ref.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.hasRef=void 0;var compile_1=require_compile(),codegen_1=require_codegen(),ref_error_1=require_ref_error(),names_1=require_names(),ref_1=require_ref(),metadata_1=require_metadata2(),def={keyword:"ref",schemaType:"string",code(cxt){(0,metadata_1.checkMetadata)(cxt);let{gen,data,schema:ref,parentSchema,it}=cxt,{schemaEnv:{root}}=it,valid=gen.name("valid");parentSchema.nullable?(gen.var(valid,(0,codegen_1._)`${data} === null`),gen.if((0,codegen_1.not)(valid),validateJtdRef)):(gen.var(valid,!1),validateJtdRef()),cxt.ok(valid);function validateJtdRef(){var _a2;let refSchema=(_a2=root.schema.definitions)===null||_a2===void 0?void 0:_a2[ref];if(!refSchema)throw new ref_error_1.default(it.opts.uriResolver,"",ref,`No definition ${ref}`);hasRef(refSchema)||!it.opts.inlineRefs?callValidate(refSchema):inlineRefSchema(refSchema)}function callValidate(schema){let sch=compile_1.compileSchema.call(it.self,new compile_1.SchemaEnv({schema,root,schemaPath:`/definitions/${ref}`})),v=(0,ref_1.getValidate)(cxt,sch),errsCount=gen.const("_errs",names_1.default.errors);(0,ref_1.callRef)(cxt,v,sch,sch.$async),gen.assign(valid,(0,codegen_1._)`${errsCount} === ${names_1.default.errors}`)}function inlineRefSchema(schema){let schName=gen.scopeValue("schema",it.opts.code.source===!0?{ref:schema,code:(0,codegen_1.stringify)(schema)}:{ref:schema});cxt.subschema({schema,dataTypes:[],schemaPath:codegen_1.nil,topSchemaRef:schName,errSchemaPath:`/definitions/${ref}`},valid)}}};function hasRef(schema){for(let key in schema){let sch;if(key==="ref"||typeof(sch=schema[key])=="object"&&hasRef(sch))return!0}return!1}exports2.hasRef=hasRef;exports2.default=def}});var require_timestamp=__commonJS({"../../../../node_modules/ajv/dist/runtime/timestamp.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var DT_SEPARATOR=/t|\s/i,DATE=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,TIME=/^(\d\d):(\d\d):(\d\d)(?:\.\d+)?(?:z|([+-]\d\d)(?::?(\d\d))?)$/i,DAYS=[0,31,28,31,30,31,30,31,31,30,31,30,31];function validTimestamp(str,allowDate){let dt=str.split(DT_SEPARATOR);return dt.length===2&&validDate(dt[0])&&validTime(dt[1])||allowDate&&dt.length===1&&validDate(dt[0])}exports2.default=validTimestamp;function validDate(str){let matches=DATE.exec(str);if(!matches)return!1;let y=+matches[1],m=+matches[2],d=+matches[3];return m>=1&&m<=12&&d>=1&&(d<=DAYS[m]||m===2&&d===29&&(y%100===0?y%400===0:y%4===0))}function validTime(str){let matches=TIME.exec(str);if(!matches)return!1;let hr2=+matches[1],min=+matches[2],sec=+matches[3],tzH=+(matches[4]||0),tzM=+(matches[5]||0);return hr2<=23&&min<=59&&sec<=59||hr2-tzH===23&&min-tzM===59&&sec===60}validTimestamp.code='require("ajv/dist/runtime/timestamp").default'}});var require_error2=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/jtd/error.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.typeErrorParams=exports2.typeErrorMessage=exports2.typeError=void 0;var codegen_1=require_codegen();function typeError(t){return{message:cxt=>typeErrorMessage(cxt,t),params:cxt=>typeErrorParams(cxt,t)}}exports2.typeError=typeError;function typeErrorMessage({parentSchema},t){return parentSchema?.nullable?`must be ${t} or null`:`must be ${t}`}exports2.typeErrorMessage=typeErrorMessage;function typeErrorParams({parentSchema},t){return(0,codegen_1._)`{type: ${t}, nullable: ${!!parentSchema?.nullable}}`}exports2.typeErrorParams=typeErrorParams}});var require_type=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/jtd/type.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.intRange=void 0;var codegen_1=require_codegen(),timestamp_1=require_timestamp(),util_1=require_util(),metadata_1=require_metadata2(),error_1=require_error2();exports2.intRange={int8:[-128,127,3],uint8:[0,255,3],int16:[-32768,32767,5],uint16:[0,65535,5],int32:[-2147483648,2147483647,10],uint32:[0,4294967295,10]};var error={message:cxt=>(0,error_1.typeErrorMessage)(cxt,cxt.schema),params:cxt=>(0,error_1.typeErrorParams)(cxt,cxt.schema)};function timestampCode(cxt){let{gen,data,it}=cxt,{timestamp,allowDate}=it.opts;if(timestamp==="date")return(0,codegen_1._)`${data} instanceof Date `;let vts=(0,util_1.useFunc)(gen,timestamp_1.default),allowDateArg=allowDate?(0,codegen_1._)`, true`:codegen_1.nil,validString=(0,codegen_1._)`typeof ${data} == "string" && ${vts}(${data}${allowDateArg})`;return timestamp==="string"?validString:(0,codegen_1.or)((0,codegen_1._)`${data} instanceof Date`,validString)}var def={keyword:"type",schemaType:"string",error,code(cxt){(0,metadata_1.checkMetadata)(cxt);let{data,schema,parentSchema,it}=cxt,cond;switch(schema){case"boolean":case"string":cond=(0,codegen_1._)`typeof ${data} == ${schema}`;break;case"timestamp":{cond=timestampCode(cxt);break}case"float32":case"float64":cond=(0,codegen_1._)`typeof ${data} == "number"`;break;default:{let sch=schema;if(cond=(0,codegen_1._)`typeof ${data} == "number" && isFinite(${data}) && !(${data} % 1)`,!it.opts.int32range&&(sch==="int32"||sch==="uint32"))sch==="uint32"&&(cond=(0,codegen_1._)`${cond} && ${data} >= 0`);else{let[min,max]=exports2.intRange[sch];cond=(0,codegen_1._)`${cond} && ${data} >= ${min} && ${data} <= ${max}`}}}cxt.pass(parentSchema.nullable?(0,codegen_1.or)((0,codegen_1._)`${data} === null`,cond):cond)}};exports2.default=def}});var require_nullable=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/jtd/nullable.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.checkNullableObject=exports2.checkNullable=void 0;var codegen_1=require_codegen();function checkNullable({gen,data,parentSchema},cond=codegen_1.nil){let valid=gen.name("valid");return parentSchema.nullable?(gen.let(valid,(0,codegen_1._)`${data} === null`),cond=(0,codegen_1.not)(valid)):gen.let(valid,!1),[valid,cond]}exports2.checkNullable=checkNullable;function checkNullableObject(cxt,cond){let[valid,cond_]=checkNullable(cxt,cond);return[valid,(0,codegen_1._)`${cond_} && typeof ${cxt.data} == "object" && !Array.isArray(${cxt.data})`]}exports2.checkNullableObject=checkNullableObject}});var require_enum2=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/jtd/enum.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var codegen_1=require_codegen(),metadata_1=require_metadata2(),nullable_1=require_nullable(),error={message:"must be equal to one of the allowed values",params:({schemaCode})=>(0,codegen_1._)`{allowedValues: ${schemaCode}}`},def={keyword:"enum",schemaType:"array",error,code(cxt){(0,metadata_1.checkMetadata)(cxt);let{gen,data,schema,schemaValue,parentSchema,it}=cxt;if(schema.length===0)throw new Error("enum must have non-empty array");if(schema.length!==new Set(schema).size)throw new Error("enum items must be unique");let valid,isString4=(0,codegen_1._)`typeof ${data} == "string"`;if(schema.length>=it.opts.loopEnum){let cond;[valid,cond]=(0,nullable_1.checkNullable)(cxt,isString4),gen.if(cond,loopEnum)}else{if(!Array.isArray(schema))throw new Error("ajv implementation error");valid=(0,codegen_1.and)(isString4,(0,codegen_1.or)(...schema.map(value=>(0,codegen_1._)`${data} === ${value}`))),parentSchema.nullable&&(valid=(0,codegen_1.or)((0,codegen_1._)`${data} === null`,valid))}cxt.pass(valid);function loopEnum(){gen.forOf("v",schemaValue,v=>gen.if((0,codegen_1._)`${valid} = ${data} === ${v}`,()=>gen.break()))}}};exports2.default=def}});var require_elements=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/jtd/elements.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var util_1=require_util(),code_1=require_code2(),codegen_1=require_codegen(),metadata_1=require_metadata2(),nullable_1=require_nullable(),error_1=require_error2(),def={keyword:"elements",schemaType:"object",error:(0,error_1.typeError)("array"),code(cxt){(0,metadata_1.checkMetadata)(cxt);let{gen,data,schema,it}=cxt;if((0,util_1.alwaysValidSchema)(it,schema))return;let[valid]=(0,nullable_1.checkNullable)(cxt);gen.if((0,codegen_1.not)(valid),()=>gen.if((0,codegen_1._)`Array.isArray(${data})`,()=>gen.assign(valid,(0,code_1.validateArray)(cxt)),()=>cxt.error())),cxt.ok(valid)}};exports2.default=def}});var require_properties2=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/jtd/properties.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.validateProperties=exports2.error=void 0;var code_1=require_code2(),util_1=require_util(),codegen_1=require_codegen(),metadata_1=require_metadata2(),nullable_1=require_nullable(),error_1=require_error2(),PropError;(function(PropError2){PropError2.Additional="additional",PropError2.Missing="missing"})(PropError||(PropError={}));exports2.error={message:cxt=>{let{params}=cxt;return params.propError?params.propError===PropError.Additional?"must NOT have additional properties":`must have property '${params.missingProperty}'`:(0,error_1.typeErrorMessage)(cxt,"object")},params:cxt=>{let{params}=cxt;return params.propError?params.propError===PropError.Additional?(0,codegen_1._)`{error: ${params.propError}, additionalProperty: ${params.additionalProperty}}`:(0,codegen_1._)`{error: ${params.propError}, missingProperty: ${params.missingProperty}}`:(0,error_1.typeErrorParams)(cxt,"object")}};var def={keyword:"properties",schemaType:"object",error:exports2.error,code:validateProperties};function validateProperties(cxt){(0,metadata_1.checkMetadata)(cxt);let{gen,data,parentSchema,it}=cxt,{additionalProperties,nullable}=parentSchema;if(it.jtdDiscriminator&&nullable)throw new Error("JTD: nullable inside discriminator mapping");if(commonProperties())throw new Error("JTD: properties and optionalProperties have common members");let[allProps,properties]=schemaProperties("properties"),[allOptProps,optProperties]=schemaProperties("optionalProperties");if(properties.length===0&&optProperties.length===0&&additionalProperties)return;let[valid,cond]=it.jtdDiscriminator===void 0?(0,nullable_1.checkNullableObject)(cxt,data):[gen.let("valid",!1),!0];gen.if(cond,()=>gen.assign(valid,!0).block(()=>{validateProps(properties,"properties",!0),validateProps(optProperties,"optionalProperties"),additionalProperties||validateAdditional()})),cxt.pass(valid);function commonProperties(){let props=parentSchema.properties,optProps=parentSchema.optionalProperties;if(!(props&&optProps))return!1;for(let p in props)if(Object.prototype.hasOwnProperty.call(optProps,p))return!0;return!1}function schemaProperties(keyword){let schema=parentSchema[keyword],allPs=schema?(0,code_1.allSchemaProperties)(schema):[];if(it.jtdDiscriminator&&allPs.some(p=>p===it.jtdDiscriminator))throw new Error(`JTD: discriminator tag used in ${keyword}`);let ps=allPs.filter(p=>!(0,util_1.alwaysValidSchema)(it,schema[p]));return[allPs,ps]}function validateProps(props,keyword,required){let _valid=gen.var("valid");for(let prop of props)gen.if((0,code_1.propertyInData)(gen,data,prop,it.opts.ownProperties),()=>applyPropertySchema(prop,keyword,_valid),()=>missingProperty(prop)),cxt.ok(_valid);function missingProperty(prop){required?(gen.assign(_valid,!1),cxt.error(!1,{propError:PropError.Missing,missingProperty:prop},{schemaPath:prop})):gen.assign(_valid,!0)}}function applyPropertySchema(prop,keyword,_valid){cxt.subschema({keyword,schemaProp:prop,dataProp:prop},_valid)}function validateAdditional(){gen.forIn("key",data,key=>{let addProp=isAdditional(key,allProps,"properties",it.jtdDiscriminator),addOptProp=isAdditional(key,allOptProps,"optionalProperties"),extra=addProp===!0?addOptProp:addOptProp===!0?addProp:(0,codegen_1.and)(addProp,addOptProp);gen.if(extra,()=>{it.opts.removeAdditional?gen.code((0,codegen_1._)`delete ${data}[${key}]`):(cxt.error(!1,{propError:PropError.Additional,additionalProperty:key},{instancePath:key,parentSchema:!0}),it.opts.allErrors||gen.break())})})}function isAdditional(key,props,keyword,jtdDiscriminator){let additional;if(props.length>8){let propsSchema=(0,util_1.schemaRefOrVal)(it,parentSchema[keyword],keyword);additional=(0,codegen_1.not)((0,code_1.isOwnProperty)(gen,propsSchema,key)),jtdDiscriminator!==void 0&&(additional=(0,codegen_1.and)(additional,(0,codegen_1._)`${key} !== ${jtdDiscriminator}`))}else if(props.length||jtdDiscriminator!==void 0){let ps=jtdDiscriminator===void 0?props:[jtdDiscriminator].concat(props);additional=(0,codegen_1.and)(...ps.map(p=>(0,codegen_1._)`${key} !== ${p}`))}else additional=!0;return additional}}exports2.validateProperties=validateProperties;exports2.default=def}});var require_optionalProperties=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/jtd/optionalProperties.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var properties_1=require_properties2(),def={keyword:"optionalProperties",schemaType:"object",error:properties_1.error,code(cxt){cxt.parentSchema.properties||(0,properties_1.validateProperties)(cxt)}};exports2.default=def}});var require_discriminator2=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/jtd/discriminator.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var codegen_1=require_codegen(),metadata_1=require_metadata2(),nullable_1=require_nullable(),error_1=require_error2(),types_1=require_types(),error={message:cxt=>{let{schema,params}=cxt;return params.discrError?params.discrError===types_1.DiscrError.Tag?`tag "${schema}" must be string`:`value of tag "${schema}" must be in mapping`:(0,error_1.typeErrorMessage)(cxt,"object")},params:cxt=>{let{schema,params}=cxt;return params.discrError?(0,codegen_1._)`{error: ${params.discrError}, tag: ${schema}, tagValue: ${params.tag}}`:(0,error_1.typeErrorParams)(cxt,"object")}},def={keyword:"discriminator",schemaType:"string",implements:["mapping"],error,code(cxt){(0,metadata_1.checkMetadata)(cxt);let{gen,data,schema,parentSchema}=cxt,[valid,cond]=(0,nullable_1.checkNullableObject)(cxt,data);gen.if(cond),validateDiscriminator(),gen.elseIf((0,codegen_1.not)(valid)),cxt.error(),gen.endIf(),cxt.ok(valid);function validateDiscriminator(){let tag=gen.const("tag",(0,codegen_1._)`${data}${(0,codegen_1.getProperty)(schema)}`);gen.if((0,codegen_1._)`${tag} === undefined`),cxt.error(!1,{discrError:types_1.DiscrError.Tag,tag}),gen.elseIf((0,codegen_1._)`typeof ${tag} == "string"`),validateMapping(tag),gen.else(),cxt.error(!1,{discrError:types_1.DiscrError.Tag,tag},{instancePath:schema}),gen.endIf()}function validateMapping(tag){gen.if(!1);for(let tagValue in parentSchema.mapping)gen.elseIf((0,codegen_1._)`${tag} === ${tagValue}`),gen.assign(valid,applyTagSchema(tagValue));gen.else(),cxt.error(!1,{discrError:types_1.DiscrError.Mapping,tag},{instancePath:schema,schemaPath:"mapping",parentSchema:!0}),gen.endIf()}function applyTagSchema(schemaProp){let _valid=gen.name("valid");return cxt.subschema({keyword:"mapping",schemaProp,jtdDiscriminator:schema},_valid),_valid}}};exports2.default=def}});var require_values=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/jtd/values.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var util_1=require_util(),codegen_1=require_codegen(),metadata_1=require_metadata2(),nullable_1=require_nullable(),error_1=require_error2(),def={keyword:"values",schemaType:"object",error:(0,error_1.typeError)("object"),code(cxt){(0,metadata_1.checkMetadata)(cxt);let{gen,data,schema,it}=cxt,[valid,cond]=(0,nullable_1.checkNullableObject)(cxt,data);(0,util_1.alwaysValidSchema)(it,schema)?gen.if((0,codegen_1.not)((0,codegen_1.or)(cond,valid)),()=>cxt.error()):(gen.if(cond),gen.assign(valid,validateMap()),gen.elseIf((0,codegen_1.not)(valid)),cxt.error(),gen.endIf()),cxt.ok(valid);function validateMap(){let _valid=gen.name("valid");if(it.allErrors){let validMap=gen.let("valid",!0);return validateValues(()=>gen.assign(validMap,!1)),validMap}return gen.var(_valid,!0),validateValues(()=>gen.break()),_valid;function validateValues(notValid){gen.forIn("key",data,key=>{cxt.subschema({keyword:"values",dataProp:key,dataPropType:util_1.Type.Str},_valid),gen.if((0,codegen_1.not)(_valid),notValid)})}}}};exports2.default=def}});var require_union=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/jtd/union.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var code_1=require_code2(),def={keyword:"union",schemaType:"array",trackErrors:!0,code:code_1.validateUnion,error:{message:"must match a schema in union"}};exports2.default=def}});var require_jtd=__commonJS({"../../../../node_modules/ajv/dist/vocabularies/jtd/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var ref_1=require_ref2(),type_1=require_type(),enum_1=require_enum2(),elements_1=require_elements(),properties_1=require_properties2(),optionalProperties_1=require_optionalProperties(),discriminator_1=require_discriminator2(),values_1=require_values(),union_1=require_union(),metadata_1=require_metadata2(),jtdVocabulary=["definitions",ref_1.default,type_1.default,enum_1.default,elements_1.default,properties_1.default,optionalProperties_1.default,discriminator_1.default,values_1.default,union_1.default,metadata_1.default,{keyword:"additionalProperties",schemaType:"boolean"},{keyword:"nullable",schemaType:"boolean"}];exports2.default=jtdVocabulary}});var require_jtd_schema=__commonJS({"../../../../node_modules/ajv/dist/refs/jtd-schema.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var shared=root=>{let sch={nullable:{type:"boolean"},metadata:{optionalProperties:{union:{elements:{ref:"schema"}}},additionalProperties:!0}};return root&&(sch.definitions={values:{ref:"schema"}}),sch},emptyForm=root=>({optionalProperties:shared(root)}),refForm=root=>({properties:{ref:{type:"string"}},optionalProperties:shared(root)}),typeForm=root=>({properties:{type:{enum:["boolean","timestamp","string","float32","float64","int8","uint8","int16","uint16","int32","uint32"]}},optionalProperties:shared(root)}),enumForm=root=>({properties:{enum:{elements:{type:"string"}}},optionalProperties:shared(root)}),elementsForm=root=>({properties:{elements:{ref:"schema"}},optionalProperties:shared(root)}),propertiesForm=root=>({properties:{properties:{values:{ref:"schema"}}},optionalProperties:{optionalProperties:{values:{ref:"schema"}},additionalProperties:{type:"boolean"},...shared(root)}}),optionalPropertiesForm=root=>({properties:{optionalProperties:{values:{ref:"schema"}}},optionalProperties:{additionalProperties:{type:"boolean"},...shared(root)}}),discriminatorForm=root=>({properties:{discriminator:{type:"string"},mapping:{values:{metadata:{union:[propertiesForm(!1),optionalPropertiesForm(!1)]}}}},optionalProperties:shared(root)}),valuesForm=root=>({properties:{values:{ref:"schema"}},optionalProperties:shared(root)}),schema=root=>({metadata:{union:[emptyForm,refForm,typeForm,enumForm,elementsForm,propertiesForm,optionalPropertiesForm,discriminatorForm,valuesForm].map(s=>s(root))}}),jtdMetaSchema={definitions:{schema:schema(!1)},...schema(!0)};exports2.default=jtdMetaSchema}});var require_types2=__commonJS({"../../../../node_modules/ajv/dist/compile/jtd/types.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.jtdForms=void 0;exports2.jtdForms=["elements","values","discriminator","properties","optionalProperties","enum","type","ref"]}});var require_quote=__commonJS({"../../../../node_modules/ajv/dist/runtime/quote.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var rxEscapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escaped={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function quote(s){return rxEscapable.lastIndex=0,'"'+(rxEscapable.test(s)?s.replace(rxEscapable,a=>{let c=escaped[a];return typeof c=="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}):s)+'"'}exports2.default=quote;quote.code='require("ajv/dist/runtime/quote").default'}});var require_serialize=__commonJS({"../../../../node_modules/ajv/dist/compile/jtd/serialize.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var types_1=require_types2(),__1=require_compile(),codegen_1=require_codegen(),ref_error_1=require_ref_error(),names_1=require_names(),code_1=require_code2(),ref_1=require_ref2(),util_1=require_util(),quote_1=require_quote(),genSerialize={elements:serializeElements,values:serializeValues,discriminator:serializeDiscriminator,properties:serializeProperties,optionalProperties:serializeProperties,enum:serializeString,type:serializeType,ref:serializeRef};function compileSerializer(sch,definitions){let _sch=__1.getCompilingSchema.call(this,sch);if(_sch)return _sch;let{es5,lines}=this.opts.code,{ownProperties}=this.opts,gen=new codegen_1.CodeGen(this.scope,{es5,lines,ownProperties}),serializeName=gen.scopeName("serialize"),cxt={self:this,gen,schema:sch.schema,schemaEnv:sch,definitions,data:names_1.default.data},sourceCode;try{this._compilations.add(sch),sch.serializeName=serializeName,gen.func(serializeName,names_1.default.data,!1,()=>{gen.let(names_1.default.json,(0,codegen_1.str)``),serializeCode(cxt),gen.return(names_1.default.json)}),gen.optimize(this.opts.code.optimize);let serializeFuncCode=gen.toString();sourceCode=`${gen.scopeRefs(names_1.default.scope)}return ${serializeFuncCode}`;let serialize=new Function(`${names_1.default.scope}`,sourceCode)(this.scope.get());this.scope.value(serializeName,{ref:serialize}),sch.serialize=serialize}catch(e){throw sourceCode&&this.logger.error("Error compiling serializer, function code:",sourceCode),delete sch.serialize,delete sch.serializeName,e}finally{this._compilations.delete(sch)}return sch}exports2.default=compileSerializer;function serializeCode(cxt){let form;for(let key of types_1.jtdForms)if(key in cxt.schema){form=key;break}serializeNullable(cxt,form?genSerialize[form]:serializeEmpty)}function serializeNullable(cxt,serializeForm){let{gen,schema,data}=cxt;if(!schema.nullable)return serializeForm(cxt);gen.if((0,codegen_1._)`${data} === undefined || ${data} === null`,()=>gen.add(names_1.default.json,(0,codegen_1._)`"null"`),()=>serializeForm(cxt))}function serializeElements(cxt){let{gen,schema,data}=cxt;gen.add(names_1.default.json,(0,codegen_1.str)`[`);let first=gen.let("first",!0);gen.forOf("el",data,el=>{addComma(cxt,first),serializeCode({...cxt,schema:schema.elements,data:el})}),gen.add(names_1.default.json,(0,codegen_1.str)`]`)}function serializeValues(cxt){let{gen,schema,data}=cxt;gen.add(names_1.default.json,(0,codegen_1.str)`{`);let first=gen.let("first",!0);gen.forIn("key",data,key=>serializeKeyValue(cxt,key,schema.values,first)),gen.add(names_1.default.json,(0,codegen_1.str)`}`)}function serializeKeyValue(cxt,key,schema,first){let{gen,data}=cxt;addComma(cxt,first),serializeString({...cxt,data:key}),gen.add(names_1.default.json,(0,codegen_1.str)`:`);let value=gen.const("value",(0,codegen_1._)`${data}${(0,codegen_1.getProperty)(key)}`);serializeCode({...cxt,schema,data:value})}function serializeDiscriminator(cxt){let{gen,schema,data}=cxt,{discriminator}=schema;gen.add(names_1.default.json,(0,codegen_1.str)`{${JSON.stringify(discriminator)}:`);let tag=gen.const("tag",(0,codegen_1._)`${data}${(0,codegen_1.getProperty)(discriminator)}`);serializeString({...cxt,data:tag}),gen.if(!1);for(let tagValue in schema.mapping){gen.elseIf((0,codegen_1._)`${tag} === ${tagValue}`);let sch=schema.mapping[tagValue];serializeSchemaProperties({...cxt,schema:sch},discriminator)}gen.endIf(),gen.add(names_1.default.json,(0,codegen_1.str)`}`)}function serializeProperties(cxt){let{gen}=cxt;gen.add(names_1.default.json,(0,codegen_1.str)`{`),serializeSchemaProperties(cxt),gen.add(names_1.default.json,(0,codegen_1.str)`}`)}function serializeSchemaProperties(cxt,discriminator){let{gen,schema,data}=cxt,{properties,optionalProperties}=schema,props=keys2(properties),optProps=keys2(optionalProperties),allProps=allProperties(props.concat(optProps)),first=!discriminator,firstProp;for(let key of props)first?first=!1:gen.add(names_1.default.json,(0,codegen_1.str)`,`),serializeProperty(key,properties[key],keyValue(key));first&&(firstProp=gen.let("first",!0));for(let key of optProps){let value=keyValue(key);gen.if((0,codegen_1.and)((0,codegen_1._)`${value} !== undefined`,(0,code_1.isOwnProperty)(gen,data,key)),()=>{addComma(cxt,firstProp),serializeProperty(key,optionalProperties[key],value)})}schema.additionalProperties&&gen.forIn("key",data,key=>gen.if(isAdditional(key,allProps),()=>serializeKeyValue(cxt,key,{},firstProp)));function keys2(ps){return ps?Object.keys(ps):[]}function allProperties(ps){if(discriminator&&ps.push(discriminator),new Set(ps).size!==ps.length)throw new Error("JTD: properties/optionalProperties/disciminator overlap");return ps}function keyValue(key){return gen.const("value",(0,codegen_1._)`${data}${(0,codegen_1.getProperty)(key)}`)}function serializeProperty(key,propSchema,value){gen.add(names_1.default.json,(0,codegen_1.str)`${JSON.stringify(key)}:`),serializeCode({...cxt,schema:propSchema,data:value})}function isAdditional(key,ps){return ps.length?(0,codegen_1.and)(...ps.map(p=>(0,codegen_1._)`${key} !== ${p}`)):!0}}function serializeType(cxt){let{gen,schema,data}=cxt;switch(schema.type){case"boolean":gen.add(names_1.default.json,(0,codegen_1._)`${data} ? "true" : "false"`);break;case"string":serializeString(cxt);break;case"timestamp":gen.if((0,codegen_1._)`${data} instanceof Date`,()=>gen.add(names_1.default.json,(0,codegen_1._)`'"' + ${data}.toISOString() + '"'`),()=>serializeString(cxt));break;default:serializeNumber(cxt)}}function serializeString({gen,data}){gen.add(names_1.default.json,(0,codegen_1._)`${(0,util_1.useFunc)(gen,quote_1.default)}(${data})`)}function serializeNumber({gen,data}){gen.add(names_1.default.json,(0,codegen_1._)`"" + ${data}`)}function serializeRef(cxt){let{gen,self:self2,data,definitions,schema,schemaEnv}=cxt,{ref}=schema,refSchema=definitions[ref];if(!refSchema)throw new ref_error_1.default(self2.opts.uriResolver,"",ref,`No definition ${ref}`);if(!(0,ref_1.hasRef)(refSchema))return serializeCode({...cxt,schema:refSchema});let{root}=schemaEnv,sch=compileSerializer.call(self2,new __1.SchemaEnv({schema:refSchema,root}),definitions);gen.add(names_1.default.json,(0,codegen_1._)`${getSerialize(gen,sch)}(${data})`)}function getSerialize(gen,sch){return sch.serialize?gen.scopeValue("serialize",{ref:sch.serialize}):(0,codegen_1._)`${gen.scopeValue("wrapper",{ref:sch})}.serialize`}function serializeEmpty({gen,data}){gen.add(names_1.default.json,(0,codegen_1._)`JSON.stringify(${data})`)}function addComma({gen},first){first?gen.if(first,()=>gen.assign(first,!1),()=>gen.add(names_1.default.json,(0,codegen_1.str)`,`)):gen.add(names_1.default.json,(0,codegen_1.str)`,`)}}});var require_parseJson=__commonJS({"../../../../node_modules/ajv/dist/runtime/parseJson.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.parseJsonString=exports2.parseJsonNumber=exports2.parseJson=void 0;var rxParseJson=/position\s(\d+)(?: \(line \d+ column \d+\))?$/;function parseJson(s,pos){let endPos;parseJson.message=void 0;let matches;pos&&(s=s.slice(pos));try{return parseJson.position=pos+s.length,JSON.parse(s)}catch(e){if(matches=rxParseJson.exec(e.message),!matches){parseJson.message="unexpected end";return}endPos=+matches[1];let c=s[endPos];s=s.slice(0,endPos),parseJson.position=pos+endPos;try{return JSON.parse(s)}catch{parseJson.message=`unexpected token ${c}`;return}}}exports2.parseJson=parseJson;parseJson.message=void 0;parseJson.position=0;parseJson.code='require("ajv/dist/runtime/parseJson").parseJson';function parseJsonNumber(s,pos,maxDigits){let numStr="",c;if(parseJsonNumber.message=void 0,s[pos]==="-"&&(numStr+="-",pos++),s[pos]==="0")numStr+="0",pos++;else if(!parseDigits(maxDigits)){errorMessage();return}if(maxDigits)return parseJsonNumber.position=pos,+numStr;if(s[pos]==="."&&(numStr+=".",pos++,!parseDigits())){errorMessage();return}if(c=s[pos],(c==="e"||c==="E")&&(numStr+="e",pos++,c=s[pos],(c==="+"||c==="-")&&(numStr+=c,pos++),!parseDigits())){errorMessage();return}return parseJsonNumber.position=pos,+numStr;function parseDigits(maxLen){let digit=!1;for(;c=s[pos],c>="0"&&c<="9"&&(maxLen===void 0||maxLen-- >0);)digit=!0,numStr+=c,pos++;return digit}function errorMessage(){parseJsonNumber.position=pos,parseJsonNumber.message=pos<s.length?`unexpected token ${s[pos]}`:"unexpected end"}}exports2.parseJsonNumber=parseJsonNumber;parseJsonNumber.message=void 0;parseJsonNumber.position=0;parseJsonNumber.code='require("ajv/dist/runtime/parseJson").parseJsonNumber';var escapedChars={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},CODE_A=97,CODE_0=48;function parseJsonString2(s,pos){let str="",c;for(parseJsonString2.message=void 0;c=s[pos++],c!=='"';)if(c==="\\")if(c=s[pos],c in escapedChars)str+=escapedChars[c],pos++;else if(c==="u"){pos++;let count=4,code2=0;for(;count--;){if(code2<<=4,c=s[pos],c===void 0){errorMessage("unexpected end");return}if(c=c.toLowerCase(),c>="a"&&c<="f")code2+=c.charCodeAt(0)-CODE_A+10;else if(c>="0"&&c<="9")code2+=c.charCodeAt(0)-CODE_0;else{errorMessage(`unexpected token ${c}`);return}pos++}str+=String.fromCharCode(code2)}else{errorMessage(`unexpected token ${c}`);return}else if(c===void 0){errorMessage("unexpected end");return}else if(c.charCodeAt(0)>=32)str+=c;else{errorMessage(`unexpected token ${c}`);return}return parseJsonString2.position=pos,str;function errorMessage(msg){parseJsonString2.position=pos,parseJsonString2.message=msg}}exports2.parseJsonString=parseJsonString2;parseJsonString2.message=void 0;parseJsonString2.position=0;parseJsonString2.code='require("ajv/dist/runtime/parseJson").parseJsonString'}});var require_parse=__commonJS({"../../../../node_modules/ajv/dist/compile/jtd/parse.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var types_1=require_types2(),__1=require_compile(),codegen_1=require_codegen(),ref_error_1=require_ref_error(),names_1=require_names(),code_1=require_code2(),ref_1=require_ref2(),type_1=require_type(),parseJson_1=require_parseJson(),util_1=require_util(),timestamp_1=require_timestamp(),genParse={elements:parseElements,values:parseValues,discriminator:parseDiscriminator,properties:parseProperties,optionalProperties:parseProperties,enum:parseEnum,type:parseType,ref:parseRef};function compileParser(sch,definitions){let _sch=__1.getCompilingSchema.call(this,sch);if(_sch)return _sch;let{es5,lines}=this.opts.code,{ownProperties}=this.opts,gen=new codegen_1.CodeGen(this.scope,{es5,lines,ownProperties}),parseName=gen.scopeName("parse"),cxt={self:this,gen,schema:sch.schema,schemaEnv:sch,definitions,data:names_1.default.data,parseName,char:gen.name("c")},sourceCode;try{this._compilations.add(sch),sch.parseName=parseName,parserFunction(cxt),gen.optimize(this.opts.code.optimize);let parseFuncCode=gen.toString();sourceCode=`${gen.scopeRefs(names_1.default.scope)}return ${parseFuncCode}`;let parse2=new Function(`${names_1.default.scope}`,sourceCode)(this.scope.get());this.scope.value(parseName,{ref:parse2}),sch.parse=parse2}catch(e){throw sourceCode&&this.logger.error("Error compiling parser, function code:",sourceCode),delete sch.parse,delete sch.parseName,e}finally{this._compilations.delete(sch)}return sch}exports2.default=compileParser;var undef=(0,codegen_1._)`undefined`;function parserFunction(cxt){let{gen,parseName,char}=cxt;gen.func(parseName,(0,codegen_1._)`${names_1.default.json}, ${names_1.default.jsonPos}, ${names_1.default.jsonPart}`,!1,()=>{gen.let(names_1.default.data),gen.let(char),gen.assign((0,codegen_1._)`${parseName}.message`,undef),gen.assign((0,codegen_1._)`${parseName}.position`,undef),gen.assign(names_1.default.jsonPos,(0,codegen_1._)`${names_1.default.jsonPos} || 0`),gen.const(names_1.default.jsonLen,(0,codegen_1._)`${names_1.default.json}.length`),parseCode(cxt),skipWhitespace(cxt),gen.if(names_1.default.jsonPart,()=>{gen.assign((0,codegen_1._)`${parseName}.position`,names_1.default.jsonPos),gen.return(names_1.default.data)}),gen.if((0,codegen_1._)`${names_1.default.jsonPos} === ${names_1.default.jsonLen}`,()=>gen.return(names_1.default.data)),jsonSyntaxError(cxt)})}function parseCode(cxt){let form;for(let key of types_1.jtdForms)if(key in cxt.schema){form=key;break}form?parseNullable(cxt,genParse[form]):parseEmpty(cxt)}var parseBoolean=parseBooleanToken(!0,parseBooleanToken(!1,jsonSyntaxError));function parseNullable(cxt,parseForm){let{gen,schema,data}=cxt;if(!schema.nullable)return parseForm(cxt);tryParseToken(cxt,"null",parseForm,()=>gen.assign(data,null))}function parseElements(cxt){let{gen,schema,data}=cxt;parseToken(cxt,"[");let ix=gen.let("i",0);gen.assign(data,(0,codegen_1._)`[]`),parseItems(cxt,"]",()=>{let el=gen.let("el");parseCode({...cxt,schema:schema.elements,data:el}),gen.assign((0,codegen_1._)`${data}[${ix}++]`,el)})}function parseValues(cxt){let{gen,schema,data}=cxt;parseToken(cxt,"{"),gen.assign(data,(0,codegen_1._)`{}`),parseItems(cxt,"}",()=>parseKeyValue(cxt,schema.values))}function parseItems(cxt,endToken,block2){tryParseItems(cxt,endToken,block2),parseToken(cxt,endToken)}function tryParseItems(cxt,endToken,block2){let{gen}=cxt;gen.for((0,codegen_1._)`;${names_1.default.jsonPos}<${names_1.default.jsonLen} && ${jsonSlice(1)}!==${endToken};`,()=>{block2(),tryParseToken(cxt,",",()=>gen.break(),hasItem)});function hasItem(){tryParseToken(cxt,endToken,()=>{},jsonSyntaxError)}}function parseKeyValue(cxt,schema){let{gen}=cxt,key=gen.let("key");parseString2({...cxt,data:key}),parseToken(cxt,":"),parsePropertyValue(cxt,key,schema)}function parseDiscriminator(cxt){let{gen,data,schema}=cxt,{discriminator,mapping}=schema;parseToken(cxt,"{"),gen.assign(data,(0,codegen_1._)`{}`);let startPos=gen.const("pos",names_1.default.jsonPos),value=gen.let("value"),tag=gen.let("tag");tryParseItems(cxt,"}",()=>{let key=gen.let("key");parseString2({...cxt,data:key}),parseToken(cxt,":"),gen.if((0,codegen_1._)`${key} === ${discriminator}`,()=>{parseString2({...cxt,data:tag}),gen.assign((0,codegen_1._)`${data}[${key}]`,tag),gen.break()},()=>parseEmpty({...cxt,data:value}))}),gen.assign(names_1.default.jsonPos,startPos),gen.if((0,codegen_1._)`${tag} === undefined`),parsingError(cxt,(0,codegen_1.str)`discriminator tag not found`);for(let tagValue in mapping)gen.elseIf((0,codegen_1._)`${tag} === ${tagValue}`),parseSchemaProperties({...cxt,schema:mapping[tagValue]},discriminator);gen.else(),parsingError(cxt,(0,codegen_1.str)`discriminator value not in schema`),gen.endIf()}function parseProperties(cxt){let{gen,data}=cxt;parseToken(cxt,"{"),gen.assign(data,(0,codegen_1._)`{}`),parseSchemaProperties(cxt)}function parseSchemaProperties(cxt,discriminator){let{gen,schema,data}=cxt,{properties,optionalProperties,additionalProperties}=schema;if(parseItems(cxt,"}",()=>{let key=gen.let("key");if(parseString2({...cxt,data:key}),parseToken(cxt,":"),gen.if(!1),parseDefinedProperty(cxt,key,properties),parseDefinedProperty(cxt,key,optionalProperties),discriminator){gen.elseIf((0,codegen_1._)`${key} === ${discriminator}`);let tag=gen.let("tag");parseString2({...cxt,data:tag})}gen.else(),additionalProperties?parseEmpty({...cxt,data:(0,codegen_1._)`${data}[${key}]`}):parsingError(cxt,(0,codegen_1.str)`property ${key} not allowed`),gen.endIf()}),properties){let hasProp=(0,code_1.hasPropFunc)(gen),allProps=(0,codegen_1.and)(...Object.keys(properties).map(p=>(0,codegen_1._)`${hasProp}.call(${data}, ${p})`));gen.if((0,codegen_1.not)(allProps),()=>parsingError(cxt,(0,codegen_1.str)`missing required properties`))}}function parseDefinedProperty(cxt,key,schemas={}){let{gen}=cxt;for(let prop in schemas)gen.elseIf((0,codegen_1._)`${key} === ${prop}`),parsePropertyValue(cxt,key,schemas[prop])}function parsePropertyValue(cxt,key,schema){parseCode({...cxt,schema,data:(0,codegen_1._)`${cxt.data}[${key}]`})}function parseType(cxt){let{gen,schema,data,self:self2}=cxt;switch(schema.type){case"boolean":parseBoolean(cxt);break;case"string":parseString2(cxt);break;case"timestamp":{parseString2(cxt);let vts=(0,util_1.useFunc)(gen,timestamp_1.default),{allowDate,parseDate}=self2.opts,notValid=allowDate?(0,codegen_1._)`!${vts}(${data}, true)`:(0,codegen_1._)`!${vts}(${data})`,fail=parseDate?(0,codegen_1.or)(notValid,(0,codegen_1._)`(${data} = new Date(${data}), false)`,(0,codegen_1._)`isNaN(${data}.valueOf())`):notValid;gen.if(fail,()=>parsingError(cxt,(0,codegen_1.str)`invalid timestamp`));break}case"float32":case"float64":parseNumber(cxt);break;default:{let t=schema.type;if(!self2.opts.int32range&&(t==="int32"||t==="uint32"))parseNumber(cxt,16),t==="uint32"&&gen.if((0,codegen_1._)`${data} < 0`,()=>parsingError(cxt,(0,codegen_1.str)`integer out of range`));else{let[min,max,maxDigits]=type_1.intRange[t];parseNumber(cxt,maxDigits),gen.if((0,codegen_1._)`${data} < ${min} || ${data} > ${max}`,()=>parsingError(cxt,(0,codegen_1.str)`integer out of range`))}}}}function parseString2(cxt){parseToken(cxt,'"'),parseWith(cxt,parseJson_1.parseJsonString)}function parseEnum(cxt){let{gen,data,schema}=cxt,enumSch=schema.enum;parseToken(cxt,'"'),gen.if(!1);for(let value of enumSch){let valueStr=JSON.stringify(value).slice(1);gen.elseIf((0,codegen_1._)`${jsonSlice(valueStr.length)} === ${valueStr}`),gen.assign(data,(0,codegen_1.str)`${value}`),gen.add(names_1.default.jsonPos,valueStr.length)}gen.else(),jsonSyntaxError(cxt),gen.endIf()}function parseNumber(cxt,maxDigits){let{gen}=cxt;skipWhitespace(cxt),gen.if((0,codegen_1._)`"-0123456789".indexOf(${jsonSlice(1)}) < 0`,()=>jsonSyntaxError(cxt),()=>parseWith(cxt,parseJson_1.parseJsonNumber,maxDigits))}function parseBooleanToken(bool,fail){return cxt=>{let{gen,data}=cxt;tryParseToken(cxt,`${bool}`,()=>fail(cxt),()=>gen.assign(data,bool))}}function parseRef(cxt){let{gen,self:self2,definitions,schema,schemaEnv}=cxt,{ref}=schema,refSchema=definitions[ref];if(!refSchema)throw new ref_error_1.default(self2.opts.uriResolver,"",ref,`No definition ${ref}`);if(!(0,ref_1.hasRef)(refSchema))return parseCode({...cxt,schema:refSchema});let{root}=schemaEnv,sch=compileParser.call(self2,new __1.SchemaEnv({schema:refSchema,root}),definitions);partialParse(cxt,getParser(gen,sch),!0)}function getParser(gen,sch){return sch.parse?gen.scopeValue("parse",{ref:sch.parse}):(0,codegen_1._)`${gen.scopeValue("wrapper",{ref:sch})}.parse`}function parseEmpty(cxt){parseWith(cxt,parseJson_1.parseJson)}function parseWith(cxt,parseFunc,args){partialParse(cxt,(0,util_1.useFunc)(cxt.gen,parseFunc),args)}function partialParse(cxt,parseFunc,args){let{gen,data}=cxt;gen.assign(data,(0,codegen_1._)`${parseFunc}(${names_1.default.json}, ${names_1.default.jsonPos}${args?(0,codegen_1._)`, ${args}`:codegen_1.nil})`),gen.assign(names_1.default.jsonPos,(0,codegen_1._)`${parseFunc}.position`),gen.if((0,codegen_1._)`${data} === undefined`,()=>parsingError(cxt,(0,codegen_1._)`${parseFunc}.message`))}function parseToken(cxt,tok){tryParseToken(cxt,tok,jsonSyntaxError)}function tryParseToken(cxt,tok,fail,success){let{gen}=cxt,n=tok.length;skipWhitespace(cxt),gen.if((0,codegen_1._)`${jsonSlice(n)} === ${tok}`,()=>{gen.add(names_1.default.jsonPos,n),success?.(cxt)},()=>fail(cxt))}function skipWhitespace({gen,char:c}){gen.code((0,codegen_1._)`while((${c}=${names_1.default.json}[${names_1.default.jsonPos}],${c}===" "||${c}==="\\n"||${c}==="\\r"||${c}==="\\t"))${names_1.default.jsonPos}++;`)}function jsonSlice(len){return len===1?(0,codegen_1._)`${names_1.default.json}[${names_1.default.jsonPos}]`:(0,codegen_1._)`${names_1.default.json}.slice(${names_1.default.jsonPos}, ${names_1.default.jsonPos}+${len})`}function jsonSyntaxError(cxt){parsingError(cxt,(0,codegen_1._)`"unexpected token " + ${names_1.default.json}[${names_1.default.jsonPos}]`)}function parsingError({gen,parseName},msg){gen.assign((0,codegen_1._)`${parseName}.message`,msg),gen.assign((0,codegen_1._)`${parseName}.position`,names_1.default.jsonPos),gen.return(undef)}}});var require_jtd2=__commonJS({"../../../../node_modules/ajv/dist/jtd.js"(exports2,module2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.MissingRefError=exports2.ValidationError=exports2.CodeGen=exports2.Name=exports2.nil=exports2.stringify=exports2.str=exports2._=exports2.KeywordCxt=exports2.Ajv=void 0;var core_1=require_core(),jtd_1=require_jtd(),jtd_schema_1=require_jtd_schema(),serialize_1=require_serialize(),parse_1=require_parse(),META_SCHEMA_ID="JTD-meta-schema",Ajv=class extends core_1.default{constructor(opts={}){super({...opts,jtd:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(jtd_1.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema(),this.opts.meta&&this.addMetaSchema(jtd_schema_1.default,META_SCHEMA_ID,!1)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(META_SCHEMA_ID)?META_SCHEMA_ID:void 0)}compileSerializer(schema){let sch=this._addSchema(schema);return sch.serialize||this._compileSerializer(sch)}compileParser(schema){let sch=this._addSchema(schema);return sch.parse||this._compileParser(sch)}_compileSerializer(sch){if(serialize_1.default.call(this,sch,sch.schema.definitions||{}),!sch.serialize)throw new Error("ajv implementation error");return sch.serialize}_compileParser(sch){if(parse_1.default.call(this,sch,sch.schema.definitions||{}),!sch.parse)throw new Error("ajv implementation error");return sch.parse}};exports2.Ajv=Ajv;module2.exports=exports2=Ajv;module2.exports.Ajv=Ajv;Object.defineProperty(exports2,"__esModule",{value:!0});exports2.default=Ajv;var validate_1=require_validate();Object.defineProperty(exports2,"KeywordCxt",{enumerable:!0,get:function(){return validate_1.KeywordCxt}});var codegen_1=require_codegen();Object.defineProperty(exports2,"_",{enumerable:!0,get:function(){return codegen_1._}});Object.defineProperty(exports2,"str",{enumerable:!0,get:function(){return codegen_1.str}});Object.defineProperty(exports2,"stringify",{enumerable:!0,get:function(){return codegen_1.stringify}});Object.defineProperty(exports2,"nil",{enumerable:!0,get:function(){return codegen_1.nil}});Object.defineProperty(exports2,"Name",{enumerable:!0,get:function(){return codegen_1.Name}});Object.defineProperty(exports2,"CodeGen",{enumerable:!0,get:function(){return codegen_1.CodeGen}});var validation_error_1=require_validation_error();Object.defineProperty(exports2,"ValidationError",{enumerable:!0,get:function(){return validation_error_1.default}});var ref_error_1=require_ref_error();Object.defineProperty(exports2,"MissingRefError",{enumerable:!0,get:function(){return ref_error_1.default}})}});var require_default_ajv_options=__commonJS({"../../../../node_modules/@fastify/ajv-compiler/lib/default-ajv-options.js"(exports2,module2){"use strict";var fastUri=require_fast_uri();module2.exports=Object.freeze({coerceTypes:"array",useDefaults:!0,removeAdditional:!0,uriResolver:fastUri,addUsedSchema:!1,allErrors:!1})}});var require_formats=__commonJS({"../../../../node_modules/ajv-formats/dist/formats.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.formatNames=exports2.fastFormats=exports2.fullFormats=void 0;function fmtDef(validate,compare){return{validate,compare}}exports2.fullFormats={date:fmtDef(date,compareDate),time:fmtDef(getTime(!0),compareTime),"date-time":fmtDef(getDateTime(!0),compareDateTime),"iso-time":fmtDef(getTime(),compareIsoTime),"iso-date-time":fmtDef(getDateTime(),compareIsoDateTime),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte,int32:{type:"number",validate:validateInt32},int64:{type:"number",validate:validateInt64},float:{type:"number",validate:validateNumber},double:{type:"number",validate:validateNumber},password:!0,binary:!0};exports2.fastFormats={...exports2.fullFormats,date:fmtDef(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,compareDate),time:fmtDef(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,compareTime),"date-time":fmtDef(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,compareDateTime),"iso-time":fmtDef(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,compareIsoTime),"iso-date-time":fmtDef(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,compareIsoDateTime),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};exports2.formatNames=Object.keys(exports2.fullFormats);function isLeapYear(year){return year%4===0&&(year%100!==0||year%400===0)}var DATE=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,DAYS=[0,31,28,31,30,31,30,31,31,30,31,30,31];function date(str){let matches=DATE.exec(str);if(!matches)return!1;let year=+matches[1],month=+matches[2],day=+matches[3];return month>=1&&month<=12&&day>=1&&day<=(month===2&&isLeapYear(year)?29:DAYS[month])}function compareDate(d1,d2){if(d1&&d2)return d1>d2?1:d1<d2?-1:0}var TIME=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function getTime(strictTimeZone){return function(str){let matches=TIME.exec(str);if(!matches)return!1;let hr2=+matches[1],min=+matches[2],sec=+matches[3],tz=matches[4],tzSign=matches[5]==="-"?-1:1,tzH=+(matches[6]||0),tzM=+(matches[7]||0);if(tzH>23||tzM>59||strictTimeZone&&!tz)return!1;if(hr2<=23&&min<=59&&sec<60)return!0;let utcMin=min-tzM*tzSign,utcHr=hr2-tzH*tzSign-(utcMin<0?1:0);return(utcHr===23||utcHr===-1)&&(utcMin===59||utcMin===-1)&&sec<61}}function compareTime(s1,s2){if(!(s1&&s2))return;let t1=new Date("2020-01-01T"+s1).valueOf(),t2=new Date("2020-01-01T"+s2).valueOf();if(t1&&t2)return t1-t2}function compareIsoTime(t1,t2){if(!(t1&&t2))return;let a1=TIME.exec(t1),a2=TIME.exec(t2);if(a1&&a2)return t1=a1[1]+a1[2]+a1[3],t2=a2[1]+a2[2]+a2[3],t1>t2?1:t1<t2?-1:0}var DATE_TIME_SEPARATOR=/t|\s/i;function getDateTime(strictTimeZone){let time=getTime(strictTimeZone);return function(str){let dateTime=str.split(DATE_TIME_SEPARATOR);return dateTime.length===2&&date(dateTime[0])&&time(dateTime[1])}}function compareDateTime(dt1,dt2){if(!(dt1&&dt2))return;let d1=new Date(dt1).valueOf(),d2=new Date(dt2).valueOf();if(d1&&d2)return d1-d2}function compareIsoDateTime(dt1,dt2){if(!(dt1&&dt2))return;let[d1,t1]=dt1.split(DATE_TIME_SEPARATOR),[d2,t2]=dt2.split(DATE_TIME_SEPARATOR),res=compareDate(d1,d2);if(res!==void 0)return res||compareTime(t1,t2)}var NOT_URI_FRAGMENT=/\/|:/,URI=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function uri(str){return NOT_URI_FRAGMENT.test(str)&&URI.test(str)}var BYTE=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function byte(str){return BYTE.lastIndex=0,BYTE.test(str)}var MIN_INT32=-(2**31),MAX_INT32=2**31-1;function validateInt32(value){return Number.isInteger(value)&&value<=MAX_INT32&&value>=MIN_INT32}function validateInt64(value){return Number.isInteger(value)}function validateNumber(){return!0}var Z_ANCHOR=/[^\\]\\Z/;function regex(str){if(Z_ANCHOR.test(str))return!1;try{return new RegExp(str),!0}catch{return!1}}}});var require_limit=__commonJS({"../../../../node_modules/ajv-formats/dist/limit.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.formatLimitDefinition=void 0;var ajv_1=require_ajv(),codegen_1=require_codegen(),ops=codegen_1.operators,KWDs={formatMaximum:{okStr:"<=",ok:ops.LTE,fail:ops.GT},formatMinimum:{okStr:">=",ok:ops.GTE,fail:ops.LT},formatExclusiveMaximum:{okStr:"<",ok:ops.LT,fail:ops.GTE},formatExclusiveMinimum:{okStr:">",ok:ops.GT,fail:ops.LTE}},error={message:({keyword,schemaCode})=>(0,codegen_1.str)`should be ${KWDs[keyword].okStr} ${schemaCode}`,params:({keyword,schemaCode})=>(0,codegen_1._)`{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`};exports2.formatLimitDefinition={keyword:Object.keys(KWDs),type:"string",schemaType:"string",$data:!0,error,code(cxt){let{gen,data,schemaCode,keyword,it}=cxt,{opts,self:self2}=it;if(!opts.validateFormats)return;let fCxt=new ajv_1.KeywordCxt(it,self2.RULES.all.format.definition,"format");fCxt.$data?validate$DataFormat():validateFormat();function validate$DataFormat(){let fmts=gen.scopeValue("formats",{ref:self2.formats,code:opts.code.formats}),fmt=gen.const("fmt",(0,codegen_1._)`${fmts}[${fCxt.schemaCode}]`);cxt.fail$data((0,codegen_1.or)((0,codegen_1._)`typeof ${fmt} != "object"`,(0,codegen_1._)`${fmt} instanceof RegExp`,(0,codegen_1._)`typeof ${fmt}.compare != "function"`,compareCode(fmt)))}function validateFormat(){let format2=fCxt.schema,fmtDef=self2.formats[format2];if(!fmtDef||fmtDef===!0)return;if(typeof fmtDef!="object"||fmtDef instanceof RegExp||typeof fmtDef.compare!="function")throw new Error(`"${keyword}": format "${format2}" does not define "compare" function`);let fmt=gen.scopeValue("formats",{key:format2,ref:fmtDef,code:opts.code.formats?(0,codegen_1._)`${opts.code.formats}${(0,codegen_1.getProperty)(format2)}`:void 0});cxt.fail$data(compareCode(fmt))}function compareCode(fmt){return(0,codegen_1._)`${fmt}.compare(${data}, ${schemaCode}) ${KWDs[keyword].fail} 0`}},dependencies:["format"]};var formatLimitPlugin=ajv=>(ajv.addKeyword(exports2.formatLimitDefinition),ajv);exports2.default=formatLimitPlugin}});var require_dist=__commonJS({"../../../../node_modules/ajv-formats/dist/index.js"(exports2,module2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var formats_1=require_formats(),limit_1=require_limit(),codegen_1=require_codegen(),fullName=new codegen_1.Name("fullFormats"),fastName=new codegen_1.Name("fastFormats"),formatsPlugin=(ajv,opts={keywords:!0})=>{if(Array.isArray(opts))return addFormats(ajv,opts,formats_1.fullFormats,fullName),ajv;let[formats,exportName]=opts.mode==="fast"?[formats_1.fastFormats,fastName]:[formats_1.fullFormats,fullName],list2=opts.formats||formats_1.formatNames;return addFormats(ajv,list2,formats,exportName),opts.keywords&&(0,limit_1.default)(ajv),ajv};formatsPlugin.get=(name,mode="full")=>{let f=(mode==="fast"?formats_1.fastFormats:formats_1.fullFormats)[name];if(!f)throw new Error(`Unknown format "${name}"`);return f};function addFormats(ajv,list2,fs3,exportName){var _a2,_b;(_a2=(_b=ajv.opts.code).formats)!==null&&_a2!==void 0||(_b.formats=(0,codegen_1._)`require("ajv-formats/dist/formats").${exportName}`);for(let f of list2)ajv.addFormat(f,fs3[f])}module2.exports=exports2=formatsPlugin;Object.defineProperty(exports2,"__esModule",{value:!0});exports2.default=formatsPlugin}});var require_validator_compiler=__commonJS({"../../../../node_modules/@fastify/ajv-compiler/lib/validator-compiler.js"(exports2,module2){"use strict";var Ajv=require_ajv().default,AjvJTD=require_jtd2(),defaultAjvOptions=require_default_ajv_options(),ValidatorCompiler=class{constructor(externalSchemas,options2){options2.mode==="JTD"?this.ajv=new AjvJTD(Object.assign({},defaultAjvOptions,options2.customOptions)):this.ajv=new Ajv(Object.assign({},defaultAjvOptions,options2.customOptions));let addFormatPlugin=!0;if(options2.plugins&&options2.plugins.length>0)for(let plugin2 of options2.plugins)Array.isArray(plugin2)?(addFormatPlugin=addFormatPlugin&&plugin2[0].name!=="formatsPlugin",plugin2[0](this.ajv,plugin2[1])):(addFormatPlugin=addFormatPlugin&&plugin2.name!=="formatsPlugin",plugin2(this.ajv));addFormatPlugin&&require_dist()(this.ajv),options2.onCreate?.(this.ajv);let sourceSchemas=Object.values(externalSchemas);for(let extSchema of sourceSchemas)this.ajv.addSchema(extSchema)}buildValidatorFunction({schema}){if(schema.$id){let stored=this.ajv.getSchema(schema.$id);if(stored)return stored}return this.ajv.compile(schema)}};module2.exports=ValidatorCompiler}});var require_serializer_compiler=__commonJS({"../../../../node_modules/@fastify/ajv-compiler/lib/serializer-compiler.js"(exports2,module2){"use strict";var AjvJTD=require_jtd2(),defaultAjvOptions=require_default_ajv_options(),SerializerCompiler=class{constructor(_externalSchemas,options2){this.ajv=new AjvJTD(Object.assign({},defaultAjvOptions,options2))}buildSerializerFunction({schema}){return this.ajv.compileSerializer(schema)}};module2.exports=SerializerCompiler}});var require_standalone=__commonJS({"../../../../node_modules/ajv/dist/standalone/index.js"(exports2,module2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var scope_1=require_scope(),code_1=require_code();function standaloneCode(ajv,refsOrFunc){if(!ajv.opts.code.source)throw new Error("moduleCode: ajv instance must have code.source option");let{_n}=ajv.scope.opts;return typeof refsOrFunc=="function"?funcExportCode(refsOrFunc.source):refsOrFunc!==void 0?multiExportsCode(refsOrFunc,getValidate):multiExportsCode(ajv.schemas,sch=>sch.meta?void 0:ajv.compile(sch.schema));function getValidate(id){let v=ajv.getSchema(id);if(!v)throw new Error(`moduleCode: no schema with id ${id}`);return v}function funcExportCode(source){let usedValues={},n=source?.validateName,vCode=validateCode(usedValues,source);return ajv.opts.code.esm?`"use strict";${_n}export const validate = ${n};${_n}export default ${n};${_n}${vCode}`:`"use strict";${_n}module.exports = ${n};${_n}module.exports.default = ${n};${_n}${vCode}`}function multiExportsCode(schemas,getValidateFunc){var _a2;let usedValues={},code2=(0,code_1._)`"use strict";`;for(let name in schemas){let v=getValidateFunc(schemas[name]);if(v){let vCode=validateCode(usedValues,v.source),exportSyntax=ajv.opts.code.esm?(0,code_1._)`export const ${(0,code_1.getEsmExportName)(name)}`:(0,code_1._)`exports${(0,code_1.getProperty)(name)}`;code2=(0,code_1._)`${code2}${_n}${exportSyntax} = ${(_a2=v.source)===null||_a2===void 0?void 0:_a2.validateName};${_n}${vCode}`}}return`${code2}`}function validateCode(usedValues,s){if(!s)throw new Error('moduleCode: function does not have "source" property');if(usedState(s.validateName)===scope_1.UsedValueState.Completed)return code_1.nil;setUsedState(s.validateName,scope_1.UsedValueState.Started);let scopeCode=ajv.scope.scopeCode(s.scopeValues,usedValues,refValidateCode),code2=new code_1._Code(`${scopeCode}${_n}${s.validateCode}`);return s.evaluated?(0,code_1._)`${code2}${s.validateName}.evaluated = ${s.evaluated};${_n}`:code2;function refValidateCode(n){var _a2;let vRef=(_a2=n.value)===null||_a2===void 0?void 0:_a2.ref;if(n.prefix==="validate"&&typeof vRef=="function")return validateCode(usedValues,vRef.source);if((n.prefix==="root"||n.prefix==="wrapper")&&typeof vRef=="object"){let{validate,validateName}=vRef;if(!validateName)throw new Error("ajv internal error");let def=ajv.opts.code.es5?scope_1.varKinds.var:scope_1.varKinds.const,wrapper=(0,code_1._)`${def} ${n} = {validate: ${validateName}};`;if(usedState(validateName)===scope_1.UsedValueState.Started)return wrapper;let vCode=validateCode(usedValues,validate?.source);return(0,code_1._)`${wrapper}${_n}${vCode}`}}function usedState(name){var _a2;return(_a2=usedValues[name.prefix])===null||_a2===void 0?void 0:_a2.get(name)}function setUsedState(name,state){let{prefix}=name;(usedValues[prefix]=usedValues[prefix]||new Map).set(name,state)}}}module2.exports=exports2=standaloneCode;Object.defineProperty(exports2,"__esModule",{value:!0});exports2.default=standaloneCode}});var require_standalone2=__commonJS({"../../../../node_modules/@fastify/ajv-compiler/standalone.js"(exports2,module2){"use strict";var ValidatorSelector=require_ajv_compiler(),standaloneCode=require_standalone().default;function StandaloneValidator(options2={readMode:!0}){if(options2.readMode===!0&&!options2.restoreFunction)throw new Error("You must provide a restoreFunction options when readMode ON");if(options2.readMode!==!0&&!options2.storeFunction)throw new Error("You must provide a storeFunction options when readMode OFF");if(options2.readMode===!0)return function(){return function(opts){return options2.restoreFunction(opts)}};let factory=ValidatorSelector();return function(externalSchemas,ajvOptions={}){(!ajvOptions.customOptions||!ajvOptions.customOptions.code)&&(ajvOptions.customOptions=Object.assign({},ajvOptions.customOptions,{code:{source:!0}}));let compiler=factory(externalSchemas,ajvOptions);return function(opts){let validationFunc=compiler(opts),schemaValidationCode=standaloneCode(compiler[ValidatorSelector.AjvReference].ajv,validationFunc);return options2.storeFunction(opts,schemaValidationCode),validationFunc}}}module2.exports=StandaloneValidator}});var require_ajv_compiler=__commonJS({"../../../../node_modules/@fastify/ajv-compiler/index.js"(exports2,module2){"use strict";var AjvReference=Symbol.for("fastify.ajv-compiler.reference"),ValidatorCompiler=require_validator_compiler(),SerializerCompiler=require_serializer_compiler();function AjvCompiler(opts){let validatorPool=new Map,serializerPool=new Map;return opts&&opts.jtdSerializer===!0?function(externalSchemas,serializerOpts){let uniqueAjvKey=getPoolKey({},serializerOpts);if(serializerPool.has(uniqueAjvKey))return serializerPool.get(uniqueAjvKey);let compiler=new SerializerCompiler(externalSchemas,serializerOpts),ret=compiler.buildSerializerFunction.bind(compiler);return serializerPool.set(uniqueAjvKey,ret),ret}:function(externalSchemas,options2){let uniqueAjvKey=getPoolKey(externalSchemas,options2.customOptions);if(validatorPool.has(uniqueAjvKey))return validatorPool.get(uniqueAjvKey);let compiler=new ValidatorCompiler(externalSchemas,options2),ret=compiler.buildValidatorFunction.bind(compiler);return validatorPool.set(uniqueAjvKey,ret),options2.customOptions.code!==void 0&&(ret[AjvReference]=compiler),ret}}function getPoolKey(externalSchemas,options2){let externals=JSON.stringify(externalSchemas),ajvConfig=JSON.stringify(options2);return`${externals}${ajvConfig}`}module2.exports=AjvCompiler;module2.exports.default=AjvCompiler;module2.exports.AjvCompiler=AjvCompiler;module2.exports.AjvReference=AjvReference;module2.exports.StandaloneValidator=require_standalone2()}});var require_dist2=__commonJS({"../../../../node_modules/dequal/dist/index.js"(exports2){var has2=Object.prototype.hasOwnProperty;function find(iter,tar,key){for(key of iter.keys())if(dequal(key,tar))return key}function dequal(foo,bar){var ctor,len,tmp;if(foo===bar)return!0;if(foo&&bar&&(ctor=foo.constructor)===bar.constructor){if(ctor===Date)return foo.getTime()===bar.getTime();if(ctor===RegExp)return foo.toString()===bar.toString();if(ctor===Array){if((len=foo.length)===bar.length)for(;len--&&dequal(foo[len],bar[len]););return len===-1}if(ctor===Set){if(foo.size!==bar.size)return!1;for(len of foo)if(tmp=len,tmp&&typeof tmp=="object"&&(tmp=find(bar,tmp),!tmp)||!bar.has(tmp))return!1;return!0}if(ctor===Map){if(foo.size!==bar.size)return!1;for(len of foo)if(tmp=len[0],tmp&&typeof tmp=="object"&&(tmp=find(bar,tmp),!tmp)||!dequal(len[1],bar.get(tmp)))return!1;return!0}if(ctor===ArrayBuffer)foo=new Uint8Array(foo),bar=new Uint8Array(bar);else if(ctor===DataView){if((len=foo.byteLength)===bar.byteLength)for(;len--&&foo.getInt8(len)===bar.getInt8(len););return len===-1}if(ArrayBuffer.isView(foo)){if((len=foo.byteLength)===bar.byteLength)for(;len--&&foo[len]===bar[len];);return len===-1}if(!ctor||typeof foo=="object"){len=0;for(ctor in foo)if(has2.call(foo,ctor)&&++len&&!has2.call(bar,ctor)||!(ctor in bar)||!dequal(foo[ctor],bar[ctor]))return!1;return Object.keys(bar).length===len}}return foo!==foo&&bar!==bar}exports2.dequal=dequal}});var require_json_schema_ref_resolver=__commonJS({"../../../../node_modules/json-schema-ref-resolver/index.js"(exports2,module2){"use strict";var{dequal:deepEqual}=require_dist2(),jsonSchemaRefSymbol=Symbol.for("json-schema-ref"),RefResolver=class{#schemas;#derefSchemas;#insertRefSymbol;#allowEqualDuplicates;#cloneSchemaWithoutRefs;constructor(opts={}){this.#schemas={},this.#derefSchemas={},this.#insertRefSymbol=opts.insertRefSymbol??!1,this.#allowEqualDuplicates=opts.allowEqualDuplicates??!0,this.#cloneSchemaWithoutRefs=opts.cloneSchemaWithoutRefs??!1}addSchema(schema,rootSchemaId,isRootSchema=!0){isRootSchema&&(schema.$id!==void 0&&schema.$id.charAt(0)!=="#"?rootSchemaId=schema.$id:this.#insertSchemaBySchemaId(schema,rootSchemaId));let schemaId=schema.$id;schemaId!==void 0&&typeof schemaId=="string"&&(schemaId.charAt(0)==="#"?this.#insertSchemaByAnchor(schema,rootSchemaId,schemaId):(this.#insertSchemaBySchemaId(schema,schemaId),rootSchemaId=schemaId));let ref=schema.$ref;if(ref!==void 0&&typeof ref=="string"){let{refSchemaId,refJsonPointer}=this.#parseSchemaRef(ref,rootSchemaId);this.#schemas[rootSchemaId].refs.push({schemaId:refSchemaId,jsonPointer:refJsonPointer})}for(let key in schema)typeof schema[key]=="object"&&schema[key]!==null&&this.addSchema(schema[key],rootSchemaId,!1)}getSchema(schemaId,jsonPointer="#"){let schema=this.#schemas[schemaId];if(schema===void 0)throw new Error(`Cannot resolve ref "${schemaId}${jsonPointer}". Schema with id "${schemaId}" is not found.`);return schema.anchors[jsonPointer]!==void 0?schema.anchors[jsonPointer]:getDataByJSONPointer(schema.schema,jsonPointer)}hasSchema(schemaId){return this.#schemas[schemaId]!==void 0}getSchemaRefs(schemaId){let schema=this.#schemas[schemaId];if(schema===void 0)throw new Error(`Schema with id "${schemaId}" is not found.`);return schema.refs}getSchemaDependencies(schemaId,dependencies={}){let schema=this.#schemas[schemaId];for(let ref of schema.refs){let dependencySchemaId=ref.schemaId;dependencySchemaId===schemaId||dependencies[dependencySchemaId]!==void 0||(dependencies[dependencySchemaId]=this.getSchema(dependencySchemaId),this.getSchemaDependencies(dependencySchemaId,dependencies))}return dependencies}derefSchema(schemaId){if(this.#derefSchemas[schemaId]!==void 0)return;let schema=this.#schemas[schemaId];if(schema===void 0)throw new Error(`Schema with id "${schemaId}" is not found.`);!this.#cloneSchemaWithoutRefs&&schema.refs.length===0&&(this.#derefSchemas[schemaId]={schema:schema.schema,anchors:schema.anchors});let refs=[];this.#addDerefSchema(schema.schema,schemaId,!0,refs);let dependencies=this.getSchemaDependencies(schemaId);for(let schemaId2 in dependencies){let schema2=dependencies[schemaId2];this.#addDerefSchema(schema2,schemaId2,!0,refs)}for(let ref of refs){let{refSchemaId,refJsonPointer}=this.#parseSchemaRef(ref.ref,ref.sourceSchemaId),targetSchema=this.getDerefSchema(refSchemaId,refJsonPointer);if(targetSchema===null)throw new Error(`Cannot resolve ref "${ref.ref}". Ref "${refJsonPointer}" is not found in schema "${refSchemaId}".`);ref.targetSchema=targetSchema,ref.targetSchemaId=refSchemaId}for(let ref of refs)this.#resolveRef(ref,refs)}getDerefSchema(schemaId,jsonPointer="#"){let derefSchema=this.#derefSchemas[schemaId];return derefSchema===void 0&&(this.derefSchema(schemaId),derefSchema=this.#derefSchemas[schemaId]),derefSchema.anchors[jsonPointer]!==void 0?derefSchema.anchors[jsonPointer]:getDataByJSONPointer(derefSchema.schema,jsonPointer)}#parseSchemaRef(ref,schemaId){let sharpIndex=ref.indexOf("#");return sharpIndex===-1?{refSchemaId:ref,refJsonPointer:"#"}:sharpIndex===0?{refSchemaId:schemaId,refJsonPointer:ref}:{refSchemaId:ref.slice(0,sharpIndex),refJsonPointer:ref.slice(sharpIndex)}}#addDerefSchema(schema,rootSchemaId,isRootSchema,refs=[]){let derefSchema=Array.isArray(schema)?[...schema]:{...schema};isRootSchema&&(schema.$id!==void 0&&schema.$id.charAt(0)!=="#"?rootSchemaId=schema.$id:this.#insertDerefSchemaBySchemaId(derefSchema,rootSchemaId));let schemaId=derefSchema.$id;schemaId!==void 0&&typeof schemaId=="string"&&(schemaId.charAt(0)==="#"?this.#insertDerefSchemaByAnchor(derefSchema,rootSchemaId,schemaId):(this.#insertDerefSchemaBySchemaId(derefSchema,schemaId),rootSchemaId=schemaId)),derefSchema.$ref!==void 0&&refs.push({ref:derefSchema.$ref,sourceSchemaId:rootSchemaId,sourceSchema:derefSchema});for(let key in derefSchema){let value=derefSchema[key];typeof value=="object"&&value!==null&&(derefSchema[key]=this.#addDerefSchema(value,rootSchemaId,!1,refs))}return derefSchema}#resolveRef(ref,refs){let{sourceSchema,targetSchema}=ref;if(sourceSchema.$ref){if(this.#insertRefSymbol&&(sourceSchema[jsonSchemaRefSymbol]=sourceSchema.$ref),delete sourceSchema.$ref,targetSchema.$ref){let targetSchemaRef=refs.find(ref2=>ref2.sourceSchema===targetSchema);this.#resolveRef(targetSchemaRef,refs)}for(let key in targetSchema)if(key!=="$id"){if(sourceSchema[key]!==void 0){if(deepEqual(sourceSchema[key],targetSchema[key]))continue;throw new Error(`Cannot resolve ref "${ref.ref}". Property "${key}" already exists in schema "${ref.sourceSchemaId}".`)}sourceSchema[key]=targetSchema[key]}ref.isResolved=!0}}#insertSchemaBySchemaId(schema,schemaId){let foundSchema=this.#schemas[schemaId];if(foundSchema!==void 0){if(this.#allowEqualDuplicates&&deepEqual(schema,foundSchema.schema))return;throw new Error(`There is already another schema with id "${schemaId}".`)}this.#schemas[schemaId]={schema,anchors:{},refs:[]}}#insertSchemaByAnchor(schema,schemaId,anchor){let{anchors}=this.#schemas[schemaId];if(anchors[anchor]!==void 0)throw new Error(`There is already another anchor "${anchor}" in schema "${schemaId}".`);anchors[anchor]=schema}#insertDerefSchemaBySchemaId(schema,schemaId){this.#derefSchemas[schemaId]===void 0&&(this.#derefSchemas[schemaId]={schema,anchors:{}})}#insertDerefSchemaByAnchor(schema,schemaId,anchor){let{anchors}=this.#derefSchemas[schemaId];anchors[anchor]=schema}};function getDataByJSONPointer(data,jsonPointer){let parts=jsonPointer.split("/"),current=data;for(let part of parts)if(!(part===""||part==="#")){if(typeof current!="object"||current===null)return null;current=current[part]}return current??null}module2.exports={RefResolver}}});var require_validator=__commonJS({"../../../../node_modules/fast-json-stringify/lib/validator.js"(exports2,module2){"use strict";var Ajv=require_ajv(),fastUri=require_fast_uri(),ajvFormats=require_dist(),clone=require_rfdc()({proto:!0}),Validator=class _Validator{constructor(ajvOptions){this.ajv=new Ajv({...ajvOptions,strictSchema:!1,validateSchema:!1,allowUnionTypes:!0,uriResolver:fastUri}),ajvFormats(this.ajv),this.ajv.addKeyword({keyword:"fjs_type",type:"object",errors:!1,validate:(_type,data)=>data&&typeof data.toJSON=="function"}),this._ajvSchemas={},this._ajvOptions=ajvOptions||{}}addSchema(schema,schemaName){let schemaKey=schema.$id||schemaName;if(schema.$id!==void 0&&schema.$id[0]==="#"&&(schemaKey=schemaName+schema.$id),this.ajv.refs[schemaKey]===void 0&&this.ajv.schemas[schemaKey]===void 0){let ajvSchema=clone(schema);this.convertSchemaToAjvFormat(ajvSchema),this.ajv.addSchema(ajvSchema,schemaKey),this._ajvSchemas[schemaKey]=schema}}validate(schemaRef,data){return this.ajv.validate(schemaRef,data)}convertSchemaToAjvFormat(schema){if(schema!==null){schema.type==="string"?(schema.fjs_type="string",schema.type=["string","object"]):Array.isArray(schema.type)&&schema.type.includes("string")&&!schema.type.includes("object")&&(schema.fjs_type="string",schema.type.push("object"));for(let property in schema)typeof schema[property]=="object"&&this.convertSchemaToAjvFormat(schema[property])}}getState(){return{ajvOptions:this._ajvOptions,ajvSchemas:this._ajvSchemas}}static restoreFromState(state){let validator=new _Validator(state.ajvOptions);for(let[id,ajvSchema]of Object.entries(state.ajvSchemas))validator.ajv.addSchema(ajvSchema,id);return validator}};module2.exports=Validator}});var require_location=__commonJS({"../../../../node_modules/fast-json-stringify/lib/location.js"(exports2,module2){"use strict";var Location=class _Location{constructor(schema,schemaId,jsonPointer="#"){this.schema=schema,this.schemaId=schemaId,this.jsonPointer=jsonPointer}getPropertyLocation(propertyName){return new _Location(this.schema[propertyName],this.schemaId,this.jsonPointer+"/"+propertyName)}getSchemaRef(){return this.schemaId+this.jsonPointer}};module2.exports=Location}});var require_schema_validator=__commonJS({"../../../../node_modules/fast-json-stringify/lib/schema-validator.js"(exports2,module2){"use strict";module2.exports=validate10;module2.exports.default=validate10;var schema11={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},schema20={enum:["array","boolean","integer","null","number","object","string"]},formats0=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,formats2=require_formats().fullFormats.uri,formats6=require_formats().fullFormats.regex;function validate11(data,{instancePath="",parentData,parentDataProperty,rootData=data}={}){let vErrors=null,errors=0,_errs1=errors;return typeof data=="number"&&!(data%1)&&!isNaN(data)&&isFinite(data)?errors===_errs1&&typeof data=="number"&&isFinite(data)&&(data<0||isNaN(data))?(validate11.errors=[{instancePath,schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1):(validate11.errors=vErrors,errors===0):(validate11.errors=[{instancePath,schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1)}var root1={validate:validate10};function validate13(data,{instancePath="",parentData,parentDataProperty,rootData=data}={}){let vErrors=null,errors=0;if(errors===0)if(Array.isArray(data)){if(data.length<1)return validate13.errors=[{instancePath,schemaPath:"#/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var valid0=!0;let len0=data.length;for(let i0=0;i0<len0;i0++){let _errs1=errors;root1.validate(data[i0],{instancePath:instancePath+"/"+i0,parentData:data,parentDataProperty:i0,rootData})||(vErrors=vErrors===null?root1.validate.errors:vErrors.concat(root1.validate.errors),errors=vErrors.length);var valid0=_errs1===errors;if(!valid0)break}}}else return validate13.errors=[{instancePath,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;return validate13.errors=vErrors,errors===0}var func0=require_equal().default;function validate10(data,{instancePath="",parentData,parentDataProperty,rootData=data}={}){let vErrors=null,errors=0;if(!(data&&typeof data=="object"&&!Array.isArray(data))&&typeof data!="boolean")return validate10.errors=[{instancePath,schemaPath:"#/type",keyword:"type",params:{type:schema11.type},message:"must be object,boolean"}],!1;if(errors===0&&data&&typeof data=="object"&&!Array.isArray(data)){if(data.$id!==void 0){let data0=data.$id,_errs1=errors;if(errors===_errs1&&errors===_errs1)if(typeof data0=="string"){if(!formats0.test(data0))return validate10.errors=[{instancePath:instancePath+"/$id",schemaPath:"#/properties/%24id/format",keyword:"format",params:{format:"uri-reference"},message:'must match format "uri-reference"'}],!1}else return validate10.errors=[{instancePath:instancePath+"/$id",schemaPath:"#/properties/%24id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var valid0=_errs1===errors}else var valid0=!0;if(valid0){if(data.$schema!==void 0){let data1=data.$schema,_errs3=errors;if(errors===_errs3&&errors===_errs3)if(typeof data1=="string"){if(!formats2(data1))return validate10.errors=[{instancePath:instancePath+"/$schema",schemaPath:"#/properties/%24schema/format",keyword:"format",params:{format:"uri"},message:'must match format "uri"'}],!1}else return validate10.errors=[{instancePath:instancePath+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var valid0=_errs3===errors}else var valid0=!0;if(valid0){if(data.$ref!==void 0){let data2=data.$ref,_errs5=errors;if(errors===_errs5&&errors===_errs5)if(typeof data2=="string"){if(!formats0.test(data2))return validate10.errors=[{instancePath:instancePath+"/$ref",schemaPath:"#/properties/%24ref/format",keyword:"format",params:{format:"uri-reference"},message:'must match format "uri-reference"'}],!1}else return validate10.errors=[{instancePath:instancePath+"/$ref",schemaPath:"#/properties/%24ref/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var valid0=_errs5===errors}else var valid0=!0;if(valid0){if(data.$comment!==void 0){let _errs7=errors;if(typeof data.$comment!="string")return validate10.errors=[{instancePath:instancePath+"/$comment",schemaPath:"#/properties/%24comment/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var valid0=_errs7===errors}else var valid0=!0;if(valid0){if(data.title!==void 0){let _errs9=errors;if(typeof data.title!="string")return validate10.errors=[{instancePath:instancePath+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var valid0=_errs9===errors}else var valid0=!0;if(valid0){if(data.description!==void 0){let _errs11=errors;if(typeof data.description!="string")return validate10.errors=[{instancePath:instancePath+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var valid0=_errs11===errors}else var valid0=!0;if(valid0){if(data.readOnly!==void 0){let _errs13=errors;if(typeof data.readOnly!="boolean")return validate10.errors=[{instancePath:instancePath+"/readOnly",schemaPath:"#/properties/readOnly/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var valid0=_errs13===errors}else var valid0=!0;if(valid0){if(data.examples!==void 0){let _errs15=errors;if(errors===_errs15&&!Array.isArray(data.examples))return validate10.errors=[{instancePath:instancePath+"/examples",schemaPath:"#/properties/examples/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var valid0=_errs15===errors}else var valid0=!0;if(valid0){if(data.multipleOf!==void 0){let data8=data.multipleOf,_errs17=errors;if(errors===_errs17)if(typeof data8=="number"&&isFinite(data8)){if(data8<=0||isNaN(data8))return validate10.errors=[{instancePath:instancePath+"/multipleOf",schemaPath:"#/properties/multipleOf/exclusiveMinimum",keyword:"exclusiveMinimum",params:{comparison:">",limit:0},message:"must be > 0"}],!1}else return validate10.errors=[{instancePath:instancePath+"/multipleOf",schemaPath:"#/properties/multipleOf/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var valid0=_errs17===errors}else var valid0=!0;if(valid0){if(data.maximum!==void 0){let data9=data.maximum,_errs19=errors;if(!(typeof data9=="number"&&isFinite(data9)))return validate10.errors=[{instancePath:instancePath+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var valid0=_errs19===errors}else var valid0=!0;if(valid0){if(data.exclusiveMaximum!==void 0){let data10=data.exclusiveMaximum,_errs21=errors;if(!(typeof data10=="number"&&isFinite(data10)))return validate10.errors=[{instancePath:instancePath+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var valid0=_errs21===errors}else var valid0=!0;if(valid0){if(data.minimum!==void 0){let data11=data.minimum,_errs23=errors;if(!(typeof data11=="number"&&isFinite(data11)))return validate10.errors=[{instancePath:instancePath+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var valid0=_errs23===errors}else var valid0=!0;if(valid0){if(data.exclusiveMinimum!==void 0){let data12=data.exclusiveMinimum,_errs25=errors;if(!(typeof data12=="number"&&isFinite(data12)))return validate10.errors=[{instancePath:instancePath+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var valid0=_errs25===errors}else var valid0=!0;if(valid0){if(data.maxLength!==void 0){let data13=data.maxLength,_errs27=errors,_errs28=errors;if(!(typeof data13=="number"&&!(data13%1)&&!isNaN(data13)&&isFinite(data13)))return validate10.errors=[{instancePath:instancePath+"/maxLength",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(errors===_errs28&&typeof data13=="number"&&isFinite(data13)&&(data13<0||isNaN(data13)))return validate10.errors=[{instancePath:instancePath+"/maxLength",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var valid0=_errs27===errors}else var valid0=!0;if(valid0){if(data.minLength!==void 0){let _errs30=errors;validate11(data.minLength,{instancePath:instancePath+"/minLength",parentData:data,parentDataProperty:"minLength",rootData})||(vErrors=vErrors===null?validate11.errors:vErrors.concat(validate11.errors),errors=vErrors.length);var valid0=_errs30===errors}else var valid0=!0;if(valid0){if(data.pattern!==void 0){let data15=data.pattern,_errs31=errors;if(errors===_errs31&&errors===_errs31)if(typeof data15=="string"){if(!formats6(data15))return validate10.errors=[{instancePath:instancePath+"/pattern",schemaPath:"#/properties/pattern/format",keyword:"format",params:{format:"regex"},message:'must match format "regex"'}],!1}else return validate10.errors=[{instancePath:instancePath+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var valid0=_errs31===errors}else var valid0=!0;if(valid0){if(data.additionalItems!==void 0){let _errs33=errors;validate10(data.additionalItems,{instancePath:instancePath+"/additionalItems",parentData:data,parentDataProperty:"additionalItems",rootData})||(vErrors=vErrors===null?validate10.errors:vErrors.concat(validate10.errors),errors=vErrors.length);var valid0=_errs33===errors}else var valid0=!0;if(valid0){if(data.items!==void 0){let data17=data.items,_errs34=errors,_errs35=errors,valid2=!1,_errs36=errors;validate10(data17,{instancePath:instancePath+"/items",parentData:data,parentDataProperty:"items",rootData})||(vErrors=vErrors===null?validate10.errors:vErrors.concat(validate10.errors),errors=vErrors.length);var _valid0=_errs36===errors;if(valid2=valid2||_valid0,!valid2){let _errs37=errors;validate13(data17,{instancePath:instancePath+"/items",parentData:data,parentDataProperty:"items",rootData})||(vErrors=vErrors===null?validate13.errors:vErrors.concat(validate13.errors),errors=vErrors.length);var _valid0=_errs37===errors;valid2=valid2||_valid0}if(valid2)errors=_errs35,vErrors!==null&&(_errs35?vErrors.length=_errs35:vErrors=null);else{let err0={instancePath:instancePath+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return vErrors===null?vErrors=[err0]:vErrors.push(err0),errors++,validate10.errors=vErrors,!1}var valid0=_errs34===errors}else var valid0=!0;if(valid0){if(data.maxItems!==void 0){let data18=data.maxItems,_errs38=errors,_errs39=errors;if(!(typeof data18=="number"&&!(data18%1)&&!isNaN(data18)&&isFinite(data18)))return validate10.errors=[{instancePath:instancePath+"/maxItems",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(errors===_errs39&&typeof data18=="number"&&isFinite(data18)&&(data18<0||isNaN(data18)))return validate10.errors=[{instancePath:instancePath+"/maxItems",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var valid0=_errs38===errors}else var valid0=!0;if(valid0){if(data.minItems!==void 0){let _errs41=errors;validate11(data.minItems,{instancePath:instancePath+"/minItems",parentData:data,parentDataProperty:"minItems",rootData})||(vErrors=vErrors===null?validate11.errors:vErrors.concat(validate11.errors),errors=vErrors.length);var valid0=_errs41===errors}else var valid0=!0;if(valid0){if(data.uniqueItems!==void 0){let _errs42=errors;if(typeof data.uniqueItems!="boolean")return validate10.errors=[{instancePath:instancePath+"/uniqueItems",schemaPath:"#/properties/uniqueItems/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var valid0=_errs42===errors}else var valid0=!0;if(valid0){if(data.contains!==void 0){let _errs44=errors;validate10(data.contains,{instancePath:instancePath+"/contains",parentData:data,parentDataProperty:"contains",rootData})||(vErrors=vErrors===null?validate10.errors:vErrors.concat(validate10.errors),errors=vErrors.length);var valid0=_errs44===errors}else var valid0=!0;if(valid0){if(data.maxProperties!==void 0){let data22=data.maxProperties,_errs45=errors,_errs46=errors;if(!(typeof data22=="number"&&!(data22%1)&&!isNaN(data22)&&isFinite(data22)))return validate10.errors=[{instancePath:instancePath+"/maxProperties",schemaPath:"#/definitions/nonNegativeInteger/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;if(errors===_errs46&&typeof data22=="number"&&isFinite(data22)&&(data22<0||isNaN(data22)))return validate10.errors=[{instancePath:instancePath+"/maxProperties",schemaPath:"#/definitions/nonNegativeInteger/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1;var valid0=_errs45===errors}else var valid0=!0;if(valid0){if(data.minProperties!==void 0){let _errs48=errors;validate11(data.minProperties,{instancePath:instancePath+"/minProperties",parentData:data,parentDataProperty:"minProperties",rootData})||(vErrors=vErrors===null?validate11.errors:vErrors.concat(validate11.errors),errors=vErrors.length);var valid0=_errs48===errors}else var valid0=!0;if(valid0){if(data.required!==void 0){let data24=data.required,_errs49=errors;if(errors===errors)if(Array.isArray(data24)){var valid6=!0;let len0=data24.length;for(let i0=0;i0<len0;i0++){let _errs52=errors;if(typeof data24[i0]!="string")return validate10.errors=[{instancePath:instancePath+"/required/"+i0,schemaPath:"#/definitions/stringArray/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var valid6=_errs52===errors;if(!valid6)break}if(valid6){let i1=data24.length,j0;if(i1>1){let indices0={};for(;i1--;){let item0=data24[i1];if(typeof item0=="string"){if(typeof indices0[item0]=="number"){return j0=indices0[item0],validate10.errors=[{instancePath:instancePath+"/required",schemaPath:"#/definitions/stringArray/uniqueItems",keyword:"uniqueItems",params:{i:i1,j:j0},message:"must NOT have duplicate items (items ## "+j0+" and "+i1+" are identical)"}],!1;break}indices0[item0]=i1}}}}}else return validate10.errors=[{instancePath:instancePath+"/required",schemaPath:"#/definitions/stringArray/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var valid0=_errs49===errors}else var valid0=!0;if(valid0){if(data.additionalProperties!==void 0){let _errs54=errors;validate10(data.additionalProperties,{instancePath:instancePath+"/additionalProperties",parentData:data,parentDataProperty:"additionalProperties",rootData})||(vErrors=vErrors===null?validate10.errors:vErrors.concat(validate10.errors),errors=vErrors.length);var valid0=_errs54===errors}else var valid0=!0;if(valid0){if(data.definitions!==void 0){let data27=data.definitions,_errs55=errors;if(errors===_errs55)if(data27&&typeof data27=="object"&&!Array.isArray(data27))for(let key0 in data27){let _errs58=errors;validate10(data27[key0],{instancePath:instancePath+"/definitions/"+key0.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:data27,parentDataProperty:key0,rootData})||(vErrors=vErrors===null?validate10.errors:vErrors.concat(validate10.errors),errors=vErrors.length);var valid8=_errs58===errors;if(!valid8)break}else return validate10.errors=[{instancePath:instancePath+"/definitions",schemaPath:"#/properties/definitions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var valid0=_errs55===errors}else var valid0=!0;if(valid0){if(data.properties!==void 0){let data29=data.properties,_errs59=errors;if(errors===_errs59)if(data29&&typeof data29=="object"&&!Array.isArray(data29))for(let key1 in data29){let _errs62=errors;validate10(data29[key1],{instancePath:instancePath+"/properties/"+key1.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:data29,parentDataProperty:key1,rootData})||(vErrors=vErrors===null?validate10.errors:vErrors.concat(validate10.errors),errors=vErrors.length);var valid9=_errs62===errors;if(!valid9)break}else return validate10.errors=[{instancePath:instancePath+"/properties",schemaPath:"#/properties/properties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var valid0=_errs59===errors}else var valid0=!0;if(valid0){if(data.patternProperties!==void 0){let data31=data.patternProperties,_errs63=errors;if(errors===_errs63)if(data31&&typeof data31=="object"&&!Array.isArray(data31)){for(let key2 in data31){let _errs65=errors;if(errors===_errs65&&typeof key2=="string"&&!formats6(key2)){let err1={instancePath:instancePath+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames/format",keyword:"format",params:{format:"regex"},message:'must match format "regex"',propertyName:key2};vErrors===null?vErrors=[err1]:vErrors.push(err1),errors++}var valid10=_errs65===errors;if(!valid10){let err2={instancePath:instancePath+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames",keyword:"propertyNames",params:{propertyName:key2},message:"property name must be valid"};return vErrors===null?vErrors=[err2]:vErrors.push(err2),errors++,validate10.errors=vErrors,!1;break}}if(valid10)for(let key3 in data31){let _errs67=errors;validate10(data31[key3],{instancePath:instancePath+"/patternProperties/"+key3.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:data31,parentDataProperty:key3,rootData})||(vErrors=vErrors===null?validate10.errors:vErrors.concat(validate10.errors),errors=vErrors.length);var valid11=_errs67===errors;if(!valid11)break}}else return validate10.errors=[{instancePath:instancePath+"/patternProperties",schemaPath:"#/properties/patternProperties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var valid0=_errs63===errors}else var valid0=!0;if(valid0){if(data.dependencies!==void 0){let data33=data.dependencies,_errs68=errors;if(errors===_errs68)if(data33&&typeof data33=="object"&&!Array.isArray(data33))for(let key4 in data33){let data34=data33[key4],_errs71=errors,_errs72=errors,valid13=!1,_errs73=errors;validate10(data34,{instancePath:instancePath+"/dependencies/"+key4.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:data33,parentDataProperty:key4,rootData})||(vErrors=vErrors===null?validate10.errors:vErrors.concat(validate10.errors),errors=vErrors.length);var _valid1=_errs73===errors;if(valid13=valid13||_valid1,!valid13){let _errs74=errors;if(errors===errors)if(Array.isArray(data34)){var valid15=!0;let len1=data34.length;for(let i2=0;i2<len1;i2++){let _errs77=errors;if(typeof data34[i2]!="string"){let err3={instancePath:instancePath+"/dependencies/"+key4.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+i2,schemaPath:"#/definitions/stringArray/items/type",keyword:"type",params:{type:"string"},message:"must be string"};vErrors===null?vErrors=[err3]:vErrors.push(err3),errors++}var valid15=_errs77===errors;if(!valid15)break}if(valid15){let i3=data34.length,j1;if(i3>1){let indices1={};for(;i3--;){let item1=data34[i3];if(typeof item1=="string"){if(typeof indices1[item1]=="number"){j1=indices1[item1];let err4={instancePath:instancePath+"/dependencies/"+key4.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/stringArray/uniqueItems",keyword:"uniqueItems",params:{i:i3,j:j1},message:"must NOT have duplicate items (items ## "+j1+" and "+i3+" are identical)"};vErrors===null?vErrors=[err4]:vErrors.push(err4),errors++;break}indices1[item1]=i3}}}}}else{let err5={instancePath:instancePath+"/dependencies/"+key4.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/definitions/stringArray/type",keyword:"type",params:{type:"array"},message:"must be array"};vErrors===null?vErrors=[err5]:vErrors.push(err5),errors++}var _valid1=_errs74===errors;valid13=valid13||_valid1}if(valid13)errors=_errs72,vErrors!==null&&(_errs72?vErrors.length=_errs72:vErrors=null);else{let err6={instancePath:instancePath+"/dependencies/"+key4.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/dependencies/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return vErrors===null?vErrors=[err6]:vErrors.push(err6),errors++,validate10.errors=vErrors,!1}var valid12=_errs71===errors;if(!valid12)break}else return validate10.errors=[{instancePath:instancePath+"/dependencies",schemaPath:"#/properties/dependencies/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var valid0=_errs68===errors}else var valid0=!0;if(valid0){if(data.propertyNames!==void 0){let _errs79=errors;validate10(data.propertyNames,{instancePath:instancePath+"/propertyNames",parentData:data,parentDataProperty:"propertyNames",rootData})||(vErrors=vErrors===null?validate10.errors:vErrors.concat(validate10.errors),errors=vErrors.length);var valid0=_errs79===errors}else var valid0=!0;if(valid0){if(data.enum!==void 0){let data37=data.enum,_errs80=errors;if(errors===_errs80)if(Array.isArray(data37)){if(data37.length<1)return validate10.errors=[{instancePath:instancePath+"/enum",schemaPath:"#/properties/enum/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{let i4=data37.length,j2;if(i4>1){outer0:for(;i4--;)for(j2=i4;j2--;)if(func0(data37[i4],data37[j2])){return validate10.errors=[{instancePath:instancePath+"/enum",schemaPath:"#/properties/enum/uniqueItems",keyword:"uniqueItems",params:{i:i4,j:j2},message:"must NOT have duplicate items (items ## "+j2+" and "+i4+" are identical)"}],!1;break outer0}}}}else return validate10.errors=[{instancePath:instancePath+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var valid0=_errs80===errors}else var valid0=!0;if(valid0){if(data.type!==void 0){let data38=data.type,_errs82=errors,_errs83=errors,valid18=!1,_errs84=errors;if(!(data38==="array"||data38==="boolean"||data38==="integer"||data38==="null"||data38==="number"||data38==="object"||data38==="string")){let err7={instancePath:instancePath+"/type",schemaPath:"#/definitions/simpleTypes/enum",keyword:"enum",params:{allowedValues:schema20.enum},message:"must be equal to one of the allowed values"};vErrors===null?vErrors=[err7]:vErrors.push(err7),errors++}var _valid2=_errs84===errors;if(valid18=valid18||_valid2,!valid18){let _errs86=errors;if(errors===_errs86)if(Array.isArray(data38))if(data38.length<1){let err8={instancePath:instancePath+"/type",schemaPath:"#/properties/type/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};vErrors===null?vErrors=[err8]:vErrors.push(err8),errors++}else{var valid20=!0;let len2=data38.length;for(let i5=0;i5<len2;i5++){let data39=data38[i5],_errs88=errors;if(!(data39==="array"||data39==="boolean"||data39==="integer"||data39==="null"||data39==="number"||data39==="object"||data39==="string")){let err9={instancePath:instancePath+"/type/"+i5,schemaPath:"#/definitions/simpleTypes/enum",keyword:"enum",params:{allowedValues:schema20.enum},message:"must be equal to one of the allowed values"};vErrors===null?vErrors=[err9]:vErrors.push(err9),errors++}var valid20=_errs88===errors;if(!valid20)break}if(valid20){let i6=data38.length,j3;if(i6>1){outer1:for(;i6--;)for(j3=i6;j3--;)if(func0(data38[i6],data38[j3])){let err10={instancePath:instancePath+"/type",schemaPath:"#/properties/type/anyOf/1/uniqueItems",keyword:"uniqueItems",params:{i:i6,j:j3},message:"must NOT have duplicate items (items ## "+j3+" and "+i6+" are identical)"};vErrors===null?vErrors=[err10]:vErrors.push(err10),errors++;break outer1}}}}else{let err11={instancePath:instancePath+"/type",schemaPath:"#/properties/type/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};vErrors===null?vErrors=[err11]:vErrors.push(err11),errors++}var _valid2=_errs86===errors;valid18=valid18||_valid2}if(valid18)errors=_errs83,vErrors!==null&&(_errs83?vErrors.length=_errs83:vErrors=null);else{let err12={instancePath:instancePath+"/type",schemaPath:"#/properties/type/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return vErrors===null?vErrors=[err12]:vErrors.push(err12),errors++,validate10.errors=vErrors,!1}var valid0=_errs82===errors}else var valid0=!0;if(valid0){if(data.format!==void 0){let _errs90=errors;if(typeof data.format!="string")return validate10.errors=[{instancePath:instancePath+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var valid0=_errs90===errors}else var valid0=!0;if(valid0){if(data.contentMediaType!==void 0){let _errs92=errors;if(typeof data.contentMediaType!="string")return validate10.errors=[{instancePath:instancePath+"/contentMediaType",schemaPath:"#/properties/contentMediaType/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var valid0=_errs92===errors}else var valid0=!0;if(valid0){if(data.contentEncoding!==void 0){let _errs94=errors;if(typeof data.contentEncoding!="string")return validate10.errors=[{instancePath:instancePath+"/contentEncoding",schemaPath:"#/properties/contentEncoding/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var valid0=_errs94===errors}else var valid0=!0;if(valid0){if(data.if!==void 0){let _errs96=errors;validate10(data.if,{instancePath:instancePath+"/if",parentData:data,parentDataProperty:"if",rootData})||(vErrors=vErrors===null?validate10.errors:vErrors.concat(validate10.errors),errors=vErrors.length);var valid0=_errs96===errors}else var valid0=!0;if(valid0){if(data.then!==void 0){let _errs97=errors;validate10(data.then,{instancePath:instancePath+"/then",parentData:data,parentDataProperty:"then",rootData})||(vErrors=vErrors===null?validate10.errors:vErrors.concat(validate10.errors),errors=vErrors.length);var valid0=_errs97===errors}else var valid0=!0;if(valid0){if(data.else!==void 0){let _errs98=errors;validate10(data.else,{instancePath:instancePath+"/else",parentData:data,parentDataProperty:"else",rootData})||(vErrors=vErrors===null?validate10.errors:vErrors.concat(validate10.errors),errors=vErrors.length);var valid0=_errs98===errors}else var valid0=!0;if(valid0){if(data.allOf!==void 0){let _errs99=errors;validate13(data.allOf,{instancePath:instancePath+"/allOf",parentData:data,parentDataProperty:"allOf",rootData})||(vErrors=vErrors===null?validate13.errors:vErrors.concat(validate13.errors),errors=vErrors.length);var valid0=_errs99===errors}else var valid0=!0;if(valid0){if(data.anyOf!==void 0){let _errs100=errors;validate13(data.anyOf,{instancePath:instancePath+"/anyOf",parentData:data,parentDataProperty:"anyOf",rootData})||(vErrors=vErrors===null?validate13.errors:vErrors.concat(validate13.errors),errors=vErrors.length);var valid0=_errs100===errors}else var valid0=!0;if(valid0){if(data.oneOf!==void 0){let _errs101=errors;validate13(data.oneOf,{instancePath:instancePath+"/oneOf",parentData:data,parentDataProperty:"oneOf",rootData})||(vErrors=vErrors===null?validate13.errors:vErrors.concat(validate13.errors),errors=vErrors.length);var valid0=_errs101===errors}else var valid0=!0;if(valid0)if(data.not!==void 0){let _errs102=errors;validate10(data.not,{instancePath:instancePath+"/not",parentData:data,parentDataProperty:"not",rootData})||(vErrors=vErrors===null?validate10.errors:vErrors.concat(validate10.errors),errors=vErrors.length);var valid0=_errs102===errors}else var valid0=!0}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}return validate10.errors=vErrors,errors===0}}});var require_errors4=__commonJS({"../../../../node_modules/@fastify/merge-json-schemas/lib/errors.js"(exports2,module2){"use strict";var MergeError=class extends Error{constructor(keyword,schemas){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Failed to merge "${keyword}" keyword schemas.`,this.schemas=schemas}},ResolverNotFoundError=class extends Error{constructor(keyword,schemas){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Resolver for "${keyword}" keyword not found.`,this.schemas=schemas}},InvalidOnConflictOptionError=class extends Error{constructor(onConflict){super(),this.name="JsonSchemaMergeError",this.code="JSON_SCHEMA_MERGE_ERROR",this.message=`Invalid "onConflict" option: "${onConflict}".`}};module2.exports={MergeError,ResolverNotFoundError,InvalidOnConflictOptionError}}});var require_resolvers=__commonJS({"../../../../node_modules/@fastify/merge-json-schemas/lib/resolvers.js"(exports2,module2){"use strict";var{dequal:deepEqual}=require_dist2(),{MergeError}=require_errors4();function _arraysIntersection(arrays){let intersection=arrays[0];for(let i=1;i<arrays.length;i++)intersection=intersection.filter(value=>arrays[i].includes(value));return intersection}function arraysIntersection(keyword,values2,mergedSchema){let intersection=_arraysIntersection(values2);if(intersection.length===0)throw new MergeError(keyword,values2);mergedSchema[keyword]=intersection}function hybridArraysIntersection(keyword,values2,mergedSchema){for(let i=0;i<values2.length;i++)Array.isArray(values2[i])||(values2[i]=[values2[i]]);let intersection=_arraysIntersection(values2);if(intersection.length===0)throw new MergeError(keyword,values2);intersection.length===1?mergedSchema[keyword]=intersection[0]:mergedSchema[keyword]=intersection}function arraysUnion(keyword,values2,mergedSchema){let union=[];for(let array of values2)for(let value of array)union.includes(value)||union.push(value);mergedSchema[keyword]=union}function minNumber(keyword,values2,mergedSchema){mergedSchema[keyword]=Math.min(...values2)}function maxNumber(keyword,values2,mergedSchema){mergedSchema[keyword]=Math.max(...values2)}function commonMultiple(keyword,values2,mergedSchema){let gcd=(a,b)=>b?gcd(b,a%b):a,lcm=(a,b)=>a*b/gcd(a,b),scale=1;for(let value of values2)for(;value*scale%1!==0;)scale*=10;let multiple=values2[0]*scale;for(let value of values2)multiple=lcm(multiple,value*scale);mergedSchema[keyword]=multiple/scale}function allEqual(keyword,values2,mergedSchema){let firstValue=values2[0];for(let i=1;i<values2.length;i++)if(!deepEqual(values2[i],firstValue))throw new MergeError(keyword,values2);mergedSchema[keyword]=firstValue}function skip(){}function booleanAnd(keyword,values2,mergedSchema){for(let value of values2)if(value===!1){mergedSchema[keyword]=!1;return}mergedSchema[keyword]=!0}function booleanOr(keyword,values2,mergedSchema){for(let value of values2)if(value===!0){mergedSchema[keyword]=!0;return}mergedSchema[keyword]=!1}module2.exports={arraysIntersection,hybridArraysIntersection,arraysUnion,minNumber,maxNumber,commonMultiple,allEqual,booleanAnd,booleanOr,skip}}});var require_merge_json_schemas=__commonJS({"../../../../node_modules/@fastify/merge-json-schemas/index.js"(exports2,module2){"use strict";var{dequal:deepEqual}=require_dist2(),resolvers=require_resolvers(),errors=require_errors4(),keywordsResolvers={$id:resolvers.skip,type:resolvers.hybridArraysIntersection,enum:resolvers.arraysIntersection,minLength:resolvers.maxNumber,maxLength:resolvers.minNumber,minimum:resolvers.maxNumber,maximum:resolvers.minNumber,multipleOf:resolvers.commonMultiple,exclusiveMinimum:resolvers.maxNumber,exclusiveMaximum:resolvers.minNumber,minItems:resolvers.maxNumber,maxItems:resolvers.minNumber,maxProperties:resolvers.minNumber,minProperties:resolvers.maxNumber,const:resolvers.allEqual,default:resolvers.allEqual,format:resolvers.allEqual,required:resolvers.arraysUnion,properties:mergeProperties,patternProperties:mergeObjects,additionalProperties:mergeSchemasResolver,items:mergeItems,additionalItems:mergeAdditionalItems,definitions:mergeObjects,$defs:mergeObjects,nullable:resolvers.booleanAnd,oneOf:mergeOneOf,anyOf:mergeOneOf,allOf:resolvers.arraysUnion,not:mergeSchemasResolver,if:mergeIfThenElseSchemas,then:resolvers.skip,else:resolvers.skip,dependencies:mergeDependencies,dependentRequired:mergeDependencies,dependentSchemas:mergeObjects,propertyNames:mergeSchemasResolver,uniqueItems:resolvers.booleanOr,contains:mergeSchemasResolver};function mergeSchemasResolver(keyword,values2,mergedSchema,_schemas,options2){mergedSchema[keyword]=_mergeSchemas(values2,options2)}function cartesianProduct(arrays){let result=[[]];for(let array of arrays){let temp=[];for(let x of result)for(let y of array)temp.push([...x,y]);result=temp}return result}function mergeOneOf(keyword,values2,mergedSchema,_schemas,options2){if(values2.length===1){mergedSchema[keyword]=values2[0];return}let product=cartesianProduct(values2),mergedOneOf=[];for(let combination of product)try{let mergedSchema2=_mergeSchemas(combination,options2);mergedSchema2!==void 0&&mergedOneOf.push(mergedSchema2)}catch(error){if(error instanceof errors.MergeError)continue;throw error}mergedSchema[keyword]=mergedOneOf}function getSchemaForItem(schema,index2){let{items,additionalItems}=schema;return Array.isArray(items)?index2<items.length?items[index2]:additionalItems:items!==void 0?items:additionalItems}function mergeItems(keyword,values2,mergedSchema,schemas,options2){let maxArrayItemsLength=0;for(let itemsSchema of values2)Array.isArray(itemsSchema)&&(maxArrayItemsLength=Math.max(maxArrayItemsLength,itemsSchema.length));if(maxArrayItemsLength===0){mergedSchema[keyword]=_mergeSchemas(values2,options2);return}let mergedItemsSchemas=[];for(let i=0;i<maxArrayItemsLength;i++){let indexItemSchemas=[];for(let schema of schemas){let itemSchema=getSchemaForItem(schema,i);itemSchema!==void 0&&indexItemSchemas.push(itemSchema)}mergedItemsSchemas[i]=_mergeSchemas(indexItemSchemas,options2)}mergedSchema[keyword]=mergedItemsSchemas}function mergeAdditionalItems(keyword,values2,mergedSchema,schemas,options2){let hasArrayItems=!1;for(let schema of schemas)if(Array.isArray(schema.items)){hasArrayItems=!0;break}if(!hasArrayItems){mergedSchema[keyword]=_mergeSchemas(values2,options2);return}let mergedAdditionalItemsSchemas=[];for(let schema of schemas){let additionalItemsSchema=schema.additionalItems;additionalItemsSchema===void 0&&!Array.isArray(schema.items)&&(additionalItemsSchema=schema.items),additionalItemsSchema!==void 0&&mergedAdditionalItemsSchemas.push(additionalItemsSchema)}mergedSchema[keyword]=_mergeSchemas(mergedAdditionalItemsSchemas,options2)}function getSchemaForProperty(schema,propertyName){let{properties,patternProperties,additionalProperties}=schema;if(properties?.[propertyName]!==void 0)return properties[propertyName];for(let pattern of Object.keys(patternProperties??{}))if(new RegExp(pattern).test(propertyName))return patternProperties[pattern];return additionalProperties}function mergeProperties(keyword,_values,mergedSchema,schemas,options2){let foundProperties={};for(let currentSchema of schemas){let properties=currentSchema.properties??{};for(let propertyName of Object.keys(properties)){if(foundProperties[propertyName]!==void 0)continue;let propertySchema=properties[propertyName];foundProperties[propertyName]=[propertySchema];for(let anotherSchema of schemas){if(currentSchema===anotherSchema)continue;let propertySchema2=getSchemaForProperty(anotherSchema,propertyName);propertySchema2!==void 0&&foundProperties[propertyName].push(propertySchema2)}}}let mergedProperties={};for(let property of Object.keys(foundProperties)){let propertySchemas=foundProperties[property];mergedProperties[property]=_mergeSchemas(propertySchemas,options2)}mergedSchema[keyword]=mergedProperties}function mergeObjects(keyword,values2,mergedSchema,_schemas,options2){let objectsProperties={};for(let properties of values2)for(let propertyName of Object.keys(properties))objectsProperties[propertyName]===void 0&&(objectsProperties[propertyName]=[]),objectsProperties[propertyName].push(properties[propertyName]);let mergedProperties={};for(let propertyName of Object.keys(objectsProperties)){let propertySchemas=objectsProperties[propertyName],mergedPropertySchema=_mergeSchemas(propertySchemas,options2);mergedProperties[propertyName]=mergedPropertySchema}mergedSchema[keyword]=mergedProperties}function mergeIfThenElseSchemas(_keyword,_values,mergedSchema,schemas,options2){for(let i=0;i<schemas.length;i++){let subSchema={if:schemas[i].if,then:schemas[i].then,else:schemas[i].else};if(subSchema.if!==void 0){if(mergedSchema.if===void 0){mergedSchema.if=subSchema.if,subSchema.then!==void 0&&(mergedSchema.then=subSchema.then),subSchema.else!==void 0&&(mergedSchema.else=subSchema.else);continue}mergedSchema.then!==void 0&&(mergedSchema.then=_mergeSchemas([mergedSchema.then,subSchema],options2)),mergedSchema.else!==void 0&&(mergedSchema.else=_mergeSchemas([mergedSchema.else,subSchema],options2))}}}function mergeDependencies(keyword,values2,mergedSchema){let mergedDependencies={};for(let dependencies of values2)for(let propertyName of Object.keys(dependencies)){mergedDependencies[propertyName]===void 0&&(mergedDependencies[propertyName]=[]);let mergedPropertyDependencies=mergedDependencies[propertyName];for(let propertyDependency of dependencies[propertyName])mergedPropertyDependencies.includes(propertyDependency)||mergedPropertyDependencies.push(propertyDependency)}mergedSchema[keyword]=mergedDependencies}function _mergeSchemas(schemas,options2){if(schemas.length===0)return{};if(schemas.length===1)return schemas[0];let mergedSchema={},keywords={},allSchemasAreTrue=!0;for(let schema of schemas){if(schema===!1)return!1;if(schema!==!0){allSchemasAreTrue=!1;for(let keyword of Object.keys(schema))keywords[keyword]===void 0&&(keywords[keyword]=[]),keywords[keyword].push(schema[keyword])}}if(allSchemasAreTrue)return!0;for(let keyword of Object.keys(keywords)){let keywordValues=keywords[keyword];(options2.resolvers[keyword]??options2.defaultResolver)(keyword,keywordValues,mergedSchema,schemas,options2)}return mergedSchema}function defaultResolver(keyword,values2,mergedSchema,_schemas,options2){let onConflict=options2.onConflict??"throw";if(values2.length===1||onConflict==="first"){mergedSchema[keyword]=values2[0];return}let allValuesEqual=!0;for(let i=1;i<values2.length;i++)if(!deepEqual(values2[i],values2[0])){allValuesEqual=!1;break}if(allValuesEqual){mergedSchema[keyword]=values2[0];return}if(onConflict==="throw")throw new errors.ResolverNotFoundError(keyword,values2);if(onConflict!=="skip")throw new errors.InvalidOnConflictOptionError(onConflict)}function mergeSchemas(schemas,options2={}){return options2.defaultResolver===void 0&&(options2.defaultResolver=defaultResolver),options2.resolvers={...keywordsResolvers,...options2.resolvers},_mergeSchemas(schemas,options2)}module2.exports={mergeSchemas,keywordsResolvers,defaultResolver,...errors}}});var require_merge_schemas=__commonJS({"../../../../node_modules/fast-json-stringify/lib/merge-schemas.js"(exports2,module2){"use strict";var{mergeSchemas:_mergeSchemas}=require_merge_json_schemas();function mergeSchemas(schemas){return _mergeSchemas(schemas,{onConflict:"skip"})}module2.exports=mergeSchemas}});var require_standalone3=__commonJS({"../../../../node_modules/fast-json-stringify/lib/standalone.js"(exports2,module2){"use strict";function buildStandaloneCode(contextFunc,context,serializer,validator){let ajvDependencyCode="";context.validatorSchemasIds.size>0?(ajvDependencyCode+=`const Validator = require('fast-json-stringify/lib/validator')
`,ajvDependencyCode+=`const validatorState = ${JSON.stringify(validator.getState())}
`,ajvDependencyCode+=`const validator = Validator.restoreFromState(validatorState)
`):ajvDependencyCode+=`const validator = null
`;let{schema,...serializerState}=serializer.getState();return`
  'use strict'

  const Serializer = require('fast-json-stringify/lib/serializer')
  const serializerState = ${JSON.stringify(serializerState)}
  const serializer = Serializer.restoreFromState(serializerState)

  ${ajvDependencyCode}

  module.exports = ${contextFunc.toString()}(validator, serializer)`}module2.exports=buildStandaloneCode;module2.exports.dependencies={Serializer:require_serializer(),Validator:require_validator()}}});var require_fast_json_stringify=__commonJS({"../../../../node_modules/fast-json-stringify/index.js"(exports2,module2){"use strict";var{RefResolver}=require_json_schema_ref_resolver(),Serializer=require_serializer(),Validator=require_validator(),Location=require_location(),validate=require_schema_validator(),mergeSchemas=require_merge_schemas(),SINGLE_TICK=/'/g,largeArraySize=2e4,largeArrayMechanism="default",serializerFns=`
const {
  asString,
  asNumber,
  asBoolean,
  asDateTime,
  asDate,
  asTime,
  asUnsafeString
} = serializer

const asInteger = serializer.asInteger.bind(serializer)

`,validRoundingMethods=new Set(["floor","ceil","round","trunc"]),validLargeArrayMechanisms=new Set(["default","json-stringify"]),schemaIdCounter=0;function isValidSchema(schema,name){if(!validate(schema)){name?name=`"${name}" `:name="";let first=validate.errors[0],err=new Error(`${name}schema is invalid: data${first.instancePath} ${first.message}`);throw err.errors=isValidSchema.errors,err}}function resolveRef(context,location){let ref=location.schema.$ref,hashIndex=ref.indexOf("#");hashIndex===-1&&(hashIndex=ref.length);let schemaId=ref.slice(0,hashIndex)||location.schemaId,jsonPointer=ref.slice(hashIndex)||"#",schema=context.refResolver.getSchema(schemaId,jsonPointer);if(schema===null)throw new Error(`Cannot find reference "${ref}"`);let newLocation=new Location(schema,schemaId,jsonPointer);return schema.$ref!==void 0?resolveRef(context,newLocation):newLocation}function getMergedLocation(context,mergedSchemaId){let mergedSchema=context.refResolver.getSchema(mergedSchemaId,"#");return new Location(mergedSchema,mergedSchemaId,"#")}function getSchemaId(schema,rootSchemaId){return schema.$id&&schema.$id.charAt(0)!=="#"?schema.$id:rootSchemaId}function getSafeSchemaRef(context,location){let schemaRef=location.getSchemaRef()||"";return schemaRef.startsWith(context.rootSchemaId)&&(schemaRef=schemaRef.replace(context.rootSchemaId,"")||"#"),schemaRef}function build2(schema,options2){isValidSchema(schema),options2=options2||{};let context={functions:[],functionsCounter:0,functionsNamesBySchema:new Map,options:options2,refResolver:new RefResolver,rootSchemaId:schema.$id||`__fjs_root_${schemaIdCounter++}`,validatorSchemasIds:new Set,mergedSchemasIds:new Map,recursiveSchemas:new Set,recursivePaths:new Set,buildingSet:new Set,uid:0},schemaId=getSchemaId(schema,context.rootSchemaId);if(context.refResolver.hasSchema(schemaId)||context.refResolver.addSchema(schema,context.rootSchemaId),options2.schema)for(let key in options2.schema){let schema2=options2.schema[key],schemaId2=getSchemaId(schema2,key);context.refResolver.hasSchema(schemaId2)||(isValidSchema(schema2,key),context.refResolver.addSchema(schema2,key))}if(options2.rounding&&!validRoundingMethods.has(options2.rounding))throw new Error(`Unsupported integer rounding method ${options2.rounding}`);if(options2.largeArrayMechanism)if(validLargeArrayMechanisms.has(options2.largeArrayMechanism))largeArrayMechanism=options2.largeArrayMechanism;else throw new Error(`Unsupported large array mechanism ${options2.largeArrayMechanism}`);if(options2.largeArraySize){let largeArraySizeType=typeof options2.largeArraySize,parsedNumber;if(largeArraySizeType==="string"&&Number.isFinite(parsedNumber=Number.parseInt(options2.largeArraySize,10)))largeArraySize=parsedNumber;else if(largeArraySizeType==="number"&&Number.isInteger(options2.largeArraySize))largeArraySize=options2.largeArraySize;else if(largeArraySizeType==="bigint")largeArraySize=Number(options2.largeArraySize);else throw new Error(`Unsupported large array size. Expected integer-like, got ${typeof options2.largeArraySize} with value ${options2.largeArraySize}`)}let location=new Location(schema,context.rootSchemaId);detectRecursiveSchemas(context,location);let code2=buildValue(context,location,"input"),contextFunctionCode=`
    ${serializerFns}
    const JSON_STR_BEGIN_OBJECT = '{'
    const JSON_STR_END_OBJECT = '}'
    const JSON_STR_BEGIN_ARRAY = '['
    const JSON_STR_END_ARRAY = ']'
    const JSON_STR_COMMA = ','
    const JSON_STR_COLONS = ':'
    const JSON_STR_QUOTE = '"'
    const JSON_STR_EMPTY_OBJECT = JSON_STR_BEGIN_OBJECT + JSON_STR_END_OBJECT
    const JSON_STR_EMPTY_ARRAY = JSON_STR_BEGIN_ARRAY + JSON_STR_END_ARRAY
    const JSON_STR_EMPTY_STRING = JSON_STR_QUOTE + JSON_STR_QUOTE
    const JSON_STR_NULL = 'null'
  `;code2==="json += anonymous0(input)"?contextFunctionCode+=`
    ${context.functions.join(`
`)}
    const main = anonymous0
    return main
    `:contextFunctionCode+=`
    function main (input) {
      let json = ''
      ${code2}
      return json
    }
    ${context.functions.join(`
`)}
    return main
    `;let serializer=new Serializer(options2),validator=new Validator(options2.ajv);for(let schemaId2 of context.validatorSchemasIds){let schema2=context.refResolver.getSchema(schemaId2);validator.addSchema(schema2,schemaId2);let dependencies=context.refResolver.getSchemaDependencies(schemaId2);for(let[schemaId3,schema3]of Object.entries(dependencies))validator.addSchema(schema3,schemaId3)}if(options2.debugMode&&(options2.mode="debug"),options2.mode==="debug")return{validator,serializer,code:`validator
serializer
${contextFunctionCode}`,ajv:validator.ajv};let contextFunc=new Function("validator","serializer",contextFunctionCode);return options2.mode==="standalone"?require_standalone3()(contextFunc,context,serializer,validator):contextFunc(validator,serializer)}var objectKeywords=["properties","required","additionalProperties","patternProperties","maxProperties","minProperties","dependencies"],arrayKeywords=["items","additionalItems","maxItems","minItems","uniqueItems","contains"],stringKeywords=["maxLength","minLength","pattern"],numberKeywords=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum"];function inferTypeByKeyword(schema){for(let keyword of objectKeywords)if(keyword in schema)return"object";for(let keyword of arrayKeywords)if(keyword in schema)return"array";for(let keyword of stringKeywords)if(keyword in schema)return"string";for(let keyword of numberKeywords)if(keyword in schema)return"number";return schema.type}function buildExtraObjectPropertiesSerializer(context,location,addComma,objVar){let schema=location.schema,propertiesKeys=Object.keys(schema.properties||{}),code2=`
    const propertiesKeys = ${JSON.stringify(propertiesKeys)}
    for (const [key, value] of Object.entries(${objVar})) {
      if (
        propertiesKeys.includes(key) ||
        value === undefined ||
        typeof value === 'function' ||
        typeof value === 'symbol'
      ) continue
  `,patternPropertiesLocation=location.getPropertyLocation("patternProperties"),patternPropertiesSchema=patternPropertiesLocation.schema;if(patternPropertiesSchema!==void 0)for(let propertyKey in patternPropertiesSchema){let propertyLocation=patternPropertiesLocation.getPropertyLocation(propertyKey);code2+=`
        if (/${propertyKey.replace(/\\*\//g,"\\/")}/.test(key)) {
          ${addComma}
          json += asString(key) + JSON_STR_COLONS
          ${buildValue(context,propertyLocation,"value")}
          continue
        }
      `}let additionalPropertiesSchema=location.getPropertyLocation("additionalProperties").schema;if(additionalPropertiesSchema!==void 0)if(additionalPropertiesSchema===!0)code2+=`
        ${addComma}
        json += asString(key) + JSON_STR_COLONS + JSON.stringify(value)
      `;else{let propertyLocation=location.getPropertyLocation("additionalProperties");code2+=`
        ${addComma}
        json += asString(key) + JSON_STR_COLONS
        ${buildValue(context,propertyLocation,"value")}
      `}return code2+=`
    }
  `,code2}function buildInnerObject(context,location,objVar){let schema=location.schema,propertiesLocation=location.getPropertyLocation("properties"),requiredProperties=schema.required||[],propertiesKeys=Object.keys(schema.properties||{}).sort((key1,key2)=>{let required1=requiredProperties.includes(key1),required2=requiredProperties.includes(key2);return required1===required2?0:required1?-1:1}),code2="";for(let key of requiredProperties)if(!propertiesKeys.includes(key)){let sanitizedKey=JSON.stringify(key);code2+=`if (${objVar}[${sanitizedKey}] === undefined) throw new Error('${sanitizedKey.replace(/'/g,"\\'")} is required!')
`}code2+=`json += JSON_STR_BEGIN_OBJECT
`;let localUid=context.uid++,addComma="";(propertiesKeys.length>1||schema.patternProperties||schema.additionalProperties!==void 0&&schema.additionalProperties!==!1)&&(code2+=`let addComma_${localUid} = false
`,addComma=`!addComma_${localUid} && (addComma_${localUid} = true) || (json += JSON_STR_COMMA)`);for(let key of propertiesKeys){let propertyLocation=propertiesLocation.getPropertyLocation(key);propertyLocation.schema.$ref&&(propertyLocation=resolveRef(context,propertyLocation));let sanitizedKey=JSON.stringify(key),value=`value_${key.replace(/[^a-zA-Z0-9]/g,"_")}_${context.uid++}`,defaultValue=propertyLocation.schema.default,isRequired=requiredProperties.includes(key);code2+=`
      const ${value} = ${objVar}[${sanitizedKey}]
      if (${value} !== undefined) {
        ${addComma}
        json += ${JSON.stringify(sanitizedKey+":")}
        ${buildValue(context,propertyLocation,`${value}`)}
      }`,defaultValue!==void 0?code2+=` else {
        ${addComma}
        json += ${JSON.stringify(sanitizedKey+":"+JSON.stringify(defaultValue))}
      }
      `:isRequired?code2+=` else {
        throw new Error('${sanitizedKey.replace(/'/g,"\\'")} is required!')
      }
      `:code2+=`
`}return(schema.patternProperties||schema.additionalProperties)&&(code2+=buildExtraObjectPropertiesSerializer(context,location,addComma,objVar)),code2+=`
    json += JSON_STR_END_OBJECT
  `,code2}function mergeLocations(context,mergedSchemaId,mergedLocations){for(let i=0,mergedLocationsLength=mergedLocations.length;i<mergedLocationsLength;i++){let location=mergedLocations[i];location.schema.$ref&&(mergedLocations[i]=resolveRef(context,location))}let mergedSchemas=[];for(let location of mergedLocations){let schema=cloneOriginSchema(context,location.schema,location.schemaId);delete schema.$id,mergedSchemas.push(schema)}let mergedSchema=mergeSchemas(mergedSchemas),mergedLocation=new Location(mergedSchema,mergedSchemaId);return context.refResolver.addSchema(mergedSchema,mergedSchemaId),mergedLocation}function cloneOriginSchema(context,schema,schemaId){let clonedSchema=Array.isArray(schema)?[]:{};schema.$id!==void 0&&schema.$id.charAt(0)!=="#"&&(schemaId=schema.$id);let mergedSchemaRef=context.mergedSchemasIds.get(schema);mergedSchemaRef&&context.mergedSchemasIds.set(clonedSchema,mergedSchemaRef);for(let key in schema){let value=schema[key];key==="$ref"&&typeof value=="string"&&value.charAt(0)==="#"&&(value=schemaId+value),typeof value=="object"&&value!==null&&(value=cloneOriginSchema(context,value,schemaId)),clonedSchema[key]=value}return clonedSchema}function toJSON(variableName){return`(${variableName} && typeof ${variableName}.toJSON === 'function')
    ? ${variableName}.toJSON()
    : ${variableName}
  `}function buildObject(context,location,input){let schema=location.schema;if(context.functionsNamesBySchema.has(schema))return`json += ${context.functionsNamesBySchema.get(schema)}(${input})`;let nullable=schema.nullable===!0,schemaId=location.schemaId||"",jsonPointer=location.jsonPointer||"",fullPath=`${schemaId}#${jsonPointer}`;if(context.recursivePaths.has(fullPath)||context.buildingSet.has(schema)){let functionName=generateFuncName(context);context.functionsNamesBySchema.set(schema,functionName);let functionCode=`
      // ${getSafeSchemaRef(context,location)}
      function ${functionName} (input) {
        const obj = ${toJSON("input")}
        if (obj === null) return ${nullable?"JSON_STR_NULL":"JSON_STR_EMPTY_OBJECT"}
        let json = ''

        ${buildInnerObject(context,location,"obj")}
        return json
      }
    `;return context.functions.push(functionCode),`json += ${functionName}(${input})`}context.buildingSet.add(schema);let objVar=`obj_${context.uid++}`,code2=`
    const ${objVar} = ${toJSON(input)}
    if (${objVar} === null) {
      json += ${nullable?"JSON_STR_NULL":"JSON_STR_EMPTY_OBJECT"}
    } else {
      ${buildInnerObject(context,location,objVar)}
    }
  `;return context.buildingSet.delete(schema),code2}function buildArray(context,location,input){let schema=location.schema,itemsLocation=location.getPropertyLocation("items");itemsLocation.schema=itemsLocation.schema||{},itemsLocation.schema.$ref&&(itemsLocation=resolveRef(context,itemsLocation));let itemsSchema=itemsLocation.schema;if(context.functionsNamesBySchema.has(schema))return`json += ${context.functionsNamesBySchema.get(schema)}(${input})`;let nullable=schema.nullable===!0,schemaId=location.schemaId||"",jsonPointer=location.jsonPointer||"",fullPath=`${schemaId}#${jsonPointer}`;if(context.recursivePaths.has(fullPath)||context.buildingSet.has(schema)){let functionName=generateFuncName(context);context.functionsNamesBySchema.set(schema,functionName);let schemaRef=getSafeSchemaRef(context,location),functionCode=`
    function ${functionName} (obj) {
      // ${schemaRef}
      let json = ''
  `;if(functionCode+=`
    if (obj === null) return ${nullable?"JSON_STR_NULL":"JSON_STR_EMPTY_ARRAY"}
    if (!Array.isArray(obj)) {
      throw new TypeError(\`The value of '${schemaRef}' does not match schema definition.\`)
    }
    const arrayLength = obj.length
  `,!schema.additionalItems&&Array.isArray(itemsSchema)&&(functionCode+=`
      if (arrayLength > ${itemsSchema.length}) {
        throw new Error(\`Item at ${itemsSchema.length} does not match schema definition.\`)
      }
    `),largeArrayMechanism==="json-stringify"&&(functionCode+=`if (arrayLength >= ${largeArraySize}) return JSON.stringify(obj)
`),functionCode+=`
    json += JSON_STR_BEGIN_ARRAY
  `,Array.isArray(itemsSchema)){for(let i=0,itemsSchemaLength=itemsSchema.length;i<itemsSchemaLength;i++){let item=itemsSchema[i],value=`value_${i}`;functionCode+=`const ${value} = obj[${i}]`;let tmpRes=buildValue(context,itemsLocation.getPropertyLocation(i),value);functionCode+=`
        if (${i} < arrayLength) {
          if (${buildArrayTypeCondition(item.type,value)}) {
            if (${i}) {
              json += JSON_STR_COMMA
            }
            ${tmpRes}
          } else {
            throw new Error(\`Item at ${i} does not match schema definition.\`)
          }
        }
        `}schema.additionalItems&&(functionCode+=`
        for (let i = ${itemsSchema.length}; i < arrayLength; i++) {
          if (i) {
            json += JSON_STR_COMMA
          }
          json += JSON.stringify(obj[i])
        }`)}else{let code2=buildValue(context,itemsLocation,"value");functionCode+=`
      for (let i = 0; i < arrayLength; i++) {
        if (i) {
          json += JSON_STR_COMMA
        }
        const value = obj[i]
        ${code2}
      }`}return functionCode+=`
      return json + JSON_STR_END_ARRAY
    }`,context.functions.push(functionCode),`json += ${functionName}(${input})`}context.buildingSet.add(schema);let safeSchemaRef=getSafeSchemaRef(context,location),objVar=`obj_${context.uid++}`,inlinedCode=`
    const ${objVar} = ${input}
    if (${objVar} === null) {
      json += ${nullable?"JSON_STR_NULL":"JSON_STR_EMPTY_ARRAY"}
    } else if (!Array.isArray(${objVar})) {
      throw new TypeError(\`The value of '${safeSchemaRef}' does not match schema definition.\`)
    } else {
      const arrayLength_${objVar} = ${objVar}.length
  `;if(!schema.additionalItems&&Array.isArray(itemsSchema)&&(inlinedCode+=`
      if (arrayLength_${objVar} > ${itemsSchema.length}) {
        throw new Error(\`Item at ${itemsSchema.length} does not match schema definition.\`)
      }
    `),largeArrayMechanism==="json-stringify"&&(inlinedCode+=`if (arrayLength_${objVar} >= ${largeArraySize}) json += JSON.stringify(${objVar})
 else {`),inlinedCode+=`
    json += JSON_STR_BEGIN_ARRAY
  `,Array.isArray(itemsSchema)){let localUid=context.uid++;inlinedCode+=`let addComma_${localUid} = false
`;for(let i=0,itemsSchemaLength=itemsSchema.length;i<itemsSchemaLength;i++){let item=itemsSchema[i],value=`value_${i}_${context.uid++}`;inlinedCode+=`const ${value} = ${objVar}[${i}]`;let tmpRes=buildValue(context,itemsLocation.getPropertyLocation(i),value);inlinedCode+=`
        if (${i} < arrayLength_${objVar}) {
          if (${buildArrayTypeCondition(item.type,value)}) {
            !addComma_${localUid} && (addComma_${localUid} = true) || (json += JSON_STR_COMMA)
            ${tmpRes}
          } else {
            throw new Error(\`Item at ${i} does not match schema definition.\`)
          }
        }
        `}schema.additionalItems&&(inlinedCode+=`
        for (let i = ${itemsSchema.length}; i < arrayLength_${objVar}; i++) {
          !addComma_${localUid} && (addComma_${localUid} = true) || (json += JSON_STR_COMMA)
          json += JSON.stringify(${objVar}[i])
        }`)}else{let code2=buildValue(context,itemsLocation,"value");inlinedCode+=`
      for (let i = 0; i < arrayLength_${objVar}; i++) {
        if (i) {
          json += JSON_STR_COMMA
        }
        const value = ${objVar}[i]
        ${code2}
      }`}return inlinedCode+=`
    json += JSON_STR_END_ARRAY
  `,largeArrayMechanism==="json-stringify"&&(inlinedCode+="}"),inlinedCode+="}",context.buildingSet.delete(schema),inlinedCode}function buildArrayTypeCondition(type,accessor){let condition;switch(type){case"null":condition=`${accessor} === null`;break;case"string":condition=`typeof ${accessor} === 'string' ||
      ${accessor} === null ||
      ${accessor} instanceof Date ||
      ${accessor} instanceof RegExp ||
      (
        typeof ${accessor} === "object" &&
        typeof ${accessor}.toString === "function" &&
        ${accessor}.toString !== Object.prototype.toString
      )`;break;case"integer":condition=`Number.isInteger(${accessor})`;break;case"number":condition=`Number.isFinite(${accessor})`;break;case"boolean":condition=`typeof ${accessor} === 'boolean'`;break;case"object":condition=`${accessor} && typeof ${accessor} === 'object' && ${accessor}.constructor === Object`;break;case"array":condition=`Array.isArray(${accessor})`;break;default:Array.isArray(type)&&(condition=`(${type.map(subType=>buildArrayTypeCondition(subType,accessor)).join(" || ")})`)}return condition}function generateFuncName(context){return"anonymous"+context.functionsCounter++}function buildMultiTypeSerializer(context,location,input){let types=location.schema.type.sort(t1=>t1==="null"?-1:1),code2="";return types.forEach((type,index2)=>{location.schema={...location.schema,type};let nestedResult=buildSingleTypeSerializer(context,location,input),statement=index2===0?"if":"else if";switch(type){case"null":code2+=`
          ${statement} (${input} === null) {
            ${nestedResult}
          }
          `;break;case"string":{code2+=`
          ${statement}(
            typeof ${input} === "string" ||
            ${input} === null ||
            ${input} instanceof Date ||
            ${input} instanceof RegExp ||
            (
              typeof ${input} === "object" &&
              typeof ${input}.toString === "function" &&
              ${input}.toString !== Object.prototype.toString
            )
          ) {
            ${nestedResult}
          }
        `;break}case"array":{code2+=`
          ${statement}(Array.isArray(${input})) {
            ${nestedResult}
          }
        `;break}case"integer":{code2+=`
          ${statement}(Number.isInteger(${input}) || ${input} === null) {
            ${nestedResult}
          }
        `;break}default:{code2+=`
          ${statement}(typeof ${input} === "${type}" || ${input} === null) {
            ${nestedResult}
          }
        `;break}}}),code2+=`
    else throw new TypeError(\`The value of '${getSafeSchemaRef(context,location)}' does not match schema definition.\`)
  `,code2}function buildSingleTypeSerializer(context,location,input){let schema=location.schema;switch(schema.type){case"null":return"json += JSON_STR_NULL";case"string":return schema.format==="date-time"?`json += asDateTime(${input})`:schema.format==="date"?`json += asDate(${input})`:schema.format==="time"?`json += asTime(${input})`:schema.format==="unsafe"?`json += asUnsafeString(${input})`:`
        if (typeof ${input} !== 'string') {
          if (${input} === null) {
            json += JSON_STR_EMPTY_STRING
          } else if (${input} instanceof Date) {
            json += JSON_STR_QUOTE + ${input}.toISOString() + JSON_STR_QUOTE
          } else if (${input} instanceof RegExp) {
            json += asString(${input}.source)
          } else {
            json += asString(${input}.toString())
          }
        } else {
          json += asString(${input})
        }
        `;case"integer":return`json += asInteger(${input})`;case"number":return`json += asNumber(${input})`;case"boolean":return`json += asBoolean(${input})`;case"object":return buildObject(context,location,input);case"array":return buildArray(context,location,input);case void 0:return`json += JSON.stringify(${input})`;default:throw new Error(`${schema.type} unsupported`)}}function detectRecursiveSchemas(context,location){let pathStack=new Set;function traverse(location2){let schema=location2.schema;if(typeof schema!="object"||schema===null)return;let schemaId=location2.schemaId||"",jsonPointer=location2.jsonPointer||"",fullPath=`${schemaId}#${jsonPointer}`;if(pathStack.has(fullPath)){let inCycle=!1;for(let p of pathStack)p===fullPath&&(inCycle=!0),inCycle&&context.recursivePaths.add(p);context.recursivePaths.add(fullPath);return}if(pathStack.add(fullPath),schema.$ref)try{let res=resolveRef(context,location2);traverse(res)}catch{}if(schema.properties){let propertiesLocation=location2.getPropertyLocation("properties");for(let key in schema.properties)traverse(propertiesLocation.getPropertyLocation(key))}if(schema.additionalProperties&&typeof schema.additionalProperties=="object"&&traverse(location2.getPropertyLocation("additionalProperties")),schema.patternProperties){let patternPropertiesLocation=location2.getPropertyLocation("patternProperties");for(let key in schema.patternProperties)traverse(patternPropertiesLocation.getPropertyLocation(key))}if(schema.items){let itemsLocation=location2.getPropertyLocation("items");if(Array.isArray(schema.items))for(let i=0;i<schema.items.length;i++)traverse(itemsLocation.getPropertyLocation(i));else traverse(itemsLocation)}if(schema.additionalItems&&typeof schema.additionalItems=="object"&&traverse(location2.getPropertyLocation("additionalItems")),schema.oneOf){let oneOfLocation=location2.getPropertyLocation("oneOf");for(let i=0;i<schema.oneOf.length;i++)traverse(oneOfLocation.getPropertyLocation(i))}if(schema.anyOf){let anyOfLocation=location2.getPropertyLocation("anyOf");for(let i=0;i<schema.anyOf.length;i++)traverse(anyOfLocation.getPropertyLocation(i))}if(schema.allOf){let allOfLocation=location2.getPropertyLocation("allOf");for(let i=0;i<schema.allOf.length;i++)traverse(allOfLocation.getPropertyLocation(i))}schema.then&&traverse(location2.getPropertyLocation("then")),schema.else&&traverse(location2.getPropertyLocation("else")),pathStack.delete(fullPath)}traverse(location)}function buildConstSerializer(location,input){let schema=location.schema,type=schema.type,hasNullType=Array.isArray(type)&&type.includes("null"),code2="";return hasNullType&&(code2+=`
      if (${input} === null) {
        json += JSON_STR_NULL
      } else {
    `),code2+=`json += '${JSON.stringify(schema.const).replace(SINGLE_TICK,"\\'")}'`,hasNullType&&(code2+=`
      }
    `),code2}function buildAllOf(context,location,input){let schema=location.schema,mergedSchemaId=context.mergedSchemasIds.get(schema);if(mergedSchemaId){let mergedLocation2=getMergedLocation(context,mergedSchemaId);return buildValue(context,mergedLocation2,input)}mergedSchemaId=`__fjs_merged_${schemaIdCounter++}`,context.mergedSchemasIds.set(schema,mergedSchemaId);let{allOf,...schemaWithoutAllOf}=location.schema,locations=[new Location(schemaWithoutAllOf,location.schemaId,location.jsonPointer)],allOfsLocation=location.getPropertyLocation("allOf");for(let i=0,allOfLength=allOf.length;i<allOfLength;i++)locations.push(allOfsLocation.getPropertyLocation(i));let mergedLocation=mergeLocations(context,mergedSchemaId,locations);return buildValue(context,mergedLocation,input)}function buildOneOf(context,location,input){context.validatorSchemasIds.add(location.schemaId);let type=location.schema.anyOf?"anyOf":"oneOf",{[type]:oneOfs,...schemaWithoutAnyOf}=location.schema,locationWithoutOneOf=new Location(schemaWithoutAnyOf,location.schemaId,location.jsonPointer),oneOfsLocation=location.getPropertyLocation(type),code2="";for(let index2=0,oneOfsLength=oneOfs.length;index2<oneOfsLength;index2++){let optionLocation=oneOfsLocation.getPropertyLocation(index2),optionSchema=optionLocation.schema,mergedSchemaId=context.mergedSchemasIds.get(optionSchema),mergedLocation=null;mergedSchemaId?mergedLocation=getMergedLocation(context,mergedSchemaId):(mergedSchemaId=`__fjs_merged_${schemaIdCounter++}`,context.mergedSchemasIds.set(optionSchema,mergedSchemaId),mergedLocation=mergeLocations(context,mergedSchemaId,[locationWithoutOneOf,optionLocation]));let nestedResult=buildValue(context,mergedLocation,input),schemaRef=optionLocation.getSchemaRef();code2+=`
      ${index2===0?"if":"else if"}(validator.validate("${schemaRef}", ${input})) {
        ${nestedResult}
      }
    `}return code2+=`
    else throw new TypeError(\`The value of '${getSafeSchemaRef(context,location)}' does not match schema definition.\`)
  `,code2}function buildIfThenElse(context,location,input){context.validatorSchemasIds.add(location.schemaId);let{if:ifSchema,then:thenSchema,else:elseSchema,...schemaWithoutIfThenElse}=location.schema,rootLocation=new Location(schemaWithoutIfThenElse,location.schemaId,location.jsonPointer),ifSchemaRef=location.getPropertyLocation("if").getSchemaRef(),thenLocation=location.getPropertyLocation("then"),thenMergedSchemaId=context.mergedSchemasIds.get(thenSchema),thenMergedLocation=null;if(thenMergedSchemaId?thenMergedLocation=getMergedLocation(context,thenMergedSchemaId):(thenMergedSchemaId=`__fjs_merged_${schemaIdCounter++}`,context.mergedSchemasIds.set(thenSchema,thenMergedSchemaId),thenMergedLocation=mergeLocations(context,thenMergedSchemaId,[rootLocation,thenLocation])),!elseSchema)return`
      if (validator.validate("${ifSchemaRef}", ${input})) {
        ${buildValue(context,thenMergedLocation,input)}
      } else {
        ${buildValue(context,rootLocation,input)}
      }
    `;let elseLocation=location.getPropertyLocation("else"),elseMergedSchemaId=context.mergedSchemasIds.get(elseSchema),elseMergedLocation=null;return elseMergedSchemaId?elseMergedLocation=getMergedLocation(context,elseMergedSchemaId):(elseMergedSchemaId=`__fjs_merged_${schemaIdCounter++}`,context.mergedSchemasIds.set(elseSchema,elseMergedSchemaId),elseMergedLocation=mergeLocations(context,elseMergedSchemaId,[rootLocation,elseLocation])),`
    if (validator.validate("${ifSchemaRef}", ${input})) {
      ${buildValue(context,thenMergedLocation,input)}
    } else {
      ${buildValue(context,elseMergedLocation,input)}
    }
  `}function buildValue(context,location,input){let schema=location.schema;if(typeof schema=="boolean")return`json += JSON.stringify(${input})`;if(schema.$ref&&(location=resolveRef(context,location),schema=location.schema),schema.allOf)return buildAllOf(context,location,input);if(schema.anyOf||schema.oneOf)return buildOneOf(context,location,input);if(schema.if&&schema.then)return buildIfThenElse(context,location,input);if(schema.type===void 0){let inferredType=inferTypeByKeyword(schema);inferredType&&(schema.type=inferredType)}let code2="",type=schema.type,nullable=schema.nullable===!0;return nullable&&(code2+=`
      if (${input} === null) {
        json += JSON_STR_NULL
      } else {
    `),schema.const!==void 0?code2+=buildConstSerializer(location,input):Array.isArray(type)?code2+=buildMultiTypeSerializer(context,location,input):code2+=buildSingleTypeSerializer(context,location,input),nullable&&(code2+=`
      }
    `),code2}module2.exports=build2;module2.exports.default=build2;module2.exports.build=build2;module2.exports.validLargeArrayMechanisms=validLargeArrayMechanisms;module2.exports.restore=function({code:code2,validator,serializer}){return Function.apply(null,["validator","serializer",code2]).apply(null,[validator,serializer])}}});var require_standalone4=__commonJS({"../../../../node_modules/@fastify/fast-json-stringify-compiler/standalone.js"(exports2,module2){"use strict";var fastJsonStringify=require_fast_json_stringify();function SerializerSelector(){return function(externalSchemas,serializerOpts){let fjsOpts=Object.assign({},serializerOpts,{schema:externalSchemas});return responseSchemaCompiler.bind(null,fjsOpts)}}function responseSchemaCompiler(fjsOpts,{schema}){return fjsOpts.schema&&schema.$id&&fjsOpts.schema[schema.$id]&&(fjsOpts.schema={...fjsOpts.schema},delete fjsOpts.schema[schema.$id]),fastJsonStringify(schema,fjsOpts)}function StandaloneSerializer(options2={readMode:!0}){if(options2.readMode===!0&&typeof options2.restoreFunction!="function")throw new Error("You must provide a function for the restoreFunction-option when readMode ON");if(options2.readMode!==!0&&typeof options2.storeFunction!="function")throw new Error("You must provide a function for the storeFunction-option when readMode OFF");if(options2.readMode===!0)return function(){return function(opts){return options2.restoreFunction(opts)}};let factory=SerializerSelector();return function(externalSchemas,serializerOpts={}){serializerOpts.mode="standalone";let compiler=factory(externalSchemas,serializerOpts);return function(opts){let serializeFuncCode=compiler(opts);return options2.storeFunction(opts,serializeFuncCode),new Function(serializeFuncCode)}}}module2.exports.SerializerSelector=SerializerSelector;module2.exports.StandaloneSerializer=StandaloneSerializer;module2.exports.default=StandaloneSerializer}});var require_fast_json_stringify_compiler=__commonJS({"../../../../node_modules/@fastify/fast-json-stringify-compiler/index.js"(exports2,module2){"use strict";var{SerializerSelector,StandaloneSerializer}=require_standalone4();module2.exports=SerializerSelector;module2.exports.default=SerializerSelector;module2.exports.SerializerSelector=SerializerSelector;module2.exports.StandaloneSerializer=StandaloneSerializer}});var require_schema_controller=__commonJS({"../../../../node_modules/fastify/lib/schema-controller.js"(exports2,module2){"use strict";var{buildSchemas}=require_schemas();function buildSchemaController(parentSchemaCtrl,opts){if(parentSchemaCtrl)return new SchemaController(parentSchemaCtrl,opts);let compilersFactory=Object.assign({buildValidator:null,buildSerializer:null},opts?.compilersFactory);if(!compilersFactory.buildValidator){let ValidatorSelector=require_ajv_compiler();compilersFactory.buildValidator=ValidatorSelector()}if(!compilersFactory.buildSerializer){let SerializerSelector=require_fast_json_stringify_compiler();compilersFactory.buildSerializer=SerializerSelector()}let option={bucket:opts&&opts.bucket||buildSchemas,compilersFactory,isCustomValidatorCompiler:typeof opts?.compilersFactory?.buildValidator=="function",isCustomSerializerCompiler:typeof opts?.compilersFactory?.buildValidator=="function"};return new SchemaController(void 0,option)}var SchemaController=class{constructor(parent,options2){this.opts=options2||parent?.opts,this.addedSchemas=!1,this.compilersFactory=this.opts.compilersFactory,parent?(this.schemaBucket=this.opts.bucket(parent.getSchemas()),this.validatorCompiler=parent.getValidatorCompiler(),this.serializerCompiler=parent.getSerializerCompiler(),this.isCustomValidatorCompiler=parent.isCustomValidatorCompiler,this.isCustomSerializerCompiler=parent.isCustomSerializerCompiler,this.parent=parent):(this.schemaBucket=this.opts.bucket(),this.isCustomValidatorCompiler=this.opts.isCustomValidatorCompiler||!1,this.isCustomSerializerCompiler=this.opts.isCustomSerializerCompiler||!1)}add(schema){return this.addedSchemas=!0,this.schemaBucket.add(schema)}getSchema(schemaId){return this.schemaBucket.getSchema(schemaId)}getSchemas(){return this.schemaBucket.getSchemas()}setValidatorCompiler(validatorCompiler){this.compilersFactory=Object.assign({},this.compilersFactory,{buildValidator:()=>validatorCompiler}),this.validatorCompiler=validatorCompiler,this.isCustomValidatorCompiler=!0}setSerializerCompiler(serializerCompiler){this.compilersFactory=Object.assign({},this.compilersFactory,{buildSerializer:()=>serializerCompiler}),this.serializerCompiler=serializerCompiler,this.isCustomSerializerCompiler=!0}getValidatorCompiler(){return this.validatorCompiler||this.parent&&this.parent.getValidatorCompiler()}getSerializerCompiler(){return this.serializerCompiler||this.parent&&this.parent.getSerializerCompiler()}getSerializerBuilder(){return this.compilersFactory.buildSerializer||this.parent&&this.parent.getSerializerBuilder()}getValidatorBuilder(){return this.compilersFactory.buildValidator||this.parent&&this.parent.getValidatorBuilder()}setupValidator(serverOptions){this.validatorCompiler!==void 0&&!this.addedSchemas||(this.validatorCompiler=this.getValidatorBuilder()(this.schemaBucket.getSchemas(),serverOptions.ajv))}setupSerializer(serverOptions){this.serializerCompiler!==void 0&&!this.addedSchemas||(this.serializerCompiler=this.getSerializerBuilder()(this.schemaBucket.getSchemas(),serverOptions.serializerOpts))}};SchemaController.buildSchemaController=buildSchemaController;module2.exports=SchemaController}});var require_constants2=__commonJS({"../../../../node_modules/semver/internal/constants.js"(exports2,module2){"use strict";var SEMVER_SPEC_VERSION="2.0.0",MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH=16,MAX_SAFE_BUILD_LENGTH=250,RELEASE_TYPES=["major","premajor","minor","preminor","patch","prepatch","prerelease"];module2.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH,MAX_SAFE_BUILD_LENGTH,MAX_SAFE_INTEGER,RELEASE_TYPES,SEMVER_SPEC_VERSION,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}});var require_debug2=__commonJS({"../../../../node_modules/semver/internal/debug.js"(exports2,module2){"use strict";var debug=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...args)=>console.error("SEMVER",...args):()=>{};module2.exports=debug}});var require_re=__commonJS({"../../../../node_modules/semver/internal/re.js"(exports2,module2){"use strict";var{MAX_SAFE_COMPONENT_LENGTH,MAX_SAFE_BUILD_LENGTH,MAX_LENGTH}=require_constants2(),debug=require_debug2();exports2=module2.exports={};var re=exports2.re=[],safeRe=exports2.safeRe=[],src=exports2.src=[],safeSrc=exports2.safeSrc=[],t=exports2.t={},R=0,LETTERDASHNUMBER="[a-zA-Z0-9-]",safeRegexReplacements=[["\\s",1],["\\d",MAX_LENGTH],[LETTERDASHNUMBER,MAX_SAFE_BUILD_LENGTH]],makeSafeRegex=value=>{for(let[token,max]of safeRegexReplacements)value=value.split(`${token}*`).join(`${token}{0,${max}}`).split(`${token}+`).join(`${token}{1,${max}}`);return value},createToken=(name,value,isGlobal)=>{let safe=makeSafeRegex(value),index2=R++;debug(name,index2,value),t[name]=index2,src[index2]=value,safeSrc[index2]=safe,re[index2]=new RegExp(value,isGlobal?"g":void 0),safeRe[index2]=new RegExp(safe,isGlobal?"g":void 0)};createToken("NUMERICIDENTIFIER","0|[1-9]\\d*");createToken("NUMERICIDENTIFIERLOOSE","\\d+");createToken("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`);createToken("MAINVERSION",`(${src[t.NUMERICIDENTIFIER]})\\.(${src[t.NUMERICIDENTIFIER]})\\.(${src[t.NUMERICIDENTIFIER]})`);createToken("MAINVERSIONLOOSE",`(${src[t.NUMERICIDENTIFIERLOOSE]})\\.(${src[t.NUMERICIDENTIFIERLOOSE]})\\.(${src[t.NUMERICIDENTIFIERLOOSE]})`);createToken("PRERELEASEIDENTIFIER",`(?:${src[t.NONNUMERICIDENTIFIER]}|${src[t.NUMERICIDENTIFIER]})`);createToken("PRERELEASEIDENTIFIERLOOSE",`(?:${src[t.NONNUMERICIDENTIFIER]}|${src[t.NUMERICIDENTIFIERLOOSE]})`);createToken("PRERELEASE",`(?:-(${src[t.PRERELEASEIDENTIFIER]}(?:\\.${src[t.PRERELEASEIDENTIFIER]})*))`);createToken("PRERELEASELOOSE",`(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`);createToken("BUILDIDENTIFIER",`${LETTERDASHNUMBER}+`);createToken("BUILD",`(?:\\+(${src[t.BUILDIDENTIFIER]}(?:\\.${src[t.BUILDIDENTIFIER]})*))`);createToken("FULLPLAIN",`v?${src[t.MAINVERSION]}${src[t.PRERELEASE]}?${src[t.BUILD]}?`);createToken("FULL",`^${src[t.FULLPLAIN]}$`);createToken("LOOSEPLAIN",`[v=\\s]*${src[t.MAINVERSIONLOOSE]}${src[t.PRERELEASELOOSE]}?${src[t.BUILD]}?`);createToken("LOOSE",`^${src[t.LOOSEPLAIN]}$`);createToken("GTLT","((?:<|>)?=?)");createToken("XRANGEIDENTIFIERLOOSE",`${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);createToken("XRANGEIDENTIFIER",`${src[t.NUMERICIDENTIFIER]}|x|X|\\*`);createToken("XRANGEPLAIN",`[v=\\s]*(${src[t.XRANGEIDENTIFIER]})(?:\\.(${src[t.XRANGEIDENTIFIER]})(?:\\.(${src[t.XRANGEIDENTIFIER]})(?:${src[t.PRERELEASE]})?${src[t.BUILD]}?)?)?`);createToken("XRANGEPLAINLOOSE",`[v=\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})(?:\\.(${src[t.XRANGEIDENTIFIERLOOSE]})(?:\\.(${src[t.XRANGEIDENTIFIERLOOSE]})(?:${src[t.PRERELEASELOOSE]})?${src[t.BUILD]}?)?)?`);createToken("XRANGE",`^${src[t.GTLT]}\\s*${src[t.XRANGEPLAIN]}$`);createToken("XRANGELOOSE",`^${src[t.GTLT]}\\s*${src[t.XRANGEPLAINLOOSE]}$`);createToken("COERCEPLAIN",`(^|[^\\d])(\\d{1,${MAX_SAFE_COMPONENT_LENGTH}})(?:\\.(\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?(?:\\.(\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`);createToken("COERCE",`${src[t.COERCEPLAIN]}(?:$|[^\\d])`);createToken("COERCEFULL",src[t.COERCEPLAIN]+`(?:${src[t.PRERELEASE]})?(?:${src[t.BUILD]})?(?:$|[^\\d])`);createToken("COERCERTL",src[t.COERCE],!0);createToken("COERCERTLFULL",src[t.COERCEFULL],!0);createToken("LONETILDE","(?:~>?)");createToken("TILDETRIM",`(\\s*)${src[t.LONETILDE]}\\s+`,!0);exports2.tildeTrimReplace="$1~";createToken("TILDE",`^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`);createToken("TILDELOOSE",`^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`);createToken("LONECARET","(?:\\^)");createToken("CARETTRIM",`(\\s*)${src[t.LONECARET]}\\s+`,!0);exports2.caretTrimReplace="$1^";createToken("CARET",`^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`);createToken("CARETLOOSE",`^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`);createToken("COMPARATORLOOSE",`^${src[t.GTLT]}\\s*(${src[t.LOOSEPLAIN]})$|^$`);createToken("COMPARATOR",`^${src[t.GTLT]}\\s*(${src[t.FULLPLAIN]})$|^$`);createToken("COMPARATORTRIM",`(\\s*)${src[t.GTLT]}\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`,!0);exports2.comparatorTrimReplace="$1$2$3";createToken("HYPHENRANGE",`^\\s*(${src[t.XRANGEPLAIN]})\\s+-\\s+(${src[t.XRANGEPLAIN]})\\s*$`);createToken("HYPHENRANGELOOSE",`^\\s*(${src[t.XRANGEPLAINLOOSE]})\\s+-\\s+(${src[t.XRANGEPLAINLOOSE]})\\s*$`);createToken("STAR","(<|>)?=?\\s*\\*");createToken("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");createToken("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}});var require_parse_options=__commonJS({"../../../../node_modules/semver/internal/parse-options.js"(exports2,module2){"use strict";var looseOption=Object.freeze({loose:!0}),emptyOpts=Object.freeze({}),parseOptions=options2=>options2?typeof options2!="object"?looseOption:options2:emptyOpts;module2.exports=parseOptions}});var require_identifiers=__commonJS({"../../../../node_modules/semver/internal/identifiers.js"(exports2,module2){"use strict";var numeric=/^[0-9]+$/,compareIdentifiers=(a,b)=>{if(typeof a=="number"&&typeof b=="number")return a===b?0:a<b?-1:1;let anum=numeric.test(a),bnum=numeric.test(b);return anum&&bnum&&(a=+a,b=+b),a===b?0:anum&&!bnum?-1:bnum&&!anum?1:a<b?-1:1},rcompareIdentifiers=(a,b)=>compareIdentifiers(b,a);module2.exports={compareIdentifiers,rcompareIdentifiers}}});var require_semver=__commonJS({"../../../../node_modules/semver/classes/semver.js"(exports2,module2){"use strict";var debug=require_debug2(),{MAX_LENGTH,MAX_SAFE_INTEGER}=require_constants2(),{safeRe:re,t}=require_re(),parseOptions=require_parse_options(),{compareIdentifiers}=require_identifiers(),SemVer=class _SemVer{constructor(version,options2){if(options2=parseOptions(options2),version instanceof _SemVer){if(version.loose===!!options2.loose&&version.includePrerelease===!!options2.includePrerelease)return version;version=version.version}else if(typeof version!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof version}".`);if(version.length>MAX_LENGTH)throw new TypeError(`version is longer than ${MAX_LENGTH} characters`);debug("SemVer",version,options2),this.options=options2,this.loose=!!options2.loose,this.includePrerelease=!!options2.includePrerelease;let m=version.trim().match(options2.loose?re[t.LOOSE]:re[t.FULL]);if(!m)throw new TypeError(`Invalid Version: ${version}`);if(this.raw=version,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>MAX_SAFE_INTEGER||this.major<0)throw new TypeError("Invalid major version");if(this.minor>MAX_SAFE_INTEGER||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>MAX_SAFE_INTEGER||this.patch<0)throw new TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map(id=>{if(/^[0-9]+$/.test(id)){let num=+id;if(num>=0&&num<MAX_SAFE_INTEGER)return num}return id}):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(other){if(debug("SemVer.compare",this.version,this.options,other),!(other instanceof _SemVer)){if(typeof other=="string"&&other===this.version)return 0;other=new _SemVer(other,this.options)}return other.version===this.version?0:this.compareMain(other)||this.comparePre(other)}compareMain(other){return other instanceof _SemVer||(other=new _SemVer(other,this.options)),this.major<other.major?-1:this.major>other.major?1:this.minor<other.minor?-1:this.minor>other.minor?1:this.patch<other.patch?-1:this.patch>other.patch?1:0}comparePre(other){if(other instanceof _SemVer||(other=new _SemVer(other,this.options)),this.prerelease.length&&!other.prerelease.length)return-1;if(!this.prerelease.length&&other.prerelease.length)return 1;if(!this.prerelease.length&&!other.prerelease.length)return 0;let i=0;do{let a=this.prerelease[i],b=other.prerelease[i];if(debug("prerelease compare",i,a,b),a===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(a===void 0)return-1;if(a===b)continue;return compareIdentifiers(a,b)}while(++i)}compareBuild(other){other instanceof _SemVer||(other=new _SemVer(other,this.options));let i=0;do{let a=this.build[i],b=other.build[i];if(debug("build compare",i,a,b),a===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(a===void 0)return-1;if(a===b)continue;return compareIdentifiers(a,b)}while(++i)}inc(release,identifier,identifierBase){if(release.startsWith("pre")){if(!identifier&&identifierBase===!1)throw new Error("invalid increment argument: identifier is empty");if(identifier){let match2=`-${identifier}`.match(this.options.loose?re[t.PRERELEASELOOSE]:re[t.PRERELEASE]);if(!match2||match2[1]!==identifier)throw new Error(`invalid identifier: ${identifier}`)}}switch(release){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",identifier,identifierBase);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",identifier,identifierBase);break;case"prepatch":this.prerelease.length=0,this.inc("patch",identifier,identifierBase),this.inc("pre",identifier,identifierBase);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",identifier,identifierBase),this.inc("pre",identifier,identifierBase);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let base=Number(identifierBase)?1:0;if(this.prerelease.length===0)this.prerelease=[base];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(identifier===this.prerelease.join(".")&&identifierBase===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(base)}}if(identifier){let prerelease=[identifier,base];identifierBase===!1&&(prerelease=[identifier]),compareIdentifiers(this.prerelease[0],identifier)===0?isNaN(this.prerelease[1])&&(this.prerelease=prerelease):this.prerelease=prerelease}break}default:throw new Error(`invalid increment argument: ${release}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};module2.exports=SemVer}});var require_parse2=__commonJS({"../../../../node_modules/semver/functions/parse.js"(exports2,module2){"use strict";var SemVer=require_semver(),parse2=(version,options2,throwErrors=!1)=>{if(version instanceof SemVer)return version;try{return new SemVer(version,options2)}catch(er){if(!throwErrors)return null;throw er}};module2.exports=parse2}});var require_valid=__commonJS({"../../../../node_modules/semver/functions/valid.js"(exports2,module2){"use strict";var parse2=require_parse2(),valid=(version,options2)=>{let v=parse2(version,options2);return v?v.version:null};module2.exports=valid}});var require_clean=__commonJS({"../../../../node_modules/semver/functions/clean.js"(exports2,module2){"use strict";var parse2=require_parse2(),clean=(version,options2)=>{let s=parse2(version.trim().replace(/^[=v]+/,""),options2);return s?s.version:null};module2.exports=clean}});var require_inc=__commonJS({"../../../../node_modules/semver/functions/inc.js"(exports2,module2){"use strict";var SemVer=require_semver(),inc=(version,release,options2,identifier,identifierBase)=>{typeof options2=="string"&&(identifierBase=identifier,identifier=options2,options2=void 0);try{return new SemVer(version instanceof SemVer?version.version:version,options2).inc(release,identifier,identifierBase).version}catch{return null}};module2.exports=inc}});var require_diff=__commonJS({"../../../../node_modules/semver/functions/diff.js"(exports2,module2){"use strict";var parse2=require_parse2(),diff=(version1,version2)=>{let v1=parse2(version1,null,!0),v2=parse2(version2,null,!0),comparison=v1.compare(v2);if(comparison===0)return null;let v1Higher=comparison>0,highVersion=v1Higher?v1:v2,lowVersion=v1Higher?v2:v1,highHasPre=!!highVersion.prerelease.length;if(!!lowVersion.prerelease.length&&!highHasPre){if(!lowVersion.patch&&!lowVersion.minor)return"major";if(lowVersion.compareMain(highVersion)===0)return lowVersion.minor&&!lowVersion.patch?"minor":"patch"}let prefix=highHasPre?"pre":"";return v1.major!==v2.major?prefix+"major":v1.minor!==v2.minor?prefix+"minor":v1.patch!==v2.patch?prefix+"patch":"prerelease"};module2.exports=diff}});var require_major=__commonJS({"../../../../node_modules/semver/functions/major.js"(exports2,module2){"use strict";var SemVer=require_semver(),major=(a,loose)=>new SemVer(a,loose).major;module2.exports=major}});var require_minor=__commonJS({"../../../../node_modules/semver/functions/minor.js"(exports2,module2){"use strict";var SemVer=require_semver(),minor=(a,loose)=>new SemVer(a,loose).minor;module2.exports=minor}});var require_patch=__commonJS({"../../../../node_modules/semver/functions/patch.js"(exports2,module2){"use strict";var SemVer=require_semver(),patch=(a,loose)=>new SemVer(a,loose).patch;module2.exports=patch}});var require_prerelease=__commonJS({"../../../../node_modules/semver/functions/prerelease.js"(exports2,module2){"use strict";var parse2=require_parse2(),prerelease=(version,options2)=>{let parsed=parse2(version,options2);return parsed&&parsed.prerelease.length?parsed.prerelease:null};module2.exports=prerelease}});var require_compare=__commonJS({"../../../../node_modules/semver/functions/compare.js"(exports2,module2){"use strict";var SemVer=require_semver(),compare=(a,b,loose)=>new SemVer(a,loose).compare(new SemVer(b,loose));module2.exports=compare}});var require_rcompare=__commonJS({"../../../../node_modules/semver/functions/rcompare.js"(exports2,module2){"use strict";var compare=require_compare(),rcompare=(a,b,loose)=>compare(b,a,loose);module2.exports=rcompare}});var require_compare_loose=__commonJS({"../../../../node_modules/semver/functions/compare-loose.js"(exports2,module2){"use strict";var compare=require_compare(),compareLoose=(a,b)=>compare(a,b,!0);module2.exports=compareLoose}});var require_compare_build=__commonJS({"../../../../node_modules/semver/functions/compare-build.js"(exports2,module2){"use strict";var SemVer=require_semver(),compareBuild=(a,b,loose)=>{let versionA=new SemVer(a,loose),versionB=new SemVer(b,loose);return versionA.compare(versionB)||versionA.compareBuild(versionB)};module2.exports=compareBuild}});var require_sort=__commonJS({"../../../../node_modules/semver/functions/sort.js"(exports2,module2){"use strict";var compareBuild=require_compare_build(),sort=(list2,loose)=>list2.sort((a,b)=>compareBuild(a,b,loose));module2.exports=sort}});var require_rsort=__commonJS({"../../../../node_modules/semver/functions/rsort.js"(exports2,module2){"use strict";var compareBuild=require_compare_build(),rsort=(list2,loose)=>list2.sort((a,b)=>compareBuild(b,a,loose));module2.exports=rsort}});var require_gt=__commonJS({"../../../../node_modules/semver/functions/gt.js"(exports2,module2){"use strict";var compare=require_compare(),gt=(a,b,loose)=>compare(a,b,loose)>0;module2.exports=gt}});var require_lt=__commonJS({"../../../../node_modules/semver/functions/lt.js"(exports2,module2){"use strict";var compare=require_compare(),lt=(a,b,loose)=>compare(a,b,loose)<0;module2.exports=lt}});var require_eq=__commonJS({"../../../../node_modules/semver/functions/eq.js"(exports2,module2){"use strict";var compare=require_compare(),eq=(a,b,loose)=>compare(a,b,loose)===0;module2.exports=eq}});var require_neq=__commonJS({"../../../../node_modules/semver/functions/neq.js"(exports2,module2){"use strict";var compare=require_compare(),neq=(a,b,loose)=>compare(a,b,loose)!==0;module2.exports=neq}});var require_gte=__commonJS({"../../../../node_modules/semver/functions/gte.js"(exports2,module2){"use strict";var compare=require_compare(),gte=(a,b,loose)=>compare(a,b,loose)>=0;module2.exports=gte}});var require_lte=__commonJS({"../../../../node_modules/semver/functions/lte.js"(exports2,module2){"use strict";var compare=require_compare(),lte=(a,b,loose)=>compare(a,b,loose)<=0;module2.exports=lte}});var require_cmp=__commonJS({"../../../../node_modules/semver/functions/cmp.js"(exports2,module2){"use strict";var eq=require_eq(),neq=require_neq(),gt=require_gt(),gte=require_gte(),lt=require_lt(),lte=require_lte(),cmp=(a,op,b,loose)=>{switch(op){case"===":return typeof a=="object"&&(a=a.version),typeof b=="object"&&(b=b.version),a===b;case"!==":return typeof a=="object"&&(a=a.version),typeof b=="object"&&(b=b.version),a!==b;case"":case"=":case"==":return eq(a,b,loose);case"!=":return neq(a,b,loose);case">":return gt(a,b,loose);case">=":return gte(a,b,loose);case"<":return lt(a,b,loose);case"<=":return lte(a,b,loose);default:throw new TypeError(`Invalid operator: ${op}`)}};module2.exports=cmp}});var require_coerce=__commonJS({"../../../../node_modules/semver/functions/coerce.js"(exports2,module2){"use strict";var SemVer=require_semver(),parse2=require_parse2(),{safeRe:re,t}=require_re(),coerce2=(version,options2)=>{if(version instanceof SemVer)return version;if(typeof version=="number"&&(version=String(version)),typeof version!="string")return null;options2=options2||{};let match2=null;if(!options2.rtl)match2=version.match(options2.includePrerelease?re[t.COERCEFULL]:re[t.COERCE]);else{let coerceRtlRegex=options2.includePrerelease?re[t.COERCERTLFULL]:re[t.COERCERTL],next;for(;(next=coerceRtlRegex.exec(version))&&(!match2||match2.index+match2[0].length!==version.length);)(!match2||next.index+next[0].length!==match2.index+match2[0].length)&&(match2=next),coerceRtlRegex.lastIndex=next.index+next[1].length+next[2].length;coerceRtlRegex.lastIndex=-1}if(match2===null)return null;let major=match2[2],minor=match2[3]||"0",patch=match2[4]||"0",prerelease=options2.includePrerelease&&match2[5]?`-${match2[5]}`:"",build2=options2.includePrerelease&&match2[6]?`+${match2[6]}`:"";return parse2(`${major}.${minor}.${patch}${prerelease}${build2}`,options2)};module2.exports=coerce2}});var require_lrucache=__commonJS({"../../../../node_modules/semver/internal/lrucache.js"(exports2,module2){"use strict";var LRUCache=class{constructor(){this.max=1e3,this.map=new Map}get(key){let value=this.map.get(key);if(value!==void 0)return this.map.delete(key),this.map.set(key,value),value}delete(key){return this.map.delete(key)}set(key,value){if(!this.delete(key)&&value!==void 0){if(this.map.size>=this.max){let firstKey=this.map.keys().next().value;this.delete(firstKey)}this.map.set(key,value)}return this}};module2.exports=LRUCache}});var require_range=__commonJS({"../../../../node_modules/semver/classes/range.js"(exports2,module2){"use strict";var SPACE_CHARACTERS=/\s+/g,Range=class _Range{constructor(range,options2){if(options2=parseOptions(options2),range instanceof _Range)return range.loose===!!options2.loose&&range.includePrerelease===!!options2.includePrerelease?range:new _Range(range.raw,options2);if(range instanceof Comparator)return this.raw=range.value,this.set=[[range]],this.formatted=void 0,this;if(this.options=options2,this.loose=!!options2.loose,this.includePrerelease=!!options2.includePrerelease,this.raw=range.trim().replace(SPACE_CHARACTERS," "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(c=>c.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let first=this.set[0];if(this.set=this.set.filter(c=>!isNullSet(c[0])),this.set.length===0)this.set=[first];else if(this.set.length>1){for(let c of this.set)if(c.length===1&&isAny(c[0])){this.set=[c];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let i=0;i<this.set.length;i++){i>0&&(this.formatted+="||");let comps=this.set[i];for(let k=0;k<comps.length;k++)k>0&&(this.formatted+=" "),this.formatted+=comps[k].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(range){let memoKey=((this.options.includePrerelease&&FLAG_INCLUDE_PRERELEASE)|(this.options.loose&&FLAG_LOOSE))+":"+range,cached=cache.get(memoKey);if(cached)return cached;let loose=this.options.loose,hr2=loose?re[t.HYPHENRANGELOOSE]:re[t.HYPHENRANGE];range=range.replace(hr2,hyphenReplace(this.options.includePrerelease)),debug("hyphen replace",range),range=range.replace(re[t.COMPARATORTRIM],comparatorTrimReplace),debug("comparator trim",range),range=range.replace(re[t.TILDETRIM],tildeTrimReplace),debug("tilde trim",range),range=range.replace(re[t.CARETTRIM],caretTrimReplace),debug("caret trim",range);let rangeList=range.split(" ").map(comp=>parseComparator(comp,this.options)).join(" ").split(/\s+/).map(comp=>replaceGTE0(comp,this.options));loose&&(rangeList=rangeList.filter(comp=>(debug("loose invalid filter",comp,this.options),!!comp.match(re[t.COMPARATORLOOSE])))),debug("range list",rangeList);let rangeMap=new Map,comparators=rangeList.map(comp=>new Comparator(comp,this.options));for(let comp of comparators){if(isNullSet(comp))return[comp];rangeMap.set(comp.value,comp)}rangeMap.size>1&&rangeMap.has("")&&rangeMap.delete("");let result=[...rangeMap.values()];return cache.set(memoKey,result),result}intersects(range,options2){if(!(range instanceof _Range))throw new TypeError("a Range is required");return this.set.some(thisComparators=>isSatisfiable(thisComparators,options2)&&range.set.some(rangeComparators=>isSatisfiable(rangeComparators,options2)&&thisComparators.every(thisComparator=>rangeComparators.every(rangeComparator=>thisComparator.intersects(rangeComparator,options2)))))}test(version){if(!version)return!1;if(typeof version=="string")try{version=new SemVer(version,this.options)}catch{return!1}for(let i=0;i<this.set.length;i++)if(testSet(this.set[i],version,this.options))return!0;return!1}};module2.exports=Range;var LRU=require_lrucache(),cache=new LRU,parseOptions=require_parse_options(),Comparator=require_comparator(),debug=require_debug2(),SemVer=require_semver(),{safeRe:re,t,comparatorTrimReplace,tildeTrimReplace,caretTrimReplace}=require_re(),{FLAG_INCLUDE_PRERELEASE,FLAG_LOOSE}=require_constants2(),isNullSet=c=>c.value==="<0.0.0-0",isAny=c=>c.value==="",isSatisfiable=(comparators,options2)=>{let result=!0,remainingComparators=comparators.slice(),testComparator=remainingComparators.pop();for(;result&&remainingComparators.length;)result=remainingComparators.every(otherComparator=>testComparator.intersects(otherComparator,options2)),testComparator=remainingComparators.pop();return result},parseComparator=(comp,options2)=>(comp=comp.replace(re[t.BUILD],""),debug("comp",comp,options2),comp=replaceCarets(comp,options2),debug("caret",comp),comp=replaceTildes(comp,options2),debug("tildes",comp),comp=replaceXRanges(comp,options2),debug("xrange",comp),comp=replaceStars(comp,options2),debug("stars",comp),comp),isX=id=>!id||id.toLowerCase()==="x"||id==="*",replaceTildes=(comp,options2)=>comp.trim().split(/\s+/).map(c=>replaceTilde(c,options2)).join(" "),replaceTilde=(comp,options2)=>{let r=options2.loose?re[t.TILDELOOSE]:re[t.TILDE];return comp.replace(r,(_,M,m,p,pr)=>{debug("tilde",comp,_,M,m,p,pr);let ret;return isX(M)?ret="":isX(m)?ret=`>=${M}.0.0 <${+M+1}.0.0-0`:isX(p)?ret=`>=${M}.${m}.0 <${M}.${+m+1}.0-0`:pr?(debug("replaceTilde pr",pr),ret=`>=${M}.${m}.${p}-${pr} <${M}.${+m+1}.0-0`):ret=`>=${M}.${m}.${p} <${M}.${+m+1}.0-0`,debug("tilde return",ret),ret})},replaceCarets=(comp,options2)=>comp.trim().split(/\s+/).map(c=>replaceCaret(c,options2)).join(" "),replaceCaret=(comp,options2)=>{debug("caret",comp,options2);let r=options2.loose?re[t.CARETLOOSE]:re[t.CARET],z=options2.includePrerelease?"-0":"";return comp.replace(r,(_,M,m,p,pr)=>{debug("caret",comp,_,M,m,p,pr);let ret;return isX(M)?ret="":isX(m)?ret=`>=${M}.0.0${z} <${+M+1}.0.0-0`:isX(p)?M==="0"?ret=`>=${M}.${m}.0${z} <${M}.${+m+1}.0-0`:ret=`>=${M}.${m}.0${z} <${+M+1}.0.0-0`:pr?(debug("replaceCaret pr",pr),M==="0"?m==="0"?ret=`>=${M}.${m}.${p}-${pr} <${M}.${m}.${+p+1}-0`:ret=`>=${M}.${m}.${p}-${pr} <${M}.${+m+1}.0-0`:ret=`>=${M}.${m}.${p}-${pr} <${+M+1}.0.0-0`):(debug("no pr"),M==="0"?m==="0"?ret=`>=${M}.${m}.${p}${z} <${M}.${m}.${+p+1}-0`:ret=`>=${M}.${m}.${p}${z} <${M}.${+m+1}.0-0`:ret=`>=${M}.${m}.${p} <${+M+1}.0.0-0`),debug("caret return",ret),ret})},replaceXRanges=(comp,options2)=>(debug("replaceXRanges",comp,options2),comp.split(/\s+/).map(c=>replaceXRange(c,options2)).join(" ")),replaceXRange=(comp,options2)=>{comp=comp.trim();let r=options2.loose?re[t.XRANGELOOSE]:re[t.XRANGE];return comp.replace(r,(ret,gtlt,M,m,p,pr)=>{debug("xRange",comp,ret,gtlt,M,m,p,pr);let xM=isX(M),xm=xM||isX(m),xp=xm||isX(p),anyX=xp;return gtlt==="="&&anyX&&(gtlt=""),pr=options2.includePrerelease?"-0":"",xM?gtlt===">"||gtlt==="<"?ret="<0.0.0-0":ret="*":gtlt&&anyX?(xm&&(m=0),p=0,gtlt===">"?(gtlt=">=",xm?(M=+M+1,m=0,p=0):(m=+m+1,p=0)):gtlt==="<="&&(gtlt="<",xm?M=+M+1:m=+m+1),gtlt==="<"&&(pr="-0"),ret=`${gtlt+M}.${m}.${p}${pr}`):xm?ret=`>=${M}.0.0${pr} <${+M+1}.0.0-0`:xp&&(ret=`>=${M}.${m}.0${pr} <${M}.${+m+1}.0-0`),debug("xRange return",ret),ret})},replaceStars=(comp,options2)=>(debug("replaceStars",comp,options2),comp.trim().replace(re[t.STAR],"")),replaceGTE0=(comp,options2)=>(debug("replaceGTE0",comp,options2),comp.trim().replace(re[options2.includePrerelease?t.GTE0PRE:t.GTE0],"")),hyphenReplace=incPr=>($0,from,fM,fm,fp,fpr,fb,to,tM,tm,tp,tpr)=>(isX(fM)?from="":isX(fm)?from=`>=${fM}.0.0${incPr?"-0":""}`:isX(fp)?from=`>=${fM}.${fm}.0${incPr?"-0":""}`:fpr?from=`>=${from}`:from=`>=${from}${incPr?"-0":""}`,isX(tM)?to="":isX(tm)?to=`<${+tM+1}.0.0-0`:isX(tp)?to=`<${tM}.${+tm+1}.0-0`:tpr?to=`<=${tM}.${tm}.${tp}-${tpr}`:incPr?to=`<${tM}.${tm}.${+tp+1}-0`:to=`<=${to}`,`${from} ${to}`.trim()),testSet=(set2,version,options2)=>{for(let i=0;i<set2.length;i++)if(!set2[i].test(version))return!1;if(version.prerelease.length&&!options2.includePrerelease){for(let i=0;i<set2.length;i++)if(debug(set2[i].semver),set2[i].semver!==Comparator.ANY&&set2[i].semver.prerelease.length>0){let allowed=set2[i].semver;if(allowed.major===version.major&&allowed.minor===version.minor&&allowed.patch===version.patch)return!0}return!1}return!0}}});var require_comparator=__commonJS({"../../../../node_modules/semver/classes/comparator.js"(exports2,module2){"use strict";var ANY=Symbol("SemVer ANY"),Comparator=class _Comparator{static get ANY(){return ANY}constructor(comp,options2){if(options2=parseOptions(options2),comp instanceof _Comparator){if(comp.loose===!!options2.loose)return comp;comp=comp.value}comp=comp.trim().split(/\s+/).join(" "),debug("comparator",comp,options2),this.options=options2,this.loose=!!options2.loose,this.parse(comp),this.semver===ANY?this.value="":this.value=this.operator+this.semver.version,debug("comp",this)}parse(comp){let r=this.options.loose?re[t.COMPARATORLOOSE]:re[t.COMPARATOR],m=comp.match(r);if(!m)throw new TypeError(`Invalid comparator: ${comp}`);this.operator=m[1]!==void 0?m[1]:"",this.operator==="="&&(this.operator=""),m[2]?this.semver=new SemVer(m[2],this.options.loose):this.semver=ANY}toString(){return this.value}test(version){if(debug("Comparator.test",version,this.options.loose),this.semver===ANY||version===ANY)return!0;if(typeof version=="string")try{version=new SemVer(version,this.options)}catch{return!1}return cmp(version,this.operator,this.semver,this.options)}intersects(comp,options2){if(!(comp instanceof _Comparator))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Range(comp.value,options2).test(this.value):comp.operator===""?comp.value===""?!0:new Range(this.value,options2).test(comp.semver):(options2=parseOptions(options2),options2.includePrerelease&&(this.value==="<0.0.0-0"||comp.value==="<0.0.0-0")||!options2.includePrerelease&&(this.value.startsWith("<0.0.0")||comp.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&comp.operator.startsWith(">")||this.operator.startsWith("<")&&comp.operator.startsWith("<")||this.semver.version===comp.semver.version&&this.operator.includes("=")&&comp.operator.includes("=")||cmp(this.semver,"<",comp.semver,options2)&&this.operator.startsWith(">")&&comp.operator.startsWith("<")||cmp(this.semver,">",comp.semver,options2)&&this.operator.startsWith("<")&&comp.operator.startsWith(">")))}};module2.exports=Comparator;var parseOptions=require_parse_options(),{safeRe:re,t}=require_re(),cmp=require_cmp(),debug=require_debug2(),SemVer=require_semver(),Range=require_range()}});var require_satisfies=__commonJS({"../../../../node_modules/semver/functions/satisfies.js"(exports2,module2){"use strict";var Range=require_range(),satisfies=(version,range,options2)=>{try{range=new Range(range,options2)}catch{return!1}return range.test(version)};module2.exports=satisfies}});var require_to_comparators=__commonJS({"../../../../node_modules/semver/ranges/to-comparators.js"(exports2,module2){"use strict";var Range=require_range(),toComparators=(range,options2)=>new Range(range,options2).set.map(comp=>comp.map(c=>c.value).join(" ").trim().split(" "));module2.exports=toComparators}});var require_max_satisfying=__commonJS({"../../../../node_modules/semver/ranges/max-satisfying.js"(exports2,module2){"use strict";var SemVer=require_semver(),Range=require_range(),maxSatisfying=(versions,range,options2)=>{let max=null,maxSV=null,rangeObj=null;try{rangeObj=new Range(range,options2)}catch{return null}return versions.forEach(v=>{rangeObj.test(v)&&(!max||maxSV.compare(v)===-1)&&(max=v,maxSV=new SemVer(max,options2))}),max};module2.exports=maxSatisfying}});var require_min_satisfying=__commonJS({"../../../../node_modules/semver/ranges/min-satisfying.js"(exports2,module2){"use strict";var SemVer=require_semver(),Range=require_range(),minSatisfying=(versions,range,options2)=>{let min=null,minSV=null,rangeObj=null;try{rangeObj=new Range(range,options2)}catch{return null}return versions.forEach(v=>{rangeObj.test(v)&&(!min||minSV.compare(v)===1)&&(min=v,minSV=new SemVer(min,options2))}),min};module2.exports=minSatisfying}});var require_min_version=__commonJS({"../../../../node_modules/semver/ranges/min-version.js"(exports2,module2){"use strict";var SemVer=require_semver(),Range=require_range(),gt=require_gt(),minVersion=(range,loose)=>{range=new Range(range,loose);let minver=new SemVer("0.0.0");if(range.test(minver)||(minver=new SemVer("0.0.0-0"),range.test(minver)))return minver;minver=null;for(let i=0;i<range.set.length;++i){let comparators=range.set[i],setMin=null;comparators.forEach(comparator=>{let compver=new SemVer(comparator.semver.version);switch(comparator.operator){case">":compver.prerelease.length===0?compver.patch++:compver.prerelease.push(0),compver.raw=compver.format();case"":case">=":(!setMin||gt(compver,setMin))&&(setMin=compver);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${comparator.operator}`)}}),setMin&&(!minver||gt(minver,setMin))&&(minver=setMin)}return minver&&range.test(minver)?minver:null};module2.exports=minVersion}});var require_valid2=__commonJS({"../../../../node_modules/semver/ranges/valid.js"(exports2,module2){"use strict";var Range=require_range(),validRange=(range,options2)=>{try{return new Range(range,options2).range||"*"}catch{return null}};module2.exports=validRange}});var require_outside=__commonJS({"../../../../node_modules/semver/ranges/outside.js"(exports2,module2){"use strict";var SemVer=require_semver(),Comparator=require_comparator(),{ANY}=Comparator,Range=require_range(),satisfies=require_satisfies(),gt=require_gt(),lt=require_lt(),lte=require_lte(),gte=require_gte(),outside=(version,range,hilo,options2)=>{version=new SemVer(version,options2),range=new Range(range,options2);let gtfn,ltefn,ltfn,comp,ecomp;switch(hilo){case">":gtfn=gt,ltefn=lte,ltfn=lt,comp=">",ecomp=">=";break;case"<":gtfn=lt,ltefn=gte,ltfn=gt,comp="<",ecomp="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies(version,range,options2))return!1;for(let i=0;i<range.set.length;++i){let comparators=range.set[i],high=null,low=null;if(comparators.forEach(comparator=>{comparator.semver===ANY&&(comparator=new Comparator(">=0.0.0")),high=high||comparator,low=low||comparator,gtfn(comparator.semver,high.semver,options2)?high=comparator:ltfn(comparator.semver,low.semver,options2)&&(low=comparator)}),high.operator===comp||high.operator===ecomp||(!low.operator||low.operator===comp)&&ltefn(version,low.semver))return!1;if(low.operator===ecomp&&ltfn(version,low.semver))return!1}return!0};module2.exports=outside}});var require_gtr=__commonJS({"../../../../node_modules/semver/ranges/gtr.js"(exports2,module2){"use strict";var outside=require_outside(),gtr=(version,range,options2)=>outside(version,range,">",options2);module2.exports=gtr}});var require_ltr=__commonJS({"../../../../node_modules/semver/ranges/ltr.js"(exports2,module2){"use strict";var outside=require_outside(),ltr=(version,range,options2)=>outside(version,range,"<",options2);module2.exports=ltr}});var require_intersects=__commonJS({"../../../../node_modules/semver/ranges/intersects.js"(exports2,module2){"use strict";var Range=require_range(),intersects=(r1,r2,options2)=>(r1=new Range(r1,options2),r2=new Range(r2,options2),r1.intersects(r2,options2));module2.exports=intersects}});var require_simplify=__commonJS({"../../../../node_modules/semver/ranges/simplify.js"(exports2,module2){"use strict";var satisfies=require_satisfies(),compare=require_compare();module2.exports=(versions,range,options2)=>{let set2=[],first=null,prev=null,v=versions.sort((a,b)=>compare(a,b,options2));for(let version of v)satisfies(version,range,options2)?(prev=version,first||(first=version)):(prev&&set2.push([first,prev]),prev=null,first=null);first&&set2.push([first,null]);let ranges=[];for(let[min,max]of set2)min===max?ranges.push(min):!max&&min===v[0]?ranges.push("*"):max?min===v[0]?ranges.push(`<=${max}`):ranges.push(`${min} - ${max}`):ranges.push(`>=${min}`);let simplified=ranges.join(" || "),original=typeof range.raw=="string"?range.raw:String(range);return simplified.length<original.length?simplified:range}}});var require_subset=__commonJS({"../../../../node_modules/semver/ranges/subset.js"(exports2,module2){"use strict";var Range=require_range(),Comparator=require_comparator(),{ANY}=Comparator,satisfies=require_satisfies(),compare=require_compare(),subset=(sub,dom,options2={})=>{if(sub===dom)return!0;sub=new Range(sub,options2),dom=new Range(dom,options2);let sawNonNull=!1;OUTER:for(let simpleSub of sub.set){for(let simpleDom of dom.set){let isSub=simpleSubset(simpleSub,simpleDom,options2);if(sawNonNull=sawNonNull||isSub!==null,isSub)continue OUTER}if(sawNonNull)return!1}return!0},minimumVersionWithPreRelease=[new Comparator(">=0.0.0-0")],minimumVersion=[new Comparator(">=0.0.0")],simpleSubset=(sub,dom,options2)=>{if(sub===dom)return!0;if(sub.length===1&&sub[0].semver===ANY){if(dom.length===1&&dom[0].semver===ANY)return!0;options2.includePrerelease?sub=minimumVersionWithPreRelease:sub=minimumVersion}if(dom.length===1&&dom[0].semver===ANY){if(options2.includePrerelease)return!0;dom=minimumVersion}let eqSet=new Set,gt,lt;for(let c of sub)c.operator===">"||c.operator===">="?gt=higherGT(gt,c,options2):c.operator==="<"||c.operator==="<="?lt=lowerLT(lt,c,options2):eqSet.add(c.semver);if(eqSet.size>1)return null;let gtltComp;if(gt&&lt){if(gtltComp=compare(gt.semver,lt.semver,options2),gtltComp>0)return null;if(gtltComp===0&&(gt.operator!==">="||lt.operator!=="<="))return null}for(let eq of eqSet){if(gt&&!satisfies(eq,String(gt),options2)||lt&&!satisfies(eq,String(lt),options2))return null;for(let c of dom)if(!satisfies(eq,String(c),options2))return!1;return!0}let higher,lower,hasDomLT,hasDomGT,needDomLTPre=lt&&!options2.includePrerelease&&lt.semver.prerelease.length?lt.semver:!1,needDomGTPre=gt&&!options2.includePrerelease&&gt.semver.prerelease.length?gt.semver:!1;needDomLTPre&&needDomLTPre.prerelease.length===1&&lt.operator==="<"&&needDomLTPre.prerelease[0]===0&&(needDomLTPre=!1);for(let c of dom){if(hasDomGT=hasDomGT||c.operator===">"||c.operator===">=",hasDomLT=hasDomLT||c.operator==="<"||c.operator==="<=",gt){if(needDomGTPre&&c.semver.prerelease&&c.semver.prerelease.length&&c.semver.major===needDomGTPre.major&&c.semver.minor===needDomGTPre.minor&&c.semver.patch===needDomGTPre.patch&&(needDomGTPre=!1),c.operator===">"||c.operator===">="){if(higher=higherGT(gt,c,options2),higher===c&&higher!==gt)return!1}else if(gt.operator===">="&&!satisfies(gt.semver,String(c),options2))return!1}if(lt){if(needDomLTPre&&c.semver.prerelease&&c.semver.prerelease.length&&c.semver.major===needDomLTPre.major&&c.semver.minor===needDomLTPre.minor&&c.semver.patch===needDomLTPre.patch&&(needDomLTPre=!1),c.operator==="<"||c.operator==="<="){if(lower=lowerLT(lt,c,options2),lower===c&&lower!==lt)return!1}else if(lt.operator==="<="&&!satisfies(lt.semver,String(c),options2))return!1}if(!c.operator&&(lt||gt)&&gtltComp!==0)return!1}return!(gt&&hasDomLT&&!lt&&gtltComp!==0||lt&&hasDomGT&&!gt&&gtltComp!==0||needDomGTPre||needDomLTPre)},higherGT=(a,b,options2)=>{if(!a)return b;let comp=compare(a.semver,b.semver,options2);return comp>0?a:comp<0||b.operator===">"&&a.operator===">="?b:a},lowerLT=(a,b,options2)=>{if(!a)return b;let comp=compare(a.semver,b.semver,options2);return comp<0?a:comp>0||b.operator==="<"&&a.operator==="<="?b:a};module2.exports=subset}});var require_semver2=__commonJS({"../../../../node_modules/semver/index.js"(exports2,module2){"use strict";var internalRe=require_re(),constants=require_constants2(),SemVer=require_semver(),identifiers=require_identifiers(),parse2=require_parse2(),valid=require_valid(),clean=require_clean(),inc=require_inc(),diff=require_diff(),major=require_major(),minor=require_minor(),patch=require_patch(),prerelease=require_prerelease(),compare=require_compare(),rcompare=require_rcompare(),compareLoose=require_compare_loose(),compareBuild=require_compare_build(),sort=require_sort(),rsort=require_rsort(),gt=require_gt(),lt=require_lt(),eq=require_eq(),neq=require_neq(),gte=require_gte(),lte=require_lte(),cmp=require_cmp(),coerce2=require_coerce(),Comparator=require_comparator(),Range=require_range(),satisfies=require_satisfies(),toComparators=require_to_comparators(),maxSatisfying=require_max_satisfying(),minSatisfying=require_min_satisfying(),minVersion=require_min_version(),validRange=require_valid2(),outside=require_outside(),gtr=require_gtr(),ltr=require_ltr(),intersects=require_intersects(),simplifyRange=require_simplify(),subset=require_subset();module2.exports={parse:parse2,valid,clean,inc,diff,major,minor,patch,prerelease,compare,rcompare,compareLoose,compareBuild,sort,rsort,gt,lt,eq,neq,gte,lte,cmp,coerce:coerce2,Comparator,Range,satisfies,toComparators,maxSatisfying,minSatisfying,minVersion,validRange,outside,gtr,ltr,intersects,simplifyRange,subset,SemVer,re:internalRe.re,src:internalRe.src,tokens:internalRe.t,SEMVER_SPEC_VERSION:constants.SEMVER_SPEC_VERSION,RELEASE_TYPES:constants.RELEASE_TYPES,compareIdentifiers:identifiers.compareIdentifiers,rcompareIdentifiers:identifiers.rcompareIdentifiers}}});var require_plugin_utils=__commonJS({"../../../../node_modules/fastify/lib/plugin-utils.js"(exports2,module2){"use strict";var semver=require_semver2(),assert2=require("node:assert"),kRegisteredPlugins=Symbol.for("registered-plugin"),{kTestInternals}=require_symbols2(),{exist,existReply,existRequest}=require_decorate(),{FST_ERR_PLUGIN_VERSION_MISMATCH,FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE,FST_ERR_PLUGIN_INVALID_ASYNC_HANDLER}=require_errors2(),rcRegex=/-(?:rc|pre|alpha).+$/u;function getMeta(fn){return fn[Symbol.for("plugin-meta")]}function getPluginName(func){let display=getDisplayName(func);if(display)return display;let cache=require.cache;if(cache){let keys2=Object.keys(cache);for(let i=0;i<keys2.length;i++){let key=keys2[i];if(cache[key].exports===func)return key}}return func.name?func.name:null}function getFuncPreview(func){return func.toString().split(`
`,2).map(s=>s.trim()).join(" -- ")}function getDisplayName(fn){return fn[Symbol.for("fastify.display-name")]}function shouldSkipOverride(fn){return!!fn[Symbol.for("skip-override")]}function checkDependencies(fn){let meta=getMeta(fn);if(!meta)return;let dependencies=meta.dependencies;dependencies&&(assert2(Array.isArray(dependencies),"The dependencies should be an array of strings"),dependencies.forEach(dependency=>{assert2(this[kRegisteredPlugins].indexOf(dependency)>-1,`The dependency '${dependency}' of plugin '${meta.name}' is not registered`)}))}function checkDecorators(fn){let meta=getMeta(fn);if(!meta)return;let{decorators,name}=meta;decorators&&(decorators.fastify&&_checkDecorators(this,"Fastify",decorators.fastify,name),decorators.reply&&_checkDecorators(this,"Reply",decorators.reply,name),decorators.request&&_checkDecorators(this,"Request",decorators.request,name))}var checks={Fastify:exist,Request:existRequest,Reply:existReply};function _checkDecorators(that,instance,decorators,name){assert2(Array.isArray(decorators),"The decorators should be an array of strings"),decorators.forEach(decorator=>{let withPluginName=typeof name=="string"?` required by '${name}'`:"";if(!checks[instance].call(that,decorator))throw new FST_ERR_PLUGIN_NOT_PRESENT_IN_INSTANCE(decorator,withPluginName,instance)})}function checkVersion(fn){let meta=getMeta(fn);if(meta?.fastify==null)return;let requiredVersion=meta.fastify,fastifyRc=rcRegex.test(this.version);if(!(fastifyRc===!0&&semver.gt(this.version,semver.coerce(requiredVersion))===!0)&&requiredVersion&&semver.satisfies(this.version,requiredVersion,{includePrerelease:fastifyRc})===!1)throw new FST_ERR_PLUGIN_VERSION_MISMATCH(meta.name,requiredVersion,this.version)}function registerPluginName(fn){let meta=getMeta(fn);if(!meta)return;let name=meta.name;if(name)return this[kRegisteredPlugins].push(name),name}function checkPluginHealthiness(fn,pluginName){if(fn.constructor.name==="AsyncFunction"&&fn.length===3)throw new FST_ERR_PLUGIN_INVALID_ASYNC_HANDLER(pluginName)}function registerPlugin(fn){let pluginName=registerPluginName.call(this,fn)||getPluginName(fn);return checkPluginHealthiness.call(this,fn,pluginName),checkVersion.call(this,fn),checkDecorators.call(this,fn),checkDependencies.call(this,fn),shouldSkipOverride(fn)}module2.exports={getPluginName,getFuncPreview,kRegisteredPlugins,getDisplayName,registerPlugin};module2.exports[kTestInternals]={shouldSkipOverride,getMeta,checkDecorators,checkDependencies}}});var require_req_id_gen_factory=__commonJS({"../../../../node_modules/fastify/lib/req-id-gen-factory.js"(exports2,module2){"use strict";function reqIdGenFactory(requestIdHeader,optGenReqId){let genReqId=optGenReqId||buildDefaultGenReqId();return requestIdHeader?buildOptionalHeaderReqId(requestIdHeader,genReqId):genReqId}function getGenReqId(contextServer,req){return contextServer.genReqId(req)}function buildDefaultGenReqId(){let nextReqId=0;return function(){return nextReqId=nextReqId+1&2147483647,`req-${nextReqId.toString(36)}`}}function buildOptionalHeaderReqId(requestIdHeader,genReqId){return function(req){return req.headers[requestIdHeader]||genReqId(req)}}module2.exports={getGenReqId,reqIdGenFactory}}});var require_fast_decode_uri_component=__commonJS({"../../../../node_modules/fast-decode-uri-component/index.js"(exports2,module2){"use strict";var UTF8_ACCEPT=12,UTF8_REJECT=0,UTF8_DATA=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function decodeURIComponent2(uri){var percentPosition=uri.indexOf("%");if(percentPosition===-1)return uri;for(var length=uri.length,decoded="",last=0,codepoint=0,startOfOctets=percentPosition,state=UTF8_ACCEPT;percentPosition>-1&&percentPosition<length;){var high=hexCodeToInt(uri[percentPosition+1],4),low=hexCodeToInt(uri[percentPosition+2],0),byte=high|low,type=UTF8_DATA[byte];if(state=UTF8_DATA[256+state+type],codepoint=codepoint<<6|byte&UTF8_DATA[364+type],state===UTF8_ACCEPT)decoded+=uri.slice(last,startOfOctets),decoded+=codepoint<=65535?String.fromCharCode(codepoint):String.fromCharCode(55232+(codepoint>>10),56320+(codepoint&1023)),codepoint=0,last=percentPosition+3,percentPosition=startOfOctets=uri.indexOf("%",last);else{if(state===UTF8_REJECT)return null;if(percentPosition+=3,percentPosition<length&&uri.charCodeAt(percentPosition)===37)continue;return null}}return decoded+uri.slice(last)}var HEX={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function hexCodeToInt(c,shift){var i=HEX[c];return i===void 0?255:i<<shift}module2.exports=decodeURIComponent2}});var require_parse3=__commonJS({"../../../../node_modules/fast-querystring/lib/parse.js"(exports2,module2){"use strict";var fastDecode=require_fast_decode_uri_component(),plusRegex=/\+/g,Empty=function(){};Empty.prototype=Object.create(null);function parse2(input){let result=new Empty;if(typeof input!="string")return result;let inputLength=input.length,key="",value="",startingIndex=-1,equalityIndex=-1,shouldDecodeKey=!1,shouldDecodeValue=!1,keyHasPlus=!1,valueHasPlus=!1,hasBothKeyValuePair=!1,c=0;for(let i=0;i<inputLength+1;i++)if(c=i!==inputLength?input.charCodeAt(i):38,c===38){if(hasBothKeyValuePair=equalityIndex>startingIndex,hasBothKeyValuePair||(equalityIndex=i),key=input.slice(startingIndex+1,equalityIndex),hasBothKeyValuePair||key.length>0){keyHasPlus&&(key=key.replace(plusRegex," ")),shouldDecodeKey&&(key=fastDecode(key)||key),hasBothKeyValuePair&&(value=input.slice(equalityIndex+1,i),valueHasPlus&&(value=value.replace(plusRegex," ")),shouldDecodeValue&&(value=fastDecode(value)||value));let currentValue=result[key];currentValue===void 0?result[key]=value:currentValue.pop?currentValue.push(value):result[key]=[currentValue,value]}value="",startingIndex=i,equalityIndex=i,shouldDecodeKey=!1,shouldDecodeValue=!1,keyHasPlus=!1,valueHasPlus=!1}else c===61?equalityIndex<=startingIndex?equalityIndex=i:shouldDecodeValue=!0:c===43?equalityIndex>startingIndex?valueHasPlus=!0:keyHasPlus=!0:c===37&&(equalityIndex>startingIndex?shouldDecodeValue=!0:shouldDecodeKey=!0);return result}module2.exports=parse2}});var require_querystring=__commonJS({"../../../../node_modules/fast-querystring/lib/internals/querystring.js"(exports2,module2){var hexTable=Array.from({length:256},(_,i)=>"%"+((i<16?"0":"")+i.toString(16)).toUpperCase()),noEscape=new Int8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0]);function encodeString(str){let len=str.length;if(len===0)return"";let out="",lastPos=0,i=0;outer:for(;i<len;i++){let c=str.charCodeAt(i);for(;c<128;){if(noEscape[c]!==1&&(lastPos<i&&(out+=str.slice(lastPos,i)),lastPos=i+1,out+=hexTable[c]),++i===len)break outer;c=str.charCodeAt(i)}if(lastPos<i&&(out+=str.slice(lastPos,i)),c<2048){lastPos=i+1,out+=hexTable[192|c>>6]+hexTable[128|c&63];continue}if(c<55296||c>=57344){lastPos=i+1,out+=hexTable[224|c>>12]+hexTable[128|c>>6&63]+hexTable[128|c&63];continue}if(++i,i>=len)throw new Error("URI malformed");let c2=str.charCodeAt(i)&1023;lastPos=i+1,c=65536+((c&1023)<<10|c2),out+=hexTable[240|c>>18]+hexTable[128|c>>12&63]+hexTable[128|c>>6&63]+hexTable[128|c&63]}return lastPos===0?str:lastPos<len?out+str.slice(lastPos):out}module2.exports={encodeString}}});var require_stringify=__commonJS({"../../../../node_modules/fast-querystring/lib/stringify.js"(exports2,module2){"use strict";var{encodeString}=require_querystring();function getAsPrimitive(value){let type=typeof value;return type==="string"?encodeString(value):type==="bigint"?value.toString():type==="boolean"?value?"true":"false":type==="number"&&Number.isFinite(value)?value<1e21?""+value:encodeString(""+value):""}function stringify2(input){let result="";if(input===null||typeof input!="object")return result;let separator="&",keys2=Object.keys(input),keyLength=keys2.length,valueLength=0;for(let i=0;i<keyLength;i++){let key=keys2[i],value=input[key],encodedKey=encodeString(key)+"=";if(i&&(result+=separator),Array.isArray(value)){valueLength=value.length;for(let j=0;j<valueLength;j++)j&&(result+=separator),result+=encodedKey,result+=getAsPrimitive(value[j])}else result+=encodedKey,result+=getAsPrimitive(value)}return result}module2.exports=stringify2}});var require_lib=__commonJS({"../../../../node_modules/fast-querystring/lib/index.js"(exports2,module2){"use strict";var parse2=require_parse3(),stringify2=require_stringify(),fastQuerystring={parse:parse2,stringify:stringify2};module2.exports=fastQuerystring;module2.exports.default=fastQuerystring;module2.exports.parse=parse2;module2.exports.stringify=stringify2}});var require_tokens=__commonJS({"../../../../node_modules/ret/dist/types/tokens.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0})}});var require_types3=__commonJS({"../../../../node_modules/ret/dist/types/types.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.types=void 0;var types;(function(types2){types2[types2.ROOT=0]="ROOT",types2[types2.GROUP=1]="GROUP",types2[types2.POSITION=2]="POSITION",types2[types2.SET=3]="SET",types2[types2.RANGE=4]="RANGE",types2[types2.REPETITION=5]="REPETITION",types2[types2.REFERENCE=6]="REFERENCE",types2[types2.CHAR=7]="CHAR"})(types=exports2.types||(exports2.types={}))}});var require_set_lookup=__commonJS({"../../../../node_modules/ret/dist/types/set-lookup.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0})}});var require_types4=__commonJS({"../../../../node_modules/ret/dist/types/index.js"(exports2){"use strict";var __createBinding2=exports2&&exports2.__createBinding||(Object.create?(function(o,m,k,k2){k2===void 0&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}):(function(o,m,k,k2){k2===void 0&&(k2=k),o[k2]=m[k]})),__exportStar2=exports2&&exports2.__exportStar||function(m,exports3){for(var p in m)p!=="default"&&!Object.prototype.hasOwnProperty.call(exports3,p)&&__createBinding2(exports3,m,p)};Object.defineProperty(exports2,"__esModule",{value:!0});__exportStar2(require_tokens(),exports2);__exportStar2(require_types3(),exports2);__exportStar2(require_set_lookup(),exports2)}});var require_sets=__commonJS({"../../../../node_modules/ret/dist/sets.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.anyChar=exports2.notWhitespace=exports2.whitespace=exports2.notInts=exports2.ints=exports2.notWords=exports2.words=void 0;var types_1=require_types4(),INTS=()=>[{type:types_1.types.RANGE,from:48,to:57}],WORDS=()=>[{type:types_1.types.CHAR,value:95},{type:types_1.types.RANGE,from:97,to:122},{type:types_1.types.RANGE,from:65,to:90},{type:types_1.types.RANGE,from:48,to:57}],WHITESPACE=()=>[{type:types_1.types.CHAR,value:9},{type:types_1.types.CHAR,value:10},{type:types_1.types.CHAR,value:11},{type:types_1.types.CHAR,value:12},{type:types_1.types.CHAR,value:13},{type:types_1.types.CHAR,value:32},{type:types_1.types.CHAR,value:160},{type:types_1.types.CHAR,value:5760},{type:types_1.types.RANGE,from:8192,to:8202},{type:types_1.types.CHAR,value:8232},{type:types_1.types.CHAR,value:8233},{type:types_1.types.CHAR,value:8239},{type:types_1.types.CHAR,value:8287},{type:types_1.types.CHAR,value:12288},{type:types_1.types.CHAR,value:65279}],NOTANYCHAR=()=>[{type:types_1.types.CHAR,value:10},{type:types_1.types.CHAR,value:13},{type:types_1.types.CHAR,value:8232},{type:types_1.types.CHAR,value:8233}];exports2.words=()=>({type:types_1.types.SET,set:WORDS(),not:!1});exports2.notWords=()=>({type:types_1.types.SET,set:WORDS(),not:!0});exports2.ints=()=>({type:types_1.types.SET,set:INTS(),not:!1});exports2.notInts=()=>({type:types_1.types.SET,set:INTS(),not:!0});exports2.whitespace=()=>({type:types_1.types.SET,set:WHITESPACE(),not:!1});exports2.notWhitespace=()=>({type:types_1.types.SET,set:WHITESPACE(),not:!0});exports2.anyChar=()=>({type:types_1.types.SET,set:NOTANYCHAR(),not:!0})}});var require_util2=__commonJS({"../../../../node_modules/ret/dist/util.js"(exports2){"use strict";var __createBinding2=exports2&&exports2.__createBinding||(Object.create?(function(o,m,k,k2){k2===void 0&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}):(function(o,m,k,k2){k2===void 0&&(k2=k),o[k2]=m[k]})),__setModuleDefault2=exports2&&exports2.__setModuleDefault||(Object.create?(function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}):function(o,v){o.default=v}),__importStar2=exports2&&exports2.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)k!=="default"&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding2(result,mod,k);return __setModuleDefault2(result,mod),result};Object.defineProperty(exports2,"__esModule",{value:!0});exports2.tokenizeClass=exports2.strToChars=void 0;var types_1=require_types4(),sets=__importStar2(require_sets()),CTRL="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?";exports2.strToChars=str=>{let charsRegex=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return str.replace(charsRegex,(s,b,lbs,a16,b16,dctrl,eslsh)=>{if(lbs)return s;let code2=b?8:a16?parseInt(a16,16):b16?parseInt(b16,16):dctrl?CTRL.indexOf(dctrl):{0:0,t:9,n:10,v:11,f:12,r:13}[eslsh],c=String.fromCharCode(code2);return/[[\]{}^$.|?*+()]/.test(c)?`\\${c}`:c})};exports2.tokenizeClass=(str,regexpStr)=>{var _a2,_b,_c,_d,_e,_f,_g;let tokens=[],rs,c,regexp=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(((?:\\)])|(((?:\\)?([^\]])))))|(\])|(?:\\)?([^])/g;for(;(rs=regexp.exec(str))!==null;){let p=(_g=(_f=(_e=(_d=(_c=(_b=(_a2=rs[1]&&sets.words())!==null&&_a2!==void 0?_a2:rs[2]&&sets.ints())!==null&&_b!==void 0?_b:rs[3]&&sets.whitespace())!==null&&_c!==void 0?_c:rs[4]&&sets.notWords())!==null&&_d!==void 0?_d:rs[5]&&sets.notInts())!==null&&_e!==void 0?_e:rs[6]&&sets.notWhitespace())!==null&&_f!==void 0?_f:rs[7]&&{type:types_1.types.RANGE,from:(rs[8]||rs[9]).charCodeAt(0),to:(c=rs[10]).charCodeAt(c.length-1)})!==null&&_g!==void 0?_g:(c=rs[16])&&{type:types_1.types.CHAR,value:c.charCodeAt(0)};if(p)tokens.push(p);else return[tokens,regexp.lastIndex]}throw new SyntaxError(`Invalid regular expression: /${regexpStr}/: Unterminated character class`)}}});var require_tokenizer=__commonJS({"../../../../node_modules/ret/dist/tokenizer.js"(exports2){"use strict";var __createBinding2=exports2&&exports2.__createBinding||(Object.create?(function(o,m,k,k2){k2===void 0&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}):(function(o,m,k,k2){k2===void 0&&(k2=k),o[k2]=m[k]})),__setModuleDefault2=exports2&&exports2.__setModuleDefault||(Object.create?(function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}):function(o,v){o.default=v}),__importStar2=exports2&&exports2.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)k!=="default"&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding2(result,mod,k);return __setModuleDefault2(result,mod),result};Object.defineProperty(exports2,"__esModule",{value:!0});exports2.tokenizer=void 0;var util3=__importStar2(require_util2()),types_1=require_types4(),sets=__importStar2(require_sets()),captureGroupFirstChar=/^[a-zA-Z_$]$/i,captureGroupChars=/^[a-zA-Z0-9_$]$/i,digit=/\d/;exports2.tokenizer=regexpStr=>{let i=0,c,start={type:types_1.types.ROOT,stack:[]},lastGroup=start,last=start.stack,groupStack=[],referenceQueue=[],groupCount=0,repeatErr=col=>{throw new SyntaxError(`Invalid regular expression: /${regexpStr}/: Nothing to repeat at column ${col-1}`)},str=util3.strToChars(regexpStr);for(;i<str.length;)switch(c=str[i++]){case"\\":if(i===str.length)throw new SyntaxError(`Invalid regular expression: /${regexpStr}/: \\ at end of pattern`);switch(c=str[i++]){case"b":last.push({type:types_1.types.POSITION,value:"b"});break;case"B":last.push({type:types_1.types.POSITION,value:"B"});break;case"w":last.push(sets.words());break;case"W":last.push(sets.notWords());break;case"d":last.push(sets.ints());break;case"D":last.push(sets.notInts());break;case"s":last.push(sets.whitespace());break;case"S":last.push(sets.notWhitespace());break;default:if(digit.test(c)){let digits=c;for(;i<str.length&&digit.test(str[i]);)digits+=str[i++];let value=parseInt(digits,10),reference2={type:types_1.types.REFERENCE,value};last.push(reference2),referenceQueue.push({reference:reference2,stack:last,index:last.length-1})}else last.push({type:types_1.types.CHAR,value:c.charCodeAt(0)})}break;case"^":last.push({type:types_1.types.POSITION,value:"^"});break;case"$":last.push({type:types_1.types.POSITION,value:"$"});break;case"[":{let not;str[i]==="^"?(not=!0,i++):not=!1;let classTokens=util3.tokenizeClass(str.slice(i),regexpStr);i+=classTokens[1],last.push({type:types_1.types.SET,set:classTokens[0],not});break}case".":last.push(sets.anyChar());break;case"(":{let group={type:types_1.types.GROUP,stack:[],remember:!0};if(str[i]==="?")if(c=str[i+1],i+=2,c==="=")group.followedBy=!0,group.remember=!1;else if(c==="!")group.notFollowedBy=!0,group.remember=!1;else if(c==="<"){let name="";if(captureGroupFirstChar.test(str[i]))name+=str[i],i++;else throw new SyntaxError(`Invalid regular expression: /${regexpStr}/: Invalid capture group name, character '${str[i]}' after '<' at column ${i+1}`);for(;i<str.length&&captureGroupChars.test(str[i]);)name+=str[i],i++;if(!name)throw new SyntaxError(`Invalid regular expression: /${regexpStr}/: Invalid capture group name, character '${str[i]}' after '<' at column ${i+1}`);if(str[i]!==">")throw new SyntaxError(`Invalid regular expression: /${regexpStr}/: Unclosed capture group name, expected '>', found '${str[i]}' at column ${i+1}`);group.name=name,i++}else if(c===":")group.remember=!1;else throw new SyntaxError(`Invalid regular expression: /${regexpStr}/: Invalid group, character '${c}' after '?' at column ${i-1}`);else groupCount+=1;last.push(group),groupStack.push(lastGroup),lastGroup=group,last=group.stack;break}case")":if(groupStack.length===0)throw new SyntaxError(`Invalid regular expression: /${regexpStr}/: Unmatched ) at column ${i-1}`);lastGroup=groupStack.pop(),last=lastGroup.options?lastGroup.options[lastGroup.options.length-1]:lastGroup.stack;break;case"|":{lastGroup.options||(lastGroup.options=[lastGroup.stack],delete lastGroup.stack);let stack=[];lastGroup.options.push(stack),last=stack;break}case"{":{let rs=/^(\d+)(,(\d+)?)?\}/.exec(str.slice(i)),min,max;rs!==null?(last.length===0&&repeatErr(i),min=parseInt(rs[1],10),max=rs[2]?rs[3]?parseInt(rs[3],10):1/0:min,i+=rs[0].length,last.push({type:types_1.types.REPETITION,min,max,value:last.pop()})):last.push({type:types_1.types.CHAR,value:123});break}case"?":last.length===0&&repeatErr(i),last.push({type:types_1.types.REPETITION,min:0,max:1,value:last.pop()});break;case"+":last.length===0&&repeatErr(i),last.push({type:types_1.types.REPETITION,min:1,max:1/0,value:last.pop()});break;case"*":last.length===0&&repeatErr(i),last.push({type:types_1.types.REPETITION,min:0,max:1/0,value:last.pop()});break;default:last.push({type:types_1.types.CHAR,value:c.charCodeAt(0)})}if(groupStack.length!==0)throw new SyntaxError(`Invalid regular expression: /${regexpStr}/: Unterminated group`);return updateReferences(referenceQueue,groupCount),start};function updateReferences(referenceQueue,groupCount){for(let elem of referenceQueue.reverse())if(groupCount<elem.reference.value){elem.reference.type=types_1.types.CHAR;let valueString=elem.reference.value.toString();if(elem.reference.value=parseInt(valueString,8),!/^[0-7]+$/.test(valueString)){let i=0;for(;valueString[i]!=="8"&&valueString[i]!=="9";)i+=1;if(i===0?(elem.reference.value=valueString.charCodeAt(0),i+=1):elem.reference.value=parseInt(valueString.slice(0,i),8),valueString.length>i){let tail=elem.stack.splice(elem.index+1);for(let char of valueString.slice(i))elem.stack.push({type:types_1.types.CHAR,value:char.charCodeAt(0)});elem.stack.push(...tail)}}}}}});var require_sets_lookup=__commonJS({"../../../../node_modules/ret/dist/sets-lookup.js"(exports2){"use strict";var __createBinding2=exports2&&exports2.__createBinding||(Object.create?(function(o,m,k,k2){k2===void 0&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}):(function(o,m,k,k2){k2===void 0&&(k2=k),o[k2]=m[k]})),__setModuleDefault2=exports2&&exports2.__setModuleDefault||(Object.create?(function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}):function(o,v){o.default=v}),__importStar2=exports2&&exports2.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)k!=="default"&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding2(result,mod,k);return __setModuleDefault2(result,mod),result};Object.defineProperty(exports2,"__esModule",{value:!0});exports2.NOTANYCHAR=exports2.WHITESPACE=exports2.WORDS=exports2.INTS=void 0;var Sets=__importStar2(require_sets()),types_1=require_types4();function setToLookup(tokens){let lookup={},len=0;for(let token of tokens)token.type===types_1.types.CHAR&&(lookup[token.value]=!0),token.type===types_1.types.RANGE&&(lookup[`${token.from}-${token.to}`]=!0),len+=1;return{lookup:()=>Object.assign({},lookup),len}}exports2.INTS=setToLookup(Sets.ints().set);exports2.WORDS=setToLookup(Sets.words().set);exports2.WHITESPACE=setToLookup(Sets.whitespace().set);exports2.NOTANYCHAR=setToLookup(Sets.anyChar().set)}});var require_write_set_tokens=__commonJS({"../../../../node_modules/ret/dist/write-set-tokens.js"(exports2){"use strict";var __createBinding2=exports2&&exports2.__createBinding||(Object.create?(function(o,m,k,k2){k2===void 0&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}):(function(o,m,k,k2){k2===void 0&&(k2=k),o[k2]=m[k]})),__setModuleDefault2=exports2&&exports2.__setModuleDefault||(Object.create?(function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}):function(o,v){o.default=v}),__importStar2=exports2&&exports2.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)k!=="default"&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding2(result,mod,k);return __setModuleDefault2(result,mod),result};Object.defineProperty(exports2,"__esModule",{value:!0});exports2.writeSetTokens=exports2.setChar=void 0;var types_1=require_types4(),sets=__importStar2(require_sets_lookup());function setChar(charCode){return charCode===94?"\\^":charCode===92?"\\\\":charCode===93?"\\]":charCode===45?"\\-":String.fromCharCode(charCode)}exports2.setChar=setChar;function isSameSet(set2,{lookup,len}){if(len!==set2.length)return!1;let map=lookup();for(let elem of set2){if(elem.type===types_1.types.SET)return!1;let key=elem.type===types_1.types.CHAR?elem.value:`${elem.from}-${elem.to}`;if(map[key])map[key]=!1;else return!1}return!0}function writeSetTokens(set2,isNested=!1){if(isSameSet(set2.set,sets.INTS))return set2.not?"\\D":"\\d";if(isSameSet(set2.set,sets.WORDS))return set2.not?"\\W":"\\w";if(set2.not&&isSameSet(set2.set,sets.NOTANYCHAR))return".";if(isSameSet(set2.set,sets.WHITESPACE))return set2.not?"\\S":"\\s";let tokenString="";for(let i=0;i<set2.set.length;i++){let subset=set2.set[i];tokenString+=writeSetToken(subset)}let contents=`${set2.not?"^":""}${tokenString}`;return isNested?contents:`[${contents}]`}exports2.writeSetTokens=writeSetTokens;function writeSetToken(set2){return set2.type===types_1.types.CHAR?setChar(set2.value):set2.type===types_1.types.RANGE?`${setChar(set2.from)}-${setChar(set2.to)}`:writeSetTokens(set2,!0)}}});var require_reconstruct=__commonJS({"../../../../node_modules/ret/dist/reconstruct.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.reconstruct=void 0;var types_1=require_types4(),write_set_tokens_1=require_write_set_tokens(),reduceStack=stack=>stack.map(exports2.reconstruct).join(""),createAlternate=token=>{if("options"in token)return token.options.map(reduceStack).join("|");if("stack"in token)return reduceStack(token.stack);throw new Error("options or stack must be Root or Group token")};exports2.reconstruct=token=>{switch(token.type){case types_1.types.ROOT:return createAlternate(token);case types_1.types.CHAR:{let c=String.fromCharCode(token.value);return(/[[\\{}$^.|?*+()]/.test(c)?"\\":"")+c}case types_1.types.POSITION:return token.value==="^"||token.value==="$"?token.value:`\\${token.value}`;case types_1.types.REFERENCE:return`\\${token.value}`;case types_1.types.SET:return write_set_tokens_1.writeSetTokens(token);case types_1.types.GROUP:return`(${token.name?`?<${token.name}>`:token.remember?"":token.followedBy?"?=":token.notFollowedBy?"?!":"?:"}${createAlternate(token)})`;case types_1.types.REPETITION:{let{min,max}=token,endWith;return min===0&&max===1?endWith="?":min===1&&max===1/0?endWith="+":min===0&&max===1/0?endWith="*":max===1/0?endWith=`{${min},}`:min===max?endWith=`{${min}}`:endWith=`{${min},${max}}`,`${exports2.reconstruct(token.value)}${endWith}`}case types_1.types.RANGE:return`${write_set_tokens_1.setChar(token.from)}-${write_set_tokens_1.setChar(token.to)}`;default:throw new Error(`Invalid token type ${token}`)}}}});var require_dist3=__commonJS({"../../../../node_modules/ret/dist/index.js"(exports2,module2){"use strict";var __createBinding2=exports2&&exports2.__createBinding||(Object.create?(function(o,m,k,k2){k2===void 0&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}):(function(o,m,k,k2){k2===void 0&&(k2=k),o[k2]=m[k]})),__exportStar2=exports2&&exports2.__exportStar||function(m,exports3){for(var p in m)p!=="default"&&!Object.prototype.hasOwnProperty.call(exports3,p)&&__createBinding2(exports3,m,p)};Object.defineProperty(exports2,"__esModule",{value:!0});exports2.types=void 0;var types_1=require_types4();Object.defineProperty(exports2,"types",{enumerable:!0,get:function(){return types_1.types}});__exportStar2(require_tokenizer(),exports2);__exportStar2(require_reconstruct(),exports2);var tokenizer_1=require_tokenizer(),reconstruct_1=require_reconstruct();__exportStar2(require_types4(),exports2);exports2.default=tokenizer_1.tokenizer;module2.exports=tokenizer_1.tokenizer;module2.exports.types=types_1.types;module2.exports.reconstruct=reconstruct_1.reconstruct}});var require_safe_regex2=__commonJS({"../../../../node_modules/safe-regex2/index.js"(exports2,module2){"use strict";var parse2=require_dist3(),types=parse2.types;function safeRegex(re,opts){opts||(opts={});let replimit=opts.limit===void 0?25:opts.limit;isRegExp2(re)?re=re.source:typeof re!="string"&&(re=String(re));try{re=parse2(re)}catch{return!1}let reps=0;return(function walk(node,starHeight){let i,ok,len;if(node.type===types.REPETITION&&(starHeight++,reps++,starHeight>1||reps>replimit))return!1;if(node.options){for(i=0,len=node.options.length;i<len;i++)if(ok=walk({stack:node.options[i]},starHeight),!ok)return!1}let stack=node.stack||node.value?.stack;if(!stack)return!0;for(i=0;i<stack.length;i++)if(ok=walk(stack[i],starHeight),!ok)return!1;return!0})(re,0)}function isRegExp2(x){return{}.toString.call(x)==="[object RegExp]"}module2.exports=safeRegex;module2.exports.default=safeRegex;module2.exports.safeRegex=safeRegex}});var require_http_method=__commonJS({"../../../../node_modules/find-my-way/lib/strategies/http-method.js"(exports2,module2){"use strict";module2.exports={name:"__fmw_internal_strategy_merged_tree_http_method__",storage:function(){let handlers=new Map;return{get:type=>handlers.get(type)||null,set:(type,store)=>{handlers.set(type,store)}}},deriveConstraint:req=>req.method,mustMatchWhenDerived:!0}}});var require_pretty_print=__commonJS({"../../../../node_modules/find-my-way/lib/pretty-print.js"(exports2,module2){"use strict";var deepEqual=require_fast_deep_equal(),httpMethodStrategy=require_http_method(),treeDataSymbol=Symbol("treeData");function printObjectTree(obj,parentPrefix=""){let tree="",keys2=Object.keys(obj);for(let i=0;i<keys2.length;i++){let key=keys2[i],value=obj[key],isLast=i===keys2.length-1,nodePrefix=isLast?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ",childPrefix=isLast?"    ":"\u2502   ",prefixedNodeData=(value[treeDataSymbol]||"").replaceAll(`
`,`
`+parentPrefix+childPrefix);tree+=parentPrefix+nodePrefix+key+prefixedNodeData+`
`,tree+=printObjectTree(value,parentPrefix+childPrefix)}return tree}function parseFunctionName(fn){let fName=fn.name||"";return fName=fName.replace("bound","").trim(),fName=(fName||"anonymous")+"()",fName}function parseMeta(meta){return Array.isArray(meta)?meta.map(m=>parseMeta(m)):typeof meta=="symbol"?meta.toString():typeof meta=="function"?parseFunctionName(meta):meta}function getRouteMetaData(route,options2){if(!options2.includeMeta)return{};let metaDataObject=options2.buildPrettyMeta(route),filteredMetaData={},includeMetaKeys=options2.includeMeta;Array.isArray(includeMetaKeys)||(includeMetaKeys=Reflect.ownKeys(metaDataObject));for(let metaKey of includeMetaKeys){if(!Object.prototype.hasOwnProperty.call(metaDataObject,metaKey))continue;let serializedKey=metaKey.toString(),metaValue=metaDataObject[metaKey];if(metaValue!=null){let serializedValue=JSON.stringify(parseMeta(metaValue));filteredMetaData[serializedKey]=serializedValue}}return filteredMetaData}function serializeMetaData(metaData){let serializedMetaData="";for(let[key,value]of Object.entries(metaData))serializedMetaData+=`
\u2022 (${key}) ${value}`;return serializedMetaData}function normalizeRoute(route){let constraints={...route.opts.constraints},method=constraints[httpMethodStrategy.name];return delete constraints[httpMethodStrategy.name],{...route,method,opts:{constraints}}}function serializeRoute(route){let serializedRoute=` (${route.method})`,constraints=route.opts.constraints||{};return Object.keys(constraints).length!==0&&(serializedRoute+=" "+JSON.stringify(constraints)),serializedRoute+=serializeMetaData(route.metaData),serializedRoute}function mergeSimilarRoutes(routes){return routes.reduce((mergedRoutes,route)=>{for(let nodeRoute of mergedRoutes)if(deepEqual(route.opts.constraints,nodeRoute.opts.constraints)&&deepEqual(route.metaData,nodeRoute.metaData))return nodeRoute.method+=", "+route.method,mergedRoutes;return mergedRoutes.push(route),mergedRoutes},[])}function serializeNode(node,prefix,options2){let routes=node.routes;return options2.method===void 0&&(routes=routes.map(normalizeRoute)),routes=routes.map(route=>(route.metaData=getRouteMetaData(route,options2),route)),options2.method===void 0&&(routes=mergeSimilarRoutes(routes)),routes.map(serializeRoute).join(`
${prefix}`)}function buildObjectTree(node,tree,prefix,options2){if((node.isLeafNode||options2.commonPrefix!==!1)&&(prefix=prefix||"(empty root node)",tree=tree[prefix]={},node.isLeafNode&&(tree[treeDataSymbol]=serializeNode(node,prefix,options2)),prefix=""),node.staticChildren)for(let child of Object.values(node.staticChildren))buildObjectTree(child,tree,prefix+child.prefix,options2);if(node.parametricChildren)for(let child of Object.values(node.parametricChildren)){let childPrefix=Array.from(child.nodePaths).join("|");buildObjectTree(child,tree,prefix+childPrefix,options2)}node.wildcardChild&&buildObjectTree(node.wildcardChild,tree,"*",options2)}function prettyPrintTree(root,options2){let objectTree={};return buildObjectTree(root,objectTree,root.prefix,options2),printObjectTree(objectTree)}module2.exports={prettyPrintTree}}});var require_null_object=__commonJS({"../../../../node_modules/find-my-way/lib/null-object.js"(exports2,module2){"use strict";var NullObject=function(){};NullObject.prototype=Object.create(null);module2.exports={NullObject}}});var require_handler_storage=__commonJS({"../../../../node_modules/find-my-way/lib/handler-storage.js"(exports2,module2){"use strict";var{NullObject}=require_null_object(),httpMethodStrategy=require_http_method(),HandlerStorage=class{constructor(){this.unconstrainedHandler=null,this.constraints=[],this.handlers=[],this.constrainedHandlerStores=null}getMatchingHandler(derivedConstraints){return derivedConstraints===void 0?this.unconstrainedHandler:this._getHandlerMatchingConstraints(derivedConstraints)}addHandler(constrainer,route){let params=route.params,constraints=route.opts.constraints||{},handlerObject={params,constraints,handler:route.handler,store:route.store||null,_createParamsObject:this._compileCreateParamsObject(params)},constraintsNames=Object.keys(constraints);constraintsNames.length===0&&(this.unconstrainedHandler=handlerObject);for(let constraint of constraintsNames)this.constraints.includes(constraint)||(constraint==="version"?this.constraints.unshift(constraint):this.constraints.push(constraint));let isMergedTree=constraintsNames.includes(httpMethodStrategy.name);if(!isMergedTree&&this.handlers.length>=31)throw new Error("find-my-way supports a maximum of 31 route handlers per node when there are constraints, limit reached");this.handlers.push(handlerObject),this.handlers.sort((a,b)=>Object.keys(a.constraints).length-Object.keys(b.constraints).length),isMergedTree||this._compileGetHandlerMatchingConstraints(constrainer,constraints)}_compileCreateParamsObject(params){let fnBody=[];fnBody.push("const fn = function _createParamsObject (paramsArray) {"),fnBody.push("const params = new NullObject()");for(let i=0;i<params.length;i++)fnBody.push(`params['${params[i]}'] = paramsArray[${i}]`);return fnBody.push("return params"),fnBody.push("}"),fnBody.push("return fn"),new Function("NullObject",fnBody.join(`
`))(NullObject)}_getHandlerMatchingConstraints(){return null}_buildConstraintStore(store,constraint){for(let i=0;i<this.handlers.length;i++){let constraintValue=this.handlers[i].constraints[constraint];if(constraintValue!==void 0){let indexes=store.get(constraintValue)||0;indexes|=1<<i,store.set(constraintValue,indexes)}}}_constrainedIndexBitmask(constraint){let mask=0;for(let i=0;i<this.handlers.length;i++)this.handlers[i].constraints[constraint]!==void 0&&(mask|=1<<i);return~mask}_compileGetHandlerMatchingConstraints(constrainer){this.constrainedHandlerStores={};for(let constraint of this.constraints){let store=constrainer.newStoreForConstraint(constraint);this.constrainedHandlerStores[constraint]=store,this._buildConstraintStore(store,constraint)}let lines=[];lines.push(`
    let candidates = ${(1<<this.handlers.length)-1}
    let mask, matches
    `);for(let constraint of this.constraints){lines.push(`
      mask = ${this._constrainedIndexBitmask(constraint)}
      value = derivedConstraints.${constraint}
      `);let matchMask=constrainer.strategies[constraint].mustMatchWhenDerived?"matches":"(matches | mask)";lines.push(`
      if (value === undefined) {
        candidates &= mask
      } else {
        matches = this.constrainedHandlerStores.${constraint}.get(value) || 0
        candidates &= ${matchMask}
      }
      if (candidates === 0) return null;
      `)}for(let constraint in constrainer.strategies)constrainer.strategies[constraint].mustMatchWhenDerived&&!this.constraints.includes(constraint)&&lines.push(`if (derivedConstraints.${constraint} !== undefined) return null`);lines.push("return this.handlers[Math.floor(Math.log2(candidates))]"),this._getHandlerMatchingConstraints=new Function("derivedConstraints",lines.join(`
`))}};module2.exports=HandlerStorage}});var require_node=__commonJS({"../../../../node_modules/find-my-way/lib/node.js"(exports2,module2){"use strict";var HandlerStorage=require_handler_storage(),NODE_TYPES={STATIC:0,PARAMETRIC:1,WILDCARD:2},Node=class{constructor(){this.isLeafNode=!1,this.routes=null,this.handlerStorage=null}addRoute(route,constrainer){this.routes===null&&(this.routes=[]),this.handlerStorage===null&&(this.handlerStorage=new HandlerStorage),this.isLeafNode=!0,this.routes.push(route),this.handlerStorage.addHandler(constrainer,route)}},ParentNode=class extends Node{constructor(){super(),this.staticChildren={}}findStaticMatchingChild(path5,pathIndex){let staticChild=this.staticChildren[path5.charAt(pathIndex)];return staticChild===void 0||!staticChild.matchPrefix(path5,pathIndex)?null:staticChild}getStaticChild(path5,pathIndex=0){if(path5.length===pathIndex)return this;let staticChild=this.findStaticMatchingChild(path5,pathIndex);return staticChild?staticChild.getStaticChild(path5,pathIndex+staticChild.prefix.length):null}createStaticChild(path5){if(path5.length===0)return this;let staticChild=this.staticChildren[path5.charAt(0)];if(staticChild){let i=1;for(;i<staticChild.prefix.length;i++)if(path5.charCodeAt(i)!==staticChild.prefix.charCodeAt(i)){staticChild=staticChild.split(this,i);break}return staticChild.createStaticChild(path5.slice(i))}let label=path5.charAt(0);return this.staticChildren[label]=new StaticNode(path5),this.staticChildren[label]}},StaticNode=class _StaticNode extends ParentNode{constructor(prefix){super(),this.prefix=prefix,this.wildcardChild=null,this.parametricChildren=[],this.kind=NODE_TYPES.STATIC,this._compilePrefixMatch()}getParametricChild(regex){let regexpSource=regex&&regex.source,parametricChild=this.parametricChildren.find(child=>(child.regex&&child.regex.source)===regexpSource);return parametricChild||null}createParametricChild(regex,staticSuffix,nodePath){let parametricChild=this.getParametricChild(regex);return parametricChild?(parametricChild.nodePaths.add(nodePath),parametricChild):(parametricChild=new ParametricNode(regex,staticSuffix,nodePath),this.parametricChildren.push(parametricChild),this.parametricChildren.sort((child1,child2)=>child1.isRegex?child2.isRegex?child1.staticSuffix===null?1:child2.staticSuffix===null?-1:child2.staticSuffix.endsWith(child1.staticSuffix)?1:child1.staticSuffix.endsWith(child2.staticSuffix)?-1:0:-1:1),parametricChild)}getWildcardChild(){return this.wildcardChild}createWildcardChild(){return this.wildcardChild=this.getWildcardChild()||new WildcardNode,this.wildcardChild}split(parentNode,length){let parentPrefix=this.prefix.slice(0,length),childPrefix=this.prefix.slice(length);this.prefix=childPrefix,this._compilePrefixMatch();let staticNode=new _StaticNode(parentPrefix);return staticNode.staticChildren[childPrefix.charAt(0)]=this,parentNode.staticChildren[parentPrefix.charAt(0)]=staticNode,staticNode}getNextNode(path5,pathIndex,nodeStack,paramsCount){let node=this.findStaticMatchingChild(path5,pathIndex),parametricBrotherNodeIndex=0;if(node===null){if(this.parametricChildren.length===0)return this.wildcardChild;node=this.parametricChildren[0],parametricBrotherNodeIndex=1}this.wildcardChild!==null&&nodeStack.push({paramsCount,brotherPathIndex:pathIndex,brotherNode:this.wildcardChild});for(let i=this.parametricChildren.length-1;i>=parametricBrotherNodeIndex;i--)nodeStack.push({paramsCount,brotherPathIndex:pathIndex,brotherNode:this.parametricChildren[i]});return node}_compilePrefixMatch(){if(this.prefix.length===1){this.matchPrefix=()=>!0;return}let lines=[];for(let i=1;i<this.prefix.length;i++){let charCode=this.prefix.charCodeAt(i);lines.push(`path.charCodeAt(i + ${i}) === ${charCode}`)}this.matchPrefix=new Function("path","i",`return ${lines.join(" && ")}`)}},ParametricNode=class extends ParentNode{constructor(regex,staticSuffix,nodePath){super(),this.isRegex=!!regex,this.regex=regex||null,this.staticSuffix=staticSuffix||null,this.kind=NODE_TYPES.PARAMETRIC,this.nodePaths=new Set([nodePath])}getNextNode(path5,pathIndex){return this.findStaticMatchingChild(path5,pathIndex)}},WildcardNode=class extends Node{constructor(){super(),this.kind=NODE_TYPES.WILDCARD}getNextNode(){return null}};module2.exports={StaticNode,ParametricNode,WildcardNode,NODE_TYPES}}});var require_accept_version=__commonJS({"../../../../node_modules/find-my-way/lib/strategies/accept-version.js"(exports2,module2){"use strict";var assert2=require("node:assert");function SemVerStore(){if(!(this instanceof SemVerStore))return new SemVerStore;this.store=new Map,this.maxMajor=0,this.maxMinors={},this.maxPatches={}}SemVerStore.prototype.set=function(version,store){if(typeof version!="string")throw new TypeError("Version should be a string");let[major,minor,patch]=version.split(".",3);if(isNaN(major))throw new TypeError("Major version must be a numeric value");return major=Number(major),minor=Number(minor)||0,patch=Number(patch)||0,major>=this.maxMajor&&(this.maxMajor=major,this.store.set("x",store),this.store.set("*",store),this.store.set("x.x",store),this.store.set("x.x.x",store)),minor>=(this.maxMinors[major]||0)&&(this.maxMinors[major]=minor,this.store.set(`${major}.x`,store),this.store.set(`${major}.x.x`,store)),patch>=(this.maxPatches[`${major}.${minor}`]||0)&&(this.maxPatches[`${major}.${minor}`]=patch,this.store.set(`${major}.${minor}.x`,store)),this.store.set(`${major}.${minor}.${patch}`,store),this};SemVerStore.prototype.get=function(version){return this.store.get(version)};module2.exports={name:"version",mustMatchWhenDerived:!0,storage:SemVerStore,validate(value){assert2(typeof value=="string","Version should be a string")}}}});var require_accept_host=__commonJS({"../../../../node_modules/find-my-way/lib/strategies/accept-host.js"(exports2,module2){"use strict";var assert2=require("node:assert");function HostStorage(){let hosts=new Map,regexHosts=[];return{get:host=>{let exact=hosts.get(host);if(exact)return exact;for(let regex of regexHosts)if(regex.host.test(host))return regex.value},set:(host,value)=>{host instanceof RegExp?regexHosts.push({host,value}):hosts.set(host,value)}}}module2.exports={name:"host",mustMatchWhenDerived:!1,storage:HostStorage,validate(value){assert2(typeof value=="string"||Object.prototype.toString.call(value)==="[object RegExp]","Host should be a string or a RegExp")}}}});var require_constrainer=__commonJS({"../../../../node_modules/find-my-way/lib/constrainer.js"(exports2,module2){"use strict";var acceptVersionStrategy=require_accept_version(),acceptHostStrategy=require_accept_host(),assert2=require("node:assert"),Constrainer=class{constructor(customStrategies){if(this.strategies={version:acceptVersionStrategy,host:acceptHostStrategy},this.strategiesInUse=new Set,this.asyncStrategiesInUse=new Set,customStrategies)for(let strategy of Object.values(customStrategies))this.addConstraintStrategy(strategy)}isStrategyUsed(strategyName){return this.strategiesInUse.has(strategyName)||this.asyncStrategiesInUse.has(strategyName)}hasConstraintStrategy(strategyName){let customConstraintStrategy=this.strategies[strategyName];return customConstraintStrategy!==void 0?customConstraintStrategy.isCustom||this.isStrategyUsed(strategyName):!1}addConstraintStrategy(strategy){if(assert2(typeof strategy.name=="string"&&strategy.name!=="","strategy.name is required."),assert2(strategy.storage&&typeof strategy.storage=="function","strategy.storage function is required."),assert2(strategy.deriveConstraint&&typeof strategy.deriveConstraint=="function","strategy.deriveConstraint function is required."),this.strategies[strategy.name]&&this.strategies[strategy.name].isCustom)throw new Error(`There already exists a custom constraint with the name ${strategy.name}.`);if(this.isStrategyUsed(strategy.name))throw new Error(`There already exists a route with ${strategy.name} constraint.`);strategy.isCustom=!0,strategy.isAsync=strategy.deriveConstraint.length===3,this.strategies[strategy.name]=strategy,strategy.mustMatchWhenDerived&&this.noteUsage({[strategy.name]:strategy})}deriveConstraints(req,ctx,done){let constraints=this.deriveSyncConstraints(req,ctx);if(done===void 0)return constraints;this.deriveAsyncConstraints(constraints,req,ctx,done)}deriveSyncConstraints(req,ctx){}noteUsage(constraints){if(constraints){let beforeSize=this.strategiesInUse.size;for(let key in constraints)this.strategies[key].isAsync?this.asyncStrategiesInUse.add(key):this.strategiesInUse.add(key);beforeSize!==this.strategiesInUse.size&&this._buildDeriveConstraints()}}newStoreForConstraint(constraint){if(!this.strategies[constraint])throw new Error(`No strategy registered for constraint key ${constraint}`);return this.strategies[constraint].storage()}validateConstraints(constraints){for(let key in constraints){let value=constraints[key];if(typeof value>"u")throw new Error("Can't pass an undefined constraint value, must pass null or no key at all");let strategy=this.strategies[key];if(!strategy)throw new Error(`No strategy registered for constraint key ${key}`);strategy.validate&&strategy.validate(value)}}deriveAsyncConstraints(constraints,req,ctx,done){let asyncConstraintsCount=this.asyncStrategiesInUse.size;if(asyncConstraintsCount===0){done(null,constraints);return}constraints=constraints||{};for(let key of this.asyncStrategiesInUse)this.strategies[key].deriveConstraint(req,ctx,(err,constraintValue)=>{if(err!==null){done(err);return}constraints[key]=constraintValue,--asyncConstraintsCount===0&&done(null,constraints)})}_buildDeriveConstraints(){if(this.strategiesInUse.size===0)return;let lines=["return {"];for(let key of this.strategiesInUse){let strategy=this.strategies[key];strategy.isCustom?lines.push(`  ${strategy.name}: this.strategies.${key}.deriveConstraint(req, ctx),`):key==="version"?lines.push("   version: req.headers['accept-version'],"):lines.push("   host: req.headers.host || req.headers[':authority'],")}lines.push("}"),this.deriveSyncConstraints=new Function("req","ctx",lines.join(`
`)).bind(this)}};module2.exports=Constrainer}});var require_http_methods=__commonJS({"../../../../node_modules/find-my-way/lib/http-methods.js"(exports2,module2){"use strict";var httpMethods=["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","QUERY","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"];module2.exports=httpMethods}});var require_url_sanitizer=__commonJS({"../../../../node_modules/find-my-way/lib/url-sanitizer.js"(exports2,module2){"use strict";function decodeComponentChar(highCharCode,lowCharCode){return highCharCode===50?lowCharCode===53?"%":lowCharCode===51?"#":lowCharCode===52?"$":lowCharCode===54?"&":lowCharCode===66||lowCharCode===98?"+":lowCharCode===67||lowCharCode===99?",":lowCharCode===70||lowCharCode===102?"/":null:highCharCode===51?lowCharCode===65||lowCharCode===97?":":lowCharCode===66||lowCharCode===98?";":lowCharCode===68||lowCharCode===100?"=":lowCharCode===70||lowCharCode===102?"?":null:highCharCode===52&&lowCharCode===48?"@":null}function safeDecodeURI(path5,useSemicolonDelimiter){let shouldDecode=!1,shouldDecodeParam=!1,querystring="";for(let i=1;i<path5.length;i++){let charCode=path5.charCodeAt(i);if(charCode===37){let highCharCode=path5.charCodeAt(i+1),lowCharCode=path5.charCodeAt(i+2);decodeComponentChar(highCharCode,lowCharCode)===null?shouldDecode=!0:(shouldDecodeParam=!0,highCharCode===50&&lowCharCode===53&&(shouldDecode=!0,path5=path5.slice(0,i+1)+"25"+path5.slice(i+1),i+=2),i+=2)}else if(charCode===63||charCode===35||charCode===59&&useSemicolonDelimiter){querystring=path5.slice(i+1),path5=path5.slice(0,i);break}}return{path:shouldDecode?decodeURI(path5):path5,querystring,shouldDecodeParam}}function safeDecodeURIComponent(uriComponent){let startIndex=uriComponent.indexOf("%");if(startIndex===-1)return uriComponent;let decoded="",lastIndex=startIndex;for(let i=startIndex;i<uriComponent.length;i++)if(uriComponent.charCodeAt(i)===37){let highCharCode=uriComponent.charCodeAt(i+1),lowCharCode=uriComponent.charCodeAt(i+2),decodedChar=decodeComponentChar(highCharCode,lowCharCode);decoded+=uriComponent.slice(lastIndex,i)+decodedChar,lastIndex=i+3}return uriComponent.slice(0,startIndex)+decoded+uriComponent.slice(lastIndex)}module2.exports={safeDecodeURI,safeDecodeURIComponent}}});var require_find_my_way=__commonJS({"../../../../node_modules/find-my-way/index.js"(exports2,module2){"use strict";var assert2=require("node:assert"),querystring=require_lib(),isRegexSafe=require_safe_regex2(),deepEqual=require_fast_deep_equal(),{prettyPrintTree}=require_pretty_print(),{StaticNode,NODE_TYPES}=require_node(),Constrainer=require_constrainer(),httpMethods=require_http_methods(),httpMethodStrategy=require_http_method(),{safeDecodeURI,safeDecodeURIComponent}=require_url_sanitizer(),FULL_PATH_REGEXP=/^https?:\/\/.*?\//,OPTIONAL_PARAM_REGEXP=/(\/:[^/()]*?)\?(\/?)/,ESCAPE_REGEXP=/[.*+?^${}()|[\]\\]/g,REMOVE_DUPLICATE_SLASHES_REGEXP=/\/\/+/g;if(!isRegexSafe(FULL_PATH_REGEXP))throw new Error("the FULL_PATH_REGEXP is not safe, update this module");if(!isRegexSafe(OPTIONAL_PARAM_REGEXP))throw new Error("the OPTIONAL_PARAM_REGEXP is not safe, update this module");if(!isRegexSafe(ESCAPE_REGEXP))throw new Error("the ESCAPE_REGEXP is not safe, update this module");if(!isRegexSafe(REMOVE_DUPLICATE_SLASHES_REGEXP))throw new Error("the REMOVE_DUPLICATE_SLASHES_REGEXP is not safe, update this module");function Router(opts){if(!(this instanceof Router))return new Router(opts);opts=opts||{},this._opts=opts,opts.defaultRoute?(assert2(typeof opts.defaultRoute=="function","The default route must be a function"),this.defaultRoute=opts.defaultRoute):this.defaultRoute=null,opts.onBadUrl?(assert2(typeof opts.onBadUrl=="function","The bad url handler must be a function"),this.onBadUrl=opts.onBadUrl):this.onBadUrl=null,opts.buildPrettyMeta?(assert2(typeof opts.buildPrettyMeta=="function","buildPrettyMeta must be a function"),this.buildPrettyMeta=opts.buildPrettyMeta):this.buildPrettyMeta=defaultBuildPrettyMeta,opts.querystringParser?(assert2(typeof opts.querystringParser=="function","querystringParser must be a function"),this.querystringParser=opts.querystringParser):this.querystringParser=query=>query.length===0?{}:querystring.parse(query),this.caseSensitive=opts.caseSensitive===void 0?!0:opts.caseSensitive,this.ignoreTrailingSlash=opts.ignoreTrailingSlash||!1,this.ignoreDuplicateSlashes=opts.ignoreDuplicateSlashes||!1,this.maxParamLength=opts.maxParamLength||100,this.allowUnsafeRegex=opts.allowUnsafeRegex||!1,this.constrainer=new Constrainer(opts.constraints),this.useSemicolonDelimiter=opts.useSemicolonDelimiter||!1,this.routes=[],this.trees={}}Router.prototype.on=function(method,path5,opts,handler,store){typeof opts=="function"&&(handler!==void 0&&(store=handler),handler=opts,opts={}),assert2(typeof path5=="string","Path should be a string"),assert2(path5.length>0,"The path could not be empty"),assert2(path5[0]==="/"||path5[0]==="*","The first character of a path should be `/` or `*`"),assert2(typeof handler=="function","Handler should be a function");let optionalParamMatch=path5.match(OPTIONAL_PARAM_REGEXP);if(optionalParamMatch){assert2(path5.length===optionalParamMatch.index+optionalParamMatch[0].length,"Optional Parameter needs to be the last parameter of the path");let pathFull=path5.replace(OPTIONAL_PARAM_REGEXP,"$1$2"),pathOptional=path5.replace(OPTIONAL_PARAM_REGEXP,"$2")||"/";this.on(method,pathFull,opts,handler,store),this.on(method,pathOptional,opts,handler,store);return}let route=path5;this.ignoreDuplicateSlashes&&(path5=removeDuplicateSlashes(path5)),this.ignoreTrailingSlash&&(path5=trimLastSlash(path5));let methods=Array.isArray(method)?method:[method];for(let method2 of methods)assert2(typeof method2=="string","Method should be a string"),assert2(httpMethods.includes(method2),`Method '${method2}' is not an http method.`),this._on(method2,path5,opts,handler,store,route)};Router.prototype._on=function(method,path5,opts,handler,store){let constraints={};opts.constraints!==void 0&&(assert2(typeof opts.constraints=="object"&&opts.constraints!==null,"Constraints should be an object"),Object.keys(opts.constraints).length!==0&&(constraints=opts.constraints)),this.constrainer.validateConstraints(constraints),this.constrainer.noteUsage(constraints),this.trees[method]===void 0&&(this.trees[method]=new StaticNode("/"));let pattern=path5;if(pattern==="*"&&this.trees[method].prefix.length!==0){let currentRoot=this.trees[method];this.trees[method]=new StaticNode(""),this.trees[method].staticChildren["/"]=currentRoot}let currentNode=this.trees[method],parentNodePathIndex=currentNode.prefix.length,params=[];for(let i=0;i<=pattern.length;i++){if(pattern.charCodeAt(i)===58&&pattern.charCodeAt(i+1)===58){i++;continue}let isParametricNode=pattern.charCodeAt(i)===58&&pattern.charCodeAt(i+1)!==58,isWildcardNode=pattern.charCodeAt(i)===42;if(isParametricNode||isWildcardNode||i===pattern.length&&i!==parentNodePathIndex){let staticNodePath=pattern.slice(parentNodePathIndex,i);this.caseSensitive||(staticNodePath=staticNodePath.toLowerCase()),staticNodePath=staticNodePath.replaceAll("::",":"),staticNodePath=staticNodePath.replaceAll("%","%25"),currentNode=currentNode.createStaticChild(staticNodePath)}if(isParametricNode){let isRegexNode=!1,isParamSafe=!0,backtrack="",regexps=[],lastParamStartIndex=i+1;for(let j=lastParamStartIndex;;j++){let charCode=pattern.charCodeAt(j),isRegexParam=charCode===40,isStaticPart=charCode===45||charCode===46,isEndOfNode=charCode===47||j===pattern.length;if(isRegexParam||isStaticPart||isEndOfNode){let paramName=pattern.slice(lastParamStartIndex,j);if(params.push(paramName),isRegexNode=isRegexNode||isRegexParam||isStaticPart,isRegexParam){let endOfRegexIndex=getClosingParenthensePosition(pattern,j),regexString=pattern.slice(j,endOfRegexIndex+1);this.allowUnsafeRegex||assert2(isRegexSafe(new RegExp(regexString)),`The regex '${regexString}' is not safe!`),regexps.push(trimRegExpStartAndEnd(regexString)),j=endOfRegexIndex+1,isParamSafe=!0}else regexps.push(isParamSafe?"(.*?)":`(${backtrack}|(?:(?!${backtrack}).)*)`),isParamSafe=!1;let staticPartStartIndex=j;for(;j<pattern.length;j++){let charCode2=pattern.charCodeAt(j);if(charCode2===47)break;if(charCode2===58)if(pattern.charCodeAt(j+1)===58)j++;else break}let staticPart=pattern.slice(staticPartStartIndex,j);if(staticPart&&(staticPart=staticPart.replaceAll("::",":"),staticPart=staticPart.replaceAll("%","%25"),regexps.push(backtrack=escapeRegExp(staticPart))),lastParamStartIndex=j+1,isEndOfNode||pattern.charCodeAt(j)===47||j===pattern.length){let nodePattern=isRegexNode?"()"+staticPart:staticPart,nodePath=pattern.slice(i,j);pattern=pattern.slice(0,i+1)+nodePattern+pattern.slice(j),i+=nodePattern.length;let regex=isRegexNode?new RegExp("^"+regexps.join("")+"$"):null;currentNode=currentNode.createParametricChild(regex,staticPart||null,nodePath),parentNodePathIndex=i+1;break}}}}else if(isWildcardNode&&(params.push("*"),currentNode=currentNode.createWildcardChild(),parentNodePathIndex=i+1,i!==pattern.length-1))throw new Error("Wildcard must be the last character in the route")}this.caseSensitive||(pattern=pattern.toLowerCase()),pattern==="*"&&(pattern="/*");for(let existRoute of this.routes){let routeConstraints=existRoute.opts.constraints||{};if(existRoute.method===method&&existRoute.pattern===pattern&&deepEqual(routeConstraints,constraints))throw new Error(`Method '${method}' already declared for route '${pattern}' with constraints '${JSON.stringify(constraints)}'`)}let route={method,path:path5,pattern,params,opts,handler,store};this.routes.push(route),currentNode.addRoute(route,this.constrainer)};Router.prototype.hasRoute=function(method,path5,constraints){return this.findRoute(method,path5,constraints)!==null};Router.prototype.findRoute=function(method,path5,constraints={}){if(this.trees[method]===void 0)return null;let pattern=path5,currentNode=this.trees[method],parentNodePathIndex=currentNode.prefix.length,params=[];for(let i=0;i<=pattern.length;i++){if(pattern.charCodeAt(i)===58&&pattern.charCodeAt(i+1)===58){i++;continue}let isParametricNode=pattern.charCodeAt(i)===58&&pattern.charCodeAt(i+1)!==58,isWildcardNode=pattern.charCodeAt(i)===42;if(isParametricNode||isWildcardNode||i===pattern.length&&i!==parentNodePathIndex){let staticNodePath=pattern.slice(parentNodePathIndex,i);if(this.caseSensitive||(staticNodePath=staticNodePath.toLowerCase()),staticNodePath=staticNodePath.replaceAll("::",":"),staticNodePath=staticNodePath.replaceAll("%","%25"),currentNode=currentNode.getStaticChild(staticNodePath),currentNode===null)return null}if(isParametricNode){let isRegexNode=!1,isParamSafe=!0,backtrack="",regexps=[],lastParamStartIndex=i+1;for(let j=lastParamStartIndex;;j++){let charCode=pattern.charCodeAt(j),isRegexParam=charCode===40,isStaticPart=charCode===45||charCode===46,isEndOfNode=charCode===47||j===pattern.length;if(isRegexParam||isStaticPart||isEndOfNode){let paramName=pattern.slice(lastParamStartIndex,j);if(params.push(paramName),isRegexNode=isRegexNode||isRegexParam||isStaticPart,isRegexParam){let endOfRegexIndex=getClosingParenthensePosition(pattern,j),regexString=pattern.slice(j,endOfRegexIndex+1);this.allowUnsafeRegex||assert2(isRegexSafe(new RegExp(regexString)),`The regex '${regexString}' is not safe!`),regexps.push(trimRegExpStartAndEnd(regexString)),j=endOfRegexIndex+1,isParamSafe=!1}else regexps.push(isParamSafe?"(.*?)":`(${backtrack}|(?:(?!${backtrack}).)*)`),isParamSafe=!1;let staticPartStartIndex=j;for(;j<pattern.length;j++){let charCode2=pattern.charCodeAt(j);if(charCode2===47)break;if(charCode2===58)if(pattern.charCodeAt(j+1)===58)j++;else break}let staticPart=pattern.slice(staticPartStartIndex,j);if(staticPart&&(staticPart=staticPart.replaceAll("::",":"),staticPart=staticPart.replaceAll("%","%25"),regexps.push(backtrack=escapeRegExp(staticPart))),lastParamStartIndex=j+1,isEndOfNode||pattern.charCodeAt(j)===47||j===pattern.length){let nodePattern=isRegexNode?"()"+staticPart:staticPart,nodePath=pattern.slice(i,j);pattern=pattern.slice(0,i+1)+nodePattern+pattern.slice(j),i+=nodePattern.length;let regex=isRegexNode?new RegExp("^"+regexps.join("")+"$"):null;if(currentNode=currentNode.getParametricChild(regex,staticPart||null,nodePath),currentNode===null)return null;parentNodePathIndex=i+1;break}}}}else if(isWildcardNode&&(params.push("*"),currentNode=currentNode.getWildcardChild(),parentNodePathIndex=i+1,i!==pattern.length-1))throw new Error("Wildcard must be the last character in the route")}this.caseSensitive||(pattern=pattern.toLowerCase());for(let existRoute of this.routes){let routeConstraints=existRoute.opts.constraints||{};if(existRoute.method===method&&existRoute.pattern===pattern&&deepEqual(routeConstraints,constraints))return{handler:existRoute.handler,store:existRoute.store,params:existRoute.params}}return null};Router.prototype.hasConstraintStrategy=function(strategyName){return this.constrainer.hasConstraintStrategy(strategyName)};Router.prototype.addConstraintStrategy=function(constraints){this.constrainer.addConstraintStrategy(constraints),this._rebuild(this.routes)};Router.prototype.reset=function(){this.trees={},this.routes=[]};Router.prototype.off=function(method,path5,constraints){assert2(typeof path5=="string","Path should be a string"),assert2(path5.length>0,"The path could not be empty"),assert2(path5[0]==="/"||path5[0]==="*","The first character of a path should be `/` or `*`"),assert2(typeof constraints>"u"||typeof constraints=="object"&&!Array.isArray(constraints)&&constraints!==null,"Constraints should be an object or undefined.");let optionalParamMatch=path5.match(OPTIONAL_PARAM_REGEXP);if(optionalParamMatch){assert2(path5.length===optionalParamMatch.index+optionalParamMatch[0].length,"Optional Parameter needs to be the last parameter of the path");let pathFull=path5.replace(OPTIONAL_PARAM_REGEXP,"$1$2"),pathOptional=path5.replace(OPTIONAL_PARAM_REGEXP,"$2");this.off(method,pathFull,constraints),this.off(method,pathOptional,constraints);return}this.ignoreDuplicateSlashes&&(path5=removeDuplicateSlashes(path5)),this.ignoreTrailingSlash&&(path5=trimLastSlash(path5));let methods=Array.isArray(method)?method:[method];for(let method2 of methods)this._off(method2,path5,constraints)};Router.prototype._off=function(method,path5,constraints){assert2(typeof method=="string","Method should be a string"),assert2(httpMethods.includes(method),`Method '${method}' is not an http method.`);function matcherWithoutConstraints(route){return method!==route.method||path5!==route.path}function matcherWithConstraints(route){return matcherWithoutConstraints(route)||!deepEqual(constraints,route.opts.constraints||{})}let predicate=constraints?matcherWithConstraints:matcherWithoutConstraints,newRoutes=this.routes.filter(predicate);this._rebuild(newRoutes)};Router.prototype.lookup=function(req,res,ctx,done){if(typeof ctx=="function"&&(done=ctx,ctx=void 0),done===void 0){let constraints=this.constrainer.deriveConstraints(req,ctx),handle=this.find(req.method,req.url,constraints);return this.callHandler(handle,req,res,ctx)}this.constrainer.deriveConstraints(req,ctx,(err,constraints)=>{if(err!==null){done(err);return}try{let handle=this.find(req.method,req.url,constraints),result=this.callHandler(handle,req,res,ctx);done(null,result)}catch(err2){done(err2)}})};Router.prototype.callHandler=function(handle,req,res,ctx){return handle===null?this._defaultRoute(req,res,ctx):ctx===void 0?handle.handler(req,res,handle.params,handle.store,handle.searchParams):handle.handler.call(ctx,req,res,handle.params,handle.store,handle.searchParams)};Router.prototype.find=function(method,path5,derivedConstraints){let currentNode=this.trees[method];if(currentNode===void 0)return null;path5.charCodeAt(0)!==47&&(path5=path5.replace(FULL_PATH_REGEXP,"/")),this.ignoreDuplicateSlashes&&(path5=removeDuplicateSlashes(path5));let sanitizedUrl,querystring2,shouldDecodeParam;try{sanitizedUrl=safeDecodeURI(path5,this.useSemicolonDelimiter),path5=sanitizedUrl.path,querystring2=sanitizedUrl.querystring,shouldDecodeParam=sanitizedUrl.shouldDecodeParam}catch{return this._onBadUrl(path5)}this.ignoreTrailingSlash&&(path5=trimLastSlash(path5));let originPath=path5;this.caseSensitive===!1&&(path5=path5.toLowerCase());let maxParamLength=this.maxParamLength,pathIndex=currentNode.prefix.length,params=[],pathLen=path5.length,brothersNodesStack=[];for(;;){if(pathIndex===pathLen&&currentNode.isLeafNode){let handle=currentNode.handlerStorage.getMatchingHandler(derivedConstraints);if(handle!==null)return{handler:handle.handler,store:handle.store,params:handle._createParamsObject(params),searchParams:this.querystringParser(querystring2)}}let node=currentNode.getNextNode(path5,pathIndex,brothersNodesStack,params.length);if(node===null){if(brothersNodesStack.length===0)return null;let brotherNodeState=brothersNodesStack.pop();pathIndex=brotherNodeState.brotherPathIndex,params.splice(brotherNodeState.paramsCount),node=brotherNodeState.brotherNode}if(currentNode=node,currentNode.kind===NODE_TYPES.STATIC){pathIndex+=currentNode.prefix.length;continue}if(currentNode.kind===NODE_TYPES.WILDCARD){let param2=originPath.slice(pathIndex);shouldDecodeParam&&(param2=safeDecodeURIComponent(param2)),params.push(param2),pathIndex=pathLen;continue}let paramEndIndex=originPath.indexOf("/",pathIndex);paramEndIndex===-1&&(paramEndIndex=pathLen);let param=originPath.slice(pathIndex,paramEndIndex);if(shouldDecodeParam&&(param=safeDecodeURIComponent(param)),currentNode.isRegex){let matchedParameters=currentNode.regex.exec(param);if(matchedParameters===null)continue;for(let i=1;i<matchedParameters.length;i++){let matchedParam=matchedParameters[i];if(matchedParam.length>maxParamLength)return null;params.push(matchedParam)}}else{if(param.length>maxParamLength)return null;params.push(param)}pathIndex=paramEndIndex}};Router.prototype._rebuild=function(routes){this.reset();for(let route of routes){let{method,path:path5,opts,handler,store}=route;this._on(method,path5,opts,handler,store)}};Router.prototype._defaultRoute=function(req,res,ctx){if(this.defaultRoute!==null)return ctx===void 0?this.defaultRoute(req,res):this.defaultRoute.call(ctx,req,res);res.statusCode=404,res.end()};Router.prototype._onBadUrl=function(path5){if(this.onBadUrl===null)return null;let onBadUrl=this.onBadUrl;return{handler:(req,res,ctx)=>onBadUrl(path5,req,res),params:{},store:null}};Router.prototype.prettyPrint=function(options2={}){let method=options2.method;options2.buildPrettyMeta=this.buildPrettyMeta.bind(this);let tree=null;if(method===void 0){let{version,host,...constraints}=this.constrainer.strategies;constraints[httpMethodStrategy.name]=httpMethodStrategy;let mergedRouter=new Router({...this._opts,constraints}),mergedRoutes=this.routes.map(route=>{let constraints2={...route.opts.constraints,[httpMethodStrategy.name]:route.method};return{...route,method:"MERGED",opts:{constraints:constraints2}}});mergedRouter._rebuild(mergedRoutes),tree=mergedRouter.trees.MERGED}else tree=this.trees[method];return tree==null?"(empty tree)":prettyPrintTree(tree,options2)};for(let i in httpMethods){if(!httpMethods.hasOwnProperty(i))continue;let m=httpMethods[i],methodName=m.toLowerCase();Router.prototype[methodName]=function(path5,handler,store){return this.on(m,path5,handler,store)}}Router.prototype.all=function(path5,handler,store){this.on(httpMethods,path5,handler,store)};Router.sanitizeUrlPath=function(url,useSemicolonDelimiter){let decoded=safeDecodeURI(url,useSemicolonDelimiter);return decoded.shouldDecodeParam?safeDecodeURIComponent(decoded.path):decoded.path};module2.exports=Router;function escapeRegExp(string){return string.replace(ESCAPE_REGEXP,"\\$&")}function removeDuplicateSlashes(path5){return path5.indexOf("//")!==-1?path5.replace(REMOVE_DUPLICATE_SLASHES_REGEXP,"/"):path5}function trimLastSlash(path5){return path5.length>1&&path5.charCodeAt(path5.length-1)===47?path5.slice(0,-1):path5}function trimRegExpStartAndEnd(regexString){return regexString.charCodeAt(1)===94&&(regexString=regexString.slice(0,1)+regexString.slice(2)),regexString.charCodeAt(regexString.length-2)===36&&(regexString=regexString.slice(0,regexString.length-2)+regexString.slice(regexString.length-1)),regexString}function getClosingParenthensePosition(path5,idx){let parentheses=1;for(;idx<path5.length;){if(idx++,path5.charCodeAt(idx)===92){idx++;continue}if(path5.charCodeAt(idx)===41?parentheses--:path5.charCodeAt(idx)===40&&parentheses++,!parentheses)return idx}throw new TypeError('Invalid regexp expression in "'+path5+'"')}function defaultBuildPrettyMeta(route){return route?route.store?Object.assign({},route.store):{}:{}}}});var require_head_route=__commonJS({"../../../../node_modules/fastify/lib/head-route.js"(exports2,module2){"use strict";function headRouteOnSendHandler(req,reply,payload,done){if(payload===void 0){reply.header("content-length","0"),done(null,null);return}if(typeof payload.resume=="function"){payload.on("error",err=>{reply.log.error({err},"Error on Stream found for HEAD route")}),payload.resume(),done(null,null);return}if(typeof payload.getReader=="function"){payload.cancel("Stream cancelled by HEAD route").catch(err=>{reply.log.error({err},"Error on Stream found for HEAD route")}),done(null,null);return}let size=""+Buffer.byteLength(payload);reply.header("content-length",size),done(null,null)}function parseHeadOnSendHandlers(onSendHandlers){return onSendHandlers==null?headRouteOnSendHandler:Array.isArray(onSendHandlers)?[...onSendHandlers,headRouteOnSendHandler]:[onSendHandlers,headRouteOnSendHandler]}module2.exports={parseHeadOnSendHandlers}}});var require_route=__commonJS({"../../../../node_modules/fastify/lib/route.js"(exports2,module2){"use strict";var FindMyWay=require_find_my_way(),Context=require_context(),handleRequest=require_handle_request(),{onRequestAbortHookRunner,lifecycleHooks,preParsingHookRunner,onTimeoutHookRunner,onRequestHookRunner}=require_hooks(),{normalizeSchema}=require_schemas(),{parseHeadOnSendHandlers}=require_head_route(),{compileSchemasForValidation,compileSchemasForSerialization}=require_validation(),{FST_ERR_SCH_VALIDATION_BUILD,FST_ERR_SCH_SERIALIZATION_BUILD,FST_ERR_DUPLICATED_ROUTE,FST_ERR_INVALID_URL,FST_ERR_HOOK_INVALID_HANDLER,FST_ERR_ROUTE_OPTIONS_NOT_OBJ,FST_ERR_ROUTE_DUPLICATED_HANDLER,FST_ERR_ROUTE_HANDLER_NOT_FN,FST_ERR_ROUTE_MISSING_HANDLER,FST_ERR_ROUTE_METHOD_NOT_SUPPORTED,FST_ERR_ROUTE_METHOD_INVALID,FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED,FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT,FST_ERR_HOOK_INVALID_ASYNC_HANDLER}=require_errors2(),{kRoutePrefix,kSupportedHTTPMethods,kLogLevel,kLogSerializers,kHooks,kSchemaController,kOptions,kReplySerializerDefault,kReplyIsError,kRequestPayloadStream,kDisableRequestLogging,kSchemaErrorFormatter,kErrorHandler,kHasBeenDecorated,kRequestAcceptVersion,kRouteByFastify,kRouteContext}=require_symbols2(),{buildErrorHandler}=require_error_handler(),{createChildLogger}=require_logger_factory(),{getGenReqId}=require_req_id_gen_factory(),{FSTDEP022}=require_warnings(),routerKeys=["allowUnsafeRegex","buildPrettyMeta","caseSensitive","constraints","defaultRoute","ignoreDuplicateSlashes","ignoreTrailingSlash","maxParamLength","onBadUrl","querystringParser","useSemicolonDelimiter"];function buildRouting(options2){let router=FindMyWay(options2),avvio,fourOhFour,logger,hasLogger,setupResponseListeners,throwIfAlreadyStarted,disableRequestLogging,disableRequestLoggingFn,ignoreTrailingSlash,ignoreDuplicateSlashes,return503OnClosing,globalExposeHeadRoutes,keepAliveConnections,closing=!1;return{setup(options3,fastifyArgs){avvio=fastifyArgs.avvio,fourOhFour=fastifyArgs.fourOhFour,logger=options3.logger,hasLogger=fastifyArgs.hasLogger,setupResponseListeners=fastifyArgs.setupResponseListeners,throwIfAlreadyStarted=fastifyArgs.throwIfAlreadyStarted,globalExposeHeadRoutes=options3.exposeHeadRoutes,disableRequestLogging=options3.disableRequestLogging,typeof disableRequestLogging=="function"&&(disableRequestLoggingFn=options3.disableRequestLogging),ignoreTrailingSlash=options3.routerOptions.ignoreTrailingSlash,ignoreDuplicateSlashes=options3.routerOptions.ignoreDuplicateSlashes,return503OnClosing=Object.hasOwn(options3,"return503OnClosing")?options3.return503OnClosing:!0,keepAliveConnections=fastifyArgs.keepAliveConnections},routing:router.lookup.bind(router),route,hasRoute,prepareRoute,routeHandler,closeRoutes:()=>{closing=!0},printRoutes:router.prettyPrint.bind(router),addConstraintStrategy,hasConstraintStrategy,isAsyncConstraint,findRoute};function addConstraintStrategy(strategy){return throwIfAlreadyStarted("Cannot add constraint strategy!"),router.addConstraintStrategy(strategy)}function hasConstraintStrategy(strategyName){return router.hasConstraintStrategy(strategyName)}function isAsyncConstraint(){return router.constrainer.asyncStrategiesInUse.size>0}function prepareRoute({method,url,options:options3,handler,isFastify}){if(typeof url!="string")throw new FST_ERR_INVALID_URL(typeof url);if(!handler&&typeof options3=="function")handler=options3,options3={};else if(handler&&typeof handler=="function"){if(Object.prototype.toString.call(options3)!=="[object Object]")throw new FST_ERR_ROUTE_OPTIONS_NOT_OBJ(method,url);if(options3.handler)throw typeof options3.handler=="function"?new FST_ERR_ROUTE_DUPLICATED_HANDLER(method,url):new FST_ERR_ROUTE_HANDLER_NOT_FN(method,url)}return options3=Object.assign({},options3,{method,url,path:url,handler:handler||options3&&options3.handler}),route.call(this,{options:options3,isFastify})}function hasRoute({options:options3}){let normalizedMethod=options3.method?.toUpperCase()??"";return router.hasRoute(normalizedMethod,options3.url||"",options3.constraints)}function findRoute(options3){let route2=router.find(options3.method,options3.url||"",options3.constraints);return route2?{handler:route2.handler,params:route2.params,searchParams:route2.searchParams}:null}function route({options:options3,isFastify}){throwIfAlreadyStarted("Cannot add route!");let opts={...options3},path5=opts.url||opts.path||"";if(!opts.handler)throw new FST_ERR_ROUTE_MISSING_HANDLER(opts.method,path5);if(opts.errorHandler!==void 0&&typeof opts.errorHandler!="function")throw new FST_ERR_ROUTE_HANDLER_NOT_FN(opts.method,path5);validateBodyLimitOption(opts.bodyLimit);let shouldExposeHead=opts.exposeHeadRoute??globalExposeHeadRoutes,isGetRoute=!1,isHeadRoute=!1;if(Array.isArray(opts.method))for(let i=0;i<opts.method.length;++i)opts.method[i]=normalizeAndValidateMethod.call(this,opts.method[i]),validateSchemaBodyOption.call(this,opts.method[i],path5,opts.schema),isGetRoute=opts.method.includes("GET"),isHeadRoute=opts.method.includes("HEAD");else opts.method=normalizeAndValidateMethod.call(this,opts.method),validateSchemaBodyOption.call(this,opts.method,path5,opts.schema),isGetRoute=opts.method==="GET",isHeadRoute=opts.method==="HEAD";let headOpts=shouldExposeHead&&isGetRoute?{...options3}:null,prefix=this[kRoutePrefix];if(path5==="/"&&prefix.length>0&&opts.method!=="HEAD")switch(opts.prefixTrailingSlash){case"slash":addNewRoute.call(this,{path:path5,isFastify});break;case"no-slash":addNewRoute.call(this,{path:"",isFastify});break;case"both":default:addNewRoute.call(this,{path:"",isFastify}),ignoreTrailingSlash!==!0&&(ignoreDuplicateSlashes!==!0||!prefix.endsWith("/"))&&addNewRoute.call(this,{path:path5,prefixing:!0,isFastify})}else path5[0]==="/"&&prefix.endsWith("/")?addNewRoute.call(this,{path:path5.slice(1),isFastify}):addNewRoute.call(this,{path:path5,isFastify});return this;function addNewRoute({path:path6,prefixing=!1,isFastify:isFastify2=!1}){let url=prefix+path6;if(opts.url=url,opts.path=url,opts.routePath=path6,opts.prefix=prefix,opts.logLevel=opts.logLevel||this[kLogLevel],(this[kLogSerializers]||opts.logSerializers)&&(opts.logSerializers=Object.assign(Object.create(this[kLogSerializers]),opts.logSerializers)),opts.attachValidation==null&&(opts.attachValidation=!1),prefixing===!1)for(let hook of this[kHooks].onRoute)hook.call(this,opts);for(let hook of lifecycleHooks)if(opts&&hook in opts){if(Array.isArray(opts[hook]))for(let func of opts[hook]){if(typeof func!="function")throw new FST_ERR_HOOK_INVALID_HANDLER(hook,Object.prototype.toString.call(func));if(hook==="onSend"||hook==="preSerialization"||hook==="onError"||hook==="preParsing"){if(func.constructor.name==="AsyncFunction"&&func.length===4)throw new FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(hook==="onRequestAbort"){if(func.constructor.name==="AsyncFunction"&&func.length!==1)throw new FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(func.constructor.name==="AsyncFunction"&&func.length===3)throw new FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(opts[hook]!==void 0&&typeof opts[hook]!="function")throw new FST_ERR_HOOK_INVALID_HANDLER(hook,Object.prototype.toString.call(opts[hook]))}let constraints=opts.constraints||{},config3={...opts.config,url,method:opts.method},context=new Context({schema:opts.schema,handler:opts.handler.bind(this),config:config3,errorHandler:opts.errorHandler,childLoggerFactory:opts.childLoggerFactory,bodyLimit:opts.bodyLimit,logLevel:opts.logLevel,logSerializers:opts.logSerializers,attachValidation:opts.attachValidation,schemaErrorFormatter:opts.schemaErrorFormatter,replySerializer:this[kReplySerializerDefault],validatorCompiler:opts.validatorCompiler,serializerCompiler:opts.serializerCompiler,exposeHeadRoute:shouldExposeHead,prefixTrailingSlash:opts.prefixTrailingSlash||"both",server:this,isFastify:isFastify2}),hasHEADHandler=router.findRoute("HEAD",opts.url,constraints)!==null;try{router.on(opts.method,opts.url,{constraints},routeHandler,context)}catch(error){if(!context[kRouteByFastify])throw error.message.includes(`Method '${opts.method}' already declared for route`)?new FST_ERR_DUPLICATED_ROUTE(opts.method,opts.url):error}if(this.after((notHandledErr,done)=>{context.errorHandler=opts.errorHandler?buildErrorHandler(this[kErrorHandler],opts.errorHandler):this[kErrorHandler],context._parserOptions.limit=opts.bodyLimit||null,context.logLevel=opts.logLevel,context.logSerializers=opts.logSerializers,context.attachValidation=opts.attachValidation,context[kReplySerializerDefault]=this[kReplySerializerDefault],context.schemaErrorFormatter=opts.schemaErrorFormatter||this[kSchemaErrorFormatter]||context.schemaErrorFormatter,avvio.once("preReady",()=>{for(let hook of lifecycleHooks){let toSet=this[kHooks][hook].concat(opts[hook]||[]).map(h=>h.bind(this));context[hook]=toSet.length?toSet:null}for(;!context.Request[kHasBeenDecorated]&&context.Request.parent;)context.Request=context.Request.parent;for(;!context.Reply[kHasBeenDecorated]&&context.Reply.parent;)context.Reply=context.Reply.parent;if(fourOhFour.setContext(this,context),opts.schema){context.schema=normalizeSchema(context.schema,this.initialConfig);let schemaController=this[kSchemaController],hasValidationSchema=opts.schema.body||opts.schema.headers||opts.schema.querystring||opts.schema.params;!opts.validatorCompiler&&hasValidationSchema&&schemaController.setupValidator(this[kOptions]);try{let isCustom=typeof opts?.validatorCompiler=="function"||schemaController.isCustomValidatorCompiler;compileSchemasForValidation(context,opts.validatorCompiler||schemaController.validatorCompiler,isCustom)}catch(error){throw new FST_ERR_SCH_VALIDATION_BUILD(opts.method,url,error.message)}opts.schema.response&&!opts.serializerCompiler&&schemaController.setupSerializer(this[kOptions]);try{compileSchemasForSerialization(context,opts.serializerCompiler||schemaController.serializerCompiler)}catch(error){throw new FST_ERR_SCH_SERIALIZATION_BUILD(opts.method,url,error.message)}}}),done(notHandledErr)}),shouldExposeHead&&isGetRoute&&!isHeadRoute&&!hasHEADHandler){let onSendHandlers=parseHeadOnSendHandlers(headOpts.onSend);prepareRoute.call(this,{method:"HEAD",url:path6,options:{...headOpts,onSend:onSendHandlers},isFastify:!0})}}}function routeHandler(req,res,params,context,query){let id=getGenReqId(context.server,req),loggerOpts={level:context.logLevel};context.logSerializers&&(loggerOpts.serializers=context.logSerializers);let childLogger=createChildLogger(context,logger,req,id,loggerOpts);if(childLogger[kDisableRequestLogging]=disableRequestLoggingFn?!1:disableRequestLogging,closing===!0&&(req.httpVersionMajor!==2&&res.setHeader("Connection","close"),return503OnClosing)){let headers={"Content-Type":"application/json","Content-Length":"80"};res.writeHead(503,headers),res.end('{"error":"Service Unavailable","message":"Service Unavailable","statusCode":503}'),childLogger.info({res:{statusCode:503}},"request aborted - refusing to accept new requests as server is closing");return}String.prototype.toLowerCase.call(req.headers.connection||"")==="keep-alive"&&keepAliveConnections.has(req.socket)===!1&&(keepAliveConnections.add(req.socket),req.socket.on("close",removeTrackedSocket.bind({keepAliveConnections,socket:req.socket}))),req.headers[kRequestAcceptVersion]!==void 0&&(req.headers["accept-version"]=req.headers[kRequestAcceptVersion],req.headers[kRequestAcceptVersion]=void 0);let request2=new context.Request(id,params,req,query,childLogger,context),reply=new context.Reply(res,request2,childLogger),resolvedDisableRequestLogging=disableRequestLoggingFn?disableRequestLoggingFn(request2):disableRequestLogging;childLogger[kDisableRequestLogging]=resolvedDisableRequestLogging,resolvedDisableRequestLogging===!1&&childLogger.info({req:request2},"incoming request"),(hasLogger===!0||context.onResponse!==null)&&setupResponseListeners(reply),context.onRequest!==null?onRequestHookRunner(context.onRequest,request2,reply,runPreParsing):runPreParsing(null,request2,reply),context.onRequestAbort!==null&&req.on("close",()=>{req.aborted&&onRequestAbortHookRunner(context.onRequestAbort,request2,handleOnRequestAbortHooksErrors.bind(null,reply))}),context.onTimeout!==null&&(request2.raw.socket._meta||request2.raw.socket.on("timeout",handleTimeout),request2.raw.socket._meta={context,request:request2,reply})}}function handleOnRequestAbortHooksErrors(reply,err){err&&reply.log.error({err},"onRequestAborted hook failed")}function handleTimeout(){let{context,request:request2,reply}=this._meta;onTimeoutHookRunner(context.onTimeout,request2,reply,noop)}function normalizeAndValidateMethod(method){if(typeof method!="string")throw new FST_ERR_ROUTE_METHOD_INVALID;if(method=method.toUpperCase(),!this[kSupportedHTTPMethods].bodyless.has(method)&&!this[kSupportedHTTPMethods].bodywith.has(method))throw new FST_ERR_ROUTE_METHOD_NOT_SUPPORTED(method);return method}function validateSchemaBodyOption(method,path5,schema){if(this[kSupportedHTTPMethods].bodyless.has(method)&&schema?.body)throw new FST_ERR_ROUTE_BODY_VALIDATION_SCHEMA_NOT_SUPPORTED(method,path5)}function validateBodyLimitOption(bodyLimit){if(bodyLimit!==void 0&&(!Number.isInteger(bodyLimit)||bodyLimit<=0))throw new FST_ERR_ROUTE_BODY_LIMIT_OPTION_NOT_INT(bodyLimit)}function runPreParsing(err,request2,reply){if(reply.sent!==!0){if(err!=null){reply[kReplyIsError]=!0,reply.send(err);return}request2[kRequestPayloadStream]=request2.raw,request2[kRouteContext].preParsing!==null?preParsingHookRunner(request2[kRouteContext].preParsing,request2,reply,handleRequest.bind(request2.server)):handleRequest.call(request2.server,null,request2,reply)}}function buildRouterOptions(options2,defaultOptions3){let routerOptions=options2.routerOptions||Object.create(null),usedDeprecatedOptions=routerKeys.filter(key=>Object.hasOwn(options2,key));usedDeprecatedOptions.length>0&&FSTDEP022(usedDeprecatedOptions.join(", "));for(let key of routerKeys)Object.hasOwn(routerOptions,key)||(routerOptions[key]=options2[key]??defaultOptions3[key]);return routerOptions}function removeTrackedSocket(){this.keepAliveConnections.delete(this.socket)}function noop(){}module2.exports={buildRouting,validateBodyLimitOption,buildRouterOptions}}});var require_four_oh_four=__commonJS({"../../../../node_modules/fastify/lib/four-oh-four.js"(exports2,module2){"use strict";var FindMyWay=require_find_my_way(),Reply=require_reply(),Request=require_request(),Context=require_context(),{kRoutePrefix,kCanSetNotFoundHandler,kFourOhFourLevelInstance,kFourOhFourContext,kHooks,kErrorHandler}=require_symbols2(),{lifecycleHooks}=require_hooks(),{buildErrorHandler}=require_error_handler(),{FST_ERR_NOT_FOUND}=require_errors2(),{createChildLogger}=require_logger_factory(),{getGenReqId}=require_req_id_gen_factory();function fourOhFour(options2){let{logger,disableRequestLogging}=options2,router=FindMyWay({onBadUrl:createOnBadUrl(),defaultRoute:fourOhFourFallBack}),_onBadUrlHandler=null;return{router,setNotFoundHandler,setContext,arrange404};function arrange404(instance){instance[kFourOhFourLevelInstance]=instance,instance[kCanSetNotFoundHandler]=!0,router.onBadUrl=router.onBadUrl.bind(instance),router.defaultRoute=router.defaultRoute.bind(instance)}function basic404(request2,reply){let{url,method}=request2.raw,message=`Route ${method}:${url} not found`;(typeof disableRequestLogging=="function"?disableRequestLogging(request2.raw):disableRequestLogging)||request2.log.info(message),reply.code(404).send({message,error:"Not Found",statusCode:404})}function createOnBadUrl(){return function(path5,req,res){let fourOhFourContext=this[kFourOhFourLevelInstance][kFourOhFourContext],id=getGenReqId(fourOhFourContext.server,req),childLogger=createChildLogger(fourOhFourContext,logger,req,id),request2=new Request(id,null,req,null,childLogger,fourOhFourContext),reply=new Reply(res,request2,childLogger);_onBadUrlHandler(request2,reply)}}function setContext(instance,context){let _404Context=Object.assign({},instance[kFourOhFourContext]);_404Context.onSend=context.onSend,context[kFourOhFourContext]=_404Context}function setNotFoundHandler(opts,handler,avvio,routeHandler){this[kCanSetNotFoundHandler]===void 0&&(this[kCanSetNotFoundHandler]=!0),this[kFourOhFourContext]===void 0&&(this[kFourOhFourContext]=null);let _fastify=this,prefix=this[kRoutePrefix]||"/";if(this[kCanSetNotFoundHandler]===!1)throw new Error(`Not found handler already set for Fastify instance with prefix: '${prefix}'`);typeof opts=="object"&&(opts.preHandler&&(Array.isArray(opts.preHandler)?opts.preHandler=opts.preHandler.map(hook=>hook.bind(_fastify)):opts.preHandler=opts.preHandler.bind(_fastify)),opts.preValidation&&(Array.isArray(opts.preValidation)?opts.preValidation=opts.preValidation.map(hook=>hook.bind(_fastify)):opts.preValidation=opts.preValidation.bind(_fastify))),typeof opts=="function"&&(handler=opts,opts=void 0),opts=opts||{},handler?(this[kFourOhFourLevelInstance][kCanSetNotFoundHandler]=!1,handler=handler.bind(this),_onBadUrlHandler=handler):(handler=basic404,_onBadUrlHandler=basic404),this.after((notHandledErr,done)=>{_setNotFoundHandler.call(this,prefix,opts,handler,avvio,routeHandler),done(notHandledErr)})}function _setNotFoundHandler(prefix,opts,handler,avvio,routeHandler){let context=new Context({schema:opts.schema,handler,config:opts.config||{},server:this});if(avvio.once("preReady",()=>{let context2=this[kFourOhFourContext];for(let hook of lifecycleHooks){let toSet=this[kHooks][hook].concat(opts[hook]||[]).map(h=>h.bind(this));context2[hook]=toSet.length?toSet:null}context2.errorHandler=opts.errorHandler?buildErrorHandler(this[kErrorHandler],opts.errorHandler):this[kErrorHandler]}),this[kFourOhFourContext]!==null&&prefix==="/"){Object.assign(this[kFourOhFourContext],context);return}this[kFourOhFourLevelInstance][kFourOhFourContext]=context,router.all(prefix+(prefix.endsWith("/")?"*":"/*"),routeHandler,context),router.all(prefix,routeHandler,context)}function fourOhFourFallBack(req,res){let fourOhFourContext=this[kFourOhFourLevelInstance][kFourOhFourContext],id=getGenReqId(fourOhFourContext.server,req),childLogger=createChildLogger(fourOhFourContext,logger,req,id);childLogger.info({req},"incoming request");let request2=new Request(id,null,req,null,childLogger,fourOhFourContext),reply=new Reply(res,request2,childLogger);request2.log.warn("the default handler for 404 did not catch this, this is likely a fastify bug, please report it"),request2.log.warn(router.prettyPrint()),reply.code(404).send(new FST_ERR_NOT_FOUND)}}module2.exports=fourOhFour}});var require_config_validator=__commonJS({"../../../../node_modules/fastify/lib/config-validator.js"(exports2,module2){"use strict";module2.exports=validate10;module2.exports.default=validate10;var schema11={type:"object",additionalProperties:!1,properties:{connectionTimeout:{type:"integer",default:0},keepAliveTimeout:{type:"integer",default:72e3},forceCloseConnections:{oneOf:[{type:"string",pattern:"idle"},{type:"boolean"}]},maxRequestsPerSocket:{type:"integer",default:0,nullable:!0},requestTimeout:{type:"integer",default:0},bodyLimit:{type:"integer",default:1048576},caseSensitive:{type:"boolean",default:!0},allowUnsafeRegex:{type:"boolean",default:!1},http2:{type:"boolean"},https:{if:{not:{oneOf:[{type:"boolean"},{type:"null"},{type:"object",additionalProperties:!1,required:["allowHTTP1"],properties:{allowHTTP1:{type:"boolean"}}}]}},then:{setDefaultValue:!0}},ignoreTrailingSlash:{type:"boolean",default:!1},ignoreDuplicateSlashes:{type:"boolean",default:!1},disableRequestLogging:{default:!1},maxParamLength:{type:"integer",default:100},onProtoPoisoning:{type:"string",default:"error"},onConstructorPoisoning:{type:"string",default:"error"},pluginTimeout:{type:"integer",default:1e4},requestIdHeader:{anyOf:[{type:"boolean"},{type:"string"}],default:!1},requestIdLogLabel:{type:"string",default:"reqId"},http2SessionTimeout:{type:"integer",default:72e3},exposeHeadRoutes:{type:"boolean",default:!0},useSemicolonDelimiter:{type:"boolean",default:!1},routerOptions:{type:"object",additionalProperties:!0,properties:{ignoreTrailingSlash:{type:"boolean",default:!1},ignoreDuplicateSlashes:{type:"boolean",default:!1},maxParamLength:{type:"integer",default:100},allowUnsafeRegex:{type:"boolean",default:!1},useSemicolonDelimiter:{type:"boolean",default:!1}}},constraints:{type:"object",additionalProperties:{type:"object",required:["name","storage","validate","deriveConstraint"],additionalProperties:!0,properties:{name:{type:"string"},storage:{},validate:{},deriveConstraint:{}}}}}},func2=Object.prototype.hasOwnProperty,pattern0=new RegExp("idle","u");function validate10(data,{instancePath="",parentData,parentDataProperty,rootData=data}={}){let vErrors=null,errors=0;if(errors===0)if(data&&typeof data=="object"&&!Array.isArray(data)){data.connectionTimeout===void 0&&(data.connectionTimeout=0),data.keepAliveTimeout===void 0&&(data.keepAliveTimeout=72e3),data.maxRequestsPerSocket===void 0&&(data.maxRequestsPerSocket=0),data.requestTimeout===void 0&&(data.requestTimeout=0),data.bodyLimit===void 0&&(data.bodyLimit=1048576),data.caseSensitive===void 0&&(data.caseSensitive=!0),data.allowUnsafeRegex===void 0&&(data.allowUnsafeRegex=!1),data.ignoreTrailingSlash===void 0&&(data.ignoreTrailingSlash=!1),data.ignoreDuplicateSlashes===void 0&&(data.ignoreDuplicateSlashes=!1),data.disableRequestLogging===void 0&&(data.disableRequestLogging=!1),data.maxParamLength===void 0&&(data.maxParamLength=100),data.onProtoPoisoning===void 0&&(data.onProtoPoisoning="error"),data.onConstructorPoisoning===void 0&&(data.onConstructorPoisoning="error"),data.pluginTimeout===void 0&&(data.pluginTimeout=1e4),data.requestIdHeader===void 0&&(data.requestIdHeader=!1),data.requestIdLogLabel===void 0&&(data.requestIdLogLabel="reqId"),data.http2SessionTimeout===void 0&&(data.http2SessionTimeout=72e3),data.exposeHeadRoutes===void 0&&(data.exposeHeadRoutes=!0),data.useSemicolonDelimiter===void 0&&(data.useSemicolonDelimiter=!1);let _errs1=errors;for(let key0 in data)func2.call(schema11.properties,key0)||delete data[key0];if(_errs1===errors){let data0=data.connectionTimeout,_errs2=errors;if(!(typeof data0=="number"&&!(data0%1)&&!isNaN(data0)&&isFinite(data0))){let dataType0=typeof data0,coerced0;if(coerced0===void 0)if(dataType0==="boolean"||data0===null||dataType0==="string"&&data0&&data0==+data0&&!(data0%1))coerced0=+data0;else return validate10.errors=[{instancePath:instancePath+"/connectionTimeout",schemaPath:"#/properties/connectionTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;coerced0!==void 0&&(data0=coerced0,data!==void 0&&(data.connectionTimeout=coerced0))}var valid0=_errs2===errors;if(valid0){let data1=data.keepAliveTimeout,_errs4=errors;if(!(typeof data1=="number"&&!(data1%1)&&!isNaN(data1)&&isFinite(data1))){let dataType1=typeof data1,coerced1;if(coerced1===void 0)if(dataType1==="boolean"||data1===null||dataType1==="string"&&data1&&data1==+data1&&!(data1%1))coerced1=+data1;else return validate10.errors=[{instancePath:instancePath+"/keepAliveTimeout",schemaPath:"#/properties/keepAliveTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;coerced1!==void 0&&(data1=coerced1,data!==void 0&&(data.keepAliveTimeout=coerced1))}var valid0=_errs4===errors;if(valid0){if(data.forceCloseConnections!==void 0){let data2=data.forceCloseConnections,_errs6=errors,_errs7=errors,valid1=!1,passing0=null,_errs8=errors;if(typeof data2!="string"){let dataType2=typeof data2,coerced2;if(coerced2===void 0)if(dataType2=="number"||dataType2=="boolean")coerced2=""+data2;else if(data2===null)coerced2="";else{let err0={instancePath:instancePath+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};vErrors===null?vErrors=[err0]:vErrors.push(err0),errors++}coerced2!==void 0&&(data2=coerced2,data!==void 0&&(data.forceCloseConnections=coerced2))}if(errors===_errs8&&typeof data2=="string"&&!pattern0.test(data2)){let err1={instancePath:instancePath+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/0/pattern",keyword:"pattern",params:{pattern:"idle"},message:'must match pattern "idle"'};vErrors===null?vErrors=[err1]:vErrors.push(err1),errors++}var _valid0=_errs8===errors;_valid0&&(valid1=!0,passing0=0);let _errs10=errors;if(typeof data2!="boolean"){let coerced3;if(coerced3===void 0)if(data2==="false"||data2===0||data2===null)coerced3=!1;else if(data2==="true"||data2===1)coerced3=!0;else{let err2={instancePath:instancePath+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf/1/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};vErrors===null?vErrors=[err2]:vErrors.push(err2),errors++}coerced3!==void 0&&(data2=coerced3,data!==void 0&&(data.forceCloseConnections=coerced3))}var _valid0=_errs10===errors;if(_valid0&&valid1?(valid1=!1,passing0=[passing0,1]):_valid0&&(valid1=!0,passing0=1),valid1)errors=_errs7,vErrors!==null&&(_errs7?vErrors.length=_errs7:vErrors=null);else{let err3={instancePath:instancePath+"/forceCloseConnections",schemaPath:"#/properties/forceCloseConnections/oneOf",keyword:"oneOf",params:{passingSchemas:passing0},message:"must match exactly one schema in oneOf"};return vErrors===null?vErrors=[err3]:vErrors.push(err3),errors++,validate10.errors=vErrors,!1}var valid0=_errs6===errors}else var valid0=!0;if(valid0){let data3=data.maxRequestsPerSocket,_errs12=errors;if(!(typeof data3=="number"&&!(data3%1)&&!isNaN(data3)&&isFinite(data3))&&data3!==null){let dataType4=typeof data3,coerced4;if(coerced4===void 0)if(dataType4==="boolean"||data3===null||dataType4==="string"&&data3&&data3==+data3&&!(data3%1))coerced4=+data3;else if(data3===""||data3===0||data3===!1)coerced4=null;else return validate10.errors=[{instancePath:instancePath+"/maxRequestsPerSocket",schemaPath:"#/properties/maxRequestsPerSocket/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;coerced4!==void 0&&(data3=coerced4,data!==void 0&&(data.maxRequestsPerSocket=coerced4))}var valid0=_errs12===errors;if(valid0){let data4=data.requestTimeout,_errs15=errors;if(!(typeof data4=="number"&&!(data4%1)&&!isNaN(data4)&&isFinite(data4))){let dataType5=typeof data4,coerced5;if(coerced5===void 0)if(dataType5==="boolean"||data4===null||dataType5==="string"&&data4&&data4==+data4&&!(data4%1))coerced5=+data4;else return validate10.errors=[{instancePath:instancePath+"/requestTimeout",schemaPath:"#/properties/requestTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;coerced5!==void 0&&(data4=coerced5,data!==void 0&&(data.requestTimeout=coerced5))}var valid0=_errs15===errors;if(valid0){let data5=data.bodyLimit,_errs17=errors;if(!(typeof data5=="number"&&!(data5%1)&&!isNaN(data5)&&isFinite(data5))){let dataType6=typeof data5,coerced6;if(coerced6===void 0)if(dataType6==="boolean"||data5===null||dataType6==="string"&&data5&&data5==+data5&&!(data5%1))coerced6=+data5;else return validate10.errors=[{instancePath:instancePath+"/bodyLimit",schemaPath:"#/properties/bodyLimit/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;coerced6!==void 0&&(data5=coerced6,data!==void 0&&(data.bodyLimit=coerced6))}var valid0=_errs17===errors;if(valid0){let data6=data.caseSensitive,_errs19=errors;if(typeof data6!="boolean"){let coerced7;if(coerced7===void 0)if(data6==="false"||data6===0||data6===null)coerced7=!1;else if(data6==="true"||data6===1)coerced7=!0;else return validate10.errors=[{instancePath:instancePath+"/caseSensitive",schemaPath:"#/properties/caseSensitive/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;coerced7!==void 0&&(data6=coerced7,data!==void 0&&(data.caseSensitive=coerced7))}var valid0=_errs19===errors;if(valid0){let data7=data.allowUnsafeRegex,_errs21=errors;if(typeof data7!="boolean"){let coerced8;if(coerced8===void 0)if(data7==="false"||data7===0||data7===null)coerced8=!1;else if(data7==="true"||data7===1)coerced8=!0;else return validate10.errors=[{instancePath:instancePath+"/allowUnsafeRegex",schemaPath:"#/properties/allowUnsafeRegex/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;coerced8!==void 0&&(data7=coerced8,data!==void 0&&(data.allowUnsafeRegex=coerced8))}var valid0=_errs21===errors;if(valid0){if(data.http2!==void 0){let data8=data.http2,_errs23=errors;if(typeof data8!="boolean"){let coerced9;if(coerced9===void 0)if(data8==="false"||data8===0||data8===null)coerced9=!1;else if(data8==="true"||data8===1)coerced9=!0;else return validate10.errors=[{instancePath:instancePath+"/http2",schemaPath:"#/properties/http2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;coerced9!==void 0&&(data8=coerced9,data!==void 0&&(data.http2=coerced9))}var valid0=_errs23===errors}else var valid0=!0;if(valid0){if(data.https!==void 0){let data9=data.https,_errs25=errors,_errs26=errors,valid2=!0,_errs27=errors,_errs28=errors,_errs29=errors,_errs30=errors,valid4=!1,passing1=null,_errs31=errors;if(typeof data9!="boolean"){let coerced10;if(coerced10===void 0)if(data9==="false"||data9===0||data9===null)coerced10=!1;else if(data9==="true"||data9===1)coerced10=!0;else{let err4={};vErrors===null?vErrors=[err4]:vErrors.push(err4),errors++}coerced10!==void 0&&(data9=coerced10,data!==void 0&&(data.https=coerced10))}var _valid2=_errs31===errors;_valid2&&(valid4=!0,passing1=0);let _errs33=errors;if(data9!==null){let coerced11;if(coerced11===void 0)if(data9===""||data9===0||data9===!1)coerced11=null;else{let err5={};vErrors===null?vErrors=[err5]:vErrors.push(err5),errors++}coerced11!==void 0&&(data9=coerced11,data!==void 0&&(data.https=coerced11))}var _valid2=_errs33===errors;if(_valid2&&valid4)valid4=!1,passing1=[passing1,1];else{_valid2&&(valid4=!0,passing1=1);let _errs35=errors;if(errors===_errs35)if(data9&&typeof data9=="object"&&!Array.isArray(data9)){let missing0;if(data9.allowHTTP1===void 0&&(missing0="allowHTTP1")){let err6={};vErrors===null?vErrors=[err6]:vErrors.push(err6),errors++}else{let _errs37=errors;for(let key1 in data9)key1!=="allowHTTP1"&&delete data9[key1];if(_errs37===errors&&data9.allowHTTP1!==void 0){let data10=data9.allowHTTP1;if(typeof data10!="boolean"){let coerced12;if(coerced12===void 0)if(data10==="false"||data10===0||data10===null)coerced12=!1;else if(data10==="true"||data10===1)coerced12=!0;else{let err7={};vErrors===null?vErrors=[err7]:vErrors.push(err7),errors++}coerced12!==void 0&&(data10=coerced12,data9!==void 0&&(data9.allowHTTP1=coerced12))}}}}else{let err8={};vErrors===null?vErrors=[err8]:vErrors.push(err8),errors++}var _valid2=_errs35===errors;_valid2&&valid4?(valid4=!1,passing1=[passing1,2]):_valid2&&(valid4=!0,passing1=2)}if(valid4)errors=_errs30,vErrors!==null&&(_errs30?vErrors.length=_errs30:vErrors=null);else{let err9={};vErrors===null?vErrors=[err9]:vErrors.push(err9),errors++}var valid3=_errs29===errors;if(valid3){let err10={};vErrors===null?vErrors=[err10]:vErrors.push(err10),errors++}else errors=_errs28,vErrors!==null&&(_errs28?vErrors.length=_errs28:vErrors=null);var _valid1=_errs27===errors;if(errors=_errs26,vErrors!==null&&(_errs26?vErrors.length=_errs26:vErrors=null),_valid1){let _errs40=errors;data.https=!0;var _valid1=_errs40===errors;valid2=_valid1}if(!valid2){let err11={instancePath:instancePath+"/https",schemaPath:"#/properties/https/if",keyword:"if",params:{failingKeyword:"then"},message:'must match "then" schema'};return vErrors===null?vErrors=[err11]:vErrors.push(err11),errors++,validate10.errors=vErrors,!1}var valid0=_errs25===errors}else var valid0=!0;if(valid0){let data11=data.ignoreTrailingSlash,_errs41=errors;if(typeof data11!="boolean"){let coerced13;if(coerced13===void 0)if(data11==="false"||data11===0||data11===null)coerced13=!1;else if(data11==="true"||data11===1)coerced13=!0;else return validate10.errors=[{instancePath:instancePath+"/ignoreTrailingSlash",schemaPath:"#/properties/ignoreTrailingSlash/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;coerced13!==void 0&&(data11=coerced13,data!==void 0&&(data.ignoreTrailingSlash=coerced13))}var valid0=_errs41===errors;if(valid0){let data12=data.ignoreDuplicateSlashes,_errs43=errors;if(typeof data12!="boolean"){let coerced14;if(coerced14===void 0)if(data12==="false"||data12===0||data12===null)coerced14=!1;else if(data12==="true"||data12===1)coerced14=!0;else return validate10.errors=[{instancePath:instancePath+"/ignoreDuplicateSlashes",schemaPath:"#/properties/ignoreDuplicateSlashes/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;coerced14!==void 0&&(data12=coerced14,data!==void 0&&(data.ignoreDuplicateSlashes=coerced14))}var valid0=_errs43===errors;if(valid0){let data13=data.maxParamLength,_errs45=errors;if(!(typeof data13=="number"&&!(data13%1)&&!isNaN(data13)&&isFinite(data13))){let dataType15=typeof data13,coerced15;if(coerced15===void 0)if(dataType15==="boolean"||data13===null||dataType15==="string"&&data13&&data13==+data13&&!(data13%1))coerced15=+data13;else return validate10.errors=[{instancePath:instancePath+"/maxParamLength",schemaPath:"#/properties/maxParamLength/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;coerced15!==void 0&&(data13=coerced15,data!==void 0&&(data.maxParamLength=coerced15))}var valid0=_errs45===errors;if(valid0){let data14=data.onProtoPoisoning,_errs47=errors;if(typeof data14!="string"){let dataType16=typeof data14,coerced16;if(coerced16===void 0)if(dataType16=="number"||dataType16=="boolean")coerced16=""+data14;else if(data14===null)coerced16="";else return validate10.errors=[{instancePath:instancePath+"/onProtoPoisoning",schemaPath:"#/properties/onProtoPoisoning/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;coerced16!==void 0&&(data14=coerced16,data!==void 0&&(data.onProtoPoisoning=coerced16))}var valid0=_errs47===errors;if(valid0){let data15=data.onConstructorPoisoning,_errs49=errors;if(typeof data15!="string"){let dataType17=typeof data15,coerced17;if(coerced17===void 0)if(dataType17=="number"||dataType17=="boolean")coerced17=""+data15;else if(data15===null)coerced17="";else return validate10.errors=[{instancePath:instancePath+"/onConstructorPoisoning",schemaPath:"#/properties/onConstructorPoisoning/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;coerced17!==void 0&&(data15=coerced17,data!==void 0&&(data.onConstructorPoisoning=coerced17))}var valid0=_errs49===errors;if(valid0){let data16=data.pluginTimeout,_errs51=errors;if(!(typeof data16=="number"&&!(data16%1)&&!isNaN(data16)&&isFinite(data16))){let dataType18=typeof data16,coerced18;if(coerced18===void 0)if(dataType18==="boolean"||data16===null||dataType18==="string"&&data16&&data16==+data16&&!(data16%1))coerced18=+data16;else return validate10.errors=[{instancePath:instancePath+"/pluginTimeout",schemaPath:"#/properties/pluginTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;coerced18!==void 0&&(data16=coerced18,data!==void 0&&(data.pluginTimeout=coerced18))}var valid0=_errs51===errors;if(valid0){let data17=data.requestIdHeader,_errs53=errors,_errs54=errors,valid6=!1,_errs55=errors;if(typeof data17!="boolean"){let coerced19;if(coerced19===void 0)if(data17==="false"||data17===0||data17===null)coerced19=!1;else if(data17==="true"||data17===1)coerced19=!0;else{let err12={instancePath:instancePath+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf/0/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};vErrors===null?vErrors=[err12]:vErrors.push(err12),errors++}coerced19!==void 0&&(data17=coerced19,data!==void 0&&(data.requestIdHeader=coerced19))}var _valid3=_errs55===errors;if(valid6=valid6||_valid3,!valid6){let _errs57=errors;if(typeof data17!="string"){let dataType20=typeof data17,coerced20;if(coerced20===void 0)if(dataType20=="number"||dataType20=="boolean")coerced20=""+data17;else if(data17===null)coerced20="";else{let err13={instancePath:instancePath+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};vErrors===null?vErrors=[err13]:vErrors.push(err13),errors++}coerced20!==void 0&&(data17=coerced20,data!==void 0&&(data.requestIdHeader=coerced20))}var _valid3=_errs57===errors;valid6=valid6||_valid3}if(valid6)errors=_errs54,vErrors!==null&&(_errs54?vErrors.length=_errs54:vErrors=null);else{let err14={instancePath:instancePath+"/requestIdHeader",schemaPath:"#/properties/requestIdHeader/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return vErrors===null?vErrors=[err14]:vErrors.push(err14),errors++,validate10.errors=vErrors,!1}var valid0=_errs53===errors;if(valid0){let data18=data.requestIdLogLabel,_errs59=errors;if(typeof data18!="string"){let dataType21=typeof data18,coerced21;if(coerced21===void 0)if(dataType21=="number"||dataType21=="boolean")coerced21=""+data18;else if(data18===null)coerced21="";else return validate10.errors=[{instancePath:instancePath+"/requestIdLogLabel",schemaPath:"#/properties/requestIdLogLabel/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;coerced21!==void 0&&(data18=coerced21,data!==void 0&&(data.requestIdLogLabel=coerced21))}var valid0=_errs59===errors;if(valid0){let data19=data.http2SessionTimeout,_errs61=errors;if(!(typeof data19=="number"&&!(data19%1)&&!isNaN(data19)&&isFinite(data19))){let dataType22=typeof data19,coerced22;if(coerced22===void 0)if(dataType22==="boolean"||data19===null||dataType22==="string"&&data19&&data19==+data19&&!(data19%1))coerced22=+data19;else return validate10.errors=[{instancePath:instancePath+"/http2SessionTimeout",schemaPath:"#/properties/http2SessionTimeout/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;coerced22!==void 0&&(data19=coerced22,data!==void 0&&(data.http2SessionTimeout=coerced22))}var valid0=_errs61===errors;if(valid0){let data20=data.exposeHeadRoutes,_errs63=errors;if(typeof data20!="boolean"){let coerced23;if(coerced23===void 0)if(data20==="false"||data20===0||data20===null)coerced23=!1;else if(data20==="true"||data20===1)coerced23=!0;else return validate10.errors=[{instancePath:instancePath+"/exposeHeadRoutes",schemaPath:"#/properties/exposeHeadRoutes/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;coerced23!==void 0&&(data20=coerced23,data!==void 0&&(data.exposeHeadRoutes=coerced23))}var valid0=_errs63===errors;if(valid0){let data21=data.useSemicolonDelimiter,_errs65=errors;if(typeof data21!="boolean"){let coerced24;if(coerced24===void 0)if(data21==="false"||data21===0||data21===null)coerced24=!1;else if(data21==="true"||data21===1)coerced24=!0;else return validate10.errors=[{instancePath:instancePath+"/useSemicolonDelimiter",schemaPath:"#/properties/useSemicolonDelimiter/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;coerced24!==void 0&&(data21=coerced24,data!==void 0&&(data.useSemicolonDelimiter=coerced24))}var valid0=_errs65===errors;if(valid0){if(data.routerOptions!==void 0){let data22=data.routerOptions,_errs67=errors;if(errors===_errs67)if(data22&&typeof data22=="object"&&!Array.isArray(data22)){data22.ignoreTrailingSlash===void 0&&(data22.ignoreTrailingSlash=!1),data22.ignoreDuplicateSlashes===void 0&&(data22.ignoreDuplicateSlashes=!1),data22.maxParamLength===void 0&&(data22.maxParamLength=100),data22.allowUnsafeRegex===void 0&&(data22.allowUnsafeRegex=!1),data22.useSemicolonDelimiter===void 0&&(data22.useSemicolonDelimiter=!1);let data23=data22.ignoreTrailingSlash,_errs70=errors;if(typeof data23!="boolean"){let coerced25;if(coerced25===void 0)if(data23==="false"||data23===0||data23===null)coerced25=!1;else if(data23==="true"||data23===1)coerced25=!0;else return validate10.errors=[{instancePath:instancePath+"/routerOptions/ignoreTrailingSlash",schemaPath:"#/properties/routerOptions/properties/ignoreTrailingSlash/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;coerced25!==void 0&&(data23=coerced25,data22!==void 0&&(data22.ignoreTrailingSlash=coerced25))}var valid7=_errs70===errors;if(valid7){let data24=data22.ignoreDuplicateSlashes,_errs72=errors;if(typeof data24!="boolean"){let coerced26;if(coerced26===void 0)if(data24==="false"||data24===0||data24===null)coerced26=!1;else if(data24==="true"||data24===1)coerced26=!0;else return validate10.errors=[{instancePath:instancePath+"/routerOptions/ignoreDuplicateSlashes",schemaPath:"#/properties/routerOptions/properties/ignoreDuplicateSlashes/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;coerced26!==void 0&&(data24=coerced26,data22!==void 0&&(data22.ignoreDuplicateSlashes=coerced26))}var valid7=_errs72===errors;if(valid7){let data25=data22.maxParamLength,_errs74=errors;if(!(typeof data25=="number"&&!(data25%1)&&!isNaN(data25)&&isFinite(data25))){let dataType27=typeof data25,coerced27;if(coerced27===void 0)if(dataType27==="boolean"||data25===null||dataType27==="string"&&data25&&data25==+data25&&!(data25%1))coerced27=+data25;else return validate10.errors=[{instancePath:instancePath+"/routerOptions/maxParamLength",schemaPath:"#/properties/routerOptions/properties/maxParamLength/type",keyword:"type",params:{type:"integer"},message:"must be integer"}],!1;coerced27!==void 0&&(data25=coerced27,data22!==void 0&&(data22.maxParamLength=coerced27))}var valid7=_errs74===errors;if(valid7){let data26=data22.allowUnsafeRegex,_errs76=errors;if(typeof data26!="boolean"){let coerced28;if(coerced28===void 0)if(data26==="false"||data26===0||data26===null)coerced28=!1;else if(data26==="true"||data26===1)coerced28=!0;else return validate10.errors=[{instancePath:instancePath+"/routerOptions/allowUnsafeRegex",schemaPath:"#/properties/routerOptions/properties/allowUnsafeRegex/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;coerced28!==void 0&&(data26=coerced28,data22!==void 0&&(data22.allowUnsafeRegex=coerced28))}var valid7=_errs76===errors;if(valid7){let data27=data22.useSemicolonDelimiter,_errs78=errors;if(typeof data27!="boolean"){let coerced29;if(coerced29===void 0)if(data27==="false"||data27===0||data27===null)coerced29=!1;else if(data27==="true"||data27===1)coerced29=!0;else return validate10.errors=[{instancePath:instancePath+"/routerOptions/useSemicolonDelimiter",schemaPath:"#/properties/routerOptions/properties/useSemicolonDelimiter/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;coerced29!==void 0&&(data27=coerced29,data22!==void 0&&(data22.useSemicolonDelimiter=coerced29))}var valid7=_errs78===errors}}}}}else return validate10.errors=[{instancePath:instancePath+"/routerOptions",schemaPath:"#/properties/routerOptions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var valid0=_errs67===errors}else var valid0=!0;if(valid0)if(data.constraints!==void 0){let data28=data.constraints,_errs80=errors;if(errors===_errs80)if(data28&&typeof data28=="object"&&!Array.isArray(data28))for(let key2 in data28){let data29=data28[key2],_errs83=errors;if(errors===_errs83)if(data29&&typeof data29=="object"&&!Array.isArray(data29)){let missing1;if(data29.name===void 0&&(missing1="name")||data29.storage===void 0&&(missing1="storage")||data29.validate===void 0&&(missing1="validate")||data29.deriveConstraint===void 0&&(missing1="deriveConstraint"))return validate10.errors=[{instancePath:instancePath+"/constraints/"+key2.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/constraints/additionalProperties/required",keyword:"required",params:{missingProperty:missing1},message:"must have required property '"+missing1+"'"}],!1;if(data29.name!==void 0){let data30=data29.name;if(typeof data30!="string"){let dataType30=typeof data30,coerced30;if(coerced30===void 0)if(dataType30=="number"||dataType30=="boolean")coerced30=""+data30;else if(data30===null)coerced30="";else return validate10.errors=[{instancePath:instancePath+"/constraints/"+key2.replace(/~/g,"~0").replace(/\//g,"~1")+"/name",schemaPath:"#/properties/constraints/additionalProperties/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;coerced30!==void 0&&(data30=coerced30,data29!==void 0&&(data29.name=coerced30))}}}else return validate10.errors=[{instancePath:instancePath+"/constraints/"+key2.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/constraints/additionalProperties/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var valid8=_errs83===errors;if(!valid8)break}else return validate10.errors=[{instancePath:instancePath+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var valid0=_errs80===errors}else var valid0=!0}}}}}}}}}}}}}}}}}}}}}}}else return validate10.errors=[{instancePath,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return validate10.errors=vErrors,errors===0}module2.exports.defaultInitOptions={connectionTimeout:0,keepAliveTimeout:72e3,maxRequestsPerSocket:0,requestTimeout:0,bodyLimit:1048576,caseSensitive:!0,allowUnsafeRegex:!1,disableRequestLogging:!1,ignoreTrailingSlash:!1,ignoreDuplicateSlashes:!1,maxParamLength:100,onProtoPoisoning:"error",onConstructorPoisoning:"error",pluginTimeout:1e4,requestIdHeader:!1,requestIdLogLabel:"reqId",http2SessionTimeout:72e3,exposeHeadRoutes:!0,useSemicolonDelimiter:!1,allowErrorHandlerOverride:!0,routerOptions:{ignoreTrailingSlash:!1,ignoreDuplicateSlashes:!1,maxParamLength:100,allowUnsafeRegex:!1,useSemicolonDelimiter:!1}}}});var require_initial_config_validation=__commonJS({"../../../../node_modules/fastify/lib/initial-config-validation.js"(exports2,module2){"use strict";var validate=require_config_validator(),deepClone=require_rfdc()({circles:!0,proto:!1}),{FST_ERR_INIT_OPTS_INVALID}=require_errors2();function validateInitialConfig(options2){let opts=deepClone(options2);if(!validate(opts)){let error=new FST_ERR_INIT_OPTS_INVALID(JSON.stringify(validate.errors.map(e=>e.message)));throw error.errors=validate.errors,error}return deepFreezeObject(opts)}function deepFreezeObject(object){let properties=Object.getOwnPropertyNames(object);for(let name of properties){let value=object[name];ArrayBuffer.isView(value)&&!(value instanceof DataView)||(object[name]=value&&typeof value=="object"?deepFreezeObject(value):value)}return Object.freeze(object)}module2.exports=validateInitialConfig;module2.exports.defaultInitOptions=validate.defaultInitOptions;module2.exports.utils={deepFreezeObject}}});var require_plugin_override=__commonJS({"../../../../node_modules/fastify/lib/plugin-override.js"(exports2,module2){"use strict";var{kAvvioBoot,kChildren,kRoutePrefix,kLogLevel,kLogSerializers,kHooks,kSchemaController,kContentTypeParser,kReply,kRequest,kFourOhFour,kPluginNameChain,kErrorHandlerAlreadySet}=require_symbols2(),Reply=require_reply(),Request=require_request(),SchemaController=require_schema_controller(),ContentTypeParser=require_content_type_parser(),{buildHooks}=require_hooks(),pluginUtils=require_plugin_utils();module2.exports=function(old,fn,opts){let shouldSkipOverride=pluginUtils.registerPlugin.call(old,fn),fnName=pluginUtils.getPluginName(fn)||pluginUtils.getFuncPreview(fn);if(shouldSkipOverride)return old[kPluginNameChain].push(fnName),old;let instance=Object.create(old);old[kChildren].push(instance),instance.ready=old[kAvvioBoot].bind(instance),instance[kChildren]=[],instance[kReply]=Reply.buildReply(instance[kReply]),instance[kRequest]=Request.buildRequest(instance[kRequest]),instance[kContentTypeParser]=ContentTypeParser.helpers.buildContentTypeParser(instance[kContentTypeParser]),instance[kHooks]=buildHooks(instance[kHooks]),instance[kRoutePrefix]=buildRoutePrefix(instance[kRoutePrefix],opts.prefix),instance[kLogLevel]=opts.logLevel||instance[kLogLevel],instance[kSchemaController]=SchemaController.buildSchemaController(old[kSchemaController]),instance.getSchema=instance[kSchemaController].getSchema.bind(instance[kSchemaController]),instance.getSchemas=instance[kSchemaController].getSchemas.bind(instance[kSchemaController]),instance[pluginUtils.kRegisteredPlugins]=Object.create(instance[pluginUtils.kRegisteredPlugins]),instance[kPluginNameChain]=[fnName],instance[kErrorHandlerAlreadySet]=!1,(instance[kLogSerializers]||opts.logSerializers)&&(instance[kLogSerializers]=Object.assign(Object.create(instance[kLogSerializers]),opts.logSerializers)),opts.prefix&&instance[kFourOhFour].arrange404(instance);for(let hook of instance[kHooks].onRegister)hook.call(old,instance,opts);return instance};function buildRoutePrefix(instancePrefix,pluginPrefix){return pluginPrefix?(instancePrefix.endsWith("/")&&pluginPrefix[0]==="/"?pluginPrefix=pluginPrefix.slice(1):pluginPrefix[0]!=="/"&&(pluginPrefix="/"+pluginPrefix),instancePrefix+pluginPrefix):instancePrefix}}});var require_dist4=__commonJS({"../../../../node_modules/cookie/dist/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.parse=parse2;exports2.serialize=serialize;var cookieNameRegExp=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,cookieValueRegExp=/^[\u0021-\u003A\u003C-\u007E]*$/,domainValueRegExp=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,pathValueRegExp=/^[\u0020-\u003A\u003D-\u007E]*$/,__toString=Object.prototype.toString,NullObject=(()=>{let C=function(){};return C.prototype=Object.create(null),C})();function parse2(str,options2){let obj=new NullObject,len=str.length;if(len<2)return obj;let dec=options2?.decode||decode2,index2=0;do{let eqIdx=str.indexOf("=",index2);if(eqIdx===-1)break;let colonIdx=str.indexOf(";",index2),endIdx=colonIdx===-1?len:colonIdx;if(eqIdx>endIdx){index2=str.lastIndexOf(";",eqIdx-1)+1;continue}let keyStartIdx=startIndex(str,index2,eqIdx),keyEndIdx=endIndex(str,eqIdx,keyStartIdx),key=str.slice(keyStartIdx,keyEndIdx);if(obj[key]===void 0){let valStartIdx=startIndex(str,eqIdx+1,endIdx),valEndIdx=endIndex(str,endIdx,valStartIdx),value=dec(str.slice(valStartIdx,valEndIdx));obj[key]=value}index2=endIdx+1}while(index2<len);return obj}function startIndex(str,index2,max){do{let code2=str.charCodeAt(index2);if(code2!==32&&code2!==9)return index2}while(++index2<max);return max}function endIndex(str,index2,min){for(;index2>min;){let code2=str.charCodeAt(--index2);if(code2!==32&&code2!==9)return index2+1}return min}function serialize(name,val,options2){let enc=options2?.encode||encodeURIComponent;if(!cookieNameRegExp.test(name))throw new TypeError(`argument name is invalid: ${name}`);let value=enc(val);if(!cookieValueRegExp.test(value))throw new TypeError(`argument val is invalid: ${val}`);let str=name+"="+value;if(!options2)return str;if(options2.maxAge!==void 0){if(!Number.isInteger(options2.maxAge))throw new TypeError(`option maxAge is invalid: ${options2.maxAge}`);str+="; Max-Age="+options2.maxAge}if(options2.domain){if(!domainValueRegExp.test(options2.domain))throw new TypeError(`option domain is invalid: ${options2.domain}`);str+="; Domain="+options2.domain}if(options2.path){if(!pathValueRegExp.test(options2.path))throw new TypeError(`option path is invalid: ${options2.path}`);str+="; Path="+options2.path}if(options2.expires){if(!isDate(options2.expires)||!Number.isFinite(options2.expires.valueOf()))throw new TypeError(`option expires is invalid: ${options2.expires}`);str+="; Expires="+options2.expires.toUTCString()}if(options2.httpOnly&&(str+="; HttpOnly"),options2.secure&&(str+="; Secure"),options2.partitioned&&(str+="; Partitioned"),options2.priority)switch(typeof options2.priority=="string"?options2.priority.toLowerCase():void 0){case"low":str+="; Priority=Low";break;case"medium":str+="; Priority=Medium";break;case"high":str+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${options2.priority}`)}if(options2.sameSite)switch(typeof options2.sameSite=="string"?options2.sameSite.toLowerCase():options2.sameSite){case!0:case"strict":str+="; SameSite=Strict";break;case"lax":str+="; SameSite=Lax";break;case"none":str+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${options2.sameSite}`)}return str}function decode2(str){if(str.indexOf("%")===-1)return str;try{return decodeURIComponent(str)}catch{return str}}function isDate(val){return __toString.call(val)==="[object Date]"}}});var require_process_warning2=__commonJS({"../../../../node_modules/light-my-request/node_modules/process-warning/index.js"(exports2,module2){"use strict";var{format:format2}=require("node:util");function createDeprecation(params){return createWarning({...params,name:"DeprecationWarning"})}function createWarning({name,code:code2,message,unlimited=!1}={}){if(!name)throw new Error("Warning name must not be empty");if(!code2)throw new Error("Warning code must not be empty");if(!message)throw new Error("Warning message must not be empty");if(typeof unlimited!="boolean")throw new Error("Warning opts.unlimited must be a boolean");code2=code2.toUpperCase();let warningContainer={[name]:function(a,b,c){warning.emitted===!0&&warning.unlimited!==!0||(warning.emitted=!0,process.emitWarning(warning.format(a,b,c),warning.name,warning.code))}};unlimited&&(warningContainer={[name]:function(a,b,c){warning.emitted=!0,process.emitWarning(warning.format(a,b,c),warning.name,warning.code)}});let warning=warningContainer[name];return warning.emitted=!1,warning.message=message,warning.unlimited=unlimited,warning.code=code2,warning.format=function(a,b,c){let formatted;return a&&b&&c?formatted=format2(message,a,b,c):a&&b?formatted=format2(message,a,b):a?formatted=format2(message,a):formatted=message,formatted},warning}var out={createWarning,createDeprecation};module2.exports=out;module2.exports.default=out;module2.exports.processWarning=out}});var require_parse_url=__commonJS({"../../../../node_modules/light-my-request/lib/parse-url.js"(exports2,module2){"use strict";var{URL:URL2}=require("node:url"),BASE_URL="http://localhost";module2.exports=function(url,query){(typeof url=="string"||Object.prototype.toString.call(url)==="[object String]")&&url.startsWith("//")&&(url=BASE_URL+url);let result=typeof url=="object"?Object.assign(new URL2(BASE_URL),url):new URL2(url,BASE_URL);if(typeof query=="string"){query=new URLSearchParams(query);for(let key of query.keys()){result.searchParams.delete(key);for(let value of query.getAll(key))result.searchParams.append(key,value)}}else{let merged=Object.assign({},url.query,query);for(let key in merged){let value=merged[key];if(Array.isArray(value)){result.searchParams.delete(key);for(let param of value)result.searchParams.append(key,param)}else result.searchParams.set(key,value)}}return result}}});var require_form_data=__commonJS({"../../../../node_modules/light-my-request/lib/form-data.js"(exports2,module2){"use strict";var{randomUUID}=require("node:crypto"),{Readable}=require("node:stream"),textEncoder;function isFormDataLike(payload){return payload&&typeof payload=="object"&&typeof payload.append=="function"&&typeof payload.delete=="function"&&typeof payload.get=="function"&&typeof payload.getAll=="function"&&typeof payload.has=="function"&&typeof payload.set=="function"&&payload[Symbol.toStringTag]==="FormData"}function formDataToStream(formdata){textEncoder=textEncoder??new TextEncoder;let boundary=`----formdata-${randomUUID()}`,prefix=`--${boundary}\r
Content-Disposition: form-data`;let escape4=str=>str.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),normalizeLinefeeds=value=>value.replace(/\r?\n|\r/g,`\r
`),linebreak=new Uint8Array([13,10]);async function*asyncIterator(){for(let[name,value]of formdata)if(typeof value=="string")yield textEncoder.encode(`${prefix}; name="${escape4(normalizeLinefeeds(name))}"\r
\r
`),yield textEncoder.encode(`${normalizeLinefeeds(value)}\r
`);else{let header=`${prefix}; name="${escape4(normalizeLinefeeds(name))}"`;value.name&&(header+=`; filename="${escape4(value.name)}"`),header+=`\r
Content-Type: ${value.type||"application/octet-stream"}\r
\r
`,yield textEncoder.encode(header),value.stream?yield*value.stream():yield value,yield linebreak}yield textEncoder.encode(`--${boundary}--`)}return{stream:Readable.from(asyncIterator()),contentType:`multipart/form-data; boundary=${boundary}`}}module2.exports.isFormDataLike=isFormDataLike;module2.exports.formDataToStream=formDataToStream}});var require_request2=__commonJS({"../../../../node_modules/light-my-request/lib/request.js"(exports2,module2){"use strict";var{Readable,addAbortSignal}=require("node:stream"),util3=require("node:util"),cookie=require_dist4(),assert2=require("node:assert"),{createDeprecation}=require_process_warning2(),parseURL=require_parse_url(),{isFormDataLike,formDataToStream}=require_form_data(),{EventEmitter}=require("node:events"),FST_LIGHTMYREQUEST_DEP01=createDeprecation({name:"FastifyDeprecationLightMyRequest",code:"FST_LIGHTMYREQUEST_DEP01",message:'You are accessing "request.connection", use "request.socket" instead.'});function hostHeaderFromURL(parsedURL){return parsedURL.port?parsedURL.host:parsedURL.hostname+(parsedURL.protocol==="https:"?":443":":80")}var MockSocket=class extends EventEmitter{constructor(remoteAddress){super(),this.remoteAddress=remoteAddress}};function CustomRequest(options2){return new _CustomLMRRequest(this);function _CustomLMRRequest(obj){Request.call(obj,{...options2,Request:void 0}),Object.assign(this,obj);for(let fn of Object.keys(Request.prototype))this.constructor.prototype[fn]=Request.prototype[fn];return util3.inherits(this.constructor,options2.Request),this}}function Request(options2){Readable.call(this,{autoDestroy:!1});let parsedURL=parseURL(options2.url||options2.path,options2.query);this.url=parsedURL.pathname+parsedURL.search,this.aborted=!1,this.httpVersionMajor=1,this.httpVersionMinor=1,this.httpVersion="1.1",this.method=options2.method?options2.method.toUpperCase():"GET",this.headers={},this.rawHeaders=[];let headers=options2.headers||{};for(let field in headers){let fieldLowerCase=field.toLowerCase();if((fieldLowerCase==="user-agent"||fieldLowerCase==="content-type")&&headers[field]===void 0){this.headers[fieldLowerCase]=void 0;continue}let value=headers[field];assert2(value!==void 0,'invalid value "undefined" for header '+field),this.headers[fieldLowerCase]=""+value}if("user-agent"in this.headers||(this.headers["user-agent"]="lightMyRequest"),this.headers.host=this.headers.host||options2.authority||hostHeaderFromURL(parsedURL),options2.cookies){let{cookies}=options2,cookieValues=Object.keys(cookies).map(key=>cookie.serialize(key,cookies[key]));this.headers.cookie&&cookieValues.unshift(this.headers.cookie),this.headers.cookie=cookieValues.join("; ")}this.socket=new MockSocket(options2.remoteAddress||"127.0.0.1"),Object.defineProperty(this,"connection",{get(){return FST_LIGHTMYREQUEST_DEP01(),this.socket},configurable:!0});let payload=options2.payload||options2.body||null,payloadResume=payload&&typeof payload.resume=="function";if(isFormDataLike(payload)){let stream=formDataToStream(payload);payload=stream.stream,payloadResume=!0,this.headers["content-type"]=stream.contentType,this.headers["transfer-encoding"]="chunked"}payload&&typeof payload!="string"&&!payloadResume&&!Buffer.isBuffer(payload)&&(payload=JSON.stringify(payload),"content-type"in this.headers||(this.headers["content-type"]="application/json")),payload&&!payloadResume&&!Object.hasOwn(this.headers,"content-length")&&(this.headers["content-length"]=(Buffer.isBuffer(payload)?payload.length:Buffer.byteLength(payload)).toString());for(let header of Object.keys(this.headers))this.rawHeaders.push(header,this.headers[header]);this._lightMyRequest={payload,isDone:!1,simulate:options2.simulate||{},payloadAsStream:options2.payloadAsStream,signal:options2.signal};let signal=options2.signal;signal&&addAbortSignal(signal,this);{let payload2=this._lightMyRequest.payload;payload2?._readableState?(this._read=readStream,payload2.on("error",err=>{this.destroy(err)}),payload2.on("end",()=>{this.push(null)})):this._read=readEverythingElse}return this}function readStream(){let payload=this._lightMyRequest.payload,more=!0,pushed=!1,chunk;for(;more&&(chunk=payload.read());)pushed=!0,more=this.push(chunk);more&&!pushed&&this._lightMyRequest.payload.once("readable",this._read.bind(this))}function readEverythingElse(){setImmediate(()=>{if(this._lightMyRequest.isDone){this._lightMyRequest.simulate.end!==!1&&this.push(null);return}this._lightMyRequest.isDone=!0,this._lightMyRequest.payload&&(this._lightMyRequest.simulate.split?(this.push(this._lightMyRequest.payload.slice(0,1)),this.push(this._lightMyRequest.payload.slice(1))):this.push(this._lightMyRequest.payload)),this._lightMyRequest.simulate.error&&this.emit("error",new Error("Simulated")),this._lightMyRequest.simulate.close&&this.emit("close"),this._lightMyRequest.simulate.end!==!1&&this.push(null)})}util3.inherits(Request,Readable);util3.inherits(CustomRequest,Request);Request.prototype.destroy=function(error){this.destroyed||this._lightMyRequest.isDone||(this.destroyed=!0,error&&(this._error=!0,process.nextTick(()=>this.emit("error",error))),process.nextTick(()=>this.emit("close")))};module2.exports=Request;module2.exports.Request=Request;module2.exports.CustomRequest=CustomRequest}});var require_set_cookie=__commonJS({"../../../../node_modules/set-cookie-parser/lib/set-cookie.js"(exports2,module2){"use strict";var defaultParseOptions={decodeValues:!0,map:!1,silent:!1};function isForbiddenKey(key){return typeof key!="string"||key in{}}function createNullObj(){return Object.create(null)}function isNonEmptyString(str){return typeof str=="string"&&!!str.trim()}function parseString2(setCookieValue,options2){var parts=setCookieValue.split(";").filter(isNonEmptyString),nameValuePairStr=parts.shift(),parsed=parseNameValuePair(nameValuePairStr),name=parsed.name,value=parsed.value;if(options2=options2?Object.assign({},defaultParseOptions,options2):defaultParseOptions,isForbiddenKey(name))return null;try{value=options2.decodeValues?decodeURIComponent(value):value}catch(e){console.error("set-cookie-parser: failed to decode cookie value. Set options.decodeValues=false to disable decoding.",e)}var cookie=createNullObj();return cookie.name=name,cookie.value=value,parts.forEach(function(part){var sides=part.split("="),key=sides.shift().trimLeft().toLowerCase();if(!isForbiddenKey(key)){var value2=sides.join("=");if(key==="expires")cookie.expires=new Date(value2);else if(key==="max-age"){var n=parseInt(value2,10);Number.isNaN(n)||(cookie.maxAge=n)}else key==="secure"?cookie.secure=!0:key==="httponly"?cookie.httpOnly=!0:key==="samesite"?cookie.sameSite=value2:key==="partitioned"?cookie.partitioned=!0:key&&(cookie[key]=value2)}}),cookie}function parseNameValuePair(nameValuePairStr){var name="",value="",nameValueArr=nameValuePairStr.split("=");return nameValueArr.length>1?(name=nameValueArr.shift(),value=nameValueArr.join("=")):value=nameValuePairStr,{name,value}}function parse2(input,options2){if(options2=options2?Object.assign({},defaultParseOptions,options2):defaultParseOptions,!input)return options2.map?createNullObj():[];if(input.headers)if(typeof input.headers.getSetCookie=="function")input=input.headers.getSetCookie();else if(input.headers["set-cookie"])input=input.headers["set-cookie"];else{var sch=input.headers[Object.keys(input.headers).find(function(key){return key.toLowerCase()==="set-cookie"})];!sch&&input.headers.cookie&&!options2.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),input=sch}if(Array.isArray(input)||(input=[input]),options2.map){var cookies=createNullObj();return input.filter(isNonEmptyString).reduce(function(cookies2,str){var cookie=parseString2(str,options2);return cookie&&!isForbiddenKey(cookie.name)&&(cookies2[cookie.name]=cookie),cookies2},cookies)}else return input.filter(isNonEmptyString).map(function(str){return parseString2(str,options2)}).filter(Boolean)}function splitCookiesString(cookiesString){if(Array.isArray(cookiesString))return cookiesString;if(typeof cookiesString!="string")return[];var cookiesStrings=[],pos=0,start,ch,lastComma,nextStart,cookiesSeparatorFound;function skipWhitespace(){for(;pos<cookiesString.length&&/\s/.test(cookiesString.charAt(pos));)pos+=1;return pos<cookiesString.length}function notSpecialChar(){return ch=cookiesString.charAt(pos),ch!=="="&&ch!==";"&&ch!==","}for(;pos<cookiesString.length;){for(start=pos,cookiesSeparatorFound=!1;skipWhitespace();)if(ch=cookiesString.charAt(pos),ch===","){for(lastComma=pos,pos+=1,skipWhitespace(),nextStart=pos;pos<cookiesString.length&&notSpecialChar();)pos+=1;pos<cookiesString.length&&cookiesString.charAt(pos)==="="?(cookiesSeparatorFound=!0,pos=nextStart,cookiesStrings.push(cookiesString.substring(start,lastComma)),start=pos):pos=lastComma+1}else pos+=1;(!cookiesSeparatorFound||pos>=cookiesString.length)&&cookiesStrings.push(cookiesString.substring(start,cookiesString.length))}return cookiesStrings}module2.exports=parse2;module2.exports.parse=parse2;module2.exports.parseString=parseString2;module2.exports.splitCookiesString=splitCookiesString}});var require_response=__commonJS({"../../../../node_modules/light-my-request/lib/response.js"(exports2,module2){"use strict";var http=require("node:http"),{Writable,Readable,addAbortSignal}=require("node:stream"),util3=require("node:util"),setCookie=require_set_cookie();function Response2(req,onEnd,reject){if(http.ServerResponse.call(this,req),req._lightMyRequest?.payloadAsStream){let read=this.emit.bind(this,"drain");this._lightMyRequest={headers:null,trailers:{},stream:new Readable({read})};let signal=req._lightMyRequest.signal;signal&&addAbortSignal(signal,this._lightMyRequest.stream)}else this._lightMyRequest={headers:null,trailers:{},payloadChunks:[]};this.setHeader("foo","bar"),this.removeHeader("foo"),this.assignSocket(getNullSocket()),this._promiseCallback=typeof reject=="function";let called=!1,onEndSuccess=payload=>{if(!called){if(called=!0,this._promiseCallback)return process.nextTick(()=>onEnd(payload));process.nextTick(()=>onEnd(null,payload))}};this._lightMyRequest.onEndSuccess=onEndSuccess;let finished=!1,onEndFailure=err=>{if(called){this._lightMyRequest.stream&&!finished&&(err||(err=new Error("response destroyed before completion"),err.code="LIGHT_ECONNRESET"),this._lightMyRequest.stream.destroy(err),this._lightMyRequest.stream.on("error",()=>{}));return}if(called=!0,err||(err=new Error("response destroyed before completion"),err.code="LIGHT_ECONNRESET"),this._promiseCallback)return process.nextTick(()=>reject(err));process.nextTick(()=>onEnd(err,null))};this._lightMyRequest.stream?this.once("finish",()=>{finished=!0,this._lightMyRequest.stream.push(null)}):this.once("finish",()=>{let res=generatePayload(this);res.raw.req=req,onEndSuccess(res)}),this.connection.once("error",onEndFailure),this.once("error",onEndFailure),this.once("close",onEndFailure)}util3.inherits(Response2,http.ServerResponse);Response2.prototype.setTimeout=function(msecs,callback){return this.timeoutHandle=setTimeout(()=>{this.emit("timeout")},msecs),this.on("timeout",callback),this};Response2.prototype.writeHead=function(){let result=http.ServerResponse.prototype.writeHead.apply(this,arguments);return copyHeaders2(this),this._lightMyRequest.stream&&this._lightMyRequest.onEndSuccess(generatePayload(this)),result};Response2.prototype.write=function(data,encoding,callback){return this.timeoutHandle&&clearTimeout(this.timeoutHandle),http.ServerResponse.prototype.write.call(this,data,encoding,callback),this._lightMyRequest.stream?this._lightMyRequest.stream.push(Buffer.from(data,encoding)):(this._lightMyRequest.payloadChunks.push(Buffer.from(data,encoding)),!0)};Response2.prototype.end=function(data,encoding,callback){data&&this.write(data,encoding),http.ServerResponse.prototype.end.call(this,callback),this.emit("finish"),this.destroy()};Response2.prototype.destroy=function(error){this.destroyed||(this.destroyed=!0,error&&process.nextTick(()=>this.emit("error",error)),process.nextTick(()=>this.emit("close")))};Response2.prototype.addTrailers=function(trailers){for(let key in trailers)this._lightMyRequest.trailers[key.toLowerCase().trim()]=trailers[key].toString().trim()};function generatePayload(response){response._lightMyRequest.headers===null&&copyHeaders2(response),serializeHeaders(response);let res={raw:{res:response},headers:response._lightMyRequest.headers,statusCode:response.statusCode,statusMessage:response.statusMessage,trailers:{},get cookies(){return setCookie.parse(this)}};if(res.trailers=response._lightMyRequest.trailers,response._lightMyRequest.payloadChunks){let rawBuffer=Buffer.concat(response._lightMyRequest.payloadChunks);res.rawPayload=rawBuffer,res.payload=rawBuffer.toString(),res.body=res.payload,res.json=function(){return JSON.parse(res.payload)}}else res.json=function(){throw new Error("Response payload is not available with payloadAsStream: true")};return res.stream=function(){return response._lightMyRequest.stream?response._lightMyRequest.stream:Readable.from(response._lightMyRequest.payloadChunks)},res}function getNullSocket(){return new Writable({write(_chunk,_encoding,callback){setImmediate(callback)}})}function serializeHeaders(response){let headers=response._lightMyRequest.headers;for(let headerName of Object.keys(headers)){let headerValue=headers[headerName];Array.isArray(headerValue)?headers[headerName]=headerValue.map(value=>""+value):headers[headerName]=""+headerValue}}function copyHeaders2(response){response._lightMyRequest.headers=Object.assign({},response.getHeaders()),["Date","Connection","Transfer-Encoding"].forEach(name=>{let regex=new RegExp("\\r\\n"+name+": ([^\\r]*)\\r\\n"),field=response._header?.match(regex);field&&(response._lightMyRequest.headers[name.toLowerCase()]=field[1])})}module2.exports=Response2}});var require_config_validator2=__commonJS({"../../../../node_modules/light-my-request/lib/config-validator.js"(exports2,module2){"use strict";module2.exports=validate10;module2.exports.default=validate10;var schema11={type:"object",properties:{url:{oneOf:[{type:"string"},{type:"object",properties:{protocol:{type:"string"},hostname:{type:"string"},pathname:{type:"string"}},additionalProperties:!0,required:["pathname"]}]},path:{oneOf:[{type:"string"},{type:"object",properties:{protocol:{type:"string"},hostname:{type:"string"},pathname:{type:"string"}},additionalProperties:!0,required:["pathname"]}]},cookies:{type:"object",additionalProperties:!0},headers:{type:"object",additionalProperties:!0},query:{anyOf:[{type:"object",additionalProperties:!0},{type:"string"}]},simulate:{type:"object",properties:{end:{type:"boolean"},split:{type:"boolean"},error:{type:"boolean"},close:{type:"boolean"}}},authority:{type:"string"},remoteAddress:{type:"string"},method:{type:"string",enum:["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","QUERY","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE","acl","bind","checkout","connect","copy","delete","get","head","link","lock","m-search","merge","mkactivity","mkcalendar","mkcol","move","notify","options","patch","post","propfind","proppatch","purge","put","query","rebind","report","search","source","subscribe","trace","unbind","unlink","unlock","unsubscribe"]},validate:{type:"boolean"}},additionalProperties:!0,oneOf:[{required:["url"]},{required:["path"]}]};function validate10(data,{instancePath="",parentData,parentDataProperty,rootData=data}={}){let vErrors=null,errors=0,_errs1=errors,valid0=!1,passing0=null,_errs2=errors;if(data&&typeof data=="object"&&!Array.isArray(data)){let missing0;if(data.url===void 0&&(missing0="url")){let err0={instancePath,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:missing0},message:"must have required property '"+missing0+"'"};vErrors===null?vErrors=[err0]:vErrors.push(err0),errors++}}var _valid0=_errs2===errors;_valid0&&(valid0=!0,passing0=0);let _errs3=errors;if(data&&typeof data=="object"&&!Array.isArray(data)){let missing1;if(data.path===void 0&&(missing1="path")){let err1={instancePath,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:missing1},message:"must have required property '"+missing1+"'"};vErrors===null?vErrors=[err1]:vErrors.push(err1),errors++}}var _valid0=_errs3===errors;if(_valid0&&valid0?(valid0=!1,passing0=[passing0,1]):_valid0&&(valid0=!0,passing0=1),valid0)errors=_errs1,vErrors!==null&&(_errs1?vErrors.length=_errs1:vErrors=null);else{let err2={instancePath,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:passing0},message:"must match exactly one schema in oneOf"};return vErrors===null?vErrors=[err2]:vErrors.push(err2),errors++,validate10.errors=vErrors,!1}if(errors===0)if(data&&typeof data=="object"&&!Array.isArray(data)){if(data.url!==void 0){let data0=data.url,_errs5=errors,_errs6=errors,valid2=!1,passing1=null,_errs7=errors;if(typeof data0!="string"){let dataType0=typeof data0,coerced0;if(coerced0===void 0)if(dataType0=="number"||dataType0=="boolean")coerced0=""+data0;else if(data0===null)coerced0="";else{let err3={instancePath:instancePath+"/url",schemaPath:"#/properties/url/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};vErrors===null?vErrors=[err3]:vErrors.push(err3),errors++}coerced0!==void 0&&(data0=coerced0,data!==void 0&&(data.url=coerced0))}var _valid1=_errs7===errors;_valid1&&(valid2=!0,passing1=0);let _errs9=errors;if(errors===_errs9)if(data0&&typeof data0=="object"&&!Array.isArray(data0)){let missing2;if(data0.pathname===void 0&&(missing2="pathname")){let err4={instancePath:instancePath+"/url",schemaPath:"#/properties/url/oneOf/1/required",keyword:"required",params:{missingProperty:missing2},message:"must have required property '"+missing2+"'"};vErrors===null?vErrors=[err4]:vErrors.push(err4),errors++}else{if(data0.protocol!==void 0){let data1=data0.protocol,_errs12=errors;if(typeof data1!="string"){let dataType1=typeof data1,coerced1;if(coerced1===void 0)if(dataType1=="number"||dataType1=="boolean")coerced1=""+data1;else if(data1===null)coerced1="";else{let err5={instancePath:instancePath+"/url/protocol",schemaPath:"#/properties/url/oneOf/1/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};vErrors===null?vErrors=[err5]:vErrors.push(err5),errors++}coerced1!==void 0&&(data1=coerced1,data0!==void 0&&(data0.protocol=coerced1))}var valid3=_errs12===errors}else var valid3=!0;if(valid3){if(data0.hostname!==void 0){let data2=data0.hostname,_errs14=errors;if(typeof data2!="string"){let dataType2=typeof data2,coerced2;if(coerced2===void 0)if(dataType2=="number"||dataType2=="boolean")coerced2=""+data2;else if(data2===null)coerced2="";else{let err6={instancePath:instancePath+"/url/hostname",schemaPath:"#/properties/url/oneOf/1/properties/hostname/type",keyword:"type",params:{type:"string"},message:"must be string"};vErrors===null?vErrors=[err6]:vErrors.push(err6),errors++}coerced2!==void 0&&(data2=coerced2,data0!==void 0&&(data0.hostname=coerced2))}var valid3=_errs14===errors}else var valid3=!0;if(valid3)if(data0.pathname!==void 0){let data3=data0.pathname,_errs16=errors;if(typeof data3!="string"){let dataType3=typeof data3,coerced3;if(coerced3===void 0)if(dataType3=="number"||dataType3=="boolean")coerced3=""+data3;else if(data3===null)coerced3="";else{let err7={instancePath:instancePath+"/url/pathname",schemaPath:"#/properties/url/oneOf/1/properties/pathname/type",keyword:"type",params:{type:"string"},message:"must be string"};vErrors===null?vErrors=[err7]:vErrors.push(err7),errors++}coerced3!==void 0&&(data3=coerced3,data0!==void 0&&(data0.pathname=coerced3))}var valid3=_errs16===errors}else var valid3=!0}}}else{let err8={instancePath:instancePath+"/url",schemaPath:"#/properties/url/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};vErrors===null?vErrors=[err8]:vErrors.push(err8),errors++}var _valid1=_errs9===errors;if(_valid1&&valid2?(valid2=!1,passing1=[passing1,1]):_valid1&&(valid2=!0,passing1=1),valid2)errors=_errs6,vErrors!==null&&(_errs6?vErrors.length=_errs6:vErrors=null);else{let err9={instancePath:instancePath+"/url",schemaPath:"#/properties/url/oneOf",keyword:"oneOf",params:{passingSchemas:passing1},message:"must match exactly one schema in oneOf"};return vErrors===null?vErrors=[err9]:vErrors.push(err9),errors++,validate10.errors=vErrors,!1}var valid1=_errs5===errors}else var valid1=!0;if(valid1){if(data.path!==void 0){let data4=data.path,_errs18=errors,_errs19=errors,valid4=!1,passing2=null,_errs20=errors;if(typeof data4!="string"){let dataType4=typeof data4,coerced4;if(coerced4===void 0)if(dataType4=="number"||dataType4=="boolean")coerced4=""+data4;else if(data4===null)coerced4="";else{let err10={instancePath:instancePath+"/path",schemaPath:"#/properties/path/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};vErrors===null?vErrors=[err10]:vErrors.push(err10),errors++}coerced4!==void 0&&(data4=coerced4,data!==void 0&&(data.path=coerced4))}var _valid2=_errs20===errors;_valid2&&(valid4=!0,passing2=0);let _errs22=errors;if(errors===_errs22)if(data4&&typeof data4=="object"&&!Array.isArray(data4)){let missing3;if(data4.pathname===void 0&&(missing3="pathname")){let err11={instancePath:instancePath+"/path",schemaPath:"#/properties/path/oneOf/1/required",keyword:"required",params:{missingProperty:missing3},message:"must have required property '"+missing3+"'"};vErrors===null?vErrors=[err11]:vErrors.push(err11),errors++}else{if(data4.protocol!==void 0){let data5=data4.protocol,_errs25=errors;if(typeof data5!="string"){let dataType5=typeof data5,coerced5;if(coerced5===void 0)if(dataType5=="number"||dataType5=="boolean")coerced5=""+data5;else if(data5===null)coerced5="";else{let err12={instancePath:instancePath+"/path/protocol",schemaPath:"#/properties/path/oneOf/1/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};vErrors===null?vErrors=[err12]:vErrors.push(err12),errors++}coerced5!==void 0&&(data5=coerced5,data4!==void 0&&(data4.protocol=coerced5))}var valid5=_errs25===errors}else var valid5=!0;if(valid5){if(data4.hostname!==void 0){let data6=data4.hostname,_errs27=errors;if(typeof data6!="string"){let dataType6=typeof data6,coerced6;if(coerced6===void 0)if(dataType6=="number"||dataType6=="boolean")coerced6=""+data6;else if(data6===null)coerced6="";else{let err13={instancePath:instancePath+"/path/hostname",schemaPath:"#/properties/path/oneOf/1/properties/hostname/type",keyword:"type",params:{type:"string"},message:"must be string"};vErrors===null?vErrors=[err13]:vErrors.push(err13),errors++}coerced6!==void 0&&(data6=coerced6,data4!==void 0&&(data4.hostname=coerced6))}var valid5=_errs27===errors}else var valid5=!0;if(valid5)if(data4.pathname!==void 0){let data7=data4.pathname,_errs29=errors;if(typeof data7!="string"){let dataType7=typeof data7,coerced7;if(coerced7===void 0)if(dataType7=="number"||dataType7=="boolean")coerced7=""+data7;else if(data7===null)coerced7="";else{let err14={instancePath:instancePath+"/path/pathname",schemaPath:"#/properties/path/oneOf/1/properties/pathname/type",keyword:"type",params:{type:"string"},message:"must be string"};vErrors===null?vErrors=[err14]:vErrors.push(err14),errors++}coerced7!==void 0&&(data7=coerced7,data4!==void 0&&(data4.pathname=coerced7))}var valid5=_errs29===errors}else var valid5=!0}}}else{let err15={instancePath:instancePath+"/path",schemaPath:"#/properties/path/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};vErrors===null?vErrors=[err15]:vErrors.push(err15),errors++}var _valid2=_errs22===errors;if(_valid2&&valid4?(valid4=!1,passing2=[passing2,1]):_valid2&&(valid4=!0,passing2=1),valid4)errors=_errs19,vErrors!==null&&(_errs19?vErrors.length=_errs19:vErrors=null);else{let err16={instancePath:instancePath+"/path",schemaPath:"#/properties/path/oneOf",keyword:"oneOf",params:{passingSchemas:passing2},message:"must match exactly one schema in oneOf"};return vErrors===null?vErrors=[err16]:vErrors.push(err16),errors++,validate10.errors=vErrors,!1}var valid1=_errs18===errors}else var valid1=!0;if(valid1){if(data.cookies!==void 0){let data8=data.cookies,_errs31=errors;if(errors===_errs31&&!(data8&&typeof data8=="object"&&!Array.isArray(data8)))return validate10.errors=[{instancePath:instancePath+"/cookies",schemaPath:"#/properties/cookies/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var valid1=_errs31===errors}else var valid1=!0;if(valid1){if(data.headers!==void 0){let data9=data.headers,_errs34=errors;if(errors===_errs34&&!(data9&&typeof data9=="object"&&!Array.isArray(data9)))return validate10.errors=[{instancePath:instancePath+"/headers",schemaPath:"#/properties/headers/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var valid1=_errs34===errors}else var valid1=!0;if(valid1){if(data.query!==void 0){let data10=data.query,_errs37=errors,_errs38=errors,valid6=!1,_errs39=errors;if(errors===_errs39&&!(data10&&typeof data10=="object"&&!Array.isArray(data10))){let err17={instancePath:instancePath+"/query",schemaPath:"#/properties/query/anyOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"};vErrors===null?vErrors=[err17]:vErrors.push(err17),errors++}var _valid3=_errs39===errors;if(valid6=valid6||_valid3,!valid6){let _errs42=errors;if(typeof data10!="string"){let dataType8=typeof data10,coerced8;if(coerced8===void 0)if(dataType8=="number"||dataType8=="boolean")coerced8=""+data10;else if(data10===null)coerced8="";else{let err18={instancePath:instancePath+"/query",schemaPath:"#/properties/query/anyOf/1/type",keyword:"type",params:{type:"string"},message:"must be string"};vErrors===null?vErrors=[err18]:vErrors.push(err18),errors++}coerced8!==void 0&&(data10=coerced8,data!==void 0&&(data.query=coerced8))}var _valid3=_errs42===errors;valid6=valid6||_valid3}if(valid6)errors=_errs38,vErrors!==null&&(_errs38?vErrors.length=_errs38:vErrors=null);else{let err19={instancePath:instancePath+"/query",schemaPath:"#/properties/query/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return vErrors===null?vErrors=[err19]:vErrors.push(err19),errors++,validate10.errors=vErrors,!1}var valid1=_errs37===errors}else var valid1=!0;if(valid1){if(data.simulate!==void 0){let data11=data.simulate,_errs44=errors;if(errors===_errs44)if(data11&&typeof data11=="object"&&!Array.isArray(data11)){if(data11.end!==void 0){let data12=data11.end,_errs46=errors;if(typeof data12!="boolean"){let coerced9;if(coerced9===void 0)if(data12==="false"||data12===0||data12===null)coerced9=!1;else if(data12==="true"||data12===1)coerced9=!0;else return validate10.errors=[{instancePath:instancePath+"/simulate/end",schemaPath:"#/properties/simulate/properties/end/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;coerced9!==void 0&&(data12=coerced9,data11!==void 0&&(data11.end=coerced9))}var valid7=_errs46===errors}else var valid7=!0;if(valid7){if(data11.split!==void 0){let data13=data11.split,_errs48=errors;if(typeof data13!="boolean"){let coerced10;if(coerced10===void 0)if(data13==="false"||data13===0||data13===null)coerced10=!1;else if(data13==="true"||data13===1)coerced10=!0;else return validate10.errors=[{instancePath:instancePath+"/simulate/split",schemaPath:"#/properties/simulate/properties/split/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;coerced10!==void 0&&(data13=coerced10,data11!==void 0&&(data11.split=coerced10))}var valid7=_errs48===errors}else var valid7=!0;if(valid7){if(data11.error!==void 0){let data14=data11.error,_errs50=errors;if(typeof data14!="boolean"){let coerced11;if(coerced11===void 0)if(data14==="false"||data14===0||data14===null)coerced11=!1;else if(data14==="true"||data14===1)coerced11=!0;else return validate10.errors=[{instancePath:instancePath+"/simulate/error",schemaPath:"#/properties/simulate/properties/error/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;coerced11!==void 0&&(data14=coerced11,data11!==void 0&&(data11.error=coerced11))}var valid7=_errs50===errors}else var valid7=!0;if(valid7)if(data11.close!==void 0){let data15=data11.close,_errs52=errors;if(typeof data15!="boolean"){let coerced12;if(coerced12===void 0)if(data15==="false"||data15===0||data15===null)coerced12=!1;else if(data15==="true"||data15===1)coerced12=!0;else return validate10.errors=[{instancePath:instancePath+"/simulate/close",schemaPath:"#/properties/simulate/properties/close/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;coerced12!==void 0&&(data15=coerced12,data11!==void 0&&(data11.close=coerced12))}var valid7=_errs52===errors}else var valid7=!0}}}else return validate10.errors=[{instancePath:instancePath+"/simulate",schemaPath:"#/properties/simulate/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var valid1=_errs44===errors}else var valid1=!0;if(valid1){if(data.authority!==void 0){let data16=data.authority,_errs54=errors;if(typeof data16!="string"){let dataType13=typeof data16,coerced13;if(coerced13===void 0)if(dataType13=="number"||dataType13=="boolean")coerced13=""+data16;else if(data16===null)coerced13="";else return validate10.errors=[{instancePath:instancePath+"/authority",schemaPath:"#/properties/authority/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;coerced13!==void 0&&(data16=coerced13,data!==void 0&&(data.authority=coerced13))}var valid1=_errs54===errors}else var valid1=!0;if(valid1){if(data.remoteAddress!==void 0){let data17=data.remoteAddress,_errs56=errors;if(typeof data17!="string"){let dataType14=typeof data17,coerced14;if(coerced14===void 0)if(dataType14=="number"||dataType14=="boolean")coerced14=""+data17;else if(data17===null)coerced14="";else return validate10.errors=[{instancePath:instancePath+"/remoteAddress",schemaPath:"#/properties/remoteAddress/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;coerced14!==void 0&&(data17=coerced14,data!==void 0&&(data.remoteAddress=coerced14))}var valid1=_errs56===errors}else var valid1=!0;if(valid1){if(data.method!==void 0){let data18=data.method,_errs58=errors;if(typeof data18!="string"){let dataType15=typeof data18,coerced15;if(coerced15===void 0)if(dataType15=="number"||dataType15=="boolean")coerced15=""+data18;else if(data18===null)coerced15="";else return validate10.errors=[{instancePath:instancePath+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;coerced15!==void 0&&(data18=coerced15,data!==void 0&&(data.method=coerced15))}if(!(data18==="ACL"||data18==="BIND"||data18==="CHECKOUT"||data18==="CONNECT"||data18==="COPY"||data18==="DELETE"||data18==="GET"||data18==="HEAD"||data18==="LINK"||data18==="LOCK"||data18==="M-SEARCH"||data18==="MERGE"||data18==="MKACTIVITY"||data18==="MKCALENDAR"||data18==="MKCOL"||data18==="MOVE"||data18==="NOTIFY"||data18==="OPTIONS"||data18==="PATCH"||data18==="POST"||data18==="PROPFIND"||data18==="PROPPATCH"||data18==="PURGE"||data18==="PUT"||data18==="QUERY"||data18==="REBIND"||data18==="REPORT"||data18==="SEARCH"||data18==="SOURCE"||data18==="SUBSCRIBE"||data18==="TRACE"||data18==="UNBIND"||data18==="UNLINK"||data18==="UNLOCK"||data18==="UNSUBSCRIBE"||data18==="acl"||data18==="bind"||data18==="checkout"||data18==="connect"||data18==="copy"||data18==="delete"||data18==="get"||data18==="head"||data18==="link"||data18==="lock"||data18==="m-search"||data18==="merge"||data18==="mkactivity"||data18==="mkcalendar"||data18==="mkcol"||data18==="move"||data18==="notify"||data18==="options"||data18==="patch"||data18==="post"||data18==="propfind"||data18==="proppatch"||data18==="purge"||data18==="put"||data18==="query"||data18==="rebind"||data18==="report"||data18==="search"||data18==="source"||data18==="subscribe"||data18==="trace"||data18==="unbind"||data18==="unlink"||data18==="unlock"||data18==="unsubscribe"))return validate10.errors=[{instancePath:instancePath+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:schema11.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var valid1=_errs58===errors}else var valid1=!0;if(valid1)if(data.validate!==void 0){let data19=data.validate,_errs60=errors;if(typeof data19!="boolean"){let coerced16;if(coerced16===void 0)if(data19==="false"||data19===0||data19===null)coerced16=!1;else if(data19==="true"||data19===1)coerced16=!0;else return validate10.errors=[{instancePath:instancePath+"/validate",schemaPath:"#/properties/validate/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;coerced16!==void 0&&(data19=coerced16,data!==void 0&&(data.validate=coerced16))}var valid1=_errs60===errors}else var valid1=!0}}}}}}}}}else return validate10.errors=[{instancePath,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return validate10.errors=vErrors,errors===0}}});var require_light_my_request=__commonJS({"../../../../node_modules/light-my-request/index.js"(exports2,module2){"use strict";var assert2=require("node:assert"),Request=require_request2(),Response2=require_response(),errorMessage="The dispatch function has already been invoked",optsValidator=require_config_validator2();function inject(dispatchFunc,options2,callback){return callback===void 0?new Chain(dispatchFunc,options2):doInject(dispatchFunc,options2,callback)}function supportStream1(req,next){let payload=req._lightMyRequest.payload;if(!payload||payload._readableState||typeof payload.resume!="function")return next();let chunks=[];payload.on("data",chunk=>chunks.push(Buffer.from(chunk))),payload.on("end",()=>{let payload2=Buffer.concat(chunks);return req.headers["content-length"]=req.headers["content-length"]||""+payload2.length,delete req.headers["transfer-encoding"],req._lightMyRequest.payload=payload2,next()}),payload.resume()}function makeRequest(dispatchFunc,server,req,res){return req.once("error",function(err){this.destroyed&&res.destroy(err)}),req.once("close",function(){this.destroyed&&!this._error&&res.destroy()}),supportStream1(req,()=>dispatchFunc.call(server,req,res))}function doInject(dispatchFunc,options2,callback){if(options2=typeof options2=="string"?{url:options2}:options2,options2.validate!==!1&&(assert2(typeof dispatchFunc=="function","dispatchFunc should be a function"),!optsValidator(options2)))throw new Error(optsValidator.errors.map(e=>e.message));let server=options2.server||{},RequestConstructor=options2.Request?Request.CustomRequest:Request;if(dispatchFunc.request&&dispatchFunc.request.app===dispatchFunc&&(Object.setPrototypeOf(Object.getPrototypeOf(dispatchFunc.request),RequestConstructor.prototype),Object.setPrototypeOf(Object.getPrototypeOf(dispatchFunc.response),Response2.prototype)),typeof callback=="function"){let req=new RequestConstructor(options2),res=new Response2(req,callback);return makeRequest(dispatchFunc,server,req,res)}else return new Promise((resolve,reject)=>{let req=new RequestConstructor(options2),res=new Response2(req,resolve,reject);makeRequest(dispatchFunc,server,req,res)})}function Chain(dispatch,option){typeof option=="string"?this.option={url:option}:this.option=Object.assign({},option),this.dispatch=dispatch,this._hasInvoked=!1,this._promise=null,this.option.autoStart!==!1&&process.nextTick(()=>{this._hasInvoked||this.end()})}var httpMethods=["delete","get","head","options","patch","post","put","trace"];httpMethods.forEach(method=>{Chain.prototype[method]=function(url){if(this._hasInvoked===!0||this._promise)throw new Error(errorMessage);return this.option.url=url,this.option.method=method.toUpperCase(),this}});var chainMethods=["body","cookies","headers","payload","query"];chainMethods.forEach(method=>{Chain.prototype[method]=function(value){if(this._hasInvoked===!0||this._promise)throw new Error(errorMessage);return this.option[method]=value,this}});Chain.prototype.end=function(callback){if(this._hasInvoked===!0||this._promise)throw new Error(errorMessage);if(this._hasInvoked=!0,typeof callback=="function")doInject(this.dispatch,this.option,callback);else return this._promise=doInject(this.dispatch,this.option),this._promise};Object.getOwnPropertyNames(Promise.prototype).forEach(method=>{method!=="constructor"&&(Chain.prototype[method]=function(...args){if(!this._promise){if(this._hasInvoked===!0)throw new Error(errorMessage);this._hasInvoked=!0,this._promise=doInject(this.dispatch,this.option)}return this._promise[method](...args)})});function isInjection(obj){return obj instanceof Request||obj instanceof Response2||obj?.constructor?.name==="_CustomLMRRequest"}module2.exports=inject;module2.exports.default=inject;module2.exports.inject=inject;module2.exports.isInjection=isInjection}});var require_fastify=__commonJS({"../../../../node_modules/fastify/fastify.js"(exports2,module2){"use strict";var VERSION="5.7.2",Avvio=require_boot(),http=require("node:http"),diagnostics=require("node:diagnostics_channel"),lightMyRequest,{kAvvioBoot,kChildren,kServerBindings,kBodyLimit,kSupportedHTTPMethods,kRoutePrefix,kLogLevel,kLogSerializers,kHooks,kSchemaController,kRequestAcceptVersion,kReplySerializerDefault,kContentTypeParser,kReply,kRequest,kFourOhFour,kState,kOptions,kPluginNameChain,kSchemaErrorFormatter,kErrorHandler,kKeepAliveConnections,kChildLoggerFactory,kGenReqId,kErrorHandlerAlreadySet}=require_symbols2(),{createServer}=require_server(),Reply=require_reply(),Request=require_request(),Context=require_context(),decorator=require_decorate(),ContentTypeParser=require_content_type_parser(),SchemaController=require_schema_controller(),{Hooks,hookRunnerApplication,supportedHooks}=require_hooks(),{createChildLogger,defaultChildLoggerFactory,createLogger}=require_logger_factory(),pluginUtils=require_plugin_utils(),{getGenReqId,reqIdGenFactory}=require_req_id_gen_factory(),{buildRouting,validateBodyLimitOption,buildRouterOptions}=require_route(),build404=require_four_oh_four(),getSecuredInitialConfig=require_initial_config_validation(),override=require_plugin_override(),{appendStackTrace,AVVIO_ERRORS_MAP,...errorCodes}=require_errors2(),PonyPromise=require_promise(),{defaultInitOptions}=getSecuredInitialConfig,{FST_ERR_ASYNC_CONSTRAINT,FST_ERR_BAD_URL,FST_ERR_OPTIONS_NOT_OBJ,FST_ERR_QSP_NOT_FN,FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN,FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ,FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR,FST_ERR_INSTANCE_ALREADY_LISTENING,FST_ERR_REOPENED_CLOSE_SERVER,FST_ERR_ROUTE_REWRITE_NOT_STR,FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN,FST_ERR_ERROR_HANDLER_NOT_FN,FST_ERR_ERROR_HANDLER_ALREADY_SET,FST_ERR_ROUTE_METHOD_INVALID}=errorCodes,{buildErrorHandler}=require_error_handler(),{FSTWRN004}=require_warnings(),initChannel=diagnostics.channel("fastify.initialization");function fastify2(serverOptions){let{options:options2,genReqId,disableRequestLogging,hasLogger,initialConfig}=processOptions(serverOptions,defaultRoute,onBadUrl),router=buildRouting(options2.routerOptions),fourOhFour=build404(options2),httpHandler=wrapRouting(router,options2),{server,listen,forceCloseConnections,serverHasCloseAllConnections,serverHasCloseHttp2Sessions,keepAliveConnections}=createServer(options2,httpHandler),setupResponseListeners=Reply.setupResponseListeners,schemaController=SchemaController.buildSchemaController(null,options2.schemaController),fastify3={[kState]:{listening:!1,closing:!1,started:!1,ready:!1,booting:!1,aborted:!1,readyResolver:null},[kKeepAliveConnections]:keepAliveConnections,[kSupportedHTTPMethods]:{bodyless:new Set(["GET","HEAD","TRACE"]),bodywith:new Set(["DELETE","OPTIONS","PATCH","PUT","POST"])},[kOptions]:options2,[kChildren]:[],[kServerBindings]:[],[kBodyLimit]:options2.bodyLimit,[kRoutePrefix]:"",[kLogLevel]:"",[kLogSerializers]:null,[kHooks]:new Hooks,[kSchemaController]:schemaController,[kSchemaErrorFormatter]:null,[kErrorHandler]:buildErrorHandler(),[kErrorHandlerAlreadySet]:!1,[kChildLoggerFactory]:options2.childLoggerFactory||defaultChildLoggerFactory,[kReplySerializerDefault]:null,[kContentTypeParser]:new ContentTypeParser(options2.bodyLimit,options2.onProtoPoisoning||defaultInitOptions.onProtoPoisoning,options2.onConstructorPoisoning||defaultInitOptions.onConstructorPoisoning),[kReply]:Reply.buildReply(Reply),[kRequest]:Request.buildRequest(Request,options2.trustProxy),[kFourOhFour]:fourOhFour,[pluginUtils.kRegisteredPlugins]:[],[kPluginNameChain]:["fastify"],[kAvvioBoot]:null,[kGenReqId]:genReqId,routing:httpHandler,delete:function(url,options3,handler){return router.prepareRoute.call(this,{method:"DELETE",url,options:options3,handler})},get:function(url,options3,handler){return router.prepareRoute.call(this,{method:"GET",url,options:options3,handler})},head:function(url,options3,handler){return router.prepareRoute.call(this,{method:"HEAD",url,options:options3,handler})},trace:function(url,options3,handler){return router.prepareRoute.call(this,{method:"TRACE",url,options:options3,handler})},patch:function(url,options3,handler){return router.prepareRoute.call(this,{method:"PATCH",url,options:options3,handler})},post:function(url,options3,handler){return router.prepareRoute.call(this,{method:"POST",url,options:options3,handler})},put:function(url,options3,handler){return router.prepareRoute.call(this,{method:"PUT",url,options:options3,handler})},options:function(url,options3,handler){return router.prepareRoute.call(this,{method:"OPTIONS",url,options:options3,handler})},all:function(url,options3,handler){return router.prepareRoute.call(this,{method:this.supportedMethods,url,options:options3,handler})},route:function(options3){return router.route.call(this,{options:options3})},hasRoute:function(options3){return router.hasRoute.call(this,{options:options3})},findRoute:function(options3){return router.findRoute(options3)},log:options2.logger,withTypeProvider,addHook,addSchema,getSchema:schemaController.getSchema.bind(schemaController),getSchemas:schemaController.getSchemas.bind(schemaController),setValidatorCompiler,setSerializerCompiler,setSchemaController,setReplySerializer,setSchemaErrorFormatter,setGenReqId,addContentTypeParser:ContentTypeParser.helpers.addContentTypeParser,hasContentTypeParser:ContentTypeParser.helpers.hasContentTypeParser,getDefaultJsonParser:ContentTypeParser.defaultParsers.getDefaultJsonParser,defaultTextParser:ContentTypeParser.defaultParsers.defaultTextParser,removeContentTypeParser:ContentTypeParser.helpers.removeContentTypeParser,removeAllContentTypeParsers:ContentTypeParser.helpers.removeAllContentTypeParsers,register:null,after:null,ready:null,onClose:null,close:null,printPlugins:null,hasPlugin:function(name){return this[pluginUtils.kRegisteredPlugins].includes(name)||this[kPluginNameChain].includes(name)},listen,server,addresses:function(){let binded=this[kServerBindings].map(b=>b.address());return binded.push(this.server.address()),binded.filter(adr=>adr)},decorate:decorator.add,hasDecorator:decorator.exist,decorateReply:decorator.decorateReply,decorateRequest:decorator.decorateRequest,hasRequestDecorator:decorator.existRequest,hasReplyDecorator:decorator.existReply,getDecorator:decorator.getInstanceDecorator,addHttpMethod,inject,printRoutes,setNotFoundHandler,setErrorHandler,setChildLoggerFactory,initialConfig,addConstraintStrategy:router.addConstraintStrategy.bind(router),hasConstraintStrategy:router.hasConstraintStrategy.bind(router)};Object.defineProperties(fastify3,{listeningOrigin:{get(){let address=this.addresses().slice(-1).pop();if(typeof address=="string")return address;let host=address.family==="IPv6"?`[${address.address}]`:address.address;return`${this[kOptions].https?"https":"http"}://${host}:${address.port}`}},pluginName:{configurable:!0,get(){return this[kPluginNameChain].length>1?this[kPluginNameChain].join(" -> "):this[kPluginNameChain][0]}},prefix:{configurable:!0,get(){return this[kRoutePrefix]}},validatorCompiler:{configurable:!0,get(){return this[kSchemaController].getValidatorCompiler()}},serializerCompiler:{configurable:!0,get(){return this[kSchemaController].getSerializerCompiler()}},childLoggerFactory:{configurable:!0,get(){return this[kChildLoggerFactory]}},version:{configurable:!0,get(){return VERSION}},errorHandler:{configurable:!0,get(){return this[kErrorHandler].func}},genReqId:{configurable:!0,get(){return this[kGenReqId]}},supportedMethods:{configurable:!1,get(){return[...this[kSupportedHTTPMethods].bodyless,...this[kSupportedHTTPMethods].bodywith]}}}),options2.schemaErrorFormatter&&(validateSchemaErrorFormatter(options2.schemaErrorFormatter),fastify3[kSchemaErrorFormatter]=options2.schemaErrorFormatter.bind(fastify3));let avvioPluginTimeout=Number(options2.pluginTimeout),avvio=Avvio(fastify3,{autostart:!1,timeout:isNaN(avvioPluginTimeout)===!1?avvioPluginTimeout:defaultInitOptions.pluginTimeout,expose:{use:"register"}});avvio.override=override,avvio.on("start",()=>fastify3[kState].started=!0),fastify3[kAvvioBoot]=fastify3.ready,fastify3.ready=ready,fastify3.printPlugins=avvio.prettyPrint.bind(avvio),avvio.once("preReady",()=>{fastify3.onClose((instance,done)=>{fastify3[kState].closing=!0,router.closeRoutes(),hookRunnerApplication("preClose",fastify3[kAvvioBoot],fastify3,function(){if(fastify3[kState].listening){if(forceCloseConnections==="idle")instance.server.closeIdleConnections();else if(serverHasCloseAllConnections&&forceCloseConnections)instance.server.closeAllConnections();else if(forceCloseConnections===!0)for(let conn of fastify3[kKeepAliveConnections])conn.destroy(),fastify3[kKeepAliveConnections].delete(conn)}serverHasCloseHttp2Sessions&&instance.server.closeHttp2Sessions(),!options2.serverFactory||fastify3[kState].listening?instance.server.close(function(err){err&&err.code!=="ERR_SERVER_NOT_RUNNING"?done(null):done()}):process.nextTick(done,null)})})});let onBadUrlContext=new Context({server:fastify3,config:{}});return fastify3.setNotFoundHandler(),fourOhFour.arrange404(fastify3),router.setup(options2,{avvio,fourOhFour,hasLogger,setupResponseListeners,throwIfAlreadyStarted,keepAliveConnections}),server.on("clientError",options2.clientErrorHandler.bind(fastify3)),initChannel.hasSubscribers&&initChannel.publish({fastify:fastify3}),"asyncDispose"in Symbol&&(fastify3[Symbol.asyncDispose]=function(){return fastify3.close()}),fastify3;function throwIfAlreadyStarted(msg){if(fastify3[kState].started)throw new FST_ERR_INSTANCE_ALREADY_LISTENING(msg)}function inject(opts,cb){if(lightMyRequest===void 0&&(lightMyRequest=require_light_my_request()),fastify3[kState].started){if(fastify3[kState].closing){let error=new FST_ERR_REOPENED_CLOSE_SERVER;if(cb){cb(error);return}else return Promise.reject(error)}return lightMyRequest(httpHandler,opts,cb)}if(cb)this.ready(err=>{err?cb(err,null):lightMyRequest(httpHandler,opts,cb)});else return lightMyRequest((req,res)=>{this.ready(function(err){if(err){res.emit("error",err);return}httpHandler(req,res)})},opts)}function ready(cb){if(this[kState].readyResolver!==null){if(cb!=null){this[kState].readyResolver.promise.then(()=>cb(null,fastify3),cb);return}return this[kState].readyResolver.promise}if(process.nextTick(runHooks),this[kState].readyResolver=PonyPromise.withResolvers(),cb)this[kState].readyResolver.promise.then(()=>cb(null,fastify3),cb);else return this[kState].readyResolver.promise;function runHooks(){fastify3[kAvvioBoot]((err,done)=>{err||fastify3[kState].started||fastify3[kState].ready||fastify3[kState].booting?manageErr(err):(fastify3[kState].booting=!0,hookRunnerApplication("onReady",fastify3[kAvvioBoot],fastify3,manageErr)),done()})}function manageErr(err){if(err=err!=null&&AVVIO_ERRORS_MAP[err.code]!=null?appendStackTrace(err,new AVVIO_ERRORS_MAP[err.code](err.message)):err,err)return fastify3[kState].readyResolver.reject(err);fastify3[kState].readyResolver.resolve(fastify3),fastify3[kState].booting=!1,fastify3[kState].ready=!0,fastify3[kState].readyResolver=null}}function withTypeProvider(){return this}function addHook(name,fn){if(throwIfAlreadyStarted('Cannot call "addHook"!'),fn==null)throw new errorCodes.FST_ERR_HOOK_INVALID_HANDLER(name,fn);if(name==="onSend"||name==="preSerialization"||name==="onError"||name==="preParsing"){if(fn.constructor.name==="AsyncFunction"&&fn.length===4)throw new errorCodes.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(name==="onReady"||name==="onListen"){if(fn.constructor.name==="AsyncFunction"&&fn.length!==0)throw new errorCodes.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(name==="onRequestAbort"){if(fn.constructor.name==="AsyncFunction"&&fn.length!==1)throw new errorCodes.FST_ERR_HOOK_INVALID_ASYNC_HANDLER}else if(fn.constructor.name==="AsyncFunction"&&fn.length===3)throw new errorCodes.FST_ERR_HOOK_INVALID_ASYNC_HANDLER;return name==="onClose"?this.onClose(fn.bind(this)):name==="onReady"||name==="onListen"||name==="onRoute"?this[kHooks].add(name,fn):this.after((err,done)=>{try{_addHook.call(this,name,fn),done(err)}catch(err2){done(err2)}}),this;function _addHook(name2,fn2){this[kHooks].add(name2,fn2),this[kChildren].forEach(child=>_addHook.call(child,name2,fn2))}}function addSchema(schema){return throwIfAlreadyStarted('Cannot call "addSchema"!'),this[kSchemaController].add(schema),this[kChildren].forEach(child=>child.addSchema(schema)),this}function defaultRoute(req,res){req.headers["accept-version"]!==void 0&&(req.headers[kRequestAcceptVersion]=req.headers["accept-version"],req.headers["accept-version"]=void 0),fourOhFour.router.lookup(req,res)}function onBadUrl(path5,req,res){if(options2.frameworkErrors){let id=getGenReqId(onBadUrlContext.server,req),childLogger=createChildLogger(onBadUrlContext,options2.logger,req,id),request2=new Request(id,null,req,null,childLogger,onBadUrlContext),reply=new Reply(res,request2,childLogger);return(typeof disableRequestLogging=="function"?disableRequestLogging(req):disableRequestLogging)===!1&&childLogger.info({req:request2},"incoming request"),options2.frameworkErrors(new FST_ERR_BAD_URL(path5),request2,reply)}let body=JSON.stringify({error:"Bad Request",code:"FST_ERR_BAD_URL",message:`'${path5}' is not a valid url component`,statusCode:400});res.writeHead(400,{"Content-Type":"application/json","Content-Length":Buffer.byteLength(body)}),res.end(body)}function buildAsyncConstraintCallback(isAsync2,req,res){if(isAsync2!==!1)return function(err){if(err){if(options2.frameworkErrors){let id=getGenReqId(onBadUrlContext.server,req),childLogger=createChildLogger(onBadUrlContext,options2.logger,req,id),request2=new Request(id,null,req,null,childLogger,onBadUrlContext),reply=new Reply(res,request2,childLogger);return(typeof disableRequestLogging=="function"?disableRequestLogging(req):disableRequestLogging)===!1&&childLogger.info({req:request2},"incoming request"),options2.frameworkErrors(new FST_ERR_ASYNC_CONSTRAINT,request2,reply)}let body='{"error":"Internal Server Error","message":"Unexpected error from async constraint","statusCode":500}';res.writeHead(500,{"Content-Type":"application/json","Content-Length":body.length}),res.end(body)}}}function setNotFoundHandler(opts,handler){return throwIfAlreadyStarted('Cannot call "setNotFoundHandler"!'),fourOhFour.setNotFoundHandler.call(this,opts,handler,avvio,router.routeHandler),this}function setValidatorCompiler(validatorCompiler){return throwIfAlreadyStarted('Cannot call "setValidatorCompiler"!'),this[kSchemaController].setValidatorCompiler(validatorCompiler),this}function setSchemaErrorFormatter(errorFormatter){return throwIfAlreadyStarted('Cannot call "setSchemaErrorFormatter"!'),validateSchemaErrorFormatter(errorFormatter),this[kSchemaErrorFormatter]=errorFormatter.bind(this),this}function setSerializerCompiler(serializerCompiler){return throwIfAlreadyStarted('Cannot call "setSerializerCompiler"!'),this[kSchemaController].setSerializerCompiler(serializerCompiler),this}function setSchemaController(schemaControllerOpts){throwIfAlreadyStarted('Cannot call "setSchemaController"!');let old=this[kSchemaController],schemaController2=SchemaController.buildSchemaController(old,Object.assign({},old.opts,schemaControllerOpts));return this[kSchemaController]=schemaController2,this.getSchema=schemaController2.getSchema.bind(schemaController2),this.getSchemas=schemaController2.getSchemas.bind(schemaController2),this}function setReplySerializer(replySerializer){return throwIfAlreadyStarted('Cannot call "setReplySerializer"!'),this[kReplySerializerDefault]=replySerializer,this}function setErrorHandler(func){if(throwIfAlreadyStarted('Cannot call "setErrorHandler"!'),typeof func!="function")throw new FST_ERR_ERROR_HANDLER_NOT_FN;if(!options2.allowErrorHandlerOverride&&this[kErrorHandlerAlreadySet])throw new FST_ERR_ERROR_HANDLER_ALREADY_SET;return this[kErrorHandlerAlreadySet]&&FSTWRN004("To disable this behavior, set 'allowErrorHandlerOverride' to false or ignore this message. For more information, visit: https://fastify.dev/docs/latest/Reference/Server/#allowerrorhandleroverride"),this[kErrorHandlerAlreadySet]=!0,this[kErrorHandler]=buildErrorHandler(this[kErrorHandler],func.bind(this)),this}function setChildLoggerFactory(factory){return throwIfAlreadyStarted('Cannot call "setChildLoggerFactory"!'),this[kChildLoggerFactory]=factory,this}function printRoutes(opts={}){return opts.includeMeta=opts.includeHooks?opts.includeMeta?supportedHooks.concat(opts.includeMeta):supportedHooks:opts.includeMeta,router.printRoutes(opts)}function wrapRouting(router2,{rewriteUrl,logger}){let isAsync2;return function(req,res){if(isAsync2===void 0&&(isAsync2=router2.isAsyncConstraint()),rewriteUrl){req.originalUrl=req.url;let url=rewriteUrl.call(fastify3,req);if(typeof url=="string")req.url=url;else{let err=new FST_ERR_ROUTE_REWRITE_NOT_STR(req.url,typeof url);req.destroy(err)}}router2.routing(req,res,buildAsyncConstraintCallback(isAsync2,req,res))}}function setGenReqId(func){return throwIfAlreadyStarted('Cannot call "setGenReqId"!'),this[kGenReqId]=reqIdGenFactory(this[kOptions].requestIdHeader,func),this}function addHttpMethod(method,{hasBody=!1}={}){if(typeof method!="string"||http.METHODS.indexOf(method)===-1)throw new FST_ERR_ROUTE_METHOD_INVALID;hasBody===!0?(this[kSupportedHTTPMethods].bodywith.add(method),this[kSupportedHTTPMethods].bodyless.delete(method)):(this[kSupportedHTTPMethods].bodywith.delete(method),this[kSupportedHTTPMethods].bodyless.add(method));let _method=method.toLowerCase();return this.hasDecorator(_method)||this.decorate(_method,function(url,options3,handler){return router.prepareRoute.call(this,{method,url,options:options3,handler})}),this}}function processOptions(options2,defaultRoute,onBadUrl){if(options2&&typeof options2!="object")throw new FST_ERR_OPTIONS_NOT_OBJ;if(options2=Object.assign({},options2),options2.querystringParser&&typeof options2.querystringParser!="function"||options2.routerOptions?.querystringParser&&typeof options2.routerOptions.querystringParser!="function")throw new FST_ERR_QSP_NOT_FN(typeof(options2.querystringParser??options2.routerOptions.querystringParser));if(options2.schemaController&&options2.schemaController.bucket&&typeof options2.schemaController.bucket!="function")throw new FST_ERR_SCHEMA_CONTROLLER_BUCKET_OPT_NOT_FN(typeof options2.schemaController.bucket);validateBodyLimitOption(options2.bodyLimit);let requestIdHeader=typeof options2.requestIdHeader=="string"&&options2.requestIdHeader.length!==0?options2.requestIdHeader.toLowerCase():options2.requestIdHeader===!0&&"request-id",genReqId=reqIdGenFactory(requestIdHeader,options2.genReqId),requestIdLogLabel=options2.requestIdLogLabel||"reqId";options2.bodyLimit=options2.bodyLimit||defaultInitOptions.bodyLimit;let disableRequestLogging=options2.disableRequestLogging||!1,ajvOptions=Object.assign({customOptions:{},plugins:[]},options2.ajv);if(!ajvOptions.customOptions||Object.prototype.toString.call(ajvOptions.customOptions)!=="[object Object]")throw new FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_OBJ(typeof ajvOptions.customOptions);if(!ajvOptions.plugins||!Array.isArray(ajvOptions.plugins))throw new FST_ERR_AJV_CUSTOM_OPTIONS_OPT_NOT_ARR(typeof ajvOptions.plugins);let{logger,hasLogger}=createLogger(options2);options2.connectionTimeout=options2.connectionTimeout||defaultInitOptions.connectionTimeout,options2.keepAliveTimeout=options2.keepAliveTimeout||defaultInitOptions.keepAliveTimeout,options2.maxRequestsPerSocket=options2.maxRequestsPerSocket||defaultInitOptions.maxRequestsPerSocket,options2.requestTimeout=options2.requestTimeout||defaultInitOptions.requestTimeout,options2.logger=logger,options2.requestIdHeader=requestIdHeader,options2.requestIdLogLabel=requestIdLogLabel,options2.disableRequestLogging=disableRequestLogging,options2.ajv=ajvOptions,options2.clientErrorHandler=options2.clientErrorHandler||defaultClientErrorHandler,options2.allowErrorHandlerOverride=options2.allowErrorHandlerOverride??defaultInitOptions.allowErrorHandlerOverride;let initialConfig=getSecuredInitialConfig(options2);return options2.exposeHeadRoutes=initialConfig.exposeHeadRoutes,options2.http2SessionTimeout=initialConfig.http2SessionTimeout,options2.routerOptions=buildRouterOptions(options2,{defaultRoute,onBadUrl,ignoreTrailingSlash:defaultInitOptions.ignoreTrailingSlash,ignoreDuplicateSlashes:defaultInitOptions.ignoreDuplicateSlashes,maxParamLength:defaultInitOptions.maxParamLength,allowUnsafeRegex:defaultInitOptions.allowUnsafeRegex,buildPrettyMeta:defaultBuildPrettyMeta,useSemicolonDelimiter:defaultInitOptions.useSemicolonDelimiter}),{options:options2,genReqId,disableRequestLogging,hasLogger,initialConfig}}function defaultBuildPrettyMeta(route){let cleanKeys={};return["errorHandler","logLevel","logSerializers"].concat(supportedHooks).forEach(k=>{cleanKeys[k]=route.store[k]}),Object.assign({},cleanKeys)}function defaultClientErrorHandler(err,socket){if(err.code==="ECONNRESET"||socket.destroyed)return;let body,errorCode,errorStatus,errorLabel;err.code==="ERR_HTTP_REQUEST_TIMEOUT"?(errorCode="408",errorStatus=http.STATUS_CODES[errorCode],body=`{"error":"${errorStatus}","message":"Client Timeout","statusCode":408}`,errorLabel="timeout"):err.code==="HPE_HEADER_OVERFLOW"?(errorCode="431",errorStatus=http.STATUS_CODES[errorCode],body=`{"error":"${errorStatus}","message":"Exceeded maximum allowed HTTP header size","statusCode":431}`,errorLabel="header_overflow"):(errorCode="400",errorStatus=http.STATUS_CODES[errorCode],body=`{"error":"${errorStatus}","message":"Client Error","statusCode":400}`,errorLabel="error"),this.log.trace({err},`client ${errorLabel}`),socket.writable&&socket.write(`HTTP/1.1 ${errorCode} ${errorStatus}\r
Content-Length: ${body.length}\r
Content-Type: application/json\r
\r
${body}`),socket.destroy(err)}function validateSchemaErrorFormatter(schemaErrorFormatter){if(typeof schemaErrorFormatter!="function")throw new FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN(typeof schemaErrorFormatter);if(schemaErrorFormatter.constructor.name==="AsyncFunction")throw new FST_ERR_SCHEMA_ERROR_FORMATTER_NOT_FN("AsyncFunction")}module2.exports=fastify2;module2.exports.errorCodes=errorCodes;module2.exports.fastify=fastify2;module2.exports.default=fastify2}});var require_commonjs=__commonJS({"../../../../node_modules/@isaacs/balanced-match/dist/commonjs/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.range=exports2.balanced=void 0;var balanced=(a,b,str)=>{let ma=a instanceof RegExp?maybeMatch(a,str):a,mb=b instanceof RegExp?maybeMatch(b,str):b,r=ma!==null&&mb!=null&&(0,exports2.range)(ma,mb,str);return r&&{start:r[0],end:r[1],pre:str.slice(0,r[0]),body:str.slice(r[0]+ma.length,r[1]),post:str.slice(r[1]+mb.length)}};exports2.balanced=balanced;var maybeMatch=(reg,str)=>{let m=str.match(reg);return m?m[0]:null},range=(a,b,str)=>{let begs,beg,left,right,result,ai=str.indexOf(a),bi=str.indexOf(b,ai+1),i=ai;if(ai>=0&&bi>0){if(a===b)return[ai,bi];for(begs=[],left=str.length;i>=0&&!result;){if(i===ai)begs.push(i),ai=str.indexOf(a,i+1);else if(begs.length===1){let r=begs.pop();r!==void 0&&(result=[r,bi])}else beg=begs.pop(),beg!==void 0&&beg<left&&(left=beg,right=bi),bi=str.indexOf(b,i+1);i=ai<bi&&ai>=0?ai:bi}begs.length&&right!==void 0&&(result=[left,right])}return result};exports2.range=range}});var require_commonjs2=__commonJS({"../../../../node_modules/@isaacs/brace-expansion/dist/commonjs/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.expand=expand;var balanced_match_1=require_commonjs(),escSlash="\0SLASH"+Math.random()+"\0",escOpen="\0OPEN"+Math.random()+"\0",escClose="\0CLOSE"+Math.random()+"\0",escComma="\0COMMA"+Math.random()+"\0",escPeriod="\0PERIOD"+Math.random()+"\0",escSlashPattern=new RegExp(escSlash,"g"),escOpenPattern=new RegExp(escOpen,"g"),escClosePattern=new RegExp(escClose,"g"),escCommaPattern=new RegExp(escComma,"g"),escPeriodPattern=new RegExp(escPeriod,"g"),slashPattern=/\\\\/g,openPattern=/\\{/g,closePattern=/\\}/g,commaPattern=/\\,/g,periodPattern=/\\./g;function numeric(str){return isNaN(str)?str.charCodeAt(0):parseInt(str,10)}function escapeBraces(str){return str.replace(slashPattern,escSlash).replace(openPattern,escOpen).replace(closePattern,escClose).replace(commaPattern,escComma).replace(periodPattern,escPeriod)}function unescapeBraces(str){return str.replace(escSlashPattern,"\\").replace(escOpenPattern,"{").replace(escClosePattern,"}").replace(escCommaPattern,",").replace(escPeriodPattern,".")}function parseCommaParts(str){if(!str)return[""];let parts=[],m=(0,balanced_match_1.balanced)("{","}",str);if(!m)return str.split(",");let{pre,body,post}=m,p=pre.split(",");p[p.length-1]+="{"+body+"}";let postParts=parseCommaParts(post);return post.length&&(p[p.length-1]+=postParts.shift(),p.push.apply(p,postParts)),parts.push.apply(parts,p),parts}function expand(str){return str?(str.slice(0,2)==="{}"&&(str="\\{\\}"+str.slice(2)),expand_(escapeBraces(str),!0).map(unescapeBraces)):[]}function embrace(str){return"{"+str+"}"}function isPadded(el){return/^-?0\d/.test(el)}function lte(i,y){return i<=y}function gte(i,y){return i>=y}function expand_(str,isTop){let expansions=[],m=(0,balanced_match_1.balanced)("{","}",str);if(!m)return[str];let pre=m.pre,post=m.post.length?expand_(m.post,!1):[""];if(/\$$/.test(m.pre))for(let k=0;k<post.length;k++){let expansion=pre+"{"+m.body+"}"+post[k];expansions.push(expansion)}else{let isNumericSequence=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(m.body),isAlphaSequence=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(m.body),isSequence=isNumericSequence||isAlphaSequence,isOptions=m.body.indexOf(",")>=0;if(!isSequence&&!isOptions)return m.post.match(/,(?!,).*\}/)?(str=m.pre+"{"+m.body+escClose+m.post,expand_(str)):[str];let n;if(isSequence)n=m.body.split(/\.\./);else if(n=parseCommaParts(m.body),n.length===1&&n[0]!==void 0&&(n=expand_(n[0],!1).map(embrace),n.length===1))return post.map(p=>m.pre+n[0]+p);let N;if(isSequence&&n[0]!==void 0&&n[1]!==void 0){let x=numeric(n[0]),y=numeric(n[1]),width=Math.max(n[0].length,n[1].length),incr=n.length===3&&n[2]!==void 0?Math.abs(numeric(n[2])):1,test2=lte;y<x&&(incr*=-1,test2=gte);let pad=n.some(isPadded);N=[];for(let i=x;test2(i,y);i+=incr){let c;if(isAlphaSequence)c=String.fromCharCode(i),c==="\\"&&(c="");else if(c=String(i),pad){let need=width-c.length;if(need>0){let z=new Array(need+1).join("0");i<0?c="-"+z+c.slice(1):c=z+c}}N.push(c)}}else{N=[];for(let j=0;j<n.length;j++)N.push.apply(N,expand_(n[j],!1))}for(let j=0;j<N.length;j++)for(let k=0;k<post.length;k++){let expansion=pre+N[j]+post[k];(!isTop||isSequence||expansion)&&expansions.push(expansion)}}return expansions}}});var require_assert_valid_pattern=__commonJS({"../../../../node_modules/@fastify/static/node_modules/minimatch/dist/commonjs/assert-valid-pattern.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.assertValidPattern=void 0;var MAX_PATTERN_LENGTH=1024*64,assertValidPattern=pattern=>{if(typeof pattern!="string")throw new TypeError("invalid pattern");if(pattern.length>MAX_PATTERN_LENGTH)throw new TypeError("pattern is too long")};exports2.assertValidPattern=assertValidPattern}});var require_brace_expressions=__commonJS({"../../../../node_modules/@fastify/static/node_modules/minimatch/dist/commonjs/brace-expressions.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.parseClass=void 0;var posixClasses={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},braceEscape=s=>s.replace(/[[\]\\-]/g,"\\$&"),regexpEscape=s=>s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),rangesToString=ranges=>ranges.join(""),parseClass=(glob,position)=>{let pos=position;if(glob.charAt(pos)!=="[")throw new Error("not in a brace expression");let ranges=[],negs=[],i=pos+1,sawStart=!1,uflag=!1,escaping=!1,negate2=!1,endPos=pos,rangeStart="";WHILE:for(;i<glob.length;){let c=glob.charAt(i);if((c==="!"||c==="^")&&i===pos+1){negate2=!0,i++;continue}if(c==="]"&&sawStart&&!escaping){endPos=i+1;break}if(sawStart=!0,c==="\\"&&!escaping){escaping=!0,i++;continue}if(c==="["&&!escaping){for(let[cls,[unip,u,neg]]of Object.entries(posixClasses))if(glob.startsWith(cls,i)){if(rangeStart)return["$.",!1,glob.length-pos,!0];i+=cls.length,neg?negs.push(unip):ranges.push(unip),uflag=uflag||u;continue WHILE}}if(escaping=!1,rangeStart){c>rangeStart?ranges.push(braceEscape(rangeStart)+"-"+braceEscape(c)):c===rangeStart&&ranges.push(braceEscape(c)),rangeStart="",i++;continue}if(glob.startsWith("-]",i+1)){ranges.push(braceEscape(c+"-")),i+=2;continue}if(glob.startsWith("-",i+1)){rangeStart=c,i+=2;continue}ranges.push(braceEscape(c)),i++}if(endPos<i)return["",!1,0,!1];if(!ranges.length&&!negs.length)return["$.",!1,glob.length-pos,!0];if(negs.length===0&&ranges.length===1&&/^\\?.$/.test(ranges[0])&&!negate2){let r=ranges[0].length===2?ranges[0].slice(-1):ranges[0];return[regexpEscape(r),!1,endPos-pos,!1]}let sranges="["+(negate2?"^":"")+rangesToString(ranges)+"]",snegs="["+(negate2?"":"^")+rangesToString(negs)+"]";return[ranges.length&&negs.length?"("+sranges+"|"+snegs+")":ranges.length?sranges:snegs,uflag,endPos-pos,!0]};exports2.parseClass=parseClass}});var require_unescape=__commonJS({"../../../../node_modules/@fastify/static/node_modules/minimatch/dist/commonjs/unescape.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.unescape=void 0;var unescape2=(s,{windowsPathsNoEscape=!1,magicalBraces=!0}={})=>magicalBraces?windowsPathsNoEscape?s.replace(/\[([^\/\\])\]/g,"$1"):s.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"):windowsPathsNoEscape?s.replace(/\[([^\/\\{}])\]/g,"$1"):s.replace(/((?!\\).|^)\[([^\/\\{}])\]/g,"$1$2").replace(/\\([^\/{}])/g,"$1");exports2.unescape=unescape2}});var require_ast=__commonJS({"../../../../node_modules/@fastify/static/node_modules/minimatch/dist/commonjs/ast.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.AST=void 0;var brace_expressions_js_1=require_brace_expressions(),unescape_js_1=require_unescape(),types=new Set(["!","?","+","*","@"]),isExtglobType=c=>types.has(c),startNoTraversal="(?!(?:^|/)\\.\\.?(?:$|/))",startNoDot="(?!\\.)",addPatternStart=new Set(["[","."]),justDots=new Set(["..","."]),reSpecials=new Set("().*{}+?[]^$\\!"),regExpEscape=s=>s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),qmark="[^/]",star=qmark+"*?",starNoEmpty=qmark+"+?",AST=class _AST{type;#root;#hasMagic;#uflag=!1;#parts=[];#parent;#parentIndex;#negs;#filledNegs=!1;#options;#toString;#emptyExt=!1;constructor(type,parent,options2={}){this.type=type,type&&(this.#hasMagic=!0),this.#parent=parent,this.#root=this.#parent?this.#parent.#root:this,this.#options=this.#root===this?options2:this.#root.#options,this.#negs=this.#root===this?[]:this.#root.#negs,type==="!"&&!this.#root.#filledNegs&&this.#negs.push(this),this.#parentIndex=this.#parent?this.#parent.#parts.length:0}get hasMagic(){if(this.#hasMagic!==void 0)return this.#hasMagic;for(let p of this.#parts)if(typeof p!="string"&&(p.type||p.hasMagic))return this.#hasMagic=!0;return this.#hasMagic}toString(){return this.#toString!==void 0?this.#toString:this.type?this.#toString=this.type+"("+this.#parts.map(p=>String(p)).join("|")+")":this.#toString=this.#parts.map(p=>String(p)).join("")}#fillNegs(){if(this!==this.#root)throw new Error("should only call on root");if(this.#filledNegs)return this;this.toString(),this.#filledNegs=!0;let n;for(;n=this.#negs.pop();){if(n.type!=="!")continue;let p=n,pp=p.#parent;for(;pp;){for(let i=p.#parentIndex+1;!pp.type&&i<pp.#parts.length;i++)for(let part of n.#parts){if(typeof part=="string")throw new Error("string part in extglob AST??");part.copyIn(pp.#parts[i])}p=pp,pp=p.#parent}}return this}push(...parts){for(let p of parts)if(p!==""){if(typeof p!="string"&&!(p instanceof _AST&&p.#parent===this))throw new Error("invalid part: "+p);this.#parts.push(p)}}toJSON(){let ret=this.type===null?this.#parts.slice().map(p=>typeof p=="string"?p:p.toJSON()):[this.type,...this.#parts.map(p=>p.toJSON())];return this.isStart()&&!this.type&&ret.unshift([]),this.isEnd()&&(this===this.#root||this.#root.#filledNegs&&this.#parent?.type==="!")&&ret.push({}),ret}isStart(){if(this.#root===this)return!0;if(!this.#parent?.isStart())return!1;if(this.#parentIndex===0)return!0;let p=this.#parent;for(let i=0;i<this.#parentIndex;i++){let pp=p.#parts[i];if(!(pp instanceof _AST&&pp.type==="!"))return!1}return!0}isEnd(){if(this.#root===this||this.#parent?.type==="!")return!0;if(!this.#parent?.isEnd())return!1;if(!this.type)return this.#parent?.isEnd();let pl=this.#parent?this.#parent.#parts.length:0;return this.#parentIndex===pl-1}copyIn(part){typeof part=="string"?this.push(part):this.push(part.clone(this))}clone(parent){let c=new _AST(this.type,parent);for(let p of this.#parts)c.copyIn(p);return c}static#parseAST(str,ast,pos,opt){let escaping=!1,inBrace=!1,braceStart=-1,braceNeg=!1;if(ast.type===null){let i2=pos,acc2="";for(;i2<str.length;){let c=str.charAt(i2++);if(escaping||c==="\\"){escaping=!escaping,acc2+=c;continue}if(inBrace){i2===braceStart+1?(c==="^"||c==="!")&&(braceNeg=!0):c==="]"&&!(i2===braceStart+2&&braceNeg)&&(inBrace=!1),acc2+=c;continue}else if(c==="["){inBrace=!0,braceStart=i2,braceNeg=!1,acc2+=c;continue}if(!opt.noext&&isExtglobType(c)&&str.charAt(i2)==="("){ast.push(acc2),acc2="";let ext=new _AST(c,ast);i2=_AST.#parseAST(str,ext,i2,opt),ast.push(ext);continue}acc2+=c}return ast.push(acc2),i2}let i=pos+1,part=new _AST(null,ast),parts=[],acc="";for(;i<str.length;){let c=str.charAt(i++);if(escaping||c==="\\"){escaping=!escaping,acc+=c;continue}if(inBrace){i===braceStart+1?(c==="^"||c==="!")&&(braceNeg=!0):c==="]"&&!(i===braceStart+2&&braceNeg)&&(inBrace=!1),acc+=c;continue}else if(c==="["){inBrace=!0,braceStart=i,braceNeg=!1,acc+=c;continue}if(isExtglobType(c)&&str.charAt(i)==="("){part.push(acc),acc="";let ext=new _AST(c,part);part.push(ext),i=_AST.#parseAST(str,ext,i,opt);continue}if(c==="|"){part.push(acc),acc="",parts.push(part),part=new _AST(null,ast);continue}if(c===")")return acc===""&&ast.#parts.length===0&&(ast.#emptyExt=!0),part.push(acc),acc="",ast.push(...parts,part),i;acc+=c}return ast.type=null,ast.#hasMagic=void 0,ast.#parts=[str.substring(pos-1)],i}static fromGlob(pattern,options2={}){let ast=new _AST(null,void 0,options2);return _AST.#parseAST(pattern,ast,0,options2),ast}toMMPattern(){if(this!==this.#root)return this.#root.toMMPattern();let glob=this.toString(),[re,body,hasMagic,uflag]=this.toRegExpSource();if(!(hasMagic||this.#hasMagic||this.#options.nocase&&!this.#options.nocaseMagicOnly&&glob.toUpperCase()!==glob.toLowerCase()))return body;let flags=(this.#options.nocase?"i":"")+(uflag?"u":"");return Object.assign(new RegExp(`^${re}$`,flags),{_src:re,_glob:glob})}get options(){return this.#options}toRegExpSource(allowDot){let dot=allowDot??!!this.#options.dot;if(this.#root===this&&this.#fillNegs(),!this.type){let noEmpty=this.isStart()&&this.isEnd()&&!this.#parts.some(s=>typeof s!="string"),src=this.#parts.map(p=>{let[re,_,hasMagic,uflag]=typeof p=="string"?_AST.#parseGlob(p,this.#hasMagic,noEmpty):p.toRegExpSource(allowDot);return this.#hasMagic=this.#hasMagic||hasMagic,this.#uflag=this.#uflag||uflag,re}).join(""),start2="";if(this.isStart()&&typeof this.#parts[0]=="string"&&!(this.#parts.length===1&&justDots.has(this.#parts[0]))){let aps=addPatternStart,needNoTrav=dot&&aps.has(src.charAt(0))||src.startsWith("\\.")&&aps.has(src.charAt(2))||src.startsWith("\\.\\.")&&aps.has(src.charAt(4)),needNoDot=!dot&&!allowDot&&aps.has(src.charAt(0));start2=needNoTrav?startNoTraversal:needNoDot?startNoDot:""}let end="";return this.isEnd()&&this.#root.#filledNegs&&this.#parent?.type==="!"&&(end="(?:$|\\/)"),[start2+src+end,(0,unescape_js_1.unescape)(src),this.#hasMagic=!!this.#hasMagic,this.#uflag]}let repeated=this.type==="*"||this.type==="+",start=this.type==="!"?"(?:(?!(?:":"(?:",body=this.#partsToRegExp(dot);if(this.isStart()&&this.isEnd()&&!body&&this.type!=="!"){let s=this.toString();return this.#parts=[s],this.type=null,this.#hasMagic=void 0,[s,(0,unescape_js_1.unescape)(this.toString()),!1,!1]}let bodyDotAllowed=!repeated||allowDot||dot||!startNoDot?"":this.#partsToRegExp(!0);bodyDotAllowed===body&&(bodyDotAllowed=""),bodyDotAllowed&&(body=`(?:${body})(?:${bodyDotAllowed})*?`);let final="";if(this.type==="!"&&this.#emptyExt)final=(this.isStart()&&!dot?startNoDot:"")+starNoEmpty;else{let close=this.type==="!"?"))"+(this.isStart()&&!dot&&!allowDot?startNoDot:"")+star+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&bodyDotAllowed?")":this.type==="*"&&bodyDotAllowed?")?":`)${this.type}`;final=start+body+close}return[final,(0,unescape_js_1.unescape)(body),this.#hasMagic=!!this.#hasMagic,this.#uflag]}#partsToRegExp(dot){return this.#parts.map(p=>{if(typeof p=="string")throw new Error("string type in extglob ast??");let[re,_,_hasMagic,uflag]=p.toRegExpSource(dot);return this.#uflag=this.#uflag||uflag,re}).filter(p=>!(this.isStart()&&this.isEnd())||!!p).join("|")}static#parseGlob(glob,hasMagic,noEmpty=!1){let escaping=!1,re="",uflag=!1;for(let i=0;i<glob.length;i++){let c=glob.charAt(i);if(escaping){escaping=!1,re+=(reSpecials.has(c)?"\\":"")+c;continue}if(c==="\\"){i===glob.length-1?re+="\\\\":escaping=!0;continue}if(c==="["){let[src,needUflag,consumed,magic]=(0,brace_expressions_js_1.parseClass)(glob,i);if(consumed){re+=src,uflag=uflag||needUflag,i+=consumed-1,hasMagic=hasMagic||magic;continue}}if(c==="*"){re+=noEmpty&&glob==="*"?starNoEmpty:star,hasMagic=!0;continue}if(c==="?"){re+=qmark,hasMagic=!0;continue}re+=regExpEscape(c)}return[re,(0,unescape_js_1.unescape)(glob),!!hasMagic,uflag]}};exports2.AST=AST}});var require_escape=__commonJS({"../../../../node_modules/@fastify/static/node_modules/minimatch/dist/commonjs/escape.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.escape=void 0;var escape4=(s,{windowsPathsNoEscape=!1,magicalBraces=!1}={})=>magicalBraces?windowsPathsNoEscape?s.replace(/[?*()[\]{}]/g,"[$&]"):s.replace(/[?*()[\]\\{}]/g,"\\$&"):windowsPathsNoEscape?s.replace(/[?*()[\]]/g,"[$&]"):s.replace(/[?*()[\]\\]/g,"\\$&");exports2.escape=escape4}});var require_commonjs3=__commonJS({"../../../../node_modules/@fastify/static/node_modules/minimatch/dist/commonjs/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.unescape=exports2.escape=exports2.AST=exports2.Minimatch=exports2.match=exports2.makeRe=exports2.braceExpand=exports2.defaults=exports2.filter=exports2.GLOBSTAR=exports2.sep=exports2.minimatch=void 0;var brace_expansion_1=require_commonjs2(),assert_valid_pattern_js_1=require_assert_valid_pattern(),ast_js_1=require_ast(),escape_js_1=require_escape(),unescape_js_1=require_unescape(),minimatch=(p,pattern,options2={})=>((0,assert_valid_pattern_js_1.assertValidPattern)(pattern),!options2.nocomment&&pattern.charAt(0)==="#"?!1:new Minimatch(pattern,options2).match(p));exports2.minimatch=minimatch;var starDotExtRE=/^\*+([^+@!?\*\[\(]*)$/,starDotExtTest=ext2=>f=>!f.startsWith(".")&&f.endsWith(ext2),starDotExtTestDot=ext2=>f=>f.endsWith(ext2),starDotExtTestNocase=ext2=>(ext2=ext2.toLowerCase(),f=>!f.startsWith(".")&&f.toLowerCase().endsWith(ext2)),starDotExtTestNocaseDot=ext2=>(ext2=ext2.toLowerCase(),f=>f.toLowerCase().endsWith(ext2)),starDotStarRE=/^\*+\.\*+$/,starDotStarTest=f=>!f.startsWith(".")&&f.includes("."),starDotStarTestDot=f=>f!=="."&&f!==".."&&f.includes("."),dotStarRE=/^\.\*+$/,dotStarTest=f=>f!=="."&&f!==".."&&f.startsWith("."),starRE=/^\*+$/,starTest=f=>f.length!==0&&!f.startsWith("."),starTestDot=f=>f.length!==0&&f!=="."&&f!=="..",qmarksRE=/^\?+([^+@!?\*\[\(]*)?$/,qmarksTestNocase=([$0,ext2=""])=>{let noext=qmarksTestNoExt([$0]);return ext2?(ext2=ext2.toLowerCase(),f=>noext(f)&&f.toLowerCase().endsWith(ext2)):noext},qmarksTestNocaseDot=([$0,ext2=""])=>{let noext=qmarksTestNoExtDot([$0]);return ext2?(ext2=ext2.toLowerCase(),f=>noext(f)&&f.toLowerCase().endsWith(ext2)):noext},qmarksTestDot=([$0,ext2=""])=>{let noext=qmarksTestNoExtDot([$0]);return ext2?f=>noext(f)&&f.endsWith(ext2):noext},qmarksTest=([$0,ext2=""])=>{let noext=qmarksTestNoExt([$0]);return ext2?f=>noext(f)&&f.endsWith(ext2):noext},qmarksTestNoExt=([$0])=>{let len=$0.length;return f=>f.length===len&&!f.startsWith(".")},qmarksTestNoExtDot=([$0])=>{let len=$0.length;return f=>f.length===len&&f!=="."&&f!==".."},defaultPlatform=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",path5={win32:{sep:"\\"},posix:{sep:"/"}};exports2.sep=defaultPlatform==="win32"?path5.win32.sep:path5.posix.sep;exports2.minimatch.sep=exports2.sep;exports2.GLOBSTAR=Symbol("globstar **");exports2.minimatch.GLOBSTAR=exports2.GLOBSTAR;var qmark="[^/]",star=qmark+"*?",twoStarDot="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",twoStarNoDot="(?:(?!(?:\\/|^)\\.).)*?",filter=(pattern,options2={})=>p=>(0,exports2.minimatch)(p,pattern,options2);exports2.filter=filter;exports2.minimatch.filter=exports2.filter;var ext=(a,b={})=>Object.assign({},a,b),defaults=def=>{if(!def||typeof def!="object"||!Object.keys(def).length)return exports2.minimatch;let orig=exports2.minimatch;return Object.assign((p,pattern,options2={})=>orig(p,pattern,ext(def,options2)),{Minimatch:class extends orig.Minimatch{constructor(pattern,options2={}){super(pattern,ext(def,options2))}static defaults(options2){return orig.defaults(ext(def,options2)).Minimatch}},AST:class extends orig.AST{constructor(type,parent,options2={}){super(type,parent,ext(def,options2))}static fromGlob(pattern,options2={}){return orig.AST.fromGlob(pattern,ext(def,options2))}},unescape:(s,options2={})=>orig.unescape(s,ext(def,options2)),escape:(s,options2={})=>orig.escape(s,ext(def,options2)),filter:(pattern,options2={})=>orig.filter(pattern,ext(def,options2)),defaults:options2=>orig.defaults(ext(def,options2)),makeRe:(pattern,options2={})=>orig.makeRe(pattern,ext(def,options2)),braceExpand:(pattern,options2={})=>orig.braceExpand(pattern,ext(def,options2)),match:(list2,pattern,options2={})=>orig.match(list2,pattern,ext(def,options2)),sep:orig.sep,GLOBSTAR:exports2.GLOBSTAR})};exports2.defaults=defaults;exports2.minimatch.defaults=exports2.defaults;var braceExpand=(pattern,options2={})=>((0,assert_valid_pattern_js_1.assertValidPattern)(pattern),options2.nobrace||!/\{(?:(?!\{).)*\}/.test(pattern)?[pattern]:(0,brace_expansion_1.expand)(pattern));exports2.braceExpand=braceExpand;exports2.minimatch.braceExpand=exports2.braceExpand;var makeRe=(pattern,options2={})=>new Minimatch(pattern,options2).makeRe();exports2.makeRe=makeRe;exports2.minimatch.makeRe=exports2.makeRe;var match2=(list2,pattern,options2={})=>{let mm=new Minimatch(pattern,options2);return list2=list2.filter(f=>mm.match(f)),mm.options.nonull&&!list2.length&&list2.push(pattern),list2};exports2.match=match2;exports2.minimatch.match=exports2.match;var globMagic=/[?*]|[+@!]\(.*?\)|\[|\]/,regExpEscape=s=>s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Minimatch=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(pattern,options2={}){(0,assert_valid_pattern_js_1.assertValidPattern)(pattern),options2=options2||{},this.options=options2,this.pattern=pattern,this.platform=options2.platform||defaultPlatform,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!options2.windowsPathsNoEscape||options2.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!options2.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!options2.nonegate,this.comment=!1,this.empty=!1,this.partial=!!options2.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=options2.windowsNoMagicRoot!==void 0?options2.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let pattern of this.set)for(let part of pattern)if(typeof part!="string")return!0;return!1}debug(..._){}make(){let pattern=this.pattern,options2=this.options;if(!options2.nocomment&&pattern.charAt(0)==="#"){this.comment=!0;return}if(!pattern){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],options2.debug&&(this.debug=(...args)=>console.error(...args)),this.debug(this.pattern,this.globSet);let rawGlobParts=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(rawGlobParts),this.debug(this.pattern,this.globParts);let set2=this.globParts.map((s,_,__)=>{if(this.isWindows&&this.windowsNoMagicRoot){let isUNC=s[0]===""&&s[1]===""&&(s[2]==="?"||!globMagic.test(s[2]))&&!globMagic.test(s[3]),isDrive=/^[a-z]:/i.test(s[0]);if(isUNC)return[...s.slice(0,4),...s.slice(4).map(ss=>this.parse(ss))];if(isDrive)return[s[0],...s.slice(1).map(ss=>this.parse(ss))]}return s.map(ss=>this.parse(ss))});if(this.debug(this.pattern,set2),this.set=set2.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let i=0;i<this.set.length;i++){let p=this.set[i];p[0]===""&&p[1]===""&&this.globParts[i][2]==="?"&&typeof p[3]=="string"&&/^[a-z]:$/i.test(p[3])&&(p[2]="?")}this.debug(this.pattern,this.set)}preprocess(globParts){if(this.options.noglobstar)for(let i=0;i<globParts.length;i++)for(let j=0;j<globParts[i].length;j++)globParts[i][j]==="**"&&(globParts[i][j]="*");let{optimizationLevel=1}=this.options;return optimizationLevel>=2?(globParts=this.firstPhasePreProcess(globParts),globParts=this.secondPhasePreProcess(globParts)):optimizationLevel>=1?globParts=this.levelOneOptimize(globParts):globParts=this.adjascentGlobstarOptimize(globParts),globParts}adjascentGlobstarOptimize(globParts){return globParts.map(parts=>{let gs=-1;for(;(gs=parts.indexOf("**",gs+1))!==-1;){let i=gs;for(;parts[i+1]==="**";)i++;i!==gs&&parts.splice(gs,i-gs)}return parts})}levelOneOptimize(globParts){return globParts.map(parts=>(parts=parts.reduce((set2,part)=>{let prev=set2[set2.length-1];return part==="**"&&prev==="**"?set2:part===".."&&prev&&prev!==".."&&prev!=="."&&prev!=="**"?(set2.pop(),set2):(set2.push(part),set2)},[]),parts.length===0?[""]:parts))}levelTwoFileOptimize(parts){Array.isArray(parts)||(parts=this.slashSplit(parts));let didSomething=!1;do{if(didSomething=!1,!this.preserveMultipleSlashes){for(let i=1;i<parts.length-1;i++){let p=parts[i];i===1&&p===""&&parts[0]===""||(p==="."||p==="")&&(didSomething=!0,parts.splice(i,1),i--)}parts[0]==="."&&parts.length===2&&(parts[1]==="."||parts[1]==="")&&(didSomething=!0,parts.pop())}let dd=0;for(;(dd=parts.indexOf("..",dd+1))!==-1;){let p=parts[dd-1];p&&p!=="."&&p!==".."&&p!=="**"&&(didSomething=!0,parts.splice(dd-1,2),dd-=2)}}while(didSomething);return parts.length===0?[""]:parts}firstPhasePreProcess(globParts){let didSomething=!1;do{didSomething=!1;for(let parts of globParts){let gs=-1;for(;(gs=parts.indexOf("**",gs+1))!==-1;){let gss=gs;for(;parts[gss+1]==="**";)gss++;gss>gs&&parts.splice(gs+1,gss-gs);let next=parts[gs+1],p=parts[gs+2],p2=parts[gs+3];if(next!==".."||!p||p==="."||p===".."||!p2||p2==="."||p2==="..")continue;didSomething=!0,parts.splice(gs,1);let other=parts.slice(0);other[gs]="**",globParts.push(other),gs--}if(!this.preserveMultipleSlashes){for(let i=1;i<parts.length-1;i++){let p=parts[i];i===1&&p===""&&parts[0]===""||(p==="."||p==="")&&(didSomething=!0,parts.splice(i,1),i--)}parts[0]==="."&&parts.length===2&&(parts[1]==="."||parts[1]==="")&&(didSomething=!0,parts.pop())}let dd=0;for(;(dd=parts.indexOf("..",dd+1))!==-1;){let p=parts[dd-1];if(p&&p!=="."&&p!==".."&&p!=="**"){didSomething=!0;let splin=dd===1&&parts[dd+1]==="**"?["."]:[];parts.splice(dd-1,2,...splin),parts.length===0&&parts.push(""),dd-=2}}}}while(didSomething);return globParts}secondPhasePreProcess(globParts){for(let i=0;i<globParts.length-1;i++)for(let j=i+1;j<globParts.length;j++){let matched=this.partsMatch(globParts[i],globParts[j],!this.preserveMultipleSlashes);if(matched){globParts[i]=[],globParts[j]=matched;break}}return globParts.filter(gs=>gs.length)}partsMatch(a,b,emptyGSMatch=!1){let ai=0,bi=0,result=[],which="";for(;ai<a.length&&bi<b.length;)if(a[ai]===b[bi])result.push(which==="b"?b[bi]:a[ai]),ai++,bi++;else if(emptyGSMatch&&a[ai]==="**"&&b[bi]===a[ai+1])result.push(a[ai]),ai++;else if(emptyGSMatch&&b[bi]==="**"&&a[ai]===b[bi+1])result.push(b[bi]),bi++;else if(a[ai]==="*"&&b[bi]&&(this.options.dot||!b[bi].startsWith("."))&&b[bi]!=="**"){if(which==="b")return!1;which="a",result.push(a[ai]),ai++,bi++}else if(b[bi]==="*"&&a[ai]&&(this.options.dot||!a[ai].startsWith("."))&&a[ai]!=="**"){if(which==="a")return!1;which="b",result.push(b[bi]),ai++,bi++}else return!1;return a.length===b.length&&result}parseNegate(){if(this.nonegate)return;let pattern=this.pattern,negate2=!1,negateOffset=0;for(let i=0;i<pattern.length&&pattern.charAt(i)==="!";i++)negate2=!negate2,negateOffset++;negateOffset&&(this.pattern=pattern.slice(negateOffset)),this.negate=negate2}matchOne(file,pattern,partial=!1){let options2=this.options;if(this.isWindows){let fileDrive=typeof file[0]=="string"&&/^[a-z]:$/i.test(file[0]),fileUNC=!fileDrive&&file[0]===""&&file[1]===""&&file[2]==="?"&&/^[a-z]:$/i.test(file[3]),patternDrive=typeof pattern[0]=="string"&&/^[a-z]:$/i.test(pattern[0]),patternUNC=!patternDrive&&pattern[0]===""&&pattern[1]===""&&pattern[2]==="?"&&typeof pattern[3]=="string"&&/^[a-z]:$/i.test(pattern[3]),fdi=fileUNC?3:fileDrive?0:void 0,pdi=patternUNC?3:patternDrive?0:void 0;if(typeof fdi=="number"&&typeof pdi=="number"){let[fd,pd]=[file[fdi],pattern[pdi]];fd.toLowerCase()===pd.toLowerCase()&&(pattern[pdi]=fd,pdi>fdi?pattern=pattern.slice(pdi):fdi>pdi&&(file=file.slice(fdi)))}}let{optimizationLevel=1}=this.options;optimizationLevel>=2&&(file=this.levelTwoFileOptimize(file)),this.debug("matchOne",this,{file,pattern}),this.debug("matchOne",file.length,pattern.length);for(var fi=0,pi=0,fl=file.length,pl=pattern.length;fi<fl&&pi<pl;fi++,pi++){this.debug("matchOne loop");var p=pattern[pi],f=file[fi];if(this.debug(pattern,p,f),p===!1)return!1;if(p===exports2.GLOBSTAR){this.debug("GLOBSTAR",[pattern,p,f]);var fr=fi,pr=pi+1;if(pr===pl){for(this.debug("** at the end");fi<fl;fi++)if(file[fi]==="."||file[fi]===".."||!options2.dot&&file[fi].charAt(0)===".")return!1;return!0}for(;fr<fl;){var swallowee=file[fr];if(this.debug(`
globstar while`,file,fr,pattern,pr,swallowee),this.matchOne(file.slice(fr),pattern.slice(pr),partial))return this.debug("globstar found match!",fr,fl,swallowee),!0;if(swallowee==="."||swallowee===".."||!options2.dot&&swallowee.charAt(0)==="."){this.debug("dot detected!",file,fr,pattern,pr);break}this.debug("globstar swallow a segment, and continue"),fr++}return!!(partial&&(this.debug(`
>>> no match, partial?`,file,fr,pattern,pr),fr===fl))}let hit;if(typeof p=="string"?(hit=f===p,this.debug("string match",p,f,hit)):(hit=p.test(f),this.debug("pattern match",p,f,hit)),!hit)return!1}if(fi===fl&&pi===pl)return!0;if(fi===fl)return partial;if(pi===pl)return fi===fl-1&&file[fi]==="";throw new Error("wtf?")}braceExpand(){return(0,exports2.braceExpand)(this.pattern,this.options)}parse(pattern){(0,assert_valid_pattern_js_1.assertValidPattern)(pattern);let options2=this.options;if(pattern==="**")return exports2.GLOBSTAR;if(pattern==="")return"";let m,fastTest=null;(m=pattern.match(starRE))?fastTest=options2.dot?starTestDot:starTest:(m=pattern.match(starDotExtRE))?fastTest=(options2.nocase?options2.dot?starDotExtTestNocaseDot:starDotExtTestNocase:options2.dot?starDotExtTestDot:starDotExtTest)(m[1]):(m=pattern.match(qmarksRE))?fastTest=(options2.nocase?options2.dot?qmarksTestNocaseDot:qmarksTestNocase:options2.dot?qmarksTestDot:qmarksTest)(m):(m=pattern.match(starDotStarRE))?fastTest=options2.dot?starDotStarTestDot:starDotStarTest:(m=pattern.match(dotStarRE))&&(fastTest=dotStarTest);let re=ast_js_1.AST.fromGlob(pattern,this.options).toMMPattern();return fastTest&&typeof re=="object"&&Reflect.defineProperty(re,"test",{value:fastTest}),re}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let set2=this.set;if(!set2.length)return this.regexp=!1,this.regexp;let options2=this.options,twoStar=options2.noglobstar?star:options2.dot?twoStarDot:twoStarNoDot,flags=new Set(options2.nocase?["i"]:[]),re=set2.map(pattern=>{let pp=pattern.map(p=>{if(p instanceof RegExp)for(let f of p.flags.split(""))flags.add(f);return typeof p=="string"?regExpEscape(p):p===exports2.GLOBSTAR?exports2.GLOBSTAR:p._src});pp.forEach((p,i)=>{let next=pp[i+1],prev=pp[i-1];p!==exports2.GLOBSTAR||prev===exports2.GLOBSTAR||(prev===void 0?next!==void 0&&next!==exports2.GLOBSTAR?pp[i+1]="(?:\\/|"+twoStar+"\\/)?"+next:pp[i]=twoStar:next===void 0?pp[i-1]=prev+"(?:\\/|\\/"+twoStar+")?":next!==exports2.GLOBSTAR&&(pp[i-1]=prev+"(?:\\/|\\/"+twoStar+"\\/)"+next,pp[i+1]=exports2.GLOBSTAR))});let filtered=pp.filter(p=>p!==exports2.GLOBSTAR);if(this.partial&&filtered.length>=1){let prefixes=[];for(let i=1;i<=filtered.length;i++)prefixes.push(filtered.slice(0,i).join("/"));return"(?:"+prefixes.join("|")+")"}return filtered.join("/")}).join("|"),[open,close]=set2.length>1?["(?:",")"]:["",""];re="^"+open+re+close+"$",this.partial&&(re="^(?:\\/|"+open+re.slice(1,-1)+close+")$"),this.negate&&(re="^(?!"+re+").+$");try{this.regexp=new RegExp(re,[...flags].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(p){return this.preserveMultipleSlashes?p.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(p)?["",...p.split(/\/+/)]:p.split(/\/+/)}match(f,partial=this.partial){if(this.debug("match",f,this.pattern),this.comment)return!1;if(this.empty)return f==="";if(f==="/"&&partial)return!0;let options2=this.options;this.isWindows&&(f=f.split("\\").join("/"));let ff=this.slashSplit(f);this.debug(this.pattern,"split",ff);let set2=this.set;this.debug(this.pattern,"set",set2);let filename=ff[ff.length-1];if(!filename)for(let i=ff.length-2;!filename&&i>=0;i--)filename=ff[i];for(let i=0;i<set2.length;i++){let pattern=set2[i],file=ff;if(options2.matchBase&&pattern.length===1&&(file=[filename]),this.matchOne(file,pattern,partial))return options2.flipNegate?!0:!this.negate}return options2.flipNegate?!1:this.negate}static defaults(def){return exports2.minimatch.defaults(def).Minimatch}};exports2.Minimatch=Minimatch;var ast_js_2=require_ast();Object.defineProperty(exports2,"AST",{enumerable:!0,get:function(){return ast_js_2.AST}});var escape_js_2=require_escape();Object.defineProperty(exports2,"escape",{enumerable:!0,get:function(){return escape_js_2.escape}});var unescape_js_2=require_unescape();Object.defineProperty(exports2,"unescape",{enumerable:!0,get:function(){return unescape_js_2.unescape}});exports2.minimatch.AST=ast_js_1.AST;exports2.minimatch.Minimatch=Minimatch;exports2.minimatch.escape=escape_js_1.escape;exports2.minimatch.unescape=unescape_js_1.unescape}});var require_commonjs4=__commonJS({"../../../../node_modules/lru-cache/dist/commonjs/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.LRUCache=void 0;var defaultPerf=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,warned=new Set,PROCESS=typeof process=="object"&&process?process:{},emitWarning=(msg,type,code2,fn)=>{typeof PROCESS.emitWarning=="function"?PROCESS.emitWarning(msg,type,code2,fn):console.error(`[${code2}] ${type}: ${msg}`)},AC=globalThis.AbortController,AS=globalThis.AbortSignal;if(typeof AC>"u"){AS=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(_,fn){this._onabort.push(fn)}},AC=class{constructor(){warnACPolyfill()}signal=new AS;abort(reason){if(!this.signal.aborted){this.signal.reason=reason,this.signal.aborted=!0;for(let fn of this.signal._onabort)fn(reason);this.signal.onabort?.(reason)}}};let printACPolyfillWarning=PROCESS.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",warnACPolyfill=()=>{printACPolyfillWarning&&(printACPolyfillWarning=!1,emitWarning("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",warnACPolyfill))}}var shouldWarn=code2=>!warned.has(code2),TYPE=Symbol("type"),isPosInt=n=>n&&n===Math.floor(n)&&n>0&&isFinite(n),getUintArray=max=>isPosInt(max)?max<=Math.pow(2,8)?Uint8Array:max<=Math.pow(2,16)?Uint16Array:max<=Math.pow(2,32)?Uint32Array:max<=Number.MAX_SAFE_INTEGER?ZeroArray:null:null,ZeroArray=class extends Array{constructor(size){super(size),this.fill(0)}},Stack=class _Stack{heap;length;static#constructing=!1;static create(max){let HeapCls=getUintArray(max);if(!HeapCls)return[];_Stack.#constructing=!0;let s=new _Stack(max,HeapCls);return _Stack.#constructing=!1,s}constructor(max,HeapCls){if(!_Stack.#constructing)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new HeapCls(max),this.length=0}push(n){this.heap[this.length++]=n}pop(){return this.heap[--this.length]}},LRUCache=class _LRUCache{#max;#maxSize;#dispose;#onInsert;#disposeAfter;#fetchMethod;#memoMethod;#perf;get perf(){return this.#perf}ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#size;#calculatedSize;#keyMap;#keyList;#valList;#next;#prev;#head;#tail;#free;#disposed;#sizes;#starts;#ttls;#hasDispose;#hasFetchMethod;#hasDisposeAfter;#hasOnInsert;static unsafeExposeInternals(c){return{starts:c.#starts,ttls:c.#ttls,sizes:c.#sizes,keyMap:c.#keyMap,keyList:c.#keyList,valList:c.#valList,next:c.#next,prev:c.#prev,get head(){return c.#head},get tail(){return c.#tail},free:c.#free,isBackgroundFetch:p=>c.#isBackgroundFetch(p),backgroundFetch:(k,index2,options2,context)=>c.#backgroundFetch(k,index2,options2,context),moveToTail:index2=>c.#moveToTail(index2),indexes:options2=>c.#indexes(options2),rindexes:options2=>c.#rindexes(options2),isStale:index2=>c.#isStale(index2)}}get max(){return this.#max}get maxSize(){return this.#maxSize}get calculatedSize(){return this.#calculatedSize}get size(){return this.#size}get fetchMethod(){return this.#fetchMethod}get memoMethod(){return this.#memoMethod}get dispose(){return this.#dispose}get onInsert(){return this.#onInsert}get disposeAfter(){return this.#disposeAfter}constructor(options2){let{max=0,ttl,ttlResolution=1,ttlAutopurge,updateAgeOnGet,updateAgeOnHas,allowStale,dispose,onInsert,disposeAfter,noDisposeOnSet,noUpdateTTL,maxSize=0,maxEntrySize=0,sizeCalculation,fetchMethod,memoMethod,noDeleteOnFetchRejection,noDeleteOnStaleGet,allowStaleOnFetchRejection,allowStaleOnFetchAbort,ignoreFetchAbort,perf}=options2;if(perf!==void 0&&typeof perf?.now!="function")throw new TypeError("perf option must have a now() method if specified");if(this.#perf=perf??defaultPerf,max!==0&&!isPosInt(max))throw new TypeError("max option must be a nonnegative integer");let UintArray=max?getUintArray(max):Array;if(!UintArray)throw new Error("invalid max value: "+max);if(this.#max=max,this.#maxSize=maxSize,this.maxEntrySize=maxEntrySize||this.#maxSize,this.sizeCalculation=sizeCalculation,this.sizeCalculation){if(!this.#maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(memoMethod!==void 0&&typeof memoMethod!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#memoMethod=memoMethod,fetchMethod!==void 0&&typeof fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#fetchMethod=fetchMethod,this.#hasFetchMethod=!!fetchMethod,this.#keyMap=new Map,this.#keyList=new Array(max).fill(void 0),this.#valList=new Array(max).fill(void 0),this.#next=new UintArray(max),this.#prev=new UintArray(max),this.#head=0,this.#tail=0,this.#free=Stack.create(max),this.#size=0,this.#calculatedSize=0,typeof dispose=="function"&&(this.#dispose=dispose),typeof onInsert=="function"&&(this.#onInsert=onInsert),typeof disposeAfter=="function"?(this.#disposeAfter=disposeAfter,this.#disposed=[]):(this.#disposeAfter=void 0,this.#disposed=void 0),this.#hasDispose=!!this.#dispose,this.#hasOnInsert=!!this.#onInsert,this.#hasDisposeAfter=!!this.#disposeAfter,this.noDisposeOnSet=!!noDisposeOnSet,this.noUpdateTTL=!!noUpdateTTL,this.noDeleteOnFetchRejection=!!noDeleteOnFetchRejection,this.allowStaleOnFetchRejection=!!allowStaleOnFetchRejection,this.allowStaleOnFetchAbort=!!allowStaleOnFetchAbort,this.ignoreFetchAbort=!!ignoreFetchAbort,this.maxEntrySize!==0){if(this.#maxSize!==0&&!isPosInt(this.#maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!isPosInt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#initializeSizeTracking()}if(this.allowStale=!!allowStale,this.noDeleteOnStaleGet=!!noDeleteOnStaleGet,this.updateAgeOnGet=!!updateAgeOnGet,this.updateAgeOnHas=!!updateAgeOnHas,this.ttlResolution=isPosInt(ttlResolution)||ttlResolution===0?ttlResolution:1,this.ttlAutopurge=!!ttlAutopurge,this.ttl=ttl||0,this.ttl){if(!isPosInt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#initializeTTLTracking()}if(this.#max===0&&this.ttl===0&&this.#maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#max&&!this.#maxSize){let code2="LRU_CACHE_UNBOUNDED";shouldWarn(code2)&&(warned.add(code2),emitWarning("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",code2,_LRUCache))}}getRemainingTTL(key){return this.#keyMap.has(key)?1/0:0}#initializeTTLTracking(){let ttls=new ZeroArray(this.#max),starts=new ZeroArray(this.#max);this.#ttls=ttls,this.#starts=starts,this.#setItemTTL=(index2,ttl,start=this.#perf.now())=>{if(starts[index2]=ttl!==0?start:0,ttls[index2]=ttl,ttl!==0&&this.ttlAutopurge){let t=setTimeout(()=>{this.#isStale(index2)&&this.#delete(this.#keyList[index2],"expire")},ttl+1);t.unref&&t.unref()}},this.#updateItemAge=index2=>{starts[index2]=ttls[index2]!==0?this.#perf.now():0},this.#statusTTL=(status,index2)=>{if(ttls[index2]){let ttl=ttls[index2],start=starts[index2];if(!ttl||!start)return;status.ttl=ttl,status.start=start,status.now=cachedNow||getNow();let age=status.now-start;status.remainingTTL=ttl-age}};let cachedNow=0,getNow=()=>{let n=this.#perf.now();if(this.ttlResolution>0){cachedNow=n;let t=setTimeout(()=>cachedNow=0,this.ttlResolution);t.unref&&t.unref()}return n};this.getRemainingTTL=key=>{let index2=this.#keyMap.get(key);if(index2===void 0)return 0;let ttl=ttls[index2],start=starts[index2];if(!ttl||!start)return 1/0;let age=(cachedNow||getNow())-start;return ttl-age},this.#isStale=index2=>{let s=starts[index2],t=ttls[index2];return!!t&&!!s&&(cachedNow||getNow())-s>t}}#updateItemAge=()=>{};#statusTTL=()=>{};#setItemTTL=()=>{};#isStale=()=>!1;#initializeSizeTracking(){let sizes=new ZeroArray(this.#max);this.#calculatedSize=0,this.#sizes=sizes,this.#removeItemSize=index2=>{this.#calculatedSize-=sizes[index2],sizes[index2]=0},this.#requireSize=(k,v,size,sizeCalculation)=>{if(this.#isBackgroundFetch(v))return 0;if(!isPosInt(size))if(sizeCalculation){if(typeof sizeCalculation!="function")throw new TypeError("sizeCalculation must be a function");if(size=sizeCalculation(v,k),!isPosInt(size))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return size},this.#addItemSize=(index2,size,status)=>{if(sizes[index2]=size,this.#maxSize){let maxSize=this.#maxSize-sizes[index2];for(;this.#calculatedSize>maxSize;)this.#evict(!0)}this.#calculatedSize+=sizes[index2],status&&(status.entrySize=size,status.totalCalculatedSize=this.#calculatedSize)}}#removeItemSize=_i=>{};#addItemSize=(_i,_s,_st)=>{};#requireSize=(_k,_v,size,sizeCalculation)=>{if(size||sizeCalculation)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#indexes({allowStale=this.allowStale}={}){if(this.#size)for(let i=this.#tail;!(!this.#isValidIndex(i)||((allowStale||!this.#isStale(i))&&(yield i),i===this.#head));)i=this.#prev[i]}*#rindexes({allowStale=this.allowStale}={}){if(this.#size)for(let i=this.#head;!(!this.#isValidIndex(i)||((allowStale||!this.#isStale(i))&&(yield i),i===this.#tail));)i=this.#next[i]}#isValidIndex(index2){return index2!==void 0&&this.#keyMap.get(this.#keyList[index2])===index2}*entries(){for(let i of this.#indexes())this.#valList[i]!==void 0&&this.#keyList[i]!==void 0&&!this.#isBackgroundFetch(this.#valList[i])&&(yield[this.#keyList[i],this.#valList[i]])}*rentries(){for(let i of this.#rindexes())this.#valList[i]!==void 0&&this.#keyList[i]!==void 0&&!this.#isBackgroundFetch(this.#valList[i])&&(yield[this.#keyList[i],this.#valList[i]])}*keys(){for(let i of this.#indexes()){let k=this.#keyList[i];k!==void 0&&!this.#isBackgroundFetch(this.#valList[i])&&(yield k)}}*rkeys(){for(let i of this.#rindexes()){let k=this.#keyList[i];k!==void 0&&!this.#isBackgroundFetch(this.#valList[i])&&(yield k)}}*values(){for(let i of this.#indexes())this.#valList[i]!==void 0&&!this.#isBackgroundFetch(this.#valList[i])&&(yield this.#valList[i])}*rvalues(){for(let i of this.#rindexes())this.#valList[i]!==void 0&&!this.#isBackgroundFetch(this.#valList[i])&&(yield this.#valList[i])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(fn,getOptions={}){for(let i of this.#indexes()){let v=this.#valList[i],value=this.#isBackgroundFetch(v)?v.__staleWhileFetching:v;if(value!==void 0&&fn(value,this.#keyList[i],this))return this.get(this.#keyList[i],getOptions)}}forEach(fn,thisp=this){for(let i of this.#indexes()){let v=this.#valList[i],value=this.#isBackgroundFetch(v)?v.__staleWhileFetching:v;value!==void 0&&fn.call(thisp,value,this.#keyList[i],this)}}rforEach(fn,thisp=this){for(let i of this.#rindexes()){let v=this.#valList[i],value=this.#isBackgroundFetch(v)?v.__staleWhileFetching:v;value!==void 0&&fn.call(thisp,value,this.#keyList[i],this)}}purgeStale(){let deleted=!1;for(let i of this.#rindexes({allowStale:!0}))this.#isStale(i)&&(this.#delete(this.#keyList[i],"expire"),deleted=!0);return deleted}info(key){let i=this.#keyMap.get(key);if(i===void 0)return;let v=this.#valList[i],value=this.#isBackgroundFetch(v)?v.__staleWhileFetching:v;if(value===void 0)return;let entry={value};if(this.#ttls&&this.#starts){let ttl=this.#ttls[i],start=this.#starts[i];if(ttl&&start){let remain=ttl-(this.#perf.now()-start);entry.ttl=remain,entry.start=Date.now()}}return this.#sizes&&(entry.size=this.#sizes[i]),entry}dump(){let arr=[];for(let i of this.#indexes({allowStale:!0})){let key=this.#keyList[i],v=this.#valList[i],value=this.#isBackgroundFetch(v)?v.__staleWhileFetching:v;if(value===void 0||key===void 0)continue;let entry={value};if(this.#ttls&&this.#starts){entry.ttl=this.#ttls[i];let age=this.#perf.now()-this.#starts[i];entry.start=Math.floor(Date.now()-age)}this.#sizes&&(entry.size=this.#sizes[i]),arr.unshift([key,entry])}return arr}load(arr){this.clear();for(let[key,entry]of arr){if(entry.start){let age=Date.now()-entry.start;entry.start=this.#perf.now()-age}this.set(key,entry.value,entry)}}set(k,v,setOptions={}){if(v===void 0)return this.delete(k),this;let{ttl=this.ttl,start,noDisposeOnSet=this.noDisposeOnSet,sizeCalculation=this.sizeCalculation,status}=setOptions,{noUpdateTTL=this.noUpdateTTL}=setOptions,size=this.#requireSize(k,v,setOptions.size||0,sizeCalculation);if(this.maxEntrySize&&size>this.maxEntrySize)return status&&(status.set="miss",status.maxEntrySizeExceeded=!0),this.#delete(k,"set"),this;let index2=this.#size===0?void 0:this.#keyMap.get(k);if(index2===void 0)index2=this.#size===0?this.#tail:this.#free.length!==0?this.#free.pop():this.#size===this.#max?this.#evict(!1):this.#size,this.#keyList[index2]=k,this.#valList[index2]=v,this.#keyMap.set(k,index2),this.#next[this.#tail]=index2,this.#prev[index2]=this.#tail,this.#tail=index2,this.#size++,this.#addItemSize(index2,size,status),status&&(status.set="add"),noUpdateTTL=!1,this.#hasOnInsert&&this.#onInsert?.(v,k,"add");else{this.#moveToTail(index2);let oldVal=this.#valList[index2];if(v!==oldVal){if(this.#hasFetchMethod&&this.#isBackgroundFetch(oldVal)){oldVal.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:s}=oldVal;s!==void 0&&!noDisposeOnSet&&(this.#hasDispose&&this.#dispose?.(s,k,"set"),this.#hasDisposeAfter&&this.#disposed?.push([s,k,"set"]))}else noDisposeOnSet||(this.#hasDispose&&this.#dispose?.(oldVal,k,"set"),this.#hasDisposeAfter&&this.#disposed?.push([oldVal,k,"set"]));if(this.#removeItemSize(index2),this.#addItemSize(index2,size,status),this.#valList[index2]=v,status){status.set="replace";let oldValue=oldVal&&this.#isBackgroundFetch(oldVal)?oldVal.__staleWhileFetching:oldVal;oldValue!==void 0&&(status.oldValue=oldValue)}}else status&&(status.set="update");this.#hasOnInsert&&this.onInsert?.(v,k,v===oldVal?"update":"replace")}if(ttl!==0&&!this.#ttls&&this.#initializeTTLTracking(),this.#ttls&&(noUpdateTTL||this.#setItemTTL(index2,ttl,start),status&&this.#statusTTL(status,index2)),!noDisposeOnSet&&this.#hasDisposeAfter&&this.#disposed){let dt=this.#disposed,task;for(;task=dt?.shift();)this.#disposeAfter?.(...task)}return this}pop(){try{for(;this.#size;){let val=this.#valList[this.#head];if(this.#evict(!0),this.#isBackgroundFetch(val)){if(val.__staleWhileFetching)return val.__staleWhileFetching}else if(val!==void 0)return val}}finally{if(this.#hasDisposeAfter&&this.#disposed){let dt=this.#disposed,task;for(;task=dt?.shift();)this.#disposeAfter?.(...task)}}}#evict(free){let head=this.#head,k=this.#keyList[head],v=this.#valList[head];return this.#hasFetchMethod&&this.#isBackgroundFetch(v)?v.__abortController.abort(new Error("evicted")):(this.#hasDispose||this.#hasDisposeAfter)&&(this.#hasDispose&&this.#dispose?.(v,k,"evict"),this.#hasDisposeAfter&&this.#disposed?.push([v,k,"evict"])),this.#removeItemSize(head),free&&(this.#keyList[head]=void 0,this.#valList[head]=void 0,this.#free.push(head)),this.#size===1?(this.#head=this.#tail=0,this.#free.length=0):this.#head=this.#next[head],this.#keyMap.delete(k),this.#size--,head}has(k,hasOptions={}){let{updateAgeOnHas=this.updateAgeOnHas,status}=hasOptions,index2=this.#keyMap.get(k);if(index2!==void 0){let v=this.#valList[index2];if(this.#isBackgroundFetch(v)&&v.__staleWhileFetching===void 0)return!1;if(this.#isStale(index2))status&&(status.has="stale",this.#statusTTL(status,index2));else return updateAgeOnHas&&this.#updateItemAge(index2),status&&(status.has="hit",this.#statusTTL(status,index2)),!0}else status&&(status.has="miss");return!1}peek(k,peekOptions={}){let{allowStale=this.allowStale}=peekOptions,index2=this.#keyMap.get(k);if(index2===void 0||!allowStale&&this.#isStale(index2))return;let v=this.#valList[index2];return this.#isBackgroundFetch(v)?v.__staleWhileFetching:v}#backgroundFetch(k,index2,options2,context){let v=index2===void 0?void 0:this.#valList[index2];if(this.#isBackgroundFetch(v))return v;let ac=new AC,{signal}=options2;signal?.addEventListener("abort",()=>ac.abort(signal.reason),{signal:ac.signal});let fetchOpts={signal:ac.signal,options:options2,context},cb=(v2,updateCache=!1)=>{let{aborted}=ac.signal,ignoreAbort=options2.ignoreFetchAbort&&v2!==void 0;if(options2.status&&(aborted&&!updateCache?(options2.status.fetchAborted=!0,options2.status.fetchError=ac.signal.reason,ignoreAbort&&(options2.status.fetchAbortIgnored=!0)):options2.status.fetchResolved=!0),aborted&&!ignoreAbort&&!updateCache)return fetchFail(ac.signal.reason);let bf2=p,vl=this.#valList[index2];return(vl===p||ignoreAbort&&updateCache&&vl===void 0)&&(v2===void 0?bf2.__staleWhileFetching!==void 0?this.#valList[index2]=bf2.__staleWhileFetching:this.#delete(k,"fetch"):(options2.status&&(options2.status.fetchUpdated=!0),this.set(k,v2,fetchOpts.options))),v2},eb=er=>(options2.status&&(options2.status.fetchRejected=!0,options2.status.fetchError=er),fetchFail(er)),fetchFail=er=>{let{aborted}=ac.signal,allowStaleAborted=aborted&&options2.allowStaleOnFetchAbort,allowStale=allowStaleAborted||options2.allowStaleOnFetchRejection,noDelete=allowStale||options2.noDeleteOnFetchRejection,bf2=p;if(this.#valList[index2]===p&&(!noDelete||bf2.__staleWhileFetching===void 0?this.#delete(k,"fetch"):allowStaleAborted||(this.#valList[index2]=bf2.__staleWhileFetching)),allowStale)return options2.status&&bf2.__staleWhileFetching!==void 0&&(options2.status.returnedStale=!0),bf2.__staleWhileFetching;if(bf2.__returned===bf2)throw er},pcall=(res,rej)=>{let fmp=this.#fetchMethod?.(k,v,fetchOpts);fmp&&fmp instanceof Promise&&fmp.then(v2=>res(v2===void 0?void 0:v2),rej),ac.signal.addEventListener("abort",()=>{(!options2.ignoreFetchAbort||options2.allowStaleOnFetchAbort)&&(res(void 0),options2.allowStaleOnFetchAbort&&(res=v2=>cb(v2,!0)))})};options2.status&&(options2.status.fetchDispatched=!0);let p=new Promise(pcall).then(cb,eb),bf=Object.assign(p,{__abortController:ac,__staleWhileFetching:v,__returned:void 0});return index2===void 0?(this.set(k,bf,{...fetchOpts.options,status:void 0}),index2=this.#keyMap.get(k)):this.#valList[index2]=bf,bf}#isBackgroundFetch(p){if(!this.#hasFetchMethod)return!1;let b=p;return!!b&&b instanceof Promise&&b.hasOwnProperty("__staleWhileFetching")&&b.__abortController instanceof AC}async fetch(k,fetchOptions={}){let{allowStale=this.allowStale,updateAgeOnGet=this.updateAgeOnGet,noDeleteOnStaleGet=this.noDeleteOnStaleGet,ttl=this.ttl,noDisposeOnSet=this.noDisposeOnSet,size=0,sizeCalculation=this.sizeCalculation,noUpdateTTL=this.noUpdateTTL,noDeleteOnFetchRejection=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection=this.allowStaleOnFetchRejection,ignoreFetchAbort=this.ignoreFetchAbort,allowStaleOnFetchAbort=this.allowStaleOnFetchAbort,context,forceRefresh=!1,status,signal}=fetchOptions;if(!this.#hasFetchMethod)return status&&(status.fetch="get"),this.get(k,{allowStale,updateAgeOnGet,noDeleteOnStaleGet,status});let options2={allowStale,updateAgeOnGet,noDeleteOnStaleGet,ttl,noDisposeOnSet,size,sizeCalculation,noUpdateTTL,noDeleteOnFetchRejection,allowStaleOnFetchRejection,allowStaleOnFetchAbort,ignoreFetchAbort,status,signal},index2=this.#keyMap.get(k);if(index2===void 0){status&&(status.fetch="miss");let p=this.#backgroundFetch(k,index2,options2,context);return p.__returned=p}else{let v=this.#valList[index2];if(this.#isBackgroundFetch(v)){let stale=allowStale&&v.__staleWhileFetching!==void 0;return status&&(status.fetch="inflight",stale&&(status.returnedStale=!0)),stale?v.__staleWhileFetching:v.__returned=v}let isStale=this.#isStale(index2);if(!forceRefresh&&!isStale)return status&&(status.fetch="hit"),this.#moveToTail(index2),updateAgeOnGet&&this.#updateItemAge(index2),status&&this.#statusTTL(status,index2),v;let p=this.#backgroundFetch(k,index2,options2,context),staleVal=p.__staleWhileFetching!==void 0&&allowStale;return status&&(status.fetch=isStale?"stale":"refresh",staleVal&&isStale&&(status.returnedStale=!0)),staleVal?p.__staleWhileFetching:p.__returned=p}}async forceFetch(k,fetchOptions={}){let v=await this.fetch(k,fetchOptions);if(v===void 0)throw new Error("fetch() returned undefined");return v}memo(k,memoOptions={}){let memoMethod=this.#memoMethod;if(!memoMethod)throw new Error("no memoMethod provided to constructor");let{context,forceRefresh,...options2}=memoOptions,v=this.get(k,options2);if(!forceRefresh&&v!==void 0)return v;let vv=memoMethod(k,v,{options:options2,context});return this.set(k,vv,options2),vv}get(k,getOptions={}){let{allowStale=this.allowStale,updateAgeOnGet=this.updateAgeOnGet,noDeleteOnStaleGet=this.noDeleteOnStaleGet,status}=getOptions,index2=this.#keyMap.get(k);if(index2!==void 0){let value=this.#valList[index2],fetching=this.#isBackgroundFetch(value);return status&&this.#statusTTL(status,index2),this.#isStale(index2)?(status&&(status.get="stale"),fetching?(status&&allowStale&&value.__staleWhileFetching!==void 0&&(status.returnedStale=!0),allowStale?value.__staleWhileFetching:void 0):(noDeleteOnStaleGet||this.#delete(k,"expire"),status&&allowStale&&(status.returnedStale=!0),allowStale?value:void 0)):(status&&(status.get="hit"),fetching?value.__staleWhileFetching:(this.#moveToTail(index2),updateAgeOnGet&&this.#updateItemAge(index2),value))}else status&&(status.get="miss")}#connect(p,n){this.#prev[n]=p,this.#next[p]=n}#moveToTail(index2){index2!==this.#tail&&(index2===this.#head?this.#head=this.#next[index2]:this.#connect(this.#prev[index2],this.#next[index2]),this.#connect(this.#tail,index2),this.#tail=index2)}delete(k){return this.#delete(k,"delete")}#delete(k,reason){let deleted=!1;if(this.#size!==0){let index2=this.#keyMap.get(k);if(index2!==void 0)if(deleted=!0,this.#size===1)this.#clear(reason);else{this.#removeItemSize(index2);let v=this.#valList[index2];if(this.#isBackgroundFetch(v)?v.__abortController.abort(new Error("deleted")):(this.#hasDispose||this.#hasDisposeAfter)&&(this.#hasDispose&&this.#dispose?.(v,k,reason),this.#hasDisposeAfter&&this.#disposed?.push([v,k,reason])),this.#keyMap.delete(k),this.#keyList[index2]=void 0,this.#valList[index2]=void 0,index2===this.#tail)this.#tail=this.#prev[index2];else if(index2===this.#head)this.#head=this.#next[index2];else{let pi=this.#prev[index2];this.#next[pi]=this.#next[index2];let ni=this.#next[index2];this.#prev[ni]=this.#prev[index2]}this.#size--,this.#free.push(index2)}}if(this.#hasDisposeAfter&&this.#disposed?.length){let dt=this.#disposed,task;for(;task=dt?.shift();)this.#disposeAfter?.(...task)}return deleted}clear(){return this.#clear("delete")}#clear(reason){for(let index2 of this.#rindexes({allowStale:!0})){let v=this.#valList[index2];if(this.#isBackgroundFetch(v))v.__abortController.abort(new Error("deleted"));else{let k=this.#keyList[index2];this.#hasDispose&&this.#dispose?.(v,k,reason),this.#hasDisposeAfter&&this.#disposed?.push([v,k,reason])}}if(this.#keyMap.clear(),this.#valList.fill(void 0),this.#keyList.fill(void 0),this.#ttls&&this.#starts&&(this.#ttls.fill(0),this.#starts.fill(0)),this.#sizes&&this.#sizes.fill(0),this.#head=0,this.#tail=0,this.#free.length=0,this.#calculatedSize=0,this.#size=0,this.#hasDisposeAfter&&this.#disposed){let dt=this.#disposed,task;for(;task=dt?.shift();)this.#disposeAfter?.(...task)}}};exports2.LRUCache=LRUCache}});var require_commonjs5=__commonJS({"../../../../node_modules/minipass/dist/commonjs/index.js"(exports2){"use strict";var __importDefault2=exports2&&exports2.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports2,"__esModule",{value:!0});exports2.Minipass=exports2.isWritable=exports2.isReadable=exports2.isStream=void 0;var proc=typeof process=="object"&&process?process:{stdout:null,stderr:null},node_events_1=require("node:events"),node_stream_1=__importDefault2(require("node:stream")),node_string_decoder_1=require("node:string_decoder"),isStream=s=>!!s&&typeof s=="object"&&(s instanceof Minipass||s instanceof node_stream_1.default||(0,exports2.isReadable)(s)||(0,exports2.isWritable)(s));exports2.isStream=isStream;var isReadable=s=>!!s&&typeof s=="object"&&s instanceof node_events_1.EventEmitter&&typeof s.pipe=="function"&&s.pipe!==node_stream_1.default.Writable.prototype.pipe;exports2.isReadable=isReadable;var isWritable=s=>!!s&&typeof s=="object"&&s instanceof node_events_1.EventEmitter&&typeof s.write=="function"&&typeof s.end=="function";exports2.isWritable=isWritable;var EOF=Symbol("EOF"),MAYBE_EMIT_END=Symbol("maybeEmitEnd"),EMITTED_END=Symbol("emittedEnd"),EMITTING_END=Symbol("emittingEnd"),EMITTED_ERROR=Symbol("emittedError"),CLOSED=Symbol("closed"),READ=Symbol("read"),FLUSH=Symbol("flush"),FLUSHCHUNK=Symbol("flushChunk"),ENCODING=Symbol("encoding"),DECODER=Symbol("decoder"),FLOWING=Symbol("flowing"),PAUSED=Symbol("paused"),RESUME=Symbol("resume"),BUFFER=Symbol("buffer"),PIPES=Symbol("pipes"),BUFFERLENGTH=Symbol("bufferLength"),BUFFERPUSH=Symbol("bufferPush"),BUFFERSHIFT=Symbol("bufferShift"),OBJECTMODE=Symbol("objectMode"),DESTROYED=Symbol("destroyed"),ERROR=Symbol("error"),EMITDATA=Symbol("emitData"),EMITEND=Symbol("emitEnd"),EMITEND2=Symbol("emitEnd2"),ASYNC=Symbol("async"),ABORT=Symbol("abort"),ABORTED=Symbol("aborted"),SIGNAL=Symbol("signal"),DATALISTENERS=Symbol("dataListeners"),DISCARDED=Symbol("discarded"),defer=fn=>Promise.resolve().then(fn),nodefer=fn=>fn(),isEndish=ev=>ev==="end"||ev==="finish"||ev==="prefinish",isArrayBufferLike=b=>b instanceof ArrayBuffer||!!b&&typeof b=="object"&&b.constructor&&b.constructor.name==="ArrayBuffer"&&b.byteLength>=0,isArrayBufferView=b=>!Buffer.isBuffer(b)&&ArrayBuffer.isView(b),Pipe=class{src;dest;opts;ondrain;constructor(src,dest,opts){this.src=src,this.dest=dest,this.opts=opts,this.ondrain=()=>src[RESUME](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(_er){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},PipeProxyErrors=class extends Pipe{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(src,dest,opts){super(src,dest,opts),this.proxyErrors=er=>dest.emit("error",er),src.on("error",this.proxyErrors)}},isObjectModeOptions=o=>!!o.objectMode,isEncodingOptions=o=>!o.objectMode&&!!o.encoding&&o.encoding!=="buffer",Minipass=class extends node_events_1.EventEmitter{[FLOWING]=!1;[PAUSED]=!1;[PIPES]=[];[BUFFER]=[];[OBJECTMODE];[ENCODING];[ASYNC];[DECODER];[EOF]=!1;[EMITTED_END]=!1;[EMITTING_END]=!1;[CLOSED]=!1;[EMITTED_ERROR]=null;[BUFFERLENGTH]=0;[DESTROYED]=!1;[SIGNAL];[ABORTED]=!1;[DATALISTENERS]=0;[DISCARDED]=!1;writable=!0;readable=!0;constructor(...args){let options2=args[0]||{};if(super(),options2.objectMode&&typeof options2.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");isObjectModeOptions(options2)?(this[OBJECTMODE]=!0,this[ENCODING]=null):isEncodingOptions(options2)?(this[ENCODING]=options2.encoding,this[OBJECTMODE]=!1):(this[OBJECTMODE]=!1,this[ENCODING]=null),this[ASYNC]=!!options2.async,this[DECODER]=this[ENCODING]?new node_string_decoder_1.StringDecoder(this[ENCODING]):null,options2&&options2.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[BUFFER]}),options2&&options2.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[PIPES]});let{signal}=options2;signal&&(this[SIGNAL]=signal,signal.aborted?this[ABORT]():signal.addEventListener("abort",()=>this[ABORT]()))}get bufferLength(){return this[BUFFERLENGTH]}get encoding(){return this[ENCODING]}set encoding(_enc){throw new Error("Encoding must be set at instantiation time")}setEncoding(_enc){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[OBJECTMODE]}set objectMode(_om){throw new Error("objectMode must be set at instantiation time")}get async(){return this[ASYNC]}set async(a){this[ASYNC]=this[ASYNC]||!!a}[ABORT](){this[ABORTED]=!0,this.emit("abort",this[SIGNAL]?.reason),this.destroy(this[SIGNAL]?.reason)}get aborted(){return this[ABORTED]}set aborted(_){}write(chunk,encoding,cb){if(this[ABORTED])return!1;if(this[EOF])throw new Error("write after end");if(this[DESTROYED])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof encoding=="function"&&(cb=encoding,encoding="utf8"),encoding||(encoding="utf8");let fn=this[ASYNC]?defer:nodefer;if(!this[OBJECTMODE]&&!Buffer.isBuffer(chunk)){if(isArrayBufferView(chunk))chunk=Buffer.from(chunk.buffer,chunk.byteOffset,chunk.byteLength);else if(isArrayBufferLike(chunk))chunk=Buffer.from(chunk);else if(typeof chunk!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[OBJECTMODE]?(this[FLOWING]&&this[BUFFERLENGTH]!==0&&this[FLUSH](!0),this[FLOWING]?this.emit("data",chunk):this[BUFFERPUSH](chunk),this[BUFFERLENGTH]!==0&&this.emit("readable"),cb&&fn(cb),this[FLOWING]):chunk.length?(typeof chunk=="string"&&!(encoding===this[ENCODING]&&!this[DECODER]?.lastNeed)&&(chunk=Buffer.from(chunk,encoding)),Buffer.isBuffer(chunk)&&this[ENCODING]&&(chunk=this[DECODER].write(chunk)),this[FLOWING]&&this[BUFFERLENGTH]!==0&&this[FLUSH](!0),this[FLOWING]?this.emit("data",chunk):this[BUFFERPUSH](chunk),this[BUFFERLENGTH]!==0&&this.emit("readable"),cb&&fn(cb),this[FLOWING]):(this[BUFFERLENGTH]!==0&&this.emit("readable"),cb&&fn(cb),this[FLOWING])}read(n){if(this[DESTROYED])return null;if(this[DISCARDED]=!1,this[BUFFERLENGTH]===0||n===0||n&&n>this[BUFFERLENGTH])return this[MAYBE_EMIT_END](),null;this[OBJECTMODE]&&(n=null),this[BUFFER].length>1&&!this[OBJECTMODE]&&(this[BUFFER]=[this[ENCODING]?this[BUFFER].join(""):Buffer.concat(this[BUFFER],this[BUFFERLENGTH])]);let ret=this[READ](n||null,this[BUFFER][0]);return this[MAYBE_EMIT_END](),ret}[READ](n,chunk){if(this[OBJECTMODE])this[BUFFERSHIFT]();else{let c=chunk;n===c.length||n===null?this[BUFFERSHIFT]():typeof c=="string"?(this[BUFFER][0]=c.slice(n),chunk=c.slice(0,n),this[BUFFERLENGTH]-=n):(this[BUFFER][0]=c.subarray(n),chunk=c.subarray(0,n),this[BUFFERLENGTH]-=n)}return this.emit("data",chunk),!this[BUFFER].length&&!this[EOF]&&this.emit("drain"),chunk}end(chunk,encoding,cb){return typeof chunk=="function"&&(cb=chunk,chunk=void 0),typeof encoding=="function"&&(cb=encoding,encoding="utf8"),chunk!==void 0&&this.write(chunk,encoding),cb&&this.once("end",cb),this[EOF]=!0,this.writable=!1,(this[FLOWING]||!this[PAUSED])&&this[MAYBE_EMIT_END](),this}[RESUME](){this[DESTROYED]||(!this[DATALISTENERS]&&!this[PIPES].length&&(this[DISCARDED]=!0),this[PAUSED]=!1,this[FLOWING]=!0,this.emit("resume"),this[BUFFER].length?this[FLUSH]():this[EOF]?this[MAYBE_EMIT_END]():this.emit("drain"))}resume(){return this[RESUME]()}pause(){this[FLOWING]=!1,this[PAUSED]=!0,this[DISCARDED]=!1}get destroyed(){return this[DESTROYED]}get flowing(){return this[FLOWING]}get paused(){return this[PAUSED]}[BUFFERPUSH](chunk){this[OBJECTMODE]?this[BUFFERLENGTH]+=1:this[BUFFERLENGTH]+=chunk.length,this[BUFFER].push(chunk)}[BUFFERSHIFT](){return this[OBJECTMODE]?this[BUFFERLENGTH]-=1:this[BUFFERLENGTH]-=this[BUFFER][0].length,this[BUFFER].shift()}[FLUSH](noDrain=!1){do;while(this[FLUSHCHUNK](this[BUFFERSHIFT]())&&this[BUFFER].length);!noDrain&&!this[BUFFER].length&&!this[EOF]&&this.emit("drain")}[FLUSHCHUNK](chunk){return this.emit("data",chunk),this[FLOWING]}pipe(dest,opts){if(this[DESTROYED])return dest;this[DISCARDED]=!1;let ended=this[EMITTED_END];return opts=opts||{},dest===proc.stdout||dest===proc.stderr?opts.end=!1:opts.end=opts.end!==!1,opts.proxyErrors=!!opts.proxyErrors,ended?opts.end&&dest.end():(this[PIPES].push(opts.proxyErrors?new PipeProxyErrors(this,dest,opts):new Pipe(this,dest,opts)),this[ASYNC]?defer(()=>this[RESUME]()):this[RESUME]()),dest}unpipe(dest){let p=this[PIPES].find(p2=>p2.dest===dest);p&&(this[PIPES].length===1?(this[FLOWING]&&this[DATALISTENERS]===0&&(this[FLOWING]=!1),this[PIPES]=[]):this[PIPES].splice(this[PIPES].indexOf(p),1),p.unpipe())}addListener(ev,handler){return this.on(ev,handler)}on(ev,handler){let ret=super.on(ev,handler);if(ev==="data")this[DISCARDED]=!1,this[DATALISTENERS]++,!this[PIPES].length&&!this[FLOWING]&&this[RESUME]();else if(ev==="readable"&&this[BUFFERLENGTH]!==0)super.emit("readable");else if(isEndish(ev)&&this[EMITTED_END])super.emit(ev),this.removeAllListeners(ev);else if(ev==="error"&&this[EMITTED_ERROR]){let h=handler;this[ASYNC]?defer(()=>h.call(this,this[EMITTED_ERROR])):h.call(this,this[EMITTED_ERROR])}return ret}removeListener(ev,handler){return this.off(ev,handler)}off(ev,handler){let ret=super.off(ev,handler);return ev==="data"&&(this[DATALISTENERS]=this.listeners("data").length,this[DATALISTENERS]===0&&!this[DISCARDED]&&!this[PIPES].length&&(this[FLOWING]=!1)),ret}removeAllListeners(ev){let ret=super.removeAllListeners(ev);return(ev==="data"||ev===void 0)&&(this[DATALISTENERS]=0,!this[DISCARDED]&&!this[PIPES].length&&(this[FLOWING]=!1)),ret}get emittedEnd(){return this[EMITTED_END]}[MAYBE_EMIT_END](){!this[EMITTING_END]&&!this[EMITTED_END]&&!this[DESTROYED]&&this[BUFFER].length===0&&this[EOF]&&(this[EMITTING_END]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[CLOSED]&&this.emit("close"),this[EMITTING_END]=!1)}emit(ev,...args){let data=args[0];if(ev!=="error"&&ev!=="close"&&ev!==DESTROYED&&this[DESTROYED])return!1;if(ev==="data")return!this[OBJECTMODE]&&!data?!1:this[ASYNC]?(defer(()=>this[EMITDATA](data)),!0):this[EMITDATA](data);if(ev==="end")return this[EMITEND]();if(ev==="close"){if(this[CLOSED]=!0,!this[EMITTED_END]&&!this[DESTROYED])return!1;let ret2=super.emit("close");return this.removeAllListeners("close"),ret2}else if(ev==="error"){this[EMITTED_ERROR]=data,super.emit(ERROR,data);let ret2=!this[SIGNAL]||this.listeners("error").length?super.emit("error",data):!1;return this[MAYBE_EMIT_END](),ret2}else if(ev==="resume"){let ret2=super.emit("resume");return this[MAYBE_EMIT_END](),ret2}else if(ev==="finish"||ev==="prefinish"){let ret2=super.emit(ev);return this.removeAllListeners(ev),ret2}let ret=super.emit(ev,...args);return this[MAYBE_EMIT_END](),ret}[EMITDATA](data){for(let p of this[PIPES])p.dest.write(data)===!1&&this.pause();let ret=this[DISCARDED]?!1:super.emit("data",data);return this[MAYBE_EMIT_END](),ret}[EMITEND](){return this[EMITTED_END]?!1:(this[EMITTED_END]=!0,this.readable=!1,this[ASYNC]?(defer(()=>this[EMITEND2]()),!0):this[EMITEND2]())}[EMITEND2](){if(this[DECODER]){let data=this[DECODER].end();if(data){for(let p of this[PIPES])p.dest.write(data);this[DISCARDED]||super.emit("data",data)}}for(let p of this[PIPES])p.end();let ret=super.emit("end");return this.removeAllListeners("end"),ret}async collect(){let buf=Object.assign([],{dataLength:0});this[OBJECTMODE]||(buf.dataLength=0);let p=this.promise();return this.on("data",c=>{buf.push(c),this[OBJECTMODE]||(buf.dataLength+=c.length)}),await p,buf}async concat(){if(this[OBJECTMODE])throw new Error("cannot concat in objectMode");let buf=await this.collect();return this[ENCODING]?buf.join(""):Buffer.concat(buf,buf.dataLength)}async promise(){return new Promise((resolve,reject)=>{this.on(DESTROYED,()=>reject(new Error("stream destroyed"))),this.on("error",er=>reject(er)),this.on("end",()=>resolve())})}[Symbol.asyncIterator](){this[DISCARDED]=!1;let stopped=!1,stop=async()=>(this.pause(),stopped=!0,{value:void 0,done:!0});return{next:()=>{if(stopped)return stop();let res=this.read();if(res!==null)return Promise.resolve({done:!1,value:res});if(this[EOF])return stop();let resolve,reject,onerr=er=>{this.off("data",ondata),this.off("end",onend),this.off(DESTROYED,ondestroy),stop(),reject(er)},ondata=value=>{this.off("error",onerr),this.off("end",onend),this.off(DESTROYED,ondestroy),this.pause(),resolve({value,done:!!this[EOF]})},onend=()=>{this.off("error",onerr),this.off("data",ondata),this.off(DESTROYED,ondestroy),stop(),resolve({done:!0,value:void 0})},ondestroy=()=>onerr(new Error("stream destroyed"));return new Promise((res2,rej)=>{reject=rej,resolve=res2,this.once(DESTROYED,ondestroy),this.once("error",onerr),this.once("end",onend),this.once("data",ondata)})},throw:stop,return:stop,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[DISCARDED]=!1;let stopped=!1,stop=()=>(this.pause(),this.off(ERROR,stop),this.off(DESTROYED,stop),this.off("end",stop),stopped=!0,{done:!0,value:void 0}),next=()=>{if(stopped)return stop();let value=this.read();return value===null?stop():{done:!1,value}};return this.once("end",stop),this.once(ERROR,stop),this.once(DESTROYED,stop),{next,throw:stop,return:stop,[Symbol.iterator](){return this}}}destroy(er){if(this[DESTROYED])return er?this.emit("error",er):this.emit(DESTROYED),this;this[DESTROYED]=!0,this[DISCARDED]=!0,this[BUFFER].length=0,this[BUFFERLENGTH]=0;let wc=this;return typeof wc.close=="function"&&!this[CLOSED]&&wc.close(),er?this.emit("error",er):this.emit(DESTROYED),this}static get isStream(){return exports2.isStream}};exports2.Minipass=Minipass}});var require_commonjs6=__commonJS({"../../../../node_modules/path-scurry/dist/commonjs/index.js"(exports2){"use strict";var __createBinding2=exports2&&exports2.__createBinding||(Object.create?(function(o,m,k,k2){k2===void 0&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))&&(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}):(function(o,m,k,k2){k2===void 0&&(k2=k),o[k2]=m[k]})),__setModuleDefault2=exports2&&exports2.__setModuleDefault||(Object.create?(function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}):function(o,v){o.default=v}),__importStar2=exports2&&exports2.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)k!=="default"&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding2(result,mod,k);return __setModuleDefault2(result,mod),result};Object.defineProperty(exports2,"__esModule",{value:!0});exports2.PathScurry=exports2.Path=exports2.PathScurryDarwin=exports2.PathScurryPosix=exports2.PathScurryWin32=exports2.PathScurryBase=exports2.PathPosix=exports2.PathWin32=exports2.PathBase=exports2.ChildrenCache=exports2.ResolveCache=void 0;var lru_cache_1=require_commonjs4(),node_path_1=require("node:path"),node_url_1=require("node:url"),fs_1=require("fs"),actualFS=__importStar2(require("node:fs")),realpathSync=fs_1.realpathSync.native,promises_1=require("node:fs/promises"),minipass_1=require_commonjs5(),defaultFS={lstatSync:fs_1.lstatSync,readdir:fs_1.readdir,readdirSync:fs_1.readdirSync,readlinkSync:fs_1.readlinkSync,realpathSync,promises:{lstat:promises_1.lstat,readdir:promises_1.readdir,readlink:promises_1.readlink,realpath:promises_1.realpath}},fsFromOption=fsOption=>!fsOption||fsOption===defaultFS||fsOption===actualFS?defaultFS:{...defaultFS,...fsOption,promises:{...defaultFS.promises,...fsOption.promises||{}}},uncDriveRegexp=/^\\\\\?\\([a-z]:)\\?$/i,uncToDrive=rootPath=>rootPath.replace(/\//g,"\\").replace(uncDriveRegexp,"$1\\"),eitherSep=/[\\\/]/,UNKNOWN=0,IFIFO=1,IFCHR=2,IFDIR=4,IFBLK=6,IFREG=8,IFLNK=10,IFSOCK=12,IFMT=15,IFMT_UNKNOWN=~IFMT,READDIR_CALLED=16,LSTAT_CALLED=32,ENOTDIR=64,ENOENT=128,ENOREADLINK=256,ENOREALPATH=512,ENOCHILD=ENOTDIR|ENOENT|ENOREALPATH,TYPEMASK=1023,entToType=s=>s.isFile()?IFREG:s.isDirectory()?IFDIR:s.isSymbolicLink()?IFLNK:s.isCharacterDevice()?IFCHR:s.isBlockDevice()?IFBLK:s.isSocket()?IFSOCK:s.isFIFO()?IFIFO:UNKNOWN,normalizeCache=new Map,normalize4=s=>{let c=normalizeCache.get(s);if(c)return c;let n=s.normalize("NFKD");return normalizeCache.set(s,n),n},normalizeNocaseCache=new Map,normalizeNocase=s=>{let c=normalizeNocaseCache.get(s);if(c)return c;let n=normalize4(s.toLowerCase());return normalizeNocaseCache.set(s,n),n},ResolveCache=class extends lru_cache_1.LRUCache{constructor(){super({max:256})}};exports2.ResolveCache=ResolveCache;var ChildrenCache=class extends lru_cache_1.LRUCache{constructor(maxSize=16*1024){super({maxSize,sizeCalculation:a=>a.length+1})}};exports2.ChildrenCache=ChildrenCache;var setAsCwd=Symbol("PathScurry setAsCwd"),PathBase=class{name;root;roots;parent;nocase;isCWD=!1;#fs;#dev;get dev(){return this.#dev}#mode;get mode(){return this.#mode}#nlink;get nlink(){return this.#nlink}#uid;get uid(){return this.#uid}#gid;get gid(){return this.#gid}#rdev;get rdev(){return this.#rdev}#blksize;get blksize(){return this.#blksize}#ino;get ino(){return this.#ino}#size;get size(){return this.#size}#blocks;get blocks(){return this.#blocks}#atimeMs;get atimeMs(){return this.#atimeMs}#mtimeMs;get mtimeMs(){return this.#mtimeMs}#ctimeMs;get ctimeMs(){return this.#ctimeMs}#birthtimeMs;get birthtimeMs(){return this.#birthtimeMs}#atime;get atime(){return this.#atime}#mtime;get mtime(){return this.#mtime}#ctime;get ctime(){return this.#ctime}#birthtime;get birthtime(){return this.#birthtime}#matchName;#depth;#fullpath;#fullpathPosix;#relative;#relativePosix;#type;#children;#linkTarget;#realpath;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(name,type=UNKNOWN,root,roots,nocase,children,opts){this.name=name,this.#matchName=nocase?normalizeNocase(name):normalize4(name),this.#type=type&TYPEMASK,this.nocase=nocase,this.roots=roots,this.root=root||this,this.#children=children,this.#fullpath=opts.fullpath,this.#relative=opts.relative,this.#relativePosix=opts.relativePosix,this.parent=opts.parent,this.parent?this.#fs=this.parent.#fs:this.#fs=fsFromOption(opts.fs)}depth(){return this.#depth!==void 0?this.#depth:this.parent?this.#depth=this.parent.depth()+1:this.#depth=0}childrenCache(){return this.#children}resolve(path5){if(!path5)return this;let rootPath=this.getRootString(path5),dirParts=path5.substring(rootPath.length).split(this.splitSep);return rootPath?this.getRoot(rootPath).#resolveParts(dirParts):this.#resolveParts(dirParts)}#resolveParts(dirParts){let p=this;for(let part of dirParts)p=p.child(part);return p}children(){let cached=this.#children.get(this);if(cached)return cached;let children=Object.assign([],{provisional:0});return this.#children.set(this,children),this.#type&=~READDIR_CALLED,children}child(pathPart,opts){if(pathPart===""||pathPart===".")return this;if(pathPart==="..")return this.parent||this;let children=this.children(),name=this.nocase?normalizeNocase(pathPart):normalize4(pathPart);for(let p of children)if(p.#matchName===name)return p;let s=this.parent?this.sep:"",fullpath=this.#fullpath?this.#fullpath+s+pathPart:void 0,pchild=this.newChild(pathPart,UNKNOWN,{...opts,parent:this,fullpath});return this.canReaddir()||(pchild.#type|=ENOENT),children.push(pchild),pchild}relative(){if(this.isCWD)return"";if(this.#relative!==void 0)return this.#relative;let name=this.name,p=this.parent;if(!p)return this.#relative=this.name;let pv=p.relative();return pv+(!pv||!p.parent?"":this.sep)+name}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(this.#relativePosix!==void 0)return this.#relativePosix;let name=this.name,p=this.parent;if(!p)return this.#relativePosix=this.fullpathPosix();let pv=p.relativePosix();return pv+(!pv||!p.parent?"":"/")+name}fullpath(){if(this.#fullpath!==void 0)return this.#fullpath;let name=this.name,p=this.parent;if(!p)return this.#fullpath=this.name;let fp=p.fullpath()+(p.parent?this.sep:"")+name;return this.#fullpath=fp}fullpathPosix(){if(this.#fullpathPosix!==void 0)return this.#fullpathPosix;if(this.sep==="/")return this.#fullpathPosix=this.fullpath();if(!this.parent){let p2=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(p2)?this.#fullpathPosix=`//?/${p2}`:this.#fullpathPosix=p2}let p=this.parent,pfpp=p.fullpathPosix(),fpp=pfpp+(!pfpp||!p.parent?"":"/")+this.name;return this.#fullpathPosix=fpp}isUnknown(){return(this.#type&IFMT)===UNKNOWN}isType(type){return this[`is${type}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#type&IFMT)===IFREG}isDirectory(){return(this.#type&IFMT)===IFDIR}isCharacterDevice(){return(this.#type&IFMT)===IFCHR}isBlockDevice(){return(this.#type&IFMT)===IFBLK}isFIFO(){return(this.#type&IFMT)===IFIFO}isSocket(){return(this.#type&IFMT)===IFSOCK}isSymbolicLink(){return(this.#type&IFLNK)===IFLNK}lstatCached(){return this.#type&LSTAT_CALLED?this:void 0}readlinkCached(){return this.#linkTarget}realpathCached(){return this.#realpath}readdirCached(){let children=this.children();return children.slice(0,children.provisional)}canReadlink(){if(this.#linkTarget)return!0;if(!this.parent)return!1;let ifmt=this.#type&IFMT;return!(ifmt!==UNKNOWN&&ifmt!==IFLNK||this.#type&ENOREADLINK||this.#type&ENOENT)}calledReaddir(){return!!(this.#type&READDIR_CALLED)}isENOENT(){return!!(this.#type&ENOENT)}isNamed(n){return this.nocase?this.#matchName===normalizeNocase(n):this.#matchName===normalize4(n)}async readlink(){let target=this.#linkTarget;if(target)return target;if(this.canReadlink()&&this.parent)try{let read=await this.#fs.promises.readlink(this.fullpath()),linkTarget=(await this.parent.realpath())?.resolve(read);if(linkTarget)return this.#linkTarget=linkTarget}catch(er){this.#readlinkFail(er.code);return}}readlinkSync(){let target=this.#linkTarget;if(target)return target;if(this.canReadlink()&&this.parent)try{let read=this.#fs.readlinkSync(this.fullpath()),linkTarget=this.parent.realpathSync()?.resolve(read);if(linkTarget)return this.#linkTarget=linkTarget}catch(er){this.#readlinkFail(er.code);return}}#readdirSuccess(children){this.#type|=READDIR_CALLED;for(let p=children.provisional;p<children.length;p++){let c=children[p];c&&c.#markENOENT()}}#markENOENT(){this.#type&ENOENT||(this.#type=(this.#type|ENOENT)&IFMT_UNKNOWN,this.#markChildrenENOENT())}#markChildrenENOENT(){let children=this.children();children.provisional=0;for(let p of children)p.#markENOENT()}#markENOREALPATH(){this.#type|=ENOREALPATH,this.#markENOTDIR()}#markENOTDIR(){if(this.#type&ENOTDIR)return;let t=this.#type;(t&IFMT)===IFDIR&&(t&=IFMT_UNKNOWN),this.#type=t|ENOTDIR,this.#markChildrenENOENT()}#readdirFail(code2=""){code2==="ENOTDIR"||code2==="EPERM"?this.#markENOTDIR():code2==="ENOENT"?this.#markENOENT():this.children().provisional=0}#lstatFail(code2=""){code2==="ENOTDIR"?this.parent.#markENOTDIR():code2==="ENOENT"&&this.#markENOENT()}#readlinkFail(code2=""){let ter=this.#type;ter|=ENOREADLINK,code2==="ENOENT"&&(ter|=ENOENT),(code2==="EINVAL"||code2==="UNKNOWN")&&(ter&=IFMT_UNKNOWN),this.#type=ter,code2==="ENOTDIR"&&this.parent&&this.parent.#markENOTDIR()}#readdirAddChild(e,c){return this.#readdirMaybePromoteChild(e,c)||this.#readdirAddNewChild(e,c)}#readdirAddNewChild(e,c){let type=entToType(e),child=this.newChild(e.name,type,{parent:this}),ifmt=child.#type&IFMT;return ifmt!==IFDIR&&ifmt!==IFLNK&&ifmt!==UNKNOWN&&(child.#type|=ENOTDIR),c.unshift(child),c.provisional++,child}#readdirMaybePromoteChild(e,c){for(let p=c.provisional;p<c.length;p++){let pchild=c[p];if((this.nocase?normalizeNocase(e.name):normalize4(e.name))===pchild.#matchName)return this.#readdirPromoteChild(e,pchild,p,c)}}#readdirPromoteChild(e,p,index2,c){let v=p.name;return p.#type=p.#type&IFMT_UNKNOWN|entToType(e),v!==e.name&&(p.name=e.name),index2!==c.provisional&&(index2===c.length-1?c.pop():c.splice(index2,1),c.unshift(p)),c.provisional++,p}async lstat(){if((this.#type&ENOENT)===0)try{return this.#applyStat(await this.#fs.promises.lstat(this.fullpath())),this}catch(er){this.#lstatFail(er.code)}}lstatSync(){if((this.#type&ENOENT)===0)try{return this.#applyStat(this.#fs.lstatSync(this.fullpath())),this}catch(er){this.#lstatFail(er.code)}}#applyStat(st){let{atime,atimeMs,birthtime,birthtimeMs,blksize,blocks,ctime,ctimeMs,dev,gid,ino,mode,mtime,mtimeMs,nlink,rdev,size,uid}=st;this.#atime=atime,this.#atimeMs=atimeMs,this.#birthtime=birthtime,this.#birthtimeMs=birthtimeMs,this.#blksize=blksize,this.#blocks=blocks,this.#ctime=ctime,this.#ctimeMs=ctimeMs,this.#dev=dev,this.#gid=gid,this.#ino=ino,this.#mode=mode,this.#mtime=mtime,this.#mtimeMs=mtimeMs,this.#nlink=nlink,this.#rdev=rdev,this.#size=size,this.#uid=uid;let ifmt=entToType(st);this.#type=this.#type&IFMT_UNKNOWN|ifmt|LSTAT_CALLED,ifmt!==UNKNOWN&&ifmt!==IFDIR&&ifmt!==IFLNK&&(this.#type|=ENOTDIR)}#onReaddirCB=[];#readdirCBInFlight=!1;#callOnReaddirCB(children){this.#readdirCBInFlight=!1;let cbs=this.#onReaddirCB.slice();this.#onReaddirCB.length=0,cbs.forEach(cb=>cb(null,children))}readdirCB(cb,allowZalgo=!1){if(!this.canReaddir()){allowZalgo?cb(null,[]):queueMicrotask(()=>cb(null,[]));return}let children=this.children();if(this.calledReaddir()){let c=children.slice(0,children.provisional);allowZalgo?cb(null,c):queueMicrotask(()=>cb(null,c));return}if(this.#onReaddirCB.push(cb),this.#readdirCBInFlight)return;this.#readdirCBInFlight=!0;let fullpath=this.fullpath();this.#fs.readdir(fullpath,{withFileTypes:!0},(er,entries)=>{if(er)this.#readdirFail(er.code),children.provisional=0;else{for(let e of entries)this.#readdirAddChild(e,children);this.#readdirSuccess(children)}this.#callOnReaddirCB(children.slice(0,children.provisional))})}#asyncReaddirInFlight;async readdir(){if(!this.canReaddir())return[];let children=this.children();if(this.calledReaddir())return children.slice(0,children.provisional);let fullpath=this.fullpath();if(this.#asyncReaddirInFlight)await this.#asyncReaddirInFlight;else{let resolve=()=>{};this.#asyncReaddirInFlight=new Promise(res=>resolve=res);try{for(let e of await this.#fs.promises.readdir(fullpath,{withFileTypes:!0}))this.#readdirAddChild(e,children);this.#readdirSuccess(children)}catch(er){this.#readdirFail(er.code),children.provisional=0}this.#asyncReaddirInFlight=void 0,resolve()}return children.slice(0,children.provisional)}readdirSync(){if(!this.canReaddir())return[];let children=this.children();if(this.calledReaddir())return children.slice(0,children.provisional);let fullpath=this.fullpath();try{for(let e of this.#fs.readdirSync(fullpath,{withFileTypes:!0}))this.#readdirAddChild(e,children);this.#readdirSuccess(children)}catch(er){this.#readdirFail(er.code),children.provisional=0}return children.slice(0,children.provisional)}canReaddir(){if(this.#type&ENOCHILD)return!1;let ifmt=IFMT&this.#type;return ifmt===UNKNOWN||ifmt===IFDIR||ifmt===IFLNK}shouldWalk(dirs,walkFilter){return(this.#type&IFDIR)===IFDIR&&!(this.#type&ENOCHILD)&&!dirs.has(this)&&(!walkFilter||walkFilter(this))}async realpath(){if(this.#realpath)return this.#realpath;if(!((ENOREALPATH|ENOREADLINK|ENOENT)&this.#type))try{let rp=await this.#fs.promises.realpath(this.fullpath());return this.#realpath=this.resolve(rp)}catch{this.#markENOREALPATH()}}realpathSync(){if(this.#realpath)return this.#realpath;if(!((ENOREALPATH|ENOREADLINK|ENOENT)&this.#type))try{let rp=this.#fs.realpathSync(this.fullpath());return this.#realpath=this.resolve(rp)}catch{this.#markENOREALPATH()}}[setAsCwd](oldCwd){if(oldCwd===this)return;oldCwd.isCWD=!1,this.isCWD=!0;let changed=new Set([]),rp=[],p=this;for(;p&&p.parent;)changed.add(p),p.#relative=rp.join(this.sep),p.#relativePosix=rp.join("/"),p=p.parent,rp.push("..");for(p=oldCwd;p&&p.parent&&!changed.has(p);)p.#relative=void 0,p.#relativePosix=void 0,p=p.parent}};exports2.PathBase=PathBase;var PathWin32=class _PathWin32 extends PathBase{sep="\\";splitSep=eitherSep;constructor(name,type=UNKNOWN,root,roots,nocase,children,opts){super(name,type,root,roots,nocase,children,opts)}newChild(name,type=UNKNOWN,opts={}){return new _PathWin32(name,type,this.root,this.roots,this.nocase,this.childrenCache(),opts)}getRootString(path5){return node_path_1.win32.parse(path5).root}getRoot(rootPath){if(rootPath=uncToDrive(rootPath.toUpperCase()),rootPath===this.root.name)return this.root;for(let[compare,root]of Object.entries(this.roots))if(this.sameRoot(rootPath,compare))return this.roots[rootPath]=root;return this.roots[rootPath]=new PathScurryWin32(rootPath,this).root}sameRoot(rootPath,compare=this.root.name){return rootPath=rootPath.toUpperCase().replace(/\//g,"\\").replace(uncDriveRegexp,"$1\\"),rootPath===compare}};exports2.PathWin32=PathWin32;var PathPosix=class _PathPosix extends PathBase{splitSep="/";sep="/";constructor(name,type=UNKNOWN,root,roots,nocase,children,opts){super(name,type,root,roots,nocase,children,opts)}getRootString(path5){return path5.startsWith("/")?"/":""}getRoot(_rootPath){return this.root}newChild(name,type=UNKNOWN,opts={}){return new _PathPosix(name,type,this.root,this.roots,this.nocase,this.childrenCache(),opts)}};exports2.PathPosix=PathPosix;var PathScurryBase=class{root;rootPath;roots;cwd;#resolveCache;#resolvePosixCache;#children;nocase;#fs;constructor(cwd=process.cwd(),pathImpl,sep,{nocase,childrenCacheSize=16*1024,fs:fs3=defaultFS}={}){this.#fs=fsFromOption(fs3),(cwd instanceof URL||cwd.startsWith("file://"))&&(cwd=(0,node_url_1.fileURLToPath)(cwd));let cwdPath=pathImpl.resolve(cwd);this.roots=Object.create(null),this.rootPath=this.parseRootPath(cwdPath),this.#resolveCache=new ResolveCache,this.#resolvePosixCache=new ResolveCache,this.#children=new ChildrenCache(childrenCacheSize);let split=cwdPath.substring(this.rootPath.length).split(sep);if(split.length===1&&!split[0]&&split.pop(),nocase===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=nocase,this.root=this.newRoot(this.#fs),this.roots[this.rootPath]=this.root;let prev=this.root,len=split.length-1,joinSep=pathImpl.sep,abs=this.rootPath,sawFirst=!1;for(let part of split){let l=len--;prev=prev.child(part,{relative:new Array(l).fill("..").join(joinSep),relativePosix:new Array(l).fill("..").join("/"),fullpath:abs+=(sawFirst?"":joinSep)+part}),sawFirst=!0}this.cwd=prev}depth(path5=this.cwd){return typeof path5=="string"&&(path5=this.cwd.resolve(path5)),path5.depth()}childrenCache(){return this.#children}resolve(...paths){let r="";for(let i=paths.length-1;i>=0;i--){let p=paths[i];if(!(!p||p===".")&&(r=r?`${p}/${r}`:p,this.isAbsolute(p)))break}let cached=this.#resolveCache.get(r);if(cached!==void 0)return cached;let result=this.cwd.resolve(r).fullpath();return this.#resolveCache.set(r,result),result}resolvePosix(...paths){let r="";for(let i=paths.length-1;i>=0;i--){let p=paths[i];if(!(!p||p===".")&&(r=r?`${p}/${r}`:p,this.isAbsolute(p)))break}let cached=this.#resolvePosixCache.get(r);if(cached!==void 0)return cached;let result=this.cwd.resolve(r).fullpathPosix();return this.#resolvePosixCache.set(r,result),result}relative(entry=this.cwd){return typeof entry=="string"&&(entry=this.cwd.resolve(entry)),entry.relative()}relativePosix(entry=this.cwd){return typeof entry=="string"&&(entry=this.cwd.resolve(entry)),entry.relativePosix()}basename(entry=this.cwd){return typeof entry=="string"&&(entry=this.cwd.resolve(entry)),entry.name}dirname(entry=this.cwd){return typeof entry=="string"&&(entry=this.cwd.resolve(entry)),(entry.parent||entry).fullpath()}async readdir(entry=this.cwd,opts={withFileTypes:!0}){typeof entry=="string"?entry=this.cwd.resolve(entry):entry instanceof PathBase||(opts=entry,entry=this.cwd);let{withFileTypes}=opts;if(entry.canReaddir()){let p=await entry.readdir();return withFileTypes?p:p.map(e=>e.name)}else return[]}readdirSync(entry=this.cwd,opts={withFileTypes:!0}){typeof entry=="string"?entry=this.cwd.resolve(entry):entry instanceof PathBase||(opts=entry,entry=this.cwd);let{withFileTypes=!0}=opts;return entry.canReaddir()?withFileTypes?entry.readdirSync():entry.readdirSync().map(e=>e.name):[]}async lstat(entry=this.cwd){return typeof entry=="string"&&(entry=this.cwd.resolve(entry)),entry.lstat()}lstatSync(entry=this.cwd){return typeof entry=="string"&&(entry=this.cwd.resolve(entry)),entry.lstatSync()}async readlink(entry=this.cwd,{withFileTypes}={withFileTypes:!1}){typeof entry=="string"?entry=this.cwd.resolve(entry):entry instanceof PathBase||(withFileTypes=entry.withFileTypes,entry=this.cwd);let e=await entry.readlink();return withFileTypes?e:e?.fullpath()}readlinkSync(entry=this.cwd,{withFileTypes}={withFileTypes:!1}){typeof entry=="string"?entry=this.cwd.resolve(entry):entry instanceof PathBase||(withFileTypes=entry.withFileTypes,entry=this.cwd);let e=entry.readlinkSync();return withFileTypes?e:e?.fullpath()}async realpath(entry=this.cwd,{withFileTypes}={withFileTypes:!1}){typeof entry=="string"?entry=this.cwd.resolve(entry):entry instanceof PathBase||(withFileTypes=entry.withFileTypes,entry=this.cwd);let e=await entry.realpath();return withFileTypes?e:e?.fullpath()}realpathSync(entry=this.cwd,{withFileTypes}={withFileTypes:!1}){typeof entry=="string"?entry=this.cwd.resolve(entry):entry instanceof PathBase||(withFileTypes=entry.withFileTypes,entry=this.cwd);let e=entry.realpathSync();return withFileTypes?e:e?.fullpath()}async walk(entry=this.cwd,opts={}){typeof entry=="string"?entry=this.cwd.resolve(entry):entry instanceof PathBase||(opts=entry,entry=this.cwd);let{withFileTypes=!0,follow=!1,filter,walkFilter}=opts,results=[];(!filter||filter(entry))&&results.push(withFileTypes?entry:entry.fullpath());let dirs=new Set,walk=(dir,cb)=>{dirs.add(dir),dir.readdirCB((er,entries)=>{if(er)return cb(er);let len=entries.length;if(!len)return cb();let next=()=>{--len===0&&cb()};for(let e of entries)(!filter||filter(e))&&results.push(withFileTypes?e:e.fullpath()),follow&&e.isSymbolicLink()?e.realpath().then(r=>r?.isUnknown()?r.lstat():r).then(r=>r?.shouldWalk(dirs,walkFilter)?walk(r,next):next()):e.shouldWalk(dirs,walkFilter)?walk(e,next):next()},!0)},start=entry;return new Promise((res,rej)=>{walk(start,er=>{if(er)return rej(er);res(results)})})}walkSync(entry=this.cwd,opts={}){typeof entry=="string"?entry=this.cwd.resolve(entry):entry instanceof PathBase||(opts=entry,entry=this.cwd);let{withFileTypes=!0,follow=!1,filter,walkFilter}=opts,results=[];(!filter||filter(entry))&&results.push(withFileTypes?entry:entry.fullpath());let dirs=new Set([entry]);for(let dir of dirs){let entries=dir.readdirSync();for(let e of entries){(!filter||filter(e))&&results.push(withFileTypes?e:e.fullpath());let r=e;if(e.isSymbolicLink()){if(!(follow&&(r=e.realpathSync())))continue;r.isUnknown()&&r.lstatSync()}r.shouldWalk(dirs,walkFilter)&&dirs.add(r)}}return results}[Symbol.asyncIterator](){return this.iterate()}iterate(entry=this.cwd,options2={}){return typeof entry=="string"?entry=this.cwd.resolve(entry):entry instanceof PathBase||(options2=entry,entry=this.cwd),this.stream(entry,options2)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(entry=this.cwd,opts={}){typeof entry=="string"?entry=this.cwd.resolve(entry):entry instanceof PathBase||(opts=entry,entry=this.cwd);let{withFileTypes=!0,follow=!1,filter,walkFilter}=opts;(!filter||filter(entry))&&(yield withFileTypes?entry:entry.fullpath());let dirs=new Set([entry]);for(let dir of dirs){let entries=dir.readdirSync();for(let e of entries){(!filter||filter(e))&&(yield withFileTypes?e:e.fullpath());let r=e;if(e.isSymbolicLink()){if(!(follow&&(r=e.realpathSync())))continue;r.isUnknown()&&r.lstatSync()}r.shouldWalk(dirs,walkFilter)&&dirs.add(r)}}}stream(entry=this.cwd,opts={}){typeof entry=="string"?entry=this.cwd.resolve(entry):entry instanceof PathBase||(opts=entry,entry=this.cwd);let{withFileTypes=!0,follow=!1,filter,walkFilter}=opts,results=new minipass_1.Minipass({objectMode:!0});(!filter||filter(entry))&&results.write(withFileTypes?entry:entry.fullpath());let dirs=new Set,queue=[entry],processing2=0,process4=()=>{let paused=!1;for(;!paused;){let dir=queue.shift();if(!dir){processing2===0&&results.end();return}processing2++,dirs.add(dir);let onReaddir=(er,entries,didRealpaths=!1)=>{if(er)return results.emit("error",er);if(follow&&!didRealpaths){let promises=[];for(let e of entries)e.isSymbolicLink()&&promises.push(e.realpath().then(r=>r?.isUnknown()?r.lstat():r));if(promises.length){Promise.all(promises).then(()=>onReaddir(null,entries,!0));return}}for(let e of entries)e&&(!filter||filter(e))&&(results.write(withFileTypes?e:e.fullpath())||(paused=!0));processing2--;for(let e of entries){let r=e.realpathCached()||e;r.shouldWalk(dirs,walkFilter)&&queue.push(r)}paused&&!results.flowing?results.once("drain",process4):sync||process4()},sync=!0;dir.readdirCB(onReaddir,!0),sync=!1}};return process4(),results}streamSync(entry=this.cwd,opts={}){typeof entry=="string"?entry=this.cwd.resolve(entry):entry instanceof PathBase||(opts=entry,entry=this.cwd);let{withFileTypes=!0,follow=!1,filter,walkFilter}=opts,results=new minipass_1.Minipass({objectMode:!0}),dirs=new Set;(!filter||filter(entry))&&results.write(withFileTypes?entry:entry.fullpath());let queue=[entry],processing2=0,process4=()=>{let paused=!1;for(;!paused;){let dir=queue.shift();if(!dir){processing2===0&&results.end();return}processing2++,dirs.add(dir);let entries=dir.readdirSync();for(let e of entries)(!filter||filter(e))&&(results.write(withFileTypes?e:e.fullpath())||(paused=!0));processing2--;for(let e of entries){let r=e;if(e.isSymbolicLink()){if(!(follow&&(r=e.realpathSync())))continue;r.isUnknown()&&r.lstatSync()}r.shouldWalk(dirs,walkFilter)&&queue.push(r)}}paused&&!results.flowing&&results.once("drain",process4)};return process4(),results}chdir(path5=this.cwd){let oldCwd=this.cwd;this.cwd=typeof path5=="string"?this.cwd.resolve(path5):path5,this.cwd[setAsCwd](oldCwd)}};exports2.PathScurryBase=PathScurryBase;var PathScurryWin32=class extends PathScurryBase{sep="\\";constructor(cwd=process.cwd(),opts={}){let{nocase=!0}=opts;super(cwd,node_path_1.win32,"\\",{...opts,nocase}),this.nocase=nocase;for(let p=this.cwd;p;p=p.parent)p.nocase=this.nocase}parseRootPath(dir){return node_path_1.win32.parse(dir).root.toUpperCase()}newRoot(fs3){return new PathWin32(this.rootPath,IFDIR,void 0,this.roots,this.nocase,this.childrenCache(),{fs:fs3})}isAbsolute(p){return p.startsWith("/")||p.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(p)}};exports2.PathScurryWin32=PathScurryWin32;var PathScurryPosix=class extends PathScurryBase{sep="/";constructor(cwd=process.cwd(),opts={}){let{nocase=!1}=opts;super(cwd,node_path_1.posix,"/",{...opts,nocase}),this.nocase=nocase}parseRootPath(_dir){return"/"}newRoot(fs3){return new PathPosix(this.rootPath,IFDIR,void 0,this.roots,this.nocase,this.childrenCache(),{fs:fs3})}isAbsolute(p){return p.startsWith("/")}};exports2.PathScurryPosix=PathScurryPosix;var PathScurryDarwin=class extends PathScurryPosix{constructor(cwd=process.cwd(),opts={}){let{nocase=!0}=opts;super(cwd,{...opts,nocase})}};exports2.PathScurryDarwin=PathScurryDarwin;exports2.Path=process.platform==="win32"?PathWin32:PathPosix;exports2.PathScurry=process.platform==="win32"?PathScurryWin32:process.platform==="darwin"?PathScurryDarwin:PathScurryPosix}});var require_pattern2=__commonJS({"../../../../node_modules/@fastify/static/node_modules/glob/dist/commonjs/pattern.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.Pattern=void 0;var minimatch_1=require_commonjs3(),isPatternList=pl=>pl.length>=1,isGlobList=gl=>gl.length>=1,Pattern=class _Pattern{#patternList;#globList;#index;length;#platform;#rest;#globString;#isDrive;#isUNC;#isAbsolute;#followGlobstar=!0;constructor(patternList,globList,index2,platform){if(!isPatternList(patternList))throw new TypeError("empty pattern list");if(!isGlobList(globList))throw new TypeError("empty glob list");if(globList.length!==patternList.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=patternList.length,index2<0||index2>=this.length)throw new TypeError("index out of range");if(this.#patternList=patternList,this.#globList=globList,this.#index=index2,this.#platform=platform,this.#index===0){if(this.isUNC()){let[p0,p1,p2,p3,...prest]=this.#patternList,[g0,g1,g2,g3,...grest]=this.#globList;prest[0]===""&&(prest.shift(),grest.shift());let p=[p0,p1,p2,p3,""].join("/"),g=[g0,g1,g2,g3,""].join("/");this.#patternList=[p,...prest],this.#globList=[g,...grest],this.length=this.#patternList.length}else if(this.isDrive()||this.isAbsolute()){let[p1,...prest]=this.#patternList,[g1,...grest]=this.#globList;prest[0]===""&&(prest.shift(),grest.shift());let p=p1+"/",g=g1+"/";this.#patternList=[p,...prest],this.#globList=[g,...grest],this.length=this.#patternList.length}}}pattern(){return this.#patternList[this.#index]}isString(){return typeof this.#patternList[this.#index]=="string"}isGlobstar(){return this.#patternList[this.#index]===minimatch_1.GLOBSTAR}isRegExp(){return this.#patternList[this.#index]instanceof RegExp}globString(){return this.#globString=this.#globString||(this.#index===0?this.isAbsolute()?this.#globList[0]+this.#globList.slice(1).join("/"):this.#globList.join("/"):this.#globList.slice(this.#index).join("/"))}hasMore(){return this.length>this.#index+1}rest(){return this.#rest!==void 0?this.#rest:this.hasMore()?(this.#rest=new _Pattern(this.#patternList,this.#globList,this.#index+1,this.#platform),this.#rest.#isAbsolute=this.#isAbsolute,this.#rest.#isUNC=this.#isUNC,this.#rest.#isDrive=this.#isDrive,this.#rest):this.#rest=null}isUNC(){let pl=this.#patternList;return this.#isUNC!==void 0?this.#isUNC:this.#isUNC=this.#platform==="win32"&&this.#index===0&&pl[0]===""&&pl[1]===""&&typeof pl[2]=="string"&&!!pl[2]&&typeof pl[3]=="string"&&!!pl[3]}isDrive(){let pl=this.#patternList;return this.#isDrive!==void 0?this.#isDrive:this.#isDrive=this.#platform==="win32"&&this.#index===0&&this.length>1&&typeof pl[0]=="string"&&/^[a-z]:$/i.test(pl[0])}isAbsolute(){let pl=this.#patternList;return this.#isAbsolute!==void 0?this.#isAbsolute:this.#isAbsolute=pl[0]===""&&pl.length>1||this.isDrive()||this.isUNC()}root(){let p=this.#patternList[0];return typeof p=="string"&&this.isAbsolute()&&this.#index===0?p:""}checkFollowGlobstar(){return!(this.#index===0||!this.isGlobstar()||!this.#followGlobstar)}markFollowGlobstar(){return this.#index===0||!this.isGlobstar()||!this.#followGlobstar?!1:(this.#followGlobstar=!1,!0)}};exports2.Pattern=Pattern}});var require_ignore=__commonJS({"../../../../node_modules/@fastify/static/node_modules/glob/dist/commonjs/ignore.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.Ignore=void 0;var minimatch_1=require_commonjs3(),pattern_js_1=require_pattern2(),defaultPlatform=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",Ignore=class{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(ignored,{nobrace,nocase,noext,noglobstar,platform=defaultPlatform}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=platform,this.mmopts={dot:!0,nobrace,nocase,noext,noglobstar,optimizationLevel:2,platform,nocomment:!0,nonegate:!0};for(let ign of ignored)this.add(ign)}add(ign){let mm=new minimatch_1.Minimatch(ign,this.mmopts);for(let i=0;i<mm.set.length;i++){let parsed=mm.set[i],globParts=mm.globParts[i];if(!parsed||!globParts)throw new Error("invalid pattern object");for(;parsed[0]==="."&&globParts[0]===".";)parsed.shift(),globParts.shift();let p=new pattern_js_1.Pattern(parsed,globParts,0,this.platform),m=new minimatch_1.Minimatch(p.globString(),this.mmopts),children=globParts[globParts.length-1]==="**",absolute=p.isAbsolute();absolute?this.absolute.push(m):this.relative.push(m),children&&(absolute?this.absoluteChildren.push(m):this.relativeChildren.push(m))}}ignored(p){let fullpath=p.fullpath(),fullpaths=`${fullpath}/`,relative=p.relative()||".",relatives=`${relative}/`;for(let m of this.relative)if(m.match(relative)||m.match(relatives))return!0;for(let m of this.absolute)if(m.match(fullpath)||m.match(fullpaths))return!0;return!1}childrenIgnored(p){let fullpath=p.fullpath()+"/",relative=(p.relative()||".")+"/";for(let m of this.relativeChildren)if(m.match(relative))return!0;for(let m of this.absoluteChildren)if(m.match(fullpath))return!0;return!1}};exports2.Ignore=Ignore}});var require_processor=__commonJS({"../../../../node_modules/@fastify/static/node_modules/glob/dist/commonjs/processor.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.Processor=exports2.SubWalks=exports2.MatchRecord=exports2.HasWalkedCache=void 0;var minimatch_1=require_commonjs3(),HasWalkedCache=class _HasWalkedCache{store;constructor(store=new Map){this.store=store}copy(){return new _HasWalkedCache(new Map(this.store))}hasWalked(target,pattern){return this.store.get(target.fullpath())?.has(pattern.globString())}storeWalked(target,pattern){let fullpath=target.fullpath(),cached=this.store.get(fullpath);cached?cached.add(pattern.globString()):this.store.set(fullpath,new Set([pattern.globString()]))}};exports2.HasWalkedCache=HasWalkedCache;var MatchRecord=class{store=new Map;add(target,absolute,ifDir){let n=(absolute?2:0)|(ifDir?1:0),current=this.store.get(target);this.store.set(target,current===void 0?n:n&current)}entries(){return[...this.store.entries()].map(([path5,n])=>[path5,!!(n&2),!!(n&1)])}};exports2.MatchRecord=MatchRecord;var SubWalks=class{store=new Map;add(target,pattern){if(!target.canReaddir())return;let subs=this.store.get(target);subs?subs.find(p=>p.globString()===pattern.globString())||subs.push(pattern):this.store.set(target,[pattern])}get(target){let subs=this.store.get(target);if(!subs)throw new Error("attempting to walk unknown path");return subs}entries(){return this.keys().map(k=>[k,this.store.get(k)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}};exports2.SubWalks=SubWalks;var Processor=class _Processor{hasWalkedCache;matches=new MatchRecord;subwalks=new SubWalks;patterns;follow;dot;opts;constructor(opts,hasWalkedCache){this.opts=opts,this.follow=!!opts.follow,this.dot=!!opts.dot,this.hasWalkedCache=hasWalkedCache?hasWalkedCache.copy():new HasWalkedCache}processPatterns(target,patterns){this.patterns=patterns;let processingSet=patterns.map(p=>[target,p]);for(let[t,pattern]of processingSet){this.hasWalkedCache.storeWalked(t,pattern);let root=pattern.root(),absolute=pattern.isAbsolute()&&this.opts.absolute!==!1;if(root){t=t.resolve(root==="/"&&this.opts.root!==void 0?this.opts.root:root);let rest2=pattern.rest();if(rest2)pattern=rest2;else{this.matches.add(t,!0,!1);continue}}if(t.isENOENT())continue;let p,rest,changed=!1;for(;typeof(p=pattern.pattern())=="string"&&(rest=pattern.rest());)t=t.resolve(p),pattern=rest,changed=!0;if(p=pattern.pattern(),rest=pattern.rest(),changed){if(this.hasWalkedCache.hasWalked(t,pattern))continue;this.hasWalkedCache.storeWalked(t,pattern)}if(typeof p=="string"){let ifDir=p===".."||p===""||p===".";this.matches.add(t.resolve(p),absolute,ifDir);continue}else if(p===minimatch_1.GLOBSTAR){(!t.isSymbolicLink()||this.follow||pattern.checkFollowGlobstar())&&this.subwalks.add(t,pattern);let rp=rest?.pattern(),rrest=rest?.rest();if(!rest||(rp===""||rp===".")&&!rrest)this.matches.add(t,absolute,rp===""||rp===".");else if(rp===".."){let tp=t.parent||t;rrest?this.hasWalkedCache.hasWalked(tp,rrest)||this.subwalks.add(tp,rrest):this.matches.add(tp,absolute,!0)}}else p instanceof RegExp&&this.subwalks.add(t,pattern)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new _Processor(this.opts,this.hasWalkedCache)}filterEntries(parent,entries){let patterns=this.subwalks.get(parent),results=this.child();for(let e of entries)for(let pattern of patterns){let absolute=pattern.isAbsolute(),p=pattern.pattern(),rest=pattern.rest();p===minimatch_1.GLOBSTAR?results.testGlobstar(e,pattern,rest,absolute):p instanceof RegExp?results.testRegExp(e,p,rest,absolute):results.testString(e,p,rest,absolute)}return results}testGlobstar(e,pattern,rest,absolute){if((this.dot||!e.name.startsWith("."))&&(pattern.hasMore()||this.matches.add(e,absolute,!1),e.canReaddir()&&(this.follow||!e.isSymbolicLink()?this.subwalks.add(e,pattern):e.isSymbolicLink()&&(rest&&pattern.checkFollowGlobstar()?this.subwalks.add(e,rest):pattern.markFollowGlobstar()&&this.subwalks.add(e,pattern)))),rest){let rp=rest.pattern();if(typeof rp=="string"&&rp!==".."&&rp!==""&&rp!==".")this.testString(e,rp,rest.rest(),absolute);else if(rp===".."){let ep=e.parent||e;this.subwalks.add(ep,rest)}else rp instanceof RegExp&&this.testRegExp(e,rp,rest.rest(),absolute)}}testRegExp(e,p,rest,absolute){p.test(e.name)&&(rest?this.subwalks.add(e,rest):this.matches.add(e,absolute,!1))}testString(e,p,rest,absolute){e.isNamed(p)&&(rest?this.subwalks.add(e,rest):this.matches.add(e,absolute,!1))}};exports2.Processor=Processor}});var require_walker=__commonJS({"../../../../node_modules/@fastify/static/node_modules/glob/dist/commonjs/walker.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.GlobStream=exports2.GlobWalker=exports2.GlobUtil=void 0;var minipass_1=require_commonjs5(),ignore_js_1=require_ignore(),processor_js_1=require_processor(),makeIgnore=(ignore,opts)=>typeof ignore=="string"?new ignore_js_1.Ignore([ignore],opts):Array.isArray(ignore)?new ignore_js_1.Ignore(ignore,opts):ignore,GlobUtil=class{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#onResume=[];#ignore;#sep;signal;maxDepth;includeChildMatches;constructor(patterns,path5,opts){if(this.patterns=patterns,this.path=path5,this.opts=opts,this.#sep=!opts.posix&&opts.platform==="win32"?"\\":"/",this.includeChildMatches=opts.includeChildMatches!==!1,(opts.ignore||!this.includeChildMatches)&&(this.#ignore=makeIgnore(opts.ignore??[],opts),!this.includeChildMatches&&typeof this.#ignore.add!="function")){let m="cannot ignore child matches, ignore lacks add() method.";throw new Error(m)}this.maxDepth=opts.maxDepth||1/0,opts.signal&&(this.signal=opts.signal,this.signal.addEventListener("abort",()=>{this.#onResume.length=0}))}#ignored(path5){return this.seen.has(path5)||!!this.#ignore?.ignored?.(path5)}#childrenIgnored(path5){return!!this.#ignore?.childrenIgnored?.(path5)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let fn;for(;!this.paused&&(fn=this.#onResume.shift());)fn()}onResume(fn){this.signal?.aborted||(this.paused?this.#onResume.push(fn):fn())}async matchCheck(e,ifDir){if(ifDir&&this.opts.nodir)return;let rpc;if(this.opts.realpath){if(rpc=e.realpathCached()||await e.realpath(),!rpc)return;e=rpc}let s=e.isUnknown()||this.opts.stat?await e.lstat():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let target=await s.realpath();target&&(target.isUnknown()||this.opts.stat)&&await target.lstat()}return this.matchCheckTest(s,ifDir)}matchCheckTest(e,ifDir){return e&&(this.maxDepth===1/0||e.depth()<=this.maxDepth)&&(!ifDir||e.canReaddir())&&(!this.opts.nodir||!e.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!e.isSymbolicLink()||!e.realpathCached()?.isDirectory())&&!this.#ignored(e)?e:void 0}matchCheckSync(e,ifDir){if(ifDir&&this.opts.nodir)return;let rpc;if(this.opts.realpath){if(rpc=e.realpathCached()||e.realpathSync(),!rpc)return;e=rpc}let s=e.isUnknown()||this.opts.stat?e.lstatSync():e;if(this.opts.follow&&this.opts.nodir&&s?.isSymbolicLink()){let target=s.realpathSync();target&&(target?.isUnknown()||this.opts.stat)&&target.lstatSync()}return this.matchCheckTest(s,ifDir)}matchFinish(e,absolute){if(this.#ignored(e))return;if(!this.includeChildMatches&&this.#ignore?.add){let ign=`${e.relativePosix()}/**`;this.#ignore.add(ign)}let abs=this.opts.absolute===void 0?absolute:this.opts.absolute;this.seen.add(e);let mark=this.opts.mark&&e.isDirectory()?this.#sep:"";if(this.opts.withFileTypes)this.matchEmit(e);else if(abs){let abs2=this.opts.posix?e.fullpathPosix():e.fullpath();this.matchEmit(abs2+mark)}else{let rel=this.opts.posix?e.relativePosix():e.relative(),pre=this.opts.dotRelative&&!rel.startsWith(".."+this.#sep)?"."+this.#sep:"";this.matchEmit(rel?pre+rel+mark:"."+mark)}}async match(e,absolute,ifDir){let p=await this.matchCheck(e,ifDir);p&&this.matchFinish(p,absolute)}matchSync(e,absolute,ifDir){let p=this.matchCheckSync(e,ifDir);p&&this.matchFinish(p,absolute)}walkCB(target,patterns,cb){this.signal?.aborted&&cb(),this.walkCB2(target,patterns,new processor_js_1.Processor(this.opts),cb)}walkCB2(target,patterns,processor,cb){if(this.#childrenIgnored(target))return cb();if(this.signal?.aborted&&cb(),this.paused){this.onResume(()=>this.walkCB2(target,patterns,processor,cb));return}processor.processPatterns(target,patterns);let tasks=1,next=()=>{--tasks===0&&cb()};for(let[m,absolute,ifDir]of processor.matches.entries())this.#ignored(m)||(tasks++,this.match(m,absolute,ifDir).then(()=>next()));for(let t of processor.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;tasks++;let childrenCached=t.readdirCached();t.calledReaddir()?this.walkCB3(t,childrenCached,processor,next):t.readdirCB((_,entries)=>this.walkCB3(t,entries,processor,next),!0)}next()}walkCB3(target,entries,processor,cb){processor=processor.filterEntries(target,entries);let tasks=1,next=()=>{--tasks===0&&cb()};for(let[m,absolute,ifDir]of processor.matches.entries())this.#ignored(m)||(tasks++,this.match(m,absolute,ifDir).then(()=>next()));for(let[target2,patterns]of processor.subwalks.entries())tasks++,this.walkCB2(target2,patterns,processor.child(),next);next()}walkCBSync(target,patterns,cb){this.signal?.aborted&&cb(),this.walkCB2Sync(target,patterns,new processor_js_1.Processor(this.opts),cb)}walkCB2Sync(target,patterns,processor,cb){if(this.#childrenIgnored(target))return cb();if(this.signal?.aborted&&cb(),this.paused){this.onResume(()=>this.walkCB2Sync(target,patterns,processor,cb));return}processor.processPatterns(target,patterns);let tasks=1,next=()=>{--tasks===0&&cb()};for(let[m,absolute,ifDir]of processor.matches.entries())this.#ignored(m)||this.matchSync(m,absolute,ifDir);for(let t of processor.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;tasks++;let children=t.readdirSync();this.walkCB3Sync(t,children,processor,next)}next()}walkCB3Sync(target,entries,processor,cb){processor=processor.filterEntries(target,entries);let tasks=1,next=()=>{--tasks===0&&cb()};for(let[m,absolute,ifDir]of processor.matches.entries())this.#ignored(m)||this.matchSync(m,absolute,ifDir);for(let[target2,patterns]of processor.subwalks.entries())tasks++,this.walkCB2Sync(target2,patterns,processor.child(),next);next()}};exports2.GlobUtil=GlobUtil;var GlobWalker=class extends GlobUtil{matches=new Set;constructor(patterns,path5,opts){super(patterns,path5,opts)}matchEmit(e){this.matches.add(e)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((res,rej)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?rej(this.signal.reason):res(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}};exports2.GlobWalker=GlobWalker;var GlobStream=class extends GlobUtil{results;constructor(patterns,path5,opts){super(patterns,path5,opts),this.results=new minipass_1.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(e){this.results.write(e),this.results.flowing||this.pause()}stream(){let target=this.path;return target.isUnknown()?target.lstat().then(()=>{this.walkCB(target,this.patterns,()=>this.results.end())}):this.walkCB(target,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};exports2.GlobStream=GlobStream}});var require_glob=__commonJS({"../../../../node_modules/@fastify/static/node_modules/glob/dist/commonjs/glob.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.Glob=void 0;var minimatch_1=require_commonjs3(),node_url_1=require("node:url"),path_scurry_1=require_commonjs6(),pattern_js_1=require_pattern2(),walker_js_1=require_walker(),defaultPlatform=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",Glob=class{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(pattern,opts){if(!opts)throw new TypeError("glob options required");if(this.withFileTypes=!!opts.withFileTypes,this.signal=opts.signal,this.follow=!!opts.follow,this.dot=!!opts.dot,this.dotRelative=!!opts.dotRelative,this.nodir=!!opts.nodir,this.mark=!!opts.mark,opts.cwd?(opts.cwd instanceof URL||opts.cwd.startsWith("file://"))&&(opts.cwd=(0,node_url_1.fileURLToPath)(opts.cwd)):this.cwd="",this.cwd=opts.cwd||"",this.root=opts.root,this.magicalBraces=!!opts.magicalBraces,this.nobrace=!!opts.nobrace,this.noext=!!opts.noext,this.realpath=!!opts.realpath,this.absolute=opts.absolute,this.includeChildMatches=opts.includeChildMatches!==!1,this.noglobstar=!!opts.noglobstar,this.matchBase=!!opts.matchBase,this.maxDepth=typeof opts.maxDepth=="number"?opts.maxDepth:1/0,this.stat=!!opts.stat,this.ignore=opts.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof pattern=="string"&&(pattern=[pattern]),this.windowsPathsNoEscape=!!opts.windowsPathsNoEscape||opts.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(pattern=pattern.map(p=>p.replace(/\\/g,"/"))),this.matchBase){if(opts.noglobstar)throw new TypeError("base matching requires globstar");pattern=pattern.map(p=>p.includes("/")?p:`./**/${p}`)}if(this.pattern=pattern,this.platform=opts.platform||defaultPlatform,this.opts={...opts,platform:this.platform},opts.scurry){if(this.scurry=opts.scurry,opts.nocase!==void 0&&opts.nocase!==opts.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let Scurry=opts.platform==="win32"?path_scurry_1.PathScurryWin32:opts.platform==="darwin"?path_scurry_1.PathScurryDarwin:opts.platform?path_scurry_1.PathScurryPosix:path_scurry_1.PathScurry;this.scurry=new Scurry(this.cwd,{nocase:opts.nocase,fs:opts.fs})}this.nocase=this.scurry.nocase;let nocaseMagicOnly=this.platform==="darwin"||this.platform==="win32",mmo={...opts,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},mms=this.pattern.map(p=>new minimatch_1.Minimatch(p,mmo)),[matchSet,globParts]=mms.reduce((set2,m)=>(set2[0].push(...m.set),set2[1].push(...m.globParts),set2),[[],[]]);this.patterns=matchSet.map((set2,i)=>{let g=globParts[i];if(!g)throw new Error("invalid pattern object");return new pattern_js_1.Pattern(set2,g,0,this.platform)})}async walk(){return[...await new walker_js_1.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new walker_js_1.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new walker_js_1.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new walker_js_1.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};exports2.Glob=Glob}});var require_has_magic=__commonJS({"../../../../node_modules/@fastify/static/node_modules/glob/dist/commonjs/has-magic.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.hasMagic=void 0;var minimatch_1=require_commonjs3(),hasMagic=(pattern,options2={})=>{Array.isArray(pattern)||(pattern=[pattern]);for(let p of pattern)if(new minimatch_1.Minimatch(p,options2).hasMagic())return!0;return!1};exports2.hasMagic=hasMagic}});var require_commonjs7=__commonJS({"../../../../node_modules/@fastify/static/node_modules/glob/dist/commonjs/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.glob=exports2.sync=exports2.iterate=exports2.iterateSync=exports2.stream=exports2.streamSync=exports2.Ignore=exports2.hasMagic=exports2.Glob=exports2.unescape=exports2.escape=void 0;exports2.globStreamSync=globStreamSync;exports2.globStream=globStream;exports2.globSync=globSync;exports2.globIterateSync=globIterateSync;exports2.globIterate=globIterate;var minimatch_1=require_commonjs3(),glob_js_1=require_glob(),has_magic_js_1=require_has_magic(),minimatch_2=require_commonjs3();Object.defineProperty(exports2,"escape",{enumerable:!0,get:function(){return minimatch_2.escape}});Object.defineProperty(exports2,"unescape",{enumerable:!0,get:function(){return minimatch_2.unescape}});var glob_js_2=require_glob();Object.defineProperty(exports2,"Glob",{enumerable:!0,get:function(){return glob_js_2.Glob}});var has_magic_js_2=require_has_magic();Object.defineProperty(exports2,"hasMagic",{enumerable:!0,get:function(){return has_magic_js_2.hasMagic}});var ignore_js_1=require_ignore();Object.defineProperty(exports2,"Ignore",{enumerable:!0,get:function(){return ignore_js_1.Ignore}});function globStreamSync(pattern,options2={}){return new glob_js_1.Glob(pattern,options2).streamSync()}function globStream(pattern,options2={}){return new glob_js_1.Glob(pattern,options2).stream()}function globSync(pattern,options2={}){return new glob_js_1.Glob(pattern,options2).walkSync()}async function glob_(pattern,options2={}){return new glob_js_1.Glob(pattern,options2).walk()}function globIterateSync(pattern,options2={}){return new glob_js_1.Glob(pattern,options2).iterateSync()}function globIterate(pattern,options2={}){return new glob_js_1.Glob(pattern,options2).iterate()}exports2.streamSync=globStreamSync;exports2.stream=Object.assign(globStream,{sync:globStreamSync});exports2.iterateSync=globIterateSync;exports2.iterate=Object.assign(globIterate,{sync:globIterateSync});exports2.sync=Object.assign(globSync,{stream:globStreamSync,iterate:globIterateSync});exports2.glob=Object.assign(glob_,{glob:glob_,globSync,sync:exports2.sync,globStream,stream:exports2.stream,globStreamSync,streamSync:exports2.streamSync,globIterate,iterate:exports2.iterate,globIterateSync,iterateSync:exports2.iterateSync,Glob:glob_js_1.Glob,hasMagic:has_magic_js_1.hasMagic,escape:minimatch_1.escape,unescape:minimatch_1.unescape});exports2.glob.glob=exports2.glob}});var require_getPluginName=__commonJS({"../../../../node_modules/fastify-plugin/lib/getPluginName.js"(exports2,module2){"use strict";var fpStackTracePattern=/at\s(?:.*\.)?plugin\s.*\n\s*(.*)/,fileNamePattern=/(\w*(\.\w*)*)\..*/;module2.exports=function(fn){if(fn.name.length>0)return fn.name;let stackTraceLimit=Error.stackTraceLimit;Error.stackTraceLimit=10;try{throw new Error("anonymous function")}catch(e){return Error.stackTraceLimit=stackTraceLimit,extractPluginName(e.stack)}};function extractPluginName(stack){let m=stack.match(fpStackTracePattern);return m?m[1].split(/[/\\]/).slice(-1)[0].match(fileNamePattern)[1]:"anonymous"}module2.exports.extractPluginName=extractPluginName}});var require_toCamelCase=__commonJS({"../../../../node_modules/fastify-plugin/lib/toCamelCase.js"(exports2,module2){"use strict";module2.exports=function(name){return name[0]==="@"&&(name=name.slice(1).replace("/","-")),name.replace(/-(.)/g,function(match2,g1){return g1.toUpperCase()})}}});var require_plugin2=__commonJS({"../../../../node_modules/fastify-plugin/plugin.js"(exports2,module2){"use strict";var getPluginName=require_getPluginName(),toCamelCase=require_toCamelCase(),count=0;function plugin2(fn,options2={}){let autoName=!1;if(fn.default!==void 0&&(fn=fn.default),typeof fn!="function")throw new TypeError(`fastify-plugin expects a function, instead got a '${typeof fn}'`);if(typeof options2=="string"&&(options2={fastify:options2}),typeof options2!="object"||Array.isArray(options2)||options2===null)throw new TypeError("The options object should be an object");if(options2.fastify!==void 0&&typeof options2.fastify!="string")throw new TypeError(`fastify-plugin expects a version string, instead got '${typeof options2.fastify}'`);options2.name||(autoName=!0,options2.name=getPluginName(fn)+"-auto-"+count++),fn[Symbol.for("skip-override")]=options2.encapsulate!==!0,fn[Symbol.for("fastify.display-name")]=options2.name,fn[Symbol.for("plugin-meta")]=options2,fn.default||(fn.default=fn);let camelCase=toCamelCase(options2.name);return!autoName&&!fn[camelCase]&&(fn[camelCase]=fn),fn}module2.exports=plugin2;module2.exports.default=plugin2;module2.exports.fastifyPlugin=plugin2}});var require_isUtf8MimeType=__commonJS({"../../../../node_modules/@fastify/send/lib/isUtf8MimeType.js"(exports2,module2){"use strict";function isUtf8MimeType(value){let len=value.length;return len>21&&value.indexOf("application/javascript")===0||len>14&&value.indexOf("application/json")===0||len>5&&value.indexOf("text/")===0}module2.exports.isUtf8MimeType=isUtf8MimeType}});var require_Mime=__commonJS({"../../../../node_modules/mime/Mime.js"(exports2,module2){"use strict";function Mime(){this._types=Object.create(null),this._extensions=Object.create(null);for(let i=0;i<arguments.length;i++)this.define(arguments[i]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime.prototype.define=function(typeMap,force){for(let type in typeMap){let extensions=typeMap[type].map(function(t){return t.toLowerCase()});type=type.toLowerCase();for(let i=0;i<extensions.length;i++){let ext=extensions[i];if(ext[0]!=="*"){if(!force&&ext in this._types)throw new Error('Attempt to change mapping for "'+ext+'" extension from "'+this._types[ext]+'" to "'+type+'". Pass `force=true` to allow this, otherwise remove "'+ext+'" from the list of extensions for "'+type+'".');this._types[ext]=type}}if(force||!this._extensions[type]){let ext=extensions[0];this._extensions[type]=ext[0]!=="*"?ext:ext.substr(1)}}};Mime.prototype.getType=function(path5){path5=String(path5);let last=path5.replace(/^.*[/\\]/,"").toLowerCase(),ext=last.replace(/^.*\./,"").toLowerCase(),hasPath=last.length<path5.length;return(ext.length<last.length-1||!hasPath)&&this._types[ext]||null};Mime.prototype.getExtension=function(type){return type=/^\s*([^;\s]*)/.test(type)&&RegExp.$1,type&&this._extensions[type.toLowerCase()]||null};module2.exports=Mime}});var require_standard=__commonJS({"../../../../node_modules/mime/types/standard.js"(exports2,module2){module2.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}}});var require_other=__commonJS({"../../../../node_modules/mime/types/other.js"(exports2,module2){module2.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}}});var require_mime=__commonJS({"../../../../node_modules/mime/index.js"(exports2,module2){"use strict";var Mime=require_Mime();module2.exports=new Mime(require_standard(),require_other())}});var require_escape_html=__commonJS({"../../../../node_modules/escape-html/index.js"(exports2,module2){"use strict";var matchHtmlRegExp=/["'&<>]/;module2.exports=escapeHtml2;function escapeHtml2(string){var str=""+string,match2=matchHtmlRegExp.exec(str);if(!match2)return str;var escape4,html="",index2=0,lastIndex=0;for(index2=match2.index;index2<str.length;index2++){switch(str.charCodeAt(index2)){case 34:escape4="&quot;";break;case 38:escape4="&amp;";break;case 39:escape4="&#39;";break;case 60:escape4="&lt;";break;case 62:escape4="&gt;";break;default:continue}lastIndex!==index2&&(html+=str.substring(lastIndex,index2)),lastIndex=index2+1,html+=escape4}return lastIndex!==index2?html+str.substring(lastIndex,index2):html}}});var require_dist5=__commonJS({"../../../../node_modules/@lukeed/ms/dist/index.js"(exports2){var RGX=/^(-?(?:\d+)?\.?\d+) *(m(?:illiseconds?|s(?:ecs?)?))?(s(?:ec(?:onds?|s)?)?)?(m(?:in(?:utes?|s)?)?)?(h(?:ours?|rs?)?)?(d(?:ays?)?)?(w(?:eeks?|ks?)?)?(y(?:ears?|rs?)?)?$/,SEC=1e3,MIN=SEC*60,HOUR=MIN*60,DAY=HOUR*24,YEAR=DAY*365.25;function parse2(val){var num,arr=val.toLowerCase().match(RGX);if(arr!=null&&(num=parseFloat(arr[1])))return arr[3]!=null?num*SEC:arr[4]!=null?num*MIN:arr[5]!=null?num*HOUR:arr[6]!=null?num*DAY:arr[7]!=null?num*DAY*7:arr[8]!=null?num*YEAR:num}function fmt(val,pfx,str,long){var num=(val|0)===val?val:~~(val+.5);return pfx+num+(long?" "+str+(num!=1?"s":""):str[0])}function format2(num,long){var pfx=num<0?"-":"",abs=num<0?-num:num;return abs<SEC?num+(long?" ms":"ms"):abs<MIN?fmt(abs/SEC,pfx,"second",long):abs<HOUR?fmt(abs/MIN,pfx,"minute",long):abs<DAY?fmt(abs/HOUR,pfx,"hour",long):abs<YEAR?fmt(abs/DAY,pfx,"day",long):fmt(abs/YEAR,pfx,"year",long)}exports2.format=format2;exports2.parse=parse2}});var require_collapseLeadingSlashes=__commonJS({"../../../../node_modules/@fastify/send/lib/collapseLeadingSlashes.js"(exports2,module2){"use strict";function collapseLeadingSlashes(str){if(str[0]!=="/"||str[1]!=="/")return str;for(let i=2,il=str.length;i<il;++i)if(str[i]!=="/")return str.slice(i-1)}module2.exports.collapseLeadingSlashes=collapseLeadingSlashes}});var require_containsDotFile=__commonJS({"../../../../node_modules/@fastify/send/lib/containsDotFile.js"(exports2,module2){"use strict";function containsDotFile(parts){for(let i=0,il=parts.length;i<il;++i)if(parts[i].length!==1&&parts[i][0]===".")return!0;return!1}module2.exports.containsDotFile=containsDotFile}});var require_contentRange=__commonJS({"../../../../node_modules/@fastify/send/lib/contentRange.js"(exports2){"use strict";function contentRange(type,size,range){return type+" "+(range?range.start+"-"+range.end:"*")+"/"+size}exports2.contentRange=contentRange}});var require_createHtmlDocument=__commonJS({"../../../../node_modules/@fastify/send/lib/createHtmlDocument.js"(exports2){"use strict";function createHtmlDocument(title,body){let html=`<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>`+title+`</title>
</head>
<body>
<pre>`+body+`</pre>
</body>
</html>
`;return[html,Buffer.byteLength(html)]}exports2.createHtmlDocument=createHtmlDocument}});var require_normalizeList=__commonJS({"../../../../node_modules/@fastify/send/lib/normalizeList.js"(exports2,module2){"use strict";function normalizeList(val,name){if(typeof val=="string")return[val];if(val===!1)return[];if(Array.isArray(val)){for(let i=0,il=val.length;i<il;++i)if(typeof val[i]!="string")throw new TypeError(name+" must be array of strings or false");return val}else throw new TypeError(name+" must be array of strings or false")}module2.exports.normalizeList=normalizeList}});var require_parseBytesRange=__commonJS({"../../../../node_modules/@fastify/send/lib/parseBytesRange.js"(exports2,module2){"use strict";function parseBytesRange(size,str){let values2=str.slice(str.indexOf("=")+1),ranges=[],len=values2.length,i=0,il=0,j=0,start,end,commaIdx=values2.indexOf(","),dashIdx=values2.indexOf("-"),prevIdx=-1;for(;commaIdx===-1&&(commaIdx=len),start=parseInt(values2.slice(prevIdx+1,dashIdx),10),end=parseInt(values2.slice(dashIdx+1,commaIdx),10),start!==start?(start=size-end,end=size-1):(end!==end||end>size-1)&&(end=size-1),start===start&&end===end&&start>-1&&start<=end&&ranges.push({start,end,index:j++}),commaIdx!==len;)prevIdx=commaIdx++,dashIdx=values2.indexOf("-",commaIdx),commaIdx=values2.indexOf(",",commaIdx);if(j<2)return ranges;for(ranges.sort(sortByRangeStart),il=j,j=0,i=1;i<il;){let range=ranges[i++],current=ranges[j];range.start>current.end+1?ranges[++j]=range:range.end>current.end&&(current.end=range.end,current.index>range.index&&(current.index=range.index))}return ranges.length=j+1,ranges.sort(sortByRangeIndex),ranges}function sortByRangeIndex(a,b){return a.index-b.index}function sortByRangeStart(a,b){return a.start-b.start}module2.exports.parseBytesRange=parseBytesRange}});var require_parseTokenList=__commonJS({"../../../../node_modules/@fastify/send/lib/parseTokenList.js"(exports2,module2){"use strict";var slice=String.prototype.slice;function parseTokenList(str,cb){let end=0,start=0,result;for(let i=0,len=str.length;i<len;i++)switch(str.charCodeAt(i)){case 32:start===end&&(start=end=i+1);break;case 44:if(start!==end&&(result=cb(slice.call(str,start,end)),result!==void 0))return result;start=end=i+1;break;default:end=i+1;break}if(start!==end)return cb(slice.call(str,start,end))}module2.exports.parseTokenList=parseTokenList}});var require_depd=__commonJS({"../../../../node_modules/depd/index.js"(exports2,module2){var relative=require("path").relative;module2.exports=depd;var basePath=process.cwd();function containsNamespace(str,namespace){for(var vals=str.split(/[ ,]+/),ns=String(namespace).toLowerCase(),i=0;i<vals.length;i++){var val=vals[i];if(val&&(val==="*"||val.toLowerCase()===ns))return!0}return!1}function convertDataDescriptorToAccessor(obj,prop,message){var descriptor=Object.getOwnPropertyDescriptor(obj,prop),value=descriptor.value;return descriptor.get=function(){return value},descriptor.writable&&(descriptor.set=function(val){return value=val}),delete descriptor.value,delete descriptor.writable,Object.defineProperty(obj,prop,descriptor),descriptor}function createArgumentsString(arity){for(var str="",i=0;i<arity;i++)str+=", arg"+i;return str.substr(2)}function createStackString(stack){var str=this.name+": "+this.namespace;this.message&&(str+=" deprecated "+this.message);for(var i=0;i<stack.length;i++)str+=`
    at `+stack[i].toString();return str}function depd(namespace){if(!namespace)throw new TypeError("argument namespace is required");var stack=getStack(),site=callSiteLocation(stack[1]),file=site[0];function deprecate(message){log.call(deprecate,message)}return deprecate._file=file,deprecate._ignored=isignored(namespace),deprecate._namespace=namespace,deprecate._traced=istraced(namespace),deprecate._warned=Object.create(null),deprecate.function=wrapfunction,deprecate.property=wrapproperty,deprecate}function eehaslisteners(emitter,type){var count=typeof emitter.listenerCount!="function"?emitter.listeners(type).length:emitter.listenerCount(type);return count>0}function isignored(namespace){if(process.noDeprecation)return!0;var str=process.env.NO_DEPRECATION||"";return containsNamespace(str,namespace)}function istraced(namespace){if(process.traceDeprecation)return!0;var str=process.env.TRACE_DEPRECATION||"";return containsNamespace(str,namespace)}function log(message,site){var haslisteners=eehaslisteners(process,"deprecation");if(!(!haslisteners&&this._ignored)){var caller,callFile,callSite,depSite,i=0,seen=!1,stack=getStack(),file=this._file;for(site?(depSite=site,callSite=callSiteLocation(stack[1]),callSite.name=depSite.name,file=callSite[0]):(i=2,depSite=callSiteLocation(stack[i]),callSite=depSite);i<stack.length;i++)if(caller=callSiteLocation(stack[i]),callFile=caller[0],callFile===file)seen=!0;else if(callFile===this._file)file=this._file;else if(seen)break;var key=caller?depSite.join(":")+"__"+caller.join(":"):void 0;if(!(key!==void 0&&key in this._warned)){this._warned[key]=!0;var msg=message;if(msg||(msg=callSite===depSite||!callSite.name?defaultMessage(depSite):defaultMessage(callSite)),haslisteners){var err=DeprecationError(this._namespace,msg,stack.slice(i));process.emit("deprecation",err);return}var format2=process.stderr.isTTY?formatColor:formatPlain,output=format2.call(this,msg,caller,stack.slice(i));process.stderr.write(output+`
`,"utf8")}}}function callSiteLocation(callSite){var file=callSite.getFileName()||"<anonymous>",line=callSite.getLineNumber(),colm=callSite.getColumnNumber();callSite.isEval()&&(file=callSite.getEvalOrigin()+", "+file);var site=[file,line,colm];return site.callSite=callSite,site.name=callSite.getFunctionName(),site}function defaultMessage(site){var callSite=site.callSite,funcName=site.name;funcName||(funcName="<anonymous@"+formatLocation(site)+">");var context=callSite.getThis(),typeName=context&&callSite.getTypeName();return typeName==="Object"&&(typeName=void 0),typeName==="Function"&&(typeName=context.name||typeName),typeName&&callSite.getMethodName()?typeName+"."+funcName:funcName}function formatPlain(msg,caller,stack){var timestamp=new Date().toUTCString(),formatted=timestamp+" "+this._namespace+" deprecated "+msg;if(this._traced){for(var i=0;i<stack.length;i++)formatted+=`
    at `+stack[i].toString();return formatted}return caller&&(formatted+=" at "+formatLocation(caller)),formatted}function formatColor(msg,caller,stack){var formatted="\x1B[36;1m"+this._namespace+"\x1B[22;39m \x1B[33;1mdeprecated\x1B[22;39m \x1B[0m"+msg+"\x1B[39m";if(this._traced){for(var i=0;i<stack.length;i++)formatted+=`
    \x1B[36mat `+stack[i].toString()+"\x1B[39m";return formatted}return caller&&(formatted+=" \x1B[36m"+formatLocation(caller)+"\x1B[39m"),formatted}function formatLocation(callSite){return relative(basePath,callSite[0])+":"+callSite[1]+":"+callSite[2]}function getStack(){var limit=Error.stackTraceLimit,obj={},prep=Error.prepareStackTrace;Error.prepareStackTrace=prepareObjectStackTrace,Error.stackTraceLimit=Math.max(10,limit),Error.captureStackTrace(obj);var stack=obj.stack.slice(1);return Error.prepareStackTrace=prep,Error.stackTraceLimit=limit,stack}function prepareObjectStackTrace(obj,stack){return stack}function wrapfunction(fn,message){if(typeof fn!="function")throw new TypeError("argument fn must be a function");var args=createArgumentsString(fn.length),stack=getStack(),site=callSiteLocation(stack[1]);site.name=fn.name;var deprecatedfn=new Function("fn","log","deprecate","message","site",`"use strict"
return function (`+args+`) {log.call(deprecate, message, site)
return fn.apply(this, arguments)
}`)(fn,log,this,message,site);return deprecatedfn}function wrapproperty(obj,prop,message){if(!obj||typeof obj!="object"&&typeof obj!="function")throw new TypeError("argument obj must be object");var descriptor=Object.getOwnPropertyDescriptor(obj,prop);if(!descriptor)throw new TypeError("must call property on owner object");if(!descriptor.configurable)throw new TypeError("property must be configurable");var deprecate=this,stack=getStack(),site=callSiteLocation(stack[1]);site.name=prop,"value"in descriptor&&(descriptor=convertDataDescriptorToAccessor(obj,prop,message));var get2=descriptor.get,set2=descriptor.set;typeof get2=="function"&&(descriptor.get=function(){return log.call(deprecate,message,site),get2.apply(this,arguments)}),typeof set2=="function"&&(descriptor.set=function(){return log.call(deprecate,message,site),set2.apply(this,arguments)}),Object.defineProperty(obj,prop,descriptor)}function DeprecationError(namespace,message,stack){var error=new Error,stackString;return Object.defineProperty(error,"constructor",{value:DeprecationError}),Object.defineProperty(error,"message",{configurable:!0,enumerable:!1,value:message,writable:!0}),Object.defineProperty(error,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(error,"namespace",{configurable:!0,enumerable:!1,value:namespace,writable:!0}),Object.defineProperty(error,"stack",{configurable:!0,enumerable:!1,get:function(){return stackString!==void 0?stackString:stackString=createStackString.call(this,stack)},set:function(val){stackString=val}}),error}}});var require_setprototypeof=__commonJS({"../../../../node_modules/setprototypeof/index.js"(exports2,module2){"use strict";module2.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?setProtoOf:mixinProperties);function setProtoOf(obj,proto){return obj.__proto__=proto,obj}function mixinProperties(obj,proto){for(var prop in proto)Object.prototype.hasOwnProperty.call(obj,prop)||(obj[prop]=proto[prop]);return obj}}});var require_codes=__commonJS({"../../../../node_modules/statuses/codes.json"(exports2,module2){module2.exports={"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}}});var require_statuses=__commonJS({"../../../../node_modules/statuses/index.js"(exports2,module2){"use strict";var codes=require_codes();module2.exports=status;status.message=codes;status.code=createMessageToStatusCodeMap(codes);status.codes=createStatusCodeList(codes);status.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0};status.empty={204:!0,205:!0,304:!0};status.retry={502:!0,503:!0,504:!0};function createMessageToStatusCodeMap(codes2){var map={};return Object.keys(codes2).forEach(function(code2){var message=codes2[code2],status2=Number(code2);map[message.toLowerCase()]=status2}),map}function createStatusCodeList(codes2){return Object.keys(codes2).map(function(code2){return Number(code2)})}function getStatusCode(message){var msg=message.toLowerCase();if(!Object.prototype.hasOwnProperty.call(status.code,msg))throw new Error('invalid status message: "'+message+'"');return status.code[msg]}function getStatusMessage(code2){if(!Object.prototype.hasOwnProperty.call(status.message,code2))throw new Error("invalid status code: "+code2);return status.message[code2]}function status(code2){if(typeof code2=="number")return getStatusMessage(code2);if(typeof code2!="string")throw new TypeError("code must be a number or string");var n=parseInt(code2,10);return isNaN(n)?getStatusCode(code2):getStatusMessage(n)}}});var require_inherits_browser=__commonJS({"../../../../node_modules/inherits/inherits_browser.js"(exports2,module2){typeof Object.create=="function"?module2.exports=function(ctor,superCtor){superCtor&&(ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}}))}:module2.exports=function(ctor,superCtor){if(superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}}}});var require_inherits=__commonJS({"../../../../node_modules/inherits/inherits.js"(exports2,module2){try{if(util3=require("util"),typeof util3.inherits!="function")throw"";module2.exports=util3.inherits}catch{module2.exports=require_inherits_browser()}var util3}});var require_toidentifier=__commonJS({"../../../../node_modules/toidentifier/index.js"(exports2,module2){"use strict";module2.exports=toIdentifier;function toIdentifier(str){return str.split(" ").map(function(token){return token.slice(0,1).toUpperCase()+token.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}}});var require_http_errors=__commonJS({"../../../../node_modules/@fastify/send/node_modules/http-errors/index.js"(exports2,module2){"use strict";var deprecate=require_depd()("http-errors"),setPrototypeOf=require_setprototypeof(),statuses=require_statuses(),inherits=require_inherits(),toIdentifier=require_toidentifier();module2.exports=createError;module2.exports.HttpError=createHttpErrorConstructor();module2.exports.isHttpError=createIsHttpErrorFunction(module2.exports.HttpError);populateConstructorExports(module2.exports,statuses.codes,module2.exports.HttpError);function codeClass(status){return+(String(status).charAt(0)+"00")}function createError(){for(var err,msg,status=500,props={},i=0;i<arguments.length;i++){var arg=arguments[i],type=typeof arg;if(type==="object"&&arg instanceof Error)err=arg,status=err.status||err.statusCode||status;else if(type==="number"&&i===0)status=arg;else if(type==="string")msg=arg;else if(type==="object")props=arg;else throw new TypeError("argument #"+(i+1)+" unsupported type "+type)}typeof status=="number"&&(status<400||status>=600)&&deprecate("non-error status code; use only 4xx or 5xx status codes"),(typeof status!="number"||!statuses.message[status]&&(status<400||status>=600))&&(status=500);var HttpError=createError[status]||createError[codeClass(status)];err||(err=HttpError?new HttpError(msg):new Error(msg||statuses.message[status]),Error.captureStackTrace(err,createError)),(!HttpError||!(err instanceof HttpError)||err.status!==status)&&(err.expose=status<500,err.status=err.statusCode=status);for(var key in props)key!=="status"&&key!=="statusCode"&&(err[key]=props[key]);return err}function createHttpErrorConstructor(){function HttpError(){throw new TypeError("cannot construct abstract class")}return inherits(HttpError,Error),HttpError}function createClientErrorConstructor(HttpError,name,code2){var className=toClassName(name);function ClientError(message){var msg=message??statuses.message[code2],err=new Error(msg);return Error.captureStackTrace(err,ClientError),setPrototypeOf(err,ClientError.prototype),Object.defineProperty(err,"message",{enumerable:!0,configurable:!0,value:msg,writable:!0}),Object.defineProperty(err,"name",{enumerable:!1,configurable:!0,value:className,writable:!0}),err}return inherits(ClientError,HttpError),nameFunc(ClientError,className),ClientError.prototype.status=code2,ClientError.prototype.statusCode=code2,ClientError.prototype.expose=!0,ClientError}function createIsHttpErrorFunction(HttpError){return function(val){return!val||typeof val!="object"?!1:val instanceof HttpError?!0:val instanceof Error&&typeof val.expose=="boolean"&&typeof val.statusCode=="number"&&val.status===val.statusCode}}function createServerErrorConstructor(HttpError,name,code2){var className=toClassName(name);function ServerError(message){var msg=message??statuses.message[code2],err=new Error(msg);return Error.captureStackTrace(err,ServerError),setPrototypeOf(err,ServerError.prototype),Object.defineProperty(err,"message",{enumerable:!0,configurable:!0,value:msg,writable:!0}),Object.defineProperty(err,"name",{enumerable:!1,configurable:!0,value:className,writable:!0}),err}return inherits(ServerError,HttpError),nameFunc(ServerError,className),ServerError.prototype.status=code2,ServerError.prototype.statusCode=code2,ServerError.prototype.expose=!1,ServerError}function nameFunc(func,name){var desc=Object.getOwnPropertyDescriptor(func,"name");desc&&desc.configurable&&(desc.value=name,Object.defineProperty(func,"name",desc))}function populateConstructorExports(exports3,codes,HttpError){codes.forEach(function(code2){var CodeError,name=toIdentifier(statuses.message[code2]);switch(codeClass(code2)){case 400:CodeError=createClientErrorConstructor(HttpError,name,code2);break;case 500:CodeError=createServerErrorConstructor(HttpError,name,code2);break}CodeError&&(exports3[code2]=CodeError,exports3[name]=CodeError)})}function toClassName(name){return name.slice(-5)==="Error"?name:name+"Error"}}});var require_createHttpError=__commonJS({"../../../../node_modules/@fastify/send/lib/createHttpError.js"(exports2,module2){"use strict";var createError=require_http_errors();function createHttpError(status,err){return err?err instanceof Error?createError(status,err,{expose:!1}):createError(status,err):createError(status)}module2.exports.createHttpError=createHttpError}});var require_send=__commonJS({"../../../../node_modules/@fastify/send/lib/send.js"(exports2,module2){"use strict";var fs3=require("node:fs"),path5=require("node:path"),stream=require("node:stream"),debug=require("node:util").debuglog("send"),decode2=require_fast_decode_uri_component(),escapeHtml2=require_escape_html(),mime=require_mime(),ms=require_dist5(),{collapseLeadingSlashes}=require_collapseLeadingSlashes(),{containsDotFile}=require_containsDotFile(),{contentRange}=require_contentRange(),{createHtmlDocument}=require_createHtmlDocument(),{isUtf8MimeType}=require_isUtf8MimeType(),{normalizeList}=require_normalizeList(),{parseBytesRange}=require_parseBytesRange(),{parseTokenList}=require_parseTokenList(),{createHttpError}=require_createHttpError(),extname=path5.extname,join=path5.join,normalize4=path5.normalize,resolve=path5.resolve,sep=path5.sep,Readable=stream.Readable,BYTES_RANGE_REGEXP=/^ *bytes=/,MAX_MAXAGE=3600*24*365*1e3,UP_PATH_REGEXP=/(?:^|[\\/])\.\.(?:[\\/]|$)/,ERROR_RESPONSES={400:createHtmlDocument("Error","Bad Request"),403:createHtmlDocument("Error","Forbidden"),404:createHtmlDocument("Error","Not Found"),412:createHtmlDocument("Error","Precondition Failed"),416:createHtmlDocument("Error","Range Not Satisfiable"),500:createHtmlDocument("Error","Internal Server Error")},validDotFilesOptions=["allow","ignore","deny"];function normalizeMaxAge(_maxage){let maxage;return typeof _maxage=="string"?maxage=ms.parse(_maxage):maxage=Number(_maxage),maxage!==maxage?0:Math.min(Math.max(0,maxage),MAX_MAXAGE)}function normalizeOptions(options2){options2=options2??{};let acceptRanges=options2.acceptRanges!==void 0?!!options2.acceptRanges:!0,cacheControl=options2.cacheControl!==void 0?!!options2.cacheControl:!0,contentType=options2.contentType!==void 0?!!options2.contentType:!0,etag=options2.etag!==void 0?!!options2.etag:!0,dotfiles=options2.dotfiles!==void 0?validDotFilesOptions.indexOf(options2.dotfiles):1;if(dotfiles===-1)throw new TypeError('dotfiles option must be "allow", "deny", or "ignore"');let extensions=options2.extensions!==void 0?normalizeList(options2.extensions,"extensions option"):[],immutable=options2.immutable!==void 0?!!options2.immutable:!1,index2=options2.index!==void 0?normalizeList(options2.index,"index option"):["index.html"],lastModified=options2.lastModified!==void 0?!!options2.lastModified:!0,maxage=normalizeMaxAge(options2.maxAge??options2.maxage),maxContentRangeChunkSize=options2.maxContentRangeChunkSize!==void 0?Number(options2.maxContentRangeChunkSize):null,root=options2.root?resolve(options2.root):null,highWaterMark=Number.isSafeInteger(options2.highWaterMark)&&options2.highWaterMark>0?options2.highWaterMark:null;return{acceptRanges,cacheControl,contentType,etag,dotfiles,extensions,immutable,index:index2,lastModified,maxage,maxContentRangeChunkSize,root,highWaterMark,start:options2.start,end:options2.end}}function normalizePath(_path,root){let path6=decode2(_path);if(path6==null)return{statusCode:400};if(~path6.indexOf("\0"))return{statusCode:400};let parts;if(root!==null){if(path6&&(path6=normalize4("."+sep+path6)),UP_PATH_REGEXP.test(path6))return debug('malicious path "%s"',path6),{statusCode:403};parts=path6.split(sep),path6=normalize4(join(root,path6))}else{if(UP_PATH_REGEXP.test(path6))return debug('malicious path "%s"',path6),{statusCode:403};parts=normalize4(path6).split(sep),path6=resolve(path6)}return{path:path6,parts}}function hasTrailingSlash(path6){return path6[path6.length-1]==="/"}function isConditionalGET(request2){return request2.headers["if-match"]||request2.headers["if-unmodified-since"]||request2.headers["if-none-match"]||request2.headers["if-modified-since"]}function isNotModifiedFailure(request2,headers){if("cache-control"in request2.headers&&request2.headers["cache-control"].indexOf("no-cache")!==-1)return!1;if("if-none-match"in request2.headers){let ifNoneMatch=request2.headers["if-none-match"];if(ifNoneMatch==="*")return!0;let etag=headers.ETag;if(typeof etag!="string")return!1;let etagL=etag.length;return!!parseTokenList(ifNoneMatch,function(match2){let mL=match2.length;if(etagL===mL&&match2===etag||etagL>mL&&"W/"+match2===etag)return!0})}if("if-modified-since"in request2.headers){let ifModifiedSince=request2.headers["if-modified-since"],lastModified=headers["Last-Modified"];if(!lastModified||Date.parse(lastModified)<=Date.parse(ifModifiedSince))return!0}return!1}function isPreconditionFailure(request2,headers){let ifMatch=request2.headers["if-match"];if(ifMatch){let etag=headers.ETag;if(ifMatch!=="*"&&(parseTokenList(ifMatch,function(match2){if(match2===etag||"W/"+match2===etag)return!0})||!1)!==!0)return!0}if("if-unmodified-since"in request2.headers){let ifUnmodifiedSince=request2.headers["if-unmodified-since"],unmodifiedSince=Date.parse(ifUnmodifiedSince);if(unmodifiedSince===unmodifiedSince){let lastModified=Date.parse(headers["Last-Modified"]);if(lastModified!==lastModified||lastModified>unmodifiedSince)return!0}}return!1}function isRangeFresh(request2,headers){if(!("if-range"in request2.headers))return!0;let ifRange=request2.headers["if-range"];if(ifRange.indexOf('"')!==-1){let etag=headers.ETag;return etag&&ifRange.indexOf(etag)!==-1||!1}let ifRangeTimestamp=Date.parse(ifRange);if(ifRangeTimestamp!==ifRangeTimestamp)return!1;let lastModified=Date.parse(headers["Last-Modified"]);return lastModified!==lastModified||lastModified<=ifRangeTimestamp}function tryStat(path6){return new Promise(resolve2=>{fs3.stat(path6,function(error,stat){resolve2({error,stat})})})}function sendError(statusCode,err){let headers={};if(err&&err.headers)for(let headerName in err.headers)headers[headerName]=err.headers[headerName];let doc=ERROR_RESPONSES[statusCode];return headers["Content-Type"]="text/html; charset=utf-8",headers["Content-Length"]=doc[1],headers["Content-Security-Policy"]="default-src 'none'",headers["X-Content-Type-Options"]="nosniff",{statusCode,headers,stream:Readable.from(doc[0]),type:"error",metadata:{error:createHttpError(statusCode,err)}}}function sendStatError(err){switch(err.code){case"ENAMETOOLONG":case"ENOTDIR":case"ENOENT":return sendError(404,err);default:return sendError(500,err)}}function sendNotModified(headers,path6,stat){return debug("not modified"),delete headers["Content-Encoding"],delete headers["Content-Language"],delete headers["Content-Length"],delete headers["Content-Range"],delete headers["Content-Type"],{statusCode:304,headers,stream:Readable.from(""),type:"file",metadata:{path:path6,stat}}}function sendFileDirectly(request2,path6,stat,options2){let len=stat.size,offset=options2.start??0,statusCode=200,headers={};if(debug('send "%s"',path6),options2.acceptRanges&&(debug("accept ranges"),headers["Accept-Ranges"]="bytes"),options2.cacheControl){let cacheControl="public, max-age="+Math.floor(options2.maxage/1e3);options2.immutable&&(cacheControl+=", immutable"),debug("cache-control %s",cacheControl),headers["Cache-Control"]=cacheControl}if(options2.lastModified){let modified=stat.mtime.toUTCString();debug("modified %s",modified),headers["Last-Modified"]=modified}if(options2.etag){let etag='W/"'+stat.size.toString(16)+"-"+stat.mtime.getTime().toString(16)+'"';debug("etag %s",etag),headers.ETag=etag}if(options2.contentType){let type=mime.getType(path6)||mime.default_type;debug("content-type %s",type),type&&isUtf8MimeType(type)&&(type+="; charset=utf-8"),type&&(headers["Content-Type"]=type)}if(isConditionalGET(request2)){if(isPreconditionFailure(request2,headers))return sendError(412);if(isNotModifiedFailure(request2,headers))return sendNotModified(headers,path6,stat)}if(len=Math.max(0,len-offset),options2.end!==void 0){let bytes=options2.end-offset+1;len>bytes&&(len=bytes)}if(options2.acceptRanges){let rangeHeader=request2.headers.range;if(rangeHeader!==void 0&&BYTES_RANGE_REGEXP.test(rangeHeader))if(isRangeFresh(request2,headers)){let ranges=parseBytesRange(len,rangeHeader);if(ranges.length===0)return debug("range unsatisfiable"),headers["Content-Range"]=contentRange("bytes",len),sendError(416,{headers:{"Content-Range":headers["Content-Range"]}});ranges.length===1&&(debug("range %j",ranges),statusCode=206,options2.maxContentRangeChunkSize&&(ranges[0].end=Math.min(ranges[0].end,ranges[0].start+options2.maxContentRangeChunkSize-1)),headers["Content-Range"]=contentRange("bytes",len,ranges[0]),offset+=ranges[0].start,len=ranges[0].end-ranges[0].start+1)}else debug("range stale")}if(headers["Content-Length"]=len,request2.method==="HEAD")return{statusCode,headers,stream:Readable.from(""),type:"file",metadata:{path:path6,stat}};let stream2=fs3.createReadStream(path6,{highWaterMark:options2.highWaterMark,start:offset,end:Math.max(offset,offset+len-1)});return{statusCode,headers,stream:stream2,type:"file",metadata:{path:path6,stat}}}function sendRedirect(path6,options2){if(hasTrailingSlash(options2.path))return sendError(403);let loc=encodeURI(collapseLeadingSlashes(options2.path+"/")),doc=createHtmlDocument("Redirecting","Redirecting to "+escapeHtml2(loc)),headers={};return headers["Content-Type"]="text/html; charset=utf-8",headers["Content-Length"]=doc[1],headers["Content-Security-Policy"]="default-src 'none'",headers["X-Content-Type-Options"]="nosniff",headers.Location=loc,{statusCode:301,headers,stream:Readable.from(doc[0]),type:"directory",metadata:{requestPath:options2.path,path:path6}}}async function sendIndex(request2,path6,options2){let err;for(let i=0;i<options2.index.length;i++){let index2=options2.index[i],p=join(path6,index2),{error,stat}=await tryStat(p);if(error){err=error;continue}if(!stat.isDirectory())return sendFileDirectly(request2,p,stat,options2)}return err?sendStatError(err):sendError(404)}async function sendFile(request2,path6,options2){let{error,stat}=await tryStat(path6);if(error&&error.code==="ENOENT"&&!extname(path6)&&path6[path6.length-1]!==sep){let err=error;for(let i=0;i<options2.extensions.length;i++){let extension=options2.extensions[i],p=path6+"."+extension,{error:error2,stat:stat2}=await tryStat(p);if(error2){err=error2;continue}if(stat2.isDirectory()){err=null;continue}return sendFileDirectly(request2,p,stat2,options2)}return err?sendStatError(err):sendError(404)}return error?sendStatError(error):stat.isDirectory()?sendRedirect(path6,options2):sendFileDirectly(request2,path6,stat,options2)}async function send(request2,_path,options2){let opts=normalizeOptions(options2);opts.path=_path;let parsed=normalizePath(_path,opts.root),{path:path6,parts}=parsed;if(parsed.statusCode!==void 0)return sendError(parsed.statusCode);if((debug.enabled||opts.dotfiles!==0)&&containsDotFile(parts))switch(opts.dotfiles){case 0:debug('allow dotfile "%s"',path6);break;case 2:return debug('deny dotfile "%s"',path6),sendError(403);case 1:default:return debug('ignore dotfile "%s"',path6),sendError(404)}return opts.index.length&&hasTrailingSlash(_path)?sendIndex(request2,path6,opts):sendFile(request2,path6,opts)}module2.exports.send=send}});var require_send2=__commonJS({"../../../../node_modules/@fastify/send/index.js"(exports2,module2){"use strict";var isUtf8MimeType=require_isUtf8MimeType().isUtf8MimeType,mime=require_mime(),send=require_send().send;module2.exports=send;module2.exports.default=send;module2.exports.send=send;module2.exports.isUtf8MimeType=isUtf8MimeType;module2.exports.mime=mime}});var require_accept_negotiator=__commonJS({"../../../../node_modules/@fastify/accept-negotiator/index.js"(exports2,module2){"use strict";function Negotiator(options2){if(!new.target)return new Negotiator(options2);let{supportedValues=[],cache}=options2&&typeof options2=="object"&&options2||{};this.supportedValues=supportedValues,this.cache=cache}Negotiator.prototype.negotiate=function(header){return typeof header!="string"?null:this.cache?(this.cache.has(header)||this.cache.set(header,negotiate(header,this.supportedValues)),this.cache.get(header)):negotiate(header,this.supportedValues)};function negotiate(header,supportedValues){if(!header||!Array.isArray(supportedValues)||supportedValues.length===0)return null;if(header==="*")return supportedValues[0];let preferredEncoding=null,preferredEncodingPriority=1/0,preferredEncodingQuality=0;function processMatch(enc,quality){if(quality===0||preferredEncodingQuality>quality)return!1;let encoding=enc==="*"&&supportedValues[0]||enc,priority=supportedValues.indexOf(encoding);return priority===-1?!1:priority===0&&quality===1?(preferredEncoding=encoding,!0):((preferredEncodingQuality<quality||preferredEncodingPriority>priority)&&(preferredEncoding=encoding,preferredEncodingPriority=priority,preferredEncodingQuality=quality),!1)}return parse2(header,processMatch),preferredEncoding}var BEGIN=0,TOKEN=1,QUALITY=2,END=3;function parse2(header,processMatch){let str="",quality,state=BEGIN;for(let i=0,il=header.length;i<il;++i){let char=header[i];if(!(char===" "||char==="	")){if(char===";"){state===TOKEN&&(state=QUALITY,quality="");continue}else if(char===","){if(state===TOKEN){if(processMatch(str,1)){state=END;break}state=BEGIN,str=""}else if(state===QUALITY){if(processMatch(str,parseFloat(quality)||0)){state=END;break}state=BEGIN,str="",quality=""}continue}else if(state===QUALITY){if(char==="q"||char==="=")continue;if(char==="."||char==="1"||char==="0"||char==="2"||char==="3"||char==="4"||char==="5"||char==="6"||char==="7"||char==="8"||char==="9"){quality+=char;continue}}else if(state===BEGIN){state=TOKEN,str+=char;continue}if(state===TOKEN){let prevChar=header[i-1];(prevChar===" "||prevChar==="	")&&(str=""),str+=char;continue}if(processMatch(str,parseFloat(quality)||0)){state=END;break}state=BEGIN,str=char,quality=""}}state===TOKEN?processMatch(str,1):state===QUALITY&&processMatch(str,parseFloat(quality)||0)}module2.exports=negotiate;module2.exports.default=negotiate;module2.exports.negotiate=negotiate;module2.exports.Negotiator=Negotiator}});var require_content_disposition=__commonJS({"../../../../node_modules/content-disposition/index.js"(exports2,module2){"use strict";module2.exports=contentDisposition;module2.exports.parse=parse2;var basename=require("path").basename,ENCODE_URL_ATTR_CHAR_REGEXP=/[\x00-\x20"'()*,/:;<=>?@[\\\]{}\x7f]/g,HEX_ESCAPE_REGEXP=/%[0-9A-Fa-f]{2}/,HEX_ESCAPE_REPLACE_REGEXP=/%([0-9A-Fa-f]{2})/g,NON_LATIN1_REGEXP=/[^\x20-\x7e\xa0-\xff]/g,QESC_REGEXP=/\\([\u0000-\u007f])/g,QUOTE_REGEXP=/([\\"])/g,PARAM_REGEXP=/;[\x09\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*=[\x09\x20]*("(?:[\x20!\x23-\x5b\x5d-\x7e\x80-\xff]|\\[\x20-\x7e])*"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*/g,TEXT_REGEXP=/^[\x20-\x7e\x80-\xff]+$/,TOKEN_REGEXP=/^[!#$%&'*+.0-9A-Z^_`a-z|~-]+$/,EXT_VALUE_REGEXP=/^([A-Za-z0-9!#$%&+\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/,DISPOSITION_TYPE_REGEXP=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*(?:$|;)/;function contentDisposition(filename,options2){var opts=options2||{},type=opts.type||"attachment",params=createparams(filename,opts.fallback);return format2(new ContentDisposition(type,params))}function createparams(filename,fallback){if(filename!==void 0){var params={};if(typeof filename!="string")throw new TypeError("filename must be a string");if(fallback===void 0&&(fallback=!0),typeof fallback!="string"&&typeof fallback!="boolean")throw new TypeError("fallback must be a string or boolean");if(typeof fallback=="string"&&NON_LATIN1_REGEXP.test(fallback))throw new TypeError("fallback must be ISO-8859-1 string");var name=basename(filename),isQuotedString=TEXT_REGEXP.test(name),fallbackName=typeof fallback!="string"?fallback&&getlatin1(name):basename(fallback),hasFallback=typeof fallbackName=="string"&&fallbackName!==name;return(hasFallback||!isQuotedString||HEX_ESCAPE_REGEXP.test(name))&&(params["filename*"]=name),(isQuotedString||hasFallback)&&(params.filename=hasFallback?fallbackName:name),params}}function format2(obj){var parameters=obj.parameters,type=obj.type;if(!type||typeof type!="string"||!TOKEN_REGEXP.test(type))throw new TypeError("invalid type");var string=String(type).toLowerCase();if(parameters&&typeof parameters=="object")for(var param,params=Object.keys(parameters).sort(),i=0;i<params.length;i++){param=params[i];var val=param.slice(-1)==="*"?ustring(parameters[param]):qstring(parameters[param]);string+="; "+param+"="+val}return string}function decodefield(str){var match2=EXT_VALUE_REGEXP.exec(str);if(!match2)throw new TypeError("invalid extended field value");var charset=match2[1].toLowerCase(),encoded=match2[2],value,binary=encoded.replace(HEX_ESCAPE_REPLACE_REGEXP,pdecode);switch(charset){case"iso-8859-1":value=getlatin1(binary);break;case"utf-8":case"utf8":value=Buffer.from(binary,"binary").toString("utf8");break;default:throw new TypeError("unsupported charset in extended field")}return value}function getlatin1(val){return String(val).replace(NON_LATIN1_REGEXP,"?")}function parse2(string){if(!string||typeof string!="string")throw new TypeError("argument string is required");var match2=DISPOSITION_TYPE_REGEXP.exec(string);if(!match2)throw new TypeError("invalid type format");var index2=match2[0].length,type=match2[1].toLowerCase(),key,names=[],params={},value;for(index2=PARAM_REGEXP.lastIndex=match2[0].slice(-1)===";"?index2-1:index2;match2=PARAM_REGEXP.exec(string);){if(match2.index!==index2)throw new TypeError("invalid parameter format");if(index2+=match2[0].length,key=match2[1].toLowerCase(),value=match2[2],names.indexOf(key)!==-1)throw new TypeError("invalid duplicate parameter");if(names.push(key),key.indexOf("*")+1===key.length){key=key.slice(0,-1),value=decodefield(value),params[key]=value;continue}typeof params[key]!="string"&&(value[0]==='"'&&(value=value.slice(1,-1).replace(QESC_REGEXP,"$1")),params[key]=value)}if(index2!==-1&&index2!==string.length)throw new TypeError("invalid parameter format");return new ContentDisposition(type,params)}function pdecode(str,hex){return String.fromCharCode(parseInt(hex,16))}function pencode(char){return"%"+String(char).charCodeAt(0).toString(16).toUpperCase()}function qstring(val){var str=String(val);return'"'+str.replace(QUOTE_REGEXP,"\\$1")+'"'}function ustring(val){var str=String(val),encoded=encodeURIComponent(str).replace(ENCODE_URL_ATTR_CHAR_REGEXP,pencode);return"UTF-8''"+encoded}function ContentDisposition(type,parameters){this.type=type,this.parameters=parameters}}});var require_dirList=__commonJS({"../../../../node_modules/@fastify/static/lib/dirList.js"(exports2,module2){"use strict";var os=require("node:os"),path5=require("node:path"),fs3=require("node:fs/promises"),fastq=require_queue(),fastqConcurrency=Math.max(1,os.cpus().length-1),dirList={_getExtendedInfo:async function(dir,info){let depth=dir.split(path5.sep).length,files=await fs3.readdir(dir),worker=async filename=>{let filePath=path5.join(dir,filename),stats;try{stats=await fs3.stat(filePath)}catch{return}stats.isDirectory()?(info.totalFolderCount++,filePath.split(path5.sep).length===depth+1&&info.folderCount++,await dirList._getExtendedInfo(filePath,info)):(info.totalSize+=stats.size,info.totalFileCount++,filePath.split(path5.sep).length===depth+1&&info.fileCount++,info.lastModified=Math.max(info.lastModified,stats.mtimeMs))},queue=fastq.promise(worker,fastqConcurrency);await Promise.all(files.map(filename=>queue.push(filename)))},getExtendedInfo:async function(folderPath){let info={totalSize:0,fileCount:0,totalFileCount:0,folderCount:0,totalFolderCount:0,lastModified:0};return await dirList._getExtendedInfo(folderPath,info),info},list:async function(dir,options2,dotfiles){let entries={dirs:[],files:[]},files=await fs3.readdir(dir);if((dotfiles==="deny"||dotfiles==="ignore")&&(files=files.filter(file=>file.charAt(0)!==".")),files.length<1)return entries;let worker=async filename=>{let stats;try{stats=await fs3.stat(path5.join(dir,filename))}catch{return}let entry={name:filename,stats};stats.isDirectory()?(options2.extendedFolderInfo&&(entry.extendedInfo=await dirList.getExtendedInfo(path5.join(dir,filename))),entries.dirs.push(entry)):entries.files.push(entry)},queue=fastq.promise(worker,fastqConcurrency);return await Promise.all(files.map(filename=>queue.push(filename))),entries.dirs.sort((a,b)=>a.name.localeCompare(b.name)),entries.files.sort((a,b)=>a.name.localeCompare(b.name)),entries},send:async function({reply,dir,options:options2,route,prefix,dotfiles}){if(reply.request.query.format==="html"&&typeof options2.render!="function")throw new TypeError("The `list.render` option must be a function and is required with the URL parameter `format=html`");let entries;try{entries=await dirList.list(dir,options2,dotfiles)}catch{return reply.callNotFound()}if((reply.request.query.format||options2.format)!=="html"){if(options2.jsonFormat!=="extended"){let nameEntries={dirs:[],files:[]};entries.dirs.forEach(entry=>nameEntries.dirs.push(entry.name)),entries.files.forEach(entry=>nameEntries.files.push(entry.name)),await reply.send(nameEntries)}else await reply.send(entries);return}let html=options2.render(entries.dirs.map(entry=>dirList.htmlInfo(entry,route,prefix,options2)),entries.files.map(entry=>dirList.htmlInfo(entry,route,prefix,options2)));await reply.type("text/html").send(html)},htmlInfo:function(entry,route,prefix,options2){return options2.names?.includes(path5.basename(route))&&(route=path5.normalize(path5.join(route,".."))),{href:encodeURI(path5.join(prefix,route,entry.name).replace(/\\/gu,"/")),name:entry.name,stats:entry.stats,extendedInfo:entry.extendedInfo}},handle:function(route,options2){return options2.names?.includes(path5.basename(route))||((options2.names?.includes("/")&&route[route.length-1]==="/")??!1)},path:function(root,route){let _route=route[route.length-1]==="/"?route+"none":route;return path5.dirname(path5.join(root,_route))},validateOptions:function(options2){if(options2.list){if(Array.isArray(options2.root))return new TypeError("multi-root with list option is not supported");if(options2.list.format&&options2.list.format!=="json"&&options2.list.format!=="html")return new TypeError("The `list.format` option must be json or html");if(options2.list.names&&!Array.isArray(options2.list.names))return new TypeError("The `list.names` option must be an array");if(options2.list.jsonFormat!=null&&options2.list.jsonFormat!=="names"&&options2.list.jsonFormat!=="extended")return new TypeError("The `list.jsonFormat` option must be name or extended");if(options2.list.format==="html"&&typeof options2.list.render!="function")return new TypeError("The `list.render` option must be a function and is required with html format")}}};module2.exports=dirList}});var require_static=__commonJS({"../../../../node_modules/@fastify/static/index.js"(exports2,module2){"use strict";var path5=require("node:path"),{fileURLToPath}=require("node:url"),{statSync}=require("node:fs"),{glob}=require_commonjs7(),fp=require_plugin2(),send=require_send2(),encodingNegotiator=require_accept_negotiator(),contentDisposition=require_content_disposition(),dirList=require_dirList(),endForwardSlashRegex=/\/$/u,asteriskRegex=/\*/gu,supportedEncodings=["br","gzip","deflate"];send.mime.default_type="application/octet-stream";var encodingExtensionMap={br:".br",gzip:".gz"};async function fastifyStatic2(fastify2,opts){(opts.serve!==!1||opts.root!==void 0)&&(opts.root=normalizeRoot(opts.root),checkRootPathForErrors(fastify2,opts.root));let setHeaders=opts.setHeaders;if(setHeaders!==void 0&&typeof setHeaders!="function")throw new TypeError("The `setHeaders` option must be a function");let invalidDirListOpts=dirList.validateOptions(opts);if(invalidDirListOpts)throw invalidDirListOpts;opts.dotfiles??="allow";let sendOptions={root:opts.root,acceptRanges:opts.acceptRanges,contentType:opts.contentType,cacheControl:opts.cacheControl,dotfiles:opts.dotfiles,etag:opts.etag,extensions:opts.extensions,immutable:opts.immutable,index:opts.index,lastModified:opts.lastModified,maxAge:opts.maxAge},prefix=opts.prefix??="/";opts.prefixAvoidTrailingSlash||(prefix=prefix[prefix.length-1]==="/"?prefix:prefix+"/");let routeOpts={constraints:opts.constraints,schema:{hide:opts.schemaHide??!0},logLevel:opts.logLevel,errorHandler(error,request2,reply){if(error?.code==="ERR_STREAM_PREMATURE_CLOSE"){reply.request.raw.destroy();return}fastify2.errorHandler(error,request2,reply)}};if(opts.decorateReply!==!1&&(fastify2.decorateReply("sendFile",function(filePath,rootPath,options2){let opts2=typeof rootPath=="object"?rootPath:options2,root=typeof rootPath=="string"?rootPath:opts2?.root;return pumpSendToReply(this.request,this,filePath,root||sendOptions.root,0,opts2),this}),fastify2.decorateReply("download",function(filePath,fileName,options2={}){let{root,...opts2}=typeof fileName=="object"?fileName:options2;return fileName=typeof fileName=="string"?fileName:filePath,this.header("content-disposition",contentDisposition(fileName)),pumpSendToReply(this.request,this,filePath,root,0,opts2),this})),opts.serve!==!1){if(opts.wildcard&&typeof opts.wildcard!="boolean")throw new TypeError('"wildcard" option must be a boolean');if(opts.wildcard===void 0||opts.wildcard===!0)fastify2.route({...routeOpts,method:["HEAD","GET"],path:prefix+"*",handler(req,reply){pumpSendToReply(req,reply,"/"+req.params["*"],sendOptions.root)}}),opts.redirect===!0&&prefix!==opts.prefix&&fastify2.get(opts.prefix,routeOpts,(req,reply)=>{reply.redirect(getRedirectUrl(req.raw.url),301)});else{let indexes=new Set(opts.index===void 0?["index.html"]:[].concat(opts.index)),indexDirs=new Map,routes=new Set,roots=Array.isArray(sendOptions.root)?sendOptions.root:[sendOptions.root];for(let rootPath of roots){rootPath=rootPath.split(path5.win32.sep).join(path5.posix.sep),!rootPath.endsWith("/")&&(rootPath+="/");let files=await glob("**/**",{cwd:rootPath,absolute:!1,follow:!0,nodir:!0,dot:opts.serveDotFiles,ignore:opts.globIgnore});for(let file of files){file=file.split(path5.win32.sep).join(path5.posix.sep);let route=prefix+file;if(routes.has(route))continue;routes.add(route),setUpHeadAndGet(routeOpts,route,`/${file}`,rootPath);let key=path5.posix.basename(route);indexes.has(key)&&!indexDirs.has(key)&&indexDirs.set(path5.posix.dirname(route),rootPath)}}for(let[dirname,rootPath]of indexDirs.entries()){let pathname=dirname+(dirname.endsWith("/")?"":"/"),file="/"+pathname.replace(prefix,"");setUpHeadAndGet(routeOpts,pathname,file,rootPath),opts.redirect===!0&&setUpHeadAndGet(routeOpts,pathname.replace(endForwardSlashRegex,""),file.replace(endForwardSlashRegex,""),rootPath)}}}let allowedPath=opts.allowedPath;async function pumpSendToReply(request2,reply,pathname,rootPath,rootPathOffset=0,pumpOptions,checkedEncodings){let pathnameOrig=pathname,options2=Object.assign({},sendOptions,pumpOptions);if(rootPath)Array.isArray(rootPath)?options2.root=rootPath[rootPathOffset]:options2.root=rootPath;else if(path5.isAbsolute(pathname)===!1)return reply.callNotFound();if(allowedPath&&!allowedPath(pathname,options2.root,request2))return reply.callNotFound();let encoding,pathnameForSend=pathname;if(opts.preCompressed&&(checkedEncodings??=new Set,encoding=getEncodingHeader(request2.headers,checkedEncodings),encoding))if(pathname.endsWith("/")){if(pathname=findIndexFile(pathname,options2.root,options2.index),!pathname)return reply.callNotFound();pathnameForSend=pathnameForSend+pathname+encodingExtensionMap[encoding]}else pathnameForSend=pathname+encodingExtensionMap[encoding];let{statusCode,headers,stream,type,metadata}=await send(request2.raw,encodeURI(pathnameForSend),options2);switch(type){case"directory":{let path6=metadata.path;if(opts.list&&await dirList.send({reply,dir:path6,options:opts.list,route:pathname,prefix,dotfiles:opts.dotfiles}).catch(err=>reply.send(err)),opts.redirect===!0)try{reply.redirect(getRedirectUrl(request2.raw.url),301)}catch(error){await reply.send(error)}else{if(!pathname.endsWith("/")&&findIndexFile(pathname,options2.root,options2.index))return pumpSendToReply(request2,reply,pathname+"/",rootPath,void 0,void 0,checkedEncodings);reply.callNotFound()}break}case"error":{if(statusCode===403&&(!options2.index||!options2.index.length)&&pathnameForSend[pathnameForSend.length-1]==="/"&&opts.list){await dirList.send({reply,dir:dirList.path(opts.root,pathname),options:opts.list,route:pathname,prefix,dotfiles:opts.dotfiles}).catch(err=>reply.send(err));return}if(metadata.error.code==="ENOENT"){if(opts.preCompressed&&encoding&&opts.redirect!==!0&&findIndexFile(pathname,options2.root,options2.index))return pumpSendToReply(request2,reply,pathname+"/",rootPath,void 0,void 0,checkedEncodings);if(opts.list&&dirList.handle(pathname,opts.list)){await dirList.send({reply,dir:dirList.path(opts.root,pathname),options:opts.list,route:pathname,prefix,dotfiles:opts.dotfiles}).catch(err=>reply.send(err));return}return Array.isArray(rootPath)&&rootPathOffset<rootPath.length-1?pumpSendToReply(request2,reply,pathname,rootPath,rootPathOffset+1):opts.preCompressed&&!checkedEncodings.has(encoding)?(checkedEncodings.add(encoding),pumpSendToReply(request2,reply,pathnameOrig,rootPath,rootPathOffset,void 0,checkedEncodings)):reply.callNotFound()}if(metadata.error.status===404)return reply.callNotFound();await reply.send(metadata.error);break}case"file":{let newStatusCode=reply.statusCode!==200?reply.statusCode:statusCode;reply.code(newStatusCode),setHeaders?.(reply.raw,metadata.path,metadata.stat),reply.headers(headers),encoding&&(reply.header("content-type",getContentType(pathname)),reply.header("content-encoding",encoding)),await reply.send(stream);break}}}function setUpHeadAndGet(routeOpts2,route,file,rootPath){let toSetUp=Object.assign({},routeOpts2,{method:["HEAD","GET"],url:route,handler:serveFileHandler});toSetUp.config??={},toSetUp.config.file=file,toSetUp.config.rootPath=rootPath,fastify2.route(toSetUp)}async function serveFileHandler(req,reply){let routeConfig=req.routeOptions?.config;return pumpSendToReply(req,reply,routeConfig.file,routeConfig.rootPath)}}function normalizeRoot(root){if(root===void 0)return root;if(root instanceof URL&&root.protocol==="file:")return fileURLToPath(root);if(Array.isArray(root)){let result=[];for(let i=0,il=root.length;i<il;++i)root[i]instanceof URL&&root[i].protocol==="file:"?result.push(fileURLToPath(root[i])):result.push(root[i]);return result}return root}function checkRootPathForErrors(fastify2,rootPath){if(rootPath===void 0)throw new Error('"root" option is required');if(Array.isArray(rootPath)){if(!rootPath.length)throw new Error('"root" option array requires one or more paths');if(new Set(rootPath).size!==rootPath.length)throw new Error('"root" option array contains one or more duplicate paths');rootPath.map(path6=>checkPath(fastify2,path6));return}if(typeof rootPath=="string")return checkPath(fastify2,rootPath);throw new Error('"root" option must be a string or array of strings')}function checkPath(fastify2,rootPath){if(typeof rootPath!="string")throw new TypeError('"root" option must be a string');if(path5.isAbsolute(rootPath)===!1)throw new Error('"root" option must be an absolute path');let pathStat;try{pathStat=statSync(rootPath)}catch(e){if(e.code==="ENOENT"){fastify2.log.warn(`"root" path "${rootPath}" must exist`);return}throw e}if(pathStat.isDirectory()===!1)throw new Error('"root" option must point to a directory')}function getContentType(path6){let type=send.mime.getType(path6)||send.mime.default_type;return send.isUtf8MimeType(type)?`${type}; charset=utf-8`:type}function findIndexFile(pathname,root,indexFiles=["index.html"]){return Array.isArray(indexFiles)?indexFiles.find(filename=>{let p=path5.join(root,pathname,filename);try{return!statSync(p).isDirectory()}catch{return!1}}):!1}function getEncodingHeader(headers,checked){if(!("accept-encoding"in headers))return;let header=headers["accept-encoding"].toLowerCase().replace(asteriskRegex,"gzip");return encodingNegotiator.negotiate(header,supportedEncodings.filter(enc=>!checked.has(enc)))}function getRedirectUrl(url){let i=0;for(let ul=url.length;i<ul&&!(url[i]!=="/"&&url[i]!=="\\");++i);url="/"+url.slice(i);try{let parsed=new URL(url,"http://localhost.com/"),parsedPathname=parsed.pathname;return parsedPathname+(parsedPathname[parsedPathname.length-1]!=="/"?"/":"")+(parsed.search||"")}catch{let err=new Error(`Invalid redirect URL: ${url}`);throw err.statusCode=400,err}}module2.exports=fp(fastifyStatic2,{fastify:"5.x",name:"@fastify/static"});module2.exports.default=fastifyStatic2;module2.exports.fastifyStatic=fastifyStatic2}});var require_colorette=__commonJS({"../../../../node_modules/colorette/index.cjs"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var tty=require("tty");function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach(function(k){if(k!=="default"){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:!0,get:function(){return e[k]}})}}),n.default=e,Object.freeze(n)}var tty__namespace=_interopNamespace(tty),{env:env2={},argv=[],platform=""}=typeof process>"u"?{}:process,isDisabled="NO_COLOR"in env2||argv.includes("--no-color"),isForced="FORCE_COLOR"in env2||argv.includes("--color"),isWindows=platform==="win32",isDumbTerminal=env2.TERM==="dumb",isCompatibleTerminal=tty__namespace&&tty__namespace.isatty&&tty__namespace.isatty(1)&&env2.TERM&&!isDumbTerminal,isCI="CI"in env2&&("GITHUB_ACTIONS"in env2||"GITLAB_CI"in env2||"CIRCLECI"in env2),isColorSupported=!isDisabled&&(isForced||isWindows&&!isDumbTerminal||isCompatibleTerminal||isCI),replaceClose=(index2,string,close,replace2,head=string.substring(0,index2)+replace2,tail=string.substring(index2+close.length),next=tail.indexOf(close))=>head+(next<0?tail:replaceClose(next,tail,close,replace2)),clearBleed=(index2,string,open,close,replace2)=>index2<0?open+string+close:open+replaceClose(index2,string,close,replace2)+close,filterEmpty=(open,close,replace2=open,at=open.length+1)=>string=>string||!(string===""||string===void 0)?clearBleed((""+string).indexOf(close,at),string,open,close,replace2):"",init=(open,close,replace2)=>filterEmpty(`\x1B[${open}m`,`\x1B[${close}m`,replace2),colors={reset:init(0,0),bold:init(1,22,"\x1B[22m\x1B[1m"),dim:init(2,22,"\x1B[22m\x1B[2m"),italic:init(3,23),underline:init(4,24),inverse:init(7,27),hidden:init(8,28),strikethrough:init(9,29),black:init(30,39),red:init(31,39),green:init(32,39),yellow:init(33,39),blue:init(34,39),magenta:init(35,39),cyan:init(36,39),white:init(37,39),gray:init(90,39),bgBlack:init(40,49),bgRed:init(41,49),bgGreen:init(42,49),bgYellow:init(43,49),bgBlue:init(44,49),bgMagenta:init(45,49),bgCyan:init(46,49),bgWhite:init(47,49),blackBright:init(90,39),redBright:init(91,39),greenBright:init(92,39),yellowBright:init(93,39),blueBright:init(94,39),magentaBright:init(95,39),cyanBright:init(96,39),whiteBright:init(97,39),bgBlackBright:init(100,49),bgRedBright:init(101,49),bgGreenBright:init(102,49),bgYellowBright:init(103,49),bgBlueBright:init(104,49),bgMagentaBright:init(105,49),bgCyanBright:init(106,49),bgWhiteBright:init(107,49)},createColors=({useColor=isColorSupported}={})=>useColor?colors:Object.keys(colors).reduce((colors2,key)=>({...colors2,[key]:String}),{}),{reset:reset2,bold:bold2,dim:dim2,italic:italic2,underline:underline2,inverse:inverse2,hidden:hidden2,strikethrough:strikethrough2,black:black2,red:red2,green:green2,yellow:yellow2,blue:blue2,magenta:magenta2,cyan:cyan2,white:white2,gray:gray2,bgBlack:bgBlack2,bgRed:bgRed2,bgGreen:bgGreen2,bgYellow:bgYellow2,bgBlue:bgBlue2,bgMagenta:bgMagenta2,bgCyan:bgCyan2,bgWhite:bgWhite2,blackBright,redBright,greenBright,yellowBright,blueBright,magentaBright,cyanBright,whiteBright,bgBlackBright,bgRedBright,bgGreenBright,bgYellowBright,bgBlueBright,bgMagentaBright,bgCyanBright,bgWhiteBright}=createColors();exports2.bgBlack=bgBlack2;exports2.bgBlackBright=bgBlackBright;exports2.bgBlue=bgBlue2;exports2.bgBlueBright=bgBlueBright;exports2.bgCyan=bgCyan2;exports2.bgCyanBright=bgCyanBright;exports2.bgGreen=bgGreen2;exports2.bgGreenBright=bgGreenBright;exports2.bgMagenta=bgMagenta2;exports2.bgMagentaBright=bgMagentaBright;exports2.bgRed=bgRed2;exports2.bgRedBright=bgRedBright;exports2.bgWhite=bgWhite2;exports2.bgWhiteBright=bgWhiteBright;exports2.bgYellow=bgYellow2;exports2.bgYellowBright=bgYellowBright;exports2.black=black2;exports2.blackBright=blackBright;exports2.blue=blue2;exports2.blueBright=blueBright;exports2.bold=bold2;exports2.createColors=createColors;exports2.cyan=cyan2;exports2.cyanBright=cyanBright;exports2.dim=dim2;exports2.gray=gray2;exports2.green=green2;exports2.greenBright=greenBright;exports2.hidden=hidden2;exports2.inverse=inverse2;exports2.isColorSupported=isColorSupported;exports2.italic=italic2;exports2.magenta=magenta2;exports2.magentaBright=magentaBright;exports2.red=red2;exports2.redBright=redBright;exports2.reset=reset2;exports2.strikethrough=strikethrough2;exports2.underline=underline2;exports2.white=white2;exports2.whiteBright=whiteBright;exports2.yellow=yellow2;exports2.yellowBright=yellowBright}});var require_wrappy=__commonJS({"../../../../node_modules/wrappy/wrappy.js"(exports2,module2){module2.exports=wrappy;function wrappy(fn,cb){if(fn&&cb)return wrappy(fn)(cb);if(typeof fn!="function")throw new TypeError("need wrapper function");return Object.keys(fn).forEach(function(k){wrapper[k]=fn[k]}),wrapper;function wrapper(){for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];var ret=fn.apply(this,args),cb2=args[args.length-1];return typeof ret=="function"&&ret!==cb2&&Object.keys(cb2).forEach(function(k){ret[k]=cb2[k]}),ret}}}});var require_once=__commonJS({"../../../../node_modules/once/once.js"(exports2,module2){var wrappy=require_wrappy();module2.exports=wrappy(once);module2.exports.strict=wrappy(onceStrict);once.proto=once(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:!0})});function once(fn){var f=function(){return f.called?f.value:(f.called=!0,f.value=fn.apply(this,arguments))};return f.called=!1,f}function onceStrict(fn){var f=function(){if(f.called)throw new Error(f.onceError);return f.called=!0,f.value=fn.apply(this,arguments)},name=fn.name||"Function wrapped with `once`";return f.onceError=name+" shouldn't be called more than once",f.called=!1,f}}});var require_end_of_stream=__commonJS({"../../../../node_modules/end-of-stream/index.js"(exports2,module2){var once=require_once(),noop=function(){},qnt=global.Bare?queueMicrotask:process.nextTick.bind(process),isRequest=function(stream){return stream.setHeader&&typeof stream.abort=="function"},isChildProcess=function(stream){return stream.stdio&&Array.isArray(stream.stdio)&&stream.stdio.length===3},eos=function(stream,opts,callback){if(typeof opts=="function")return eos(stream,null,opts);opts||(opts={}),callback=once(callback||noop);var ws=stream._writableState,rs=stream._readableState,readable=opts.readable||opts.readable!==!1&&stream.readable,writable=opts.writable||opts.writable!==!1&&stream.writable,cancelled=!1,onlegacyfinish=function(){stream.writable||onfinish()},onfinish=function(){writable=!1,readable||callback.call(stream)},onend=function(){readable=!1,writable||callback.call(stream)},onexit=function(exitCode){callback.call(stream,exitCode?new Error("exited with error code: "+exitCode):null)},onerror=function(err){callback.call(stream,err)},onclose=function(){qnt(onclosenexttick)},onclosenexttick=function(){if(!cancelled){if(readable&&!(rs&&rs.ended&&!rs.destroyed))return callback.call(stream,new Error("premature close"));if(writable&&!(ws&&ws.ended&&!ws.destroyed))return callback.call(stream,new Error("premature close"))}},onrequest=function(){stream.req.on("finish",onfinish)};return isRequest(stream)?(stream.on("complete",onfinish),stream.on("abort",onclose),stream.req?onrequest():stream.on("request",onrequest)):writable&&!ws&&(stream.on("end",onlegacyfinish),stream.on("close",onlegacyfinish)),isChildProcess(stream)&&stream.on("exit",onexit),stream.on("end",onend),stream.on("finish",onfinish),opts.error!==!1&&stream.on("error",onerror),stream.on("close",onclose),function(){cancelled=!0,stream.removeListener("complete",onfinish),stream.removeListener("abort",onclose),stream.removeListener("request",onrequest),stream.req&&stream.req.removeListener("finish",onfinish),stream.removeListener("end",onlegacyfinish),stream.removeListener("close",onlegacyfinish),stream.removeListener("finish",onfinish),stream.removeListener("exit",onexit),stream.removeListener("end",onend),stream.removeListener("error",onerror),stream.removeListener("close",onclose)}};module2.exports=eos}});var require_pump=__commonJS({"../../../../node_modules/pump/index.js"(exports2,module2){var once=require_once(),eos=require_end_of_stream(),fs3;try{fs3=require("fs")}catch{}var noop=function(){},ancient=typeof process>"u"?!1:/^v?\.0/.test(process.version),isFn=function(fn){return typeof fn=="function"},isFS=function(stream){return!ancient||!fs3?!1:(stream instanceof(fs3.ReadStream||noop)||stream instanceof(fs3.WriteStream||noop))&&isFn(stream.close)},isRequest=function(stream){return stream.setHeader&&isFn(stream.abort)},destroyer=function(stream,reading,writing,callback){callback=once(callback);var closed=!1;stream.on("close",function(){closed=!0}),eos(stream,{readable:reading,writable:writing},function(err){if(err)return callback(err);closed=!0,callback()});var destroyed=!1;return function(err){if(!closed&&!destroyed){if(destroyed=!0,isFS(stream))return stream.close(noop);if(isRequest(stream))return stream.abort();if(isFn(stream.destroy))return stream.destroy();callback(err||new Error("stream was destroyed"))}}},call=function(fn){fn()},pipe2=function(from,to){return from.pipe(to)},pump=function(){var streams=Array.prototype.slice.call(arguments),callback=isFn(streams[streams.length-1]||noop)&&streams.pop()||noop;if(Array.isArray(streams[0])&&(streams=streams[0]),streams.length<2)throw new Error("pump requires two streams per minimum");var error,destroys=streams.map(function(stream,i){var reading=i<streams.length-1,writing=i>0;return destroyer(stream,reading,writing,function(err){error||(error=err),err&&destroys.forEach(call),!reading&&(destroys.forEach(call),callback(error))})});return streams.reduce(pipe2)};module2.exports=pump}});var require_split2=__commonJS({"../../../../node_modules/split2/index.js"(exports2,module2){"use strict";var{Transform}=require("stream"),{StringDecoder}=require("string_decoder"),kLast=Symbol("last"),kDecoder=Symbol("decoder");function transform(chunk,enc,cb){let list2;if(this.overflow){if(list2=this[kDecoder].write(chunk).split(this.matcher),list2.length===1)return cb();list2.shift(),this.overflow=!1}else this[kLast]+=this[kDecoder].write(chunk),list2=this[kLast].split(this.matcher);this[kLast]=list2.pop();for(let i=0;i<list2.length;i++)try{push(this,this.mapper(list2[i]))}catch(error){return cb(error)}if(this.overflow=this[kLast].length>this.maxLength,this.overflow&&!this.skipOverflow){cb(new Error("maximum buffer reached"));return}cb()}function flush(cb){if(this[kLast]+=this[kDecoder].end(),this[kLast])try{push(this,this.mapper(this[kLast]))}catch(error){return cb(error)}cb()}function push(self2,val){val!==void 0&&self2.push(val)}function noop(incoming){return incoming}function split(matcher,mapper,options2){switch(matcher=matcher||/\r?\n/,mapper=mapper||noop,options2=options2||{},arguments.length){case 1:typeof matcher=="function"?(mapper=matcher,matcher=/\r?\n/):typeof matcher=="object"&&!(matcher instanceof RegExp)&&!matcher[Symbol.split]&&(options2=matcher,matcher=/\r?\n/);break;case 2:typeof matcher=="function"?(options2=mapper,mapper=matcher,matcher=/\r?\n/):typeof mapper=="object"&&(options2=mapper,mapper=noop)}options2=Object.assign({},options2),options2.autoDestroy=!0,options2.transform=transform,options2.flush=flush,options2.readableObjectMode=!0;let stream=new Transform(options2);return stream[kLast]="",stream[kDecoder]=new StringDecoder("utf8"),stream.matcher=matcher,stream.mapper=mapper,stream.maxLength=options2.maxLength,stream.skipOverflow=options2.skipOverflow||!1,stream.overflow=!1,stream._destroy=function(err,cb){this._writableState.errorEmitted=!1,cb(err)},stream}module2.exports=split}});var require_pino_abstract_transport=__commonJS({"../../../../node_modules/pino-abstract-transport/index.js"(exports2,module2){"use strict";var metadata=Symbol.for("pino.metadata"),split=require_split2(),{Duplex}=require("stream"),{parentPort,workerData}=require("worker_threads");function createDeferred(){let resolve,reject,promise=new Promise((_resolve,_reject)=>{resolve=_resolve,reject=_reject});return promise.resolve=resolve,promise.reject=reject,promise}module2.exports=function(fn,opts={}){let waitForConfig=opts.expectPinoConfig===!0&&workerData?.workerData?.pinoWillSendConfig===!0,parseLines=opts.parse==="lines",parseLine=typeof opts.parseLine=="function"?opts.parseLine:JSON.parse,close=opts.close||defaultClose,stream=split(function(line){let value;try{value=parseLine(line)}catch(error){this.emit("unknown",line,error);return}if(value===null){this.emit("unknown",line,"Null value ignored");return}return typeof value!="object"&&(value={data:value,time:Date.now()}),stream[metadata]&&(stream.lastTime=value.time,stream.lastLevel=value.level,stream.lastObj=value),parseLines?line:value},{autoDestroy:!0});if(stream._destroy=function(err,cb){let promise=close(err,cb);promise&&typeof promise.then=="function"&&promise.then(cb,cb)},opts.expectPinoConfig===!0&&workerData?.workerData?.pinoWillSendConfig!==!0&&setImmediate(()=>{stream.emit("error",new Error("This transport is not compatible with the current version of pino. Please upgrade pino to the latest version."))}),opts.metadata!==!1&&(stream[metadata]=!0,stream.lastTime=0,stream.lastLevel=0,stream.lastObj=null),waitForConfig){let pinoConfig={},configReceived=createDeferred();return parentPort.on("message",function handleMessage(message){message.code==="PINO_CONFIG"&&(pinoConfig=message.config,configReceived.resolve(),parentPort.off("message",handleMessage))}),Object.defineProperties(stream,{levels:{get(){return pinoConfig.levels}},messageKey:{get(){return pinoConfig.messageKey}},errorKey:{get(){return pinoConfig.errorKey}}}),configReceived.then(finish)}return finish();function finish(){let res=fn(stream);if(res&&typeof res.catch=="function")res.catch(err=>{stream.destroy(err)}),res=null;else if(opts.enablePipelining&&res)return Duplex.from({writable:stream,readable:res});return stream}};function defaultClose(err,cb){process.nextTick(cb,err)}}});var require_constants3=__commonJS({"../../../../node_modules/pino-pretty/lib/constants.js"(exports2,module2){"use strict";module2.exports={DATE_FORMAT:"yyyy-mm-dd HH:MM:ss.l o",DATE_FORMAT_SIMPLE:"HH:MM:ss.l",ERROR_LIKE_KEYS:["err","error"],MESSAGE_KEY:"msg",LEVEL_KEY:"level",LEVEL_LABEL:"levelLabel",TIMESTAMP_KEY:"time",LEVELS:{default:"USERLVL",60:"FATAL",50:"ERROR",40:"WARN",30:"INFO",20:"DEBUG",10:"TRACE"},LEVEL_NAMES:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},LOGGER_KEYS:["pid","hostname","name","level","time","timestamp","caller"]}}});var require_get_level_label_data=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/get-level-label-data.js"(exports2,module2){"use strict";module2.exports=getLevelLabelData;var{LEVELS,LEVEL_NAMES}=require_constants3();function getLevelLabelData(useOnlyCustomProps,customLevels,customLevelNames){let levels=useOnlyCustomProps?customLevels||LEVELS:Object.assign({},LEVELS,customLevels),levelNames=useOnlyCustomProps?customLevelNames||LEVEL_NAMES:Object.assign({},LEVEL_NAMES,customLevelNames);return function(level){let levelNum="default";return Number.isInteger(+level)?levelNum=Object.prototype.hasOwnProperty.call(levels,level)?level:levelNum:levelNum=Object.prototype.hasOwnProperty.call(levelNames,level.toLowerCase())?levelNames[level.toLowerCase()]:levelNum,[levels[levelNum],levelNum]}}}});var require_colors=__commonJS({"../../../../node_modules/pino-pretty/lib/colors.js"(exports2,module2){"use strict";var nocolor=input=>input,plain={default:nocolor,60:nocolor,50:nocolor,40:nocolor,30:nocolor,20:nocolor,10:nocolor,message:nocolor,greyMessage:nocolor,property:nocolor},{createColors}=require_colorette(),getLevelLabelData=require_get_level_label_data(),availableColors=createColors({useColor:!0}),{white:white2,bgRed:bgRed2,red:red2,yellow:yellow2,green:green2,blue:blue2,gray:gray2,cyan:cyan2,magenta:magenta2}=availableColors,colored={default:white2,60:bgRed2,50:red2,40:yellow2,30:green2,20:blue2,10:gray2,message:cyan2,greyMessage:gray2,property:magenta2};function resolveCustomColoredColorizer(customColors){return customColors.reduce(function(agg,[level,color]){return agg[level]=typeof availableColors[color]=="function"?availableColors[color]:white2,agg},{default:white2,message:cyan2,greyMessage:gray2,property:magenta2})}function colorizeLevel(useOnlyCustomProps){return function(level,colorizer,{customLevels,customLevelNames}={}){let[levelStr,levelNum]=getLevelLabelData(useOnlyCustomProps,customLevels,customLevelNames)(level);return Object.prototype.hasOwnProperty.call(colorizer,levelNum)?colorizer[levelNum](levelStr):colorizer.default(levelStr)}}function plainColorizer(useOnlyCustomProps){let newPlainColorizer=colorizeLevel(useOnlyCustomProps),customColoredColorizer=function(level,opts){return newPlainColorizer(level,plain,opts)};return customColoredColorizer.message=plain.message,customColoredColorizer.greyMessage=plain.greyMessage,customColoredColorizer.property=plain.property,customColoredColorizer.colors=createColors({useColor:!1}),customColoredColorizer}function coloredColorizer(useOnlyCustomProps){let newColoredColorizer=colorizeLevel(useOnlyCustomProps),customColoredColorizer=function(level,opts){return newColoredColorizer(level,colored,opts)};return customColoredColorizer.message=colored.message,customColoredColorizer.property=colored.property,customColoredColorizer.greyMessage=colored.greyMessage,customColoredColorizer.colors=availableColors,customColoredColorizer}function customColoredColorizerFactory(customColors,useOnlyCustomProps){let onlyCustomColored=resolveCustomColoredColorizer(customColors),customColored=useOnlyCustomProps?onlyCustomColored:Object.assign({},colored,onlyCustomColored),colorizeLevelCustom=colorizeLevel(useOnlyCustomProps),customColoredColorizer=function(level,opts){return colorizeLevelCustom(level,customColored,opts)};return customColoredColorizer.colors=availableColors,customColoredColorizer.message=customColoredColorizer.message||customColored.message,customColoredColorizer.property=customColoredColorizer.property||customColored.property,customColoredColorizer.greyMessage=customColoredColorizer.greyMessage||customColored.greyMessage,customColoredColorizer}module2.exports=function(useColors=!1,customColors,useOnlyCustomProps){return useColors&&customColors!==void 0?customColoredColorizerFactory(customColors,useOnlyCustomProps):useColors?coloredColorizer(useOnlyCustomProps):plainColorizer(useOnlyCustomProps)}}});var require_noop=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/noop.js"(exports2,module2){"use strict";module2.exports=function(){}}});var require_build_safe_sonic_boom=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/build-safe-sonic-boom.js"(exports2,module2){"use strict";module2.exports=buildSafeSonicBoom;var{isMainThread}=require("node:worker_threads"),SonicBoom=require_sonic_boom(),noop=require_noop();function buildSafeSonicBoom(opts){let stream=new SonicBoom(opts);return stream.on("error",filterBrokenPipe),!opts.sync&&isMainThread&&setupOnExit(stream),stream;function filterBrokenPipe(err){if(err.code==="EPIPE"){stream.write=noop,stream.end=noop,stream.flushSync=noop,stream.destroy=noop;return}stream.removeListener("error",filterBrokenPipe)}}function setupOnExit(stream){if(global.WeakRef&&global.WeakMap&&global.FinalizationRegistry){let onExit=require_on_exit_leak_free();onExit.register(stream,autoEnd),stream.on("close",function(){onExit.unregister(stream)})}}function autoEnd(stream,eventName){stream.destroyed||(eventName==="beforeExit"?(stream.flush(),stream.on("drain",function(){stream.end()})):stream.flushSync())}}});var require_is_valid_date=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/is-valid-date.js"(exports2,module2){"use strict";module2.exports=isValidDate;function isValidDate(date){return date instanceof Date&&!Number.isNaN(date.getTime())}}});var require_create_date=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/create-date.js"(exports2,module2){"use strict";module2.exports=createDate;var isValidDate=require_is_valid_date();function createDate(epoch){let date=new Date(epoch);return isValidDate(date)||(date=new Date(+epoch)),date}}});var require_split_property_key=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/split-property-key.js"(exports2,module2){"use strict";module2.exports=splitPropertyKey;function splitPropertyKey(key){let result=[],backslash=!1,segment="";for(let i=0;i<key.length;i++){let c=key.charAt(i);if(c==="\\"){backslash=!0;continue}if(backslash){backslash=!1,segment+=c;continue}if(c==="."){result.push(segment),segment="";continue}segment+=c}return segment.length&&result.push(segment),result}}});var require_get_property_value=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/get-property-value.js"(exports2,module2){"use strict";module2.exports=getPropertyValue;var splitPropertyKey=require_split_property_key();function getPropertyValue(obj,property){let props=Array.isArray(property)?property:splitPropertyKey(property);for(let prop of props){if(!Object.prototype.hasOwnProperty.call(obj,prop))return;obj=obj[prop]}return obj}}});var require_delete_log_property=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/delete-log-property.js"(exports2,module2){"use strict";module2.exports=deleteLogProperty;var getPropertyValue=require_get_property_value(),splitPropertyKey=require_split_property_key();function deleteLogProperty(log,property){let props=splitPropertyKey(property),propToDelete=props.pop();log=getPropertyValue(log,props),log!==null&&typeof log=="object"&&Object.prototype.hasOwnProperty.call(log,propToDelete)&&delete log[propToDelete]}}});var require_cjs=__commonJS({"../../../../node_modules/fast-copy/dist/cjs/index.cjs"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var toStringFunction=Function.prototype.toString,create2=Object.create,toStringObject=Object.prototype.toString,LegacyCache=(function(){function LegacyCache2(){this._keys=[],this._values=[]}return LegacyCache2.prototype.has=function(key){return!!~this._keys.indexOf(key)},LegacyCache2.prototype.get=function(key){return this._values[this._keys.indexOf(key)]},LegacyCache2.prototype.set=function(key,value){this._keys.push(key),this._values.push(value)},LegacyCache2})();function createCacheLegacy(){return new LegacyCache}function createCacheModern(){return new WeakMap}var createCache=typeof WeakMap<"u"?createCacheModern:createCacheLegacy;function getCleanClone(prototype){if(!prototype)return create2(null);var Constructor=prototype.constructor;if(Constructor===Object)return prototype===Object.prototype?{}:create2(prototype);if(Constructor&&~toStringFunction.call(Constructor).indexOf("[native code]"))try{return new Constructor}catch{}return create2(prototype)}function getRegExpFlagsLegacy(regExp){var flags="";return regExp.global&&(flags+="g"),regExp.ignoreCase&&(flags+="i"),regExp.multiline&&(flags+="m"),regExp.unicode&&(flags+="u"),regExp.sticky&&(flags+="y"),flags}function getRegExpFlagsModern(regExp){return regExp.flags}var getRegExpFlags=/test/g.flags==="g"?getRegExpFlagsModern:getRegExpFlagsLegacy;function getTagLegacy(value){var type=toStringObject.call(value);return type.substring(8,type.length-1)}function getTagModern(value){return value[Symbol.toStringTag]||getTagLegacy(value)}var getTag2=typeof Symbol<"u"?getTagModern:getTagLegacy,defineProperty=Object.defineProperty,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,_a2=Object.prototype,hasOwnProperty=_a2.hasOwnProperty,propertyIsEnumerable=_a2.propertyIsEnumerable,SUPPORTS_SYMBOL=typeof getOwnPropertySymbols=="function";function getStrictPropertiesModern(object){return getOwnPropertyNames(object).concat(getOwnPropertySymbols(object))}var getStrictProperties=SUPPORTS_SYMBOL?getStrictPropertiesModern:getOwnPropertyNames;function copyOwnPropertiesStrict(value,clone,state){for(var properties=getStrictProperties(value),index3=0,length_1=properties.length,property=void 0,descriptor=void 0;index3<length_1;++index3)if(property=properties[index3],!(property==="callee"||property==="caller")){if(descriptor=getOwnPropertyDescriptor(value,property),!descriptor){clone[property]=state.copier(value[property],state);continue}!descriptor.get&&!descriptor.set&&(descriptor.value=state.copier(descriptor.value,state));try{defineProperty(clone,property,descriptor)}catch{clone[property]=descriptor.value}}return clone}function copyArrayLoose(array,state){var clone=new state.Constructor;state.cache.set(array,clone);for(var index3=0,length_2=array.length;index3<length_2;++index3)clone[index3]=state.copier(array[index3],state);return clone}function copyArrayStrict(array,state){var clone=new state.Constructor;return state.cache.set(array,clone),copyOwnPropertiesStrict(array,clone,state)}function copyArrayBuffer(arrayBuffer,_state){return arrayBuffer.slice(0)}function copyBlob(blob,_state){return blob.slice(0,blob.size,blob.type)}function copyDataView(dataView,state){return new state.Constructor(copyArrayBuffer(dataView.buffer))}function copyDate(date,state){return new state.Constructor(date.getTime())}function copyMapLoose(map,state){var clone=new state.Constructor;return state.cache.set(map,clone),map.forEach(function(value,key){clone.set(key,state.copier(value,state))}),clone}function copyMapStrict(map,state){return copyOwnPropertiesStrict(map,copyMapLoose(map,state),state)}function copyObjectLooseLegacy(object,state){var clone=getCleanClone(state.prototype);state.cache.set(object,clone);for(var key in object)hasOwnProperty.call(object,key)&&(clone[key]=state.copier(object[key],state));return clone}function copyObjectLooseModern(object,state){var clone=getCleanClone(state.prototype);state.cache.set(object,clone);for(var key in object)hasOwnProperty.call(object,key)&&(clone[key]=state.copier(object[key],state));for(var symbols=getOwnPropertySymbols(object),index3=0,length_3=symbols.length,symbol2=void 0;index3<length_3;++index3)symbol2=symbols[index3],propertyIsEnumerable.call(object,symbol2)&&(clone[symbol2]=state.copier(object[symbol2],state));return clone}var copyObjectLoose=SUPPORTS_SYMBOL?copyObjectLooseModern:copyObjectLooseLegacy;function copyObjectStrict(object,state){var clone=getCleanClone(state.prototype);return state.cache.set(object,clone),copyOwnPropertiesStrict(object,clone,state)}function copyPrimitiveWrapper(primitiveObject,state){return new state.Constructor(primitiveObject.valueOf())}function copyRegExp(regExp,state){var clone=new state.Constructor(regExp.source,getRegExpFlags(regExp));return clone.lastIndex=regExp.lastIndex,clone}function copySelf(value,_state){return value}function copySetLoose(set2,state){var clone=new state.Constructor;return state.cache.set(set2,clone),set2.forEach(function(value){clone.add(state.copier(value,state))}),clone}function copySetStrict(set2,state){return copyOwnPropertiesStrict(set2,copySetLoose(set2,state),state)}var isArray=Array.isArray,assign4=Object.assign,getPrototypeOf=Object.getPrototypeOf||(function(obj){return obj.__proto__}),DEFAULT_LOOSE_OPTIONS={array:copyArrayLoose,arrayBuffer:copyArrayBuffer,blob:copyBlob,dataView:copyDataView,date:copyDate,error:copySelf,map:copyMapLoose,object:copyObjectLoose,regExp:copyRegExp,set:copySetLoose},DEFAULT_STRICT_OPTIONS=assign4({},DEFAULT_LOOSE_OPTIONS,{array:copyArrayStrict,map:copyMapStrict,object:copyObjectStrict,set:copySetStrict});function getTagSpecificCopiers(options2){return{Arguments:options2.object,Array:options2.array,ArrayBuffer:options2.arrayBuffer,Blob:options2.blob,Boolean:copyPrimitiveWrapper,DataView:options2.dataView,Date:options2.date,Error:options2.error,Float32Array:options2.arrayBuffer,Float64Array:options2.arrayBuffer,Int8Array:options2.arrayBuffer,Int16Array:options2.arrayBuffer,Int32Array:options2.arrayBuffer,Map:options2.map,Number:copyPrimitiveWrapper,Object:options2.object,Promise:copySelf,RegExp:options2.regExp,Set:options2.set,String:copyPrimitiveWrapper,WeakMap:copySelf,WeakSet:copySelf,Uint8Array:options2.arrayBuffer,Uint8ClampedArray:options2.arrayBuffer,Uint16Array:options2.arrayBuffer,Uint32Array:options2.arrayBuffer,Uint64Array:options2.arrayBuffer}}function createCopier(options2){var normalizedOptions=assign4({},DEFAULT_LOOSE_OPTIONS,options2),tagSpecificCopiers=getTagSpecificCopiers(normalizedOptions),array=tagSpecificCopiers.Array,object=tagSpecificCopiers.Object;function copier(value,state){if(state.prototype=state.Constructor=void 0,!value||typeof value!="object")return value;if(state.cache.has(value))return state.cache.get(value);if(state.prototype=getPrototypeOf(value),state.Constructor=state.prototype&&state.prototype.constructor,!state.Constructor||state.Constructor===Object)return object(value,state);if(isArray(value))return array(value,state);var tagSpecificCopier=tagSpecificCopiers[getTag2(value)];return tagSpecificCopier?tagSpecificCopier(value,state):typeof value.then=="function"?value:object(value,state)}return function(value){return copier(value,{Constructor:void 0,cache:createCache(),copier,prototype:void 0})}}function createStrictCopier(options2){return createCopier(assign4({},DEFAULT_STRICT_OPTIONS,options2))}var copyStrict=createStrictCopier({}),index2=createCopier({});exports2.copyStrict=copyStrict;exports2.createCopier=createCopier;exports2.createStrictCopier=createStrictCopier;exports2.default=index2}});var require_filter_log=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/filter-log.js"(exports2,module2){"use strict";module2.exports=filterLog;var{createCopier}=require_cjs(),fastCopy=createCopier({}),deleteLogProperty=require_delete_log_property();function filterLog({log,context}){let{ignoreKeys,includeKeys}=context,logCopy=fastCopy(log);if(includeKeys){let logIncluded={};return includeKeys.forEach(key=>{logIncluded[key]=logCopy[key]}),logIncluded}return ignoreKeys.forEach(ignoreKey=>{deleteLogProperty(logCopy,ignoreKey)}),logCopy}}});var require_dateformat=__commonJS({"../../../../node_modules/dateformat/lib/dateformat.js"(exports2,module2){"use strict";function _typeof(obj){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(obj2){return typeof obj2}:_typeof=function(obj2){return obj2&&typeof Symbol=="function"&&obj2.constructor===Symbol&&obj2!==Symbol.prototype?"symbol":typeof obj2},_typeof(obj)}(function(global2){var _arguments=arguments,dateFormat=(function(){var token=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,timezoneClip=/[^-+\dA-Z]/g;return function(date,mask,utc,gmt){if(_arguments.length===1&&kindOf(date)==="string"&&!/\d/.test(date)&&(mask=date,date=void 0),date=date||date===0?date:new Date,date instanceof Date||(date=new Date(date)),isNaN(date))throw TypeError("Invalid date");mask=String(dateFormat.masks[mask]||mask||dateFormat.masks.default);var maskSlice=mask.slice(0,4);(maskSlice==="UTC:"||maskSlice==="GMT:")&&(mask=mask.slice(4),utc=!0,maskSlice==="GMT:"&&(gmt=!0));var _=function(){return utc?"getUTC":"get"},_d=function(){return date[_()+"Date"]()},D=function(){return date[_()+"Day"]()},_m=function(){return date[_()+"Month"]()},y=function(){return date[_()+"FullYear"]()},_H=function(){return date[_()+"Hours"]()},_M=function(){return date[_()+"Minutes"]()},_s=function(){return date[_()+"Seconds"]()},_L=function(){return date[_()+"Milliseconds"]()},_o=function(){return utc?0:date.getTimezoneOffset()},_W=function(){return getWeek(date)},_N=function(){return getDayOfWeek(date)},flags={d:function(){return _d()},dd:function(){return pad(_d())},ddd:function(){return dateFormat.i18n.dayNames[D()]},DDD:function(){return getDayName({y:y(),m:_m(),d:_d(),_:_(),dayName:dateFormat.i18n.dayNames[D()],short:!0})},dddd:function(){return dateFormat.i18n.dayNames[D()+7]},DDDD:function(){return getDayName({y:y(),m:_m(),d:_d(),_:_(),dayName:dateFormat.i18n.dayNames[D()+7]})},m:function(){return _m()+1},mm:function(){return pad(_m()+1)},mmm:function(){return dateFormat.i18n.monthNames[_m()]},mmmm:function(){return dateFormat.i18n.monthNames[_m()+12]},yy:function(){return String(y()).slice(2)},yyyy:function(){return pad(y(),4)},h:function(){return _H()%12||12},hh:function(){return pad(_H()%12||12)},H:function(){return _H()},HH:function(){return pad(_H())},M:function(){return _M()},MM:function(){return pad(_M())},s:function(){return _s()},ss:function(){return pad(_s())},l:function(){return pad(_L(),3)},L:function(){return pad(Math.floor(_L()/10))},t:function(){return _H()<12?dateFormat.i18n.timeNames[0]:dateFormat.i18n.timeNames[1]},tt:function(){return _H()<12?dateFormat.i18n.timeNames[2]:dateFormat.i18n.timeNames[3]},T:function(){return _H()<12?dateFormat.i18n.timeNames[4]:dateFormat.i18n.timeNames[5]},TT:function(){return _H()<12?dateFormat.i18n.timeNames[6]:dateFormat.i18n.timeNames[7]},Z:function(){return gmt?"GMT":utc?"UTC":(String(date).match(timezone)||[""]).pop().replace(timezoneClip,"").replace(/GMT\+0000/g,"UTC")},o:function(){return(_o()>0?"-":"+")+pad(Math.floor(Math.abs(_o())/60)*100+Math.abs(_o())%60,4)},p:function(){return(_o()>0?"-":"+")+pad(Math.floor(Math.abs(_o())/60),2)+":"+pad(Math.floor(Math.abs(_o())%60),2)},S:function(){return["th","st","nd","rd"][_d()%10>3?0:(_d()%100-_d()%10!=10)*_d()%10]},W:function(){return _W()},WW:function(){return pad(_W())},N:function(){return _N()}};return mask.replace(token,function(match2){return match2 in flags?flags[match2]():match2.slice(1,match2.length-1)})}})();dateFormat.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};var pad=function(val,len){for(val=String(val),len=len||2;val.length<len;)val="0"+val;return val},getDayName=function(_ref){var y=_ref.y,m=_ref.m,d=_ref.d,_=_ref._,dayName=_ref.dayName,_ref$short=_ref.short,_short=_ref$short===void 0?!1:_ref$short,today=new Date,yesterday=new Date;yesterday.setDate(yesterday[_+"Date"]()-1);var tomorrow=new Date;tomorrow.setDate(tomorrow[_+"Date"]()+1);var today_d=function(){return today[_+"Date"]()},today_m=function(){return today[_+"Month"]()},today_y=function(){return today[_+"FullYear"]()},yesterday_d=function(){return yesterday[_+"Date"]()},yesterday_m=function(){return yesterday[_+"Month"]()},yesterday_y=function(){return yesterday[_+"FullYear"]()},tomorrow_d=function(){return tomorrow[_+"Date"]()},tomorrow_m=function(){return tomorrow[_+"Month"]()},tomorrow_y=function(){return tomorrow[_+"FullYear"]()};return today_y()===y&&today_m()===m&&today_d()===d?_short?"Tdy":"Today":yesterday_y()===y&&yesterday_m()===m&&yesterday_d()===d?_short?"Ysd":"Yesterday":tomorrow_y()===y&&tomorrow_m()===m&&tomorrow_d()===d?_short?"Tmw":"Tomorrow":dayName},getWeek=function(date){var targetThursday=new Date(date.getFullYear(),date.getMonth(),date.getDate());targetThursday.setDate(targetThursday.getDate()-(targetThursday.getDay()+6)%7+3);var firstThursday=new Date(targetThursday.getFullYear(),0,4);firstThursday.setDate(firstThursday.getDate()-(firstThursday.getDay()+6)%7+3);var ds=targetThursday.getTimezoneOffset()-firstThursday.getTimezoneOffset();targetThursday.setHours(targetThursday.getHours()-ds);var weekDiff=(targetThursday-firstThursday)/(864e5*7);return 1+Math.floor(weekDiff)},getDayOfWeek=function(date){var dow=date.getDay();return dow===0&&(dow=7),dow},kindOf=function(val){return val===null?"null":val===void 0?"undefined":_typeof(val)!=="object"?_typeof(val):Array.isArray(val)?"array":{}.toString.call(val).slice(8,-1).toLowerCase()};typeof define=="function"&&define.amd?define(function(){return dateFormat}):(typeof exports2>"u"?"undefined":_typeof(exports2))==="object"?module2.exports=dateFormat:global2.dateFormat=dateFormat})(void 0)}});var require_format_time=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/format-time.js"(exports2,module2){"use strict";module2.exports=formatTime;var{DATE_FORMAT,DATE_FORMAT_SIMPLE}=require_constants3(),dateformat=require_dateformat(),createDate=require_create_date(),isValidDate=require_is_valid_date();function formatTime(epoch,translateTime=!1){if(translateTime===!1)return epoch;let instant=createDate(epoch);if(!isValidDate(instant))return epoch;if(translateTime===!0)return dateformat(instant,DATE_FORMAT_SIMPLE);let upperFormat=translateTime.toUpperCase();if(upperFormat==="SYS:STANDARD")return dateformat(instant,DATE_FORMAT);let prefix=upperFormat.substr(0,4);return prefix==="SYS:"||prefix==="UTC:"?prefix==="UTC:"?dateformat(instant,translateTime):dateformat(instant,translateTime.slice(4)):dateformat(instant,`UTC:${translateTime}`)}}});var require_handle_custom_levels_names_opts=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/handle-custom-levels-names-opts.js"(exports2,module2){"use strict";module2.exports=handleCustomLevelsNamesOpts;function handleCustomLevelsNamesOpts(cLevels){return cLevels?typeof cLevels=="string"?cLevels.split(",").reduce((agg,value,idx)=>{let[levelName,levelNum=idx]=value.split(":");return agg[levelName.toLowerCase()]=levelNum,agg},{}):Object.prototype.toString.call(cLevels)==="[object Object]"?Object.keys(cLevels).reduce((agg,levelName)=>(agg[levelName.toLowerCase()]=cLevels[levelName],agg),{}):{}:{}}}});var require_handle_custom_levels_opts=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/handle-custom-levels-opts.js"(exports2,module2){"use strict";module2.exports=handleCustomLevelsOpts;function handleCustomLevelsOpts(cLevels){return cLevels?typeof cLevels=="string"?cLevels.split(",").reduce((agg,value,idx)=>{let[levelName,levelNum=idx]=value.split(":");return agg[levelNum]=levelName.toUpperCase(),agg},{default:"USERLVL"}):Object.prototype.toString.call(cLevels)==="[object Object]"?Object.keys(cLevels).reduce((agg,levelName)=>(agg[cLevels[levelName]]=levelName.toUpperCase(),agg),{default:"USERLVL"}):{}:{}}}});var require_interpret_conditionals=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/interpret-conditionals.js"(exports2,module2){"use strict";module2.exports=interpretConditionals;var getPropertyValue=require_get_property_value();function interpretConditionals(messageFormat,log){return messageFormat=messageFormat.replace(/{if (.*?)}(.*?){end}/g,replacer),messageFormat=messageFormat.replace(/{if (.*?)}/g,""),messageFormat=messageFormat.replace(/{end}/g,""),messageFormat.replace(/\s+/g," ").trim();function replacer(_,key,value){let propertyValue=getPropertyValue(log,key);return propertyValue&&value.includes(key)?value.replace(new RegExp("{"+key+"}","g"),propertyValue):""}}}});var require_is_object=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/is-object.js"(exports2,module2){"use strict";module2.exports=isObject4;function isObject4(input){return Object.prototype.toString.apply(input)==="[object Object]"}}});var require_join_lines_with_indentation=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/join-lines-with-indentation.js"(exports2,module2){"use strict";module2.exports=joinLinesWithIndentation;function joinLinesWithIndentation({input,ident="    ",eol=`
`}){let lines=input.split(/\r?\n/);for(let i=1;i<lines.length;i+=1)lines[i]=ident+lines[i];return lines.join(eol)}}});var require_parse_factory_options=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/parse-factory-options.js"(exports2,module2){"use strict";module2.exports=parseFactoryOptions;var{LEVEL_NAMES}=require_constants3(),colors=require_colors(),handleCustomLevelsOpts=require_handle_custom_levels_opts(),handleCustomLevelsNamesOpts=require_handle_custom_levels_names_opts(),handleLevelLabelData=require_get_level_label_data();function parseFactoryOptions(options2){let EOL3=options2.crlf?`\r
`:`
`,IDENT="    ",{customPrettifiers,errorLikeObjectKeys,hideObject,levelFirst,levelKey,levelLabel,messageFormat,messageKey,minimumLevel,singleLine,timestampKey,translateTime}=options2,errorProps=options2.errorProps.split(","),useOnlyCustomProps=typeof options2.useOnlyCustomProps=="boolean"?options2.useOnlyCustomProps:options2.useOnlyCustomProps==="true",customLevels=handleCustomLevelsOpts(options2.customLevels),customLevelNames=handleCustomLevelsNamesOpts(options2.customLevels),getLevelLabelData=handleLevelLabelData(useOnlyCustomProps,customLevels,customLevelNames),customColors;if(options2.customColors)if(typeof options2.customColors=="string")customColors=options2.customColors.split(",").reduce((agg,value)=>{let[level,color]=value.split(":"),levelNum=(useOnlyCustomProps?options2.customLevels:customLevelNames[level]!==void 0)?customLevelNames[level]:LEVEL_NAMES[level],colorIdx=levelNum!==void 0?levelNum:level;return agg.push([colorIdx,color]),agg},[]);else if(typeof options2.customColors=="object")customColors=Object.keys(options2.customColors).reduce((agg,value)=>{let[level,color]=[value,options2.customColors[value]],levelNum=(useOnlyCustomProps?options2.customLevels:customLevelNames[level]!==void 0)?customLevelNames[level]:LEVEL_NAMES[level],colorIdx=levelNum!==void 0?levelNum:level;return agg.push([colorIdx,color]),agg},[]);else throw new Error("options.customColors must be of type string or object.");let customProperties={customLevels,customLevelNames};useOnlyCustomProps===!0&&!options2.customLevels&&(customProperties.customLevels=void 0,customProperties.customLevelNames=void 0);let includeKeys=options2.include!==void 0?new Set(options2.include.split(",")):void 0,ignoreKeys=!includeKeys&&options2.ignore?new Set(options2.ignore.split(",")):void 0,colorizer=colors(options2.colorize,customColors,useOnlyCustomProps),objectColorizer=options2.colorizeObjects?colorizer:colors(!1,[],!1);return{EOL:EOL3,IDENT,colorizer,customColors,customLevelNames,customLevels,customPrettifiers,customProperties,errorLikeObjectKeys,errorProps,getLevelLabelData,hideObject,ignoreKeys,includeKeys,levelFirst,levelKey,levelLabel,messageFormat,messageKey,minimumLevel,objectColorizer,singleLine,timestampKey,translateTime,useOnlyCustomProps}}}});var require_fast_safe_stringify=__commonJS({"../../../../node_modules/fast-safe-stringify/index.js"(exports2,module2){module2.exports=stringify2;stringify2.default=stringify2;stringify2.stable=deterministicStringify;stringify2.stableStringify=deterministicStringify;var LIMIT_REPLACE_NODE="[...]",CIRCULAR_REPLACE_NODE="[Circular]",arr=[],replacerStack=[];function defaultOptions3(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify2(obj,replacer,spacer,options2){typeof options2>"u"&&(options2=defaultOptions3()),decirc(obj,"",0,[],void 0,0,options2);var res;try{replacerStack.length===0?res=JSON.stringify(obj,replacer,spacer):res=JSON.stringify(obj,replaceGetterValues(replacer),spacer)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var part=arr.pop();part.length===4?Object.defineProperty(part[0],part[1],part[3]):part[0][part[1]]=part[2]}}return res}function setReplace(replace2,val,k,parent){var propertyDescriptor=Object.getOwnPropertyDescriptor(parent,k);propertyDescriptor.get!==void 0?propertyDescriptor.configurable?(Object.defineProperty(parent,k,{value:replace2}),arr.push([parent,k,val,propertyDescriptor])):replacerStack.push([val,k,replace2]):(parent[k]=replace2,arr.push([parent,k,val]))}function decirc(val,k,edgeIndex,stack,parent,depth,options2){depth+=1;var i;if(typeof val=="object"&&val!==null){for(i=0;i<stack.length;i++)if(stack[i]===val){setReplace(CIRCULAR_REPLACE_NODE,val,k,parent);return}if(typeof options2.depthLimit<"u"&&depth>options2.depthLimit){setReplace(LIMIT_REPLACE_NODE,val,k,parent);return}if(typeof options2.edgesLimit<"u"&&edgeIndex+1>options2.edgesLimit){setReplace(LIMIT_REPLACE_NODE,val,k,parent);return}if(stack.push(val),Array.isArray(val))for(i=0;i<val.length;i++)decirc(val[i],i,i,stack,val,depth,options2);else{var keys2=Object.keys(val);for(i=0;i<keys2.length;i++){var key=keys2[i];decirc(val[key],key,i,stack,val,depth,options2)}}stack.pop()}}function compareFunction(a,b){return a<b?-1:a>b?1:0}function deterministicStringify(obj,replacer,spacer,options2){typeof options2>"u"&&(options2=defaultOptions3());var tmp=deterministicDecirc(obj,"",0,[],void 0,0,options2)||obj,res;try{replacerStack.length===0?res=JSON.stringify(tmp,replacer,spacer):res=JSON.stringify(tmp,replaceGetterValues(replacer),spacer)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var part=arr.pop();part.length===4?Object.defineProperty(part[0],part[1],part[3]):part[0][part[1]]=part[2]}}return res}function deterministicDecirc(val,k,edgeIndex,stack,parent,depth,options2){depth+=1;var i;if(typeof val=="object"&&val!==null){for(i=0;i<stack.length;i++)if(stack[i]===val){setReplace(CIRCULAR_REPLACE_NODE,val,k,parent);return}try{if(typeof val.toJSON=="function")return}catch{return}if(typeof options2.depthLimit<"u"&&depth>options2.depthLimit){setReplace(LIMIT_REPLACE_NODE,val,k,parent);return}if(typeof options2.edgesLimit<"u"&&edgeIndex+1>options2.edgesLimit){setReplace(LIMIT_REPLACE_NODE,val,k,parent);return}if(stack.push(val),Array.isArray(val))for(i=0;i<val.length;i++)deterministicDecirc(val[i],i,i,stack,val,depth,options2);else{var tmp={},keys2=Object.keys(val).sort(compareFunction);for(i=0;i<keys2.length;i++){var key=keys2[i];deterministicDecirc(val[key],key,i,stack,val,depth,options2),tmp[key]=val[key]}if(typeof parent<"u")arr.push([parent,k,val]),parent[k]=tmp;else return tmp}stack.pop()}}function replaceGetterValues(replacer){return replacer=typeof replacer<"u"?replacer:function(k,v){return v},function(key,val){if(replacerStack.length>0)for(var i=0;i<replacerStack.length;i++){var part=replacerStack[i];if(part[1]===key&&part[0]===val){val=part[2],replacerStack.splice(i,1);break}}return replacer.call(this,key,val)}}}});var require_prettify_error=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/prettify-error.js"(exports2,module2){"use strict";module2.exports=prettifyError;var joinLinesWithIndentation=require_join_lines_with_indentation();function prettifyError({keyName,lines,eol,ident}){let result="",joinedLines=joinLinesWithIndentation({input:lines,ident,eol}),splitLines=`${ident}${keyName}: ${joinedLines}${eol}`.split(eol);for(let j=0;j<splitLines.length;j+=1){j!==0&&(result+=eol);let line=splitLines[j];if(/^\s*"stack"/.test(line)){let matches=/^(\s*"stack":)\s*(".*"),?$/.exec(line);if(matches&&matches.length===3){let indentSize=/^\s*/.exec(line)[0].length+4,indentation=" ".repeat(indentSize),stackMessage=matches[2];result+=matches[1]+eol+indentation+JSON.parse(stackMessage).replace(/\n/g,eol+indentation)}else result+=line}else result+=line}return result}}});var require_prettify_object=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/prettify-object.js"(exports2,module2){"use strict";module2.exports=prettifyObject;var{LOGGER_KEYS}=require_constants3(),stringifySafe=require_fast_safe_stringify(),joinLinesWithIndentation=require_join_lines_with_indentation(),prettifyError=require_prettify_error();function prettifyObject({log,excludeLoggerKeys=!0,skipKeys=[],context}){let{EOL:eol,IDENT:ident,customPrettifiers,errorLikeObjectKeys:errorLikeKeys,objectColorizer,singleLine,colorizer}=context,keysToIgnore=[].concat(skipKeys);excludeLoggerKeys===!0&&Array.prototype.push.apply(keysToIgnore,LOGGER_KEYS);let result="",{plain,errors}=Object.entries(log).reduce(({plain:plain2,errors:errors2},[k,v])=>{if(keysToIgnore.includes(k)===!1){let pretty=typeof customPrettifiers[k]=="function"?customPrettifiers[k](v,k,log,{colors:colorizer.colors}):v;errorLikeKeys.includes(k)?errors2[k]=pretty:plain2[k]=pretty}return{plain:plain2,errors:errors2}},{plain:{},errors:{}});return singleLine?(Object.keys(plain).length>0&&(result+=objectColorizer.greyMessage(stringifySafe(plain))),result+=eol,result=result.replace(/\\\\/gi,"\\")):Object.entries(plain).forEach(([keyName,keyValue])=>{let lines=typeof customPrettifiers[keyName]=="function"?keyValue:stringifySafe(keyValue,null,2);if(lines===void 0)return;lines=lines.replace(/\\\\/gi,"\\");let joinedLines=joinLinesWithIndentation({input:lines,ident,eol});result+=`${ident}${objectColorizer.property(keyName)}:${joinedLines.startsWith(eol)?"":" "}${joinedLines}${eol}`}),Object.entries(errors).forEach(([keyName,keyValue])=>{let lines=typeof customPrettifiers[keyName]=="function"?keyValue:stringifySafe(keyValue,null,2);lines!==void 0&&(result+=prettifyError({keyName,lines,eol,ident}))}),result}}});var require_prettify_error_log=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/prettify-error-log.js"(exports2,module2){"use strict";module2.exports=prettifyErrorLog;var{LOGGER_KEYS}=require_constants3(),isObject4=require_is_object(),joinLinesWithIndentation=require_join_lines_with_indentation(),prettifyObject=require_prettify_object();function prettifyErrorLog({log,context}){let{EOL:eol,IDENT:ident,errorProps:errorProperties,messageKey}=context,stack=log.stack,joinedLines=joinLinesWithIndentation({input:stack,ident,eol}),result=`${ident}${joinedLines}${eol}`;if(errorProperties.length>0){let excludeProperties=LOGGER_KEYS.concat(messageKey,"type","stack"),propertiesToPrint;errorProperties[0]==="*"?propertiesToPrint=Object.keys(log).filter(k=>excludeProperties.includes(k)===!1):propertiesToPrint=errorProperties.filter(k=>excludeProperties.includes(k)===!1);for(let i=0;i<propertiesToPrint.length;i+=1){let key=propertiesToPrint[i];if(key in log){if(isObject4(log[key])){let prettifiedObject=prettifyObject({log:log[key],excludeLoggerKeys:!1,context:{...context,IDENT:ident+ident}});result=`${result}${ident}${key}: {${eol}${prettifiedObject}${ident}}${eol}`;continue}result=`${result}${ident}${key}: ${log[key]}${eol}`}}}return result}}});var require_prettify_level=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/prettify-level.js"(exports2,module2){"use strict";module2.exports=prettifyLevel;var getPropertyValue=require_get_property_value();function prettifyLevel({log,context}){let{colorizer,customLevels,customLevelNames,levelKey,getLevelLabelData}=context,prettifier2=context.customPrettifiers?.level,output=getPropertyValue(log,levelKey);if(output===void 0)return;let labelColorized=colorizer(output,{customLevels,customLevelNames});if(prettifier2){let[label]=getLevelLabelData(output);return prettifier2(output,levelKey,log,{label,labelColorized,colors:colorizer.colors})}return labelColorized}}});var require_prettify_message=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/prettify-message.js"(exports2,module2){"use strict";module2.exports=prettifyMessage;var{LEVELS}=require_constants3(),getPropertyValue=require_get_property_value(),interpretConditionals=require_interpret_conditionals();function prettifyMessage({log,context}){let{colorizer,customLevels,levelKey,levelLabel,messageFormat,messageKey,useOnlyCustomProps}=context;if(messageFormat&&typeof messageFormat=="string"){let parsedMessageFormat=interpretConditionals(messageFormat,log),message=String(parsedMessageFormat).replace(/{([^{}]+)}/g,function(match2,p1){let level;return p1===levelLabel&&(level=getPropertyValue(log,levelKey))!==void 0?(useOnlyCustomProps?customLevels===void 0:customLevels[level]===void 0)?LEVELS[level]:customLevels[level]:getPropertyValue(log,p1)||""});return colorizer.message(message)}if(messageFormat&&typeof messageFormat=="function"){let msg=messageFormat(log,messageKey,levelLabel,{colors:colorizer.colors});return colorizer.message(msg)}if(messageKey in log&&!(typeof log[messageKey]!="string"&&typeof log[messageKey]!="number"&&typeof log[messageKey]!="boolean"))return colorizer.message(log[messageKey])}}});var require_prettify_metadata=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/prettify-metadata.js"(exports2,module2){"use strict";module2.exports=prettifyMetadata;function prettifyMetadata({log,context}){let{customPrettifiers:prettifiers,colorizer}=context,line="";if(log.name||log.pid||log.hostname){if(line+="(",log.name&&(line+=prettifiers.name?prettifiers.name(log.name,"name",log,{colors:colorizer.colors}):log.name),log.pid){let prettyPid=prettifiers.pid?prettifiers.pid(log.pid,"pid",log,{colors:colorizer.colors}):log.pid;log.name&&log.pid?line+="/"+prettyPid:line+=prettyPid}if(log.hostname){let prettyHostname=prettifiers.hostname?prettifiers.hostname(log.hostname,"hostname",log,{colors:colorizer.colors}):log.hostname;line+=`${line==="("?"on":" on"} ${prettyHostname}`}line+=")"}if(log.caller){let prettyCaller=prettifiers.caller?prettifiers.caller(log.caller,"caller",log,{colors:colorizer.colors}):log.caller;line+=`${line===""?"":" "}<${prettyCaller}>`}if(line!=="")return line}}});var require_prettify_time=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/prettify-time.js"(exports2,module2){"use strict";module2.exports=prettifyTime2;var formatTime=require_format_time();function prettifyTime2({log,context}){let{timestampKey,translateTime:translateFormat}=context,prettifier2=context.customPrettifiers?.time,time=null;if(timestampKey in log?time=log[timestampKey]:"timestamp"in log&&(time=log.timestamp),time===null)return;let output=translateFormat?formatTime(time,translateFormat):time;return prettifier2?prettifier2(output):`[${output}]`}}});var require_utils2=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/index.js"(exports2,module2){"use strict";module2.exports={buildSafeSonicBoom:require_build_safe_sonic_boom(),createDate:require_create_date(),deleteLogProperty:require_delete_log_property(),filterLog:require_filter_log(),formatTime:require_format_time(),getPropertyValue:require_get_property_value(),handleCustomLevelsNamesOpts:require_handle_custom_levels_names_opts(),handleCustomLevelsOpts:require_handle_custom_levels_opts(),interpretConditionals:require_interpret_conditionals(),isObject:require_is_object(),isValidDate:require_is_valid_date(),joinLinesWithIndentation:require_join_lines_with_indentation(),noop:require_noop(),parseFactoryOptions:require_parse_factory_options(),prettifyErrorLog:require_prettify_error_log(),prettifyError:require_prettify_error(),prettifyLevel:require_prettify_level(),prettifyMessage:require_prettify_message(),prettifyMetadata:require_prettify_metadata(),prettifyObject:require_prettify_object(),prettifyTime:require_prettify_time(),splitPropertyKey:require_split_property_key(),getLevelLabelData:require_get_level_label_data()}}});var require_pretty=__commonJS({"../../../../node_modules/pino-pretty/lib/pretty.js"(exports2,module2){"use strict";module2.exports=pretty;var sjs=require_secure_json_parse(),isObject4=require_is_object(),prettifyErrorLog=require_prettify_error_log(),prettifyLevel=require_prettify_level(),prettifyMessage=require_prettify_message(),prettifyMetadata=require_prettify_metadata(),prettifyObject=require_prettify_object(),prettifyTime2=require_prettify_time(),filterLog=require_filter_log(),{LEVELS,LEVEL_KEY,LEVEL_NAMES}=require_constants3(),jsonParser=input=>{try{return{value:sjs.parse(input,{protoAction:"remove"})}}catch(err){return{err}}};function pretty(inputData){let log;if(isObject4(inputData))log=inputData;else{let parsed=jsonParser(inputData);if(parsed.err||!isObject4(parsed.value))return inputData+this.EOL;log=parsed.value}if(this.minimumLevel){let condition;this.useOnlyCustomProps?condition=this.customLevels:condition=this.customLevelNames[this.minimumLevel]!==void 0;let minimum;if(condition?minimum=this.customLevelNames[this.minimumLevel]:minimum=LEVEL_NAMES[this.minimumLevel],minimum||(minimum=typeof this.minimumLevel=="string"?LEVEL_NAMES[this.minimumLevel]:LEVEL_NAMES[LEVELS[this.minimumLevel].toLowerCase()]),log[this.levelKey===void 0?LEVEL_KEY:this.levelKey]<minimum)return}let prettifiedMessage=prettifyMessage({log,context:this.context});(this.ignoreKeys||this.includeKeys)&&(log=filterLog({log,context:this.context}));let prettifiedLevel=prettifyLevel({log,context:{...this.context,...this.context.customProperties}}),prettifiedMetadata=prettifyMetadata({log,context:this.context}),prettifiedTime=prettifyTime2({log,context:this.context}),line="";if(this.levelFirst&&prettifiedLevel&&(line=`${prettifiedLevel}`),prettifiedTime&&line===""?line=`${prettifiedTime}`:prettifiedTime&&(line=`${line} ${prettifiedTime}`),!this.levelFirst&&prettifiedLevel&&(line.length>0?line=`${line} ${prettifiedLevel}`:line=prettifiedLevel),prettifiedMetadata&&(line.length>0?line=`${line} ${prettifiedMetadata}:`:line=prettifiedMetadata),line.endsWith(":")===!1&&line!==""&&(line+=":"),prettifiedMessage!==void 0&&(line.length>0?line=`${line} ${prettifiedMessage}`:line=prettifiedMessage),line.length>0&&!this.singleLine&&(line+=this.EOL),log.type==="Error"&&typeof log.stack=="string"){let prettifiedErrorLog=prettifyErrorLog({log,context:this.context});this.singleLine&&(line+=this.EOL),line+=prettifiedErrorLog}else if(this.hideObject===!1){let skipKeys=[this.messageKey,this.levelKey,this.timestampKey].map(key=>key.replaceAll(/\\/g,"")).filter(key=>typeof log[key]=="string"||typeof log[key]=="number"||typeof log[key]=="boolean"),prettifiedObject=prettifyObject({log,skipKeys,context:this.context});this.singleLine&&!/^\s$/.test(prettifiedObject)&&(line+=" "),line+=prettifiedObject}return line}}});var require_pino_pretty=__commonJS({"../../../../node_modules/pino-pretty/index.js"(exports2,module2){"use strict";var{isColorSupported}=require_colorette(),pump=require_pump(),{Transform}=require("node:stream"),abstractTransport=require_pino_abstract_transport(),colors=require_colors(),{ERROR_LIKE_KEYS,LEVEL_KEY,LEVEL_LABEL,MESSAGE_KEY,TIMESTAMP_KEY}=require_constants3(),{buildSafeSonicBoom,parseFactoryOptions}=require_utils2(),pretty=require_pretty(),defaultOptions3={colorize:isColorSupported,colorizeObjects:!0,crlf:!1,customColors:null,customLevels:null,customPrettifiers:{},errorLikeObjectKeys:ERROR_LIKE_KEYS,errorProps:"",hideObject:!1,ignore:"hostname",include:void 0,levelFirst:!1,levelKey:LEVEL_KEY,levelLabel:LEVEL_LABEL,messageFormat:null,messageKey:MESSAGE_KEY,minimumLevel:void 0,outputStream:process.stdout,singleLine:!1,timestampKey:TIMESTAMP_KEY,translateTime:!0,useOnlyCustomProps:!0};function prettyFactory(options2){let context=parseFactoryOptions(Object.assign({},defaultOptions3,options2));return pretty.bind({...context,context})}function build2(opts={}){let pretty2=prettyFactory(opts),destination;return abstractTransport(function(source){source.on("message",function pinoConfigListener(message){!message||message.code!=="PINO_CONFIG"||(Object.assign(opts,{messageKey:message.config.messageKey,errorLikeObjectKeys:Array.from(new Set([...opts.errorLikeObjectKeys||ERROR_LIKE_KEYS,message.config.errorKey])),customLevels:message.config.levels.values}),pretty2=prettyFactory(opts),source.off("message",pinoConfigListener))});let stream=new Transform({objectMode:!0,autoDestroy:!0,transform(chunk,enc,cb){let line=pretty2(chunk);cb(null,line)}});return typeof opts.destination=="object"&&typeof opts.destination.write=="function"?destination=opts.destination:destination=buildSafeSonicBoom({dest:opts.destination||1,append:opts.append,mkdir:opts.mkdir,sync:opts.sync}),source.on("unknown",function(line){destination.write(line+`
`)}),pump(source,stream,destination),stream},{parse:"lines",close(err,cb){destination.on("close",()=>{cb(err)})}})}module2.exports=build2;module2.exports.build=build2;module2.exports.PinoPretty=build2;module2.exports.prettyFactory=prettyFactory;module2.exports.colorizerFactory=colors;module2.exports.isColorSupported=isColorSupported;module2.exports.default=build2}});var require_fast_content_type_parse=__commonJS({"../../../../node_modules/fast-content-type-parse/index.js"(exports2,module2){"use strict";var NullObject=function(){};NullObject.prototype=Object.create(null);var paramRE=/; *([!#$%&'*+.^\w`|~-]+)=("(?:[\v\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\v\u0020-\u00ff])*"|[!#$%&'*+.^\w`|~-]+) */gu,quotedPairRE=/\\([\v\u0020-\u00ff])/gu,mediaTypeRE=/^[!#$%&'*+.^\w|~-]+\/[!#$%&'*+.^\w|~-]+$/u,defaultContentType={type:"",parameters:new NullObject};Object.freeze(defaultContentType.parameters);Object.freeze(defaultContentType);function parse2(header){if(typeof header!="string")throw new TypeError("argument header is required and must be a string");let index2=header.indexOf(";"),type=index2!==-1?header.slice(0,index2).trim():header.trim();if(mediaTypeRE.test(type)===!1)throw new TypeError("invalid media type");let result={type:type.toLowerCase(),parameters:new NullObject};if(index2===-1)return result;let key,match2,value;for(paramRE.lastIndex=index2;match2=paramRE.exec(header);){if(match2.index!==index2)throw new TypeError("invalid parameter format");index2+=match2[0].length,key=match2[1].toLowerCase(),value=match2[2],value[0]==='"'&&(value=value.slice(1,value.length-1),quotedPairRE.test(value)&&(value=value.replace(quotedPairRE,"$1"))),result.parameters[key]=value}if(index2!==header.length)throw new TypeError("invalid parameter format");return result}function safeParse(header){if(typeof header!="string")return defaultContentType;let index2=header.indexOf(";"),type=index2!==-1?header.slice(0,index2).trim():header.trim();if(mediaTypeRE.test(type)===!1)return defaultContentType;let result={type:type.toLowerCase(),parameters:new NullObject};if(index2===-1)return result;let key,match2,value;for(paramRE.lastIndex=index2;match2=paramRE.exec(header);){if(match2.index!==index2)return defaultContentType;index2+=match2[0].length,key=match2[1].toLowerCase(),value=match2[2],value[0]==='"'&&(value=value.slice(1,value.length-1),quotedPairRE.test(value)&&(value=value.replace(quotedPairRE,"$1"))),result.parameters[key]=value}return index2!==header.length?defaultContentType:result}module2.exports.default={parse:parse2,safeParse};module2.exports.parse=parse2;module2.exports.safeParse=safeParse;module2.exports.defaultContentType=defaultContentType}});var require_symbols4=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/core/symbols.js"(exports2,module2){"use strict";module2.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}}});var require_timers=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/util/timers.js"(exports2,module2){"use strict";var fastNow=0,RESOLUTION_MS=1e3,TICK_MS=(RESOLUTION_MS>>1)-1,fastNowTimeout,kFastTimer=Symbol("kFastTimer"),fastTimers=[],NOT_IN_LIST=-2,TO_BE_CLEARED=-1,PENDING=0,ACTIVE=1;function onTick(){fastNow+=TICK_MS;let idx=0,len=fastTimers.length;for(;idx<len;){let timer=fastTimers[idx];timer._state===PENDING?(timer._idleStart=fastNow-TICK_MS,timer._state=ACTIVE):timer._state===ACTIVE&&fastNow>=timer._idleStart+timer._idleTimeout&&(timer._state=TO_BE_CLEARED,timer._idleStart=-1,timer._onTimeout(timer._timerArg)),timer._state===TO_BE_CLEARED?(timer._state=NOT_IN_LIST,--len!==0&&(fastTimers[idx]=fastTimers[len])):++idx}fastTimers.length=len,fastTimers.length!==0&&refreshTimeout()}function refreshTimeout(){fastNowTimeout?.refresh?fastNowTimeout.refresh():(clearTimeout(fastNowTimeout),fastNowTimeout=setTimeout(onTick,TICK_MS),fastNowTimeout?.unref())}var FastTimer=class{[kFastTimer]=!0;_state=NOT_IN_LIST;_idleTimeout=-1;_idleStart=-1;_onTimeout;_timerArg;constructor(callback,delay,arg){this._onTimeout=callback,this._idleTimeout=delay,this._timerArg=arg,this.refresh()}refresh(){this._state===NOT_IN_LIST&&fastTimers.push(this),(!fastNowTimeout||fastTimers.length===1)&&refreshTimeout(),this._state=PENDING}clear(){this._state=TO_BE_CLEARED,this._idleStart=-1}};module2.exports={setTimeout(callback,delay,arg){return delay<=RESOLUTION_MS?setTimeout(callback,delay,arg):new FastTimer(callback,delay,arg)},clearTimeout(timeout){timeout[kFastTimer]?timeout.clear():clearTimeout(timeout)},setFastTimeout(callback,delay,arg){return new FastTimer(callback,delay,arg)},clearFastTimeout(timeout){timeout.clear()},now(){return fastNow},tick(delay=0){fastNow+=delay-RESOLUTION_MS+1,onTick(),onTick()},reset(){fastNow=0,fastTimers.length=0,clearTimeout(fastNowTimeout),fastNowTimeout=null},kFastTimer}}});var require_errors5=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/core/errors.js"(exports2,module2){"use strict";var kUndiciError=Symbol.for("undici.error.UND_ERR"),UndiciError=class extends Error{constructor(message,options2){super(message,options2),this.name="UndiciError",this.code="UND_ERR"}static[Symbol.hasInstance](instance){return instance&&instance[kUndiciError]===!0}get[kUndiciError](){return!0}},kConnectTimeoutError=Symbol.for("undici.error.UND_ERR_CONNECT_TIMEOUT"),ConnectTimeoutError=class extends UndiciError{constructor(message){super(message),this.name="ConnectTimeoutError",this.message=message||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}static[Symbol.hasInstance](instance){return instance&&instance[kConnectTimeoutError]===!0}get[kConnectTimeoutError](){return!0}},kHeadersTimeoutError=Symbol.for("undici.error.UND_ERR_HEADERS_TIMEOUT"),HeadersTimeoutError=class extends UndiciError{constructor(message){super(message),this.name="HeadersTimeoutError",this.message=message||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}static[Symbol.hasInstance](instance){return instance&&instance[kHeadersTimeoutError]===!0}get[kHeadersTimeoutError](){return!0}},kHeadersOverflowError=Symbol.for("undici.error.UND_ERR_HEADERS_OVERFLOW"),HeadersOverflowError=class extends UndiciError{constructor(message){super(message),this.name="HeadersOverflowError",this.message=message||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}static[Symbol.hasInstance](instance){return instance&&instance[kHeadersOverflowError]===!0}get[kHeadersOverflowError](){return!0}},kBodyTimeoutError=Symbol.for("undici.error.UND_ERR_BODY_TIMEOUT"),BodyTimeoutError=class extends UndiciError{constructor(message){super(message),this.name="BodyTimeoutError",this.message=message||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}static[Symbol.hasInstance](instance){return instance&&instance[kBodyTimeoutError]===!0}get[kBodyTimeoutError](){return!0}},kInvalidArgumentError=Symbol.for("undici.error.UND_ERR_INVALID_ARG"),InvalidArgumentError=class extends UndiciError{constructor(message){super(message),this.name="InvalidArgumentError",this.message=message||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}static[Symbol.hasInstance](instance){return instance&&instance[kInvalidArgumentError]===!0}get[kInvalidArgumentError](){return!0}},kInvalidReturnValueError=Symbol.for("undici.error.UND_ERR_INVALID_RETURN_VALUE"),InvalidReturnValueError=class extends UndiciError{constructor(message){super(message),this.name="InvalidReturnValueError",this.message=message||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}static[Symbol.hasInstance](instance){return instance&&instance[kInvalidReturnValueError]===!0}get[kInvalidReturnValueError](){return!0}},kAbortError=Symbol.for("undici.error.UND_ERR_ABORT"),AbortError=class extends UndiciError{constructor(message){super(message),this.name="AbortError",this.message=message||"The operation was aborted",this.code="UND_ERR_ABORT"}static[Symbol.hasInstance](instance){return instance&&instance[kAbortError]===!0}get[kAbortError](){return!0}},kRequestAbortedError=Symbol.for("undici.error.UND_ERR_ABORTED"),RequestAbortedError=class extends AbortError{constructor(message){super(message),this.name="AbortError",this.message=message||"Request aborted",this.code="UND_ERR_ABORTED"}static[Symbol.hasInstance](instance){return instance&&instance[kRequestAbortedError]===!0}get[kRequestAbortedError](){return!0}},kInformationalError=Symbol.for("undici.error.UND_ERR_INFO"),InformationalError=class extends UndiciError{constructor(message){super(message),this.name="InformationalError",this.message=message||"Request information",this.code="UND_ERR_INFO"}static[Symbol.hasInstance](instance){return instance&&instance[kInformationalError]===!0}get[kInformationalError](){return!0}},kRequestContentLengthMismatchError=Symbol.for("undici.error.UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"),RequestContentLengthMismatchError=class extends UndiciError{constructor(message){super(message),this.name="RequestContentLengthMismatchError",this.message=message||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}static[Symbol.hasInstance](instance){return instance&&instance[kRequestContentLengthMismatchError]===!0}get[kRequestContentLengthMismatchError](){return!0}},kResponseContentLengthMismatchError=Symbol.for("undici.error.UND_ERR_RES_CONTENT_LENGTH_MISMATCH"),ResponseContentLengthMismatchError=class extends UndiciError{constructor(message){super(message),this.name="ResponseContentLengthMismatchError",this.message=message||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}static[Symbol.hasInstance](instance){return instance&&instance[kResponseContentLengthMismatchError]===!0}get[kResponseContentLengthMismatchError](){return!0}},kClientDestroyedError=Symbol.for("undici.error.UND_ERR_DESTROYED"),ClientDestroyedError=class extends UndiciError{constructor(message){super(message),this.name="ClientDestroyedError",this.message=message||"The client is destroyed",this.code="UND_ERR_DESTROYED"}static[Symbol.hasInstance](instance){return instance&&instance[kClientDestroyedError]===!0}get[kClientDestroyedError](){return!0}},kClientClosedError=Symbol.for("undici.error.UND_ERR_CLOSED"),ClientClosedError=class extends UndiciError{constructor(message){super(message),this.name="ClientClosedError",this.message=message||"The client is closed",this.code="UND_ERR_CLOSED"}static[Symbol.hasInstance](instance){return instance&&instance[kClientClosedError]===!0}get[kClientClosedError](){return!0}},kSocketError=Symbol.for("undici.error.UND_ERR_SOCKET"),SocketError=class extends UndiciError{constructor(message,socket){super(message),this.name="SocketError",this.message=message||"Socket error",this.code="UND_ERR_SOCKET",this.socket=socket}static[Symbol.hasInstance](instance){return instance&&instance[kSocketError]===!0}get[kSocketError](){return!0}},kNotSupportedError=Symbol.for("undici.error.UND_ERR_NOT_SUPPORTED"),NotSupportedError=class extends UndiciError{constructor(message){super(message),this.name="NotSupportedError",this.message=message||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}static[Symbol.hasInstance](instance){return instance&&instance[kNotSupportedError]===!0}get[kNotSupportedError](){return!0}},kBalancedPoolMissingUpstreamError=Symbol.for("undici.error.UND_ERR_BPL_MISSING_UPSTREAM"),BalancedPoolMissingUpstreamError=class extends UndiciError{constructor(message){super(message),this.name="MissingUpstreamError",this.message=message||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}static[Symbol.hasInstance](instance){return instance&&instance[kBalancedPoolMissingUpstreamError]===!0}get[kBalancedPoolMissingUpstreamError](){return!0}},kHTTPParserError=Symbol.for("undici.error.UND_ERR_HTTP_PARSER"),HTTPParserError=class extends Error{constructor(message,code2,data){super(message),this.name="HTTPParserError",this.code=code2?`HPE_${code2}`:void 0,this.data=data?data.toString():void 0}static[Symbol.hasInstance](instance){return instance&&instance[kHTTPParserError]===!0}get[kHTTPParserError](){return!0}},kResponseExceededMaxSizeError=Symbol.for("undici.error.UND_ERR_RES_EXCEEDED_MAX_SIZE"),ResponseExceededMaxSizeError=class extends UndiciError{constructor(message){super(message),this.name="ResponseExceededMaxSizeError",this.message=message||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}static[Symbol.hasInstance](instance){return instance&&instance[kResponseExceededMaxSizeError]===!0}get[kResponseExceededMaxSizeError](){return!0}},kRequestRetryError=Symbol.for("undici.error.UND_ERR_REQ_RETRY"),RequestRetryError=class extends UndiciError{constructor(message,code2,{headers,data}){super(message),this.name="RequestRetryError",this.message=message||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=code2,this.data=data,this.headers=headers}static[Symbol.hasInstance](instance){return instance&&instance[kRequestRetryError]===!0}get[kRequestRetryError](){return!0}},kResponseError=Symbol.for("undici.error.UND_ERR_RESPONSE"),ResponseError=class extends UndiciError{constructor(message,code2,{headers,body}){super(message),this.name="ResponseError",this.message=message||"Response error",this.code="UND_ERR_RESPONSE",this.statusCode=code2,this.body=body,this.headers=headers}static[Symbol.hasInstance](instance){return instance&&instance[kResponseError]===!0}get[kResponseError](){return!0}},kSecureProxyConnectionError=Symbol.for("undici.error.UND_ERR_PRX_TLS"),SecureProxyConnectionError=class extends UndiciError{constructor(cause,message,options2={}){super(message,{cause,...options2}),this.name="SecureProxyConnectionError",this.message=message||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=cause}static[Symbol.hasInstance](instance){return instance&&instance[kSecureProxyConnectionError]===!0}get[kSecureProxyConnectionError](){return!0}},kMaxOriginsReachedError=Symbol.for("undici.error.UND_ERR_MAX_ORIGINS_REACHED"),MaxOriginsReachedError=class extends UndiciError{constructor(message){super(message),this.name="MaxOriginsReachedError",this.message=message||"Maximum allowed origins reached",this.code="UND_ERR_MAX_ORIGINS_REACHED"}static[Symbol.hasInstance](instance){return instance&&instance[kMaxOriginsReachedError]===!0}get[kMaxOriginsReachedError](){return!0}};module2.exports={AbortError,HTTPParserError,UndiciError,HeadersTimeoutError,HeadersOverflowError,BodyTimeoutError,RequestContentLengthMismatchError,ConnectTimeoutError,InvalidArgumentError,InvalidReturnValueError,RequestAbortedError,ClientDestroyedError,ClientClosedError,InformationalError,SocketError,NotSupportedError,ResponseContentLengthMismatchError,BalancedPoolMissingUpstreamError,ResponseExceededMaxSizeError,RequestRetryError,ResponseError,SecureProxyConnectionError,MaxOriginsReachedError}}});var require_constants4=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/core/constants.js"(exports2,module2){"use strict";var wellknownHeaderNames=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"],headerNameLowerCasedRecord={};Object.setPrototypeOf(headerNameLowerCasedRecord,null);var wellknownHeaderNameBuffers={};Object.setPrototypeOf(wellknownHeaderNameBuffers,null);function getHeaderNameAsBuffer(header){let buffer=wellknownHeaderNameBuffers[header];return buffer===void 0&&(buffer=Buffer.from(header)),buffer}for(let i=0;i<wellknownHeaderNames.length;++i){let key=wellknownHeaderNames[i],lowerCasedKey=key.toLowerCase();headerNameLowerCasedRecord[key]=headerNameLowerCasedRecord[lowerCasedKey]=lowerCasedKey}module2.exports={wellknownHeaderNames,headerNameLowerCasedRecord,getHeaderNameAsBuffer}}});var require_tree=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/core/tree.js"(exports2,module2){"use strict";var{wellknownHeaderNames,headerNameLowerCasedRecord}=require_constants4(),TstNode=class _TstNode{value=null;left=null;middle=null;right=null;code;constructor(key,value,index2){if(index2===void 0||index2>=key.length)throw new TypeError("Unreachable");if((this.code=key.charCodeAt(index2))>127)throw new TypeError("key must be ascii string");key.length!==++index2?this.middle=new _TstNode(key,value,index2):this.value=value}add(key,value){let length=key.length;if(length===0)throw new TypeError("Unreachable");let index2=0,node=this;for(;;){let code2=key.charCodeAt(index2);if(code2>127)throw new TypeError("key must be ascii string");if(node.code===code2)if(length===++index2){node.value=value;break}else if(node.middle!==null)node=node.middle;else{node.middle=new _TstNode(key,value,index2);break}else if(node.code<code2)if(node.left!==null)node=node.left;else{node.left=new _TstNode(key,value,index2);break}else if(node.right!==null)node=node.right;else{node.right=new _TstNode(key,value,index2);break}}}search(key){let keylength=key.length,index2=0,node=this;for(;node!==null&&index2<keylength;){let code2=key[index2];for(code2<=90&&code2>=65&&(code2|=32);node!==null;){if(code2===node.code){if(keylength===++index2)return node;node=node.middle;break}node=node.code<code2?node.left:node.right}}return null}},TernarySearchTree=class{node=null;insert(key,value){this.node===null?this.node=new TstNode(key,value,0):this.node.add(key,value)}lookup(key){return this.node?.search(key)?.value??null}},tree=new TernarySearchTree;for(let i=0;i<wellknownHeaderNames.length;++i){let key=headerNameLowerCasedRecord[wellknownHeaderNames[i]];tree.insert(key,key)}module2.exports={TernarySearchTree,tree}}});var require_util3=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/core/util.js"(exports2,module2){"use strict";var assert2=require("node:assert"),{kDestroyed,kBodyUsed,kListeners,kBody}=require_symbols4(),{IncomingMessage}=require("node:http"),stream=require("node:stream"),net=require("node:net"),{stringify:stringify2}=require("node:querystring"),{EventEmitter:EE}=require("node:events"),timers=require_timers(),{InvalidArgumentError,ConnectTimeoutError}=require_errors5(),{headerNameLowerCasedRecord}=require_constants4(),{tree}=require_tree(),[nodeMajor,nodeMinor]=process.versions.node.split(".",2).map(v=>Number(v)),BodyAsyncIterable=class{constructor(body){this[kBody]=body,this[kBodyUsed]=!1}async*[Symbol.asyncIterator](){assert2(!this[kBodyUsed],"disturbed"),this[kBodyUsed]=!0,yield*this[kBody]}};function noop(){}function wrapRequestBody(body){return isStream(body)?(bodyLength(body)===0&&body.on("data",function(){assert2(!1)}),typeof body.readableDidRead!="boolean"&&(body[kBodyUsed]=!1,EE.prototype.on.call(body,"data",function(){this[kBodyUsed]=!0})),body):body&&typeof body.pipeTo=="function"?new BodyAsyncIterable(body):body&&typeof body!="string"&&!ArrayBuffer.isView(body)&&isIterable(body)?new BodyAsyncIterable(body):body}function isStream(obj){return obj&&typeof obj=="object"&&typeof obj.pipe=="function"&&typeof obj.on=="function"}function isBlobLike(object){if(object===null)return!1;if(object instanceof Blob)return!0;if(typeof object!="object")return!1;{let sTag=object[Symbol.toStringTag];return(sTag==="Blob"||sTag==="File")&&("stream"in object&&typeof object.stream=="function"||"arrayBuffer"in object&&typeof object.arrayBuffer=="function")}}function pathHasQueryOrFragment(url){return url.includes("?")||url.includes("#")}function serializePathWithQuery(url,queryParams){if(pathHasQueryOrFragment(url))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let stringified=stringify2(queryParams);return stringified&&(url+="?"+stringified),url}function isValidPort(port){let value=parseInt(port,10);return value===Number(port)&&value>=0&&value<=65535}function isHttpOrHttpsPrefixed(value){return value!=null&&value[0]==="h"&&value[1]==="t"&&value[2]==="t"&&value[3]==="p"&&(value[4]===":"||value[4]==="s"&&value[5]===":")}function parseURL(url){if(typeof url=="string"){if(url=new URL(url),!isHttpOrHttpsPrefixed(url.origin||url.protocol))throw new InvalidArgumentError("Invalid URL protocol: the URL must start with `http:` or `https:`.");return url}if(!url||typeof url!="object")throw new InvalidArgumentError("Invalid URL: The URL argument must be a non-null object.");if(!(url instanceof URL)){if(url.port!=null&&url.port!==""&&isValidPort(url.port)===!1)throw new InvalidArgumentError("Invalid URL: port must be a valid integer or a string representation of an integer.");if(url.path!=null&&typeof url.path!="string")throw new InvalidArgumentError("Invalid URL path: the path must be a string or null/undefined.");if(url.pathname!=null&&typeof url.pathname!="string")throw new InvalidArgumentError("Invalid URL pathname: the pathname must be a string or null/undefined.");if(url.hostname!=null&&typeof url.hostname!="string")throw new InvalidArgumentError("Invalid URL hostname: the hostname must be a string or null/undefined.");if(url.origin!=null&&typeof url.origin!="string")throw new InvalidArgumentError("Invalid URL origin: the origin must be a string or null/undefined.");if(!isHttpOrHttpsPrefixed(url.origin||url.protocol))throw new InvalidArgumentError("Invalid URL protocol: the URL must start with `http:` or `https:`.");let port=url.port!=null?url.port:url.protocol==="https:"?443:80,origin=url.origin!=null?url.origin:`${url.protocol||""}//${url.hostname||""}:${port}`,path5=url.path!=null?url.path:`${url.pathname||""}${url.search||""}`;return origin[origin.length-1]==="/"&&(origin=origin.slice(0,origin.length-1)),path5&&path5[0]!=="/"&&(path5=`/${path5}`),new URL(`${origin}${path5}`)}if(!isHttpOrHttpsPrefixed(url.origin||url.protocol))throw new InvalidArgumentError("Invalid URL protocol: the URL must start with `http:` or `https:`.");return url}function parseOrigin(url){if(url=parseURL(url),url.pathname!=="/"||url.search||url.hash)throw new InvalidArgumentError("invalid url");return url}function getHostname(host){if(host[0]==="["){let idx2=host.indexOf("]");return assert2(idx2!==-1),host.substring(1,idx2)}let idx=host.indexOf(":");return idx===-1?host:host.substring(0,idx)}function getServerName(host){if(!host)return null;assert2(typeof host=="string");let servername=getHostname(host);return net.isIP(servername)?"":servername}function deepClone(obj){return JSON.parse(JSON.stringify(obj))}function isAsyncIterable(obj){return obj!=null&&typeof obj[Symbol.asyncIterator]=="function"}function isIterable(obj){return obj!=null&&(typeof obj[Symbol.iterator]=="function"||typeof obj[Symbol.asyncIterator]=="function")}function bodyLength(body){if(body==null)return 0;if(isStream(body)){let state=body._readableState;return state&&state.objectMode===!1&&state.ended===!0&&Number.isFinite(state.length)?state.length:null}else{if(isBlobLike(body))return body.size!=null?body.size:null;if(isBuffer2(body))return body.byteLength}return null}function isDestroyed(body){return body&&!!(body.destroyed||body[kDestroyed]||stream.isDestroyed?.(body))}function destroy(stream2,err){stream2==null||!isStream(stream2)||isDestroyed(stream2)||(typeof stream2.destroy=="function"?(Object.getPrototypeOf(stream2).constructor===IncomingMessage&&(stream2.socket=null),stream2.destroy(err)):err&&queueMicrotask(()=>{stream2.emit("error",err)}),stream2.destroyed!==!0&&(stream2[kDestroyed]=!0))}var KEEPALIVE_TIMEOUT_EXPR=/timeout=(\d+)/;function parseKeepAliveTimeout(val){let m=val.match(KEEPALIVE_TIMEOUT_EXPR);return m?parseInt(m[1],10)*1e3:null}function headerNameToString(value){return typeof value=="string"?headerNameLowerCasedRecord[value]??value.toLowerCase():tree.lookup(value)??value.toString("latin1").toLowerCase()}function bufferToLowerCasedHeaderName(value){return tree.lookup(value)??value.toString("latin1").toLowerCase()}function parseHeaders(headers,obj){obj===void 0&&(obj={});for(let i=0;i<headers.length;i+=2){let key=headerNameToString(headers[i]),val=obj[key];if(val)typeof val=="string"&&(val=[val],obj[key]=val),val.push(headers[i+1].toString("utf8"));else{let headersValue=headers[i+1];typeof headersValue=="string"?obj[key]=headersValue:obj[key]=Array.isArray(headersValue)?headersValue.map(x=>x.toString("utf8")):headersValue.toString("utf8")}}return"content-length"in obj&&"content-disposition"in obj&&(obj["content-disposition"]=Buffer.from(obj["content-disposition"]).toString("latin1")),obj}function parseRawHeaders(headers){let headersLength=headers.length,ret=new Array(headersLength),hasContentLength=!1,contentDispositionIdx=-1,key,val,kLen=0;for(let n=0;n<headersLength;n+=2)key=headers[n],val=headers[n+1],typeof key!="string"&&(key=key.toString()),typeof val!="string"&&(val=val.toString("utf8")),kLen=key.length,kLen===14&&key[7]==="-"&&(key==="content-length"||key.toLowerCase()==="content-length")?hasContentLength=!0:kLen===19&&key[7]==="-"&&(key==="content-disposition"||key.toLowerCase()==="content-disposition")&&(contentDispositionIdx=n+1),ret[n]=key,ret[n+1]=val;return hasContentLength&&contentDispositionIdx!==-1&&(ret[contentDispositionIdx]=Buffer.from(ret[contentDispositionIdx]).toString("latin1")),ret}function encodeRawHeaders(headers){if(!Array.isArray(headers))throw new TypeError("expected headers to be an array");return headers.map(x=>Buffer.from(x))}function isBuffer2(buffer){return buffer instanceof Uint8Array||Buffer.isBuffer(buffer)}function assertRequestHandler(handler,method,upgrade){if(!handler||typeof handler!="object")throw new InvalidArgumentError("handler must be an object");if(typeof handler.onRequestStart!="function"){if(typeof handler.onConnect!="function")throw new InvalidArgumentError("invalid onConnect method");if(typeof handler.onError!="function")throw new InvalidArgumentError("invalid onError method");if(typeof handler.onBodySent!="function"&&handler.onBodySent!==void 0)throw new InvalidArgumentError("invalid onBodySent method");if(upgrade||method==="CONNECT"){if(typeof handler.onUpgrade!="function")throw new InvalidArgumentError("invalid onUpgrade method")}else{if(typeof handler.onHeaders!="function")throw new InvalidArgumentError("invalid onHeaders method");if(typeof handler.onData!="function")throw new InvalidArgumentError("invalid onData method");if(typeof handler.onComplete!="function")throw new InvalidArgumentError("invalid onComplete method")}}}function isDisturbed(body){return!!(body&&(stream.isDisturbed(body)||body[kBodyUsed]))}function getSocketInfo(socket){return{localAddress:socket.localAddress,localPort:socket.localPort,remoteAddress:socket.remoteAddress,remotePort:socket.remotePort,remoteFamily:socket.remoteFamily,timeout:socket.timeout,bytesWritten:socket.bytesWritten,bytesRead:socket.bytesRead}}function ReadableStreamFrom(iterable){let iterator;return new ReadableStream({start(){iterator=iterable[Symbol.asyncIterator]()},pull(controller){return iterator.next().then(({done,value})=>{if(done)queueMicrotask(()=>{controller.close(),controller.byobRequest?.respond(0)});else{let buf=Buffer.isBuffer(value)?value:Buffer.from(value);if(buf.byteLength)controller.enqueue(new Uint8Array(buf));else return this.pull(controller)}})},cancel(){return iterator.return()},type:"bytes"})}function isFormDataLike(object){return object&&typeof object=="object"&&typeof object.append=="function"&&typeof object.delete=="function"&&typeof object.get=="function"&&typeof object.getAll=="function"&&typeof object.has=="function"&&typeof object.set=="function"&&object[Symbol.toStringTag]==="FormData"}function addAbortListener(signal,listener){return"addEventListener"in signal?(signal.addEventListener("abort",listener,{once:!0}),()=>signal.removeEventListener("abort",listener)):(signal.once("abort",listener),()=>signal.removeListener("abort",listener))}function isTokenCharCode(c){switch(c){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return c>=33&&c<=126}}function isValidHTTPToken(characters){if(characters.length===0)return!1;for(let i=0;i<characters.length;++i)if(!isTokenCharCode(characters.charCodeAt(i)))return!1;return!0}var headerCharRegex=/[^\t\x20-\x7e\x80-\xff]/;function isValidHeaderValue(characters){return!headerCharRegex.test(characters)}var rangeHeaderRegex=/^bytes (\d+)-(\d+)\/(\d+)?$/;function parseRangeHeader(range){if(range==null||range==="")return{start:0,end:null,size:null};let m=range?range.match(rangeHeaderRegex):null;return m?{start:parseInt(m[1]),end:m[2]?parseInt(m[2]):null,size:m[3]?parseInt(m[3]):null}:null}function addListener(obj,name,listener){return(obj[kListeners]??=[]).push([name,listener]),obj.on(name,listener),obj}function removeAllListeners(obj){if(obj[kListeners]!=null){for(let[name,listener]of obj[kListeners])obj.removeListener(name,listener);obj[kListeners]=null}return obj}function errorRequest(client,request2,err){try{request2.onError(err),assert2(request2.aborted)}catch(err2){client.emit("error",err2)}}var setupConnectTimeout=process.platform==="win32"?(socketWeakRef,opts)=>{if(!opts.timeout)return noop;let s1=null,s2=null,fastTimer=timers.setFastTimeout(()=>{s1=setImmediate(()=>{s2=setImmediate(()=>onConnectTimeout(socketWeakRef.deref(),opts))})},opts.timeout);return()=>{timers.clearFastTimeout(fastTimer),clearImmediate(s1),clearImmediate(s2)}}:(socketWeakRef,opts)=>{if(!opts.timeout)return noop;let s1=null,fastTimer=timers.setFastTimeout(()=>{s1=setImmediate(()=>{onConnectTimeout(socketWeakRef.deref(),opts)})},opts.timeout);return()=>{timers.clearFastTimeout(fastTimer),clearImmediate(s1)}};function onConnectTimeout(socket,opts){if(socket==null)return;let message="Connect Timeout Error";Array.isArray(socket.autoSelectFamilyAttemptedAddresses)?message+=` (attempted addresses: ${socket.autoSelectFamilyAttemptedAddresses.join(", ")},`:message+=` (attempted address: ${opts.hostname}:${opts.port},`,message+=` timeout: ${opts.timeout}ms)`,destroy(socket,new ConnectTimeoutError(message))}function getProtocolFromUrlString(urlString){if(urlString[0]==="h"&&urlString[1]==="t"&&urlString[2]==="t"&&urlString[3]==="p")switch(urlString[4]){case":":return"http:";case"s":if(urlString[5]===":")return"https:"}return urlString.slice(0,urlString.indexOf(":")+1)}var kEnumerableProperty=Object.create(null);kEnumerableProperty.enumerable=!0;var normalizedMethodRecordsBase={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},normalizedMethodRecords={...normalizedMethodRecordsBase,patch:"patch",PATCH:"PATCH"};Object.setPrototypeOf(normalizedMethodRecordsBase,null);Object.setPrototypeOf(normalizedMethodRecords,null);module2.exports={kEnumerableProperty,isDisturbed,isBlobLike,parseOrigin,parseURL,getServerName,isStream,isIterable,isAsyncIterable,isDestroyed,headerNameToString,bufferToLowerCasedHeaderName,addListener,removeAllListeners,errorRequest,parseRawHeaders,encodeRawHeaders,parseHeaders,parseKeepAliveTimeout,destroy,bodyLength,deepClone,ReadableStreamFrom,isBuffer:isBuffer2,assertRequestHandler,getSocketInfo,isFormDataLike,pathHasQueryOrFragment,serializePathWithQuery,addAbortListener,isValidHTTPToken,isValidHeaderValue,isTokenCharCode,parseRangeHeader,normalizedMethodRecordsBase,normalizedMethodRecords,isValidPort,isHttpOrHttpsPrefixed,nodeMajor,nodeMinor,safeHTTPMethods:Object.freeze(["GET","HEAD","OPTIONS","TRACE"]),wrapRequestBody,setupConnectTimeout,getProtocolFromUrlString}}});var require_stats=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/util/stats.js"(exports2,module2){"use strict";var{kConnected,kPending,kRunning,kSize,kFree,kQueued}=require_symbols4(),ClientStats=class{constructor(client){this.connected=client[kConnected],this.pending=client[kPending],this.running=client[kRunning],this.size=client[kSize]}},PoolStats=class{constructor(pool){this.connected=pool[kConnected],this.free=pool[kFree],this.pending=pool[kPending],this.queued=pool[kQueued],this.running=pool[kRunning],this.size=pool[kSize]}};module2.exports={ClientStats,PoolStats}}});var require_diagnostics=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/core/diagnostics.js"(exports2,module2){"use strict";var diagnosticsChannel=require("node:diagnostics_channel"),util3=require("node:util"),undiciDebugLog=util3.debuglog("undici"),fetchDebuglog=util3.debuglog("fetch"),websocketDebuglog=util3.debuglog("websocket"),channels={beforeConnect:diagnosticsChannel.channel("undici:client:beforeConnect"),connected:diagnosticsChannel.channel("undici:client:connected"),connectError:diagnosticsChannel.channel("undici:client:connectError"),sendHeaders:diagnosticsChannel.channel("undici:client:sendHeaders"),create:diagnosticsChannel.channel("undici:request:create"),bodySent:diagnosticsChannel.channel("undici:request:bodySent"),bodyChunkSent:diagnosticsChannel.channel("undici:request:bodyChunkSent"),bodyChunkReceived:diagnosticsChannel.channel("undici:request:bodyChunkReceived"),headers:diagnosticsChannel.channel("undici:request:headers"),trailers:diagnosticsChannel.channel("undici:request:trailers"),error:diagnosticsChannel.channel("undici:request:error"),open:diagnosticsChannel.channel("undici:websocket:open"),close:diagnosticsChannel.channel("undici:websocket:close"),socketError:diagnosticsChannel.channel("undici:websocket:socket_error"),ping:diagnosticsChannel.channel("undici:websocket:ping"),pong:diagnosticsChannel.channel("undici:websocket:pong")},isTrackingClientEvents=!1;function trackClientEvents(debugLog=undiciDebugLog){isTrackingClientEvents||(isTrackingClientEvents=!0,diagnosticsChannel.subscribe("undici:client:beforeConnect",evt=>{let{connectParams:{version,protocol,port,host}}=evt;debugLog("connecting to %s%s using %s%s",host,port?`:${port}`:"",protocol,version)}),diagnosticsChannel.subscribe("undici:client:connected",evt=>{let{connectParams:{version,protocol,port,host}}=evt;debugLog("connected to %s%s using %s%s",host,port?`:${port}`:"",protocol,version)}),diagnosticsChannel.subscribe("undici:client:connectError",evt=>{let{connectParams:{version,protocol,port,host},error}=evt;debugLog("connection to %s%s using %s%s errored - %s",host,port?`:${port}`:"",protocol,version,error.message)}),diagnosticsChannel.subscribe("undici:client:sendHeaders",evt=>{let{request:{method,path:path5,origin}}=evt;debugLog("sending request to %s %s%s",method,origin,path5)}))}var isTrackingRequestEvents=!1;function trackRequestEvents(debugLog=undiciDebugLog){isTrackingRequestEvents||(isTrackingRequestEvents=!0,diagnosticsChannel.subscribe("undici:request:headers",evt=>{let{request:{method,path:path5,origin},response:{statusCode}}=evt;debugLog("received response to %s %s%s - HTTP %d",method,origin,path5,statusCode)}),diagnosticsChannel.subscribe("undici:request:trailers",evt=>{let{request:{method,path:path5,origin}}=evt;debugLog("trailers received from %s %s%s",method,origin,path5)}),diagnosticsChannel.subscribe("undici:request:error",evt=>{let{request:{method,path:path5,origin},error}=evt;debugLog("request to %s %s%s errored - %s",method,origin,path5,error.message)}))}var isTrackingWebSocketEvents=!1;function trackWebSocketEvents(debugLog=websocketDebuglog){isTrackingWebSocketEvents||(isTrackingWebSocketEvents=!0,diagnosticsChannel.subscribe("undici:websocket:open",evt=>{let{address:{address,port}}=evt;debugLog("connection opened %s%s",address,port?`:${port}`:"")}),diagnosticsChannel.subscribe("undici:websocket:close",evt=>{let{websocket,code:code2,reason}=evt;debugLog("closed connection to %s - %s %s",websocket.url,code2,reason)}),diagnosticsChannel.subscribe("undici:websocket:socket_error",err=>{debugLog("connection errored - %s",err.message)}),diagnosticsChannel.subscribe("undici:websocket:ping",evt=>{debugLog("ping received")}),diagnosticsChannel.subscribe("undici:websocket:pong",evt=>{debugLog("pong received")}))}(undiciDebugLog.enabled||fetchDebuglog.enabled)&&(trackClientEvents(fetchDebuglog.enabled?fetchDebuglog:undiciDebugLog),trackRequestEvents(fetchDebuglog.enabled?fetchDebuglog:undiciDebugLog));websocketDebuglog.enabled&&(trackClientEvents(undiciDebugLog.enabled?undiciDebugLog:websocketDebuglog),trackWebSocketEvents(websocketDebuglog));module2.exports={channels}}});var require_request3=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/core/request.js"(exports2,module2){"use strict";var{InvalidArgumentError,NotSupportedError}=require_errors5(),assert2=require("node:assert"),{isValidHTTPToken,isValidHeaderValue,isStream,destroy,isBuffer:isBuffer2,isFormDataLike,isIterable,isBlobLike,serializePathWithQuery,assertRequestHandler,getServerName,normalizedMethodRecords,getProtocolFromUrlString}=require_util3(),{channels}=require_diagnostics(),{headerNameLowerCasedRecord}=require_constants4(),invalidPathRegex=/[^\u0021-\u00ff]/,kHandler=Symbol("handler"),Request=class{constructor(origin,{path:path5,method,body,headers,query,idempotent,blocking,upgrade,headersTimeout,bodyTimeout,reset:reset2,expectContinue,servername,throwOnError,maxRedirections},handler){if(typeof path5!="string")throw new InvalidArgumentError("path must be a string");if(path5[0]!=="/"&&!(path5.startsWith("http://")||path5.startsWith("https://"))&&method!=="CONNECT")throw new InvalidArgumentError("path must be an absolute URL or start with a slash");if(invalidPathRegex.test(path5))throw new InvalidArgumentError("invalid request path");if(typeof method!="string")throw new InvalidArgumentError("method must be a string");if(normalizedMethodRecords[method]===void 0&&!isValidHTTPToken(method))throw new InvalidArgumentError("invalid request method");if(upgrade&&typeof upgrade!="string")throw new InvalidArgumentError("upgrade must be a string");if(headersTimeout!=null&&(!Number.isFinite(headersTimeout)||headersTimeout<0))throw new InvalidArgumentError("invalid headersTimeout");if(bodyTimeout!=null&&(!Number.isFinite(bodyTimeout)||bodyTimeout<0))throw new InvalidArgumentError("invalid bodyTimeout");if(reset2!=null&&typeof reset2!="boolean")throw new InvalidArgumentError("invalid reset");if(expectContinue!=null&&typeof expectContinue!="boolean")throw new InvalidArgumentError("invalid expectContinue");if(throwOnError!=null)throw new InvalidArgumentError("invalid throwOnError");if(maxRedirections!=null&&maxRedirections!==0)throw new InvalidArgumentError("maxRedirections is not supported, use the redirect interceptor");if(this.headersTimeout=headersTimeout,this.bodyTimeout=bodyTimeout,this.method=method,this.abort=null,body==null)this.body=null;else if(isStream(body)){this.body=body;let rState=this.body._readableState;(!rState||!rState.autoDestroy)&&(this.endHandler=function(){destroy(this)},this.body.on("end",this.endHandler)),this.errorHandler=err=>{this.abort?this.abort(err):this.error=err},this.body.on("error",this.errorHandler)}else if(isBuffer2(body))this.body=body.byteLength?body:null;else if(ArrayBuffer.isView(body))this.body=body.buffer.byteLength?Buffer.from(body.buffer,body.byteOffset,body.byteLength):null;else if(body instanceof ArrayBuffer)this.body=body.byteLength?Buffer.from(body):null;else if(typeof body=="string")this.body=body.length?Buffer.from(body):null;else if(isFormDataLike(body)||isIterable(body)||isBlobLike(body))this.body=body;else throw new InvalidArgumentError("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=upgrade||null,this.path=query?serializePathWithQuery(path5,query):path5,this.origin=origin,this.protocol=getProtocolFromUrlString(origin),this.idempotent=idempotent??(method==="HEAD"||method==="GET"),this.blocking=blocking??this.method!=="HEAD",this.reset=reset2??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=expectContinue??!1,Array.isArray(headers)){if(headers.length%2!==0)throw new InvalidArgumentError("headers array must be even");for(let i=0;i<headers.length;i+=2)processHeader(this,headers[i],headers[i+1])}else if(headers&&typeof headers=="object")if(headers[Symbol.iterator])for(let header of headers){if(!Array.isArray(header)||header.length!==2)throw new InvalidArgumentError("headers must be in key-value pair format");processHeader(this,header[0],header[1])}else{let keys2=Object.keys(headers);for(let i=0;i<keys2.length;++i)processHeader(this,keys2[i],headers[keys2[i]])}else if(headers!=null)throw new InvalidArgumentError("headers must be an object or an array");assertRequestHandler(handler,method,upgrade),this.servername=servername||getServerName(this.host)||null,this[kHandler]=handler,channels.create.hasSubscribers&&channels.create.publish({request:this})}onBodySent(chunk){if(channels.bodyChunkSent.hasSubscribers&&channels.bodyChunkSent.publish({request:this,chunk}),this[kHandler].onBodySent)try{return this[kHandler].onBodySent(chunk)}catch(err){this.abort(err)}}onRequestSent(){if(channels.bodySent.hasSubscribers&&channels.bodySent.publish({request:this}),this[kHandler].onRequestSent)try{return this[kHandler].onRequestSent()}catch(err){this.abort(err)}}onConnect(abort){if(assert2(!this.aborted),assert2(!this.completed),this.error)abort(this.error);else return this.abort=abort,this[kHandler].onConnect(abort)}onResponseStarted(){return this[kHandler].onResponseStarted?.()}onHeaders(statusCode,headers,resume,statusText){assert2(!this.aborted),assert2(!this.completed),channels.headers.hasSubscribers&&channels.headers.publish({request:this,response:{statusCode,headers,statusText}});try{return this[kHandler].onHeaders(statusCode,headers,resume,statusText)}catch(err){this.abort(err)}}onData(chunk){assert2(!this.aborted),assert2(!this.completed),channels.bodyChunkReceived.hasSubscribers&&channels.bodyChunkReceived.publish({request:this,chunk});try{return this[kHandler].onData(chunk)}catch(err){return this.abort(err),!1}}onUpgrade(statusCode,headers,socket){return assert2(!this.aborted),assert2(!this.completed),this[kHandler].onUpgrade(statusCode,headers,socket)}onComplete(trailers){this.onFinally(),assert2(!this.aborted),assert2(!this.completed),this.completed=!0,channels.trailers.hasSubscribers&&channels.trailers.publish({request:this,trailers});try{return this[kHandler].onComplete(trailers)}catch(err){this.onError(err)}}onError(error){if(this.onFinally(),channels.error.hasSubscribers&&channels.error.publish({request:this,error}),!this.aborted)return this.aborted=!0,this[kHandler].onError(error)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(key,value){return processHeader(this,key,value),this}};function processHeader(request2,key,val){if(val&&typeof val=="object"&&!Array.isArray(val))throw new InvalidArgumentError(`invalid ${key} header`);if(val===void 0)return;let headerName=headerNameLowerCasedRecord[key];if(headerName===void 0&&(headerName=key.toLowerCase(),headerNameLowerCasedRecord[headerName]===void 0&&!isValidHTTPToken(headerName)))throw new InvalidArgumentError("invalid header key");if(Array.isArray(val)){let arr=[];for(let i=0;i<val.length;i++)if(typeof val[i]=="string"){if(!isValidHeaderValue(val[i]))throw new InvalidArgumentError(`invalid ${key} header`);arr.push(val[i])}else if(val[i]===null)arr.push("");else{if(typeof val[i]=="object")throw new InvalidArgumentError(`invalid ${key} header`);arr.push(`${val[i]}`)}val=arr}else if(typeof val=="string"){if(!isValidHeaderValue(val))throw new InvalidArgumentError(`invalid ${key} header`)}else val===null?val="":val=`${val}`;if(request2.host===null&&headerName==="host"){if(typeof val!="string")throw new InvalidArgumentError("invalid host header");request2.host=val}else if(request2.contentLength===null&&headerName==="content-length"){if(request2.contentLength=parseInt(val,10),!Number.isFinite(request2.contentLength))throw new InvalidArgumentError("invalid content-length header")}else if(request2.contentType===null&&headerName==="content-type")request2.contentType=val,request2.headers.push(key,val);else{if(headerName==="transfer-encoding"||headerName==="keep-alive"||headerName==="upgrade")throw new InvalidArgumentError(`invalid ${headerName} header`);if(headerName==="connection"){let value=typeof val=="string"?val.toLowerCase():null;if(value!=="close"&&value!=="keep-alive")throw new InvalidArgumentError("invalid connection header");value==="close"&&(request2.reset=!0)}else{if(headerName==="expect")throw new NotSupportedError("expect header not supported");request2.headers.push(key,val)}}}module2.exports=Request}});var require_wrap_handler=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/handler/wrap-handler.js"(exports2,module2){"use strict";var{InvalidArgumentError}=require_errors5();module2.exports=class WrapHandler{#handler;constructor(handler){this.#handler=handler}static wrap(handler){return handler.onRequestStart?handler:new WrapHandler(handler)}onConnect(abort,context){return this.#handler.onConnect?.(abort,context)}onHeaders(statusCode,rawHeaders,resume,statusMessage){return this.#handler.onHeaders?.(statusCode,rawHeaders,resume,statusMessage)}onUpgrade(statusCode,rawHeaders,socket){return this.#handler.onUpgrade?.(statusCode,rawHeaders,socket)}onData(data){return this.#handler.onData?.(data)}onComplete(trailers){return this.#handler.onComplete?.(trailers)}onError(err){if(!this.#handler.onError)throw err;return this.#handler.onError?.(err)}onRequestStart(controller,context){this.#handler.onConnect?.(reason=>controller.abort(reason),context)}onRequestUpgrade(controller,statusCode,headers,socket){let rawHeaders=[];for(let[key,val]of Object.entries(headers))rawHeaders.push(Buffer.from(key),Array.isArray(val)?val.map(v=>Buffer.from(v)):Buffer.from(val));this.#handler.onUpgrade?.(statusCode,rawHeaders,socket)}onResponseStart(controller,statusCode,headers,statusMessage){let rawHeaders=[];for(let[key,val]of Object.entries(headers))rawHeaders.push(Buffer.from(key),Array.isArray(val)?val.map(v=>Buffer.from(v)):Buffer.from(val));this.#handler.onHeaders?.(statusCode,rawHeaders,()=>controller.resume(),statusMessage)===!1&&controller.pause()}onResponseData(controller,data){this.#handler.onData?.(data)===!1&&controller.pause()}onResponseEnd(controller,trailers){let rawTrailers=[];for(let[key,val]of Object.entries(trailers))rawTrailers.push(Buffer.from(key),Array.isArray(val)?val.map(v=>Buffer.from(v)):Buffer.from(val));this.#handler.onComplete?.(rawTrailers)}onResponseError(controller,err){if(!this.#handler.onError)throw new InvalidArgumentError("invalid onError method");this.#handler.onError?.(err)}}}});var require_dispatcher=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/dispatcher/dispatcher.js"(exports2,module2){"use strict";var EventEmitter=require("node:events"),WrapHandler=require_wrap_handler(),wrapInterceptor=dispatch=>(opts,handler)=>dispatch(opts,WrapHandler.wrap(handler)),Dispatcher=class extends EventEmitter{dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}compose(...args){let interceptors=Array.isArray(args[0])?args[0]:args,dispatch=this.dispatch.bind(this);for(let interceptor of interceptors)if(interceptor!=null){if(typeof interceptor!="function")throw new TypeError(`invalid interceptor, expected function received ${typeof interceptor}`);if(dispatch=interceptor(dispatch),dispatch=wrapInterceptor(dispatch),dispatch==null||typeof dispatch!="function"||dispatch.length!==2)throw new TypeError("invalid interceptor")}return new Proxy(this,{get:(target,key)=>key==="dispatch"?dispatch:target[key]})}};module2.exports=Dispatcher}});var require_unwrap_handler=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/handler/unwrap-handler.js"(exports2,module2){"use strict";var{parseHeaders}=require_util3(),{InvalidArgumentError}=require_errors5(),kResume=Symbol("resume"),UnwrapController=class{#paused=!1;#reason=null;#aborted=!1;#abort;[kResume]=null;constructor(abort){this.#abort=abort}pause(){this.#paused=!0}resume(){this.#paused&&(this.#paused=!1,this[kResume]?.())}abort(reason){this.#aborted||(this.#aborted=!0,this.#reason=reason,this.#abort(reason))}get aborted(){return this.#aborted}get reason(){return this.#reason}get paused(){return this.#paused}};module2.exports=class UnwrapHandler{#handler;#controller;constructor(handler){this.#handler=handler}static unwrap(handler){return handler.onRequestStart?new UnwrapHandler(handler):handler}onConnect(abort,context){this.#controller=new UnwrapController(abort),this.#handler.onRequestStart?.(this.#controller,context)}onUpgrade(statusCode,rawHeaders,socket){this.#handler.onRequestUpgrade?.(this.#controller,statusCode,parseHeaders(rawHeaders),socket)}onHeaders(statusCode,rawHeaders,resume,statusMessage){return this.#controller[kResume]=resume,this.#handler.onResponseStart?.(this.#controller,statusCode,parseHeaders(rawHeaders),statusMessage),!this.#controller.paused}onData(data){return this.#handler.onResponseData?.(this.#controller,data),!this.#controller.paused}onComplete(rawTrailers){this.#handler.onResponseEnd?.(this.#controller,parseHeaders(rawTrailers))}onError(err){if(!this.#handler.onResponseError)throw new InvalidArgumentError("invalid onError method");this.#handler.onResponseError?.(this.#controller,err)}}}});var require_dispatcher_base=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/dispatcher/dispatcher-base.js"(exports2,module2){"use strict";var Dispatcher=require_dispatcher(),UnwrapHandler=require_unwrap_handler(),{ClientDestroyedError,ClientClosedError,InvalidArgumentError}=require_errors5(),{kDestroy,kClose,kClosed,kDestroyed,kDispatch}=require_symbols4(),kOnDestroyed=Symbol("onDestroyed"),kOnClosed=Symbol("onClosed"),DispatcherBase=class extends Dispatcher{[kDestroyed]=!1;[kOnDestroyed]=null;[kClosed]=!1;[kOnClosed]=[];get destroyed(){return this[kDestroyed]}get closed(){return this[kClosed]}close(callback){if(callback===void 0)return new Promise((resolve,reject)=>{this.close((err,data)=>err?reject(err):resolve(data))});if(typeof callback!="function")throw new InvalidArgumentError("invalid callback");if(this[kDestroyed]){queueMicrotask(()=>callback(new ClientDestroyedError,null));return}if(this[kClosed]){this[kOnClosed]?this[kOnClosed].push(callback):queueMicrotask(()=>callback(null,null));return}this[kClosed]=!0,this[kOnClosed].push(callback);let onClosed=()=>{let callbacks=this[kOnClosed];this[kOnClosed]=null;for(let i=0;i<callbacks.length;i++)callbacks[i](null,null)};this[kClose]().then(()=>this.destroy()).then(()=>{queueMicrotask(onClosed)})}destroy(err,callback){if(typeof err=="function"&&(callback=err,err=null),callback===void 0)return new Promise((resolve,reject)=>{this.destroy(err,(err2,data)=>err2?reject(err2):resolve(data))});if(typeof callback!="function")throw new InvalidArgumentError("invalid callback");if(this[kDestroyed]){this[kOnDestroyed]?this[kOnDestroyed].push(callback):queueMicrotask(()=>callback(null,null));return}err||(err=new ClientDestroyedError),this[kDestroyed]=!0,this[kOnDestroyed]=this[kOnDestroyed]||[],this[kOnDestroyed].push(callback);let onDestroyed=()=>{let callbacks=this[kOnDestroyed];this[kOnDestroyed]=null;for(let i=0;i<callbacks.length;i++)callbacks[i](null,null)};this[kDestroy](err).then(()=>{queueMicrotask(onDestroyed)})}dispatch(opts,handler){if(!handler||typeof handler!="object")throw new InvalidArgumentError("handler must be an object");handler=UnwrapHandler.unwrap(handler);try{if(!opts||typeof opts!="object")throw new InvalidArgumentError("opts must be an object.");if(this[kDestroyed]||this[kOnDestroyed])throw new ClientDestroyedError;if(this[kClosed])throw new ClientClosedError;return this[kDispatch](opts,handler)}catch(err){if(typeof handler.onError!="function")throw err;return handler.onError(err),!1}}};module2.exports=DispatcherBase}});var require_connect=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/core/connect.js"(exports2,module2){"use strict";var net=require("node:net"),assert2=require("node:assert"),util3=require_util3(),{InvalidArgumentError}=require_errors5(),tls,SessionCache=class{constructor(maxCachedSessions){this._maxCachedSessions=maxCachedSessions,this._sessionCache=new Map,this._sessionRegistry=new FinalizationRegistry(key=>{if(this._sessionCache.size<this._maxCachedSessions)return;let ref=this._sessionCache.get(key);ref!==void 0&&ref.deref()===void 0&&this._sessionCache.delete(key)})}get(sessionKey){let ref=this._sessionCache.get(sessionKey);return ref?ref.deref():null}set(sessionKey,session){this._maxCachedSessions!==0&&(this._sessionCache.set(sessionKey,new WeakRef(session)),this._sessionRegistry.register(session,sessionKey))}};function buildConnector({allowH2,maxCachedSessions,socketPath,timeout,session:customSession,...opts}){if(maxCachedSessions!=null&&(!Number.isInteger(maxCachedSessions)||maxCachedSessions<0))throw new InvalidArgumentError("maxCachedSessions must be a positive integer or zero");let options2={path:socketPath,...opts},sessionCache=new SessionCache(maxCachedSessions??100);return timeout=timeout??1e4,allowH2=allowH2??!1,function({hostname,host,protocol,port,servername,localAddress,httpSocket},callback){let socket;if(protocol==="https:"){tls||(tls=require("node:tls")),servername=servername||options2.servername||util3.getServerName(host)||null;let sessionKey=servername||hostname;assert2(sessionKey);let session=customSession||sessionCache.get(sessionKey)||null;port=port||443,socket=tls.connect({highWaterMark:16384,...options2,servername,session,localAddress,ALPNProtocols:allowH2?["http/1.1","h2"]:["http/1.1"],socket:httpSocket,port,host:hostname}),socket.on("session",function(session2){sessionCache.set(sessionKey,session2)})}else assert2(!httpSocket,"httpSocket can only be sent on TLS update"),port=port||80,socket=net.connect({highWaterMark:64*1024,...options2,localAddress,port,host:hostname});if(options2.keepAlive==null||options2.keepAlive){let keepAliveInitialDelay=options2.keepAliveInitialDelay===void 0?6e4:options2.keepAliveInitialDelay;socket.setKeepAlive(!0,keepAliveInitialDelay)}let clearConnectTimeout=util3.setupConnectTimeout(new WeakRef(socket),{timeout,hostname,port});return socket.setNoDelay(!0).once(protocol==="https:"?"secureConnect":"connect",function(){if(queueMicrotask(clearConnectTimeout),callback){let cb=callback;callback=null,cb(null,this)}}).on("error",function(err){if(queueMicrotask(clearConnectTimeout),callback){let cb=callback;callback=null,cb(err)}}),socket}}module2.exports=buildConnector}});var require_utils3=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/llhttp/utils.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.enumToMap=enumToMap;function enumToMap(obj,filter=[],exceptions=[]){let emptyFilter=(filter?.length??0)===0,emptyExceptions=(exceptions?.length??0)===0;return Object.fromEntries(Object.entries(obj).filter(([,value])=>typeof value=="number"&&(emptyFilter||filter.includes(value))&&(emptyExceptions||!exceptions.includes(value))))}}});var require_constants5=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/llhttp/constants.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.SPECIAL_HEADERS=exports2.MINOR=exports2.MAJOR=exports2.HTAB_SP_VCHAR_OBS_TEXT=exports2.QUOTED_STRING=exports2.CONNECTION_TOKEN_CHARS=exports2.HEADER_CHARS=exports2.TOKEN=exports2.HEX=exports2.URL_CHAR=exports2.USERINFO_CHARS=exports2.MARK=exports2.ALPHANUM=exports2.NUM=exports2.HEX_MAP=exports2.NUM_MAP=exports2.ALPHA=exports2.STATUSES_HTTP=exports2.H_METHOD_MAP=exports2.METHOD_MAP=exports2.METHODS_RTSP=exports2.METHODS_ICE=exports2.METHODS_HTTP=exports2.HEADER_STATE=exports2.FINISH=exports2.STATUSES=exports2.METHODS=exports2.LENIENT_FLAGS=exports2.FLAGS=exports2.TYPE=exports2.ERROR=void 0;var utils_1=require_utils3();exports2.ERROR={OK:0,INTERNAL:1,STRICT:2,CR_EXPECTED:25,LF_EXPECTED:3,UNEXPECTED_CONTENT_LENGTH:4,UNEXPECTED_SPACE:30,CLOSED_CONNECTION:5,INVALID_METHOD:6,INVALID_URL:7,INVALID_CONSTANT:8,INVALID_VERSION:9,INVALID_HEADER_TOKEN:10,INVALID_CONTENT_LENGTH:11,INVALID_CHUNK_SIZE:12,INVALID_STATUS:13,INVALID_EOF_STATE:14,INVALID_TRANSFER_ENCODING:15,CB_MESSAGE_BEGIN:16,CB_HEADERS_COMPLETE:17,CB_MESSAGE_COMPLETE:18,CB_CHUNK_HEADER:19,CB_CHUNK_COMPLETE:20,PAUSED:21,PAUSED_UPGRADE:22,PAUSED_H2_UPGRADE:23,USER:24,CB_URL_COMPLETE:26,CB_STATUS_COMPLETE:27,CB_METHOD_COMPLETE:32,CB_VERSION_COMPLETE:33,CB_HEADER_FIELD_COMPLETE:28,CB_HEADER_VALUE_COMPLETE:29,CB_CHUNK_EXTENSION_NAME_COMPLETE:34,CB_CHUNK_EXTENSION_VALUE_COMPLETE:35,CB_RESET:31,CB_PROTOCOL_COMPLETE:38};exports2.TYPE={BOTH:0,REQUEST:1,RESPONSE:2};exports2.FLAGS={CONNECTION_KEEP_ALIVE:1,CONNECTION_CLOSE:2,CONNECTION_UPGRADE:4,CHUNKED:8,UPGRADE:16,CONTENT_LENGTH:32,SKIPBODY:64,TRAILING:128,TRANSFER_ENCODING:512};exports2.LENIENT_FLAGS={HEADERS:1,CHUNKED_LENGTH:2,KEEP_ALIVE:4,TRANSFER_ENCODING:8,VERSION:16,DATA_AFTER_CLOSE:32,OPTIONAL_LF_AFTER_CR:64,OPTIONAL_CRLF_AFTER_CHUNK:128,OPTIONAL_CR_BEFORE_LF:256,SPACES_AFTER_CHUNK_SIZE:512};exports2.METHODS={DELETE:0,GET:1,HEAD:2,POST:3,PUT:4,CONNECT:5,OPTIONS:6,TRACE:7,COPY:8,LOCK:9,MKCOL:10,MOVE:11,PROPFIND:12,PROPPATCH:13,SEARCH:14,UNLOCK:15,BIND:16,REBIND:17,UNBIND:18,ACL:19,REPORT:20,MKACTIVITY:21,CHECKOUT:22,MERGE:23,"M-SEARCH":24,NOTIFY:25,SUBSCRIBE:26,UNSUBSCRIBE:27,PATCH:28,PURGE:29,MKCALENDAR:30,LINK:31,UNLINK:32,SOURCE:33,PRI:34,DESCRIBE:35,ANNOUNCE:36,SETUP:37,PLAY:38,PAUSE:39,TEARDOWN:40,GET_PARAMETER:41,SET_PARAMETER:42,REDIRECT:43,RECORD:44,FLUSH:45,QUERY:46};exports2.STATUSES={CONTINUE:100,SWITCHING_PROTOCOLS:101,PROCESSING:102,EARLY_HINTS:103,RESPONSE_IS_STALE:110,REVALIDATION_FAILED:111,DISCONNECTED_OPERATION:112,HEURISTIC_EXPIRATION:113,MISCELLANEOUS_WARNING:199,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTI_STATUS:207,ALREADY_REPORTED:208,TRANSFORMATION_APPLIED:214,IM_USED:226,MISCELLANEOUS_PERSISTENT_WARNING:299,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,SWITCH_PROXY:306,TEMPORARY_REDIRECT:307,PERMANENT_REDIRECT:308,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,IM_A_TEAPOT:418,PAGE_EXPIRED:419,ENHANCE_YOUR_CALM:420,MISDIRECTED_REQUEST:421,UNPROCESSABLE_ENTITY:422,LOCKED:423,FAILED_DEPENDENCY:424,TOO_EARLY:425,UPGRADE_REQUIRED:426,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE_UNOFFICIAL:430,REQUEST_HEADER_FIELDS_TOO_LARGE:431,LOGIN_TIMEOUT:440,NO_RESPONSE:444,RETRY_WITH:449,BLOCKED_BY_PARENTAL_CONTROL:450,UNAVAILABLE_FOR_LEGAL_REASONS:451,CLIENT_CLOSED_LOAD_BALANCED_REQUEST:460,INVALID_X_FORWARDED_FOR:463,REQUEST_HEADER_TOO_LARGE:494,SSL_CERTIFICATE_ERROR:495,SSL_CERTIFICATE_REQUIRED:496,HTTP_REQUEST_SENT_TO_HTTPS_PORT:497,INVALID_TOKEN:498,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,LOOP_DETECTED:508,BANDWIDTH_LIMIT_EXCEEDED:509,NOT_EXTENDED:510,NETWORK_AUTHENTICATION_REQUIRED:511,WEB_SERVER_UNKNOWN_ERROR:520,WEB_SERVER_IS_DOWN:521,CONNECTION_TIMEOUT:522,ORIGIN_IS_UNREACHABLE:523,TIMEOUT_OCCURED:524,SSL_HANDSHAKE_FAILED:525,INVALID_SSL_CERTIFICATE:526,RAILGUN_ERROR:527,SITE_IS_OVERLOADED:529,SITE_IS_FROZEN:530,IDENTITY_PROVIDER_AUTHENTICATION_ERROR:561,NETWORK_READ_TIMEOUT:598,NETWORK_CONNECT_TIMEOUT:599};exports2.FINISH={SAFE:0,SAFE_WITH_CB:1,UNSAFE:2};exports2.HEADER_STATE={GENERAL:0,CONNECTION:1,CONTENT_LENGTH:2,TRANSFER_ENCODING:3,UPGRADE:4,CONNECTION_KEEP_ALIVE:5,CONNECTION_CLOSE:6,CONNECTION_UPGRADE:7,TRANSFER_ENCODING_CHUNKED:8};exports2.METHODS_HTTP=[exports2.METHODS.DELETE,exports2.METHODS.GET,exports2.METHODS.HEAD,exports2.METHODS.POST,exports2.METHODS.PUT,exports2.METHODS.CONNECT,exports2.METHODS.OPTIONS,exports2.METHODS.TRACE,exports2.METHODS.COPY,exports2.METHODS.LOCK,exports2.METHODS.MKCOL,exports2.METHODS.MOVE,exports2.METHODS.PROPFIND,exports2.METHODS.PROPPATCH,exports2.METHODS.SEARCH,exports2.METHODS.UNLOCK,exports2.METHODS.BIND,exports2.METHODS.REBIND,exports2.METHODS.UNBIND,exports2.METHODS.ACL,exports2.METHODS.REPORT,exports2.METHODS.MKACTIVITY,exports2.METHODS.CHECKOUT,exports2.METHODS.MERGE,exports2.METHODS["M-SEARCH"],exports2.METHODS.NOTIFY,exports2.METHODS.SUBSCRIBE,exports2.METHODS.UNSUBSCRIBE,exports2.METHODS.PATCH,exports2.METHODS.PURGE,exports2.METHODS.MKCALENDAR,exports2.METHODS.LINK,exports2.METHODS.UNLINK,exports2.METHODS.PRI,exports2.METHODS.SOURCE,exports2.METHODS.QUERY];exports2.METHODS_ICE=[exports2.METHODS.SOURCE];exports2.METHODS_RTSP=[exports2.METHODS.OPTIONS,exports2.METHODS.DESCRIBE,exports2.METHODS.ANNOUNCE,exports2.METHODS.SETUP,exports2.METHODS.PLAY,exports2.METHODS.PAUSE,exports2.METHODS.TEARDOWN,exports2.METHODS.GET_PARAMETER,exports2.METHODS.SET_PARAMETER,exports2.METHODS.REDIRECT,exports2.METHODS.RECORD,exports2.METHODS.FLUSH,exports2.METHODS.GET,exports2.METHODS.POST];exports2.METHOD_MAP=(0,utils_1.enumToMap)(exports2.METHODS);exports2.H_METHOD_MAP=Object.fromEntries(Object.entries(exports2.METHODS).filter(([k])=>k.startsWith("H")));exports2.STATUSES_HTTP=[exports2.STATUSES.CONTINUE,exports2.STATUSES.SWITCHING_PROTOCOLS,exports2.STATUSES.PROCESSING,exports2.STATUSES.EARLY_HINTS,exports2.STATUSES.RESPONSE_IS_STALE,exports2.STATUSES.REVALIDATION_FAILED,exports2.STATUSES.DISCONNECTED_OPERATION,exports2.STATUSES.HEURISTIC_EXPIRATION,exports2.STATUSES.MISCELLANEOUS_WARNING,exports2.STATUSES.OK,exports2.STATUSES.CREATED,exports2.STATUSES.ACCEPTED,exports2.STATUSES.NON_AUTHORITATIVE_INFORMATION,exports2.STATUSES.NO_CONTENT,exports2.STATUSES.RESET_CONTENT,exports2.STATUSES.PARTIAL_CONTENT,exports2.STATUSES.MULTI_STATUS,exports2.STATUSES.ALREADY_REPORTED,exports2.STATUSES.TRANSFORMATION_APPLIED,exports2.STATUSES.IM_USED,exports2.STATUSES.MISCELLANEOUS_PERSISTENT_WARNING,exports2.STATUSES.MULTIPLE_CHOICES,exports2.STATUSES.MOVED_PERMANENTLY,exports2.STATUSES.FOUND,exports2.STATUSES.SEE_OTHER,exports2.STATUSES.NOT_MODIFIED,exports2.STATUSES.USE_PROXY,exports2.STATUSES.SWITCH_PROXY,exports2.STATUSES.TEMPORARY_REDIRECT,exports2.STATUSES.PERMANENT_REDIRECT,exports2.STATUSES.BAD_REQUEST,exports2.STATUSES.UNAUTHORIZED,exports2.STATUSES.PAYMENT_REQUIRED,exports2.STATUSES.FORBIDDEN,exports2.STATUSES.NOT_FOUND,exports2.STATUSES.METHOD_NOT_ALLOWED,exports2.STATUSES.NOT_ACCEPTABLE,exports2.STATUSES.PROXY_AUTHENTICATION_REQUIRED,exports2.STATUSES.REQUEST_TIMEOUT,exports2.STATUSES.CONFLICT,exports2.STATUSES.GONE,exports2.STATUSES.LENGTH_REQUIRED,exports2.STATUSES.PRECONDITION_FAILED,exports2.STATUSES.PAYLOAD_TOO_LARGE,exports2.STATUSES.URI_TOO_LONG,exports2.STATUSES.UNSUPPORTED_MEDIA_TYPE,exports2.STATUSES.RANGE_NOT_SATISFIABLE,exports2.STATUSES.EXPECTATION_FAILED,exports2.STATUSES.IM_A_TEAPOT,exports2.STATUSES.PAGE_EXPIRED,exports2.STATUSES.ENHANCE_YOUR_CALM,exports2.STATUSES.MISDIRECTED_REQUEST,exports2.STATUSES.UNPROCESSABLE_ENTITY,exports2.STATUSES.LOCKED,exports2.STATUSES.FAILED_DEPENDENCY,exports2.STATUSES.TOO_EARLY,exports2.STATUSES.UPGRADE_REQUIRED,exports2.STATUSES.PRECONDITION_REQUIRED,exports2.STATUSES.TOO_MANY_REQUESTS,exports2.STATUSES.REQUEST_HEADER_FIELDS_TOO_LARGE_UNOFFICIAL,exports2.STATUSES.REQUEST_HEADER_FIELDS_TOO_LARGE,exports2.STATUSES.LOGIN_TIMEOUT,exports2.STATUSES.NO_RESPONSE,exports2.STATUSES.RETRY_WITH,exports2.STATUSES.BLOCKED_BY_PARENTAL_CONTROL,exports2.STATUSES.UNAVAILABLE_FOR_LEGAL_REASONS,exports2.STATUSES.CLIENT_CLOSED_LOAD_BALANCED_REQUEST,exports2.STATUSES.INVALID_X_FORWARDED_FOR,exports2.STATUSES.REQUEST_HEADER_TOO_LARGE,exports2.STATUSES.SSL_CERTIFICATE_ERROR,exports2.STATUSES.SSL_CERTIFICATE_REQUIRED,exports2.STATUSES.HTTP_REQUEST_SENT_TO_HTTPS_PORT,exports2.STATUSES.INVALID_TOKEN,exports2.STATUSES.CLIENT_CLOSED_REQUEST,exports2.STATUSES.INTERNAL_SERVER_ERROR,exports2.STATUSES.NOT_IMPLEMENTED,exports2.STATUSES.BAD_GATEWAY,exports2.STATUSES.SERVICE_UNAVAILABLE,exports2.STATUSES.GATEWAY_TIMEOUT,exports2.STATUSES.HTTP_VERSION_NOT_SUPPORTED,exports2.STATUSES.VARIANT_ALSO_NEGOTIATES,exports2.STATUSES.INSUFFICIENT_STORAGE,exports2.STATUSES.LOOP_DETECTED,exports2.STATUSES.BANDWIDTH_LIMIT_EXCEEDED,exports2.STATUSES.NOT_EXTENDED,exports2.STATUSES.NETWORK_AUTHENTICATION_REQUIRED,exports2.STATUSES.WEB_SERVER_UNKNOWN_ERROR,exports2.STATUSES.WEB_SERVER_IS_DOWN,exports2.STATUSES.CONNECTION_TIMEOUT,exports2.STATUSES.ORIGIN_IS_UNREACHABLE,exports2.STATUSES.TIMEOUT_OCCURED,exports2.STATUSES.SSL_HANDSHAKE_FAILED,exports2.STATUSES.INVALID_SSL_CERTIFICATE,exports2.STATUSES.RAILGUN_ERROR,exports2.STATUSES.SITE_IS_OVERLOADED,exports2.STATUSES.SITE_IS_FROZEN,exports2.STATUSES.IDENTITY_PROVIDER_AUTHENTICATION_ERROR,exports2.STATUSES.NETWORK_READ_TIMEOUT,exports2.STATUSES.NETWORK_CONNECT_TIMEOUT];exports2.ALPHA=[];for(let i=65;i<=90;i++)exports2.ALPHA.push(String.fromCharCode(i)),exports2.ALPHA.push(String.fromCharCode(i+32));exports2.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};exports2.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};exports2.NUM=["0","1","2","3","4","5","6","7","8","9"];exports2.ALPHANUM=exports2.ALPHA.concat(exports2.NUM);exports2.MARK=["-","_",".","!","~","*","'","(",")"];exports2.USERINFO_CHARS=exports2.ALPHANUM.concat(exports2.MARK).concat(["%",";",":","&","=","+","$",","]);exports2.URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(exports2.ALPHANUM);exports2.HEX=exports2.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);exports2.TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(exports2.ALPHANUM);exports2.HEADER_CHARS=["	"];for(let i=32;i<=255;i++)i!==127&&exports2.HEADER_CHARS.push(i);exports2.CONNECTION_TOKEN_CHARS=exports2.HEADER_CHARS.filter(c=>c!==44);exports2.QUOTED_STRING=["	"," "];for(let i=33;i<=255;i++)i!==34&&i!==92&&exports2.QUOTED_STRING.push(i);exports2.HTAB_SP_VCHAR_OBS_TEXT=["	"," "];for(let i=33;i<=126;i++)exports2.HTAB_SP_VCHAR_OBS_TEXT.push(i);for(let i=128;i<=255;i++)exports2.HTAB_SP_VCHAR_OBS_TEXT.push(i);exports2.MAJOR=exports2.NUM_MAP;exports2.MINOR=exports2.MAJOR;exports2.SPECIAL_HEADERS={connection:exports2.HEADER_STATE.CONNECTION,"content-length":exports2.HEADER_STATE.CONTENT_LENGTH,"proxy-connection":exports2.HEADER_STATE.CONNECTION,"transfer-encoding":exports2.HEADER_STATE.TRANSFER_ENCODING,upgrade:exports2.HEADER_STATE.UPGRADE};exports2.default={ERROR:exports2.ERROR,TYPE:exports2.TYPE,FLAGS:exports2.FLAGS,LENIENT_FLAGS:exports2.LENIENT_FLAGS,METHODS:exports2.METHODS,STATUSES:exports2.STATUSES,FINISH:exports2.FINISH,HEADER_STATE:exports2.HEADER_STATE,ALPHA:exports2.ALPHA,NUM_MAP:exports2.NUM_MAP,HEX_MAP:exports2.HEX_MAP,NUM:exports2.NUM,ALPHANUM:exports2.ALPHANUM,MARK:exports2.MARK,USERINFO_CHARS:exports2.USERINFO_CHARS,URL_CHAR:exports2.URL_CHAR,HEX:exports2.HEX,TOKEN:exports2.TOKEN,HEADER_CHARS:exports2.HEADER_CHARS,CONNECTION_TOKEN_CHARS:exports2.CONNECTION_TOKEN_CHARS,QUOTED_STRING:exports2.QUOTED_STRING,HTAB_SP_VCHAR_OBS_TEXT:exports2.HTAB_SP_VCHAR_OBS_TEXT,MAJOR:exports2.MAJOR,MINOR:exports2.MINOR,SPECIAL_HEADERS:exports2.SPECIAL_HEADERS,METHODS_HTTP:exports2.METHODS_HTTP,METHODS_ICE:exports2.METHODS_ICE,METHODS_RTSP:exports2.METHODS_RTSP,METHOD_MAP:exports2.METHOD_MAP,H_METHOD_MAP:exports2.H_METHOD_MAP,STATUSES_HTTP:exports2.STATUSES_HTTP}}});var require_llhttp_wasm=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/llhttp/llhttp-wasm.js"(exports2,module2){"use strict";var{Buffer:Buffer2}=require("node:buffer"),wasmBase64="AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAn9/AGABfwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAzU0BQYAAAMAAAAAAAADAQMAAwMDAAACAAAAAAICAgICAgICAgIBAQEBAQEBAQEBAwAAAwAAAAQFAXABExMFAwEAAgYIAX8BQcDZBAsHxQcoBm1lbW9yeQIAC19pbml0aWFsaXplAAgZX19pbmRpcmVjdF9mdW5jdGlvbl90YWJsZQEAC2xsaHR0cF9pbml0AAkYbGxodHRwX3Nob3VsZF9rZWVwX2FsaXZlADcMbGxodHRwX2FsbG9jAAsGbWFsbG9jADkLbGxodHRwX2ZyZWUADARmcmVlAAwPbGxodHRwX2dldF90eXBlAA0VbGxodHRwX2dldF9odHRwX21ham9yAA4VbGxodHRwX2dldF9odHRwX21pbm9yAA8RbGxodHRwX2dldF9tZXRob2QAEBZsbGh0dHBfZ2V0X3N0YXR1c19jb2RlABESbGxodHRwX2dldF91cGdyYWRlABIMbGxodHRwX3Jlc2V0ABMObGxodHRwX2V4ZWN1dGUAFBRsbGh0dHBfc2V0dGluZ3NfaW5pdAAVDWxsaHR0cF9maW5pc2gAFgxsbGh0dHBfcGF1c2UAFw1sbGh0dHBfcmVzdW1lABgbbGxodHRwX3Jlc3VtZV9hZnRlcl91cGdyYWRlABkQbGxodHRwX2dldF9lcnJubwAaF2xsaHR0cF9nZXRfZXJyb3JfcmVhc29uABsXbGxodHRwX3NldF9lcnJvcl9yZWFzb24AHBRsbGh0dHBfZ2V0X2Vycm9yX3BvcwAdEWxsaHR0cF9lcnJub19uYW1lAB4SbGxodHRwX21ldGhvZF9uYW1lAB8SbGxodHRwX3N0YXR1c19uYW1lACAabGxodHRwX3NldF9sZW5pZW50X2hlYWRlcnMAISFsbGh0dHBfc2V0X2xlbmllbnRfY2h1bmtlZF9sZW5ndGgAIh1sbGh0dHBfc2V0X2xlbmllbnRfa2VlcF9hbGl2ZQAjJGxsaHR0cF9zZXRfbGVuaWVudF90cmFuc2Zlcl9lbmNvZGluZwAkGmxsaHR0cF9zZXRfbGVuaWVudF92ZXJzaW9uACUjbGxodHRwX3NldF9sZW5pZW50X2RhdGFfYWZ0ZXJfY2xvc2UAJidsbGh0dHBfc2V0X2xlbmllbnRfb3B0aW9uYWxfbGZfYWZ0ZXJfY3IAJyxsbGh0dHBfc2V0X2xlbmllbnRfb3B0aW9uYWxfY3JsZl9hZnRlcl9jaHVuawAoKGxsaHR0cF9zZXRfbGVuaWVudF9vcHRpb25hbF9jcl9iZWZvcmVfbGYAKSpsbGh0dHBfc2V0X2xlbmllbnRfc3BhY2VzX2FmdGVyX2NodW5rX3NpemUAKhhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YANgkYAQBBAQsSAQIDBAUKBgcyNDMuKy8tLDAxCq/ZAjQWAEHA1QAoAgAEQAALQcDVAEEBNgIACxQAIAAQOCAAIAI2AjggACABOgAoCxQAIAAgAC8BNCAALQAwIAAQNxAACx4BAX9BwAAQOiIBEDggAUGACDYCOCABIAA6ACggAQuPDAEHfwJAIABFDQAgAEEIayIBIABBBGsoAgAiAEF4cSIEaiEFAkAgAEEBcQ0AIABBA3FFDQEgASABKAIAIgBrIgFB1NUAKAIASQ0BIAAgBGohBAJAAkBB2NUAKAIAIAFHBEAgAEH/AU0EQCAAQQN2IQMgASgCCCIAIAEoAgwiAkYEQEHE1QBBxNUAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgASgCGCEGIAEgASgCDCIARwRAIAAgASgCCCICNgIIIAIgADYCDAwDCyABQRRqIgMoAgAiAkUEQCABKAIQIgJFDQIgAUEQaiEDCwNAIAMhByACIgBBFGoiAygCACICDQAgAEEQaiEDIAAoAhAiAg0ACyAHQQA2AgAMAgsgBSgCBCIAQQNxQQNHDQIgBSAAQX5xNgIEQczVACAENgIAIAUgBDYCACABIARBAXI2AgQMAwtBACEACyAGRQ0AAkAgASgCHCICQQJ0QfTXAGoiAygCACABRgRAIAMgADYCACAADQFByNUAQcjVACgCAEF+IAJ3cTYCAAwCCyAGQRBBFCAGKAIQIAFGG2ogADYCACAARQ0BCyAAIAY2AhggASgCECICBEAgACACNgIQIAIgADYCGAsgAUEUaigCACICRQ0AIABBFGogAjYCACACIAA2AhgLIAEgBU8NACAFKAIEIgBBAXFFDQACQAJAAkACQCAAQQJxRQRAQdzVACgCACAFRgRAQdzVACABNgIAQdDVAEHQ1QAoAgAgBGoiADYCACABIABBAXI2AgQgAUHY1QAoAgBHDQZBzNUAQQA2AgBB2NUAQQA2AgAMBgtB2NUAKAIAIAVGBEBB2NUAIAE2AgBBzNUAQczVACgCACAEaiIANgIAIAEgAEEBcjYCBCAAIAFqIAA2AgAMBgsgAEF4cSAEaiEEIABB/wFNBEAgAEEDdiEDIAUoAggiACAFKAIMIgJGBEBBxNUAQcTVACgCAEF+IAN3cTYCAAwFCyACIAA2AgggACACNgIMDAQLIAUoAhghBiAFIAUoAgwiAEcEQEHU1QAoAgAaIAAgBSgCCCICNgIIIAIgADYCDAwDCyAFQRRqIgMoAgAiAkUEQCAFKAIQIgJFDQIgBUEQaiEDCwNAIAMhByACIgBBFGoiAygCACICDQAgAEEQaiEDIAAoAhAiAg0ACyAHQQA2AgAMAgsgBSAAQX5xNgIEIAEgBGogBDYCACABIARBAXI2AgQMAwtBACEACyAGRQ0AAkAgBSgCHCICQQJ0QfTXAGoiAygCACAFRgRAIAMgADYCACAADQFByNUAQcjVACgCAEF+IAJ3cTYCAAwCCyAGQRBBFCAGKAIQIAVGG2ogADYCACAARQ0BCyAAIAY2AhggBSgCECICBEAgACACNgIQIAIgADYCGAsgBUEUaigCACICRQ0AIABBFGogAjYCACACIAA2AhgLIAEgBGogBDYCACABIARBAXI2AgQgAUHY1QAoAgBHDQBBzNUAIAQ2AgAMAQsgBEH/AU0EQCAEQXhxQezVAGohAAJ/QcTVACgCACICQQEgBEEDdnQiA3FFBEBBxNUAIAIgA3I2AgAgAAwBCyAAKAIICyICIAE2AgwgACABNgIIIAEgADYCDCABIAI2AggMAQtBHyECIARB////B00EQCAEQSYgBEEIdmciAGt2QQFxIABBAXRrQT5qIQILIAEgAjYCHCABQgA3AhAgAkECdEH01wBqIQACQEHI1QAoAgAiA0EBIAJ0IgdxRQRAIAAgATYCAEHI1QAgAyAHcjYCACABIAA2AhggASABNgIIIAEgATYCDAwBCyAEQRkgAkEBdmtBACACQR9HG3QhAiAAKAIAIQACQANAIAAiAygCBEF4cSAERg0BIAJBHXYhACACQQF0IQIgAyAAQQRxakEQaiIHKAIAIgANAAsgByABNgIAIAEgAzYCGCABIAE2AgwgASABNgIIDAELIAMoAggiACABNgIMIAMgATYCCCABQQA2AhggASADNgIMIAEgADYCCAtB5NUAQeTVACgCAEEBayIAQX8gABs2AgALCwcAIAAtACgLBwAgAC0AKgsHACAALQArCwcAIAAtACkLBwAgAC8BNAsHACAALQAwC0ABBH8gACgCGCEBIAAvAS4hAiAALQAoIQMgACgCOCEEIAAQOCAAIAQ2AjggACADOgAoIAAgAjsBLiAAIAE2AhgL5YUCAgd/A34gASACaiEEAkAgACIDKAIMIgANACADKAIEBEAgAyABNgIECyMAQRBrIgkkAAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAygCHCICQQJrDvwBAfkBAgMEBQYHCAkKCwwNDg8QERL4ARP3ARQV9gEWF/UBGBkaGxwdHh8g/QH7ASH0ASIjJCUmJygpKivzASwtLi8wMTLyAfEBMzTwAe8BNTY3ODk6Ozw9Pj9AQUJDREVGR0hJSktMTU5P+gFQUVJT7gHtAVTsAVXrAVZXWFla6gFbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcoBywHMAc0BzgHpAegBzwHnAdAB5gHRAdIB0wHUAeUB1QHWAdcB2AHZAdoB2wHcAd0B3gHfAeAB4QHiAeMBAPwBC0EADOMBC0EODOIBC0ENDOEBC0EPDOABC0EQDN8BC0ETDN4BC0EUDN0BC0EVDNwBC0EWDNsBC0EXDNoBC0EYDNkBC0EZDNgBC0EaDNcBC0EbDNYBC0EcDNUBC0EdDNQBC0EeDNMBC0EfDNIBC0EgDNEBC0EhDNABC0EIDM8BC0EiDM4BC0EkDM0BC0EjDMwBC0EHDMsBC0ElDMoBC0EmDMkBC0EnDMgBC0EoDMcBC0ESDMYBC0ERDMUBC0EpDMQBC0EqDMMBC0ErDMIBC0EsDMEBC0HeAQzAAQtBLgy/AQtBLwy+AQtBMAy9AQtBMQy8AQtBMgy7AQtBMwy6AQtBNAy5AQtB3wEMuAELQTUMtwELQTkMtgELQQwMtQELQTYMtAELQTcMswELQTgMsgELQT4MsQELQToMsAELQeABDK8BC0ELDK4BC0E/DK0BC0E7DKwBC0EKDKsBC0E8DKoBC0E9DKkBC0HhAQyoAQtBwQAMpwELQcAADKYBC0HCAAylAQtBCQykAQtBLQyjAQtBwwAMogELQcQADKEBC0HFAAygAQtBxgAMnwELQccADJ4BC0HIAAydAQtByQAMnAELQcoADJsBC0HLAAyaAQtBzAAMmQELQc0ADJgBC0HOAAyXAQtBzwAMlgELQdAADJUBC0HRAAyUAQtB0gAMkwELQdMADJIBC0HVAAyRAQtB1AAMkAELQdYADI8BC0HXAAyOAQtB2AAMjQELQdkADIwBC0HaAAyLAQtB2wAMigELQdwADIkBC0HdAAyIAQtB3gAMhwELQd8ADIYBC0HgAAyFAQtB4QAMhAELQeIADIMBC0HjAAyCAQtB5AAMgQELQeUADIABC0HiAQx/C0HmAAx+C0HnAAx9C0EGDHwLQegADHsLQQUMegtB6QAMeQtBBAx4C0HqAAx3C0HrAAx2C0HsAAx1C0HtAAx0C0EDDHMLQe4ADHILQe8ADHELQfAADHALQfIADG8LQfEADG4LQfMADG0LQfQADGwLQfUADGsLQfYADGoLQQIMaQtB9wAMaAtB+AAMZwtB+QAMZgtB+gAMZQtB+wAMZAtB/AAMYwtB/QAMYgtB/gAMYQtB/wAMYAtBgAEMXwtBgQEMXgtBggEMXQtBgwEMXAtBhAEMWwtBhQEMWgtBhgEMWQtBhwEMWAtBiAEMVwtBiQEMVgtBigEMVQtBiwEMVAtBjAEMUwtBjQEMUgtBjgEMUQtBjwEMUAtBkAEMTwtBkQEMTgtBkgEMTQtBkwEMTAtBlAEMSwtBlQEMSgtBlgEMSQtBlwEMSAtBmAEMRwtBmQEMRgtBmgEMRQtBmwEMRAtBnAEMQwtBnQEMQgtBngEMQQtBnwEMQAtBoAEMPwtBoQEMPgtBogEMPQtBowEMPAtBpAEMOwtBpQEMOgtBpgEMOQtBpwEMOAtBqAEMNwtBqQEMNgtBqgEMNQtBqwEMNAtBrAEMMwtBrQEMMgtBrgEMMQtBrwEMMAtBsAEMLwtBsQEMLgtBsgEMLQtBswEMLAtBtAEMKwtBtQEMKgtBtgEMKQtBtwEMKAtBuAEMJwtBuQEMJgtBugEMJQtBuwEMJAtBvAEMIwtBvQEMIgtBvgEMIQtBvwEMIAtBwAEMHwtBwQEMHgtBwgEMHQtBAQwcC0HDAQwbC0HEAQwaC0HFAQwZC0HGAQwYC0HHAQwXC0HIAQwWC0HJAQwVC0HKAQwUC0HLAQwTC0HMAQwSC0HNAQwRC0HOAQwQC0HPAQwPC0HQAQwOC0HRAQwNC0HSAQwMC0HTAQwLC0HUAQwKC0HVAQwJC0HWAQwIC0HjAQwHC0HXAQwGC0HYAQwFC0HZAQwEC0HaAQwDC0HbAQwCC0HdAQwBC0HcAQshAgNAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJ/AkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAMCfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAg7jAQABAgMEBQYHCAkKCwwNDg8QERITFBUWFxgZGhscHR4fICEjJCUnKCmeA5sDmgORA4oDgwOAA/0C+wL4AvIC8QLvAu0C6ALnAuYC5QLkAtwC2wLaAtkC2ALXAtYC1QLPAs4CzALLAsoCyQLIAscCxgLEAsMCvgK8AroCuQK4ArcCtgK1ArQCswKyArECsAKuAq0CqQKoAqcCpgKlAqQCowKiAqECoAKfApgCkAKMAosCigKBAv4B/QH8AfsB+gH5AfgB9wH1AfMB8AHrAekB6AHnAeYB5QHkAeMB4gHhAeAB3wHeAd0B3AHaAdkB2AHXAdYB1QHUAdMB0gHRAdABzwHOAc0BzAHLAcoByQHIAccBxgHFAcQBwwHCAcEBwAG/Ab4BvQG8AbsBugG5AbgBtwG2AbUBtAGzAbIBsQGwAa8BrgGtAawBqwGqAakBqAGnAaYBpQGkAaMBogGfAZ4BmQGYAZcBlgGVAZQBkwGSAZEBkAGPAY0BjAGHAYYBhQGEAYMBggF9fHt6eXZ1dFBRUlNUVQsgASAERw1yQf0BIQIMvgMLIAEgBEcNmAFB2wEhAgy9AwsgASAERw3xAUGOASECDLwDCyABIARHDfwBQYQBIQIMuwMLIAEgBEcNigJB/wAhAgy6AwsgASAERw2RAkH9ACECDLkDCyABIARHDZQCQfsAIQIMuAMLIAEgBEcNHkEeIQIMtwMLIAEgBEcNGUEYIQIMtgMLIAEgBEcNygJBzQAhAgy1AwsgASAERw3VAkHGACECDLQDCyABIARHDdYCQcMAIQIMswMLIAEgBEcN3AJBOCECDLIDCyADLQAwQQFGDa0DDIkDC0EAIQACQAJAAkAgAy0AKkUNACADLQArRQ0AIAMvATIiAkECcUUNAQwCCyADLwEyIgJBAXFFDQELQQEhACADLQAoQQFGDQAgAy8BNCIGQeQAa0HkAEkNACAGQcwBRg0AIAZBsAJGDQAgAkHAAHENAEEAIQAgAkGIBHFBgARGDQAgAkEocUEARyEACyADQQA7ATIgA0EAOgAxAkAgAEUEQCADQQA6ADEgAy0ALkEEcQ0BDLEDCyADQgA3AyALIANBADoAMSADQQE6ADYMSAtBACEAAkAgAygCOCICRQ0AIAIoAjAiAkUNACADIAIRAAAhAAsgAEUNSCAAQRVHDWIgA0EENgIcIAMgATYCFCADQdIbNgIQIANBFTYCDEEAIQIMrwMLIAEgBEYEQEEGIQIMrwMLIAEtAABBCkcNGSABQQFqIQEMGgsgA0IANwMgQRIhAgyUAwsgASAERw2KA0EjIQIMrAMLIAEgBEYEQEEHIQIMrAMLAkACQCABLQAAQQprDgQBGBgAGAsgAUEBaiEBQRAhAgyTAwsgAUEBaiEBIANBL2otAABBAXENF0EAIQIgA0EANgIcIAMgATYCFCADQZkgNgIQIANBGTYCDAyrAwsgAyADKQMgIgwgBCABa60iCn0iC0IAIAsgDFgbNwMgIAogDFoNGEEIIQIMqgMLIAEgBEcEQCADQQk2AgggAyABNgIEQRQhAgyRAwtBCSECDKkDCyADKQMgUA2uAgxDCyABIARGBEBBCyECDKgDCyABLQAAQQpHDRYgAUEBaiEBDBcLIANBL2otAABBAXFFDRkMJgtBACEAAkAgAygCOCICRQ0AIAIoAlAiAkUNACADIAIRAAAhAAsgAA0ZDEILQQAhAAJAIAMoAjgiAkUNACACKAJQIgJFDQAgAyACEQAAIQALIAANGgwkC0EAIQACQCADKAI4IgJFDQAgAigCUCICRQ0AIAMgAhEAACEACyAADRsMMgsgA0Evai0AAEEBcUUNHAwiC0EAIQACQCADKAI4IgJFDQAgAigCVCICRQ0AIAMgAhEAACEACyAADRwMQgtBACEAAkAgAygCOCICRQ0AIAIoAlQiAkUNACADIAIRAAAhAAsgAA0dDCALIAEgBEYEQEETIQIMoAMLAkAgAS0AACIAQQprDgQfIyMAIgsgAUEBaiEBDB8LQQAhAAJAIAMoAjgiAkUNACACKAJUIgJFDQAgAyACEQAAIQALIAANIgxCCyABIARGBEBBFiECDJ4DCyABLQAAQcDBAGotAABBAUcNIwyDAwsCQANAIAEtAABBsDtqLQAAIgBBAUcEQAJAIABBAmsOAgMAJwsgAUEBaiEBQSEhAgyGAwsgBCABQQFqIgFHDQALQRghAgydAwsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAFBAWoiARA0IgANIQxBC0EAIQACQCADKAI4IgJFDQAgAigCVCICRQ0AIAMgAhEAACEACyAADSMMKgsgASAERgRAQRwhAgybAwsgA0EKNgIIIAMgATYCBEEAIQACQCADKAI4IgJFDQAgAigCUCICRQ0AIAMgAhEAACEACyAADSVBJCECDIEDCyABIARHBEADQCABLQAAQbA9ai0AACIAQQNHBEAgAEEBaw4FGBomggMlJgsgBCABQQFqIgFHDQALQRshAgyaAwtBGyECDJkDCwNAIAEtAABBsD9qLQAAIgBBA0cEQCAAQQFrDgUPEScTJicLIAQgAUEBaiIBRw0AC0EeIQIMmAMLIAEgBEcEQCADQQs2AgggAyABNgIEQQchAgz/AgtBHyECDJcDCyABIARGBEBBICECDJcDCwJAIAEtAABBDWsOFC4/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8APwtBACECIANBADYCHCADQb8LNgIQIANBAjYCDCADIAFBAWo2AhQMlgMLIANBL2ohAgNAIAEgBEYEQEEhIQIMlwMLAkACQAJAIAEtAAAiAEEJaw4YAgApKQEpKSkpKSkpKSkpKSkpKSkpKSkCJwsgAUEBaiEBIANBL2otAABBAXFFDQoMGAsgAUEBaiEBDBcLIAFBAWohASACLQAAQQJxDQALQQAhAiADQQA2AhwgAyABNgIUIANBnxU2AhAgA0EMNgIMDJUDCyADLQAuQYABcUUNAQtBACEAAkAgAygCOCICRQ0AIAIoAlwiAkUNACADIAIRAAAhAAsgAEUN5gIgAEEVRgRAIANBJDYCHCADIAE2AhQgA0GbGzYCECADQRU2AgxBACECDJQDC0EAIQIgA0EANgIcIAMgATYCFCADQZAONgIQIANBFDYCDAyTAwtBACECIANBADYCHCADIAE2AhQgA0G+IDYCECADQQI2AgwMkgMLIAMoAgQhAEEAIQIgA0EANgIEIAMgACABIAynaiIBEDIiAEUNKyADQQc2AhwgAyABNgIUIAMgADYCDAyRAwsgAy0ALkHAAHFFDQELQQAhAAJAIAMoAjgiAkUNACACKAJYIgJFDQAgAyACEQAAIQALIABFDSsgAEEVRgRAIANBCjYCHCADIAE2AhQgA0HrGTYCECADQRU2AgxBACECDJADC0EAIQIgA0EANgIcIAMgATYCFCADQZMMNgIQIANBEzYCDAyPAwtBACECIANBADYCHCADIAE2AhQgA0GCFTYCECADQQI2AgwMjgMLQQAhAiADQQA2AhwgAyABNgIUIANB3RQ2AhAgA0EZNgIMDI0DC0EAIQIgA0EANgIcIAMgATYCFCADQeYdNgIQIANBGTYCDAyMAwsgAEEVRg09QQAhAiADQQA2AhwgAyABNgIUIANB0A82AhAgA0EiNgIMDIsDCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFDSggA0ENNgIcIAMgATYCFCADIAA2AgwMigMLIABBFUYNOkEAIQIgA0EANgIcIAMgATYCFCADQdAPNgIQIANBIjYCDAyJAwsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQMyIARQRAIAFBAWohAQwoCyADQQ42AhwgAyAANgIMIAMgAUEBajYCFAyIAwsgAEEVRg03QQAhAiADQQA2AhwgAyABNgIUIANB0A82AhAgA0EiNgIMDIcDCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDCcLIANBDzYCHCADIAA2AgwgAyABQQFqNgIUDIYDC0EAIQIgA0EANgIcIAMgATYCFCADQeIXNgIQIANBGTYCDAyFAwsgAEEVRg0zQQAhAiADQQA2AhwgAyABNgIUIANB1gw2AhAgA0EjNgIMDIQDCyADKAIEIQBBACECIANBADYCBCADIAAgARA0IgBFDSUgA0ERNgIcIAMgATYCFCADIAA2AgwMgwMLIABBFUYNMEEAIQIgA0EANgIcIAMgATYCFCADQdYMNgIQIANBIzYCDAyCAwsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQNCIARQRAIAFBAWohAQwlCyADQRI2AhwgAyAANgIMIAMgAUEBajYCFAyBAwsgA0Evai0AAEEBcUUNAQtBFyECDOYCC0EAIQIgA0EANgIcIAMgATYCFCADQeIXNgIQIANBGTYCDAz+AgsgAEE7Rw0AIAFBAWohAQwMC0EAIQIgA0EANgIcIAMgATYCFCADQZIYNgIQIANBAjYCDAz8AgsgAEEVRg0oQQAhAiADQQA2AhwgAyABNgIUIANB1gw2AhAgA0EjNgIMDPsCCyADQRQ2AhwgAyABNgIUIAMgADYCDAz6AgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQNCIARQRAIAFBAWohAQz1AgsgA0EVNgIcIAMgADYCDCADIAFBAWo2AhQM+QILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDQiAEUEQCABQQFqIQEM8wILIANBFzYCHCADIAA2AgwgAyABQQFqNgIUDPgCCyAAQRVGDSNBACECIANBADYCHCADIAE2AhQgA0HWDDYCECADQSM2AgwM9wILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDQiAEUEQCABQQFqIQEMHQsgA0EZNgIcIAMgADYCDCADIAFBAWo2AhQM9gILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDQiAEUEQCABQQFqIQEM7wILIANBGjYCHCADIAA2AgwgAyABQQFqNgIUDPUCCyAAQRVGDR9BACECIANBADYCHCADIAE2AhQgA0HQDzYCECADQSI2AgwM9AILIAMoAgQhACADQQA2AgQgAyAAIAEQMyIARQRAIAFBAWohAQwbCyADQRw2AhwgAyAANgIMIAMgAUEBajYCFEEAIQIM8wILIAMoAgQhACADQQA2AgQgAyAAIAEQMyIARQRAIAFBAWohAQzrAgsgA0EdNgIcIAMgADYCDCADIAFBAWo2AhRBACECDPICCyAAQTtHDQEgAUEBaiEBC0EmIQIM1wILQQAhAiADQQA2AhwgAyABNgIUIANBnxU2AhAgA0EMNgIMDO8CCyABIARHBEADQCABLQAAQSBHDYQCIAQgAUEBaiIBRw0AC0EsIQIM7wILQSwhAgzuAgsgASAERgRAQTQhAgzuAgsCQAJAA0ACQCABLQAAQQprDgQCAAADAAsgBCABQQFqIgFHDQALQTQhAgzvAgsgAygCBCEAIANBADYCBCADIAAgARAxIgBFDZ8CIANBMjYCHCADIAE2AhQgAyAANgIMQQAhAgzuAgsgAygCBCEAIANBADYCBCADIAAgARAxIgBFBEAgAUEBaiEBDJ8CCyADQTI2AhwgAyAANgIMIAMgAUEBajYCFEEAIQIM7QILIAEgBEcEQAJAA0AgAS0AAEEwayIAQf8BcUEKTwRAQTohAgzXAgsgAykDICILQpmz5syZs+bMGVYNASADIAtCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAMgCiALfDcDICAEIAFBAWoiAUcNAAtBwAAhAgzuAgsgAygCBCEAIANBADYCBCADIAAgAUEBaiIBEDEiAA0XDOICC0HAACECDOwCCyABIARGBEBByQAhAgzsAgsCQANAAkAgAS0AAEEJaw4YAAKiAqICqQKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogIAogILIAQgAUEBaiIBRw0AC0HJACECDOwCCyABQQFqIQEgA0Evai0AAEEBcQ2lAiADQQA2AhwgAyABNgIUIANBlxA2AhAgA0EKNgIMQQAhAgzrAgsgASAERwRAA0AgAS0AAEEgRw0VIAQgAUEBaiIBRw0AC0H4ACECDOsCC0H4ACECDOoCCyADQQI6ACgMOAtBACECIANBADYCHCADQb8LNgIQIANBAjYCDCADIAFBAWo2AhQM6AILQQAhAgzOAgtBDSECDM0CC0ETIQIMzAILQRUhAgzLAgtBFiECDMoCC0EYIQIMyQILQRkhAgzIAgtBGiECDMcCC0EbIQIMxgILQRwhAgzFAgtBHSECDMQCC0EeIQIMwwILQR8hAgzCAgtBICECDMECC0EiIQIMwAILQSMhAgy/AgtBJSECDL4CC0HlACECDL0CCyADQT02AhwgAyABNgIUIAMgADYCDEEAIQIM1QILIANBGzYCHCADIAE2AhQgA0GkHDYCECADQRU2AgxBACECDNQCCyADQSA2AhwgAyABNgIUIANBmBo2AhAgA0EVNgIMQQAhAgzTAgsgA0ETNgIcIAMgATYCFCADQZgaNgIQIANBFTYCDEEAIQIM0gILIANBCzYCHCADIAE2AhQgA0GYGjYCECADQRU2AgxBACECDNECCyADQRA2AhwgAyABNgIUIANBmBo2AhAgA0EVNgIMQQAhAgzQAgsgA0EgNgIcIAMgATYCFCADQaQcNgIQIANBFTYCDEEAIQIMzwILIANBCzYCHCADIAE2AhQgA0GkHDYCECADQRU2AgxBACECDM4CCyADQQw2AhwgAyABNgIUIANBpBw2AhAgA0EVNgIMQQAhAgzNAgtBACECIANBADYCHCADIAE2AhQgA0HdDjYCECADQRI2AgwMzAILAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB/QEhAgzMAgsCQAJAIAMtADZBAUcNAEEAIQACQCADKAI4IgJFDQAgAigCYCICRQ0AIAMgAhEAACEACyAARQ0AIABBFUcNASADQfwBNgIcIAMgATYCFCADQdwZNgIQIANBFTYCDEEAIQIMzQILQdwBIQIMswILIANBADYCHCADIAE2AhQgA0H5CzYCECADQR82AgxBACECDMsCCwJAAkAgAy0AKEEBaw4CBAEAC0HbASECDLICC0HUASECDLECCyADQQI6ADFBACEAAkAgAygCOCICRQ0AIAIoAgAiAkUNACADIAIRAAAhAAsgAEUEQEHdASECDLECCyAAQRVHBEAgA0EANgIcIAMgATYCFCADQbQMNgIQIANBEDYCDEEAIQIMygILIANB+wE2AhwgAyABNgIUIANBgRo2AhAgA0EVNgIMQQAhAgzJAgsgASAERgRAQfoBIQIMyQILIAEtAABByABGDQEgA0EBOgAoC0HAASECDK4CC0HaASECDK0CCyABIARHBEAgA0EMNgIIIAMgATYCBEHZASECDK0CC0H5ASECDMUCCyABIARGBEBB+AEhAgzFAgsgAS0AAEHIAEcNBCABQQFqIQFB2AEhAgyrAgsgASAERgRAQfcBIQIMxAILAkACQCABLQAAQcUAaw4QAAUFBQUFBQUFBQUFBQUFAQULIAFBAWohAUHWASECDKsCCyABQQFqIQFB1wEhAgyqAgtB9gEhAiABIARGDcICIAMoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQbrVAGotAABHDQMgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADMMCCyADKAIEIQAgA0IANwMAIAMgACAGQQFqIgEQLiIARQRAQeMBIQIMqgILIANB9QE2AhwgAyABNgIUIAMgADYCDEEAIQIMwgILQfQBIQIgASAERg3BAiADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEG41QBqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzCAgsgA0GBBDsBKCADKAIEIQAgA0IANwMAIAMgACAGQQFqIgEQLiIADQMMAgsgA0EANgIAC0EAIQIgA0EANgIcIAMgATYCFCADQeUfNgIQIANBCDYCDAy/AgtB1QEhAgylAgsgA0HzATYCHCADIAE2AhQgAyAANgIMQQAhAgy9AgtBACEAAkAgAygCOCICRQ0AIAIoAkAiAkUNACADIAIRAAAhAAsgAEUNbiAAQRVHBEAgA0EANgIcIAMgATYCFCADQYIPNgIQIANBIDYCDEEAIQIMvQILIANBjwE2AhwgAyABNgIUIANB7Bs2AhAgA0EVNgIMQQAhAgy8AgsgASAERwRAIANBDTYCCCADIAE2AgRB0wEhAgyjAgtB8gEhAgy7AgsgASAERgRAQfEBIQIMuwILAkACQAJAIAEtAABByABrDgsAAQgICAgICAgIAggLIAFBAWohAUHQASECDKMCCyABQQFqIQFB0QEhAgyiAgsgAUEBaiEBQdIBIQIMoQILQfABIQIgASAERg25AiADKAIAIgAgBCABa2ohBiABIABrQQJqIQUDQCABLQAAIABBtdUAai0AAEcNBCAAQQJGDQMgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAY2AgAMuQILQe8BIQIgASAERg24AiADKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABBs9UAai0AAEcNAyAAQQFGDQIgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAY2AgAMuAILQe4BIQIgASAERg23AiADKAIAIgAgBCABa2ohBiABIABrQQJqIQUDQCABLQAAIABBsNUAai0AAEcNAiAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAY2AgAMtwILIAMoAgQhACADQgA3AwAgAyAAIAVBAWoiARArIgBFDQIgA0HsATYCHCADIAE2AhQgAyAANgIMQQAhAgy2AgsgA0EANgIACyADKAIEIQAgA0EANgIEIAMgACABECsiAEUNnAIgA0HtATYCHCADIAE2AhQgAyAANgIMQQAhAgy0AgtBzwEhAgyaAgtBACEAAkAgAygCOCICRQ0AIAIoAjQiAkUNACADIAIRAAAhAAsCQCAABEAgAEEVRg0BIANBADYCHCADIAE2AhQgA0HqDTYCECADQSY2AgxBACECDLQCC0HOASECDJoCCyADQesBNgIcIAMgATYCFCADQYAbNgIQIANBFTYCDEEAIQIMsgILIAEgBEYEQEHrASECDLICCyABLQAAQS9GBEAgAUEBaiEBDAELIANBADYCHCADIAE2AhQgA0GyODYCECADQQg2AgxBACECDLECC0HNASECDJcCCyABIARHBEAgA0EONgIIIAMgATYCBEHMASECDJcCC0HqASECDK8CCyABIARGBEBB6QEhAgyvAgsgAS0AAEEwayIAQf8BcUEKSQRAIAMgADoAKiABQQFqIQFBywEhAgyWAgsgAygCBCEAIANBADYCBCADIAAgARAvIgBFDZcCIANB6AE2AhwgAyABNgIUIAMgADYCDEEAIQIMrgILIAEgBEYEQEHnASECDK4CCwJAIAEtAABBLkYEQCABQQFqIQEMAQsgAygCBCEAIANBADYCBCADIAAgARAvIgBFDZgCIANB5gE2AhwgAyABNgIUIAMgADYCDEEAIQIMrgILQcoBIQIMlAILIAEgBEYEQEHlASECDK0CC0EAIQBBASEFQQEhB0EAIQICQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQCABLQAAQTBrDgoKCQABAgMEBQYICwtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshAkEAIQVBACEHDAILQQkhAkEBIQBBACEFQQAhBwwBC0EAIQVBASECCyADIAI6ACsgAUEBaiEBAkACQCADLQAuQRBxDQACQAJAAkAgAy0AKg4DAQACBAsgB0UNAwwCCyAADQEMAgsgBUUNAQsgAygCBCEAIANBADYCBCADIAAgARAvIgBFDQIgA0HiATYCHCADIAE2AhQgAyAANgIMQQAhAgyvAgsgAygCBCEAIANBADYCBCADIAAgARAvIgBFDZoCIANB4wE2AhwgAyABNgIUIAMgADYCDEEAIQIMrgILIAMoAgQhACADQQA2AgQgAyAAIAEQLyIARQ2YAiADQeQBNgIcIAMgATYCFCADIAA2AgwMrQILQckBIQIMkwILQQAhAAJAIAMoAjgiAkUNACACKAJEIgJFDQAgAyACEQAAIQALAkAgAARAIABBFUYNASADQQA2AhwgAyABNgIUIANBpA02AhAgA0EhNgIMQQAhAgytAgtByAEhAgyTAgsgA0HhATYCHCADIAE2AhQgA0HQGjYCECADQRU2AgxBACECDKsCCyABIARGBEBB4QEhAgyrAgsCQCABLQAAQSBGBEAgA0EAOwE0IAFBAWohAQwBCyADQQA2AhwgAyABNgIUIANBmRE2AhAgA0EJNgIMQQAhAgyrAgtBxwEhAgyRAgsgASAERgRAQeABIQIMqgILAkAgAS0AAEEwa0H/AXEiAkEKSQRAIAFBAWohAQJAIAMvATQiAEGZM0sNACADIABBCmwiADsBNCAAQf7/A3EgAkH//wNzSw0AIAMgACACajsBNAwCC0EAIQIgA0EANgIcIAMgATYCFCADQZUeNgIQIANBDTYCDAyrAgsgA0EANgIcIAMgATYCFCADQZUeNgIQIANBDTYCDEEAIQIMqgILQcYBIQIMkAILIAEgBEYEQEHfASECDKkCCwJAIAEtAABBMGtB/wFxIgJBCkkEQCABQQFqIQECQCADLwE0IgBBmTNLDQAgAyAAQQpsIgA7ATQgAEH+/wNxIAJB//8Dc0sNACADIAAgAmo7ATQMAgtBACECIANBADYCHCADIAE2AhQgA0GVHjYCECADQQ02AgwMqgILIANBADYCHCADIAE2AhQgA0GVHjYCECADQQ02AgxBACECDKkCC0HFASECDI8CCyABIARGBEBB3gEhAgyoAgsCQCABLQAAQTBrQf8BcSICQQpJBEAgAUEBaiEBAkAgAy8BNCIAQZkzSw0AIAMgAEEKbCIAOwE0IABB/v8DcSACQf//A3NLDQAgAyAAIAJqOwE0DAILQQAhAiADQQA2AhwgAyABNgIUIANBlR42AhAgA0ENNgIMDKkCCyADQQA2AhwgAyABNgIUIANBlR42AhAgA0ENNgIMQQAhAgyoAgtBxAEhAgyOAgsgASAERgRAQd0BIQIMpwILAkACQAJAAkAgAS0AAEEKaw4XAgMDAAMDAwMDAwMDAwMDAwMDAwMDAwEDCyABQQFqDAULIAFBAWohAUHDASECDI8CCyABQQFqIQEgA0Evai0AAEEBcQ0IIANBADYCHCADIAE2AhQgA0GNCzYCECADQQ02AgxBACECDKcCCyADQQA2AhwgAyABNgIUIANBjQs2AhAgA0ENNgIMQQAhAgymAgsgASAERwRAIANBDzYCCCADIAE2AgRBASECDI0CC0HcASECDKUCCwJAAkADQAJAIAEtAABBCmsOBAIAAAMACyAEIAFBAWoiAUcNAAtB2wEhAgymAgsgAygCBCEAIANBADYCBCADIAAgARAtIgBFBEAgAUEBaiEBDAQLIANB2gE2AhwgAyAANgIMIAMgAUEBajYCFEEAIQIMpQILIAMoAgQhACADQQA2AgQgAyAAIAEQLSIADQEgAUEBagshAUHBASECDIoCCyADQdkBNgIcIAMgADYCDCADIAFBAWo2AhRBACECDKICC0HCASECDIgCCyADQS9qLQAAQQFxDQEgA0EANgIcIAMgATYCFCADQeQcNgIQIANBGTYCDEEAIQIMoAILIAEgBEYEQEHZASECDKACCwJAAkACQCABLQAAQQprDgQBAgIAAgsgAUEBaiEBDAILIAFBAWohAQwBCyADLQAuQcAAcUUNAQtBACEAAkAgAygCOCICRQ0AIAIoAjwiAkUNACADIAIRAAAhAAsgAEUNoAEgAEEVRgRAIANB2QA2AhwgAyABNgIUIANBtxo2AhAgA0EVNgIMQQAhAgyfAgsgA0EANgIcIAMgATYCFCADQYANNgIQIANBGzYCDEEAIQIMngILIANBADYCHCADIAE2AhQgA0HcKDYCECADQQI2AgxBACECDJ0CCyABIARHBEAgA0EMNgIIIAMgATYCBEG/ASECDIQCC0HYASECDJwCCyABIARGBEBB1wEhAgycAgsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBwQBrDhUAAQIDWgQFBlpaWgcICQoLDA0ODxBaCyABQQFqIQFB+wAhAgySAgsgAUEBaiEBQfwAIQIMkQILIAFBAWohAUGBASECDJACCyABQQFqIQFBhQEhAgyPAgsgAUEBaiEBQYYBIQIMjgILIAFBAWohAUGJASECDI0CCyABQQFqIQFBigEhAgyMAgsgAUEBaiEBQY0BIQIMiwILIAFBAWohAUGWASECDIoCCyABQQFqIQFBlwEhAgyJAgsgAUEBaiEBQZgBIQIMiAILIAFBAWohAUGlASECDIcCCyABQQFqIQFBpgEhAgyGAgsgAUEBaiEBQawBIQIMhQILIAFBAWohAUG0ASECDIQCCyABQQFqIQFBtwEhAgyDAgsgAUEBaiEBQb4BIQIMggILIAEgBEYEQEHWASECDJsCCyABLQAAQc4ARw1IIAFBAWohAUG9ASECDIECCyABIARGBEBB1QEhAgyaAgsCQAJAAkAgAS0AAEHCAGsOEgBKSkpKSkpKSkoBSkpKSkpKAkoLIAFBAWohAUG4ASECDIICCyABQQFqIQFBuwEhAgyBAgsgAUEBaiEBQbwBIQIMgAILQdQBIQIgASAERg2YAiADKAIAIgAgBCABa2ohBSABIABrQQdqIQYCQANAIAEtAAAgAEGo1QBqLQAARw1FIABBB0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyZAgsgA0EANgIAIAZBAWohAUEbDEULIAEgBEYEQEHTASECDJgCCwJAAkAgAS0AAEHJAGsOBwBHR0dHRwFHCyABQQFqIQFBuQEhAgz/AQsgAUEBaiEBQboBIQIM/gELQdIBIQIgASAERg2WAiADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGm1QBqLQAARw1DIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyXAgsgA0EANgIAIAZBAWohAUEPDEMLQdEBIQIgASAERg2VAiADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGk1QBqLQAARw1CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyWAgsgA0EANgIAIAZBAWohAUEgDEILQdABIQIgASAERg2UAiADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGh1QBqLQAARw1BIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyVAgsgA0EANgIAIAZBAWohAUESDEELIAEgBEYEQEHPASECDJQCCwJAAkAgAS0AAEHFAGsODgBDQ0NDQ0NDQ0NDQ0MBQwsgAUEBaiEBQbUBIQIM+wELIAFBAWohAUG2ASECDPoBC0HOASECIAEgBEYNkgIgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBntUAai0AAEcNPyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMkwILIANBADYCACAGQQFqIQFBBww/C0HNASECIAEgBEYNkQIgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBmNUAai0AAEcNPiAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMkgILIANBADYCACAGQQFqIQFBKAw+CyABIARGBEBBzAEhAgyRAgsCQAJAAkAgAS0AAEHFAGsOEQBBQUFBQUFBQUEBQUFBQUECQQsgAUEBaiEBQbEBIQIM+QELIAFBAWohAUGyASECDPgBCyABQQFqIQFBswEhAgz3AQtBywEhAiABIARGDY8CIAMoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQZHVAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADJACCyADQQA2AgAgBkEBaiEBQRoMPAtBygEhAiABIARGDY4CIAMoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQY3VAGotAABHDTsgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADI8CCyADQQA2AgAgBkEBaiEBQSEMOwsgASAERgRAQckBIQIMjgILAkACQCABLQAAQcEAaw4UAD09PT09PT09PT09PT09PT09PQE9CyABQQFqIQFBrQEhAgz1AQsgAUEBaiEBQbABIQIM9AELIAEgBEYEQEHIASECDI0CCwJAAkAgAS0AAEHVAGsOCwA8PDw8PDw8PDwBPAsgAUEBaiEBQa4BIQIM9AELIAFBAWohAUGvASECDPMBC0HHASECIAEgBEYNiwIgAygCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABBhNUAai0AAEcNOCAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMjAILIANBADYCACAGQQFqIQFBKgw4CyABIARGBEBBxgEhAgyLAgsgAS0AAEHQAEcNOCABQQFqIQFBJQw3C0HFASECIAEgBEYNiQIgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBgdUAai0AAEcNNiAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMigILIANBADYCACAGQQFqIQFBDgw2CyABIARGBEBBxAEhAgyJAgsgAS0AAEHFAEcNNiABQQFqIQFBqwEhAgzvAQsgASAERgRAQcMBIQIMiAILAkACQAJAAkAgAS0AAEHCAGsODwABAjk5OTk5OTk5OTk5AzkLIAFBAWohAUGnASECDPEBCyABQQFqIQFBqAEhAgzwAQsgAUEBaiEBQakBIQIM7wELIAFBAWohAUGqASECDO4BC0HCASECIAEgBEYNhgIgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB/tQAai0AAEcNMyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMhwILIANBADYCACAGQQFqIQFBFAwzC0HBASECIAEgBEYNhQIgAygCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABB+dQAai0AAEcNMiAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMhgILIANBADYCACAGQQFqIQFBKwwyC0HAASECIAEgBEYNhAIgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB9tQAai0AAEcNMSAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMhQILIANBADYCACAGQQFqIQFBLAwxC0G/ASECIAEgBEYNgwIgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBodUAai0AAEcNMCAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMhAILIANBADYCACAGQQFqIQFBEQwwC0G+ASECIAEgBEYNggIgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABB8tQAai0AAEcNLyAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMgwILIANBADYCACAGQQFqIQFBLgwvCyABIARGBEBBvQEhAgyCAgsCQAJAAkACQAJAIAEtAABBwQBrDhUANDQ0NDQ0NDQ0NAE0NAI0NAM0NAQ0CyABQQFqIQFBmwEhAgzsAQsgAUEBaiEBQZwBIQIM6wELIAFBAWohAUGdASECDOoBCyABQQFqIQFBogEhAgzpAQsgAUEBaiEBQaQBIQIM6AELIAEgBEYEQEG8ASECDIECCwJAAkAgAS0AAEHSAGsOAwAwATALIAFBAWohAUGjASECDOgBCyABQQFqIQFBBAwtC0G7ASECIAEgBEYN/wEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8NQAai0AAEcNLCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMgAILIANBADYCACAGQQFqIQFBHQwsCyABIARGBEBBugEhAgz/AQsCQAJAIAEtAABByQBrDgcBLi4uLi4ALgsgAUEBaiEBQaEBIQIM5gELIAFBAWohAUEiDCsLIAEgBEYEQEG5ASECDP4BCyABLQAAQdAARw0rIAFBAWohAUGgASECDOQBCyABIARGBEBBuAEhAgz9AQsCQAJAIAEtAABBxgBrDgsALCwsLCwsLCwsASwLIAFBAWohAUGeASECDOQBCyABQQFqIQFBnwEhAgzjAQtBtwEhAiABIARGDfsBIAMoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQezUAGotAABHDSggAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADPwBCyADQQA2AgAgBkEBaiEBQQ0MKAtBtgEhAiABIARGDfoBIAMoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQaHVAGotAABHDScgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADPsBCyADQQA2AgAgBkEBaiEBQQwMJwtBtQEhAiABIARGDfkBIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQerUAGotAABHDSYgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADPoBCyADQQA2AgAgBkEBaiEBQQMMJgtBtAEhAiABIARGDfgBIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQejUAGotAABHDSUgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADPkBCyADQQA2AgAgBkEBaiEBQSYMJQsgASAERgRAQbMBIQIM+AELAkACQCABLQAAQdQAaw4CAAEnCyABQQFqIQFBmQEhAgzfAQsgAUEBaiEBQZoBIQIM3gELQbIBIQIgASAERg32ASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHm1ABqLQAARw0jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAz3AQsgA0EANgIAIAZBAWohAUEnDCMLQbEBIQIgASAERg31ASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHk1ABqLQAARw0iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAz2AQsgA0EANgIAIAZBAWohAUEcDCILQbABIQIgASAERg30ASADKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHe1ABqLQAARw0hIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAz1AQsgA0EANgIAIAZBAWohAUEGDCELQa8BIQIgASAERg3zASADKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHZ1ABqLQAARw0gIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAz0AQsgA0EANgIAIAZBAWohAUEZDCALIAEgBEYEQEGuASECDPMBCwJAAkACQAJAIAEtAABBLWsOIwAkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJAEkJCQkJAIkJCQDJAsgAUEBaiEBQY4BIQIM3AELIAFBAWohAUGPASECDNsBCyABQQFqIQFBlAEhAgzaAQsgAUEBaiEBQZUBIQIM2QELQa0BIQIgASAERg3xASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHX1ABqLQAARw0eIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzyAQsgA0EANgIAIAZBAWohAUELDB4LIAEgBEYEQEGsASECDPEBCwJAAkAgAS0AAEHBAGsOAwAgASALIAFBAWohAUGQASECDNgBCyABQQFqIQFBkwEhAgzXAQsgASAERgRAQasBIQIM8AELAkACQCABLQAAQcEAaw4PAB8fHx8fHx8fHx8fHx8BHwsgAUEBaiEBQZEBIQIM1wELIAFBAWohAUGSASECDNYBCyABIARGBEBBqgEhAgzvAQsgAS0AAEHMAEcNHCABQQFqIQFBCgwbC0GpASECIAEgBEYN7QEgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABB0dQAai0AAEcNGiAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM7gELIANBADYCACAGQQFqIQFBHgwaC0GoASECIAEgBEYN7AEgAygCACIAIAQgAWtqIQUgASAAa0EGaiEGAkADQCABLQAAIABBytQAai0AAEcNGSAAQQZGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM7QELIANBADYCACAGQQFqIQFBFQwZC0GnASECIAEgBEYN6wEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBx9QAai0AAEcNGCAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM7AELIANBADYCACAGQQFqIQFBFwwYC0GmASECIAEgBEYN6gEgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBwdQAai0AAEcNFyAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM6wELIANBADYCACAGQQFqIQFBGAwXCyABIARGBEBBpQEhAgzqAQsCQAJAIAEtAABByQBrDgcAGRkZGRkBGQsgAUEBaiEBQYsBIQIM0QELIAFBAWohAUGMASECDNABC0GkASECIAEgBEYN6AEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBptUAai0AAEcNFSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM6QELIANBADYCACAGQQFqIQFBCQwVC0GjASECIAEgBEYN5wEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBpNUAai0AAEcNFCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM6AELIANBADYCACAGQQFqIQFBHwwUC0GiASECIAEgBEYN5gEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBvtQAai0AAEcNEyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM5wELIANBADYCACAGQQFqIQFBAgwTC0GhASECIAEgBEYN5QEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGA0AgAS0AACAAQbzUAGotAABHDREgAEEBRg0CIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADOUBCyABIARGBEBBoAEhAgzlAQtBASABLQAAQd8ARw0RGiABQQFqIQFBhwEhAgzLAQsgA0EANgIAIAZBAWohAUGIASECDMoBC0GfASECIAEgBEYN4gEgAygCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABBhNUAai0AAEcNDyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM4wELIANBADYCACAGQQFqIQFBKQwPC0GeASECIAEgBEYN4QEgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBuNQAai0AAEcNDiAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM4gELIANBADYCACAGQQFqIQFBLQwOCyABIARGBEBBnQEhAgzhAQsgAS0AAEHFAEcNDiABQQFqIQFBhAEhAgzHAQsgASAERgRAQZwBIQIM4AELAkACQCABLQAAQcwAaw4IAA8PDw8PDwEPCyABQQFqIQFBggEhAgzHAQsgAUEBaiEBQYMBIQIMxgELQZsBIQIgASAERg3eASADKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEGz1ABqLQAARw0LIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzfAQsgA0EANgIAIAZBAWohAUEjDAsLQZoBIQIgASAERg3dASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGw1ABqLQAARw0KIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzeAQsgA0EANgIAIAZBAWohAUEADAoLIAEgBEYEQEGZASECDN0BCwJAAkAgAS0AAEHIAGsOCAAMDAwMDAwBDAsgAUEBaiEBQf0AIQIMxAELIAFBAWohAUGAASECDMMBCyABIARGBEBBmAEhAgzcAQsCQAJAIAEtAABBzgBrDgMACwELCyABQQFqIQFB/gAhAgzDAQsgAUEBaiEBQf8AIQIMwgELIAEgBEYEQEGXASECDNsBCyABLQAAQdkARw0IIAFBAWohAUEIDAcLQZYBIQIgASAERg3ZASADKAIAIgAgBCABa2ohBSABIABrQQNqIQYCQANAIAEtAAAgAEGs1ABqLQAARw0GIABBA0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzaAQsgA0EANgIAIAZBAWohAUEFDAYLQZUBIQIgASAERg3YASADKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGm1ABqLQAARw0FIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzZAQsgA0EANgIAIAZBAWohAUEWDAULQZQBIQIgASAERg3XASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGh1QBqLQAARw0EIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzYAQsgA0EANgIAIAZBAWohAUEQDAQLIAEgBEYEQEGTASECDNcBCwJAAkAgAS0AAEHDAGsODAAGBgYGBgYGBgYGAQYLIAFBAWohAUH5ACECDL4BCyABQQFqIQFB+gAhAgy9AQtBkgEhAiABIARGDdUBIAMoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQaDUAGotAABHDQIgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADNYBCyADQQA2AgAgBkEBaiEBQSQMAgsgA0EANgIADAILIAEgBEYEQEGRASECDNQBCyABLQAAQcwARw0BIAFBAWohAUETCzoAKSADKAIEIQAgA0EANgIEIAMgACABEC4iAA0CDAELQQAhAiADQQA2AhwgAyABNgIUIANB/h82AhAgA0EGNgIMDNEBC0H4ACECDLcBCyADQZABNgIcIAMgATYCFCADIAA2AgxBACECDM8BC0EAIQACQCADKAI4IgJFDQAgAigCQCICRQ0AIAMgAhEAACEACyAARQ0AIABBFUYNASADQQA2AhwgAyABNgIUIANBgg82AhAgA0EgNgIMQQAhAgzOAQtB9wAhAgy0AQsgA0GPATYCHCADIAE2AhQgA0HsGzYCECADQRU2AgxBACECDMwBCyABIARGBEBBjwEhAgzMAQsCQCABLQAAQSBGBEAgAUEBaiEBDAELIANBADYCHCADIAE2AhQgA0GbHzYCECADQQY2AgxBACECDMwBC0ECIQIMsgELA0AgAS0AAEEgRw0CIAQgAUEBaiIBRw0AC0GOASECDMoBCyABIARGBEBBjQEhAgzKAQsCQCABLQAAQQlrDgRKAABKAAtB9QAhAgywAQsgAy0AKUEFRgRAQfYAIQIMsAELQfQAIQIMrwELIAEgBEYEQEGMASECDMgBCyADQRA2AgggAyABNgIEDAoLIAEgBEYEQEGLASECDMcBCwJAIAEtAABBCWsOBEcAAEcAC0HzACECDK0BCyABIARHBEAgA0EQNgIIIAMgATYCBEHxACECDK0BC0GKASECDMUBCwJAIAEgBEcEQANAIAEtAABBoNAAai0AACIAQQNHBEACQCAAQQFrDgJJAAQLQfAAIQIMrwELIAQgAUEBaiIBRw0AC0GIASECDMYBC0GIASECDMUBCyADQQA2AhwgAyABNgIUIANB2yA2AhAgA0EHNgIMQQAhAgzEAQsgASAERgRAQYkBIQIMxAELAkACQAJAIAEtAABBoNIAai0AAEEBaw4DRgIAAQtB8gAhAgysAQsgA0EANgIcIAMgATYCFCADQbQSNgIQIANBBzYCDEEAIQIMxAELQeoAIQIMqgELIAEgBEcEQCABQQFqIQFB7wAhAgyqAQtBhwEhAgzCAQsgBCABIgBGBEBBhgEhAgzCAQsgAC0AACIBQS9GBEAgAEEBaiEBQe4AIQIMqQELIAFBCWsiAkEXSw0BIAAhAUEBIAJ0QZuAgARxDUEMAQsgBCABIgBGBEBBhQEhAgzBAQsgAC0AAEEvRw0AIABBAWohAQwDC0EAIQIgA0EANgIcIAMgADYCFCADQdsgNgIQIANBBzYCDAy/AQsCQAJAAkACQAJAA0AgAS0AAEGgzgBqLQAAIgBBBUcEQAJAAkAgAEEBaw4IRwUGBwgABAEIC0HrACECDK0BCyABQQFqIQFB7QAhAgysAQsgBCABQQFqIgFHDQALQYQBIQIMwwELIAFBAWoMFAsgAygCBCEAIANBADYCBCADIAAgARAsIgBFDR4gA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgzBAQsgAygCBCEAIANBADYCBCADIAAgARAsIgBFDR4gA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgzAAQsgAygCBCEAIANBADYCBCADIAAgARAsIgBFDR4gA0H6ADYCHCADIAE2AhQgAyAANgIMQQAhAgy/AQsgA0EANgIcIAMgATYCFCADQfkPNgIQIANBBzYCDEEAIQIMvgELIAEgBEYEQEGDASECDL4BCwJAIAEtAABBoM4Aai0AAEEBaw4IPgQFBgAIAgMHCyABQQFqIQELQQMhAgyjAQsgAUEBagwNC0EAIQIgA0EANgIcIANB0RI2AhAgA0EHNgIMIAMgAUEBajYCFAy6AQsgAygCBCEAIANBADYCBCADIAAgARAsIgBFDRYgA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgy5AQsgAygCBCEAIANBADYCBCADIAAgARAsIgBFDRYgA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgy4AQsgAygCBCEAIANBADYCBCADIAAgARAsIgBFDRYgA0H6ADYCHCADIAE2AhQgAyAANgIMQQAhAgy3AQsgA0EANgIcIAMgATYCFCADQfkPNgIQIANBBzYCDEEAIQIMtgELQewAIQIMnAELIAEgBEYEQEGCASECDLUBCyABQQFqDAILIAEgBEYEQEGBASECDLQBCyABQQFqDAELIAEgBEYNASABQQFqCyEBQQQhAgyYAQtBgAEhAgywAQsDQCABLQAAQaDMAGotAAAiAEECRwRAIABBAUcEQEHpACECDJkBCwwxCyAEIAFBAWoiAUcNAAtB/wAhAgyvAQsgASAERgRAQf4AIQIMrwELAkAgAS0AAEEJaw43LwMGLwQGBgYGBgYGBgYGBgYGBgYGBgYFBgYCBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGAAYLIAFBAWoLIQFBBSECDJQBCyABQQFqDAYLIAMoAgQhACADQQA2AgQgAyAAIAEQLCIARQ0IIANB2wA2AhwgAyABNgIUIAMgADYCDEEAIQIMqwELIAMoAgQhACADQQA2AgQgAyAAIAEQLCIARQ0IIANB3QA2AhwgAyABNgIUIAMgADYCDEEAIQIMqgELIAMoAgQhACADQQA2AgQgAyAAIAEQLCIARQ0IIANB+gA2AhwgAyABNgIUIAMgADYCDEEAIQIMqQELIANBADYCHCADIAE2AhQgA0GNFDYCECADQQc2AgxBACECDKgBCwJAAkACQAJAA0AgAS0AAEGgygBqLQAAIgBBBUcEQAJAIABBAWsOBi4DBAUGAAYLQegAIQIMlAELIAQgAUEBaiIBRw0AC0H9ACECDKsBCyADKAIEIQAgA0EANgIEIAMgACABECwiAEUNByADQdsANgIcIAMgATYCFCADIAA2AgxBACECDKoBCyADKAIEIQAgA0EANgIEIAMgACABECwiAEUNByADQd0ANgIcIAMgATYCFCADIAA2AgxBACECDKkBCyADKAIEIQAgA0EANgIEIAMgACABECwiAEUNByADQfoANgIcIAMgATYCFCADIAA2AgxBACECDKgBCyADQQA2AhwgAyABNgIUIANB5Ag2AhAgA0EHNgIMQQAhAgynAQsgASAERg0BIAFBAWoLIQFBBiECDIwBC0H8ACECDKQBCwJAAkACQAJAA0AgAS0AAEGgyABqLQAAIgBBBUcEQCAAQQFrDgQpAgMEBQsgBCABQQFqIgFHDQALQfsAIQIMpwELIAMoAgQhACADQQA2AgQgAyAAIAEQLCIARQ0DIANB2wA2AhwgAyABNgIUIAMgADYCDEEAIQIMpgELIAMoAgQhACADQQA2AgQgAyAAIAEQLCIARQ0DIANB3QA2AhwgAyABNgIUIAMgADYCDEEAIQIMpQELIAMoAgQhACADQQA2AgQgAyAAIAEQLCIARQ0DIANB+gA2AhwgAyABNgIUIAMgADYCDEEAIQIMpAELIANBADYCHCADIAE2AhQgA0G8CjYCECADQQc2AgxBACECDKMBC0HPACECDIkBC0HRACECDIgBC0HnACECDIcBCyABIARGBEBB+gAhAgygAQsCQCABLQAAQQlrDgQgAAAgAAsgAUEBaiEBQeYAIQIMhgELIAEgBEYEQEH5ACECDJ8BCwJAIAEtAABBCWsOBB8AAB8AC0EAIQACQCADKAI4IgJFDQAgAigCOCICRQ0AIAMgAhEAACEACyAARQRAQeIBIQIMhgELIABBFUcEQCADQQA2AhwgAyABNgIUIANByQ02AhAgA0EaNgIMQQAhAgyfAQsgA0H4ADYCHCADIAE2AhQgA0HqGjYCECADQRU2AgxBACECDJ4BCyABIARHBEAgA0ENNgIIIAMgATYCBEHkACECDIUBC0H3ACECDJ0BCyABIARGBEBB9gAhAgydAQsCQAJAAkAgAS0AAEHIAGsOCwABCwsLCwsLCwsCCwsgAUEBaiEBQd0AIQIMhQELIAFBAWohAUHgACECDIQBCyABQQFqIQFB4wAhAgyDAQtB9QAhAiABIARGDZsBIAMoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQbXVAGotAABHDQggAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADJwBCyADKAIEIQAgA0IANwMAIAMgACAGQQFqIgEQKyIABEAgA0H0ADYCHCADIAE2AhQgAyAANgIMQQAhAgycAQtB4gAhAgyCAQtBACEAAkAgAygCOCICRQ0AIAIoAjQiAkUNACADIAIRAAAhAAsCQCAABEAgAEEVRg0BIANBADYCHCADIAE2AhQgA0HqDTYCECADQSY2AgxBACECDJwBC0HhACECDIIBCyADQfMANgIcIAMgATYCFCADQYAbNgIQIANBFTYCDEEAIQIMmgELIAMtACkiAEEja0ELSQ0JAkAgAEEGSw0AQQEgAHRBygBxRQ0ADAoLQQAhAiADQQA2AhwgAyABNgIUIANB7Qk2AhAgA0EINgIMDJkBC0HyACECIAEgBEYNmAEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBs9UAai0AAEcNBSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMmQELIAMoAgQhACADQgA3AwAgAyAAIAZBAWoiARArIgAEQCADQfEANgIcIAMgATYCFCADIAA2AgxBACECDJkBC0HfACECDH8LQQAhAAJAIAMoAjgiAkUNACACKAI0IgJFDQAgAyACEQAAIQALAkAgAARAIABBFUYNASADQQA2AhwgAyABNgIUIANB6g02AhAgA0EmNgIMQQAhAgyZAQtB3gAhAgx/CyADQfAANgIcIAMgATYCFCADQYAbNgIQIANBFTYCDEEAIQIMlwELIAMtAClBIUYNBiADQQA2AhwgAyABNgIUIANBkQo2AhAgA0EINgIMQQAhAgyWAQtB7wAhAiABIARGDZUBIAMoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQbDVAGotAABHDQIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADJYBCyADKAIEIQAgA0IANwMAIAMgACAGQQFqIgEQKyIARQ0CIANB7QA2AhwgAyABNgIUIAMgADYCDEEAIQIMlQELIANBADYCAAsgAygCBCEAIANBADYCBCADIAAgARArIgBFDYABIANB7gA2AhwgAyABNgIUIAMgADYCDEEAIQIMkwELQdwAIQIMeQtBACEAAkAgAygCOCICRQ0AIAIoAjQiAkUNACADIAIRAAAhAAsCQCAABEAgAEEVRg0BIANBADYCHCADIAE2AhQgA0HqDTYCECADQSY2AgxBACECDJMBC0HbACECDHkLIANB7AA2AhwgAyABNgIUIANBgBs2AhAgA0EVNgIMQQAhAgyRAQsgAy0AKSIAQSNJDQAgAEEuRg0AIANBADYCHCADIAE2AhQgA0HJCTYCECADQQg2AgxBACECDJABC0HaACECDHYLIAEgBEYEQEHrACECDI8BCwJAIAEtAABBL0YEQCABQQFqIQEMAQsgA0EANgIcIAMgATYCFCADQbI4NgIQIANBCDYCDEEAIQIMjwELQdkAIQIMdQsgASAERwRAIANBDjYCCCADIAE2AgRB2AAhAgx1C0HqACECDI0BCyABIARGBEBB6QAhAgyNAQsgAS0AAEEwayIAQf8BcUEKSQRAIAMgADoAKiABQQFqIQFB1wAhAgx0CyADKAIEIQAgA0EANgIEIAMgACABEC8iAEUNeiADQegANgIcIAMgATYCFCADIAA2AgxBACECDIwBCyABIARGBEBB5wAhAgyMAQsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAMoAgQhACADQQA2AgQgAyAAIAEQLyIARQ17IANB5gA2AhwgAyABNgIUIAMgADYCDEEAIQIMjAELQdYAIQIMcgsgASAERgRAQeUAIQIMiwELQQAhAEEBIQVBASEHQQAhAgJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAEtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyECQQAhBUEAIQcMAgtBCSECQQEhAEEAIQVBACEHDAELQQAhBUEBIQILIAMgAjoAKyABQQFqIQECQAJAIAMtAC5BEHENAAJAAkACQCADLQAqDgMBAAIECyAHRQ0DDAILIAANAQwCCyAFRQ0BCyADKAIEIQAgA0EANgIEIAMgACABEC8iAEUNAiADQeIANgIcIAMgATYCFCADIAA2AgxBACECDI0BCyADKAIEIQAgA0EANgIEIAMgACABEC8iAEUNfSADQeMANgIcIAMgATYCFCADIAA2AgxBACECDIwBCyADKAIEIQAgA0EANgIEIAMgACABEC8iAEUNeyADQeQANgIcIAMgATYCFCADIAA2AgwMiwELQdQAIQIMcQsgAy0AKUEiRg2GAUHTACECDHALQQAhAAJAIAMoAjgiAkUNACACKAJEIgJFDQAgAyACEQAAIQALIABFBEBB1QAhAgxwCyAAQRVHBEAgA0EANgIcIAMgATYCFCADQaQNNgIQIANBITYCDEEAIQIMiQELIANB4QA2AhwgAyABNgIUIANB0Bo2AhAgA0EVNgIMQQAhAgyIAQsgASAERgRAQeAAIQIMiAELAkACQAJAAkACQCABLQAAQQprDgQBBAQABAsgAUEBaiEBDAELIAFBAWohASADQS9qLQAAQQFxRQ0BC0HSACECDHALIANBADYCHCADIAE2AhQgA0G2ETYCECADQQk2AgxBACECDIgBCyADQQA2AhwgAyABNgIUIANBthE2AhAgA0EJNgIMQQAhAgyHAQsgASAERgRAQd8AIQIMhwELIAEtAABBCkYEQCABQQFqIQEMCQsgAy0ALkHAAHENCCADQQA2AhwgAyABNgIUIANBthE2AhAgA0ECNgIMQQAhAgyGAQsgASAERgRAQd0AIQIMhgELIAEtAAAiAkENRgRAIAFBAWohAUHQACECDG0LIAEhACACQQlrDgQFAQEFAQsgBCABIgBGBEBB3AAhAgyFAQsgAC0AAEEKRw0AIABBAWoMAgtBACECIANBADYCHCADIAA2AhQgA0HKLTYCECADQQc2AgwMgwELIAEgBEYEQEHbACECDIMBCwJAIAEtAABBCWsOBAMAAAMACyABQQFqCyEBQc4AIQIMaAsgASAERgRAQdoAIQIMgQELIAEtAABBCWsOBAABAQABC0EAIQIgA0EANgIcIANBmhI2AhAgA0EHNgIMIAMgAUEBajYCFAx/CyADQYASOwEqQQAhAAJAIAMoAjgiAkUNACACKAI4IgJFDQAgAyACEQAAIQALIABFDQAgAEEVRw0BIANB2QA2AhwgAyABNgIUIANB6ho2AhAgA0EVNgIMQQAhAgx+C0HNACECDGQLIANBADYCHCADIAE2AhQgA0HJDTYCECADQRo2AgxBACECDHwLIAEgBEYEQEHZACECDHwLIAEtAABBIEcNPSABQQFqIQEgAy0ALkEBcQ09IANBADYCHCADIAE2AhQgA0HCHDYCECADQR42AgxBACECDHsLIAEgBEYEQEHYACECDHsLAkACQAJAAkACQCABLQAAIgBBCmsOBAIDAwABCyABQQFqIQFBLCECDGULIABBOkcNASADQQA2AhwgAyABNgIUIANB5xE2AhAgA0EKNgIMQQAhAgx9CyABQQFqIQEgA0Evai0AAEEBcUUNcyADLQAyQYABcUUEQCADQTJqIQIgAxA1QQAhAAJAIAMoAjgiBkUNACAGKAIoIgZFDQAgAyAGEQAAIQALAkACQCAADhZNTEsBAQEBAQEBAQEBAQEBAQEBAQEAAQsgA0EpNgIcIAMgATYCFCADQawZNgIQIANBFTYCDEEAIQIMfgsgA0EANgIcIAMgATYCFCADQeULNgIQIANBETYCDEEAIQIMfQtBACEAAkAgAygCOCICRQ0AIAIoAlwiAkUNACADIAIRAAAhAAsgAEUNWSAAQRVHDQEgA0EFNgIcIAMgATYCFCADQZsbNgIQIANBFTYCDEEAIQIMfAtBywAhAgxiC0EAIQIgA0EANgIcIAMgATYCFCADQZAONgIQIANBFDYCDAx6CyADIAMvATJBgAFyOwEyDDsLIAEgBEcEQCADQRE2AgggAyABNgIEQcoAIQIMYAtB1wAhAgx4CyABIARGBEBB1gAhAgx4CwJAAkACQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQeMAaw4TAEBAQEBAQEBAQEBAQAFAQEACA0ALIAFBAWohAUHGACECDGELIAFBAWohAUHHACECDGALIAFBAWohAUHIACECDF8LIAFBAWohAUHJACECDF4LQdUAIQIgBCABIgBGDXYgBCABayADKAIAIgFqIQYgACABa0EFaiEHA0AgAUGQyABqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0IQQQgAUEFRg0KGiABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAx2C0HUACECIAQgASIARg11IAQgAWsgAygCACIBaiEGIAAgAWtBD2ohBwNAIAFBgMgAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNB0EDIAFBD0YNCRogAUEBaiEBIAQgAEEBaiIARw0ACyADIAY2AgAMdQtB0wAhAiAEIAEiAEYNdCAEIAFrIAMoAgAiAWohBiAAIAFrQQ5qIQcDQCABQeLHAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQYgAUEORg0HIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADHQLQdIAIQIgBCABIgBGDXMgBCABayADKAIAIgFqIQUgACABa0EBaiEGA0AgAUHgxwBqLQAAIAAtAAAiB0EgciAHIAdBwQBrQf8BcUEaSRtB/wFxRw0FIAFBAUYNAiABQQFqIQEgBCAAQQFqIgBHDQALIAMgBTYCAAxzCyABIARGBEBB0QAhAgxzCwJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB7gBrDgcAOTk5OTkBOQsgAUEBaiEBQcMAIQIMWgsgAUEBaiEBQcQAIQIMWQsgA0EANgIAIAZBAWohAUHFACECDFgLQdAAIQIgBCABIgBGDXAgBCABayADKAIAIgFqIQYgACABa0EJaiEHA0AgAUHWxwBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0CQQIgAUEJRg0EGiABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxwC0HPACECIAQgASIARg1vIAQgAWsgAygCACIBaiEGIAAgAWtBBWohBwNAIAFB0McAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNASABQQVGDQIgAUEBaiEBIAQgAEEBaiIARw0ACyADIAY2AgAMbwsgACEBIANBADYCAAwzC0EBCzoALCADQQA2AgAgB0EBaiEBC0EtIQIMUgsCQANAIAEtAABB0MUAai0AAEEBRw0BIAQgAUEBaiIBRw0AC0HNACECDGsLQcIAIQIMUQsgASAERgRAQcwAIQIMagsgAS0AAEE6RgRAIAMoAgQhACADQQA2AgQgAyAAIAEQMCIARQ0zIANBywA2AhwgAyAANgIMIAMgAUEBajYCFEEAIQIMagsgA0EANgIcIAMgATYCFCADQecRNgIQIANBCjYCDEEAIQIMaQsCQAJAIAMtACxBAmsOAgABJwsgA0Ezai0AAEECcUUNJiADLQAuQQJxDSYgA0EANgIcIAMgATYCFCADQaYUNgIQIANBCzYCDEEAIQIMaQsgAy0AMkEgcUUNJSADLQAuQQJxDSUgA0EANgIcIAMgATYCFCADQb0TNgIQIANBDzYCDEEAIQIMaAtBACEAAkAgAygCOCICRQ0AIAIoAkgiAkUNACADIAIRAAAhAAsgAEUEQEHBACECDE8LIABBFUcEQCADQQA2AhwgAyABNgIUIANBpg82AhAgA0EcNgIMQQAhAgxoCyADQcoANgIcIAMgATYCFCADQYUcNgIQIANBFTYCDEEAIQIMZwsgASAERwRAA0AgAS0AAEHAwQBqLQAAQQFHDRcgBCABQQFqIgFHDQALQcQAIQIMZwtBxAAhAgxmCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUE2IQIMUgsgAUEBaiEBQTchAgxRCyABQQFqIQFBOCECDFALDBULIAQgAUEBaiIBRw0AC0E8IQIMZgtBPCECDGULIAEgBEYEQEHIACECDGULIANBEjYCCCADIAE2AgQCQAJAAkACQAJAIAMtACxBAWsOBBQAAQIJCyADLQAyQSBxDQNB4AEhAgxPCwJAIAMvATIiAEEIcUUNACADLQAoQQFHDQAgAy0ALkEIcUUNAgsgAyAAQff7A3FBgARyOwEyDAsLIAMgAy8BMkEQcjsBMgwECyADQQA2AgQgAyABIAEQMSIABEAgA0HBADYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgxmCyABQQFqIQEMWAsgA0EANgIcIAMgATYCFCADQfQTNgIQIANBBDYCDEEAIQIMZAtBxwAhAiABIARGDWMgAygCACIAIAQgAWtqIQUgASAAa0EGaiEGAkADQCAAQcDFAGotAAAgAS0AAEEgckcNASAAQQZGDUogAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMZAsgA0EANgIADAULAkAgASAERwRAA0AgAS0AAEHAwwBqLQAAIgBBAUcEQCAAQQJHDQMgAUEBaiEBDAULIAQgAUEBaiIBRw0AC0HFACECDGQLQcUAIQIMYwsLIANBADoALAwBC0ELIQIMRwtBPyECDEYLAkACQANAIAEtAAAiAEEgRwRAAkAgAEEKaw4EAwUFAwALIABBLEYNAwwECyAEIAFBAWoiAUcNAAtBxgAhAgxgCyADQQg6ACwMDgsgAy0AKEEBRw0CIAMtAC5BCHENAiADKAIEIQAgA0EANgIEIAMgACABEDEiAARAIANBwgA2AhwgAyAANgIMIAMgAUEBajYCFEEAIQIMXwsgAUEBaiEBDFALQTshAgxECwJAA0AgAS0AACIAQSBHIABBCUdxDQEgBCABQQFqIgFHDQALQcMAIQIMXQsLQTwhAgxCCwJAAkAgASAERwRAA0AgAS0AACIAQSBHBEAgAEEKaw4EAwQEAwQLIAQgAUEBaiIBRw0AC0E/IQIMXQtBPyECDFwLIAMgAy8BMkEgcjsBMgwKCyADKAIEIQAgA0EANgIEIAMgACABEDEiAEUNTiADQT42AhwgAyABNgIUIAMgADYCDEEAIQIMWgsCQCABIARHBEADQCABLQAAQcDDAGotAAAiAEEBRwRAIABBAkYNAwwMCyAEIAFBAWoiAUcNAAtBNyECDFsLQTchAgxaCyABQQFqIQEMBAtBOyECIAQgASIARg1YIAQgAWsgAygCACIBaiEGIAAgAWtBBWohBwJAA0AgAUGQyABqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEMPwsgAUEBaiEBIAQgAEEBaiIARw0ACyADIAY2AgAMWQsgA0EANgIAIAAhAQwFC0E6IQIgBCABIgBGDVcgBCABayADKAIAIgFqIQYgACABa0EIaiEHAkADQCABQbTBAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAUEIRgRAQQUhAQw+CyABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxYCyADQQA2AgAgACEBDAQLQTkhAiAEIAEiAEYNViAEIAFrIAMoAgAiAWohBiAAIAFrQQNqIQcCQANAIAFBsMEAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNASABQQNGBEBBBiEBDD0LIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADFcLIANBADYCACAAIQEMAwsCQANAIAEtAAAiAEEgRwRAIABBCmsOBAcEBAcCCyAEIAFBAWoiAUcNAAtBOCECDFYLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCADLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIANBAToALCADIAMvATIgAXI7ATIgACEBDAELIAMgAy8BMkEIcjsBMiAAIQELQT4hAgw7CyADQQA6ACwLQTkhAgw5CyABIARGBEBBNiECDFILAkACQAJAAkACQCABLQAAQQprDgQAAgIBAgsgAygCBCEAIANBADYCBCADIAAgARAxIgBFDQIgA0EzNgIcIAMgATYCFCADIAA2AgxBACECDFULIAMoAgQhACADQQA2AgQgAyAAIAEQMSIARQRAIAFBAWohAQwGCyADQTI2AhwgAyAANgIMIAMgAUEBajYCFEEAIQIMVAsgAy0ALkEBcQRAQd8BIQIMOwsgAygCBCEAIANBADYCBCADIAAgARAxIgANAQxJC0E0IQIMOQsgA0E1NgIcIAMgATYCFCADIAA2AgxBACECDFELQTUhAgw3CyADQS9qLQAAQQFxDQAgA0EANgIcIAMgATYCFCADQesWNgIQIANBGTYCDEEAIQIMTwtBMyECDDULIAEgBEYEQEEyIQIMTgsCQCABLQAAQQpGBEAgAUEBaiEBDAELIANBADYCHCADIAE2AhQgA0GSFzYCECADQQM2AgxBACECDE4LQTIhAgw0CyABIARGBEBBMSECDE0LAkAgAS0AACIAQQlGDQAgAEEgRg0AQQEhAgJAIAMtACxBBWsOBAYEBQANCyADIAMvATJBCHI7ATIMDAsgAy0ALkEBcUUNASADLQAsQQhHDQAgA0EAOgAsC0E9IQIMMgsgA0EANgIcIAMgATYCFCADQcIWNgIQIANBCjYCDEEAIQIMSgtBAiECDAELQQQhAgsgA0EBOgAsIAMgAy8BMiACcjsBMgwGCyABIARGBEBBMCECDEcLIAEtAABBCkYEQCABQQFqIQEMAQsgAy0ALkEBcQ0AIANBADYCHCADIAE2AhQgA0HcKDYCECADQQI2AgxBACECDEYLQTAhAgwsCyABQQFqIQFBMSECDCsLIAEgBEYEQEEvIQIMRAsgAS0AACIAQQlHIABBIEdxRQRAIAFBAWohASADLQAuQQFxDQEgA0EANgIcIAMgATYCFCADQZcQNgIQIANBCjYCDEEAIQIMRAtBASECAkACQAJAAkACQAJAIAMtACxBAmsOBwUEBAMBAgAECyADIAMvATJBCHI7ATIMAwtBAiECDAELQQQhAgsgA0EBOgAsIAMgAy8BMiACcjsBMgtBLyECDCsLIANBADYCHCADIAE2AhQgA0GEEzYCECADQQs2AgxBACECDEMLQeEBIQIMKQsgASAERgRAQS4hAgxCCyADQQA2AgQgA0ESNgIIIAMgASABEDEiAA0BC0EuIQIMJwsgA0EtNgIcIAMgATYCFCADIAA2AgxBACECDD8LQQAhAAJAIAMoAjgiAkUNACACKAJMIgJFDQAgAyACEQAAIQALIABFDQAgAEEVRw0BIANB2AA2AhwgAyABNgIUIANBsxs2AhAgA0EVNgIMQQAhAgw+C0HMACECDCQLIANBADYCHCADIAE2AhQgA0GzDjYCECADQR02AgxBACECDDwLIAEgBEYEQEHOACECDDwLIAEtAAAiAEEgRg0CIABBOkYNAQsgA0EAOgAsQQkhAgwhCyADKAIEIQAgA0EANgIEIAMgACABEDAiAA0BDAILIAMtAC5BAXEEQEHeASECDCALIAMoAgQhACADQQA2AgQgAyAAIAEQMCIARQ0CIANBKjYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgw4CyADQcsANgIcIAMgADYCDCADIAFBAWo2AhRBACECDDcLIAFBAWohAUHAACECDB0LIAFBAWohAQwsCyABIARGBEBBKyECDDULAkAgAS0AAEEKRgRAIAFBAWohAQwBCyADLQAuQcAAcUUNBgsgAy0AMkGAAXEEQEEAIQACQCADKAI4IgJFDQAgAigCXCICRQ0AIAMgAhEAACEACyAARQ0SIABBFUYEQCADQQU2AhwgAyABNgIUIANBmxs2AhAgA0EVNgIMQQAhAgw2CyADQQA2AhwgAyABNgIUIANBkA42AhAgA0EUNgIMQQAhAgw1CyADQTJqIQIgAxA1QQAhAAJAIAMoAjgiBkUNACAGKAIoIgZFDQAgAyAGEQAAIQALIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyADQQE6ADALIAIgAi8BAEHAAHI7AQALQSshAgwYCyADQSk2AhwgAyABNgIUIANBrBk2AhAgA0EVNgIMQQAhAgwwCyADQQA2AhwgAyABNgIUIANB5Qs2AhAgA0ERNgIMQQAhAgwvCyADQQA2AhwgAyABNgIUIANBpQs2AhAgA0ECNgIMQQAhAgwuC0EBIQcgAy8BMiIFQQhxRQRAIAMpAyBCAFIhBwsCQCADLQAwBEBBASEAIAMtAClBBUYNASAFQcAAcUUgB3FFDQELAkAgAy0AKCICQQJGBEBBASEAIAMvATQiBkHlAEYNAkEAIQAgBUHAAHENAiAGQeQARg0CIAZB5gBrQQJJDQIgBkHMAUYNAiAGQbACRg0CDAELQQAhACAFQcAAcQ0BC0ECIQAgBUEIcQ0AIAVBgARxBEACQCACQQFHDQAgAy0ALkEKcQ0AQQUhAAwCC0EEIQAMAQsgBUEgcUUEQCADEDZBAEdBAnQhAAwBC0EAQQMgAykDIFAbIQALIABBAWsOBQIABwEDBAtBESECDBMLIANBAToAMQwpC0EAIQICQCADKAI4IgBFDQAgACgCMCIARQ0AIAMgABEAACECCyACRQ0mIAJBFUYEQCADQQM2AhwgAyABNgIUIANB0hs2AhAgA0EVNgIMQQAhAgwrC0EAIQIgA0EANgIcIAMgATYCFCADQd0ONgIQIANBEjYCDAwqCyADQQA2AhwgAyABNgIUIANB+SA2AhAgA0EPNgIMQQAhAgwpC0EAIQACQCADKAI4IgJFDQAgAigCMCICRQ0AIAMgAhEAACEACyAADQELQQ4hAgwOCyAAQRVGBEAgA0ECNgIcIAMgATYCFCADQdIbNgIQIANBFTYCDEEAIQIMJwsgA0EANgIcIAMgATYCFCADQd0ONgIQIANBEjYCDEEAIQIMJgtBKiECDAwLIAEgBEcEQCADQQk2AgggAyABNgIEQSkhAgwMC0EmIQIMJAsgAyADKQMgIgwgBCABa60iCn0iC0IAIAsgDFgbNwMgIAogDFQEQEElIQIMJAsgAygCBCEAIANBADYCBCADIAAgASAMp2oiARAyIgBFDQAgA0EFNgIcIAMgATYCFCADIAA2AgxBACECDCMLQQ8hAgwJC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43FxYAAQIDBAUGBxQUFBQUFBQICQoLDA0UFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFA4PEBESExQLQgIhCgwWC0IDIQoMFQtCBCEKDBQLQgUhCgwTC0IGIQoMEgtCByEKDBELQgghCgwQC0IJIQoMDwtCCiEKDA4LQgshCgwNC0IMIQoMDAtCDSEKDAsLQg4hCgwKC0IPIQoMCQtCCiEKDAgLQgshCgwHC0IMIQoMBgtCDSEKDAULQg4hCgwEC0IPIQoMAwsgA0EANgIcIAMgATYCFCADQZ8VNgIQIANBDDYCDEEAIQIMIQsgASAERgRAQSIhAgwhC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsONxUUAAECAwQFBgcWFhYWFhYWCAkKCwwNFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYODxAREhMWC0ICIQoMFAtCAyEKDBMLQgQhCgwSC0IFIQoMEQtCBiEKDBALQgchCgwPC0IIIQoMDgtCCSEKDA0LQgohCgwMC0ILIQoMCwtCDCEKDAoLQg0hCgwJC0IOIQoMCAtCDyEKDAcLQgohCgwGC0ILIQoMBQtCDCEKDAQLQg0hCgwDC0IOIQoMAgtCDyEKDAELQgEhCgsgAUEBaiEBIAMpAyAiC0L//////////w9YBEAgAyALQgSGIAqENwMgDAILIANBADYCHCADIAE2AhQgA0G1CTYCECADQQw2AgxBACECDB4LQSchAgwEC0EoIQIMAwsgAyABOgAsIANBADYCACAHQQFqIQFBDCECDAILIANBADYCACAGQQFqIQFBCiECDAELIAFBAWohAUEIIQIMAAsAC0EAIQIgA0EANgIcIAMgATYCFCADQbI4NgIQIANBCDYCDAwXC0EAIQIgA0EANgIcIAMgATYCFCADQYMRNgIQIANBCTYCDAwWC0EAIQIgA0EANgIcIAMgATYCFCADQd8KNgIQIANBCTYCDAwVC0EAIQIgA0EANgIcIAMgATYCFCADQe0QNgIQIANBCTYCDAwUC0EAIQIgA0EANgIcIAMgATYCFCADQdIRNgIQIANBCTYCDAwTC0EAIQIgA0EANgIcIAMgATYCFCADQbI4NgIQIANBCDYCDAwSC0EAIQIgA0EANgIcIAMgATYCFCADQYMRNgIQIANBCTYCDAwRC0EAIQIgA0EANgIcIAMgATYCFCADQd8KNgIQIANBCTYCDAwQC0EAIQIgA0EANgIcIAMgATYCFCADQe0QNgIQIANBCTYCDAwPC0EAIQIgA0EANgIcIAMgATYCFCADQdIRNgIQIANBCTYCDAwOC0EAIQIgA0EANgIcIAMgATYCFCADQbkXNgIQIANBDzYCDAwNC0EAIQIgA0EANgIcIAMgATYCFCADQbkXNgIQIANBDzYCDAwMC0EAIQIgA0EANgIcIAMgATYCFCADQZkTNgIQIANBCzYCDAwLC0EAIQIgA0EANgIcIAMgATYCFCADQZ0JNgIQIANBCzYCDAwKC0EAIQIgA0EANgIcIAMgATYCFCADQZcQNgIQIANBCjYCDAwJC0EAIQIgA0EANgIcIAMgATYCFCADQbEQNgIQIANBCjYCDAwIC0EAIQIgA0EANgIcIAMgATYCFCADQbsdNgIQIANBAjYCDAwHC0EAIQIgA0EANgIcIAMgATYCFCADQZYWNgIQIANBAjYCDAwGC0EAIQIgA0EANgIcIAMgATYCFCADQfkYNgIQIANBAjYCDAwFC0EAIQIgA0EANgIcIAMgATYCFCADQcQYNgIQIANBAjYCDAwECyADQQI2AhwgAyABNgIUIANBqR42AhAgA0EWNgIMQQAhAgwDC0HeACECIAEgBEYNAiAJQQhqIQcgAygCACEFAkACQCABIARHBEAgBUGWyABqIQggBCAFaiABayEGIAVBf3NBCmoiBSABaiEAA0AgAS0AACAILQAARwRAQQIhCAwDCyAFRQRAQQAhCCAAIQEMAwsgBUEBayEFIAhBAWohCCAEIAFBAWoiAUcNAAsgBiEFIAQhAQsgB0EBNgIAIAMgBTYCAAwBCyADQQA2AgAgByAINgIACyAHIAE2AgQgCSgCDCEAAkACQCAJKAIIQQFrDgIEAQALIANBADYCHCADQcIeNgIQIANBFzYCDCADIABBAWo2AhRBACECDAMLIANBADYCHCADIAA2AhQgA0HXHjYCECADQQk2AgxBACECDAILIAEgBEYEQEEoIQIMAgsgA0EJNgIIIAMgATYCBEEnIQIMAQsgASAERgRAQQEhAgwBCwNAAkACQAJAIAEtAABBCmsOBAABAQABCyABQQFqIQEMAQsgAUEBaiEBIAMtAC5BIHENAEEAIQIgA0EANgIcIAMgATYCFCADQaEhNgIQIANBBTYCDAwCC0EBIQIgASAERw0ACwsgCUEQaiQAIAJFBEAgAygCDCEADAELIAMgAjYCHEEAIQAgAygCBCIBRQ0AIAMgASAEIAMoAggRAQAiAUUNACADIAQ2AhQgAyABNgIMIAEhAAsgAAu+AgECfyAAQQA6AAAgAEHkAGoiAUEBa0EAOgAAIABBADoAAiAAQQA6AAEgAUEDa0EAOgAAIAFBAmtBADoAACAAQQA6AAMgAUEEa0EAOgAAQQAgAGtBA3EiASAAaiIAQQA2AgBB5AAgAWtBfHEiAiAAaiIBQQRrQQA2AgACQCACQQlJDQAgAEEANgIIIABBADYCBCABQQhrQQA2AgAgAUEMa0EANgIAIAJBGUkNACAAQQA2AhggAEEANgIUIABBADYCECAAQQA2AgwgAUEQa0EANgIAIAFBFGtBADYCACABQRhrQQA2AgAgAUEca0EANgIAIAIgAEEEcUEYciICayIBQSBJDQAgACACaiEAA0AgAEIANwMYIABCADcDECAAQgA3AwggAEIANwMAIABBIGohACABQSBrIgFBH0sNAAsLC1YBAX8CQCAAKAIMDQACQAJAAkACQCAALQAxDgMBAAMCCyAAKAI4IgFFDQAgASgCMCIBRQ0AIAAgAREAACIBDQMLQQAPCwALIABByhk2AhBBDiEBCyABCxoAIAAoAgxFBEAgAEHeHzYCECAAQRU2AgwLCxQAIAAoAgxBFUYEQCAAQQA2AgwLCxQAIAAoAgxBFkYEQCAAQQA2AgwLCwcAIAAoAgwLBwAgACgCEAsJACAAIAE2AhALBwAgACgCFAsrAAJAIABBJ08NAEL//////wkgAK2IQgGDUA0AIABBAnRB0DhqKAIADwsACxcAIABBL08EQAALIABBAnRB7DlqKAIAC78JAQF/QfQtIQECQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAQeQAaw70A2NiAAFhYWFhYWECAwQFYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYQYHCAkKCwwNDg9hYWFhYRBhYWFhYWFhYWFhYRFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWESExQVFhcYGRobYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRwdHh8gISIjJCUmJygpKissLS4vMDEyMzQ1NmE3ODk6YWFhYWFhYWE7YWFhPGFhYWE9Pj9hYWFhYWFhYUBhYUFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFCQ0RFRkdISUpLTE1OT1BRUlNhYWFhYWFhYVRVVldYWVpbYVxdYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhXmFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYV9gYQtB6iwPC0GYJg8LQe0xDwtBoDcPC0HJKQ8LQbQpDwtBli0PC0HrKw8LQaI1DwtB2zQPC0HgKQ8LQeMkDwtB1SQPC0HuJA8LQeYlDwtByjQPC0HQNw8LQao1DwtB9SwPC0H2Jg8LQYIiDwtB8jMPC0G+KA8LQec3DwtBzSEPC0HAIQ8LQbglDwtByyUPC0GWJA8LQY80DwtBzTUPC0HdKg8LQe4zDwtBnDQPC0GeMQ8LQfQ1DwtB5SIPC0GvJQ8LQZkxDwtBsjYPC0H5Ng8LQcQyDwtB3SwPC0GCMQ8LQcExDwtBjTcPC0HJJA8LQew2DwtB5yoPC0HIIw8LQeIhDwtByTcPC0GlIg8LQZQiDwtB2zYPC0HeNQ8LQYYmDwtBvCsPC0GLMg8LQaAjDwtB9jAPC0GALA8LQYkrDwtBpCYPC0HyIw8LQYEoDwtBqzIPC0HrJw8LQcI2DwtBoiQPC0HPKg8LQdwjDwtBhycPC0HkNA8LQbciDwtBrTEPC0HVIg8LQa80DwtB3iYPC0HWMg8LQfQ0DwtBgTgPC0H0Nw8LQZI2DwtBnScPC0GCKQ8LQY0jDwtB1zEPC0G9NQ8LQbQ3DwtB2DAPC0G2Jw8LQZo4DwtBpyoPC0HEJw8LQa4jDwtB9SIPCwALQcomIQELIAELFwAgACAALwEuQf7/A3EgAUEAR3I7AS4LGgAgACAALwEuQf3/A3EgAUEAR0EBdHI7AS4LGgAgACAALwEuQfv/A3EgAUEAR0ECdHI7AS4LGgAgACAALwEuQff/A3EgAUEAR0EDdHI7AS4LGgAgACAALwEuQe//A3EgAUEAR0EEdHI7AS4LGgAgACAALwEuQd//A3EgAUEAR0EFdHI7AS4LGgAgACAALwEuQb//A3EgAUEAR0EGdHI7AS4LGgAgACAALwEuQf/+A3EgAUEAR0EHdHI7AS4LGgAgACAALwEuQf/9A3EgAUEAR0EIdHI7AS4LGgAgACAALwEuQf/7A3EgAUEAR0EJdHI7AS4LPgECfwJAIAAoAjgiA0UNACADKAIEIgNFDQAgACABIAIgAWsgAxEBACIEQX9HDQAgAEHhEjYCEEEYIQQLIAQLPgECfwJAIAAoAjgiA0UNACADKAIIIgNFDQAgACABIAIgAWsgAxEBACIEQX9HDQAgAEH8ETYCEEEYIQQLIAQLPgECfwJAIAAoAjgiA0UNACADKAIMIgNFDQAgACABIAIgAWsgAxEBACIEQX9HDQAgAEHsCjYCEEEYIQQLIAQLPgECfwJAIAAoAjgiA0UNACADKAIQIgNFDQAgACABIAIgAWsgAxEBACIEQX9HDQAgAEH6HjYCEEEYIQQLIAQLPgECfwJAIAAoAjgiA0UNACADKAIUIgNFDQAgACABIAIgAWsgAxEBACIEQX9HDQAgAEHLEDYCEEEYIQQLIAQLPgECfwJAIAAoAjgiA0UNACADKAIYIgNFDQAgACABIAIgAWsgAxEBACIEQX9HDQAgAEG3HzYCEEEYIQQLIAQLPgECfwJAIAAoAjgiA0UNACADKAIcIgNFDQAgACABIAIgAWsgAxEBACIEQX9HDQAgAEG/FTYCEEEYIQQLIAQLPgECfwJAIAAoAjgiA0UNACADKAIsIgNFDQAgACABIAIgAWsgAxEBACIEQX9HDQAgAEH+CDYCEEEYIQQLIAQLPgECfwJAIAAoAjgiA0UNACADKAIgIgNFDQAgACABIAIgAWsgAxEBACIEQX9HDQAgAEGMHTYCEEEYIQQLIAQLPgECfwJAIAAoAjgiA0UNACADKAIkIgNFDQAgACABIAIgAWsgAxEBACIEQX9HDQAgAEHmFTYCEEEYIQQLIAQLOAAgAAJ/IAAvATJBFHFBFEYEQEEBIAAtAChBAUYNARogAC8BNEHlAEYMAQsgAC0AKUEFRgs6ADALWQECfwJAIAAtAChBAUYNACAALwE0IgFB5ABrQeQASQ0AIAFBzAFGDQAgAUGwAkYNACAALwEyIgBBwABxDQBBASECIABBiARxQYAERg0AIABBKHFFIQILIAILjAEBAn8CQAJAAkAgAC0AKkUNACAALQArRQ0AIAAvATIiAUECcUUNAQwCCyAALwEyIgFBAXFFDQELQQEhAiAALQAoQQFGDQAgAC8BNCIAQeQAa0HkAEkNACAAQcwBRg0AIABBsAJGDQAgAUHAAHENAEEAIQIgAUGIBHFBgARGDQAgAUEocUEARyECCyACC1cAIABBGGpCADcDACAAQgA3AwAgAEE4akIANwMAIABBMGpCADcDACAAQShqQgA3AwAgAEEgakIANwMAIABBEGpCADcDACAAQQhqQgA3AwAgAEH9ATYCHAsGACAAEDoLmi0BC38jAEEQayIKJABB3NUAKAIAIglFBEBBnNkAKAIAIgVFBEBBqNkAQn83AgBBoNkAQoCAhICAgMAANwIAQZzZACAKQQhqQXBxQdiq1aoFcyIFNgIAQbDZAEEANgIAQYDZAEEANgIAC0GE2QBBwNkENgIAQdTVAEHA2QQ2AgBB6NUAIAU2AgBB5NUAQX82AgBBiNkAQcCmAzYCAANAIAFBgNYAaiABQfTVAGoiAjYCACACIAFB7NUAaiIDNgIAIAFB+NUAaiADNgIAIAFBiNYAaiABQfzVAGoiAzYCACADIAI2AgAgAUGQ1gBqIAFBhNYAaiICNgIAIAIgAzYCACABQYzWAGogAjYCACABQSBqIgFBgAJHDQALQczZBEGBpgM2AgBB4NUAQazZACgCADYCAEHQ1QBBgKYDNgIAQdzVAEHI2QQ2AgBBzP8HQTg2AgBByNkEIQkLAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAEHsAU0EQEHE1QAoAgAiBkEQIABBE2pBcHEgAEELSRsiBEEDdiIAdiIBQQNxBEACQCABQQFxIAByQQFzIgJBA3QiAEHs1QBqIgEgAEH01QBqKAIAIgAoAggiA0YEQEHE1QAgBkF+IAJ3cTYCAAwBCyABIAM2AgggAyABNgIMCyAAQQhqIQEgACACQQN0IgJBA3I2AgQgACACaiIAIAAoAgRBAXI2AgQMEQtBzNUAKAIAIgggBE8NASABBEACQEECIAB0IgJBACACa3IgASAAdHFoIgBBA3QiAkHs1QBqIgEgAkH01QBqKAIAIgIoAggiA0YEQEHE1QAgBkF+IAB3cSIGNgIADAELIAEgAzYCCCADIAE2AgwLIAIgBEEDcjYCBCAAQQN0IgAgBGshBSAAIAJqIAU2AgAgAiAEaiIEIAVBAXI2AgQgCARAIAhBeHFB7NUAaiEAQdjVACgCACEDAn9BASAIQQN2dCIBIAZxRQRAQcTVACABIAZyNgIAIAAMAQsgACgCCAsiASADNgIMIAAgAzYCCCADIAA2AgwgAyABNgIICyACQQhqIQFB2NUAIAQ2AgBBzNUAIAU2AgAMEQtByNUAKAIAIgtFDQEgC2hBAnRB9NcAaigCACIAKAIEQXhxIARrIQUgACECA0ACQCACKAIQIgFFBEAgAkEUaigCACIBRQ0BCyABKAIEQXhxIARrIgMgBUkhAiADIAUgAhshBSABIAAgAhshACABIQIMAQsLIAAoAhghCSAAKAIMIgMgAEcEQEHU1QAoAgAaIAMgACgCCCIBNgIIIAEgAzYCDAwQCyAAQRRqIgIoAgAiAUUEQCAAKAIQIgFFDQMgAEEQaiECCwNAIAIhByABIgNBFGoiAigCACIBDQAgA0EQaiECIAMoAhAiAQ0ACyAHQQA2AgAMDwtBfyEEIABBv39LDQAgAEETaiIBQXBxIQRByNUAKAIAIghFDQBBACAEayEFAkACQAJAAn9BACAEQYACSQ0AGkEfIARB////B0sNABogBEEmIAFBCHZnIgBrdkEBcSAAQQF0a0E+agsiBkECdEH01wBqKAIAIgJFBEBBACEBQQAhAwwBC0EAIQEgBEEZIAZBAXZrQQAgBkEfRxt0IQBBACEDA0ACQCACKAIEQXhxIARrIgcgBU8NACACIQMgByIFDQBBACEFIAIhAQwDCyABIAJBFGooAgAiByAHIAIgAEEddkEEcWpBEGooAgAiAkYbIAEgBxshASAAQQF0IQAgAg0ACwsgASADckUEQEEAIQNBAiAGdCIAQQAgAGtyIAhxIgBFDQMgAGhBAnRB9NcAaigCACEBCyABRQ0BCwNAIAEoAgRBeHEgBGsiAiAFSSEAIAIgBSAAGyEFIAEgAyAAGyEDIAEoAhAiAAR/IAAFIAFBFGooAgALIgENAAsLIANFDQAgBUHM1QAoAgAgBGtPDQAgAygCGCEHIAMgAygCDCIARwRAQdTVACgCABogACADKAIIIgE2AgggASAANgIMDA4LIANBFGoiAigCACIBRQRAIAMoAhAiAUUNAyADQRBqIQILA0AgAiEGIAEiAEEUaiICKAIAIgENACAAQRBqIQIgACgCECIBDQALIAZBADYCAAwNC0HM1QAoAgAiAyAETwRAQdjVACgCACEBAkAgAyAEayICQRBPBEAgASAEaiIAIAJBAXI2AgQgASADaiACNgIAIAEgBEEDcjYCBAwBCyABIANBA3I2AgQgASADaiIAIAAoAgRBAXI2AgRBACEAQQAhAgtBzNUAIAI2AgBB2NUAIAA2AgAgAUEIaiEBDA8LQdDVACgCACIDIARLBEAgBCAJaiIAIAMgBGsiAUEBcjYCBEHc1QAgADYCAEHQ1QAgATYCACAJIARBA3I2AgQgCUEIaiEBDA8LQQAhASAEAn9BnNkAKAIABEBBpNkAKAIADAELQajZAEJ/NwIAQaDZAEKAgISAgIDAADcCAEGc2QAgCkEMakFwcUHYqtWqBXM2AgBBsNkAQQA2AgBBgNkAQQA2AgBBgIAECyIAIARBxwBqIgVqIgZBACAAayIHcSICTwRAQbTZAEEwNgIADA8LAkBB/NgAKAIAIgFFDQBB9NgAKAIAIgggAmohACAAIAFNIAAgCEtxDQBBACEBQbTZAEEwNgIADA8LQYDZAC0AAEEEcQ0EAkACQCAJBEBBhNkAIQEDQCABKAIAIgAgCU0EQCAAIAEoAgRqIAlLDQMLIAEoAggiAQ0ACwtBABA7IgBBf0YNBSACIQZBoNkAKAIAIgFBAWsiAyAAcQRAIAIgAGsgACADakEAIAFrcWohBgsgBCAGTw0FIAZB/v///wdLDQVB/NgAKAIAIgMEQEH02AAoAgAiByAGaiEBIAEgB00NBiABIANLDQYLIAYQOyIBIABHDQEMBwsgBiADayAHcSIGQf7///8HSw0EIAYQOyEAIAAgASgCACABKAIEakYNAyAAIQELAkAgBiAEQcgAak8NACABQX9GDQBBpNkAKAIAIgAgBSAGa2pBACAAa3EiAEH+////B0sEQCABIQAMBwsgABA7QX9HBEAgACAGaiEGIAEhAAwHC0EAIAZrEDsaDAQLIAEiAEF/Rw0FDAMLQQAhAwwMC0EAIQAMCgsgAEF/Rw0CC0GA2QBBgNkAKAIAQQRyNgIACyACQf7///8HSw0BIAIQOyEAQQAQOyEBIABBf0YNASABQX9GDQEgACABTw0BIAEgAGsiBiAEQThqTQ0BC0H02ABB9NgAKAIAIAZqIgE2AgBB+NgAKAIAIAFJBEBB+NgAIAE2AgALAkACQAJAQdzVACgCACICBEBBhNkAIQEDQCAAIAEoAgAiAyABKAIEIgVqRg0CIAEoAggiAQ0ACwwCC0HU1QAoAgAiAUEARyAAIAFPcUUEQEHU1QAgADYCAAtBACEBQYjZACAGNgIAQYTZACAANgIAQeTVAEF/NgIAQejVAEGc2QAoAgA2AgBBkNkAQQA2AgADQCABQYDWAGogAUH01QBqIgI2AgAgAiABQezVAGoiAzYCACABQfjVAGogAzYCACABQYjWAGogAUH81QBqIgM2AgAgAyACNgIAIAFBkNYAaiABQYTWAGoiAjYCACACIAM2AgAgAUGM1gBqIAI2AgAgAUEgaiIBQYACRw0AC0F4IABrQQ9xIgEgAGoiAiAGQThrIgMgAWsiAUEBcjYCBEHg1QBBrNkAKAIANgIAQdDVACABNgIAQdzVACACNgIAIAAgA2pBODYCBAwCCyAAIAJNDQAgAiADSQ0AIAEoAgxBCHENAEF4IAJrQQ9xIgAgAmoiA0HQ1QAoAgAgBmoiByAAayIAQQFyNgIEIAEgBSAGajYCBEHg1QBBrNkAKAIANgIAQdDVACAANgIAQdzVACADNgIAIAIgB2pBODYCBAwBCyAAQdTVACgCAEkEQEHU1QAgADYCAAsgACAGaiEDQYTZACEBAkACQAJAA0AgAyABKAIARwRAIAEoAggiAQ0BDAILCyABLQAMQQhxRQ0BC0GE2QAhAQNAIAEoAgAiAyACTQRAIAMgASgCBGoiBSACSw0DCyABKAIIIQEMAAsACyABIAA2AgAgASABKAIEIAZqNgIEIABBeCAAa0EPcWoiCSAEQQNyNgIEIANBeCADa0EPcWoiBiAEIAlqIgRrIQEgAiAGRgRAQdzVACAENgIAQdDVAEHQ1QAoAgAgAWoiADYCACAEIABBAXI2AgQMCAtB2NUAKAIAIAZGBEBB2NUAIAQ2AgBBzNUAQczVACgCACABaiIANgIAIAQgAEEBcjYCBCAAIARqIAA2AgAMCAsgBigCBCIFQQNxQQFHDQYgBUF4cSEIIAVB/wFNBEAgBUEDdiEDIAYoAggiACAGKAIMIgJGBEBBxNUAQcTVACgCAEF+IAN3cTYCAAwHCyACIAA2AgggACACNgIMDAYLIAYoAhghByAGIAYoAgwiAEcEQCAAIAYoAggiAjYCCCACIAA2AgwMBQsgBkEUaiICKAIAIgVFBEAgBigCECIFRQ0EIAZBEGohAgsDQCACIQMgBSIAQRRqIgIoAgAiBQ0AIABBEGohAiAAKAIQIgUNAAsgA0EANgIADAQLQXggAGtBD3EiASAAaiIHIAZBOGsiAyABayIBQQFyNgIEIAAgA2pBODYCBCACIAVBNyAFa0EPcWpBP2siAyADIAJBEGpJGyIDQSM2AgRB4NUAQazZACgCADYCAEHQ1QAgATYCAEHc1QAgBzYCACADQRBqQYzZACkCADcCACADQYTZACkCADcCCEGM2QAgA0EIajYCAEGI2QAgBjYCAEGE2QAgADYCAEGQ2QBBADYCACADQSRqIQEDQCABQQc2AgAgBSABQQRqIgFLDQALIAIgA0YNACADIAMoAgRBfnE2AgQgAyADIAJrIgU2AgAgAiAFQQFyNgIEIAVB/wFNBEAgBUF4cUHs1QBqIQACf0HE1QAoAgAiAUEBIAVBA3Z0IgNxRQRAQcTVACABIANyNgIAIAAMAQsgACgCCAsiASACNgIMIAAgAjYCCCACIAA2AgwgAiABNgIIDAELQR8hASAFQf///wdNBEAgBUEmIAVBCHZnIgBrdkEBcSAAQQF0a0E+aiEBCyACIAE2AhwgAkIANwIQIAFBAnRB9NcAaiEAQcjVACgCACIDQQEgAXQiBnFFBEAgACACNgIAQcjVACADIAZyNgIAIAIgADYCGCACIAI2AgggAiACNgIMDAELIAVBGSABQQF2a0EAIAFBH0cbdCEBIAAoAgAhAwJAA0AgAyIAKAIEQXhxIAVGDQEgAUEddiEDIAFBAXQhASAAIANBBHFqQRBqIgYoAgAiAw0ACyAGIAI2AgAgAiAANgIYIAIgAjYCDCACIAI2AggMAQsgACgCCCIBIAI2AgwgACACNgIIIAJBADYCGCACIAA2AgwgAiABNgIIC0HQ1QAoAgAiASAETQ0AQdzVACgCACIAIARqIgIgASAEayIBQQFyNgIEQdDVACABNgIAQdzVACACNgIAIAAgBEEDcjYCBCAAQQhqIQEMCAtBACEBQbTZAEEwNgIADAcLQQAhAAsgB0UNAAJAIAYoAhwiAkECdEH01wBqIgMoAgAgBkYEQCADIAA2AgAgAA0BQcjVAEHI1QAoAgBBfiACd3E2AgAMAgsgB0EQQRQgBygCECAGRhtqIAA2AgAgAEUNAQsgACAHNgIYIAYoAhAiAgRAIAAgAjYCECACIAA2AhgLIAZBFGooAgAiAkUNACAAQRRqIAI2AgAgAiAANgIYCyABIAhqIQEgBiAIaiIGKAIEIQULIAYgBUF+cTYCBCABIARqIAE2AgAgBCABQQFyNgIEIAFB/wFNBEAgAUF4cUHs1QBqIQACf0HE1QAoAgAiAkEBIAFBA3Z0IgFxRQRAQcTVACABIAJyNgIAIAAMAQsgACgCCAsiASAENgIMIAAgBDYCCCAEIAA2AgwgBCABNgIIDAELQR8hBSABQf///wdNBEAgAUEmIAFBCHZnIgBrdkEBcSAAQQF0a0E+aiEFCyAEIAU2AhwgBEIANwIQIAVBAnRB9NcAaiEAQcjVACgCACICQQEgBXQiA3FFBEAgACAENgIAQcjVACACIANyNgIAIAQgADYCGCAEIAQ2AgggBCAENgIMDAELIAFBGSAFQQF2a0EAIAVBH0cbdCEFIAAoAgAhAAJAA0AgACICKAIEQXhxIAFGDQEgBUEddiEAIAVBAXQhBSACIABBBHFqQRBqIgMoAgAiAA0ACyADIAQ2AgAgBCACNgIYIAQgBDYCDCAEIAQ2AggMAQsgAigCCCIAIAQ2AgwgAiAENgIIIARBADYCGCAEIAI2AgwgBCAANgIICyAJQQhqIQEMAgsCQCAHRQ0AAkAgAygCHCIBQQJ0QfTXAGoiAigCACADRgRAIAIgADYCACAADQFByNUAIAhBfiABd3EiCDYCAAwCCyAHQRBBFCAHKAIQIANGG2ogADYCACAARQ0BCyAAIAc2AhggAygCECIBBEAgACABNgIQIAEgADYCGAsgA0EUaigCACIBRQ0AIABBFGogATYCACABIAA2AhgLAkAgBUEPTQRAIAMgBCAFaiIAQQNyNgIEIAAgA2oiACAAKAIEQQFyNgIEDAELIAMgBGoiAiAFQQFyNgIEIAMgBEEDcjYCBCACIAVqIAU2AgAgBUH/AU0EQCAFQXhxQezVAGohAAJ/QcTVACgCACIBQQEgBUEDdnQiBXFFBEBBxNUAIAEgBXI2AgAgAAwBCyAAKAIICyIBIAI2AgwgACACNgIIIAIgADYCDCACIAE2AggMAQtBHyEBIAVB////B00EQCAFQSYgBUEIdmciAGt2QQFxIABBAXRrQT5qIQELIAIgATYCHCACQgA3AhAgAUECdEH01wBqIQBBASABdCIEIAhxRQRAIAAgAjYCAEHI1QAgBCAIcjYCACACIAA2AhggAiACNgIIIAIgAjYCDAwBCyAFQRkgAUEBdmtBACABQR9HG3QhASAAKAIAIQQCQANAIAQiACgCBEF4cSAFRg0BIAFBHXYhBCABQQF0IQEgACAEQQRxakEQaiIGKAIAIgQNAAsgBiACNgIAIAIgADYCGCACIAI2AgwgAiACNgIIDAELIAAoAggiASACNgIMIAAgAjYCCCACQQA2AhggAiAANgIMIAIgATYCCAsgA0EIaiEBDAELAkAgCUUNAAJAIAAoAhwiAUECdEH01wBqIgIoAgAgAEYEQCACIAM2AgAgAw0BQcjVACALQX4gAXdxNgIADAILIAlBEEEUIAkoAhAgAEYbaiADNgIAIANFDQELIAMgCTYCGCAAKAIQIgEEQCADIAE2AhAgASADNgIYCyAAQRRqKAIAIgFFDQAgA0EUaiABNgIAIAEgAzYCGAsCQCAFQQ9NBEAgACAEIAVqIgFBA3I2AgQgACABaiIBIAEoAgRBAXI2AgQMAQsgACAEaiIHIAVBAXI2AgQgACAEQQNyNgIEIAUgB2ogBTYCACAIBEAgCEF4cUHs1QBqIQFB2NUAKAIAIQMCf0EBIAhBA3Z0IgIgBnFFBEBBxNUAIAIgBnI2AgAgAQwBCyABKAIICyICIAM2AgwgASADNgIIIAMgATYCDCADIAI2AggLQdjVACAHNgIAQczVACAFNgIACyAAQQhqIQELIApBEGokACABC0MAIABFBEA/AEEQdA8LAkAgAEH//wNxDQAgAEEASA0AIABBEHZAACIAQX9GBEBBtNkAQTA2AgBBfw8LIABBEHQPCwALC5lCIgBBgAgLDQEAAAAAAAAAAgAAAAMAQZgICwUEAAAABQBBqAgLCQYAAAAHAAAACABB5AgLwjJJbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBFeHBlY3RlZCBMRiBhZnRlciBoZWFkZXJzAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMAVXNlciBjYWxsYmFjayBlcnJvcgBgb25fcmVzZXRgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19oZWFkZXJgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2JlZ2luYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlYCBjYWxsYmFjayBlcnJvcgBgb25fc3RhdHVzX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdmVyc2lvbl9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3VybF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3Byb3RvY29sX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fcHJvdG9jb2wARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgAVHJhbnNmZXItRW5jb2RpbmcgY2FuJ3QgYmUgcHJlc2VudCB3aXRoIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgY2h1bmsgc2l6ZQBFeHBlY3RlZCBMRiBhZnRlciBjaHVuayBzaXplAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBVbmV4cGVjdGVkIHdoaXRlc3BhY2UgYWZ0ZXIgaGVhZGVyIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgaGVhZGVyIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUATWlzc2luZyBleHBlY3RlZCBDUiBhZnRlciBjaHVuayBleHRlbnNpb24gdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIHF1b3RlZC1wYWlyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAFBhdXNlZCBieSBvbl9oZWFkZXJzX2NvbXBsZXRlAEludmFsaWQgRU9GIHN0YXRlAG9uX3Jlc2V0IHBhdXNlAG9uX2NodW5rX2hlYWRlciBwYXVzZQBvbl9tZXNzYWdlX2JlZ2luIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZSBwYXVzZQBvbl9zdGF0dXNfY29tcGxldGUgcGF1c2UAb25fdmVyc2lvbl9jb21wbGV0ZSBwYXVzZQBvbl91cmxfY29tcGxldGUgcGF1c2UAb25fcHJvdG9jb2xfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlIHBhdXNlAG9uX21lc3NhZ2VfY29tcGxldGUgcGF1c2UAb25fbWV0aG9kX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fbmFtZSBwYXVzZQBVbmV4cGVjdGVkIHNwYWNlIGFmdGVyIHN0YXJ0IGxpbmUATWlzc2luZyBleHBlY3RlZCBDUiBhZnRlciByZXNwb25zZSBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgY2h1bmsgZXh0ZW5zaW9uIG5hbWUASW52YWxpZCBzdGF0dXMgY29kZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABNaXNzaW5nIGV4cGVjdGVkIENSIGFmdGVyIGNodW5rIGRhdGEARXhwZWN0ZWQgTEYgYWZ0ZXIgY2h1bmsgZGF0YQBVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AARGF0YSBhZnRlciBgQ29ubmVjdGlvbjogY2xvc2VgAFNXSVRDSF9QUk9YWQBVU0VfUFJPWFkATUtBQ1RJVklUWQBVTlBST0NFU1NBQkxFX0VOVElUWQBRVUVSWQBDT1BZAE1PVkVEX1BFUk1BTkVOVExZAFRPT19FQVJMWQBOT1RJRlkARkFJTEVEX0RFUEVOREVOQ1kAQkFEX0dBVEVXQVkAUExBWQBQVVQAQ0hFQ0tPVVQAR0FURVdBWV9USU1FT1VUAFJFUVVFU1RfVElNRU9VVABORVRXT1JLX0NPTk5FQ1RfVElNRU9VVABDT05ORUNUSU9OX1RJTUVPVVQATE9HSU5fVElNRU9VVABORVRXT1JLX1JFQURfVElNRU9VVABQT1NUAE1JU0RJUkVDVEVEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfTE9BRF9CQUxBTkNFRF9SRVFVRVNUAEJBRF9SRVFVRVNUAEhUVFBfUkVRVUVTVF9TRU5UX1RPX0hUVFBTX1BPUlQAUkVQT1JUAElNX0FfVEVBUE9UAFJFU0VUX0NPTlRFTlQATk9fQ09OVEVOVABQQVJUSUFMX0NPTlRFTlQASFBFX0lOVkFMSURfQ09OU1RBTlQASFBFX0NCX1JFU0VUAEdFVABIUEVfU1RSSUNUAENPTkZMSUNUAFRFTVBPUkFSWV9SRURJUkVDVABQRVJNQU5FTlRfUkVESVJFQ1QAQ09OTkVDVABNVUxUSV9TVEFUVVMASFBFX0lOVkFMSURfU1RBVFVTAFRPT19NQU5ZX1JFUVVFU1RTAEVBUkxZX0hJTlRTAFVOQVZBSUxBQkxFX0ZPUl9MRUdBTF9SRUFTT05TAE9QVElPTlMAU1dJVENISU5HX1BST1RPQ09MUwBWQVJJQU5UX0FMU09fTkVHT1RJQVRFUwBNVUxUSVBMRV9DSE9JQ0VTAElOVEVSTkFMX1NFUlZFUl9FUlJPUgBXRUJfU0VSVkVSX1VOS05PV05fRVJST1IAUkFJTEdVTl9FUlJPUgBJREVOVElUWV9QUk9WSURFUl9BVVRIRU5USUNBVElPTl9FUlJPUgBTU0xfQ0VSVElGSUNBVEVfRVJST1IASU5WQUxJRF9YX0ZPUldBUkRFRF9GT1IAU0VUX1BBUkFNRVRFUgBHRVRfUEFSQU1FVEVSAEhQRV9VU0VSAFNFRV9PVEhFUgBIUEVfQ0JfQ0hVTktfSEVBREVSAEV4cGVjdGVkIExGIGFmdGVyIENSAE1LQ0FMRU5EQVIAU0VUVVAAV0VCX1NFUlZFUl9JU19ET1dOAFRFQVJET1dOAEhQRV9DTE9TRURfQ09OTkVDVElPTgBIRVVSSVNUSUNfRVhQSVJBVElPTgBESVNDT05ORUNURURfT1BFUkFUSU9OAE5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OAEhQRV9JTlZBTElEX1ZFUlNJT04ASFBFX0NCX01FU1NBR0VfQkVHSU4AU0lURV9JU19GUk9aRU4ASFBFX0lOVkFMSURfSEVBREVSX1RPS0VOAElOVkFMSURfVE9LRU4ARk9SQklEREVOAEVOSEFOQ0VfWU9VUl9DQUxNAEhQRV9JTlZBTElEX1VSTABCTE9DS0VEX0JZX1BBUkVOVEFMX0NPTlRST0wATUtDT0wAQUNMAEhQRV9JTlRFUk5BTABSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFX1VOT0ZGSUNJQUwASFBFX09LAFVOTElOSwBVTkxPQ0sAUFJJAFJFVFJZX1dJVEgASFBFX0lOVkFMSURfQ09OVEVOVF9MRU5HVEgASFBFX1VORVhQRUNURURfQ09OVEVOVF9MRU5HVEgARkxVU0gAUFJPUFBBVENIAE0tU0VBUkNIAFVSSV9UT09fTE9ORwBQUk9DRVNTSU5HAE1JU0NFTExBTkVPVVNfUEVSU0lTVEVOVF9XQVJOSU5HAE1JU0NFTExBTkVPVVNfV0FSTklORwBIUEVfSU5WQUxJRF9UUkFOU0ZFUl9FTkNPRElORwBFeHBlY3RlZCBDUkxGAEhQRV9JTlZBTElEX0NIVU5LX1NJWkUATU9WRQBDT05USU5VRQBIUEVfQ0JfU1RBVFVTX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJTX0NPTVBMRVRFAEhQRV9DQl9WRVJTSU9OX0NPTVBMRVRFAEhQRV9DQl9VUkxfQ09NUExFVEUASFBFX0NCX1BST1RPQ09MX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8sIFJUU1AvIG9yIElDRS8A5xUAAK8VAACkEgAAkhoAACYWAACeFAAA2xkAAHkVAAB+EgAA/hQAADYVAAALFgAA2BYAAPMSAABCGAAArBYAABIVAAAUFwAA7xcAAEgUAABxFwAAshoAAGsZAAB+GQAANRQAAIIaAABEFwAA/RYAAB4YAACHFwAAqhkAAJMSAAAHGAAALBcAAMoXAACkFwAA5xUAAOcVAABYFwAAOxgAAKASAAAtHAAAwxEAAEgRAADeEgAAQhMAAKQZAAD9EAAA9xUAAKUVAADvFgAA+BkAAEoWAABWFgAA9RUAAAoaAAAIGgAAARoAAKsVAABCEgAA1xAAAEwRAAAFGQAAVBYAAB4RAADKGQAAyBkAAE4WAAD/GAAAcRQAAPAVAADuFQAAlBkAAPwVAAC/GQAAmxkAAHwUAABDEQAAcBgAAJUUAAAnFAAAGRQAANUSAADUGQAARBYAAPcQAEG5OwsBAQBB0DsL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBuj0LBAEAAAIAQdE9C14DBAMDAwMDAAADAwADAwADAwMDAwMDAwMDAAUAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAwADAEG6PwsEAQAAAgBB0T8LXgMAAwMDAwMAAAMDAAMDAAMDAwMDAwMDAwMABAAFAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwADAAMAQbDBAAsNbG9zZWVlcC1hbGl2ZQBBycEACwEBAEHgwQAL4AEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBycMACwEBAEHgwwAL5wEBAQEBAQEBAQEBAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAWNodW5rZWQAQfHFAAteAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQBB0McACyFlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AQYDIAAsgcmFuc2Zlci1lbmNvZGluZ3BncmFkZQ0KDQpTTQ0KDQoAQanIAAsFAQIAAQMAQcDIAAtfBAUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUAQanKAAsFAQIAAQMAQcDKAAtfBAUFBgUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUAQanMAAsEAQAAAQBBwcwAC14CAgACAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAEGpzgALBQECAAEDAEHAzgALXwQFAAAFBQUFBQUFBQUFBQYFBQUFBQUFBQUFBQUABQAHCAUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQAFAAUABQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUAAAAFAEGp0AALBQEBAAEBAEHA0AALAQEAQdrQAAtBAgAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQanSAAsFAQEAAQEAQcDSAAsBAQBBytIACwYCAAAAAAIAQeHSAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBBoNQAC50BTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRVVFUllPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFVFRQQ0VUU1BBRFRQLw==",wasmBuffer;Object.defineProperty(module2,"exports",{get:()=>wasmBuffer||(wasmBuffer=Buffer2.from(wasmBase64,"base64"))})}});var require_llhttp_simd_wasm=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/llhttp/llhttp_simd-wasm.js"(exports2,module2){"use strict";var{Buffer:Buffer2}=require("node:buffer"),wasmBase64="AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAn9/AGABfwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAzU0BQYAAAMAAAAAAAADAQMAAwMDAAACAAAAAAICAgICAgICAgIBAQEBAQEBAQEBAwAAAwAAAAQFAXABExMFAwEAAgYIAX8BQcDZBAsHxQcoBm1lbW9yeQIAC19pbml0aWFsaXplAAgZX19pbmRpcmVjdF9mdW5jdGlvbl90YWJsZQEAC2xsaHR0cF9pbml0AAkYbGxodHRwX3Nob3VsZF9rZWVwX2FsaXZlADcMbGxodHRwX2FsbG9jAAsGbWFsbG9jADkLbGxodHRwX2ZyZWUADARmcmVlAAwPbGxodHRwX2dldF90eXBlAA0VbGxodHRwX2dldF9odHRwX21ham9yAA4VbGxodHRwX2dldF9odHRwX21pbm9yAA8RbGxodHRwX2dldF9tZXRob2QAEBZsbGh0dHBfZ2V0X3N0YXR1c19jb2RlABESbGxodHRwX2dldF91cGdyYWRlABIMbGxodHRwX3Jlc2V0ABMObGxodHRwX2V4ZWN1dGUAFBRsbGh0dHBfc2V0dGluZ3NfaW5pdAAVDWxsaHR0cF9maW5pc2gAFgxsbGh0dHBfcGF1c2UAFw1sbGh0dHBfcmVzdW1lABgbbGxodHRwX3Jlc3VtZV9hZnRlcl91cGdyYWRlABkQbGxodHRwX2dldF9lcnJubwAaF2xsaHR0cF9nZXRfZXJyb3JfcmVhc29uABsXbGxodHRwX3NldF9lcnJvcl9yZWFzb24AHBRsbGh0dHBfZ2V0X2Vycm9yX3BvcwAdEWxsaHR0cF9lcnJub19uYW1lAB4SbGxodHRwX21ldGhvZF9uYW1lAB8SbGxodHRwX3N0YXR1c19uYW1lACAabGxodHRwX3NldF9sZW5pZW50X2hlYWRlcnMAISFsbGh0dHBfc2V0X2xlbmllbnRfY2h1bmtlZF9sZW5ndGgAIh1sbGh0dHBfc2V0X2xlbmllbnRfa2VlcF9hbGl2ZQAjJGxsaHR0cF9zZXRfbGVuaWVudF90cmFuc2Zlcl9lbmNvZGluZwAkGmxsaHR0cF9zZXRfbGVuaWVudF92ZXJzaW9uACUjbGxodHRwX3NldF9sZW5pZW50X2RhdGFfYWZ0ZXJfY2xvc2UAJidsbGh0dHBfc2V0X2xlbmllbnRfb3B0aW9uYWxfbGZfYWZ0ZXJfY3IAJyxsbGh0dHBfc2V0X2xlbmllbnRfb3B0aW9uYWxfY3JsZl9hZnRlcl9jaHVuawAoKGxsaHR0cF9zZXRfbGVuaWVudF9vcHRpb25hbF9jcl9iZWZvcmVfbGYAKSpsbGh0dHBfc2V0X2xlbmllbnRfc3BhY2VzX2FmdGVyX2NodW5rX3NpemUAKhhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YANgkYAQBBAQsSAQIDBAUKBgcyNDMuKy8tLDAxCuzaAjQWAEHA1QAoAgAEQAALQcDVAEEBNgIACxQAIAAQOCAAIAI2AjggACABOgAoCxQAIAAgAC8BNCAALQAwIAAQNxAACx4BAX9BwAAQOiIBEDggAUGACDYCOCABIAA6ACggAQuPDAEHfwJAIABFDQAgAEEIayIBIABBBGsoAgAiAEF4cSIEaiEFAkAgAEEBcQ0AIABBA3FFDQEgASABKAIAIgBrIgFB1NUAKAIASQ0BIAAgBGohBAJAAkBB2NUAKAIAIAFHBEAgAEH/AU0EQCAAQQN2IQMgASgCCCIAIAEoAgwiAkYEQEHE1QBBxNUAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgASgCGCEGIAEgASgCDCIARwRAIAAgASgCCCICNgIIIAIgADYCDAwDCyABQRRqIgMoAgAiAkUEQCABKAIQIgJFDQIgAUEQaiEDCwNAIAMhByACIgBBFGoiAygCACICDQAgAEEQaiEDIAAoAhAiAg0ACyAHQQA2AgAMAgsgBSgCBCIAQQNxQQNHDQIgBSAAQX5xNgIEQczVACAENgIAIAUgBDYCACABIARBAXI2AgQMAwtBACEACyAGRQ0AAkAgASgCHCICQQJ0QfTXAGoiAygCACABRgRAIAMgADYCACAADQFByNUAQcjVACgCAEF+IAJ3cTYCAAwCCyAGQRBBFCAGKAIQIAFGG2ogADYCACAARQ0BCyAAIAY2AhggASgCECICBEAgACACNgIQIAIgADYCGAsgAUEUaigCACICRQ0AIABBFGogAjYCACACIAA2AhgLIAEgBU8NACAFKAIEIgBBAXFFDQACQAJAAkACQCAAQQJxRQRAQdzVACgCACAFRgRAQdzVACABNgIAQdDVAEHQ1QAoAgAgBGoiADYCACABIABBAXI2AgQgAUHY1QAoAgBHDQZBzNUAQQA2AgBB2NUAQQA2AgAMBgtB2NUAKAIAIAVGBEBB2NUAIAE2AgBBzNUAQczVACgCACAEaiIANgIAIAEgAEEBcjYCBCAAIAFqIAA2AgAMBgsgAEF4cSAEaiEEIABB/wFNBEAgAEEDdiEDIAUoAggiACAFKAIMIgJGBEBBxNUAQcTVACgCAEF+IAN3cTYCAAwFCyACIAA2AgggACACNgIMDAQLIAUoAhghBiAFIAUoAgwiAEcEQEHU1QAoAgAaIAAgBSgCCCICNgIIIAIgADYCDAwDCyAFQRRqIgMoAgAiAkUEQCAFKAIQIgJFDQIgBUEQaiEDCwNAIAMhByACIgBBFGoiAygCACICDQAgAEEQaiEDIAAoAhAiAg0ACyAHQQA2AgAMAgsgBSAAQX5xNgIEIAEgBGogBDYCACABIARBAXI2AgQMAwtBACEACyAGRQ0AAkAgBSgCHCICQQJ0QfTXAGoiAygCACAFRgRAIAMgADYCACAADQFByNUAQcjVACgCAEF+IAJ3cTYCAAwCCyAGQRBBFCAGKAIQIAVGG2ogADYCACAARQ0BCyAAIAY2AhggBSgCECICBEAgACACNgIQIAIgADYCGAsgBUEUaigCACICRQ0AIABBFGogAjYCACACIAA2AhgLIAEgBGogBDYCACABIARBAXI2AgQgAUHY1QAoAgBHDQBBzNUAIAQ2AgAMAQsgBEH/AU0EQCAEQXhxQezVAGohAAJ/QcTVACgCACICQQEgBEEDdnQiA3FFBEBBxNUAIAIgA3I2AgAgAAwBCyAAKAIICyICIAE2AgwgACABNgIIIAEgADYCDCABIAI2AggMAQtBHyECIARB////B00EQCAEQSYgBEEIdmciAGt2QQFxIABBAXRrQT5qIQILIAEgAjYCHCABQgA3AhAgAkECdEH01wBqIQACQEHI1QAoAgAiA0EBIAJ0IgdxRQRAIAAgATYCAEHI1QAgAyAHcjYCACABIAA2AhggASABNgIIIAEgATYCDAwBCyAEQRkgAkEBdmtBACACQR9HG3QhAiAAKAIAIQACQANAIAAiAygCBEF4cSAERg0BIAJBHXYhACACQQF0IQIgAyAAQQRxakEQaiIHKAIAIgANAAsgByABNgIAIAEgAzYCGCABIAE2AgwgASABNgIIDAELIAMoAggiACABNgIMIAMgATYCCCABQQA2AhggASADNgIMIAEgADYCCAtB5NUAQeTVACgCAEEBayIAQX8gABs2AgALCwcAIAAtACgLBwAgAC0AKgsHACAALQArCwcAIAAtACkLBwAgAC8BNAsHACAALQAwC0ABBH8gACgCGCEBIAAvAS4hAiAALQAoIQMgACgCOCEEIAAQOCAAIAQ2AjggACADOgAoIAAgAjsBLiAAIAE2AhgLhocCAwd/A34BeyABIAJqIQQCQCAAIgMoAgwiAA0AIAMoAgQEQCADIAE2AgQLIwBBEGsiCSQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADKAIcIgJBAmsO/AEB+QECAwQFBgcICQoLDA0ODxAREvgBE/cBFBX2ARYX9QEYGRobHB0eHyD9AfsBIfQBIiMkJSYnKCkqK/MBLC0uLzAxMvIB8QEzNPAB7wE1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk/6AVBRUlPuAe0BVOwBVesBVldYWVrqAVtcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBuAG5AboBuwG8Ab0BvgG/AcABwQHCAcMBxAHFAcYBxwHIAckBygHLAcwBzQHOAekB6AHPAecB0AHmAdEB0gHTAdQB5QHVAdYB1wHYAdkB2gHbAdwB3QHeAd8B4AHhAeIB4wEA/AELQQAM4wELQQ4M4gELQQ0M4QELQQ8M4AELQRAM3wELQRMM3gELQRQM3QELQRUM3AELQRYM2wELQRcM2gELQRgM2QELQRkM2AELQRoM1wELQRsM1gELQRwM1QELQR0M1AELQR4M0wELQR8M0gELQSAM0QELQSEM0AELQQgMzwELQSIMzgELQSQMzQELQSMMzAELQQcMywELQSUMygELQSYMyQELQScMyAELQSgMxwELQRIMxgELQREMxQELQSkMxAELQSoMwwELQSsMwgELQSwMwQELQd4BDMABC0EuDL8BC0EvDL4BC0EwDL0BC0ExDLwBC0EyDLsBC0EzDLoBC0E0DLkBC0HfAQy4AQtBNQy3AQtBOQy2AQtBDAy1AQtBNgy0AQtBNwyzAQtBOAyyAQtBPgyxAQtBOgywAQtB4AEMrwELQQsMrgELQT8MrQELQTsMrAELQQoMqwELQTwMqgELQT0MqQELQeEBDKgBC0HBAAynAQtBwAAMpgELQcIADKUBC0EJDKQBC0EtDKMBC0HDAAyiAQtBxAAMoQELQcUADKABC0HGAAyfAQtBxwAMngELQcgADJ0BC0HJAAycAQtBygAMmwELQcsADJoBC0HMAAyZAQtBzQAMmAELQc4ADJcBC0HPAAyWAQtB0AAMlQELQdEADJQBC0HSAAyTAQtB0wAMkgELQdUADJEBC0HUAAyQAQtB1gAMjwELQdcADI4BC0HYAAyNAQtB2QAMjAELQdoADIsBC0HbAAyKAQtB3AAMiQELQd0ADIgBC0HeAAyHAQtB3wAMhgELQeAADIUBC0HhAAyEAQtB4gAMgwELQeMADIIBC0HkAAyBAQtB5QAMgAELQeIBDH8LQeYADH4LQecADH0LQQYMfAtB6AAMewtBBQx6C0HpAAx5C0EEDHgLQeoADHcLQesADHYLQewADHULQe0ADHQLQQMMcwtB7gAMcgtB7wAMcQtB8AAMcAtB8gAMbwtB8QAMbgtB8wAMbQtB9AAMbAtB9QAMawtB9gAMagtBAgxpC0H3AAxoC0H4AAxnC0H5AAxmC0H6AAxlC0H7AAxkC0H8AAxjC0H9AAxiC0H+AAxhC0H/AAxgC0GAAQxfC0GBAQxeC0GCAQxdC0GDAQxcC0GEAQxbC0GFAQxaC0GGAQxZC0GHAQxYC0GIAQxXC0GJAQxWC0GKAQxVC0GLAQxUC0GMAQxTC0GNAQxSC0GOAQxRC0GPAQxQC0GQAQxPC0GRAQxOC0GSAQxNC0GTAQxMC0GUAQxLC0GVAQxKC0GWAQxJC0GXAQxIC0GYAQxHC0GZAQxGC0GaAQxFC0GbAQxEC0GcAQxDC0GdAQxCC0GeAQxBC0GfAQxAC0GgAQw/C0GhAQw+C0GiAQw9C0GjAQw8C0GkAQw7C0GlAQw6C0GmAQw5C0GnAQw4C0GoAQw3C0GpAQw2C0GqAQw1C0GrAQw0C0GsAQwzC0GtAQwyC0GuAQwxC0GvAQwwC0GwAQwvC0GxAQwuC0GyAQwtC0GzAQwsC0G0AQwrC0G1AQwqC0G2AQwpC0G3AQwoC0G4AQwnC0G5AQwmC0G6AQwlC0G7AQwkC0G8AQwjC0G9AQwiC0G+AQwhC0G/AQwgC0HAAQwfC0HBAQweC0HCAQwdC0EBDBwLQcMBDBsLQcQBDBoLQcUBDBkLQcYBDBgLQccBDBcLQcgBDBYLQckBDBULQcoBDBQLQcsBDBMLQcwBDBILQc0BDBELQc4BDBALQc8BDA8LQdABDA4LQdEBDA0LQdIBDAwLQdMBDAsLQdQBDAoLQdUBDAkLQdYBDAgLQeMBDAcLQdcBDAYLQdgBDAULQdkBDAQLQdoBDAMLQdsBDAILQd0BDAELQdwBCyECA0ACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAMCfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAn8CQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAwJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCACDuMBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISMkJScoKZ4DmwOaA5EDigODA4AD/QL7AvgC8gLxAu8C7QLoAucC5gLlAuQC3ALbAtoC2QLYAtcC1gLVAs8CzgLMAssCygLJAsgCxwLGAsQCwwK+ArwCugK5ArgCtwK2ArUCtAKzArICsQKwAq4CrQKpAqgCpwKmAqUCpAKjAqICoQKgAp8CmAKQAowCiwKKAoEC/gH9AfwB+wH6AfkB+AH3AfUB8wHwAesB6QHoAecB5gHlAeQB4wHiAeEB4AHfAd4B3QHcAdoB2QHYAdcB1gHVAdQB0wHSAdEB0AHPAc4BzQHMAcsBygHJAcgBxwHGAcUBxAHDAcIBwQHAAb8BvgG9AbwBuwG6AbkBuAG3AbYBtQG0AbMBsgGxAbABrwGuAa0BrAGrAaoBqQGoAacBpgGlAaQBowGiAZ8BngGZAZgBlwGWAZUBlAGTAZIBkQGQAY8BjQGMAYcBhgGFAYQBgwGCAX18e3p5dnV0UFFSU1RVCyABIARHDXJB/QEhAgy+AwsgASAERw2YAUHbASECDL0DCyABIARHDfEBQY4BIQIMvAMLIAEgBEcN/AFBhAEhAgy7AwsgASAERw2KAkH/ACECDLoDCyABIARHDZECQf0AIQIMuQMLIAEgBEcNlAJB+wAhAgy4AwsgASAERw0eQR4hAgy3AwsgASAERw0ZQRghAgy2AwsgASAERw3KAkHNACECDLUDCyABIARHDdUCQcYAIQIMtAMLIAEgBEcN1gJBwwAhAgyzAwsgASAERw3cAkE4IQIMsgMLIAMtADBBAUYNrQMMiQMLQQAhAAJAAkACQCADLQAqRQ0AIAMtACtFDQAgAy8BMiICQQJxRQ0BDAILIAMvATIiAkEBcUUNAQtBASEAIAMtAChBAUYNACADLwE0IgZB5ABrQeQASQ0AIAZBzAFGDQAgBkGwAkYNACACQcAAcQ0AQQAhACACQYgEcUGABEYNACACQShxQQBHIQALIANBADsBMiADQQA6ADECQCAARQRAIANBADoAMSADLQAuQQRxDQEMsQMLIANCADcDIAsgA0EAOgAxIANBAToANgxIC0EAIQACQCADKAI4IgJFDQAgAigCMCICRQ0AIAMgAhEAACEACyAARQ1IIABBFUcNYiADQQQ2AhwgAyABNgIUIANB0hs2AhAgA0EVNgIMQQAhAgyvAwsgASAERgRAQQYhAgyvAwsgAS0AAEEKRw0ZIAFBAWohAQwaCyADQgA3AyBBEiECDJQDCyABIARHDYoDQSMhAgysAwsgASAERgRAQQchAgysAwsCQAJAIAEtAABBCmsOBAEYGAAYCyABQQFqIQFBECECDJMDCyABQQFqIQEgA0Evai0AAEEBcQ0XQQAhAiADQQA2AhwgAyABNgIUIANBmSA2AhAgA0EZNgIMDKsDCyADIAMpAyAiDCAEIAFrrSIKfSILQgAgCyAMWBs3AyAgCiAMWg0YQQghAgyqAwsgASAERwRAIANBCTYCCCADIAE2AgRBFCECDJEDC0EJIQIMqQMLIAMpAyBQDa4CDEMLIAEgBEYEQEELIQIMqAMLIAEtAABBCkcNFiABQQFqIQEMFwsgA0Evai0AAEEBcUUNGQwmC0EAIQACQCADKAI4IgJFDQAgAigCUCICRQ0AIAMgAhEAACEACyAADRkMQgtBACEAAkAgAygCOCICRQ0AIAIoAlAiAkUNACADIAIRAAAhAAsgAA0aDCQLQQAhAAJAIAMoAjgiAkUNACACKAJQIgJFDQAgAyACEQAAIQALIAANGwwyCyADQS9qLQAAQQFxRQ0cDCILQQAhAAJAIAMoAjgiAkUNACACKAJUIgJFDQAgAyACEQAAIQALIAANHAxCC0EAIQACQCADKAI4IgJFDQAgAigCVCICRQ0AIAMgAhEAACEACyAADR0MIAsgASAERgRAQRMhAgygAwsCQCABLQAAIgBBCmsOBB8jIwAiCyABQQFqIQEMHwtBACEAAkAgAygCOCICRQ0AIAIoAlQiAkUNACADIAIRAAAhAAsgAA0iDEILIAEgBEYEQEEWIQIMngMLIAEtAABBwMEAai0AAEEBRw0jDIMDCwJAA0AgAS0AAEGwO2otAAAiAEEBRwRAAkAgAEECaw4CAwAnCyABQQFqIQFBISECDIYDCyAEIAFBAWoiAUcNAAtBGCECDJ0DCyADKAIEIQBBACECIANBADYCBCADIAAgAUEBaiIBEDQiAA0hDEELQQAhAAJAIAMoAjgiAkUNACACKAJUIgJFDQAgAyACEQAAIQALIAANIwwqCyABIARGBEBBHCECDJsDCyADQQo2AgggAyABNgIEQQAhAAJAIAMoAjgiAkUNACACKAJQIgJFDQAgAyACEQAAIQALIAANJUEkIQIMgQMLIAEgBEcEQANAIAEtAABBsD1qLQAAIgBBA0cEQCAAQQFrDgUYGiaCAyUmCyAEIAFBAWoiAUcNAAtBGyECDJoDC0EbIQIMmQMLA0AgAS0AAEGwP2otAAAiAEEDRwRAIABBAWsOBQ8RJxMmJwsgBCABQQFqIgFHDQALQR4hAgyYAwsgASAERwRAIANBCzYCCCADIAE2AgRBByECDP8CC0EfIQIMlwMLIAEgBEYEQEEgIQIMlwMLAkAgAS0AAEENaw4ULj8/Pz8/Pz8/Pz8/Pz8/Pz8/PwA/C0EAIQIgA0EANgIcIANBvws2AhAgA0ECNgIMIAMgAUEBajYCFAyWAwsgA0EvaiECA0AgASAERgRAQSEhAgyXAwsCQAJAAkAgAS0AACIAQQlrDhgCACkpASkpKSkpKSkpKSkpKSkpKSkpKQInCyABQQFqIQEgA0Evai0AAEEBcUUNCgwYCyABQQFqIQEMFwsgAUEBaiEBIAItAABBAnENAAtBACECIANBADYCHCADIAE2AhQgA0GfFTYCECADQQw2AgwMlQMLIAMtAC5BgAFxRQ0BC0EAIQACQCADKAI4IgJFDQAgAigCXCICRQ0AIAMgAhEAACEACyAARQ3mAiAAQRVGBEAgA0EkNgIcIAMgATYCFCADQZsbNgIQIANBFTYCDEEAIQIMlAMLQQAhAiADQQA2AhwgAyABNgIUIANBkA42AhAgA0EUNgIMDJMDC0EAIQIgA0EANgIcIAMgATYCFCADQb4gNgIQIANBAjYCDAySAwsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEgDKdqIgEQMiIARQ0rIANBBzYCHCADIAE2AhQgAyAANgIMDJEDCyADLQAuQcAAcUUNAQtBACEAAkAgAygCOCICRQ0AIAIoAlgiAkUNACADIAIRAAAhAAsgAEUNKyAAQRVGBEAgA0EKNgIcIAMgATYCFCADQesZNgIQIANBFTYCDEEAIQIMkAMLQQAhAiADQQA2AhwgAyABNgIUIANBkww2AhAgA0ETNgIMDI8DC0EAIQIgA0EANgIcIAMgATYCFCADQYIVNgIQIANBAjYCDAyOAwtBACECIANBADYCHCADIAE2AhQgA0HdFDYCECADQRk2AgwMjQMLQQAhAiADQQA2AhwgAyABNgIUIANB5h02AhAgA0EZNgIMDIwDCyAAQRVGDT1BACECIANBADYCHCADIAE2AhQgA0HQDzYCECADQSI2AgwMiwMLIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDMiAEUNKCADQQ02AhwgAyABNgIUIAMgADYCDAyKAwsgAEEVRg06QQAhAiADQQA2AhwgAyABNgIUIANB0A82AhAgA0EiNgIMDIkDCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDCgLIANBDjYCHCADIAA2AgwgAyABQQFqNgIUDIgDCyAAQRVGDTdBACECIANBADYCHCADIAE2AhQgA0HQDzYCECADQSI2AgwMhwMLIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDMiAEUEQCABQQFqIQEMJwsgA0EPNgIcIAMgADYCDCADIAFBAWo2AhQMhgMLQQAhAiADQQA2AhwgAyABNgIUIANB4hc2AhAgA0EZNgIMDIUDCyAAQRVGDTNBACECIANBADYCHCADIAE2AhQgA0HWDDYCECADQSM2AgwMhAMLIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDQiAEUNJSADQRE2AhwgAyABNgIUIAMgADYCDAyDAwsgAEEVRg0wQQAhAiADQQA2AhwgAyABNgIUIANB1gw2AhAgA0EjNgIMDIIDCyADKAIEIQBBACECIANBADYCBCADIAAgARA0IgBFBEAgAUEBaiEBDCULIANBEjYCHCADIAA2AgwgAyABQQFqNgIUDIEDCyADQS9qLQAAQQFxRQ0BC0EXIQIM5gILQQAhAiADQQA2AhwgAyABNgIUIANB4hc2AhAgA0EZNgIMDP4CCyAAQTtHDQAgAUEBaiEBDAwLQQAhAiADQQA2AhwgAyABNgIUIANBkhg2AhAgA0ECNgIMDPwCCyAAQRVGDShBACECIANBADYCHCADIAE2AhQgA0HWDDYCECADQSM2AgwM+wILIANBFDYCHCADIAE2AhQgAyAANgIMDPoCCyADKAIEIQBBACECIANBADYCBCADIAAgARA0IgBFBEAgAUEBaiEBDPUCCyADQRU2AhwgAyAANgIMIAMgAUEBajYCFAz5AgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQNCIARQRAIAFBAWohAQzzAgsgA0EXNgIcIAMgADYCDCADIAFBAWo2AhQM+AILIABBFUYNI0EAIQIgA0EANgIcIAMgATYCFCADQdYMNgIQIANBIzYCDAz3AgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQNCIARQRAIAFBAWohAQwdCyADQRk2AhwgAyAANgIMIAMgAUEBajYCFAz2AgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQNCIARQRAIAFBAWohAQzvAgsgA0EaNgIcIAMgADYCDCADIAFBAWo2AhQM9QILIABBFUYNH0EAIQIgA0EANgIcIAMgATYCFCADQdAPNgIQIANBIjYCDAz0AgsgAygCBCEAIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDBsLIANBHDYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgzzAgsgAygCBCEAIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDOsCCyADQR02AhwgAyAANgIMIAMgAUEBajYCFEEAIQIM8gILIABBO0cNASABQQFqIQELQSYhAgzXAgtBACECIANBADYCHCADIAE2AhQgA0GfFTYCECADQQw2AgwM7wILIAEgBEcEQANAIAEtAABBIEcNhAIgBCABQQFqIgFHDQALQSwhAgzvAgtBLCECDO4CCyABIARGBEBBNCECDO4CCwJAAkADQAJAIAEtAABBCmsOBAIAAAMACyAEIAFBAWoiAUcNAAtBNCECDO8CCyADKAIEIQAgA0EANgIEIAMgACABEDEiAEUNnwIgA0EyNgIcIAMgATYCFCADIAA2AgxBACECDO4CCyADKAIEIQAgA0EANgIEIAMgACABEDEiAEUEQCABQQFqIQEMnwILIANBMjYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgztAgsgASAERwRAAkADQCABLQAAQTBrIgBB/wFxQQpPBEBBOiECDNcCCyADKQMgIgtCmbPmzJmz5swZVg0BIAMgC0IKfiIKNwMgIAogAK1C/wGDIgtCf4VWDQEgAyAKIAt8NwMgIAQgAUEBaiIBRw0AC0HAACECDO4CCyADKAIEIQAgA0EANgIEIAMgACABQQFqIgEQMSIADRcM4gILQcAAIQIM7AILIAEgBEYEQEHJACECDOwCCwJAA0ACQCABLQAAQQlrDhgAAqICogKpAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAgCiAgsgBCABQQFqIgFHDQALQckAIQIM7AILIAFBAWohASADQS9qLQAAQQFxDaUCIANBADYCHCADIAE2AhQgA0GXEDYCECADQQo2AgxBACECDOsCCyABIARHBEADQCABLQAAQSBHDRUgBCABQQFqIgFHDQALQfgAIQIM6wILQfgAIQIM6gILIANBAjoAKAw4C0EAIQIgA0EANgIcIANBvws2AhAgA0ECNgIMIAMgAUEBajYCFAzoAgtBACECDM4CC0ENIQIMzQILQRMhAgzMAgtBFSECDMsCC0EWIQIMygILQRghAgzJAgtBGSECDMgCC0EaIQIMxwILQRshAgzGAgtBHCECDMUCC0EdIQIMxAILQR4hAgzDAgtBHyECDMICC0EgIQIMwQILQSIhAgzAAgtBIyECDL8CC0ElIQIMvgILQeUAIQIMvQILIANBPTYCHCADIAE2AhQgAyAANgIMQQAhAgzVAgsgA0EbNgIcIAMgATYCFCADQaQcNgIQIANBFTYCDEEAIQIM1AILIANBIDYCHCADIAE2AhQgA0GYGjYCECADQRU2AgxBACECDNMCCyADQRM2AhwgAyABNgIUIANBmBo2AhAgA0EVNgIMQQAhAgzSAgsgA0ELNgIcIAMgATYCFCADQZgaNgIQIANBFTYCDEEAIQIM0QILIANBEDYCHCADIAE2AhQgA0GYGjYCECADQRU2AgxBACECDNACCyADQSA2AhwgAyABNgIUIANBpBw2AhAgA0EVNgIMQQAhAgzPAgsgA0ELNgIcIAMgATYCFCADQaQcNgIQIANBFTYCDEEAIQIMzgILIANBDDYCHCADIAE2AhQgA0GkHDYCECADQRU2AgxBACECDM0CC0EAIQIgA0EANgIcIAMgATYCFCADQd0ONgIQIANBEjYCDAzMAgsCQANAAkAgAS0AAEEKaw4EAAICAAILIAQgAUEBaiIBRw0AC0H9ASECDMwCCwJAAkAgAy0ANkEBRw0AQQAhAAJAIAMoAjgiAkUNACACKAJgIgJFDQAgAyACEQAAIQALIABFDQAgAEEVRw0BIANB/AE2AhwgAyABNgIUIANB3Bk2AhAgA0EVNgIMQQAhAgzNAgtB3AEhAgyzAgsgA0EANgIcIAMgATYCFCADQfkLNgIQIANBHzYCDEEAIQIMywILAkACQCADLQAoQQFrDgIEAQALQdsBIQIMsgILQdQBIQIMsQILIANBAjoAMUEAIQACQCADKAI4IgJFDQAgAigCACICRQ0AIAMgAhEAACEACyAARQRAQd0BIQIMsQILIABBFUcEQCADQQA2AhwgAyABNgIUIANBtAw2AhAgA0EQNgIMQQAhAgzKAgsgA0H7ATYCHCADIAE2AhQgA0GBGjYCECADQRU2AgxBACECDMkCCyABIARGBEBB+gEhAgzJAgsgAS0AAEHIAEYNASADQQE6ACgLQcABIQIMrgILQdoBIQIMrQILIAEgBEcEQCADQQw2AgggAyABNgIEQdkBIQIMrQILQfkBIQIMxQILIAEgBEYEQEH4ASECDMUCCyABLQAAQcgARw0EIAFBAWohAUHYASECDKsCCyABIARGBEBB9wEhAgzEAgsCQAJAIAEtAABBxQBrDhAABQUFBQUFBQUFBQUFBQUBBQsgAUEBaiEBQdYBIQIMqwILIAFBAWohAUHXASECDKoCC0H2ASECIAEgBEYNwgIgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABButUAai0AAEcNAyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMwwILIAMoAgQhACADQgA3AwAgAyAAIAZBAWoiARAuIgBFBEBB4wEhAgyqAgsgA0H1ATYCHCADIAE2AhQgAyAANgIMQQAhAgzCAgtB9AEhAiABIARGDcECIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjVAGotAABHDQIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADMICCyADQYEEOwEoIAMoAgQhACADQgA3AwAgAyAAIAZBAWoiARAuIgANAwwCCyADQQA2AgALQQAhAiADQQA2AhwgAyABNgIUIANB5R82AhAgA0EINgIMDL8CC0HVASECDKUCCyADQfMBNgIcIAMgATYCFCADIAA2AgxBACECDL0CC0EAIQACQCADKAI4IgJFDQAgAigCQCICRQ0AIAMgAhEAACEACyAARQ1uIABBFUcEQCADQQA2AhwgAyABNgIUIANBgg82AhAgA0EgNgIMQQAhAgy9AgsgA0GPATYCHCADIAE2AhQgA0HsGzYCECADQRU2AgxBACECDLwCCyABIARHBEAgA0ENNgIIIAMgATYCBEHTASECDKMCC0HyASECDLsCCyABIARGBEBB8QEhAgy7AgsCQAJAAkAgAS0AAEHIAGsOCwABCAgICAgICAgCCAsgAUEBaiEBQdABIQIMowILIAFBAWohAUHRASECDKICCyABQQFqIQFB0gEhAgyhAgtB8AEhAiABIARGDbkCIAMoAgAiACAEIAFraiEGIAEgAGtBAmohBQNAIAEtAAAgAEG11QBqLQAARw0EIABBAkYNAyAAQQFqIQAgBCABQQFqIgFHDQALIAMgBjYCAAy5AgtB7wEhAiABIARGDbgCIAMoAgAiACAEIAFraiEGIAEgAGtBAWohBQNAIAEtAAAgAEGz1QBqLQAARw0DIABBAUYNAiAAQQFqIQAgBCABQQFqIgFHDQALIAMgBjYCAAy4AgtB7gEhAiABIARGDbcCIAMoAgAiACAEIAFraiEGIAEgAGtBAmohBQNAIAEtAAAgAEGw1QBqLQAARw0CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBjYCAAy3AgsgAygCBCEAIANCADcDACADIAAgBUEBaiIBECsiAEUNAiADQewBNgIcIAMgATYCFCADIAA2AgxBACECDLYCCyADQQA2AgALIAMoAgQhACADQQA2AgQgAyAAIAEQKyIARQ2cAiADQe0BNgIcIAMgATYCFCADIAA2AgxBACECDLQCC0HPASECDJoCC0EAIQACQCADKAI4IgJFDQAgAigCNCICRQ0AIAMgAhEAACEACwJAIAAEQCAAQRVGDQEgA0EANgIcIAMgATYCFCADQeoNNgIQIANBJjYCDEEAIQIMtAILQc4BIQIMmgILIANB6wE2AhwgAyABNgIUIANBgBs2AhAgA0EVNgIMQQAhAgyyAgsgASAERgRAQesBIQIMsgILIAEtAABBL0YEQCABQQFqIQEMAQsgA0EANgIcIAMgATYCFCADQbI4NgIQIANBCDYCDEEAIQIMsQILQc0BIQIMlwILIAEgBEcEQCADQQ42AgggAyABNgIEQcwBIQIMlwILQeoBIQIMrwILIAEgBEYEQEHpASECDK8CCyABLQAAQTBrIgBB/wFxQQpJBEAgAyAAOgAqIAFBAWohAUHLASECDJYCCyADKAIEIQAgA0EANgIEIAMgACABEC8iAEUNlwIgA0HoATYCHCADIAE2AhQgAyAANgIMQQAhAgyuAgsgASAERgRAQecBIQIMrgILAkAgAS0AAEEuRgRAIAFBAWohAQwBCyADKAIEIQAgA0EANgIEIAMgACABEC8iAEUNmAIgA0HmATYCHCADIAE2AhQgAyAANgIMQQAhAgyuAgtBygEhAgyUAgsgASAERgRAQeUBIQIMrQILQQAhAEEBIQVBASEHQQAhAgJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAEtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyECQQAhBUEAIQcMAgtBCSECQQEhAEEAIQVBACEHDAELQQAhBUEBIQILIAMgAjoAKyABQQFqIQECQAJAIAMtAC5BEHENAAJAAkACQCADLQAqDgMBAAIECyAHRQ0DDAILIAANAQwCCyAFRQ0BCyADKAIEIQAgA0EANgIEIAMgACABEC8iAEUNAiADQeIBNgIcIAMgATYCFCADIAA2AgxBACECDK8CCyADKAIEIQAgA0EANgIEIAMgACABEC8iAEUNmgIgA0HjATYCHCADIAE2AhQgAyAANgIMQQAhAgyuAgsgAygCBCEAIANBADYCBCADIAAgARAvIgBFDZgCIANB5AE2AhwgAyABNgIUIAMgADYCDAytAgtByQEhAgyTAgtBACEAAkAgAygCOCICRQ0AIAIoAkQiAkUNACADIAIRAAAhAAsCQCAABEAgAEEVRg0BIANBADYCHCADIAE2AhQgA0GkDTYCECADQSE2AgxBACECDK0CC0HIASECDJMCCyADQeEBNgIcIAMgATYCFCADQdAaNgIQIANBFTYCDEEAIQIMqwILIAEgBEYEQEHhASECDKsCCwJAIAEtAABBIEYEQCADQQA7ATQgAUEBaiEBDAELIANBADYCHCADIAE2AhQgA0GZETYCECADQQk2AgxBACECDKsCC0HHASECDJECCyABIARGBEBB4AEhAgyqAgsCQCABLQAAQTBrQf8BcSICQQpJBEAgAUEBaiEBAkAgAy8BNCIAQZkzSw0AIAMgAEEKbCIAOwE0IABB/v8DcSACQf//A3NLDQAgAyAAIAJqOwE0DAILQQAhAiADQQA2AhwgAyABNgIUIANBlR42AhAgA0ENNgIMDKsCCyADQQA2AhwgAyABNgIUIANBlR42AhAgA0ENNgIMQQAhAgyqAgtBxgEhAgyQAgsgASAERgRAQd8BIQIMqQILAkAgAS0AAEEwa0H/AXEiAkEKSQRAIAFBAWohAQJAIAMvATQiAEGZM0sNACADIABBCmwiADsBNCAAQf7/A3EgAkH//wNzSw0AIAMgACACajsBNAwCC0EAIQIgA0EANgIcIAMgATYCFCADQZUeNgIQIANBDTYCDAyqAgsgA0EANgIcIAMgATYCFCADQZUeNgIQIANBDTYCDEEAIQIMqQILQcUBIQIMjwILIAEgBEYEQEHeASECDKgCCwJAIAEtAABBMGtB/wFxIgJBCkkEQCABQQFqIQECQCADLwE0IgBBmTNLDQAgAyAAQQpsIgA7ATQgAEH+/wNxIAJB//8Dc0sNACADIAAgAmo7ATQMAgtBACECIANBADYCHCADIAE2AhQgA0GVHjYCECADQQ02AgwMqQILIANBADYCHCADIAE2AhQgA0GVHjYCECADQQ02AgxBACECDKgCC0HEASECDI4CCyABIARGBEBB3QEhAgynAgsCQAJAAkACQCABLQAAQQprDhcCAwMAAwMDAwMDAwMDAwMDAwMDAwMDAQMLIAFBAWoMBQsgAUEBaiEBQcMBIQIMjwILIAFBAWohASADQS9qLQAAQQFxDQggA0EANgIcIAMgATYCFCADQY0LNgIQIANBDTYCDEEAIQIMpwILIANBADYCHCADIAE2AhQgA0GNCzYCECADQQ02AgxBACECDKYCCyABIARHBEAgA0EPNgIIIAMgATYCBEEBIQIMjQILQdwBIQIMpQILAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0HbASECDKYCCyADKAIEIQAgA0EANgIEIAMgACABEC0iAEUEQCABQQFqIQEMBAsgA0HaATYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgylAgsgAygCBCEAIANBADYCBCADIAAgARAtIgANASABQQFqCyEBQcEBIQIMigILIANB2QE2AhwgAyAANgIMIAMgAUEBajYCFEEAIQIMogILQcIBIQIMiAILIANBL2otAABBAXENASADQQA2AhwgAyABNgIUIANB5Bw2AhAgA0EZNgIMQQAhAgygAgsgASAERgRAQdkBIQIMoAILAkACQAJAIAEtAABBCmsOBAECAgACCyABQQFqIQEMAgsgAUEBaiEBDAELIAMtAC5BwABxRQ0BC0EAIQACQCADKAI4IgJFDQAgAigCPCICRQ0AIAMgAhEAACEACyAARQ2gASAAQRVGBEAgA0HZADYCHCADIAE2AhQgA0G3GjYCECADQRU2AgxBACECDJ8CCyADQQA2AhwgAyABNgIUIANBgA02AhAgA0EbNgIMQQAhAgyeAgsgA0EANgIcIAMgATYCFCADQdwoNgIQIANBAjYCDEEAIQIMnQILIAEgBEcEQCADQQw2AgggAyABNgIEQb8BIQIMhAILQdgBIQIMnAILIAEgBEYEQEHXASECDJwCCwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEHBAGsOFQABAgNaBAUGWlpaBwgJCgsMDQ4PEFoLIAFBAWohAUH7ACECDJICCyABQQFqIQFB/AAhAgyRAgsgAUEBaiEBQYEBIQIMkAILIAFBAWohAUGFASECDI8CCyABQQFqIQFBhgEhAgyOAgsgAUEBaiEBQYkBIQIMjQILIAFBAWohAUGKASECDIwCCyABQQFqIQFBjQEhAgyLAgsgAUEBaiEBQZYBIQIMigILIAFBAWohAUGXASECDIkCCyABQQFqIQFBmAEhAgyIAgsgAUEBaiEBQaUBIQIMhwILIAFBAWohAUGmASECDIYCCyABQQFqIQFBrAEhAgyFAgsgAUEBaiEBQbQBIQIMhAILIAFBAWohAUG3ASECDIMCCyABQQFqIQFBvgEhAgyCAgsgASAERgRAQdYBIQIMmwILIAEtAABBzgBHDUggAUEBaiEBQb0BIQIMgQILIAEgBEYEQEHVASECDJoCCwJAAkACQCABLQAAQcIAaw4SAEpKSkpKSkpKSgFKSkpKSkoCSgsgAUEBaiEBQbgBIQIMggILIAFBAWohAUG7ASECDIECCyABQQFqIQFBvAEhAgyAAgtB1AEhAiABIARGDZgCIAMoAgAiACAEIAFraiEFIAEgAGtBB2ohBgJAA0AgAS0AACAAQajVAGotAABHDUUgAEEHRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADJkCCyADQQA2AgAgBkEBaiEBQRsMRQsgASAERgRAQdMBIQIMmAILAkACQCABLQAAQckAaw4HAEdHR0dHAUcLIAFBAWohAUG5ASECDP8BCyABQQFqIQFBugEhAgz+AQtB0gEhAiABIARGDZYCIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQabVAGotAABHDUMgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADJcCCyADQQA2AgAgBkEBaiEBQQ8MQwtB0QEhAiABIARGDZUCIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQaTVAGotAABHDUIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADJYCCyADQQA2AgAgBkEBaiEBQSAMQgtB0AEhAiABIARGDZQCIAMoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQaHVAGotAABHDUEgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADJUCCyADQQA2AgAgBkEBaiEBQRIMQQsgASAERgRAQc8BIQIMlAILAkACQCABLQAAQcUAaw4OAENDQ0NDQ0NDQ0NDQwFDCyABQQFqIQFBtQEhAgz7AQsgAUEBaiEBQbYBIQIM+gELQc4BIQIgASAERg2SAiADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGe1QBqLQAARw0/IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyTAgsgA0EANgIAIAZBAWohAUEHDD8LQc0BIQIgASAERg2RAiADKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGY1QBqLQAARw0+IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAySAgsgA0EANgIAIAZBAWohAUEoDD4LIAEgBEYEQEHMASECDJECCwJAAkACQCABLQAAQcUAaw4RAEFBQUFBQUFBQQFBQUFBQQJBCyABQQFqIQFBsQEhAgz5AQsgAUEBaiEBQbIBIQIM+AELIAFBAWohAUGzASECDPcBC0HLASECIAEgBEYNjwIgAygCACIAIAQgAWtqIQUgASAAa0EGaiEGAkADQCABLQAAIABBkdUAai0AAEcNPCAAQQZGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMkAILIANBADYCACAGQQFqIQFBGgw8C0HKASECIAEgBEYNjgIgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBjdUAai0AAEcNOyAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMjwILIANBADYCACAGQQFqIQFBIQw7CyABIARGBEBByQEhAgyOAgsCQAJAIAEtAABBwQBrDhQAPT09PT09PT09PT09PT09PT09AT0LIAFBAWohAUGtASECDPUBCyABQQFqIQFBsAEhAgz0AQsgASAERgRAQcgBIQIMjQILAkACQCABLQAAQdUAaw4LADw8PDw8PDw8PAE8CyABQQFqIQFBrgEhAgz0AQsgAUEBaiEBQa8BIQIM8wELQccBIQIgASAERg2LAiADKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEGE1QBqLQAARw04IABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyMAgsgA0EANgIAIAZBAWohAUEqDDgLIAEgBEYEQEHGASECDIsCCyABLQAAQdAARw04IAFBAWohAUElDDcLQcUBIQIgASAERg2JAiADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGB1QBqLQAARw02IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyKAgsgA0EANgIAIAZBAWohAUEODDYLIAEgBEYEQEHEASECDIkCCyABLQAAQcUARw02IAFBAWohAUGrASECDO8BCyABIARGBEBBwwEhAgyIAgsCQAJAAkACQCABLQAAQcIAaw4PAAECOTk5OTk5OTk5OTkDOQsgAUEBaiEBQacBIQIM8QELIAFBAWohAUGoASECDPABCyABQQFqIQFBqQEhAgzvAQsgAUEBaiEBQaoBIQIM7gELQcIBIQIgASAERg2GAiADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEH+1ABqLQAARw0zIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyHAgsgA0EANgIAIAZBAWohAUEUDDMLQcEBIQIgASAERg2FAiADKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEH51ABqLQAARw0yIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyGAgsgA0EANgIAIAZBAWohAUErDDILQcABIQIgASAERg2EAiADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEH21ABqLQAARw0xIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyFAgsgA0EANgIAIAZBAWohAUEsDDELQb8BIQIgASAERg2DAiADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGh1QBqLQAARw0wIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyEAgsgA0EANgIAIAZBAWohAUERDDALQb4BIQIgASAERg2CAiADKAIAIgAgBCABa2ohBSABIABrQQNqIQYCQANAIAEtAAAgAEHy1ABqLQAARw0vIABBA0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyDAgsgA0EANgIAIAZBAWohAUEuDC8LIAEgBEYEQEG9ASECDIICCwJAAkACQAJAAkAgAS0AAEHBAGsOFQA0NDQ0NDQ0NDQ0ATQ0AjQ0AzQ0BDQLIAFBAWohAUGbASECDOwBCyABQQFqIQFBnAEhAgzrAQsgAUEBaiEBQZ0BIQIM6gELIAFBAWohAUGiASECDOkBCyABQQFqIQFBpAEhAgzoAQsgASAERgRAQbwBIQIMgQILAkACQCABLQAAQdIAaw4DADABMAsgAUEBaiEBQaMBIQIM6AELIAFBAWohAUEEDC0LQbsBIQIgASAERg3/ASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHw1ABqLQAARw0sIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyAAgsgA0EANgIAIAZBAWohAUEdDCwLIAEgBEYEQEG6ASECDP8BCwJAAkAgAS0AAEHJAGsOBwEuLi4uLgAuCyABQQFqIQFBoQEhAgzmAQsgAUEBaiEBQSIMKwsgASAERgRAQbkBIQIM/gELIAEtAABB0ABHDSsgAUEBaiEBQaABIQIM5AELIAEgBEYEQEG4ASECDP0BCwJAAkAgAS0AAEHGAGsOCwAsLCwsLCwsLCwBLAsgAUEBaiEBQZ4BIQIM5AELIAFBAWohAUGfASECDOMBC0G3ASECIAEgBEYN+wEgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABB7NQAai0AAEcNKCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM/AELIANBADYCACAGQQFqIQFBDQwoC0G2ASECIAEgBEYN+gEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBodUAai0AAEcNJyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+wELIANBADYCACAGQQFqIQFBDAwnC0G1ASECIAEgBEYN+QEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB6tQAai0AAEcNJiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+gELIANBADYCACAGQQFqIQFBAwwmC0G0ASECIAEgBEYN+AEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB6NQAai0AAEcNJSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+QELIANBADYCACAGQQFqIQFBJgwlCyABIARGBEBBswEhAgz4AQsCQAJAIAEtAABB1ABrDgIAAScLIAFBAWohAUGZASECDN8BCyABQQFqIQFBmgEhAgzeAQtBsgEhAiABIARGDfYBIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQebUAGotAABHDSMgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADPcBCyADQQA2AgAgBkEBaiEBQScMIwtBsQEhAiABIARGDfUBIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQeTUAGotAABHDSIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADPYBCyADQQA2AgAgBkEBaiEBQRwMIgtBsAEhAiABIARGDfQBIAMoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQd7UAGotAABHDSEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADPUBCyADQQA2AgAgBkEBaiEBQQYMIQtBrwEhAiABIARGDfMBIAMoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQdnUAGotAABHDSAgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADPQBCyADQQA2AgAgBkEBaiEBQRkMIAsgASAERgRAQa4BIQIM8wELAkACQAJAAkAgAS0AAEEtaw4jACQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkASQkJCQkAiQkJAMkCyABQQFqIQFBjgEhAgzcAQsgAUEBaiEBQY8BIQIM2wELIAFBAWohAUGUASECDNoBCyABQQFqIQFBlQEhAgzZAQtBrQEhAiABIARGDfEBIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQdfUAGotAABHDR4gAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADPIBCyADQQA2AgAgBkEBaiEBQQsMHgsgASAERgRAQawBIQIM8QELAkACQCABLQAAQcEAaw4DACABIAsgAUEBaiEBQZABIQIM2AELIAFBAWohAUGTASECDNcBCyABIARGBEBBqwEhAgzwAQsCQAJAIAEtAABBwQBrDg8AHx8fHx8fHx8fHx8fHwEfCyABQQFqIQFBkQEhAgzXAQsgAUEBaiEBQZIBIQIM1gELIAEgBEYEQEGqASECDO8BCyABLQAAQcwARw0cIAFBAWohAUEKDBsLQakBIQIgASAERg3tASADKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHR1ABqLQAARw0aIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzuAQsgA0EANgIAIAZBAWohAUEeDBoLQagBIQIgASAERg3sASADKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEHK1ABqLQAARw0ZIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAztAQsgA0EANgIAIAZBAWohAUEVDBkLQacBIQIgASAERg3rASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHH1ABqLQAARw0YIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzsAQsgA0EANgIAIAZBAWohAUEXDBgLQaYBIQIgASAERg3qASADKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHB1ABqLQAARw0XIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzrAQsgA0EANgIAIAZBAWohAUEYDBcLIAEgBEYEQEGlASECDOoBCwJAAkAgAS0AAEHJAGsOBwAZGRkZGQEZCyABQQFqIQFBiwEhAgzRAQsgAUEBaiEBQYwBIQIM0AELQaQBIQIgASAERg3oASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGm1QBqLQAARw0VIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzpAQsgA0EANgIAIAZBAWohAUEJDBULQaMBIQIgASAERg3nASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGk1QBqLQAARw0UIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzoAQsgA0EANgIAIAZBAWohAUEfDBQLQaIBIQIgASAERg3mASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEG+1ABqLQAARw0TIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAznAQsgA0EANgIAIAZBAWohAUECDBMLQaEBIQIgASAERg3lASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYDQCABLQAAIABBvNQAai0AAEcNESAAQQFGDQIgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM5QELIAEgBEYEQEGgASECDOUBC0EBIAEtAABB3wBHDREaIAFBAWohAUGHASECDMsBCyADQQA2AgAgBkEBaiEBQYgBIQIMygELQZ8BIQIgASAERg3iASADKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEGE1QBqLQAARw0PIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzjAQsgA0EANgIAIAZBAWohAUEpDA8LQZ4BIQIgASAERg3hASADKAIAIgAgBCABa2ohBSABIABrQQNqIQYCQANAIAEtAAAgAEG41ABqLQAARw0OIABBA0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAziAQsgA0EANgIAIAZBAWohAUEtDA4LIAEgBEYEQEGdASECDOEBCyABLQAAQcUARw0OIAFBAWohAUGEASECDMcBCyABIARGBEBBnAEhAgzgAQsCQAJAIAEtAABBzABrDggADw8PDw8PAQ8LIAFBAWohAUGCASECDMcBCyABQQFqIQFBgwEhAgzGAQtBmwEhAiABIARGDd4BIAMoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQbPUAGotAABHDQsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADN8BCyADQQA2AgAgBkEBaiEBQSMMCwtBmgEhAiABIARGDd0BIAMoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQbDUAGotAABHDQogAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADN4BCyADQQA2AgAgBkEBaiEBQQAMCgsgASAERgRAQZkBIQIM3QELAkACQCABLQAAQcgAaw4IAAwMDAwMDAEMCyABQQFqIQFB/QAhAgzEAQsgAUEBaiEBQYABIQIMwwELIAEgBEYEQEGYASECDNwBCwJAAkAgAS0AAEHOAGsOAwALAQsLIAFBAWohAUH+ACECDMMBCyABQQFqIQFB/wAhAgzCAQsgASAERgRAQZcBIQIM2wELIAEtAABB2QBHDQggAUEBaiEBQQgMBwtBlgEhAiABIARGDdkBIAMoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQazUAGotAABHDQYgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADNoBCyADQQA2AgAgBkEBaiEBQQUMBgtBlQEhAiABIARGDdgBIAMoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQabUAGotAABHDQUgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADNkBCyADQQA2AgAgBkEBaiEBQRYMBQtBlAEhAiABIARGDdcBIAMoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQaHVAGotAABHDQQgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADNgBCyADQQA2AgAgBkEBaiEBQRAMBAsgASAERgRAQZMBIQIM1wELAkACQCABLQAAQcMAaw4MAAYGBgYGBgYGBgYBBgsgAUEBaiEBQfkAIQIMvgELIAFBAWohAUH6ACECDL0BC0GSASECIAEgBEYN1QEgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBoNQAai0AAEcNAiAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM1gELIANBADYCACAGQQFqIQFBJAwCCyADQQA2AgAMAgsgASAERgRAQZEBIQIM1AELIAEtAABBzABHDQEgAUEBaiEBQRMLOgApIAMoAgQhACADQQA2AgQgAyAAIAEQLiIADQIMAQtBACECIANBADYCHCADIAE2AhQgA0H+HzYCECADQQY2AgwM0QELQfgAIQIMtwELIANBkAE2AhwgAyABNgIUIAMgADYCDEEAIQIMzwELQQAhAAJAIAMoAjgiAkUNACACKAJAIgJFDQAgAyACEQAAIQALIABFDQAgAEEVRg0BIANBADYCHCADIAE2AhQgA0GCDzYCECADQSA2AgxBACECDM4BC0H3ACECDLQBCyADQY8BNgIcIAMgATYCFCADQewbNgIQIANBFTYCDEEAIQIMzAELIAEgBEYEQEGPASECDMwBCwJAIAEtAABBIEYEQCABQQFqIQEMAQsgA0EANgIcIAMgATYCFCADQZsfNgIQIANBBjYCDEEAIQIMzAELQQIhAgyyAQsDQCABLQAAQSBHDQIgBCABQQFqIgFHDQALQY4BIQIMygELIAEgBEYEQEGNASECDMoBCwJAIAEtAABBCWsOBEoAAEoAC0H1ACECDLABCyADLQApQQVGBEBB9gAhAgywAQtB9AAhAgyvAQsgASAERgRAQYwBIQIMyAELIANBEDYCCCADIAE2AgQMCgsgASAERgRAQYsBIQIMxwELAkAgAS0AAEEJaw4ERwAARwALQfMAIQIMrQELIAEgBEcEQCADQRA2AgggAyABNgIEQfEAIQIMrQELQYoBIQIMxQELAkAgASAERwRAA0AgAS0AAEGg0ABqLQAAIgBBA0cEQAJAIABBAWsOAkkABAtB8AAhAgyvAQsgBCABQQFqIgFHDQALQYgBIQIMxgELQYgBIQIMxQELIANBADYCHCADIAE2AhQgA0HbIDYCECADQQc2AgxBACECDMQBCyABIARGBEBBiQEhAgzEAQsCQAJAAkAgAS0AAEGg0gBqLQAAQQFrDgNGAgABC0HyACECDKwBCyADQQA2AhwgAyABNgIUIANBtBI2AhAgA0EHNgIMQQAhAgzEAQtB6gAhAgyqAQsgASAERwRAIAFBAWohAUHvACECDKoBC0GHASECDMIBCyAEIAEiAEYEQEGGASECDMIBCyAALQAAIgFBL0YEQCAAQQFqIQFB7gAhAgypAQsgAUEJayICQRdLDQEgACEBQQEgAnRBm4CABHENQQwBCyAEIAEiAEYEQEGFASECDMEBCyAALQAAQS9HDQAgAEEBaiEBDAMLQQAhAiADQQA2AhwgAyAANgIUIANB2yA2AhAgA0EHNgIMDL8BCwJAAkACQAJAAkADQCABLQAAQaDOAGotAAAiAEEFRwRAAkACQCAAQQFrDghHBQYHCAAEAQgLQesAIQIMrQELIAFBAWohAUHtACECDKwBCyAEIAFBAWoiAUcNAAtBhAEhAgzDAQsgAUEBagwUCyADKAIEIQAgA0EANgIEIAMgACABECwiAEUNHiADQdsANgIcIAMgATYCFCADIAA2AgxBACECDMEBCyADKAIEIQAgA0EANgIEIAMgACABECwiAEUNHiADQd0ANgIcIAMgATYCFCADIAA2AgxBACECDMABCyADKAIEIQAgA0EANgIEIAMgACABECwiAEUNHiADQfoANgIcIAMgATYCFCADIAA2AgxBACECDL8BCyADQQA2AhwgAyABNgIUIANB+Q82AhAgA0EHNgIMQQAhAgy+AQsgASAERgRAQYMBIQIMvgELAkAgAS0AAEGgzgBqLQAAQQFrDgg+BAUGAAgCAwcLIAFBAWohAQtBAyECDKMBCyABQQFqDA0LQQAhAiADQQA2AhwgA0HREjYCECADQQc2AgwgAyABQQFqNgIUDLoBCyADKAIEIQAgA0EANgIEIAMgACABECwiAEUNFiADQdsANgIcIAMgATYCFCADIAA2AgxBACECDLkBCyADKAIEIQAgA0EANgIEIAMgACABECwiAEUNFiADQd0ANgIcIAMgATYCFCADIAA2AgxBACECDLgBCyADKAIEIQAgA0EANgIEIAMgACABECwiAEUNFiADQfoANgIcIAMgATYCFCADIAA2AgxBACECDLcBCyADQQA2AhwgAyABNgIUIANB+Q82AhAgA0EHNgIMQQAhAgy2AQtB7AAhAgycAQsgASAERgRAQYIBIQIMtQELIAFBAWoMAgsgASAERgRAQYEBIQIMtAELIAFBAWoMAQsgASAERg0BIAFBAWoLIQFBBCECDJgBC0GAASECDLABCwNAIAEtAABBoMwAai0AACIAQQJHBEAgAEEBRwRAQekAIQIMmQELDDELIAQgAUEBaiIBRw0AC0H/ACECDK8BCyABIARGBEBB/gAhAgyvAQsCQCABLQAAQQlrDjcvAwYvBAYGBgYGBgYGBgYGBgYGBgYGBgUGBgIGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYABgsgAUEBagshAUEFIQIMlAELIAFBAWoMBgsgAygCBCEAIANBADYCBCADIAAgARAsIgBFDQggA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgyrAQsgAygCBCEAIANBADYCBCADIAAgARAsIgBFDQggA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgyqAQsgAygCBCEAIANBADYCBCADIAAgARAsIgBFDQggA0H6ADYCHCADIAE2AhQgAyAANgIMQQAhAgypAQsgA0EANgIcIAMgATYCFCADQY0UNgIQIANBBzYCDEEAIQIMqAELAkACQAJAAkADQCABLQAAQaDKAGotAAAiAEEFRwRAAkAgAEEBaw4GLgMEBQYABgtB6AAhAgyUAQsgBCABQQFqIgFHDQALQf0AIQIMqwELIAMoAgQhACADQQA2AgQgAyAAIAEQLCIARQ0HIANB2wA2AhwgAyABNgIUIAMgADYCDEEAIQIMqgELIAMoAgQhACADQQA2AgQgAyAAIAEQLCIARQ0HIANB3QA2AhwgAyABNgIUIAMgADYCDEEAIQIMqQELIAMoAgQhACADQQA2AgQgAyAAIAEQLCIARQ0HIANB+gA2AhwgAyABNgIUIAMgADYCDEEAIQIMqAELIANBADYCHCADIAE2AhQgA0HkCDYCECADQQc2AgxBACECDKcBCyABIARGDQEgAUEBagshAUEGIQIMjAELQfwAIQIMpAELAkACQAJAAkADQCABLQAAQaDIAGotAAAiAEEFRwRAIABBAWsOBCkCAwQFCyAEIAFBAWoiAUcNAAtB+wAhAgynAQsgAygCBCEAIANBADYCBCADIAAgARAsIgBFDQMgA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgymAQsgAygCBCEAIANBADYCBCADIAAgARAsIgBFDQMgA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgylAQsgAygCBCEAIANBADYCBCADIAAgARAsIgBFDQMgA0H6ADYCHCADIAE2AhQgAyAANgIMQQAhAgykAQsgA0EANgIcIAMgATYCFCADQbwKNgIQIANBBzYCDEEAIQIMowELQc8AIQIMiQELQdEAIQIMiAELQecAIQIMhwELIAEgBEYEQEH6ACECDKABCwJAIAEtAABBCWsOBCAAACAACyABQQFqIQFB5gAhAgyGAQsgASAERgRAQfkAIQIMnwELAkAgAS0AAEEJaw4EHwAAHwALQQAhAAJAIAMoAjgiAkUNACACKAI4IgJFDQAgAyACEQAAIQALIABFBEBB4gEhAgyGAQsgAEEVRwRAIANBADYCHCADIAE2AhQgA0HJDTYCECADQRo2AgxBACECDJ8BCyADQfgANgIcIAMgATYCFCADQeoaNgIQIANBFTYCDEEAIQIMngELIAEgBEcEQCADQQ02AgggAyABNgIEQeQAIQIMhQELQfcAIQIMnQELIAEgBEYEQEH2ACECDJ0BCwJAAkACQCABLQAAQcgAaw4LAAELCwsLCwsLCwILCyABQQFqIQFB3QAhAgyFAQsgAUEBaiEBQeAAIQIMhAELIAFBAWohAUHjACECDIMBC0H1ACECIAEgBEYNmwEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBtdUAai0AAEcNCCAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMnAELIAMoAgQhACADQgA3AwAgAyAAIAZBAWoiARArIgAEQCADQfQANgIcIAMgATYCFCADIAA2AgxBACECDJwBC0HiACECDIIBC0EAIQACQCADKAI4IgJFDQAgAigCNCICRQ0AIAMgAhEAACEACwJAIAAEQCAAQRVGDQEgA0EANgIcIAMgATYCFCADQeoNNgIQIANBJjYCDEEAIQIMnAELQeEAIQIMggELIANB8wA2AhwgAyABNgIUIANBgBs2AhAgA0EVNgIMQQAhAgyaAQsgAy0AKSIAQSNrQQtJDQkCQCAAQQZLDQBBASAAdEHKAHFFDQAMCgtBACECIANBADYCHCADIAE2AhQgA0HtCTYCECADQQg2AgwMmQELQfIAIQIgASAERg2YASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGz1QBqLQAARw0FIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyZAQsgAygCBCEAIANCADcDACADIAAgBkEBaiIBECsiAARAIANB8QA2AhwgAyABNgIUIAMgADYCDEEAIQIMmQELQd8AIQIMfwtBACEAAkAgAygCOCICRQ0AIAIoAjQiAkUNACADIAIRAAAhAAsCQCAABEAgAEEVRg0BIANBADYCHCADIAE2AhQgA0HqDTYCECADQSY2AgxBACECDJkBC0HeACECDH8LIANB8AA2AhwgAyABNgIUIANBgBs2AhAgA0EVNgIMQQAhAgyXAQsgAy0AKUEhRg0GIANBADYCHCADIAE2AhQgA0GRCjYCECADQQg2AgxBACECDJYBC0HvACECIAEgBEYNlQEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBsNUAai0AAEcNAiAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMlgELIAMoAgQhACADQgA3AwAgAyAAIAZBAWoiARArIgBFDQIgA0HtADYCHCADIAE2AhQgAyAANgIMQQAhAgyVAQsgA0EANgIACyADKAIEIQAgA0EANgIEIAMgACABECsiAEUNgAEgA0HuADYCHCADIAE2AhQgAyAANgIMQQAhAgyTAQtB3AAhAgx5C0EAIQACQCADKAI4IgJFDQAgAigCNCICRQ0AIAMgAhEAACEACwJAIAAEQCAAQRVGDQEgA0EANgIcIAMgATYCFCADQeoNNgIQIANBJjYCDEEAIQIMkwELQdsAIQIMeQsgA0HsADYCHCADIAE2AhQgA0GAGzYCECADQRU2AgxBACECDJEBCyADLQApIgBBI0kNACAAQS5GDQAgA0EANgIcIAMgATYCFCADQckJNgIQIANBCDYCDEEAIQIMkAELQdoAIQIMdgsgASAERgRAQesAIQIMjwELAkAgAS0AAEEvRgRAIAFBAWohAQwBCyADQQA2AhwgAyABNgIUIANBsjg2AhAgA0EINgIMQQAhAgyPAQtB2QAhAgx1CyABIARHBEAgA0EONgIIIAMgATYCBEHYACECDHULQeoAIQIMjQELIAEgBEYEQEHpACECDI0BCyABLQAAQTBrIgBB/wFxQQpJBEAgAyAAOgAqIAFBAWohAUHXACECDHQLIAMoAgQhACADQQA2AgQgAyAAIAEQLyIARQ16IANB6AA2AhwgAyABNgIUIAMgADYCDEEAIQIMjAELIAEgBEYEQEHnACECDIwBCwJAIAEtAABBLkYEQCABQQFqIQEMAQsgAygCBCEAIANBADYCBCADIAAgARAvIgBFDXsgA0HmADYCHCADIAE2AhQgAyAANgIMQQAhAgyMAQtB1gAhAgxyCyABIARGBEBB5QAhAgyLAQtBACEAQQEhBUEBIQdBACECAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkAgAS0AAEEwaw4KCgkAAQIDBAUGCAsLQQIMBgtBAwwFC0EEDAQLQQUMAwtBBgwCC0EHDAELQQgLIQJBACEFQQAhBwwCC0EJIQJBASEAQQAhBUEAIQcMAQtBACEFQQEhAgsgAyACOgArIAFBAWohAQJAAkAgAy0ALkEQcQ0AAkACQAJAIAMtACoOAwEAAgQLIAdFDQMMAgsgAA0BDAILIAVFDQELIAMoAgQhACADQQA2AgQgAyAAIAEQLyIARQ0CIANB4gA2AhwgAyABNgIUIAMgADYCDEEAIQIMjQELIAMoAgQhACADQQA2AgQgAyAAIAEQLyIARQ19IANB4wA2AhwgAyABNgIUIAMgADYCDEEAIQIMjAELIAMoAgQhACADQQA2AgQgAyAAIAEQLyIARQ17IANB5AA2AhwgAyABNgIUIAMgADYCDAyLAQtB1AAhAgxxCyADLQApQSJGDYYBQdMAIQIMcAtBACEAAkAgAygCOCICRQ0AIAIoAkQiAkUNACADIAIRAAAhAAsgAEUEQEHVACECDHALIABBFUcEQCADQQA2AhwgAyABNgIUIANBpA02AhAgA0EhNgIMQQAhAgyJAQsgA0HhADYCHCADIAE2AhQgA0HQGjYCECADQRU2AgxBACECDIgBCyABIARGBEBB4AAhAgyIAQsCQAJAAkACQAJAIAEtAABBCmsOBAEEBAAECyABQQFqIQEMAQsgAUEBaiEBIANBL2otAABBAXFFDQELQdIAIQIMcAsgA0EANgIcIAMgATYCFCADQbYRNgIQIANBCTYCDEEAIQIMiAELIANBADYCHCADIAE2AhQgA0G2ETYCECADQQk2AgxBACECDIcBCyABIARGBEBB3wAhAgyHAQsgAS0AAEEKRgRAIAFBAWohAQwJCyADLQAuQcAAcQ0IIANBADYCHCADIAE2AhQgA0G2ETYCECADQQI2AgxBACECDIYBCyABIARGBEBB3QAhAgyGAQsgAS0AACICQQ1GBEAgAUEBaiEBQdAAIQIMbQsgASEAIAJBCWsOBAUBAQUBCyAEIAEiAEYEQEHcACECDIUBCyAALQAAQQpHDQAgAEEBagwCC0EAIQIgA0EANgIcIAMgADYCFCADQcotNgIQIANBBzYCDAyDAQsgASAERgRAQdsAIQIMgwELAkAgAS0AAEEJaw4EAwAAAwALIAFBAWoLIQFBzgAhAgxoCyABIARGBEBB2gAhAgyBAQsgAS0AAEEJaw4EAAEBAAELQQAhAiADQQA2AhwgA0GaEjYCECADQQc2AgwgAyABQQFqNgIUDH8LIANBgBI7ASpBACEAAkAgAygCOCICRQ0AIAIoAjgiAkUNACADIAIRAAAhAAsgAEUNACAAQRVHDQEgA0HZADYCHCADIAE2AhQgA0HqGjYCECADQRU2AgxBACECDH4LQc0AIQIMZAsgA0EANgIcIAMgATYCFCADQckNNgIQIANBGjYCDEEAIQIMfAsgASAERgRAQdkAIQIMfAsgAS0AAEEgRw09IAFBAWohASADLQAuQQFxDT0gA0EANgIcIAMgATYCFCADQcIcNgIQIANBHjYCDEEAIQIMewsgASAERgRAQdgAIQIMewsCQAJAAkACQAJAIAEtAAAiAEEKaw4EAgMDAAELIAFBAWohAUEsIQIMZQsgAEE6Rw0BIANBADYCHCADIAE2AhQgA0HnETYCECADQQo2AgxBACECDH0LIAFBAWohASADQS9qLQAAQQFxRQ1zIAMtADJBgAFxRQRAIANBMmohAiADEDVBACEAAkAgAygCOCIGRQ0AIAYoAigiBkUNACADIAYRAAAhAAsCQAJAIAAOFk1MSwEBAQEBAQEBAQEBAQEBAQEBAQABCyADQSk2AhwgAyABNgIUIANBrBk2AhAgA0EVNgIMQQAhAgx+CyADQQA2AhwgAyABNgIUIANB5Qs2AhAgA0ERNgIMQQAhAgx9C0EAIQACQCADKAI4IgJFDQAgAigCXCICRQ0AIAMgAhEAACEACyAARQ1ZIABBFUcNASADQQU2AhwgAyABNgIUIANBmxs2AhAgA0EVNgIMQQAhAgx8C0HLACECDGILQQAhAiADQQA2AhwgAyABNgIUIANBkA42AhAgA0EUNgIMDHoLIAMgAy8BMkGAAXI7ATIMOwsgASAERwRAIANBETYCCCADIAE2AgRBygAhAgxgC0HXACECDHgLIAEgBEYEQEHWACECDHgLAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAQEBAQEBAQEBAQEBAAUBAQAIDQAsgAUEBaiEBQcYAIQIMYQsgAUEBaiEBQccAIQIMYAsgAUEBaiEBQcgAIQIMXwsgAUEBaiEBQckAIQIMXgtB1QAhAiAEIAEiAEYNdiAEIAFrIAMoAgAiAWohBiAAIAFrQQVqIQcDQCABQZDIAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQhBBCABQQVGDQoaIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADHYLQdQAIQIgBCABIgBGDXUgBCABayADKAIAIgFqIQYgACABa0EPaiEHA0AgAUGAyABqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0HQQMgAUEPRg0JGiABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAx1C0HTACECIAQgASIARg10IAQgAWsgAygCACIBaiEGIAAgAWtBDmohBwNAIAFB4scAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNBiABQQ5GDQcgAUEBaiEBIAQgAEEBaiIARw0ACyADIAY2AgAMdAtB0gAhAiAEIAEiAEYNcyAEIAFrIAMoAgAiAWohBSAAIAFrQQFqIQYDQCABQeDHAGotAAAgAC0AACIHQSByIAcgB0HBAGtB/wFxQRpJG0H/AXFHDQUgAUEBRg0CIAFBAWohASAEIABBAWoiAEcNAAsgAyAFNgIADHMLIAEgBEYEQEHRACECDHMLAkACQCABLQAAIgBBIHIgACAAQcEAa0H/AXFBGkkbQf8BcUHuAGsOBwA5OTk5OQE5CyABQQFqIQFBwwAhAgxaCyABQQFqIQFBxAAhAgxZCyADQQA2AgAgBkEBaiEBQcUAIQIMWAtB0AAhAiAEIAEiAEYNcCAEIAFrIAMoAgAiAWohBiAAIAFrQQlqIQcDQCABQdbHAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQJBAiABQQlGDQQaIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADHALQc8AIQIgBCABIgBGDW8gBCABayADKAIAIgFqIQYgACABa0EFaiEHA0AgAUHQxwBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYNAiABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxvCyAAIQEgA0EANgIADDMLQQELOgAsIANBADYCACAHQQFqIQELQS0hAgxSCwJAA0AgAS0AAEHQxQBqLQAAQQFHDQEgBCABQQFqIgFHDQALQc0AIQIMawtBwgAhAgxRCyABIARGBEBBzAAhAgxqCyABLQAAQTpGBEAgAygCBCEAIANBADYCBCADIAAgARAwIgBFDTMgA0HLADYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgxqCyADQQA2AhwgAyABNgIUIANB5xE2AhAgA0EKNgIMQQAhAgxpCwJAAkAgAy0ALEECaw4CAAEnCyADQTNqLQAAQQJxRQ0mIAMtAC5BAnENJiADQQA2AhwgAyABNgIUIANBphQ2AhAgA0ELNgIMQQAhAgxpCyADLQAyQSBxRQ0lIAMtAC5BAnENJSADQQA2AhwgAyABNgIUIANBvRM2AhAgA0EPNgIMQQAhAgxoC0EAIQACQCADKAI4IgJFDQAgAigCSCICRQ0AIAMgAhEAACEACyAARQRAQcEAIQIMTwsgAEEVRwRAIANBADYCHCADIAE2AhQgA0GmDzYCECADQRw2AgxBACECDGgLIANBygA2AhwgAyABNgIUIANBhRw2AhAgA0EVNgIMQQAhAgxnCyABIARHBEAgASECA0AgBCACIgFrQRBOBEAgAUEQaiEC/Qz/////////////////////IAH9AAAAIg1BB/1sIA39DODg4ODg4ODg4ODg4ODg4OD9bv0MX19fX19fX19fX19fX19fX/0mIA39DAkJCQkJCQkJCQkJCQkJCQn9I/1Q/VL9ZEF/c2giAEEQRg0BIAAgAWohAQwYCyABIARGBEBBxAAhAgxpCyABLQAAQcDBAGotAABBAUcNFyAEIAFBAWoiAkcNAAtBxAAhAgxnC0HEACECDGYLIAEgBEcEQANAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXEiAEEJRg0AIABBIEYNAAJAAkACQAJAIABB4wBrDhMAAwMDAwMDAwEDAwMDAwMDAwMCAwsgAUEBaiEBQTYhAgxSCyABQQFqIQFBNyECDFELIAFBAWohAUE4IQIMUAsMFQsgBCABQQFqIgFHDQALQTwhAgxmC0E8IQIMZQsgASAERgRAQcgAIQIMZQsgA0ESNgIIIAMgATYCBAJAAkACQAJAAkAgAy0ALEEBaw4EFAABAgkLIAMtADJBIHENA0HgASECDE8LAkAgAy8BMiIAQQhxRQ0AIAMtAChBAUcNACADLQAuQQhxRQ0CCyADIABB9/sDcUGABHI7ATIMCwsgAyADLwEyQRByOwEyDAQLIANBADYCBCADIAEgARAxIgAEQCADQcEANgIcIAMgADYCDCADIAFBAWo2AhRBACECDGYLIAFBAWohAQxYCyADQQA2AhwgAyABNgIUIANB9BM2AhAgA0EENgIMQQAhAgxkC0HHACECIAEgBEYNYyADKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIABBwMUAai0AACABLQAAQSByRw0BIABBBkYNSiAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAxkCyADQQA2AgAMBQsCQCABIARHBEADQCABLQAAQcDDAGotAAAiAEEBRwRAIABBAkcNAyABQQFqIQEMBQsgBCABQQFqIgFHDQALQcUAIQIMZAtBxQAhAgxjCwsgA0EAOgAsDAELQQshAgxHC0E/IQIMRgsCQAJAA0AgAS0AACIAQSBHBEACQCAAQQprDgQDBQUDAAsgAEEsRg0DDAQLIAQgAUEBaiIBRw0AC0HGACECDGALIANBCDoALAwOCyADLQAoQQFHDQIgAy0ALkEIcQ0CIAMoAgQhACADQQA2AgQgAyAAIAEQMSIABEAgA0HCADYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgxfCyABQQFqIQEMUAtBOyECDEQLAkADQCABLQAAIgBBIEcgAEEJR3ENASAEIAFBAWoiAUcNAAtBwwAhAgxdCwtBPCECDEILAkACQCABIARHBEADQCABLQAAIgBBIEcEQCAAQQprDgQDBAQDBAsgBCABQQFqIgFHDQALQT8hAgxdC0E/IQIMXAsgAyADLwEyQSByOwEyDAoLIAMoAgQhACADQQA2AgQgAyAAIAEQMSIARQ1OIANBPjYCHCADIAE2AhQgAyAANgIMQQAhAgxaCwJAIAEgBEcEQANAIAEtAABBwMMAai0AACIAQQFHBEAgAEECRg0DDAwLIAQgAUEBaiIBRw0AC0E3IQIMWwtBNyECDFoLIAFBAWohAQwEC0E7IQIgBCABIgBGDVggBCABayADKAIAIgFqIQYgACABa0EFaiEHAkADQCABQZDIAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAUEFRgRAQQchAQw/CyABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxZCyADQQA2AgAgACEBDAULQTohAiAEIAEiAEYNVyAEIAFrIAMoAgAiAWohBiAAIAFrQQhqIQcCQANAIAFBtMEAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNASABQQhGBEBBBSEBDD4LIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADFgLIANBADYCACAAIQEMBAtBOSECIAQgASIARg1WIAQgAWsgAygCACIBaiEGIAAgAWtBA2ohBwJAA0AgAUGwwQBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBA0YEQEEGIQEMPQsgAUEBaiEBIAQgAEEBaiIARw0ACyADIAY2AgAMVwsgA0EANgIAIAAhAQwDCwJAA0AgAS0AACIAQSBHBEAgAEEKaw4EBwQEBwILIAQgAUEBaiIBRw0AC0E4IQIMVgsgAEEsRw0BIAFBAWohAEEBIQECQAJAAkACQAJAIAMtACxBBWsOBAMBAgQACyAAIQEMBAtBAiEBDAELQQQhAQsgA0EBOgAsIAMgAy8BMiABcjsBMiAAIQEMAQsgAyADLwEyQQhyOwEyIAAhAQtBPiECDDsLIANBADoALAtBOSECDDkLIAEgBEYEQEE2IQIMUgsCQAJAAkACQAJAIAEtAABBCmsOBAACAgECCyADKAIEIQAgA0EANgIEIAMgACABEDEiAEUNAiADQTM2AhwgAyABNgIUIAMgADYCDEEAIQIMVQsgAygCBCEAIANBADYCBCADIAAgARAxIgBFBEAgAUEBaiEBDAYLIANBMjYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgxUCyADLQAuQQFxBEBB3wEhAgw7CyADKAIEIQAgA0EANgIEIAMgACABEDEiAA0BDEkLQTQhAgw5CyADQTU2AhwgAyABNgIUIAMgADYCDEEAIQIMUQtBNSECDDcLIANBL2otAABBAXENACADQQA2AhwgAyABNgIUIANB6xY2AhAgA0EZNgIMQQAhAgxPC0EzIQIMNQsgASAERgRAQTIhAgxOCwJAIAEtAABBCkYEQCABQQFqIQEMAQsgA0EANgIcIAMgATYCFCADQZIXNgIQIANBAzYCDEEAIQIMTgtBMiECDDQLIAEgBEYEQEExIQIMTQsCQCABLQAAIgBBCUYNACAAQSBGDQBBASECAkAgAy0ALEEFaw4EBgQFAA0LIAMgAy8BMkEIcjsBMgwMCyADLQAuQQFxRQ0BIAMtACxBCEcNACADQQA6ACwLQT0hAgwyCyADQQA2AhwgAyABNgIUIANBwhY2AhAgA0EKNgIMQQAhAgxKC0ECIQIMAQtBBCECCyADQQE6ACwgAyADLwEyIAJyOwEyDAYLIAEgBEYEQEEwIQIMRwsgAS0AAEEKRgRAIAFBAWohAQwBCyADLQAuQQFxDQAgA0EANgIcIAMgATYCFCADQdwoNgIQIANBAjYCDEEAIQIMRgtBMCECDCwLIAFBAWohAUExIQIMKwsgASAERgRAQS8hAgxECyABLQAAIgBBCUcgAEEgR3FFBEAgAUEBaiEBIAMtAC5BAXENASADQQA2AhwgAyABNgIUIANBlxA2AhAgA0EKNgIMQQAhAgxEC0EBIQICQAJAAkACQAJAAkAgAy0ALEECaw4HBQQEAwECAAQLIAMgAy8BMkEIcjsBMgwDC0ECIQIMAQtBBCECCyADQQE6ACwgAyADLwEyIAJyOwEyC0EvIQIMKwsgA0EANgIcIAMgATYCFCADQYQTNgIQIANBCzYCDEEAIQIMQwtB4QEhAgwpCyABIARGBEBBLiECDEILIANBADYCBCADQRI2AgggAyABIAEQMSIADQELQS4hAgwnCyADQS02AhwgAyABNgIUIAMgADYCDEEAIQIMPwtBACEAAkAgAygCOCICRQ0AIAIoAkwiAkUNACADIAIRAAAhAAsgAEUNACAAQRVHDQEgA0HYADYCHCADIAE2AhQgA0GzGzYCECADQRU2AgxBACECDD4LQcwAIQIMJAsgA0EANgIcIAMgATYCFCADQbMONgIQIANBHTYCDEEAIQIMPAsgASAERgRAQc4AIQIMPAsgAS0AACIAQSBGDQIgAEE6Rg0BCyADQQA6ACxBCSECDCELIAMoAgQhACADQQA2AgQgAyAAIAEQMCIADQEMAgsgAy0ALkEBcQRAQd4BIQIMIAsgAygCBCEAIANBADYCBCADIAAgARAwIgBFDQIgA0EqNgIcIAMgADYCDCADIAFBAWo2AhRBACECDDgLIANBywA2AhwgAyAANgIMIAMgAUEBajYCFEEAIQIMNwsgAUEBaiEBQcAAIQIMHQsgAUEBaiEBDCwLIAEgBEYEQEErIQIMNQsCQCABLQAAQQpGBEAgAUEBaiEBDAELIAMtAC5BwABxRQ0GCyADLQAyQYABcQRAQQAhAAJAIAMoAjgiAkUNACACKAJcIgJFDQAgAyACEQAAIQALIABFDRIgAEEVRgRAIANBBTYCHCADIAE2AhQgA0GbGzYCECADQRU2AgxBACECDDYLIANBADYCHCADIAE2AhQgA0GQDjYCECADQRQ2AgxBACECDDULIANBMmohAiADEDVBACEAAkAgAygCOCIGRQ0AIAYoAigiBkUNACADIAYRAAAhAAsgAA4WAgEABAQEBAQEBAQEBAQEBAQEBAQEAwQLIANBAToAMAsgAiACLwEAQcAAcjsBAAtBKyECDBgLIANBKTYCHCADIAE2AhQgA0GsGTYCECADQRU2AgxBACECDDALIANBADYCHCADIAE2AhQgA0HlCzYCECADQRE2AgxBACECDC8LIANBADYCHCADIAE2AhQgA0GlCzYCECADQQI2AgxBACECDC4LQQEhByADLwEyIgVBCHFFBEAgAykDIEIAUiEHCwJAIAMtADAEQEEBIQAgAy0AKUEFRg0BIAVBwABxRSAHcUUNAQsCQCADLQAoIgJBAkYEQEEBIQAgAy8BNCIGQeUARg0CQQAhACAFQcAAcQ0CIAZB5ABGDQIgBkHmAGtBAkkNAiAGQcwBRg0CIAZBsAJGDQIMAQtBACEAIAVBwABxDQELQQIhACAFQQhxDQAgBUGABHEEQAJAIAJBAUcNACADLQAuQQpxDQBBBSEADAILQQQhAAwBCyAFQSBxRQRAIAMQNkEAR0ECdCEADAELQQBBAyADKQMgUBshAAsgAEEBaw4FAgAHAQMEC0ERIQIMEwsgA0EBOgAxDCkLQQAhAgJAIAMoAjgiAEUNACAAKAIwIgBFDQAgAyAAEQAAIQILIAJFDSYgAkEVRgRAIANBAzYCHCADIAE2AhQgA0HSGzYCECADQRU2AgxBACECDCsLQQAhAiADQQA2AhwgAyABNgIUIANB3Q42AhAgA0ESNgIMDCoLIANBADYCHCADIAE2AhQgA0H5IDYCECADQQ82AgxBACECDCkLQQAhAAJAIAMoAjgiAkUNACACKAIwIgJFDQAgAyACEQAAIQALIAANAQtBDiECDA4LIABBFUYEQCADQQI2AhwgAyABNgIUIANB0hs2AhAgA0EVNgIMQQAhAgwnCyADQQA2AhwgAyABNgIUIANB3Q42AhAgA0ESNgIMQQAhAgwmC0EqIQIMDAsgASAERwRAIANBCTYCCCADIAE2AgRBKSECDAwLQSYhAgwkCyADIAMpAyAiDCAEIAFrrSIKfSILQgAgCyAMWBs3AyAgCiAMVARAQSUhAgwkCyADKAIEIQAgA0EANgIEIAMgACABIAynaiIBEDIiAEUNACADQQU2AhwgAyABNgIUIAMgADYCDEEAIQIMIwtBDyECDAkLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQTBrDjcXFgABAgMEBQYHFBQUFBQUFAgJCgsMDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUDg8QERITFAtCAiEKDBYLQgMhCgwVC0IEIQoMFAtCBSEKDBMLQgYhCgwSC0IHIQoMEQtCCCEKDBALQgkhCgwPC0IKIQoMDgtCCyEKDA0LQgwhCgwMC0INIQoMCwtCDiEKDAoLQg8hCgwJC0IKIQoMCAtCCyEKDAcLQgwhCgwGC0INIQoMBQtCDiEKDAQLQg8hCgwDCyADQQA2AhwgAyABNgIUIANBnxU2AhAgA0EMNgIMQQAhAgwhCyABIARGBEBBIiECDCELQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43FRQAAQIDBAUGBxYWFhYWFhYICQoLDA0WFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFg4PEBESExYLQgIhCgwUC0IDIQoMEwtCBCEKDBILQgUhCgwRC0IGIQoMEAtCByEKDA8LQgghCgwOC0IJIQoMDQtCCiEKDAwLQgshCgwLC0IMIQoMCgtCDSEKDAkLQg4hCgwIC0IPIQoMBwtCCiEKDAYLQgshCgwFC0IMIQoMBAtCDSEKDAMLQg4hCgwCC0IPIQoMAQtCASEKCyABQQFqIQEgAykDICILQv//////////D1gEQCADIAtCBIYgCoQ3AyAMAgsgA0EANgIcIAMgATYCFCADQbUJNgIQIANBDDYCDEEAIQIMHgtBJyECDAQLQSghAgwDCyADIAE6ACwgA0EANgIAIAdBAWohAUEMIQIMAgsgA0EANgIAIAZBAWohAUEKIQIMAQsgAUEBaiEBQQghAgwACwALQQAhAiADQQA2AhwgAyABNgIUIANBsjg2AhAgA0EINgIMDBcLQQAhAiADQQA2AhwgAyABNgIUIANBgxE2AhAgA0EJNgIMDBYLQQAhAiADQQA2AhwgAyABNgIUIANB3wo2AhAgA0EJNgIMDBULQQAhAiADQQA2AhwgAyABNgIUIANB7RA2AhAgA0EJNgIMDBQLQQAhAiADQQA2AhwgAyABNgIUIANB0hE2AhAgA0EJNgIMDBMLQQAhAiADQQA2AhwgAyABNgIUIANBsjg2AhAgA0EINgIMDBILQQAhAiADQQA2AhwgAyABNgIUIANBgxE2AhAgA0EJNgIMDBELQQAhAiADQQA2AhwgAyABNgIUIANB3wo2AhAgA0EJNgIMDBALQQAhAiADQQA2AhwgAyABNgIUIANB7RA2AhAgA0EJNgIMDA8LQQAhAiADQQA2AhwgAyABNgIUIANB0hE2AhAgA0EJNgIMDA4LQQAhAiADQQA2AhwgAyABNgIUIANBuRc2AhAgA0EPNgIMDA0LQQAhAiADQQA2AhwgAyABNgIUIANBuRc2AhAgA0EPNgIMDAwLQQAhAiADQQA2AhwgAyABNgIUIANBmRM2AhAgA0ELNgIMDAsLQQAhAiADQQA2AhwgAyABNgIUIANBnQk2AhAgA0ELNgIMDAoLQQAhAiADQQA2AhwgAyABNgIUIANBlxA2AhAgA0EKNgIMDAkLQQAhAiADQQA2AhwgAyABNgIUIANBsRA2AhAgA0EKNgIMDAgLQQAhAiADQQA2AhwgAyABNgIUIANBux02AhAgA0ECNgIMDAcLQQAhAiADQQA2AhwgAyABNgIUIANBlhY2AhAgA0ECNgIMDAYLQQAhAiADQQA2AhwgAyABNgIUIANB+Rg2AhAgA0ECNgIMDAULQQAhAiADQQA2AhwgAyABNgIUIANBxBg2AhAgA0ECNgIMDAQLIANBAjYCHCADIAE2AhQgA0GpHjYCECADQRY2AgxBACECDAMLQd4AIQIgASAERg0CIAlBCGohByADKAIAIQUCQAJAIAEgBEcEQCAFQZbIAGohCCAEIAVqIAFrIQYgBUF/c0EKaiIFIAFqIQADQCABLQAAIAgtAABHBEBBAiEIDAMLIAVFBEBBACEIIAAhAQwDCyAFQQFrIQUgCEEBaiEIIAQgAUEBaiIBRw0ACyAGIQUgBCEBCyAHQQE2AgAgAyAFNgIADAELIANBADYCACAHIAg2AgALIAcgATYCBCAJKAIMIQACQAJAIAkoAghBAWsOAgQBAAsgA0EANgIcIANBwh42AhAgA0EXNgIMIAMgAEEBajYCFEEAIQIMAwsgA0EANgIcIAMgADYCFCADQdceNgIQIANBCTYCDEEAIQIMAgsgASAERgRAQSghAgwCCyADQQk2AgggAyABNgIEQSchAgwBCyABIARGBEBBASECDAELA0ACQAJAAkAgAS0AAEEKaw4EAAEBAAELIAFBAWohAQwBCyABQQFqIQEgAy0ALkEgcQ0AQQAhAiADQQA2AhwgAyABNgIUIANBoSE2AhAgA0EFNgIMDAILQQEhAiABIARHDQALCyAJQRBqJAAgAkUEQCADKAIMIQAMAQsgAyACNgIcQQAhACADKAIEIgFFDQAgAyABIAQgAygCCBEBACIBRQ0AIAMgBDYCFCADIAE2AgwgASEACyAAC74CAQJ/IABBADoAACAAQeQAaiIBQQFrQQA6AAAgAEEAOgACIABBADoAASABQQNrQQA6AAAgAUECa0EAOgAAIABBADoAAyABQQRrQQA6AABBACAAa0EDcSIBIABqIgBBADYCAEHkACABa0F8cSICIABqIgFBBGtBADYCAAJAIAJBCUkNACAAQQA2AgggAEEANgIEIAFBCGtBADYCACABQQxrQQA2AgAgAkEZSQ0AIABBADYCGCAAQQA2AhQgAEEANgIQIABBADYCDCABQRBrQQA2AgAgAUEUa0EANgIAIAFBGGtBADYCACABQRxrQQA2AgAgAiAAQQRxQRhyIgJrIgFBIEkNACAAIAJqIQADQCAAQgA3AxggAEIANwMQIABCADcDCCAAQgA3AwAgAEEgaiEAIAFBIGsiAUEfSw0ACwsLVgEBfwJAIAAoAgwNAAJAAkACQAJAIAAtADEOAwEAAwILIAAoAjgiAUUNACABKAIwIgFFDQAgACABEQAAIgENAwtBAA8LAAsgAEHKGTYCEEEOIQELIAELGgAgACgCDEUEQCAAQd4fNgIQIABBFTYCDAsLFAAgACgCDEEVRgRAIABBADYCDAsLFAAgACgCDEEWRgRAIABBADYCDAsLBwAgACgCDAsHACAAKAIQCwkAIAAgATYCEAsHACAAKAIUCysAAkAgAEEnTw0AQv//////CSAArYhCAYNQDQAgAEECdEHQOGooAgAPCwALFwAgAEEvTwRAAAsgAEECdEHsOWooAgALvwkBAX9B9C0hAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HqLA8LQZgmDwtB7TEPC0GgNw8LQckpDwtBtCkPC0GWLQ8LQesrDwtBojUPC0HbNA8LQeApDwtB4yQPC0HVJA8LQe4kDwtB5iUPC0HKNA8LQdA3DwtBqjUPC0H1LA8LQfYmDwtBgiIPC0HyMw8LQb4oDwtB5zcPC0HNIQ8LQcAhDwtBuCUPC0HLJQ8LQZYkDwtBjzQPC0HNNQ8LQd0qDwtB7jMPC0GcNA8LQZ4xDwtB9DUPC0HlIg8LQa8lDwtBmTEPC0GyNg8LQfk2DwtBxDIPC0HdLA8LQYIxDwtBwTEPC0GNNw8LQckkDwtB7DYPC0HnKg8LQcgjDwtB4iEPC0HJNw8LQaUiDwtBlCIPC0HbNg8LQd41DwtBhiYPC0G8Kw8LQYsyDwtBoCMPC0H2MA8LQYAsDwtBiSsPC0GkJg8LQfIjDwtBgSgPC0GrMg8LQesnDwtBwjYPC0GiJA8LQc8qDwtB3CMPC0GHJw8LQeQ0DwtBtyIPC0GtMQ8LQdUiDwtBrzQPC0HeJg8LQdYyDwtB9DQPC0GBOA8LQfQ3DwtBkjYPC0GdJw8LQYIpDwtBjSMPC0HXMQ8LQb01DwtBtDcPC0HYMA8LQbYnDwtBmjgPC0GnKg8LQcQnDwtBriMPC0H1Ig8LAAtByiYhAQsgAQsXACAAIAAvAS5B/v8DcSABQQBHcjsBLgsaACAAIAAvAS5B/f8DcSABQQBHQQF0cjsBLgsaACAAIAAvAS5B+/8DcSABQQBHQQJ0cjsBLgsaACAAIAAvAS5B9/8DcSABQQBHQQN0cjsBLgsaACAAIAAvAS5B7/8DcSABQQBHQQR0cjsBLgsaACAAIAAvAS5B3/8DcSABQQBHQQV0cjsBLgsaACAAIAAvAS5Bv/8DcSABQQBHQQZ0cjsBLgsaACAAIAAvAS5B//4DcSABQQBHQQd0cjsBLgsaACAAIAAvAS5B//0DcSABQQBHQQh0cjsBLgsaACAAIAAvAS5B//sDcSABQQBHQQl0cjsBLgs+AQJ/AkAgACgCOCIDRQ0AIAMoAgQiA0UNACAAIAEgAiABayADEQEAIgRBf0cNACAAQeESNgIQQRghBAsgBAs+AQJ/AkAgACgCOCIDRQ0AIAMoAggiA0UNACAAIAEgAiABayADEQEAIgRBf0cNACAAQfwRNgIQQRghBAsgBAs+AQJ/AkAgACgCOCIDRQ0AIAMoAgwiA0UNACAAIAEgAiABayADEQEAIgRBf0cNACAAQewKNgIQQRghBAsgBAs+AQJ/AkAgACgCOCIDRQ0AIAMoAhAiA0UNACAAIAEgAiABayADEQEAIgRBf0cNACAAQfoeNgIQQRghBAsgBAs+AQJ/AkAgACgCOCIDRQ0AIAMoAhQiA0UNACAAIAEgAiABayADEQEAIgRBf0cNACAAQcsQNgIQQRghBAsgBAs+AQJ/AkAgACgCOCIDRQ0AIAMoAhgiA0UNACAAIAEgAiABayADEQEAIgRBf0cNACAAQbcfNgIQQRghBAsgBAs+AQJ/AkAgACgCOCIDRQ0AIAMoAhwiA0UNACAAIAEgAiABayADEQEAIgRBf0cNACAAQb8VNgIQQRghBAsgBAs+AQJ/AkAgACgCOCIDRQ0AIAMoAiwiA0UNACAAIAEgAiABayADEQEAIgRBf0cNACAAQf4INgIQQRghBAsgBAs+AQJ/AkAgACgCOCIDRQ0AIAMoAiAiA0UNACAAIAEgAiABayADEQEAIgRBf0cNACAAQYwdNgIQQRghBAsgBAs+AQJ/AkAgACgCOCIDRQ0AIAMoAiQiA0UNACAAIAEgAiABayADEQEAIgRBf0cNACAAQeYVNgIQQRghBAsgBAs4ACAAAn8gAC8BMkEUcUEURgRAQQEgAC0AKEEBRg0BGiAALwE0QeUARgwBCyAALQApQQVGCzoAMAtZAQJ/AkAgAC0AKEEBRg0AIAAvATQiAUHkAGtB5ABJDQAgAUHMAUYNACABQbACRg0AIAAvATIiAEHAAHENAEEBIQIgAEGIBHFBgARGDQAgAEEocUUhAgsgAguMAQECfwJAAkACQCAALQAqRQ0AIAAtACtFDQAgAC8BMiIBQQJxRQ0BDAILIAAvATIiAUEBcUUNAQtBASECIAAtAChBAUYNACAALwE0IgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNACABQcAAcQ0AQQAhAiABQYgEcUGABEYNACABQShxQQBHIQILIAILcwAgAEEQav0MAAAAAAAAAAAAAAAAAAAAAP0LAwAgAP0MAAAAAAAAAAAAAAAAAAAAAP0LAwAgAEEwav0MAAAAAAAAAAAAAAAAAAAAAP0LAwAgAEEgav0MAAAAAAAAAAAAAAAAAAAAAP0LAwAgAEH9ATYCHAsGACAAEDoLmi0BC38jAEEQayIKJABB3NUAKAIAIglFBEBBnNkAKAIAIgVFBEBBqNkAQn83AgBBoNkAQoCAhICAgMAANwIAQZzZACAKQQhqQXBxQdiq1aoFcyIFNgIAQbDZAEEANgIAQYDZAEEANgIAC0GE2QBBwNkENgIAQdTVAEHA2QQ2AgBB6NUAIAU2AgBB5NUAQX82AgBBiNkAQcCmAzYCAANAIAFBgNYAaiABQfTVAGoiAjYCACACIAFB7NUAaiIDNgIAIAFB+NUAaiADNgIAIAFBiNYAaiABQfzVAGoiAzYCACADIAI2AgAgAUGQ1gBqIAFBhNYAaiICNgIAIAIgAzYCACABQYzWAGogAjYCACABQSBqIgFBgAJHDQALQczZBEGBpgM2AgBB4NUAQazZACgCADYCAEHQ1QBBgKYDNgIAQdzVAEHI2QQ2AgBBzP8HQTg2AgBByNkEIQkLAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAEHsAU0EQEHE1QAoAgAiBkEQIABBE2pBcHEgAEELSRsiBEEDdiIAdiIBQQNxBEACQCABQQFxIAByQQFzIgJBA3QiAEHs1QBqIgEgAEH01QBqKAIAIgAoAggiA0YEQEHE1QAgBkF+IAJ3cTYCAAwBCyABIAM2AgggAyABNgIMCyAAQQhqIQEgACACQQN0IgJBA3I2AgQgACACaiIAIAAoAgRBAXI2AgQMEQtBzNUAKAIAIgggBE8NASABBEACQEECIAB0IgJBACACa3IgASAAdHFoIgBBA3QiAkHs1QBqIgEgAkH01QBqKAIAIgIoAggiA0YEQEHE1QAgBkF+IAB3cSIGNgIADAELIAEgAzYCCCADIAE2AgwLIAIgBEEDcjYCBCAAQQN0IgAgBGshBSAAIAJqIAU2AgAgAiAEaiIEIAVBAXI2AgQgCARAIAhBeHFB7NUAaiEAQdjVACgCACEDAn9BASAIQQN2dCIBIAZxRQRAQcTVACABIAZyNgIAIAAMAQsgACgCCAsiASADNgIMIAAgAzYCCCADIAA2AgwgAyABNgIICyACQQhqIQFB2NUAIAQ2AgBBzNUAIAU2AgAMEQtByNUAKAIAIgtFDQEgC2hBAnRB9NcAaigCACIAKAIEQXhxIARrIQUgACECA0ACQCACKAIQIgFFBEAgAkEUaigCACIBRQ0BCyABKAIEQXhxIARrIgMgBUkhAiADIAUgAhshBSABIAAgAhshACABIQIMAQsLIAAoAhghCSAAKAIMIgMgAEcEQEHU1QAoAgAaIAMgACgCCCIBNgIIIAEgAzYCDAwQCyAAQRRqIgIoAgAiAUUEQCAAKAIQIgFFDQMgAEEQaiECCwNAIAIhByABIgNBFGoiAigCACIBDQAgA0EQaiECIAMoAhAiAQ0ACyAHQQA2AgAMDwtBfyEEIABBv39LDQAgAEETaiIBQXBxIQRByNUAKAIAIghFDQBBACAEayEFAkACQAJAAn9BACAEQYACSQ0AGkEfIARB////B0sNABogBEEmIAFBCHZnIgBrdkEBcSAAQQF0a0E+agsiBkECdEH01wBqKAIAIgJFBEBBACEBQQAhAwwBC0EAIQEgBEEZIAZBAXZrQQAgBkEfRxt0IQBBACEDA0ACQCACKAIEQXhxIARrIgcgBU8NACACIQMgByIFDQBBACEFIAIhAQwDCyABIAJBFGooAgAiByAHIAIgAEEddkEEcWpBEGooAgAiAkYbIAEgBxshASAAQQF0IQAgAg0ACwsgASADckUEQEEAIQNBAiAGdCIAQQAgAGtyIAhxIgBFDQMgAGhBAnRB9NcAaigCACEBCyABRQ0BCwNAIAEoAgRBeHEgBGsiAiAFSSEAIAIgBSAAGyEFIAEgAyAAGyEDIAEoAhAiAAR/IAAFIAFBFGooAgALIgENAAsLIANFDQAgBUHM1QAoAgAgBGtPDQAgAygCGCEHIAMgAygCDCIARwRAQdTVACgCABogACADKAIIIgE2AgggASAANgIMDA4LIANBFGoiAigCACIBRQRAIAMoAhAiAUUNAyADQRBqIQILA0AgAiEGIAEiAEEUaiICKAIAIgENACAAQRBqIQIgACgCECIBDQALIAZBADYCAAwNC0HM1QAoAgAiAyAETwRAQdjVACgCACEBAkAgAyAEayICQRBPBEAgASAEaiIAIAJBAXI2AgQgASADaiACNgIAIAEgBEEDcjYCBAwBCyABIANBA3I2AgQgASADaiIAIAAoAgRBAXI2AgRBACEAQQAhAgtBzNUAIAI2AgBB2NUAIAA2AgAgAUEIaiEBDA8LQdDVACgCACIDIARLBEAgBCAJaiIAIAMgBGsiAUEBcjYCBEHc1QAgADYCAEHQ1QAgATYCACAJIARBA3I2AgQgCUEIaiEBDA8LQQAhASAEAn9BnNkAKAIABEBBpNkAKAIADAELQajZAEJ/NwIAQaDZAEKAgISAgIDAADcCAEGc2QAgCkEMakFwcUHYqtWqBXM2AgBBsNkAQQA2AgBBgNkAQQA2AgBBgIAECyIAIARBxwBqIgVqIgZBACAAayIHcSICTwRAQbTZAEEwNgIADA8LAkBB/NgAKAIAIgFFDQBB9NgAKAIAIgggAmohACAAIAFNIAAgCEtxDQBBACEBQbTZAEEwNgIADA8LQYDZAC0AAEEEcQ0EAkACQCAJBEBBhNkAIQEDQCABKAIAIgAgCU0EQCAAIAEoAgRqIAlLDQMLIAEoAggiAQ0ACwtBABA7IgBBf0YNBSACIQZBoNkAKAIAIgFBAWsiAyAAcQRAIAIgAGsgACADakEAIAFrcWohBgsgBCAGTw0FIAZB/v///wdLDQVB/NgAKAIAIgMEQEH02AAoAgAiByAGaiEBIAEgB00NBiABIANLDQYLIAYQOyIBIABHDQEMBwsgBiADayAHcSIGQf7///8HSw0EIAYQOyEAIAAgASgCACABKAIEakYNAyAAIQELAkAgBiAEQcgAak8NACABQX9GDQBBpNkAKAIAIgAgBSAGa2pBACAAa3EiAEH+////B0sEQCABIQAMBwsgABA7QX9HBEAgACAGaiEGIAEhAAwHC0EAIAZrEDsaDAQLIAEiAEF/Rw0FDAMLQQAhAwwMC0EAIQAMCgsgAEF/Rw0CC0GA2QBBgNkAKAIAQQRyNgIACyACQf7///8HSw0BIAIQOyEAQQAQOyEBIABBf0YNASABQX9GDQEgACABTw0BIAEgAGsiBiAEQThqTQ0BC0H02ABB9NgAKAIAIAZqIgE2AgBB+NgAKAIAIAFJBEBB+NgAIAE2AgALAkACQAJAQdzVACgCACICBEBBhNkAIQEDQCAAIAEoAgAiAyABKAIEIgVqRg0CIAEoAggiAQ0ACwwCC0HU1QAoAgAiAUEARyAAIAFPcUUEQEHU1QAgADYCAAtBACEBQYjZACAGNgIAQYTZACAANgIAQeTVAEF/NgIAQejVAEGc2QAoAgA2AgBBkNkAQQA2AgADQCABQYDWAGogAUH01QBqIgI2AgAgAiABQezVAGoiAzYCACABQfjVAGogAzYCACABQYjWAGogAUH81QBqIgM2AgAgAyACNgIAIAFBkNYAaiABQYTWAGoiAjYCACACIAM2AgAgAUGM1gBqIAI2AgAgAUEgaiIBQYACRw0AC0F4IABrQQ9xIgEgAGoiAiAGQThrIgMgAWsiAUEBcjYCBEHg1QBBrNkAKAIANgIAQdDVACABNgIAQdzVACACNgIAIAAgA2pBODYCBAwCCyAAIAJNDQAgAiADSQ0AIAEoAgxBCHENAEF4IAJrQQ9xIgAgAmoiA0HQ1QAoAgAgBmoiByAAayIAQQFyNgIEIAEgBSAGajYCBEHg1QBBrNkAKAIANgIAQdDVACAANgIAQdzVACADNgIAIAIgB2pBODYCBAwBCyAAQdTVACgCAEkEQEHU1QAgADYCAAsgACAGaiEDQYTZACEBAkACQAJAA0AgAyABKAIARwRAIAEoAggiAQ0BDAILCyABLQAMQQhxRQ0BC0GE2QAhAQNAIAEoAgAiAyACTQRAIAMgASgCBGoiBSACSw0DCyABKAIIIQEMAAsACyABIAA2AgAgASABKAIEIAZqNgIEIABBeCAAa0EPcWoiCSAEQQNyNgIEIANBeCADa0EPcWoiBiAEIAlqIgRrIQEgAiAGRgRAQdzVACAENgIAQdDVAEHQ1QAoAgAgAWoiADYCACAEIABBAXI2AgQMCAtB2NUAKAIAIAZGBEBB2NUAIAQ2AgBBzNUAQczVACgCACABaiIANgIAIAQgAEEBcjYCBCAAIARqIAA2AgAMCAsgBigCBCIFQQNxQQFHDQYgBUF4cSEIIAVB/wFNBEAgBUEDdiEDIAYoAggiACAGKAIMIgJGBEBBxNUAQcTVACgCAEF+IAN3cTYCAAwHCyACIAA2AgggACACNgIMDAYLIAYoAhghByAGIAYoAgwiAEcEQCAAIAYoAggiAjYCCCACIAA2AgwMBQsgBkEUaiICKAIAIgVFBEAgBigCECIFRQ0EIAZBEGohAgsDQCACIQMgBSIAQRRqIgIoAgAiBQ0AIABBEGohAiAAKAIQIgUNAAsgA0EANgIADAQLQXggAGtBD3EiASAAaiIHIAZBOGsiAyABayIBQQFyNgIEIAAgA2pBODYCBCACIAVBNyAFa0EPcWpBP2siAyADIAJBEGpJGyIDQSM2AgRB4NUAQazZACgCADYCAEHQ1QAgATYCAEHc1QAgBzYCACADQRBqQYzZACkCADcCACADQYTZACkCADcCCEGM2QAgA0EIajYCAEGI2QAgBjYCAEGE2QAgADYCAEGQ2QBBADYCACADQSRqIQEDQCABQQc2AgAgBSABQQRqIgFLDQALIAIgA0YNACADIAMoAgRBfnE2AgQgAyADIAJrIgU2AgAgAiAFQQFyNgIEIAVB/wFNBEAgBUF4cUHs1QBqIQACf0HE1QAoAgAiAUEBIAVBA3Z0IgNxRQRAQcTVACABIANyNgIAIAAMAQsgACgCCAsiASACNgIMIAAgAjYCCCACIAA2AgwgAiABNgIIDAELQR8hASAFQf///wdNBEAgBUEmIAVBCHZnIgBrdkEBcSAAQQF0a0E+aiEBCyACIAE2AhwgAkIANwIQIAFBAnRB9NcAaiEAQcjVACgCACIDQQEgAXQiBnFFBEAgACACNgIAQcjVACADIAZyNgIAIAIgADYCGCACIAI2AgggAiACNgIMDAELIAVBGSABQQF2a0EAIAFBH0cbdCEBIAAoAgAhAwJAA0AgAyIAKAIEQXhxIAVGDQEgAUEddiEDIAFBAXQhASAAIANBBHFqQRBqIgYoAgAiAw0ACyAGIAI2AgAgAiAANgIYIAIgAjYCDCACIAI2AggMAQsgACgCCCIBIAI2AgwgACACNgIIIAJBADYCGCACIAA2AgwgAiABNgIIC0HQ1QAoAgAiASAETQ0AQdzVACgCACIAIARqIgIgASAEayIBQQFyNgIEQdDVACABNgIAQdzVACACNgIAIAAgBEEDcjYCBCAAQQhqIQEMCAtBACEBQbTZAEEwNgIADAcLQQAhAAsgB0UNAAJAIAYoAhwiAkECdEH01wBqIgMoAgAgBkYEQCADIAA2AgAgAA0BQcjVAEHI1QAoAgBBfiACd3E2AgAMAgsgB0EQQRQgBygCECAGRhtqIAA2AgAgAEUNAQsgACAHNgIYIAYoAhAiAgRAIAAgAjYCECACIAA2AhgLIAZBFGooAgAiAkUNACAAQRRqIAI2AgAgAiAANgIYCyABIAhqIQEgBiAIaiIGKAIEIQULIAYgBUF+cTYCBCABIARqIAE2AgAgBCABQQFyNgIEIAFB/wFNBEAgAUF4cUHs1QBqIQACf0HE1QAoAgAiAkEBIAFBA3Z0IgFxRQRAQcTVACABIAJyNgIAIAAMAQsgACgCCAsiASAENgIMIAAgBDYCCCAEIAA2AgwgBCABNgIIDAELQR8hBSABQf///wdNBEAgAUEmIAFBCHZnIgBrdkEBcSAAQQF0a0E+aiEFCyAEIAU2AhwgBEIANwIQIAVBAnRB9NcAaiEAQcjVACgCACICQQEgBXQiA3FFBEAgACAENgIAQcjVACACIANyNgIAIAQgADYCGCAEIAQ2AgggBCAENgIMDAELIAFBGSAFQQF2a0EAIAVBH0cbdCEFIAAoAgAhAAJAA0AgACICKAIEQXhxIAFGDQEgBUEddiEAIAVBAXQhBSACIABBBHFqQRBqIgMoAgAiAA0ACyADIAQ2AgAgBCACNgIYIAQgBDYCDCAEIAQ2AggMAQsgAigCCCIAIAQ2AgwgAiAENgIIIARBADYCGCAEIAI2AgwgBCAANgIICyAJQQhqIQEMAgsCQCAHRQ0AAkAgAygCHCIBQQJ0QfTXAGoiAigCACADRgRAIAIgADYCACAADQFByNUAIAhBfiABd3EiCDYCAAwCCyAHQRBBFCAHKAIQIANGG2ogADYCACAARQ0BCyAAIAc2AhggAygCECIBBEAgACABNgIQIAEgADYCGAsgA0EUaigCACIBRQ0AIABBFGogATYCACABIAA2AhgLAkAgBUEPTQRAIAMgBCAFaiIAQQNyNgIEIAAgA2oiACAAKAIEQQFyNgIEDAELIAMgBGoiAiAFQQFyNgIEIAMgBEEDcjYCBCACIAVqIAU2AgAgBUH/AU0EQCAFQXhxQezVAGohAAJ/QcTVACgCACIBQQEgBUEDdnQiBXFFBEBBxNUAIAEgBXI2AgAgAAwBCyAAKAIICyIBIAI2AgwgACACNgIIIAIgADYCDCACIAE2AggMAQtBHyEBIAVB////B00EQCAFQSYgBUEIdmciAGt2QQFxIABBAXRrQT5qIQELIAIgATYCHCACQgA3AhAgAUECdEH01wBqIQBBASABdCIEIAhxRQRAIAAgAjYCAEHI1QAgBCAIcjYCACACIAA2AhggAiACNgIIIAIgAjYCDAwBCyAFQRkgAUEBdmtBACABQR9HG3QhASAAKAIAIQQCQANAIAQiACgCBEF4cSAFRg0BIAFBHXYhBCABQQF0IQEgACAEQQRxakEQaiIGKAIAIgQNAAsgBiACNgIAIAIgADYCGCACIAI2AgwgAiACNgIIDAELIAAoAggiASACNgIMIAAgAjYCCCACQQA2AhggAiAANgIMIAIgATYCCAsgA0EIaiEBDAELAkAgCUUNAAJAIAAoAhwiAUECdEH01wBqIgIoAgAgAEYEQCACIAM2AgAgAw0BQcjVACALQX4gAXdxNgIADAILIAlBEEEUIAkoAhAgAEYbaiADNgIAIANFDQELIAMgCTYCGCAAKAIQIgEEQCADIAE2AhAgASADNgIYCyAAQRRqKAIAIgFFDQAgA0EUaiABNgIAIAEgAzYCGAsCQCAFQQ9NBEAgACAEIAVqIgFBA3I2AgQgACABaiIBIAEoAgRBAXI2AgQMAQsgACAEaiIHIAVBAXI2AgQgACAEQQNyNgIEIAUgB2ogBTYCACAIBEAgCEF4cUHs1QBqIQFB2NUAKAIAIQMCf0EBIAhBA3Z0IgIgBnFFBEBBxNUAIAIgBnI2AgAgAQwBCyABKAIICyICIAM2AgwgASADNgIIIAMgATYCDCADIAI2AggLQdjVACAHNgIAQczVACAFNgIACyAAQQhqIQELIApBEGokACABC0MAIABFBEA/AEEQdA8LAkAgAEH//wNxDQAgAEEASA0AIABBEHZAACIAQX9GBEBBtNkAQTA2AgBBfw8LIABBEHQPCwALC5lCIgBBgAgLDQEAAAAAAAAAAgAAAAMAQZgICwUEAAAABQBBqAgLCQYAAAAHAAAACABB5AgLwjJJbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBFeHBlY3RlZCBMRiBhZnRlciBoZWFkZXJzAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMAVXNlciBjYWxsYmFjayBlcnJvcgBgb25fcmVzZXRgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19oZWFkZXJgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2JlZ2luYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlYCBjYWxsYmFjayBlcnJvcgBgb25fc3RhdHVzX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdmVyc2lvbl9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3VybF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3Byb3RvY29sX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fcHJvdG9jb2wARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgAVHJhbnNmZXItRW5jb2RpbmcgY2FuJ3QgYmUgcHJlc2VudCB3aXRoIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgY2h1bmsgc2l6ZQBFeHBlY3RlZCBMRiBhZnRlciBjaHVuayBzaXplAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBVbmV4cGVjdGVkIHdoaXRlc3BhY2UgYWZ0ZXIgaGVhZGVyIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgaGVhZGVyIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUATWlzc2luZyBleHBlY3RlZCBDUiBhZnRlciBjaHVuayBleHRlbnNpb24gdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIHF1b3RlZC1wYWlyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAFBhdXNlZCBieSBvbl9oZWFkZXJzX2NvbXBsZXRlAEludmFsaWQgRU9GIHN0YXRlAG9uX3Jlc2V0IHBhdXNlAG9uX2NodW5rX2hlYWRlciBwYXVzZQBvbl9tZXNzYWdlX2JlZ2luIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZSBwYXVzZQBvbl9zdGF0dXNfY29tcGxldGUgcGF1c2UAb25fdmVyc2lvbl9jb21wbGV0ZSBwYXVzZQBvbl91cmxfY29tcGxldGUgcGF1c2UAb25fcHJvdG9jb2xfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlIHBhdXNlAG9uX21lc3NhZ2VfY29tcGxldGUgcGF1c2UAb25fbWV0aG9kX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fbmFtZSBwYXVzZQBVbmV4cGVjdGVkIHNwYWNlIGFmdGVyIHN0YXJ0IGxpbmUATWlzc2luZyBleHBlY3RlZCBDUiBhZnRlciByZXNwb25zZSBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgY2h1bmsgZXh0ZW5zaW9uIG5hbWUASW52YWxpZCBzdGF0dXMgY29kZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABNaXNzaW5nIGV4cGVjdGVkIENSIGFmdGVyIGNodW5rIGRhdGEARXhwZWN0ZWQgTEYgYWZ0ZXIgY2h1bmsgZGF0YQBVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AARGF0YSBhZnRlciBgQ29ubmVjdGlvbjogY2xvc2VgAFNXSVRDSF9QUk9YWQBVU0VfUFJPWFkATUtBQ1RJVklUWQBVTlBST0NFU1NBQkxFX0VOVElUWQBRVUVSWQBDT1BZAE1PVkVEX1BFUk1BTkVOVExZAFRPT19FQVJMWQBOT1RJRlkARkFJTEVEX0RFUEVOREVOQ1kAQkFEX0dBVEVXQVkAUExBWQBQVVQAQ0hFQ0tPVVQAR0FURVdBWV9USU1FT1VUAFJFUVVFU1RfVElNRU9VVABORVRXT1JLX0NPTk5FQ1RfVElNRU9VVABDT05ORUNUSU9OX1RJTUVPVVQATE9HSU5fVElNRU9VVABORVRXT1JLX1JFQURfVElNRU9VVABQT1NUAE1JU0RJUkVDVEVEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfTE9BRF9CQUxBTkNFRF9SRVFVRVNUAEJBRF9SRVFVRVNUAEhUVFBfUkVRVUVTVF9TRU5UX1RPX0hUVFBTX1BPUlQAUkVQT1JUAElNX0FfVEVBUE9UAFJFU0VUX0NPTlRFTlQATk9fQ09OVEVOVABQQVJUSUFMX0NPTlRFTlQASFBFX0lOVkFMSURfQ09OU1RBTlQASFBFX0NCX1JFU0VUAEdFVABIUEVfU1RSSUNUAENPTkZMSUNUAFRFTVBPUkFSWV9SRURJUkVDVABQRVJNQU5FTlRfUkVESVJFQ1QAQ09OTkVDVABNVUxUSV9TVEFUVVMASFBFX0lOVkFMSURfU1RBVFVTAFRPT19NQU5ZX1JFUVVFU1RTAEVBUkxZX0hJTlRTAFVOQVZBSUxBQkxFX0ZPUl9MRUdBTF9SRUFTT05TAE9QVElPTlMAU1dJVENISU5HX1BST1RPQ09MUwBWQVJJQU5UX0FMU09fTkVHT1RJQVRFUwBNVUxUSVBMRV9DSE9JQ0VTAElOVEVSTkFMX1NFUlZFUl9FUlJPUgBXRUJfU0VSVkVSX1VOS05PV05fRVJST1IAUkFJTEdVTl9FUlJPUgBJREVOVElUWV9QUk9WSURFUl9BVVRIRU5USUNBVElPTl9FUlJPUgBTU0xfQ0VSVElGSUNBVEVfRVJST1IASU5WQUxJRF9YX0ZPUldBUkRFRF9GT1IAU0VUX1BBUkFNRVRFUgBHRVRfUEFSQU1FVEVSAEhQRV9VU0VSAFNFRV9PVEhFUgBIUEVfQ0JfQ0hVTktfSEVBREVSAEV4cGVjdGVkIExGIGFmdGVyIENSAE1LQ0FMRU5EQVIAU0VUVVAAV0VCX1NFUlZFUl9JU19ET1dOAFRFQVJET1dOAEhQRV9DTE9TRURfQ09OTkVDVElPTgBIRVVSSVNUSUNfRVhQSVJBVElPTgBESVNDT05ORUNURURfT1BFUkFUSU9OAE5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OAEhQRV9JTlZBTElEX1ZFUlNJT04ASFBFX0NCX01FU1NBR0VfQkVHSU4AU0lURV9JU19GUk9aRU4ASFBFX0lOVkFMSURfSEVBREVSX1RPS0VOAElOVkFMSURfVE9LRU4ARk9SQklEREVOAEVOSEFOQ0VfWU9VUl9DQUxNAEhQRV9JTlZBTElEX1VSTABCTE9DS0VEX0JZX1BBUkVOVEFMX0NPTlRST0wATUtDT0wAQUNMAEhQRV9JTlRFUk5BTABSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFX1VOT0ZGSUNJQUwASFBFX09LAFVOTElOSwBVTkxPQ0sAUFJJAFJFVFJZX1dJVEgASFBFX0lOVkFMSURfQ09OVEVOVF9MRU5HVEgASFBFX1VORVhQRUNURURfQ09OVEVOVF9MRU5HVEgARkxVU0gAUFJPUFBBVENIAE0tU0VBUkNIAFVSSV9UT09fTE9ORwBQUk9DRVNTSU5HAE1JU0NFTExBTkVPVVNfUEVSU0lTVEVOVF9XQVJOSU5HAE1JU0NFTExBTkVPVVNfV0FSTklORwBIUEVfSU5WQUxJRF9UUkFOU0ZFUl9FTkNPRElORwBFeHBlY3RlZCBDUkxGAEhQRV9JTlZBTElEX0NIVU5LX1NJWkUATU9WRQBDT05USU5VRQBIUEVfQ0JfU1RBVFVTX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJTX0NPTVBMRVRFAEhQRV9DQl9WRVJTSU9OX0NPTVBMRVRFAEhQRV9DQl9VUkxfQ09NUExFVEUASFBFX0NCX1BST1RPQ09MX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8sIFJUU1AvIG9yIElDRS8A5xUAAK8VAACkEgAAkhoAACYWAACeFAAA2xkAAHkVAAB+EgAA/hQAADYVAAALFgAA2BYAAPMSAABCGAAArBYAABIVAAAUFwAA7xcAAEgUAABxFwAAshoAAGsZAAB+GQAANRQAAIIaAABEFwAA/RYAAB4YAACHFwAAqhkAAJMSAAAHGAAALBcAAMoXAACkFwAA5xUAAOcVAABYFwAAOxgAAKASAAAtHAAAwxEAAEgRAADeEgAAQhMAAKQZAAD9EAAA9xUAAKUVAADvFgAA+BkAAEoWAABWFgAA9RUAAAoaAAAIGgAAARoAAKsVAABCEgAA1xAAAEwRAAAFGQAAVBYAAB4RAADKGQAAyBkAAE4WAAD/GAAAcRQAAPAVAADuFQAAlBkAAPwVAAC/GQAAmxkAAHwUAABDEQAAcBgAAJUUAAAnFAAAGRQAANUSAADUGQAARBYAAPcQAEG5OwsBAQBB0DsL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBuj0LBAEAAAIAQdE9C14DBAMDAwMDAAADAwADAwADAwMDAwMDAwMDAAUAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAwADAEG6PwsEAQAAAgBB0T8LXgMAAwMDAwMAAAMDAAMDAAMDAwMDAwMDAwMABAAFAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwADAAMAQbDBAAsNbG9zZWVlcC1hbGl2ZQBBycEACwEBAEHgwQAL4AEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBycMACwEBAEHgwwAL5wEBAQEBAQEBAQEBAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAWNodW5rZWQAQfHFAAteAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQBB0McACyFlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AQYDIAAsgcmFuc2Zlci1lbmNvZGluZ3BncmFkZQ0KDQpTTQ0KDQoAQanIAAsFAQIAAQMAQcDIAAtfBAUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUAQanKAAsFAQIAAQMAQcDKAAtfBAUFBgUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUAQanMAAsEAQAAAQBBwcwAC14CAgACAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAEGpzgALBQECAAEDAEHAzgALXwQFAAAFBQUFBQUFBQUFBQYFBQUFBQUFBQUFBQUABQAHCAUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQAFAAUABQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUAAAAFAEGp0AALBQEBAAEBAEHA0AALAQEAQdrQAAtBAgAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQanSAAsFAQEAAQEAQcDSAAsBAQBBytIACwYCAAAAAAIAQeHSAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBBoNQAC50BTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRVVFUllPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFVFRQQ0VUU1BBRFRQLw==",wasmBuffer;Object.defineProperty(module2,"exports",{get:()=>wasmBuffer||(wasmBuffer=Buffer2.from(wasmBase64,"base64"))})}});var require_constants6=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/fetch/constants.js"(exports2,module2){"use strict";var corsSafeListedMethods=["GET","HEAD","POST"],corsSafeListedMethodsSet=new Set(corsSafeListedMethods),nullBodyStatus=[101,204,205,304],redirectStatus=[301,302,303,307,308],redirectStatusSet=new Set(redirectStatus),badPorts=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],badPortsSet=new Set(badPorts),referrerPolicyTokens=["no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],referrerPolicy=["",...referrerPolicyTokens],referrerPolicyTokensSet=new Set(referrerPolicyTokens),requestRedirect=["follow","manual","error"],safeMethods=["GET","HEAD","OPTIONS","TRACE"],safeMethodsSet=new Set(safeMethods),requestMode=["navigate","same-origin","no-cors","cors"],requestCredentials=["omit","same-origin","include"],requestCache=["default","no-store","reload","no-cache","force-cache","only-if-cached"],requestBodyHeader=["content-encoding","content-language","content-location","content-type","content-length"],requestDuplex=["half"],forbiddenMethods=["CONNECT","TRACE","TRACK"],forbiddenMethodsSet=new Set(forbiddenMethods),subresource=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],subresourceSet=new Set(subresource);module2.exports={subresource,forbiddenMethods,requestBodyHeader,referrerPolicy,requestRedirect,requestMode,requestCredentials,requestCache,redirectStatus,corsSafeListedMethods,nullBodyStatus,safeMethods,badPorts,requestDuplex,subresourceSet,badPortsSet,redirectStatusSet,corsSafeListedMethodsSet,safeMethodsSet,forbiddenMethodsSet,referrerPolicyTokens:referrerPolicyTokensSet}}});var require_global=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/fetch/global.js"(exports2,module2){"use strict";var globalOrigin=Symbol.for("undici.globalOrigin.1");function getGlobalOrigin(){return globalThis[globalOrigin]}function setGlobalOrigin(newOrigin){if(newOrigin===void 0){Object.defineProperty(globalThis,globalOrigin,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let parsedURL=new URL(newOrigin);if(parsedURL.protocol!=="http:"&&parsedURL.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${parsedURL.protocol}`);Object.defineProperty(globalThis,globalOrigin,{value:parsedURL,writable:!0,enumerable:!1,configurable:!1})}module2.exports={getGlobalOrigin,setGlobalOrigin}}});var require_data_url=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/fetch/data-url.js"(exports2,module2){"use strict";var assert2=require("node:assert"),encoder=new TextEncoder,HTTP_TOKEN_CODEPOINTS=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,HTTP_WHITESPACE_REGEX=/[\u000A\u000D\u0009\u0020]/,ASCII_WHITESPACE_REPLACE_REGEX=/[\u0009\u000A\u000C\u000D\u0020]/g,HTTP_QUOTED_STRING_TOKENS=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function dataURLProcessor(dataURL){assert2(dataURL.protocol==="data:");let input=URLSerializer(dataURL,!0);input=input.slice(5);let position={position:0},mimeType=collectASequenceOfCodePointsFast(",",input,position),mimeTypeLength=mimeType.length;if(mimeType=removeASCIIWhitespace(mimeType,!0,!0),position.position>=input.length)return"failure";position.position++;let encodedBody=input.slice(mimeTypeLength+1),body=stringPercentDecode(encodedBody);if(/;(\u0020){0,}base64$/i.test(mimeType)){let stringBody=isomorphicDecode(body);if(body=forgivingBase64(stringBody),body==="failure")return"failure";mimeType=mimeType.slice(0,-6),mimeType=mimeType.replace(/(\u0020)+$/,""),mimeType=mimeType.slice(0,-1)}mimeType.startsWith(";")&&(mimeType="text/plain"+mimeType);let mimeTypeRecord=parseMIMEType(mimeType);return mimeTypeRecord==="failure"&&(mimeTypeRecord=parseMIMEType("text/plain;charset=US-ASCII")),{mimeType:mimeTypeRecord,body}}function URLSerializer(url,excludeFragment=!1){if(!excludeFragment)return url.href;let href=url.href,hashLength=url.hash.length,serialized=hashLength===0?href:href.substring(0,href.length-hashLength);return!hashLength&&href.endsWith("#")?serialized.slice(0,-1):serialized}function collectASequenceOfCodePoints(condition,input,position){let result="";for(;position.position<input.length&&condition(input[position.position]);)result+=input[position.position],position.position++;return result}function collectASequenceOfCodePointsFast(char,input,position){let idx=input.indexOf(char,position.position),start=position.position;return idx===-1?(position.position=input.length,input.slice(start)):(position.position=idx,input.slice(start,position.position))}function stringPercentDecode(input){let bytes=encoder.encode(input);return percentDecode(bytes)}function isHexCharByte(byte){return byte>=48&&byte<=57||byte>=65&&byte<=70||byte>=97&&byte<=102}function hexByteToNumber(byte){return byte>=48&&byte<=57?byte-48:(byte&223)-55}function percentDecode(input){let length=input.length,output=new Uint8Array(length),j=0;for(let i=0;i<length;++i){let byte=input[i];byte!==37?output[j++]=byte:byte===37&&!(isHexCharByte(input[i+1])&&isHexCharByte(input[i+2]))?output[j++]=37:(output[j++]=hexByteToNumber(input[i+1])<<4|hexByteToNumber(input[i+2]),i+=2)}return length===j?output:output.subarray(0,j)}function parseMIMEType(input){input=removeHTTPWhitespace(input,!0,!0);let position={position:0},type=collectASequenceOfCodePointsFast("/",input,position);if(type.length===0||!HTTP_TOKEN_CODEPOINTS.test(type)||position.position>=input.length)return"failure";position.position++;let subtype=collectASequenceOfCodePointsFast(";",input,position);if(subtype=removeHTTPWhitespace(subtype,!1,!0),subtype.length===0||!HTTP_TOKEN_CODEPOINTS.test(subtype))return"failure";let typeLowercase=type.toLowerCase(),subtypeLowercase=subtype.toLowerCase(),mimeType={type:typeLowercase,subtype:subtypeLowercase,parameters:new Map,essence:`${typeLowercase}/${subtypeLowercase}`};for(;position.position<input.length;){position.position++,collectASequenceOfCodePoints(char=>HTTP_WHITESPACE_REGEX.test(char),input,position);let parameterName=collectASequenceOfCodePoints(char=>char!==";"&&char!=="=",input,position);if(parameterName=parameterName.toLowerCase(),position.position<input.length){if(input[position.position]===";")continue;position.position++}if(position.position>=input.length)break;let parameterValue=null;if(input[position.position]==='"')parameterValue=collectAnHTTPQuotedString(input,position,!0),collectASequenceOfCodePointsFast(";",input,position);else if(parameterValue=collectASequenceOfCodePointsFast(";",input,position),parameterValue=removeHTTPWhitespace(parameterValue,!1,!0),parameterValue.length===0)continue;parameterName.length!==0&&HTTP_TOKEN_CODEPOINTS.test(parameterName)&&(parameterValue.length===0||HTTP_QUOTED_STRING_TOKENS.test(parameterValue))&&!mimeType.parameters.has(parameterName)&&mimeType.parameters.set(parameterName,parameterValue)}return mimeType}function forgivingBase64(data){data=data.replace(ASCII_WHITESPACE_REPLACE_REGEX,"");let dataLength=data.length;if(dataLength%4===0&&data.charCodeAt(dataLength-1)===61&&(--dataLength,data.charCodeAt(dataLength-1)===61&&--dataLength),dataLength%4===1||/[^+/0-9A-Za-z]/.test(data.length===dataLength?data:data.substring(0,dataLength)))return"failure";let buffer=Buffer.from(data,"base64");return new Uint8Array(buffer.buffer,buffer.byteOffset,buffer.byteLength)}function collectAnHTTPQuotedString(input,position,extractValue2=!1){let positionStart=position.position,value="";for(assert2(input[position.position]==='"'),position.position++;value+=collectASequenceOfCodePoints(char=>char!=='"'&&char!=="\\",input,position),!(position.position>=input.length);){let quoteOrBackslash=input[position.position];if(position.position++,quoteOrBackslash==="\\"){if(position.position>=input.length){value+="\\";break}value+=input[position.position],position.position++}else{assert2(quoteOrBackslash==='"');break}}return extractValue2?value:input.slice(positionStart,position.position)}function serializeAMimeType(mimeType){assert2(mimeType!=="failure");let{parameters,essence}=mimeType,serialization=essence;for(let[name,value]of parameters.entries())serialization+=";",serialization+=name,serialization+="=",HTTP_TOKEN_CODEPOINTS.test(value)||(value=value.replace(/(\\|")/g,"\\$1"),value='"'+value,value+='"'),serialization+=value;return serialization}function isHTTPWhiteSpace(char){return char===13||char===10||char===9||char===32}function removeHTTPWhitespace(str,leading=!0,trailing=!0){return removeChars(str,leading,trailing,isHTTPWhiteSpace)}function isASCIIWhitespace(char){return char===13||char===10||char===9||char===12||char===32}function removeASCIIWhitespace(str,leading=!0,trailing=!0){return removeChars(str,leading,trailing,isASCIIWhitespace)}function removeChars(str,leading,trailing,predicate){let lead=0,trail=str.length-1;if(leading)for(;lead<str.length&&predicate(str.charCodeAt(lead));)lead++;if(trailing)for(;trail>0&&predicate(str.charCodeAt(trail));)trail--;return lead===0&&trail===str.length-1?str:str.slice(lead,trail+1)}function isomorphicDecode(input){let length=input.length;if(65535>length)return String.fromCharCode.apply(null,input);let result="",i=0,addition=65535;for(;i<length;)i+addition>length&&(addition=length-i),result+=String.fromCharCode.apply(null,input.subarray(i,i+=addition));return result}function minimizeSupportedMimeType(mimeType){switch(mimeType.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}return mimeType.subtype.endsWith("+json")?"application/json":mimeType.subtype.endsWith("+xml")?"application/xml":""}module2.exports={dataURLProcessor,URLSerializer,collectASequenceOfCodePoints,collectASequenceOfCodePointsFast,stringPercentDecode,parseMIMEType,collectAnHTTPQuotedString,serializeAMimeType,removeChars,removeHTTPWhitespace,minimizeSupportedMimeType,HTTP_TOKEN_CODEPOINTS,isomorphicDecode}}});var require_webidl=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/webidl/index.js"(exports2,module2){"use strict";var{types,inspect}=require("node:util"),{markAsUncloneable}=require("node:worker_threads"),UNDEFINED=1,BOOLEAN=2,STRING=3,SYMBOL=4,NUMBER=5,BIGINT=6,NULL=7,OBJECT=8,FunctionPrototypeSymbolHasInstance=Function.call.bind(Function.prototype[Symbol.hasInstance]),webidl={converters:{},util:{},errors:{},is:{}};webidl.errors.exception=function(message){return new TypeError(`${message.header}: ${message.message}`)};webidl.errors.conversionFailed=function(opts){let plural=opts.types.length===1?"":" one of",message=`${opts.argument} could not be converted to${plural}: ${opts.types.join(", ")}.`;return webidl.errors.exception({header:opts.prefix,message})};webidl.errors.invalidArgument=function(context){return webidl.errors.exception({header:context.prefix,message:`"${context.value}" is an invalid ${context.type}.`})};webidl.brandCheck=function(V,I){if(!FunctionPrototypeSymbolHasInstance(I,V)){let err=new TypeError("Illegal invocation");throw err.code="ERR_INVALID_THIS",err}};webidl.brandCheckMultiple=function(List){let prototypes=List.map(c=>webidl.util.MakeTypeAssertion(c));return V=>{if(prototypes.every(typeCheck=>!typeCheck(V))){let err=new TypeError("Illegal invocation");throw err.code="ERR_INVALID_THIS",err}}};webidl.argumentLengthCheck=function({length},min,ctx){if(length<min)throw webidl.errors.exception({message:`${min} argument${min!==1?"s":""} required, but${length?" only":""} ${length} found.`,header:ctx})};webidl.illegalConstructor=function(){throw webidl.errors.exception({header:"TypeError",message:"Illegal constructor"})};webidl.util.MakeTypeAssertion=function(I){return O=>FunctionPrototypeSymbolHasInstance(I,O)};webidl.util.Type=function(V){switch(typeof V){case"undefined":return UNDEFINED;case"boolean":return BOOLEAN;case"string":return STRING;case"symbol":return SYMBOL;case"number":return NUMBER;case"bigint":return BIGINT;case"function":case"object":return V===null?NULL:OBJECT}};webidl.util.Types={UNDEFINED,BOOLEAN,STRING,SYMBOL,NUMBER,BIGINT,NULL,OBJECT};webidl.util.TypeValueToString=function(o){switch(webidl.util.Type(o)){case UNDEFINED:return"Undefined";case BOOLEAN:return"Boolean";case STRING:return"String";case SYMBOL:return"Symbol";case NUMBER:return"Number";case BIGINT:return"BigInt";case NULL:return"Null";case OBJECT:return"Object"}};webidl.util.markAsUncloneable=markAsUncloneable||(()=>{});webidl.util.ConvertToInt=function(V,bitLength,signedness,flags){let upperBound,lowerBound;bitLength===64?(upperBound=Math.pow(2,53)-1,signedness==="unsigned"?lowerBound=0:lowerBound=Math.pow(-2,53)+1):signedness==="unsigned"?(lowerBound=0,upperBound=Math.pow(2,bitLength)-1):(lowerBound=Math.pow(-2,bitLength)-1,upperBound=Math.pow(2,bitLength-1)-1);let x=Number(V);if(x===0&&(x=0),webidl.util.HasFlag(flags,webidl.attributes.EnforceRange)){if(Number.isNaN(x)||x===Number.POSITIVE_INFINITY||x===Number.NEGATIVE_INFINITY)throw webidl.errors.exception({header:"Integer conversion",message:`Could not convert ${webidl.util.Stringify(V)} to an integer.`});if(x=webidl.util.IntegerPart(x),x<lowerBound||x>upperBound)throw webidl.errors.exception({header:"Integer conversion",message:`Value must be between ${lowerBound}-${upperBound}, got ${x}.`});return x}return!Number.isNaN(x)&&webidl.util.HasFlag(flags,webidl.attributes.Clamp)?(x=Math.min(Math.max(x,lowerBound),upperBound),Math.floor(x)%2===0?x=Math.floor(x):x=Math.ceil(x),x):Number.isNaN(x)||x===0&&Object.is(0,x)||x===Number.POSITIVE_INFINITY||x===Number.NEGATIVE_INFINITY?0:(x=webidl.util.IntegerPart(x),x=x%Math.pow(2,bitLength),signedness==="signed"&&x>=Math.pow(2,bitLength)-1?x-Math.pow(2,bitLength):x)};webidl.util.IntegerPart=function(n){let r=Math.floor(Math.abs(n));return n<0?-1*r:r};webidl.util.Stringify=function(V){switch(webidl.util.Type(V)){case SYMBOL:return`Symbol(${V.description})`;case OBJECT:return inspect(V);case STRING:return`"${V}"`;case BIGINT:return`${V}n`;default:return`${V}`}};webidl.util.IsResizableArrayBuffer=function(V){if(types.isArrayBuffer(V))return V.resizable;if(types.isSharedArrayBuffer(V))return V.growable;throw webidl.errors.exception({header:"IsResizableArrayBuffer",message:`"${webidl.util.Stringify(V)}" is not an array buffer.`})};webidl.util.HasFlag=function(flags,attributes){return typeof flags=="number"&&(flags&attributes)===attributes};webidl.sequenceConverter=function(converter){return(V,prefix,argument,Iterable)=>{if(webidl.util.Type(V)!==OBJECT)throw webidl.errors.exception({header:prefix,message:`${argument} (${webidl.util.Stringify(V)}) is not iterable.`});let method=typeof Iterable=="function"?Iterable():V?.[Symbol.iterator]?.(),seq=[],index2=0;if(method===void 0||typeof method.next!="function")throw webidl.errors.exception({header:prefix,message:`${argument} is not iterable.`});for(;;){let{done,value}=method.next();if(done)break;seq.push(converter(value,prefix,`${argument}[${index2++}]`))}return seq}};webidl.recordConverter=function(keyConverter,valueConverter){return(O,prefix,argument)=>{if(webidl.util.Type(O)!==OBJECT)throw webidl.errors.exception({header:prefix,message:`${argument} ("${webidl.util.TypeValueToString(O)}") is not an Object.`});let result={};if(!types.isProxy(O)){let keys3=[...Object.getOwnPropertyNames(O),...Object.getOwnPropertySymbols(O)];for(let key of keys3){let keyName=webidl.util.Stringify(key),typedKey=keyConverter(key,prefix,`Key ${keyName} in ${argument}`),typedValue=valueConverter(O[key],prefix,`${argument}[${keyName}]`);result[typedKey]=typedValue}return result}let keys2=Reflect.ownKeys(O);for(let key of keys2)if(Reflect.getOwnPropertyDescriptor(O,key)?.enumerable){let typedKey=keyConverter(key,prefix,argument),typedValue=valueConverter(O[key],prefix,argument);result[typedKey]=typedValue}return result}};webidl.interfaceConverter=function(TypeCheck,name){return(V,prefix,argument)=>{if(!TypeCheck(V))throw webidl.errors.exception({header:prefix,message:`Expected ${argument} ("${webidl.util.Stringify(V)}") to be an instance of ${name}.`});return V}};webidl.dictionaryConverter=function(converters){return(dictionary,prefix,argument)=>{let dict={};if(dictionary!=null&&webidl.util.Type(dictionary)!==OBJECT)throw webidl.errors.exception({header:prefix,message:`Expected ${dictionary} to be one of: Null, Undefined, Object.`});for(let options2 of converters){let{key,defaultValue,required,converter}=options2;if(required===!0&&(dictionary==null||!Object.hasOwn(dictionary,key)))throw webidl.errors.exception({header:prefix,message:`Missing required key "${key}".`});let value=dictionary?.[key],hasDefault=defaultValue!==void 0;if(hasDefault&&value===void 0&&(value=defaultValue()),required||hasDefault||value!==void 0){if(value=converter(value,prefix,`${argument}.${key}`),options2.allowedValues&&!options2.allowedValues.includes(value))throw webidl.errors.exception({header:prefix,message:`${value} is not an accepted type. Expected one of ${options2.allowedValues.join(", ")}.`});dict[key]=value}}return dict}};webidl.nullableConverter=function(converter){return(V,prefix,argument)=>V===null?V:converter(V,prefix,argument)};webidl.is.USVString=function(value){return typeof value=="string"&&value.isWellFormed()};webidl.is.ReadableStream=webidl.util.MakeTypeAssertion(ReadableStream);webidl.is.Blob=webidl.util.MakeTypeAssertion(Blob);webidl.is.URLSearchParams=webidl.util.MakeTypeAssertion(URLSearchParams);webidl.is.File=webidl.util.MakeTypeAssertion(File);webidl.is.URL=webidl.util.MakeTypeAssertion(URL);webidl.is.AbortSignal=webidl.util.MakeTypeAssertion(AbortSignal);webidl.is.MessagePort=webidl.util.MakeTypeAssertion(MessagePort);webidl.is.BufferSource=function(V){return types.isArrayBuffer(V)||ArrayBuffer.isView(V)&&types.isArrayBuffer(V.buffer)};webidl.converters.DOMString=function(V,prefix,argument,flags){if(V===null&&webidl.util.HasFlag(flags,webidl.attributes.LegacyNullToEmptyString))return"";if(typeof V=="symbol")throw webidl.errors.exception({header:prefix,message:`${argument} is a symbol, which cannot be converted to a DOMString.`});return String(V)};webidl.converters.ByteString=function(V,prefix,argument){if(typeof V=="symbol")throw webidl.errors.exception({header:prefix,message:`${argument} is a symbol, which cannot be converted to a ByteString.`});let x=String(V);for(let index2=0;index2<x.length;index2++)if(x.charCodeAt(index2)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${index2} has a value of ${x.charCodeAt(index2)} which is greater than 255.`);return x};webidl.converters.USVString=function(value){return typeof value=="string"?value.toWellFormed():`${value}`.toWellFormed()};webidl.converters.boolean=function(V){return!!V};webidl.converters.any=function(V){return V};webidl.converters["long long"]=function(V,prefix,argument){return webidl.util.ConvertToInt(V,64,"signed",0,prefix,argument)};webidl.converters["unsigned long long"]=function(V,prefix,argument){return webidl.util.ConvertToInt(V,64,"unsigned",0,prefix,argument)};webidl.converters["unsigned long"]=function(V,prefix,argument){return webidl.util.ConvertToInt(V,32,"unsigned",0,prefix,argument)};webidl.converters["unsigned short"]=function(V,prefix,argument,flags){return webidl.util.ConvertToInt(V,16,"unsigned",flags,prefix,argument)};webidl.converters.ArrayBuffer=function(V,prefix,argument,flags){if(webidl.util.Type(V)!==OBJECT||!types.isArrayBuffer(V))throw webidl.errors.conversionFailed({prefix,argument:`${argument} ("${webidl.util.Stringify(V)}")`,types:["ArrayBuffer"]});if(!webidl.util.HasFlag(flags,webidl.attributes.AllowResizable)&&webidl.util.IsResizableArrayBuffer(V))throw webidl.errors.exception({header:prefix,message:`${argument} cannot be a resizable ArrayBuffer.`});return V};webidl.converters.SharedArrayBuffer=function(V,prefix,argument,flags){if(webidl.util.Type(V)!==OBJECT||!types.isSharedArrayBuffer(V))throw webidl.errors.conversionFailed({prefix,argument:`${argument} ("${webidl.util.Stringify(V)}")`,types:["SharedArrayBuffer"]});if(!webidl.util.HasFlag(flags,webidl.attributes.AllowResizable)&&webidl.util.IsResizableArrayBuffer(V))throw webidl.errors.exception({header:prefix,message:`${argument} cannot be a resizable SharedArrayBuffer.`});return V};webidl.converters.TypedArray=function(V,T,prefix,argument,flags){if(webidl.util.Type(V)!==OBJECT||!types.isTypedArray(V)||V.constructor.name!==T.name)throw webidl.errors.conversionFailed({prefix,argument:`${argument} ("${webidl.util.Stringify(V)}")`,types:[T.name]});if(!webidl.util.HasFlag(flags,webidl.attributes.AllowShared)&&types.isSharedArrayBuffer(V.buffer))throw webidl.errors.exception({header:prefix,message:`${argument} cannot be a view on a shared array buffer.`});if(!webidl.util.HasFlag(flags,webidl.attributes.AllowResizable)&&webidl.util.IsResizableArrayBuffer(V.buffer))throw webidl.errors.exception({header:prefix,message:`${argument} cannot be a view on a resizable array buffer.`});return V};webidl.converters.DataView=function(V,prefix,argument,flags){if(webidl.util.Type(V)!==OBJECT||!types.isDataView(V))throw webidl.errors.conversionFailed({prefix,argument:`${argument} ("${webidl.util.Stringify(V)}")`,types:["DataView"]});if(!webidl.util.HasFlag(flags,webidl.attributes.AllowShared)&&types.isSharedArrayBuffer(V.buffer))throw webidl.errors.exception({header:prefix,message:`${argument} cannot be a view on a shared array buffer.`});if(!webidl.util.HasFlag(flags,webidl.attributes.AllowResizable)&&webidl.util.IsResizableArrayBuffer(V.buffer))throw webidl.errors.exception({header:prefix,message:`${argument} cannot be a view on a resizable array buffer.`});return V};webidl.converters.ArrayBufferView=function(V,prefix,argument,flags){if(webidl.util.Type(V)!==OBJECT||!types.isArrayBufferView(V))throw webidl.errors.conversionFailed({prefix,argument:`${argument} ("${webidl.util.Stringify(V)}")`,types:["ArrayBufferView"]});if(!webidl.util.HasFlag(flags,webidl.attributes.AllowShared)&&types.isSharedArrayBuffer(V.buffer))throw webidl.errors.exception({header:prefix,message:`${argument} cannot be a view on a shared array buffer.`});if(!webidl.util.HasFlag(flags,webidl.attributes.AllowResizable)&&webidl.util.IsResizableArrayBuffer(V.buffer))throw webidl.errors.exception({header:prefix,message:`${argument} cannot be a view on a resizable array buffer.`});return V};webidl.converters.BufferSource=function(V,prefix,argument,flags){if(types.isArrayBuffer(V))return webidl.converters.ArrayBuffer(V,prefix,argument,flags);if(types.isArrayBufferView(V))return flags&=~webidl.attributes.AllowShared,webidl.converters.ArrayBufferView(V,prefix,argument,flags);throw types.isSharedArrayBuffer(V)?webidl.errors.exception({header:prefix,message:`${argument} cannot be a SharedArrayBuffer.`}):webidl.errors.conversionFailed({prefix,argument:`${argument} ("${webidl.util.Stringify(V)}")`,types:["ArrayBuffer","ArrayBufferView"]})};webidl.converters.AllowSharedBufferSource=function(V,prefix,argument,flags){if(types.isArrayBuffer(V))return webidl.converters.ArrayBuffer(V,prefix,argument,flags);if(types.isSharedArrayBuffer(V))return webidl.converters.SharedArrayBuffer(V,prefix,argument,flags);if(types.isArrayBufferView(V))return flags|=webidl.attributes.AllowShared,webidl.converters.ArrayBufferView(V,prefix,argument,flags);throw webidl.errors.conversionFailed({prefix,argument:`${argument} ("${webidl.util.Stringify(V)}")`,types:["ArrayBuffer","SharedArrayBuffer","ArrayBufferView"]})};webidl.converters["sequence<ByteString>"]=webidl.sequenceConverter(webidl.converters.ByteString);webidl.converters["sequence<sequence<ByteString>>"]=webidl.sequenceConverter(webidl.converters["sequence<ByteString>"]);webidl.converters["record<ByteString, ByteString>"]=webidl.recordConverter(webidl.converters.ByteString,webidl.converters.ByteString);webidl.converters.Blob=webidl.interfaceConverter(webidl.is.Blob,"Blob");webidl.converters.AbortSignal=webidl.interfaceConverter(webidl.is.AbortSignal,"AbortSignal");webidl.converters.EventHandlerNonNull=function(V){return webidl.util.Type(V)!==OBJECT?null:typeof V=="function"?V:()=>{}};webidl.attributes={Clamp:1,EnforceRange:2,AllowShared:4,AllowResizable:8,LegacyNullToEmptyString:16};module2.exports={webidl}}});var require_util4=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/fetch/util.js"(exports2,module2){"use strict";var{Transform}=require("node:stream"),zlib2=require("node:zlib"),{redirectStatusSet,referrerPolicyTokens,badPortsSet}=require_constants6(),{getGlobalOrigin}=require_global(),{collectASequenceOfCodePoints,collectAnHTTPQuotedString,removeChars,parseMIMEType}=require_data_url(),{performance:performance2}=require("node:perf_hooks"),{ReadableStreamFrom,isValidHTTPToken,normalizedMethodRecordsBase}=require_util3(),assert2=require("node:assert"),{isUint8Array}=require("node:util/types"),{webidl}=require_webidl();function responseURL(response){let urlList=response.urlList,length=urlList.length;return length===0?null:urlList[length-1].toString()}function responseLocationURL(response,requestFragment){if(!redirectStatusSet.has(response.status))return null;let location=response.headersList.get("location",!0);return location!==null&&isValidHeaderValue(location)&&(isValidEncodedURL(location)||(location=normalizeBinaryStringToUtf8(location)),location=new URL(location,responseURL(response))),location&&!location.hash&&(location.hash=requestFragment),location}function isValidEncodedURL(url){for(let i=0;i<url.length;++i){let code2=url.charCodeAt(i);if(code2>126||code2<32)return!1}return!0}function normalizeBinaryStringToUtf8(value){return Buffer.from(value,"binary").toString("utf8")}function requestCurrentURL(request2){return request2.urlList[request2.urlList.length-1]}function requestBadPort(request2){let url=requestCurrentURL(request2);return urlIsHttpHttpsScheme(url)&&badPortsSet.has(url.port)?"blocked":"allowed"}function isErrorLike(object){return object instanceof Error||object?.constructor?.name==="Error"||object?.constructor?.name==="DOMException"}function isValidReasonPhrase(statusText){for(let i=0;i<statusText.length;++i){let c=statusText.charCodeAt(i);if(!(c===9||c>=32&&c<=126||c>=128&&c<=255))return!1}return!0}var isValidHeaderName=isValidHTTPToken;function isValidHeaderValue(potentialValue){return(potentialValue[0]==="	"||potentialValue[0]===" "||potentialValue[potentialValue.length-1]==="	"||potentialValue[potentialValue.length-1]===" "||potentialValue.includes(`
`)||potentialValue.includes("\r")||potentialValue.includes("\0"))===!1}function parseReferrerPolicy(actualResponse){let policyHeader=(actualResponse.headersList.get("referrer-policy",!0)??"").split(","),policy="";if(policyHeader.length)for(let i=policyHeader.length;i!==0;i--){let token=policyHeader[i-1].trim();if(referrerPolicyTokens.has(token)){policy=token;break}}return policy}function setRequestReferrerPolicyOnRedirect(request2,actualResponse){let policy=parseReferrerPolicy(actualResponse);policy!==""&&(request2.referrerPolicy=policy)}function crossOriginResourcePolicyCheck(){return"allowed"}function corsCheck(){return"success"}function TAOCheck(){return"success"}function appendFetchMetadata(httpRequest){let header=null;header=httpRequest.mode,httpRequest.headersList.set("sec-fetch-mode",header,!0)}function appendRequestOriginHeader(request2){let serializedOrigin=request2.origin;if(!(serializedOrigin==="client"||serializedOrigin===void 0)){if(request2.responseTainting==="cors"||request2.mode==="websocket")request2.headersList.append("origin",serializedOrigin,!0);else if(request2.method!=="GET"&&request2.method!=="HEAD"){switch(request2.referrerPolicy){case"no-referrer":serializedOrigin=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":request2.origin&&urlHasHttpsScheme(request2.origin)&&!urlHasHttpsScheme(requestCurrentURL(request2))&&(serializedOrigin=null);break;case"same-origin":sameOrigin(request2,requestCurrentURL(request2))||(serializedOrigin=null);break;default:}request2.headersList.append("origin",serializedOrigin,!0)}}}function coarsenTime(timestamp,crossOriginIsolatedCapability){return timestamp}function clampAndCoarsenConnectionTimingInfo(connectionTimingInfo,defaultStartTime,crossOriginIsolatedCapability){return!connectionTimingInfo?.startTime||connectionTimingInfo.startTime<defaultStartTime?{domainLookupStartTime:defaultStartTime,domainLookupEndTime:defaultStartTime,connectionStartTime:defaultStartTime,connectionEndTime:defaultStartTime,secureConnectionStartTime:defaultStartTime,ALPNNegotiatedProtocol:connectionTimingInfo?.ALPNNegotiatedProtocol}:{domainLookupStartTime:coarsenTime(connectionTimingInfo.domainLookupStartTime,crossOriginIsolatedCapability),domainLookupEndTime:coarsenTime(connectionTimingInfo.domainLookupEndTime,crossOriginIsolatedCapability),connectionStartTime:coarsenTime(connectionTimingInfo.connectionStartTime,crossOriginIsolatedCapability),connectionEndTime:coarsenTime(connectionTimingInfo.connectionEndTime,crossOriginIsolatedCapability),secureConnectionStartTime:coarsenTime(connectionTimingInfo.secureConnectionStartTime,crossOriginIsolatedCapability),ALPNNegotiatedProtocol:connectionTimingInfo.ALPNNegotiatedProtocol}}function coarsenedSharedCurrentTime(crossOriginIsolatedCapability){return coarsenTime(performance2.now(),crossOriginIsolatedCapability)}function createOpaqueTimingInfo(timingInfo){return{startTime:timingInfo.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:timingInfo.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}function makePolicyContainer(){return{referrerPolicy:"strict-origin-when-cross-origin"}}function clonePolicyContainer(policyContainer){return{referrerPolicy:policyContainer.referrerPolicy}}function determineRequestsReferrer(request2){let policy=request2.referrerPolicy;assert2(policy);let referrerSource=null;if(request2.referrer==="client"){let globalOrigin=getGlobalOrigin();if(!globalOrigin||globalOrigin.origin==="null")return"no-referrer";referrerSource=new URL(globalOrigin)}else webidl.is.URL(request2.referrer)&&(referrerSource=request2.referrer);let referrerURL=stripURLForReferrer(referrerSource),referrerOrigin=stripURLForReferrer(referrerSource,!0);switch(referrerURL.toString().length>4096&&(referrerURL=referrerOrigin),policy){case"no-referrer":return"no-referrer";case"origin":return referrerOrigin??stripURLForReferrer(referrerSource,!0);case"unsafe-url":return referrerURL;case"strict-origin":{let currentURL=requestCurrentURL(request2);return isURLPotentiallyTrustworthy(referrerURL)&&!isURLPotentiallyTrustworthy(currentURL)?"no-referrer":referrerOrigin}case"strict-origin-when-cross-origin":{let currentURL=requestCurrentURL(request2);return sameOrigin(referrerURL,currentURL)?referrerURL:isURLPotentiallyTrustworthy(referrerURL)&&!isURLPotentiallyTrustworthy(currentURL)?"no-referrer":referrerOrigin}case"same-origin":return sameOrigin(request2,referrerURL)?referrerURL:"no-referrer";case"origin-when-cross-origin":return sameOrigin(request2,referrerURL)?referrerURL:referrerOrigin;case"no-referrer-when-downgrade":{let currentURL=requestCurrentURL(request2);return isURLPotentiallyTrustworthy(referrerURL)&&!isURLPotentiallyTrustworthy(currentURL)?"no-referrer":referrerURL}}}function stripURLForReferrer(url,originOnly=!1){return assert2(webidl.is.URL(url)),url=new URL(url),urlIsLocal(url)?"no-referrer":(url.username="",url.password="",url.hash="",originOnly===!0&&(url.pathname="",url.search=""),url)}var isPotentialleTrustworthyIPv4=RegExp.prototype.test.bind(/^127\.(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)\.){2}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)$/),isPotentiallyTrustworthyIPv6=RegExp.prototype.test.bind(/^(?:(?:0{1,4}:){7}|(?:0{1,4}:){1,6}:|::)0{0,3}1$/);function isOriginIPPotentiallyTrustworthy(origin){return origin.includes(":")?(origin[0]==="["&&origin[origin.length-1]==="]"&&(origin=origin.slice(1,-1)),isPotentiallyTrustworthyIPv6(origin)):isPotentialleTrustworthyIPv4(origin)}function isOriginPotentiallyTrustworthy(origin){return origin==null||origin==="null"?!1:(origin=new URL(origin),!!(origin.protocol==="https:"||origin.protocol==="wss:"||isOriginIPPotentiallyTrustworthy(origin.hostname)||origin.hostname==="localhost"||origin.hostname==="localhost."||origin.hostname.endsWith(".localhost")||origin.hostname.endsWith(".localhost.")||origin.protocol==="file:"))}function isURLPotentiallyTrustworthy(url){return webidl.is.URL(url)?url.href==="about:blank"||url.href==="about:srcdoc"||url.protocol==="data:"||url.protocol==="blob:"?!0:isOriginPotentiallyTrustworthy(url.origin):!1}function tryUpgradeRequestToAPotentiallyTrustworthyURL(request2){}function sameOrigin(A,B){return A.origin===B.origin&&A.origin==="null"||A.protocol===B.protocol&&A.hostname===B.hostname&&A.port===B.port}function isAborted2(fetchParams){return fetchParams.controller.state==="aborted"}function isCancelled(fetchParams){return fetchParams.controller.state==="aborted"||fetchParams.controller.state==="terminated"}function normalizeMethod(method){return normalizedMethodRecordsBase[method.toLowerCase()]??method}function serializeJavascriptValueToJSONString(value){let result=JSON.stringify(value);if(result===void 0)throw new TypeError("Value is not JSON serializable");return assert2(typeof result=="string"),result}var esIteratorPrototype=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function createIterator(name,kInternalIterator,keyIndex=0,valueIndex=1){class FastIterableIterator{#target;#kind;#index;constructor(target,kind){this.#target=target,this.#kind=kind,this.#index=0}next(){if(typeof this!="object"||this===null||!(#target in this))throw new TypeError(`'next' called on an object that does not implement interface ${name} Iterator.`);let index2=this.#index,values2=kInternalIterator(this.#target),len=values2.length;if(index2>=len)return{value:void 0,done:!0};let{[keyIndex]:key,[valueIndex]:value}=values2[index2];this.#index=index2+1;let result;switch(this.#kind){case"key":result=key;break;case"value":result=value;break;case"key+value":result=[key,value];break}return{value:result,done:!1}}}return delete FastIterableIterator.prototype.constructor,Object.setPrototypeOf(FastIterableIterator.prototype,esIteratorPrototype),Object.defineProperties(FastIterableIterator.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${name} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(target,kind){return new FastIterableIterator(target,kind)}}function iteratorMixin(name,object,kInternalIterator,keyIndex=0,valueIndex=1){let makeIterator=createIterator(name,kInternalIterator,keyIndex,valueIndex),properties={keys:{writable:!0,enumerable:!0,configurable:!0,value:function(){return webidl.brandCheck(this,object),makeIterator(this,"key")}},values:{writable:!0,enumerable:!0,configurable:!0,value:function(){return webidl.brandCheck(this,object),makeIterator(this,"value")}},entries:{writable:!0,enumerable:!0,configurable:!0,value:function(){return webidl.brandCheck(this,object),makeIterator(this,"key+value")}},forEach:{writable:!0,enumerable:!0,configurable:!0,value:function(callbackfn,thisArg=globalThis){if(webidl.brandCheck(this,object),webidl.argumentLengthCheck(arguments,1,`${name}.forEach`),typeof callbackfn!="function")throw new TypeError(`Failed to execute 'forEach' on '${name}': parameter 1 is not of type 'Function'.`);for(let{0:key,1:value}of makeIterator(this,"key+value"))callbackfn.call(thisArg,value,key,this)}}};return Object.defineProperties(object.prototype,{...properties,[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:properties.entries.value}})}function fullyReadBody(body,processBody,processBodyError){let successSteps=processBody,errorSteps=processBodyError;try{let reader=body.stream.getReader();readAllBytes2(reader,successSteps,errorSteps)}catch(e){errorSteps(e)}}function readableStreamClose(controller){try{controller.close(),controller.byobRequest?.respond(0)}catch(err){if(!err.message.includes("Controller is already closed")&&!err.message.includes("ReadableStream is already closed"))throw err}}var invalidIsomorphicEncodeValueRegex=/[^\x00-\xFF]/;function isomorphicEncode(input){return assert2(!invalidIsomorphicEncodeValueRegex.test(input)),input}async function readAllBytes2(reader,successSteps,failureSteps){try{let bytes=[],byteLength=0;do{let{done,value:chunk}=await reader.read();if(done){successSteps(Buffer.concat(bytes,byteLength));return}if(!isUint8Array(chunk)){failureSteps(new TypeError("Received non-Uint8Array chunk"));return}bytes.push(chunk),byteLength+=chunk.length}while(!0)}catch(e){failureSteps(e)}}function urlIsLocal(url){assert2("protocol"in url);let protocol=url.protocol;return protocol==="about:"||protocol==="blob:"||protocol==="data:"}function urlHasHttpsScheme(url){return typeof url=="string"&&url[5]===":"&&url[0]==="h"&&url[1]==="t"&&url[2]==="t"&&url[3]==="p"&&url[4]==="s"||url.protocol==="https:"}function urlIsHttpHttpsScheme(url){assert2("protocol"in url);let protocol=url.protocol;return protocol==="http:"||protocol==="https:"}function simpleRangeHeaderValue(value,allowWhitespace){let data=value;if(!data.startsWith("bytes"))return"failure";let position={position:5};if(allowWhitespace&&collectASequenceOfCodePoints(char=>char==="	"||char===" ",data,position),data.charCodeAt(position.position)!==61)return"failure";position.position++,allowWhitespace&&collectASequenceOfCodePoints(char=>char==="	"||char===" ",data,position);let rangeStart=collectASequenceOfCodePoints(char=>{let code2=char.charCodeAt(0);return code2>=48&&code2<=57},data,position),rangeStartValue=rangeStart.length?Number(rangeStart):null;if(allowWhitespace&&collectASequenceOfCodePoints(char=>char==="	"||char===" ",data,position),data.charCodeAt(position.position)!==45)return"failure";position.position++,allowWhitespace&&collectASequenceOfCodePoints(char=>char==="	"||char===" ",data,position);let rangeEnd=collectASequenceOfCodePoints(char=>{let code2=char.charCodeAt(0);return code2>=48&&code2<=57},data,position),rangeEndValue=rangeEnd.length?Number(rangeEnd):null;return position.position<data.length||rangeEndValue===null&&rangeStartValue===null||rangeStartValue>rangeEndValue?"failure":{rangeStartValue,rangeEndValue}}function buildContentRange(rangeStart,rangeEnd,fullLength){let contentRange="bytes ";return contentRange+=isomorphicEncode(`${rangeStart}`),contentRange+="-",contentRange+=isomorphicEncode(`${rangeEnd}`),contentRange+="/",contentRange+=isomorphicEncode(`${fullLength}`),contentRange}var InflateStream=class extends Transform{#zlibOptions;constructor(zlibOptions){super(),this.#zlibOptions=zlibOptions}_transform(chunk,encoding,callback){if(!this._inflateStream){if(chunk.length===0){callback();return}this._inflateStream=(chunk[0]&15)===8?zlib2.createInflate(this.#zlibOptions):zlib2.createInflateRaw(this.#zlibOptions),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",err=>this.destroy(err))}this._inflateStream.write(chunk,encoding,callback)}_final(callback){this._inflateStream&&(this._inflateStream.end(),this._inflateStream=null),callback()}};function createInflate(zlibOptions){return new InflateStream(zlibOptions)}function extractMimeType(headers){let charset=null,essence=null,mimeType=null,values2=getDecodeSplit("content-type",headers);if(values2===null)return"failure";for(let value of values2){let temporaryMimeType=parseMIMEType(value);temporaryMimeType==="failure"||temporaryMimeType.essence==="*/*"||(mimeType=temporaryMimeType,mimeType.essence!==essence?(charset=null,mimeType.parameters.has("charset")&&(charset=mimeType.parameters.get("charset")),essence=mimeType.essence):!mimeType.parameters.has("charset")&&charset!==null&&mimeType.parameters.set("charset",charset))}return mimeType??"failure"}function gettingDecodingSplitting(value){let input=value,position={position:0},values2=[],temporaryValue="";for(;position.position<input.length;){if(temporaryValue+=collectASequenceOfCodePoints(char=>char!=='"'&&char!==",",input,position),position.position<input.length)if(input.charCodeAt(position.position)===34){if(temporaryValue+=collectAnHTTPQuotedString(input,position),position.position<input.length)continue}else assert2(input.charCodeAt(position.position)===44),position.position++;temporaryValue=removeChars(temporaryValue,!0,!0,char=>char===9||char===32),values2.push(temporaryValue),temporaryValue=""}return values2}function getDecodeSplit(name,list2){let value=list2.get(name,!0);return value===null?null:gettingDecodingSplitting(value)}var textDecoder=new TextDecoder;function utf8DecodeBytes(buffer){return buffer.length===0?"":(buffer[0]===239&&buffer[1]===187&&buffer[2]===191&&(buffer=buffer.subarray(3)),textDecoder.decode(buffer))}var EnvironmentSettingsObjectBase=class{get baseUrl(){return getGlobalOrigin()}get origin(){return this.baseUrl?.origin}policyContainer=makePolicyContainer()},EnvironmentSettingsObject=class{settingsObject=new EnvironmentSettingsObjectBase},environmentSettingsObject=new EnvironmentSettingsObject;module2.exports={isAborted:isAborted2,isCancelled,isValidEncodedURL,ReadableStreamFrom,tryUpgradeRequestToAPotentiallyTrustworthyURL,clampAndCoarsenConnectionTimingInfo,coarsenedSharedCurrentTime,determineRequestsReferrer,makePolicyContainer,clonePolicyContainer,appendFetchMetadata,appendRequestOriginHeader,TAOCheck,corsCheck,crossOriginResourcePolicyCheck,createOpaqueTimingInfo,setRequestReferrerPolicyOnRedirect,isValidHTTPToken,requestBadPort,requestCurrentURL,responseURL,responseLocationURL,isURLPotentiallyTrustworthy,isValidReasonPhrase,sameOrigin,normalizeMethod,serializeJavascriptValueToJSONString,iteratorMixin,createIterator,isValidHeaderName,isValidHeaderValue,isErrorLike,fullyReadBody,readableStreamClose,isomorphicEncode,urlIsLocal,urlHasHttpsScheme,urlIsHttpHttpsScheme,readAllBytes:readAllBytes2,simpleRangeHeaderValue,buildContentRange,createInflate,extractMimeType,getDecodeSplit,utf8DecodeBytes,environmentSettingsObject,isOriginIPPotentiallyTrustworthy}}});var require_formdata=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/fetch/formdata.js"(exports2,module2){"use strict";var{iteratorMixin}=require_util4(),{kEnumerableProperty}=require_util3(),{webidl}=require_webidl(),nodeUtil=require("node:util"),FormData2=class _FormData{#state=[];constructor(form=void 0){if(webidl.util.markAsUncloneable(this),form!==void 0)throw webidl.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]})}append(name,value,filename=void 0){webidl.brandCheck(this,_FormData);let prefix="FormData.append";webidl.argumentLengthCheck(arguments,2,prefix),name=webidl.converters.USVString(name),arguments.length===3||webidl.is.Blob(value)?(value=webidl.converters.Blob(value,prefix,"value"),filename!==void 0&&(filename=webidl.converters.USVString(filename))):value=webidl.converters.USVString(value);let entry=makeEntry(name,value,filename);this.#state.push(entry)}delete(name){webidl.brandCheck(this,_FormData),webidl.argumentLengthCheck(arguments,1,"FormData.delete"),name=webidl.converters.USVString(name),this.#state=this.#state.filter(entry=>entry.name!==name)}get(name){webidl.brandCheck(this,_FormData),webidl.argumentLengthCheck(arguments,1,"FormData.get"),name=webidl.converters.USVString(name);let idx=this.#state.findIndex(entry=>entry.name===name);return idx===-1?null:this.#state[idx].value}getAll(name){return webidl.brandCheck(this,_FormData),webidl.argumentLengthCheck(arguments,1,"FormData.getAll"),name=webidl.converters.USVString(name),this.#state.filter(entry=>entry.name===name).map(entry=>entry.value)}has(name){return webidl.brandCheck(this,_FormData),webidl.argumentLengthCheck(arguments,1,"FormData.has"),name=webidl.converters.USVString(name),this.#state.findIndex(entry=>entry.name===name)!==-1}set(name,value,filename=void 0){webidl.brandCheck(this,_FormData);let prefix="FormData.set";webidl.argumentLengthCheck(arguments,2,prefix),name=webidl.converters.USVString(name),arguments.length===3||webidl.is.Blob(value)?(value=webidl.converters.Blob(value,prefix,"value"),filename!==void 0&&(filename=webidl.converters.USVString(filename))):value=webidl.converters.USVString(value);let entry=makeEntry(name,value,filename),idx=this.#state.findIndex(entry2=>entry2.name===name);idx!==-1?this.#state=[...this.#state.slice(0,idx),entry,...this.#state.slice(idx+1).filter(entry2=>entry2.name!==name)]:this.#state.push(entry)}[nodeUtil.inspect.custom](depth,options2){let state=this.#state.reduce((a,b)=>(a[b.name]?Array.isArray(a[b.name])?a[b.name].push(b.value):a[b.name]=[a[b.name],b.value]:a[b.name]=b.value,a),{__proto__:null});options2.depth??=depth,options2.colors??=!0;let output=nodeUtil.formatWithOptions(options2,state);return`FormData ${output.slice(output.indexOf("]")+2)}`}static getFormDataState(formData){return formData.#state}static setFormDataState(formData,newState){formData.#state=newState}},{getFormDataState,setFormDataState}=FormData2;Reflect.deleteProperty(FormData2,"getFormDataState");Reflect.deleteProperty(FormData2,"setFormDataState");iteratorMixin("FormData",FormData2,getFormDataState,"name","value");Object.defineProperties(FormData2.prototype,{append:kEnumerableProperty,delete:kEnumerableProperty,get:kEnumerableProperty,getAll:kEnumerableProperty,has:kEnumerableProperty,set:kEnumerableProperty,[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function makeEntry(name,value,filename){if(typeof value!="string"){if(webidl.is.File(value)||(value=new File([value],"blob",{type:value.type})),filename!==void 0){let options2={type:value.type,lastModified:value.lastModified};value=new File([value],filename,options2)}}return{name,value}}webidl.is.FormData=webidl.util.MakeTypeAssertion(FormData2);module2.exports={FormData:FormData2,makeEntry,setFormDataState}}});var require_formdata_parser=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/fetch/formdata-parser.js"(exports2,module2){"use strict";var{bufferToLowerCasedHeaderName}=require_util3(),{utf8DecodeBytes}=require_util4(),{HTTP_TOKEN_CODEPOINTS,isomorphicDecode}=require_data_url(),{makeEntry}=require_formdata(),{webidl}=require_webidl(),assert2=require("node:assert"),formDataNameBuffer=Buffer.from('form-data; name="'),filenameBuffer=Buffer.from("filename"),dd=Buffer.from("--"),ddcrlf=Buffer.from(`--\r
`);function isAsciiString(chars){for(let i=0;i<chars.length;++i)if((chars.charCodeAt(i)&-128)!==0)return!1;return!0}function validateBoundary(boundary){let length=boundary.length;if(length<27||length>70)return!1;for(let i=0;i<length;++i){let cp=boundary.charCodeAt(i);if(!(cp>=48&&cp<=57||cp>=65&&cp<=90||cp>=97&&cp<=122||cp===39||cp===45||cp===95))return!1}return!0}function multipartFormDataParser(input,mimeType){assert2(mimeType!=="failure"&&mimeType.essence==="multipart/form-data");let boundaryString=mimeType.parameters.get("boundary");if(boundaryString===void 0)throw parsingError("missing boundary in content-type header");let boundary=Buffer.from(`--${boundaryString}`,"utf8"),entryList=[],position={position:0};for(;input[position.position]===13&&input[position.position+1]===10;)position.position+=2;let trailing=input.length;for(;input[trailing-1]===10&&input[trailing-2]===13;)trailing-=2;for(trailing!==input.length&&(input=input.subarray(0,trailing));;){if(input.subarray(position.position,position.position+boundary.length).equals(boundary))position.position+=boundary.length;else throw parsingError("expected a value starting with -- and the boundary");if(position.position===input.length-2&&bufferStartsWith(input,dd,position)||position.position===input.length-4&&bufferStartsWith(input,ddcrlf,position))return entryList;if(input[position.position]!==13||input[position.position+1]!==10)throw parsingError("expected CRLF");position.position+=2;let result=parseMultipartFormDataHeaders(input,position),{name,filename,contentType,encoding}=result;position.position+=2;let body;{let boundaryIndex=input.indexOf(boundary.subarray(2),position.position);if(boundaryIndex===-1)throw parsingError("expected boundary after body");body=input.subarray(position.position,boundaryIndex-4),position.position+=body.length,encoding==="base64"&&(body=Buffer.from(body.toString(),"base64"))}if(input[position.position]!==13||input[position.position+1]!==10)throw parsingError("expected CRLF");position.position+=2;let value;filename!==null?(contentType??="text/plain",isAsciiString(contentType)||(contentType=""),value=new File([body],filename,{type:contentType})):value=utf8DecodeBytes(Buffer.from(body)),assert2(webidl.is.USVString(name)),assert2(typeof value=="string"&&webidl.is.USVString(value)||webidl.is.File(value)),entryList.push(makeEntry(name,value,filename))}}function parseMultipartFormDataHeaders(input,position){let name=null,filename=null,contentType=null,encoding=null;for(;;){if(input[position.position]===13&&input[position.position+1]===10){if(name===null)throw parsingError("header name is null");return{name,filename,contentType,encoding}}let headerName=collectASequenceOfBytes(char=>char!==10&&char!==13&&char!==58,input,position);if(headerName=removeChars(headerName,!0,!0,char=>char===9||char===32),!HTTP_TOKEN_CODEPOINTS.test(headerName.toString()))throw parsingError("header name does not match the field-name token production");if(input[position.position]!==58)throw parsingError("expected :");switch(position.position++,collectASequenceOfBytes(char=>char===32||char===9,input,position),bufferToLowerCasedHeaderName(headerName)){case"content-disposition":{if(name=filename=null,!bufferStartsWith(input,formDataNameBuffer,position))throw parsingError('expected form-data; name=" for content-disposition header');if(position.position+=17,name=parseMultipartFormDataName(input,position),input[position.position]===59&&input[position.position+1]===32){let at={position:position.position+2};if(bufferStartsWith(input,filenameBuffer,at))if(input[at.position+8]===42){at.position+=10,collectASequenceOfBytes(char=>char===32||char===9,input,at);let headerValue=collectASequenceOfBytes(char=>char!==32&&char!==13&&char!==10,input,at);if(headerValue[0]!==117&&headerValue[0]!==85||headerValue[1]!==116&&headerValue[1]!==84||headerValue[2]!==102&&headerValue[2]!==70||headerValue[3]!==45||headerValue[4]!==56)throw parsingError("unknown encoding, expected utf-8''");filename=decodeURIComponent(new TextDecoder().decode(headerValue.subarray(7))),position.position=at.position}else position.position+=11,collectASequenceOfBytes(char=>char===32||char===9,input,position),position.position++,filename=parseMultipartFormDataName(input,position)}break}case"content-type":{let headerValue=collectASequenceOfBytes(char=>char!==10&&char!==13,input,position);headerValue=removeChars(headerValue,!1,!0,char=>char===9||char===32),contentType=isomorphicDecode(headerValue);break}case"content-transfer-encoding":{let headerValue=collectASequenceOfBytes(char=>char!==10&&char!==13,input,position);headerValue=removeChars(headerValue,!1,!0,char=>char===9||char===32),encoding=isomorphicDecode(headerValue);break}default:collectASequenceOfBytes(char=>char!==10&&char!==13,input,position)}if(input[position.position]!==13&&input[position.position+1]!==10)throw parsingError("expected CRLF");position.position+=2}}function parseMultipartFormDataName(input,position){assert2(input[position.position-1]===34);let name=collectASequenceOfBytes(char=>char!==10&&char!==13&&char!==34,input,position);if(input[position.position]!==34)throw parsingError('expected "');return position.position++,name=new TextDecoder().decode(name).replace(/%0A/ig,`
`).replace(/%0D/ig,"\r").replace(/%22/g,'"'),name}function collectASequenceOfBytes(condition,input,position){let start=position.position;for(;start<input.length&&condition(input[start]);)++start;return input.subarray(position.position,position.position=start)}function removeChars(buf,leading,trailing,predicate){let lead=0,trail=buf.length-1;if(leading)for(;lead<buf.length&&predicate(buf[lead]);)lead++;if(trailing)for(;trail>0&&predicate(buf[trail]);)trail--;return lead===0&&trail===buf.length-1?buf:buf.subarray(lead,trail+1)}function bufferStartsWith(buffer,start,position){if(buffer.length<start.length)return!1;for(let i=0;i<start.length;i++)if(start[i]!==buffer[position.position+i])return!1;return!0}function parsingError(cause){return new TypeError("Failed to parse body as FormData.",{cause:new TypeError(cause)})}module2.exports={multipartFormDataParser,validateBoundary}}});var require_promise2=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/util/promise.js"(exports2,module2){"use strict";function createDeferredPromise(){let res,rej;return{promise:new Promise((resolve,reject)=>{res=resolve,rej=reject}),resolve:res,reject:rej}}module2.exports={createDeferredPromise}}});var require_body=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/fetch/body.js"(exports2,module2){"use strict";var util3=require_util3(),{ReadableStreamFrom,readableStreamClose,fullyReadBody,extractMimeType,utf8DecodeBytes}=require_util4(),{FormData:FormData2,setFormDataState}=require_formdata(),{webidl}=require_webidl(),assert2=require("node:assert"),{isErrored,isDisturbed}=require("node:stream"),{isArrayBuffer}=require("node:util/types"),{serializeAMimeType}=require_data_url(),{multipartFormDataParser}=require_formdata_parser(),{createDeferredPromise}=require_promise2(),random;try{let crypto2=require("node:crypto");random=max=>crypto2.randomInt(0,max)}catch{random=max=>Math.floor(Math.random()*max)}var textEncoder=new TextEncoder;function noop(){}var streamRegistry=new FinalizationRegistry(weakRef=>{let stream=weakRef.deref();stream&&!stream.locked&&!isDisturbed(stream)&&!isErrored(stream)&&stream.cancel("Response object has been garbage collected").catch(noop)});function extractBody(object,keepalive=!1){let stream=null;webidl.is.ReadableStream(object)?stream=object:webidl.is.Blob(object)?stream=object.stream():stream=new ReadableStream({pull(controller){let buffer=typeof source=="string"?textEncoder.encode(source):source;buffer.byteLength&&controller.enqueue(buffer),queueMicrotask(()=>readableStreamClose(controller))},start(){},type:"bytes"}),assert2(webidl.is.ReadableStream(stream));let action=null,source=null,length=null,type=null;if(typeof object=="string")source=object,type="text/plain;charset=UTF-8";else if(webidl.is.URLSearchParams(object))source=object.toString(),type="application/x-www-form-urlencoded;charset=UTF-8";else if(webidl.is.BufferSource(object))source=isArrayBuffer(object)?new Uint8Array(object.slice()):new Uint8Array(object.buffer.slice(object.byteOffset,object.byteOffset+object.byteLength));else if(webidl.is.FormData(object)){let boundary=`----formdata-undici-0${`${random(1e11)}`.padStart(11,"0")}`,prefix=`--${boundary}\r
Content-Disposition: form-data`;let formdataEscape=str=>str.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),normalizeLinefeeds=value=>value.replace(/\r?\n|\r/g,`\r
`),blobParts=[],rn=new Uint8Array([13,10]);length=0;let hasUnknownSizeValue=!1;for(let[name,value]of object)if(typeof value=="string"){let chunk2=textEncoder.encode(prefix+`; name="${formdataEscape(normalizeLinefeeds(name))}"\r
\r
${normalizeLinefeeds(value)}\r
`);blobParts.push(chunk2),length+=chunk2.byteLength}else{let chunk2=textEncoder.encode(`${prefix}; name="${formdataEscape(normalizeLinefeeds(name))}"`+(value.name?`; filename="${formdataEscape(value.name)}"`:"")+`\r
Content-Type: ${value.type||"application/octet-stream"}\r
\r
`);blobParts.push(chunk2,value,rn),typeof value.size=="number"?length+=chunk2.byteLength+value.size+rn.byteLength:hasUnknownSizeValue=!0}let chunk=textEncoder.encode(`--${boundary}--\r
`);blobParts.push(chunk),length+=chunk.byteLength,hasUnknownSizeValue&&(length=null),source=object,action=async function*(){for(let part of blobParts)part.stream?yield*part.stream():yield part},type=`multipart/form-data; boundary=${boundary}`}else if(webidl.is.Blob(object))source=object,length=object.size,object.type&&(type=object.type);else if(typeof object[Symbol.asyncIterator]=="function"){if(keepalive)throw new TypeError("keepalive");if(util3.isDisturbed(object)||object.locked)throw new TypeError("Response body object should not be disturbed or locked");stream=webidl.is.ReadableStream(object)?object:ReadableStreamFrom(object)}if((typeof source=="string"||util3.isBuffer(source))&&(length=Buffer.byteLength(source)),action!=null){let iterator;stream=new ReadableStream({async start(){iterator=action(object)[Symbol.asyncIterator]()},async pull(controller){let{value,done}=await iterator.next();if(done)queueMicrotask(()=>{controller.close(),controller.byobRequest?.respond(0)});else if(!isErrored(stream)){let buffer=new Uint8Array(value);buffer.byteLength&&controller.enqueue(buffer)}return controller.desiredSize>0},async cancel(reason){await iterator.return()},type:"bytes"})}return[{stream,source,length},type]}function safelyExtractBody(object,keepalive=!1){return webidl.is.ReadableStream(object)&&(assert2(!util3.isDisturbed(object),"The body has already been consumed."),assert2(!object.locked,"The stream is locked.")),extractBody(object,keepalive)}function cloneBody(body){let{0:out1,1:out2}=body.stream.tee();return body.stream=out1,{stream:out2,length:body.length,source:body.source}}function bodyMixinMethods(instance,getInternalState){return{blob(){return consumeBody(this,bytes=>{let mimeType=bodyMimeType(getInternalState(this));return mimeType===null?mimeType="":mimeType&&(mimeType=serializeAMimeType(mimeType)),new Blob([bytes],{type:mimeType})},instance,getInternalState)},arrayBuffer(){return consumeBody(this,bytes=>new Uint8Array(bytes).buffer,instance,getInternalState)},text(){return consumeBody(this,utf8DecodeBytes,instance,getInternalState)},json(){return consumeBody(this,parseJSONFromBytes,instance,getInternalState)},formData(){return consumeBody(this,value=>{let mimeType=bodyMimeType(getInternalState(this));if(mimeType!==null)switch(mimeType.essence){case"multipart/form-data":{let parsed=multipartFormDataParser(value,mimeType),fd=new FormData2;return setFormDataState(fd,parsed),fd}case"application/x-www-form-urlencoded":{let entries=new URLSearchParams(value.toString()),fd=new FormData2;for(let[name,value2]of entries)fd.append(name,value2);return fd}}throw new TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},instance,getInternalState)},bytes(){return consumeBody(this,bytes=>new Uint8Array(bytes),instance,getInternalState)}}}function mixinBody(prototype,getInternalState){Object.assign(prototype.prototype,bodyMixinMethods(prototype,getInternalState))}function consumeBody(object,convertBytesToJSValue,instance,getInternalState){try{webidl.brandCheck(object,instance)}catch(e){return Promise.reject(e)}let state=getInternalState(object);if(bodyUnusable(state))return Promise.reject(new TypeError("Body is unusable: Body has already been read"));if(state.aborted)return Promise.reject(new DOMException("The operation was aborted.","AbortError"));let promise=createDeferredPromise(),errorSteps=promise.reject,successSteps=data=>{try{promise.resolve(convertBytesToJSValue(data))}catch(e){errorSteps(e)}};return state.body==null?(successSteps(Buffer.allocUnsafe(0)),promise.promise):(fullyReadBody(state.body,successSteps,errorSteps),promise.promise)}function bodyUnusable(object){let body=object.body;return body!=null&&(body.stream.locked||util3.isDisturbed(body.stream))}function parseJSONFromBytes(bytes){return JSON.parse(utf8DecodeBytes(bytes))}function bodyMimeType(requestOrResponse){let headers=requestOrResponse.headersList,mimeType=extractMimeType(headers);return mimeType==="failure"?null:mimeType}module2.exports={extractBody,safelyExtractBody,cloneBody,mixinBody,streamRegistry,bodyUnusable}}});var require_client_h1=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/dispatcher/client-h1.js"(exports2,module2){"use strict";var assert2=require("node:assert"),util3=require_util3(),{channels}=require_diagnostics(),timers=require_timers(),{RequestContentLengthMismatchError,ResponseContentLengthMismatchError,RequestAbortedError,HeadersTimeoutError,HeadersOverflowError,SocketError,InformationalError,BodyTimeoutError,HTTPParserError,ResponseExceededMaxSizeError}=require_errors5(),{kUrl,kReset,kClient,kParser,kBlocking,kRunning,kPending,kSize,kWriting,kQueue,kNoRef,kKeepAliveDefaultTimeout,kHostHeader,kPendingIdx,kRunningIdx,kError,kPipelining,kSocket,kKeepAliveTimeoutValue,kMaxHeadersSize,kKeepAliveMaxTimeout,kKeepAliveTimeoutThreshold,kHeadersTimeout,kBodyTimeout,kStrictContentLength,kMaxRequests,kCounter,kMaxResponseSize,kOnError,kResume,kHTTPContext,kClosed}=require_symbols4(),constants=require_constants5(),EMPTY_BUF=Buffer.alloc(0),FastBuffer=Buffer[Symbol.species],removeAllListeners=util3.removeAllListeners,extractBody;function lazyllhttp(){let llhttpWasmData=process.env.JEST_WORKER_ID?require_llhttp_wasm():void 0,mod,useWasmSIMD=process.arch!=="ppc64";if(process.env.UNDICI_NO_WASM_SIMD==="1"?useWasmSIMD=!0:process.env.UNDICI_NO_WASM_SIMD==="0"&&(useWasmSIMD=!1),useWasmSIMD)try{mod=new WebAssembly.Module(require_llhttp_simd_wasm())}catch{}return mod||(mod=new WebAssembly.Module(llhttpWasmData||require_llhttp_wasm())),new WebAssembly.Instance(mod,{env:{wasm_on_url:(p,at,len)=>0,wasm_on_status:(p,at,len)=>{assert2(currentParser.ptr===p);let start=at-currentBufferPtr+currentBufferRef.byteOffset;return currentParser.onStatus(new FastBuffer(currentBufferRef.buffer,start,len))},wasm_on_message_begin:p=>(assert2(currentParser.ptr===p),currentParser.onMessageBegin()),wasm_on_header_field:(p,at,len)=>{assert2(currentParser.ptr===p);let start=at-currentBufferPtr+currentBufferRef.byteOffset;return currentParser.onHeaderField(new FastBuffer(currentBufferRef.buffer,start,len))},wasm_on_header_value:(p,at,len)=>{assert2(currentParser.ptr===p);let start=at-currentBufferPtr+currentBufferRef.byteOffset;return currentParser.onHeaderValue(new FastBuffer(currentBufferRef.buffer,start,len))},wasm_on_headers_complete:(p,statusCode,upgrade,shouldKeepAlive)=>(assert2(currentParser.ptr===p),currentParser.onHeadersComplete(statusCode,upgrade===1,shouldKeepAlive===1)),wasm_on_body:(p,at,len)=>{assert2(currentParser.ptr===p);let start=at-currentBufferPtr+currentBufferRef.byteOffset;return currentParser.onBody(new FastBuffer(currentBufferRef.buffer,start,len))},wasm_on_message_complete:p=>(assert2(currentParser.ptr===p),currentParser.onMessageComplete())}})}var llhttpInstance=null,currentParser=null,currentBufferRef=null,currentBufferSize=0,currentBufferPtr=null,USE_NATIVE_TIMER=0,USE_FAST_TIMER=1,TIMEOUT_HEADERS=2|USE_FAST_TIMER,TIMEOUT_BODY=4|USE_FAST_TIMER,TIMEOUT_KEEP_ALIVE=8|USE_NATIVE_TIMER,Parser=class{constructor(client,socket,{exports:exports3}){this.llhttp=exports3,this.ptr=this.llhttp.llhttp_alloc(constants.TYPE.RESPONSE),this.client=client,this.socket=socket,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=0,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=client[kMaxHeadersSize],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=client[kMaxResponseSize]}setTimeout(delay,type){delay!==this.timeoutValue||type&USE_FAST_TIMER^this.timeoutType&USE_FAST_TIMER?(this.timeout&&(timers.clearTimeout(this.timeout),this.timeout=null),delay&&(type&USE_FAST_TIMER?this.timeout=timers.setFastTimeout(onParserTimeout,delay,new WeakRef(this)):(this.timeout=setTimeout(onParserTimeout,delay,new WeakRef(this)),this.timeout?.unref())),this.timeoutValue=delay):this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.timeoutType=type}resume(){this.socket.destroyed||!this.paused||(assert2(this.ptr!=null),assert2(currentParser===null),this.llhttp.llhttp_resume(this.ptr),assert2(this.timeoutType===TIMEOUT_BODY),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||EMPTY_BUF),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let chunk=this.socket.read();if(chunk===null)break;this.execute(chunk)}}execute(chunk){assert2(currentParser===null),assert2(this.ptr!=null),assert2(!this.paused);let{socket,llhttp}=this;chunk.length>currentBufferSize&&(currentBufferPtr&&llhttp.free(currentBufferPtr),currentBufferSize=Math.ceil(chunk.length/4096)*4096,currentBufferPtr=llhttp.malloc(currentBufferSize)),new Uint8Array(llhttp.memory.buffer,currentBufferPtr,currentBufferSize).set(chunk);try{let ret;try{currentBufferRef=chunk,currentParser=this,ret=llhttp.llhttp_execute(this.ptr,currentBufferPtr,chunk.length)}finally{currentParser=null,currentBufferRef=null}if(ret!==constants.ERROR.OK){let data=chunk.subarray(llhttp.llhttp_get_error_pos(this.ptr)-currentBufferPtr);if(ret===constants.ERROR.PAUSED_UPGRADE)this.onUpgrade(data);else if(ret===constants.ERROR.PAUSED)this.paused=!0,socket.unshift(data);else{let ptr=llhttp.llhttp_get_error_reason(this.ptr),message="";if(ptr){let len=new Uint8Array(llhttp.memory.buffer,ptr).indexOf(0);message="Response does not match the HTTP/1.1 protocol ("+Buffer.from(llhttp.memory.buffer,ptr,len).toString()+")"}throw new HTTPParserError(message,constants.ERROR[ret],data)}}}catch(err){util3.destroy(socket,err)}}destroy(){assert2(currentParser===null),assert2(this.ptr!=null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,this.timeout&&timers.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(buf){return this.statusText=buf.toString(),0}onMessageBegin(){let{socket,client}=this;if(socket.destroyed)return-1;let request2=client[kQueue][client[kRunningIdx]];return request2?(request2.onResponseStarted(),0):-1}onHeaderField(buf){let len=this.headers.length;return(len&1)===0?this.headers.push(buf):this.headers[len-1]=Buffer.concat([this.headers[len-1],buf]),this.trackHeader(buf.length),0}onHeaderValue(buf){let len=this.headers.length;(len&1)===1?(this.headers.push(buf),len+=1):this.headers[len-1]=Buffer.concat([this.headers[len-1],buf]);let key=this.headers[len-2];if(key.length===10){let headerName=util3.bufferToLowerCasedHeaderName(key);headerName==="keep-alive"?this.keepAlive+=buf.toString():headerName==="connection"&&(this.connection+=buf.toString())}else key.length===14&&util3.bufferToLowerCasedHeaderName(key)==="content-length"&&(this.contentLength+=buf.toString());return this.trackHeader(buf.length),0}trackHeader(len){this.headersSize+=len,this.headersSize>=this.headersMaxSize&&util3.destroy(this.socket,new HeadersOverflowError)}onUpgrade(head){let{upgrade,client,socket,headers,statusCode}=this;assert2(upgrade),assert2(client[kSocket]===socket),assert2(!socket.destroyed),assert2(!this.paused),assert2((headers.length&1)===0);let request2=client[kQueue][client[kRunningIdx]];assert2(request2),assert2(request2.upgrade||request2.method==="CONNECT"),this.statusCode=0,this.statusText="",this.shouldKeepAlive=!1,this.headers=[],this.headersSize=0,socket.unshift(head),socket[kParser].destroy(),socket[kParser]=null,socket[kClient]=null,socket[kError]=null,removeAllListeners(socket),client[kSocket]=null,client[kHTTPContext]=null,client[kQueue][client[kRunningIdx]++]=null,client.emit("disconnect",client[kUrl],[client],new InformationalError("upgrade"));try{request2.onUpgrade(statusCode,headers,socket)}catch(err){util3.destroy(socket,err)}client[kResume]()}onHeadersComplete(statusCode,upgrade,shouldKeepAlive){let{client,socket,headers,statusText}=this;if(socket.destroyed)return-1;let request2=client[kQueue][client[kRunningIdx]];if(!request2)return-1;if(assert2(!this.upgrade),assert2(this.statusCode<200),statusCode===100)return util3.destroy(socket,new SocketError("bad response",util3.getSocketInfo(socket))),-1;if(upgrade&&!request2.upgrade)return util3.destroy(socket,new SocketError("bad upgrade",util3.getSocketInfo(socket))),-1;if(assert2(this.timeoutType===TIMEOUT_HEADERS),this.statusCode=statusCode,this.shouldKeepAlive=shouldKeepAlive||request2.method==="HEAD"&&!socket[kReset]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let bodyTimeout=request2.bodyTimeout!=null?request2.bodyTimeout:client[kBodyTimeout];this.setTimeout(bodyTimeout,TIMEOUT_BODY)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(request2.method==="CONNECT")return assert2(client[kRunning]===1),this.upgrade=!0,2;if(upgrade)return assert2(client[kRunning]===1),this.upgrade=!0,2;if(assert2((this.headers.length&1)===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&client[kPipelining]){let keepAliveTimeout=this.keepAlive?util3.parseKeepAliveTimeout(this.keepAlive):null;if(keepAliveTimeout!=null){let timeout=Math.min(keepAliveTimeout-client[kKeepAliveTimeoutThreshold],client[kKeepAliveMaxTimeout]);timeout<=0?socket[kReset]=!0:client[kKeepAliveTimeoutValue]=timeout}else client[kKeepAliveTimeoutValue]=client[kKeepAliveDefaultTimeout]}else socket[kReset]=!0;let pause=request2.onHeaders(statusCode,headers,this.resume,statusText)===!1;return request2.aborted?-1:request2.method==="HEAD"||statusCode<200?1:(socket[kBlocking]&&(socket[kBlocking]=!1,client[kResume]()),pause?constants.ERROR.PAUSED:0)}onBody(buf){let{client,socket,statusCode,maxResponseSize}=this;if(socket.destroyed)return-1;let request2=client[kQueue][client[kRunningIdx]];return assert2(request2),assert2(this.timeoutType===TIMEOUT_BODY),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),assert2(statusCode>=200),maxResponseSize>-1&&this.bytesRead+buf.length>maxResponseSize?(util3.destroy(socket,new ResponseExceededMaxSizeError),-1):(this.bytesRead+=buf.length,request2.onData(buf)===!1?constants.ERROR.PAUSED:0)}onMessageComplete(){let{client,socket,statusCode,upgrade,headers,contentLength,bytesRead,shouldKeepAlive}=this;if(socket.destroyed&&(!statusCode||shouldKeepAlive))return-1;if(upgrade)return 0;assert2(statusCode>=100),assert2((this.headers.length&1)===0);let request2=client[kQueue][client[kRunningIdx]];if(assert2(request2),this.statusCode=0,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",this.headers=[],this.headersSize=0,statusCode<200)return 0;if(request2.method!=="HEAD"&&contentLength&&bytesRead!==parseInt(contentLength,10))return util3.destroy(socket,new ResponseContentLengthMismatchError),-1;if(request2.onComplete(headers),client[kQueue][client[kRunningIdx]++]=null,socket[kWriting])return assert2(client[kRunning]===0),util3.destroy(socket,new InformationalError("reset")),constants.ERROR.PAUSED;if(shouldKeepAlive){if(socket[kReset]&&client[kRunning]===0)return util3.destroy(socket,new InformationalError("reset")),constants.ERROR.PAUSED;client[kPipelining]==null||client[kPipelining]===1?setImmediate(client[kResume]):client[kResume]()}else return util3.destroy(socket,new InformationalError("reset")),constants.ERROR.PAUSED;return 0}};function onParserTimeout(parser){let{socket,timeoutType,client,paused}=parser.deref();timeoutType===TIMEOUT_HEADERS?(!socket[kWriting]||socket.writableNeedDrain||client[kRunning]>1)&&(assert2(!paused,"cannot be paused while waiting for headers"),util3.destroy(socket,new HeadersTimeoutError)):timeoutType===TIMEOUT_BODY?paused||util3.destroy(socket,new BodyTimeoutError):timeoutType===TIMEOUT_KEEP_ALIVE&&(assert2(client[kRunning]===0&&client[kKeepAliveTimeoutValue]),util3.destroy(socket,new InformationalError("socket idle timeout")))}function connectH1(client,socket){if(client[kSocket]=socket,llhttpInstance||(llhttpInstance=lazyllhttp()),socket.errored)throw socket.errored;if(socket.destroyed)throw new SocketError("destroyed");return socket[kNoRef]=!1,socket[kWriting]=!1,socket[kReset]=!1,socket[kBlocking]=!1,socket[kParser]=new Parser(client,socket,llhttpInstance),util3.addListener(socket,"error",onHttpSocketError),util3.addListener(socket,"readable",onHttpSocketReadable),util3.addListener(socket,"end",onHttpSocketEnd),util3.addListener(socket,"close",onHttpSocketClose),socket[kClosed]=!1,socket.on("close",onSocketClose),{version:"h1",defaultPipelining:1,write(request2){return writeH1(client,request2)},resume(){resumeH1(client)},destroy(err,callback){socket[kClosed]?queueMicrotask(callback):(socket.on("close",callback),socket.destroy(err))},get destroyed(){return socket.destroyed},busy(request2){return!!(socket[kWriting]||socket[kReset]||socket[kBlocking]||request2&&(client[kRunning]>0&&!request2.idempotent||client[kRunning]>0&&(request2.upgrade||request2.method==="CONNECT")||client[kRunning]>0&&util3.bodyLength(request2.body)!==0&&(util3.isStream(request2.body)||util3.isAsyncIterable(request2.body)||util3.isFormDataLike(request2.body))))}}}function onHttpSocketError(err){assert2(err.code!=="ERR_TLS_CERT_ALTNAME_INVALID");let parser=this[kParser];if(err.code==="ECONNRESET"&&parser.statusCode&&!parser.shouldKeepAlive){parser.onMessageComplete();return}this[kError]=err,this[kClient][kOnError](err)}function onHttpSocketReadable(){this[kParser]?.readMore()}function onHttpSocketEnd(){let parser=this[kParser];if(parser.statusCode&&!parser.shouldKeepAlive){parser.onMessageComplete();return}util3.destroy(this,new SocketError("other side closed",util3.getSocketInfo(this)))}function onHttpSocketClose(){let parser=this[kParser];parser&&(!this[kError]&&parser.statusCode&&!parser.shouldKeepAlive&&parser.onMessageComplete(),this[kParser].destroy(),this[kParser]=null);let err=this[kError]||new SocketError("closed",util3.getSocketInfo(this)),client=this[kClient];if(client[kSocket]=null,client[kHTTPContext]=null,client.destroyed){assert2(client[kPending]===0);let requests=client[kQueue].splice(client[kRunningIdx]);for(let i=0;i<requests.length;i++){let request2=requests[i];util3.errorRequest(client,request2,err)}}else if(client[kRunning]>0&&err.code!=="UND_ERR_INFO"){let request2=client[kQueue][client[kRunningIdx]];client[kQueue][client[kRunningIdx]++]=null,util3.errorRequest(client,request2,err)}client[kPendingIdx]=client[kRunningIdx],assert2(client[kRunning]===0),client.emit("disconnect",client[kUrl],[client],err),client[kResume]()}function onSocketClose(){this[kClosed]=!0}function resumeH1(client){let socket=client[kSocket];if(socket&&!socket.destroyed){if(client[kSize]===0?!socket[kNoRef]&&socket.unref&&(socket.unref(),socket[kNoRef]=!0):socket[kNoRef]&&socket.ref&&(socket.ref(),socket[kNoRef]=!1),client[kSize]===0)socket[kParser].timeoutType!==TIMEOUT_KEEP_ALIVE&&socket[kParser].setTimeout(client[kKeepAliveTimeoutValue],TIMEOUT_KEEP_ALIVE);else if(client[kRunning]>0&&socket[kParser].statusCode<200&&socket[kParser].timeoutType!==TIMEOUT_HEADERS){let request2=client[kQueue][client[kRunningIdx]],headersTimeout=request2.headersTimeout!=null?request2.headersTimeout:client[kHeadersTimeout];socket[kParser].setTimeout(headersTimeout,TIMEOUT_HEADERS)}}}function shouldSendContentLength(method){return method!=="GET"&&method!=="HEAD"&&method!=="OPTIONS"&&method!=="TRACE"&&method!=="CONNECT"}function writeH1(client,request2){let{method,path:path5,host,upgrade,blocking,reset:reset2}=request2,{body,headers,contentLength}=request2,expectsPayload=method==="PUT"||method==="POST"||method==="PATCH"||method==="QUERY"||method==="PROPFIND"||method==="PROPPATCH";if(util3.isFormDataLike(body)){extractBody||(extractBody=require_body().extractBody);let[bodyStream,contentType]=extractBody(body);request2.contentType==null&&headers.push("content-type",contentType),body=bodyStream.stream,contentLength=bodyStream.length}else util3.isBlobLike(body)&&request2.contentType==null&&body.type&&headers.push("content-type",body.type);body&&typeof body.read=="function"&&body.read(0);let bodyLength=util3.bodyLength(body);if(contentLength=bodyLength??contentLength,contentLength===null&&(contentLength=request2.contentLength),contentLength===0&&!expectsPayload&&(contentLength=null),shouldSendContentLength(method)&&contentLength>0&&request2.contentLength!==null&&request2.contentLength!==contentLength){if(client[kStrictContentLength])return util3.errorRequest(client,request2,new RequestContentLengthMismatchError),!1;process.emitWarning(new RequestContentLengthMismatchError)}let socket=client[kSocket],abort=err=>{request2.aborted||request2.completed||(util3.errorRequest(client,request2,err||new RequestAbortedError),util3.destroy(body),util3.destroy(socket,new InformationalError("aborted")))};try{request2.onConnect(abort)}catch(err){util3.errorRequest(client,request2,err)}if(request2.aborted)return!1;method==="HEAD"&&(socket[kReset]=!0),(upgrade||method==="CONNECT")&&(socket[kReset]=!0),reset2!=null&&(socket[kReset]=reset2),client[kMaxRequests]&&socket[kCounter]++>=client[kMaxRequests]&&(socket[kReset]=!0),blocking&&(socket[kBlocking]=!0);let header=`${method} ${path5} HTTP/1.1\r
`;if(typeof host=="string"?header+=`host: ${host}\r
`:header+=client[kHostHeader],upgrade?header+=`connection: upgrade\r
upgrade: ${upgrade}\r
`:client[kPipelining]&&!socket[kReset]?header+=`connection: keep-alive\r
`:header+=`connection: close\r
`,Array.isArray(headers))for(let n=0;n<headers.length;n+=2){let key=headers[n+0],val=headers[n+1];if(Array.isArray(val))for(let i=0;i<val.length;i++)header+=`${key}: ${val[i]}\r
`;else header+=`${key}: ${val}\r
`}return channels.sendHeaders.hasSubscribers&&channels.sendHeaders.publish({request:request2,headers:header,socket}),!body||bodyLength===0?writeBuffer(abort,null,client,request2,socket,contentLength,header,expectsPayload):util3.isBuffer(body)?writeBuffer(abort,body,client,request2,socket,contentLength,header,expectsPayload):util3.isBlobLike(body)?typeof body.stream=="function"?writeIterable(abort,body.stream(),client,request2,socket,contentLength,header,expectsPayload):writeBlob(abort,body,client,request2,socket,contentLength,header,expectsPayload):util3.isStream(body)?writeStream(abort,body,client,request2,socket,contentLength,header,expectsPayload):util3.isIterable(body)?writeIterable(abort,body,client,request2,socket,contentLength,header,expectsPayload):assert2(!1),!0}function writeStream(abort,body,client,request2,socket,contentLength,header,expectsPayload){assert2(contentLength!==0||client[kRunning]===0,"stream body cannot be pipelined");let finished=!1,writer=new AsyncWriter({abort,socket,request:request2,contentLength,client,expectsPayload,header}),onData=function(chunk){if(!finished)try{!writer.write(chunk)&&this.pause&&this.pause()}catch(err){util3.destroy(this,err)}},onDrain=function(){finished||body.resume&&body.resume()},onClose=function(){if(queueMicrotask(()=>{body.removeListener("error",onFinished)}),!finished){let err=new RequestAbortedError;queueMicrotask(()=>onFinished(err))}},onFinished=function(err){if(!finished){if(finished=!0,assert2(socket.destroyed||socket[kWriting]&&client[kRunning]<=1),socket.off("drain",onDrain).off("error",onFinished),body.removeListener("data",onData).removeListener("end",onFinished).removeListener("close",onClose),!err)try{writer.end()}catch(er){err=er}writer.destroy(err),err&&(err.code!=="UND_ERR_INFO"||err.message!=="reset")?util3.destroy(body,err):util3.destroy(body)}};body.on("data",onData).on("end",onFinished).on("error",onFinished).on("close",onClose),body.resume&&body.resume(),socket.on("drain",onDrain).on("error",onFinished),body.errorEmitted??body.errored?setImmediate(onFinished,body.errored):(body.endEmitted??body.readableEnded)&&setImmediate(onFinished,null),(body.closeEmitted??body.closed)&&setImmediate(onClose)}function writeBuffer(abort,body,client,request2,socket,contentLength,header,expectsPayload){try{body?util3.isBuffer(body)&&(assert2(contentLength===body.byteLength,"buffer body must have content length"),socket.cork(),socket.write(`${header}content-length: ${contentLength}\r
\r
`,"latin1"),socket.write(body),socket.uncork(),request2.onBodySent(body),!expectsPayload&&request2.reset!==!1&&(socket[kReset]=!0)):contentLength===0?socket.write(`${header}content-length: 0\r
\r
`,"latin1"):(assert2(contentLength===null,"no body must not have content length"),socket.write(`${header}\r
`,"latin1")),request2.onRequestSent(),client[kResume]()}catch(err){abort(err)}}async function writeBlob(abort,body,client,request2,socket,contentLength,header,expectsPayload){assert2(contentLength===body.size,"blob body must have content length");try{if(contentLength!=null&&contentLength!==body.size)throw new RequestContentLengthMismatchError;let buffer=Buffer.from(await body.arrayBuffer());socket.cork(),socket.write(`${header}content-length: ${contentLength}\r
\r
`,"latin1"),socket.write(buffer),socket.uncork(),request2.onBodySent(buffer),request2.onRequestSent(),!expectsPayload&&request2.reset!==!1&&(socket[kReset]=!0),client[kResume]()}catch(err){abort(err)}}async function writeIterable(abort,body,client,request2,socket,contentLength,header,expectsPayload){assert2(contentLength!==0||client[kRunning]===0,"iterator body cannot be pipelined");let callback=null;function onDrain(){if(callback){let cb=callback;callback=null,cb()}}let waitForDrain=()=>new Promise((resolve,reject)=>{assert2(callback===null),socket[kError]?reject(socket[kError]):callback=resolve});socket.on("close",onDrain).on("drain",onDrain);let writer=new AsyncWriter({abort,socket,request:request2,contentLength,client,expectsPayload,header});try{for await(let chunk of body){if(socket[kError])throw socket[kError];writer.write(chunk)||await waitForDrain()}writer.end()}catch(err){writer.destroy(err)}finally{socket.off("close",onDrain).off("drain",onDrain)}}var AsyncWriter=class{constructor({abort,socket,request:request2,contentLength,client,expectsPayload,header}){this.socket=socket,this.request=request2,this.contentLength=contentLength,this.client=client,this.bytesWritten=0,this.expectsPayload=expectsPayload,this.header=header,this.abort=abort,socket[kWriting]=!0}write(chunk){let{socket,request:request2,contentLength,client,bytesWritten,expectsPayload,header}=this;if(socket[kError])throw socket[kError];if(socket.destroyed)return!1;let len=Buffer.byteLength(chunk);if(!len)return!0;if(contentLength!==null&&bytesWritten+len>contentLength){if(client[kStrictContentLength])throw new RequestContentLengthMismatchError;process.emitWarning(new RequestContentLengthMismatchError)}socket.cork(),bytesWritten===0&&(!expectsPayload&&request2.reset!==!1&&(socket[kReset]=!0),contentLength===null?socket.write(`${header}transfer-encoding: chunked\r
`,"latin1"):socket.write(`${header}content-length: ${contentLength}\r
\r
`,"latin1")),contentLength===null&&socket.write(`\r
${len.toString(16)}\r
`,"latin1"),this.bytesWritten+=len;let ret=socket.write(chunk);return socket.uncork(),request2.onBodySent(chunk),ret||socket[kParser].timeout&&socket[kParser].timeoutType===TIMEOUT_HEADERS&&socket[kParser].timeout.refresh&&socket[kParser].timeout.refresh(),ret}end(){let{socket,contentLength,client,bytesWritten,expectsPayload,header,request:request2}=this;if(request2.onRequestSent(),socket[kWriting]=!1,socket[kError])throw socket[kError];if(!socket.destroyed){if(bytesWritten===0?expectsPayload?socket.write(`${header}content-length: 0\r
\r
`,"latin1"):socket.write(`${header}\r
`,"latin1"):contentLength===null&&socket.write(`\r
0\r
\r
`,"latin1"),contentLength!==null&&bytesWritten!==contentLength){if(client[kStrictContentLength])throw new RequestContentLengthMismatchError;process.emitWarning(new RequestContentLengthMismatchError)}socket[kParser].timeout&&socket[kParser].timeoutType===TIMEOUT_HEADERS&&socket[kParser].timeout.refresh&&socket[kParser].timeout.refresh(),client[kResume]()}}destroy(err){let{socket,client,abort}=this;socket[kWriting]=!1,err&&(assert2(client[kRunning]<=1,"pipeline should only contain this request"),abort(err))}};module2.exports=connectH1}});var require_client_h2=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/dispatcher/client-h2.js"(exports2,module2){"use strict";var assert2=require("node:assert"),{pipeline}=require("node:stream"),util3=require_util3(),{RequestContentLengthMismatchError,RequestAbortedError,SocketError,InformationalError}=require_errors5(),{kUrl,kReset,kClient,kRunning,kPending,kQueue,kPendingIdx,kRunningIdx,kError,kSocket,kStrictContentLength,kOnError,kMaxConcurrentStreams,kHTTP2Session,kResume,kSize,kHTTPContext,kClosed,kBodyTimeout}=require_symbols4(),{channels}=require_diagnostics(),kOpenStreams=Symbol("open streams"),extractBody,http2;try{http2=require("node:http2")}catch{http2={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY,HTTP2_HEADER_METHOD,HTTP2_HEADER_PATH,HTTP2_HEADER_SCHEME,HTTP2_HEADER_CONTENT_LENGTH,HTTP2_HEADER_EXPECT,HTTP2_HEADER_STATUS}}=http2;function parseH2Headers(headers){let result=[];for(let[name,value]of Object.entries(headers))if(Array.isArray(value))for(let subvalue of value)result.push(Buffer.from(name),Buffer.from(subvalue));else result.push(Buffer.from(name),Buffer.from(value));return result}function connectH2(client,socket){client[kSocket]=socket;let session=http2.connect(client[kUrl],{createConnection:()=>socket,peerMaxConcurrentStreams:client[kMaxConcurrentStreams],settings:{enablePush:!1}});return session[kOpenStreams]=0,session[kClient]=client,session[kSocket]=socket,session[kHTTP2Session]=null,util3.addListener(session,"error",onHttp2SessionError),util3.addListener(session,"frameError",onHttp2FrameError),util3.addListener(session,"end",onHttp2SessionEnd),util3.addListener(session,"goaway",onHttp2SessionGoAway),util3.addListener(session,"close",onHttp2SessionClose),session.unref(),client[kHTTP2Session]=session,socket[kHTTP2Session]=session,util3.addListener(socket,"error",onHttp2SocketError),util3.addListener(socket,"end",onHttp2SocketEnd),util3.addListener(socket,"close",onHttp2SocketClose),socket[kClosed]=!1,socket.on("close",onSocketClose),{version:"h2",defaultPipelining:1/0,write(request2){return writeH2(client,request2)},resume(){resumeH2(client)},destroy(err,callback){socket[kClosed]?queueMicrotask(callback):socket.destroy(err).on("close",callback)},get destroyed(){return socket.destroyed},busy(){return!1}}}function resumeH2(client){let socket=client[kSocket];socket?.destroyed===!1&&(client[kSize]===0||client[kMaxConcurrentStreams]===0?(socket.unref(),client[kHTTP2Session].unref()):(socket.ref(),client[kHTTP2Session].ref()))}function onHttp2SessionError(err){assert2(err.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[kSocket][kError]=err,this[kClient][kOnError](err)}function onHttp2FrameError(type,code2,id){if(id===0){let err=new InformationalError(`HTTP/2: "frameError" received - type ${type}, code ${code2}`);this[kSocket][kError]=err,this[kClient][kOnError](err)}}function onHttp2SessionEnd(){let err=new SocketError("other side closed",util3.getSocketInfo(this[kSocket]));this.destroy(err),util3.destroy(this[kSocket],err)}function onHttp2SessionGoAway(errorCode){let err=this[kError]||new SocketError(`HTTP/2: "GOAWAY" frame received with code ${errorCode}`,util3.getSocketInfo(this[kSocket])),client=this[kClient];if(client[kSocket]=null,client[kHTTPContext]=null,this.close(),this[kHTTP2Session]=null,util3.destroy(this[kSocket],err),client[kRunningIdx]<client[kQueue].length){let request2=client[kQueue][client[kRunningIdx]];client[kQueue][client[kRunningIdx]++]=null,util3.errorRequest(client,request2,err),client[kPendingIdx]=client[kRunningIdx]}assert2(client[kRunning]===0),client.emit("disconnect",client[kUrl],[client],err),client.emit("connectionError",client[kUrl],[client],err),client[kResume]()}function onHttp2SessionClose(){let{[kClient]:client}=this,{[kSocket]:socket}=client,err=this[kSocket][kError]||this[kError]||new SocketError("closed",util3.getSocketInfo(socket));if(client[kSocket]=null,client[kHTTPContext]=null,client.destroyed){assert2(client[kPending]===0);let requests=client[kQueue].splice(client[kRunningIdx]);for(let i=0;i<requests.length;i++){let request2=requests[i];util3.errorRequest(client,request2,err)}}}function onHttp2SocketClose(){let err=this[kError]||new SocketError("closed",util3.getSocketInfo(this)),client=this[kHTTP2Session][kClient];client[kSocket]=null,client[kHTTPContext]=null,this[kHTTP2Session]!==null&&this[kHTTP2Session].destroy(err),client[kPendingIdx]=client[kRunningIdx],assert2(client[kRunning]===0),client.emit("disconnect",client[kUrl],[client],err),client[kResume]()}function onHttp2SocketError(err){assert2(err.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[kError]=err,this[kClient][kOnError](err)}function onHttp2SocketEnd(){util3.destroy(this,new SocketError("other side closed",util3.getSocketInfo(this)))}function onSocketClose(){this[kClosed]=!0}function shouldSendContentLength(method){return method!=="GET"&&method!=="HEAD"&&method!=="OPTIONS"&&method!=="TRACE"&&method!=="CONNECT"}function writeH2(client,request2){let requestTimeout=request2.bodyTimeout??client[kBodyTimeout],session=client[kHTTP2Session],{method,path:path5,host,upgrade,expectContinue,signal,protocol,headers:reqHeaders}=request2,{body}=request2;if(upgrade)return util3.errorRequest(client,request2,new Error("Upgrade not supported for H2")),!1;let headers={};for(let n=0;n<reqHeaders.length;n+=2){let key=reqHeaders[n+0],val=reqHeaders[n+1];if(key==="cookie"){headers[key]!=null?headers[key]=Array.isArray(headers[key])?(headers[key].push(val),headers[key]):[headers[key],val]:headers[key]=val;continue}if(Array.isArray(val))for(let i=0;i<val.length;i++)headers[key]?headers[key]+=`, ${val[i]}`:headers[key]=val[i];else headers[key]?headers[key]+=`, ${val}`:headers[key]=val}let stream=null,{hostname,port}=client[kUrl];headers[HTTP2_HEADER_AUTHORITY]=host||`${hostname}${port?`:${port}`:""}`,headers[HTTP2_HEADER_METHOD]=method;let abort=err=>{request2.aborted||request2.completed||(err=err||new RequestAbortedError,util3.errorRequest(client,request2,err),stream!=null&&(stream.removeAllListeners("data"),stream.close(),client[kOnError](err),client[kResume]()),util3.destroy(body,err))};try{request2.onConnect(abort)}catch(err){util3.errorRequest(client,request2,err)}if(request2.aborted)return!1;if(method==="CONNECT")return session.ref(),stream=session.request(headers,{endStream:!1,signal}),stream.pending?stream.once("ready",()=>{request2.onUpgrade(null,null,stream),++session[kOpenStreams],client[kQueue][client[kRunningIdx]++]=null}):(request2.onUpgrade(null,null,stream),++session[kOpenStreams],client[kQueue][client[kRunningIdx]++]=null),stream.once("close",()=>{session[kOpenStreams]-=1,session[kOpenStreams]===0&&session.unref()}),stream.setTimeout(requestTimeout),!0;headers[HTTP2_HEADER_PATH]=path5,headers[HTTP2_HEADER_SCHEME]=protocol==="http:"?"http":"https";let expectsPayload=method==="PUT"||method==="POST"||method==="PATCH";body&&typeof body.read=="function"&&body.read(0);let contentLength=util3.bodyLength(body);if(util3.isFormDataLike(body)){extractBody??=require_body().extractBody;let[bodyStream,contentType]=extractBody(body);headers["content-type"]=contentType,body=bodyStream.stream,contentLength=bodyStream.length}if(contentLength==null&&(contentLength=request2.contentLength),(contentLength===0||!expectsPayload)&&(contentLength=null),shouldSendContentLength(method)&&contentLength>0&&request2.contentLength!=null&&request2.contentLength!==contentLength){if(client[kStrictContentLength])return util3.errorRequest(client,request2,new RequestContentLengthMismatchError),!1;process.emitWarning(new RequestContentLengthMismatchError)}if(contentLength!=null&&(assert2(body,"no body must not have content length"),headers[HTTP2_HEADER_CONTENT_LENGTH]=`${contentLength}`),session.ref(),channels.sendHeaders.hasSubscribers){let header="";for(let key in headers)header+=`${key}: ${headers[key]}\r
`;channels.sendHeaders.publish({request:request2,headers:header,socket:session[kSocket]})}let shouldEndStream=method==="GET"||method==="HEAD"||body===null;return expectContinue?(headers[HTTP2_HEADER_EXPECT]="100-continue",stream=session.request(headers,{endStream:shouldEndStream,signal}),stream.once("continue",writeBodyH2)):(stream=session.request(headers,{endStream:shouldEndStream,signal}),writeBodyH2()),++session[kOpenStreams],stream.setTimeout(requestTimeout),stream.once("response",headers2=>{let{[HTTP2_HEADER_STATUS]:statusCode,...realHeaders}=headers2;if(request2.onResponseStarted(),request2.aborted){stream.removeAllListeners("data");return}request2.onHeaders(Number(statusCode),parseH2Headers(realHeaders),stream.resume.bind(stream),"")===!1&&stream.pause()}),stream.on("data",chunk=>{request2.onData(chunk)===!1&&stream.pause()}),stream.once("end",err=>{stream.removeAllListeners("data"),stream.state?.state==null||stream.state.state<6?(!request2.aborted&&!request2.completed&&request2.onComplete({}),client[kQueue][client[kRunningIdx]++]=null,client[kResume]()):(--session[kOpenStreams],session[kOpenStreams]===0&&session.unref(),abort(err??new InformationalError("HTTP/2: stream half-closed (remote)")),client[kQueue][client[kRunningIdx]++]=null,client[kPendingIdx]=client[kRunningIdx],client[kResume]())}),stream.once("close",()=>{stream.removeAllListeners("data"),session[kOpenStreams]-=1,session[kOpenStreams]===0&&session.unref()}),stream.once("error",function(err){stream.removeAllListeners("data"),abort(err)}),stream.once("frameError",(type,code2)=>{stream.removeAllListeners("data"),abort(new InformationalError(`HTTP/2: "frameError" received - type ${type}, code ${code2}`))}),stream.on("aborted",()=>{stream.removeAllListeners("data")}),stream.on("timeout",()=>{let err=new InformationalError(`HTTP/2: "stream timeout after ${requestTimeout}"`);stream.removeAllListeners("data"),session[kOpenStreams]-=1,session[kOpenStreams]===0&&session.unref(),abort(err)}),stream.once("trailers",trailers=>{request2.aborted||request2.completed||request2.onComplete(trailers)}),!0;function writeBodyH2(){!body||contentLength===0?writeBuffer(abort,stream,null,client,request2,client[kSocket],contentLength,expectsPayload):util3.isBuffer(body)?writeBuffer(abort,stream,body,client,request2,client[kSocket],contentLength,expectsPayload):util3.isBlobLike(body)?typeof body.stream=="function"?writeIterable(abort,stream,body.stream(),client,request2,client[kSocket],contentLength,expectsPayload):writeBlob(abort,stream,body,client,request2,client[kSocket],contentLength,expectsPayload):util3.isStream(body)?writeStream(abort,client[kSocket],expectsPayload,stream,body,client,request2,contentLength):util3.isIterable(body)?writeIterable(abort,stream,body,client,request2,client[kSocket],contentLength,expectsPayload):assert2(!1)}}function writeBuffer(abort,h2stream,body,client,request2,socket,contentLength,expectsPayload){try{body!=null&&util3.isBuffer(body)&&(assert2(contentLength===body.byteLength,"buffer body must have content length"),h2stream.cork(),h2stream.write(body),h2stream.uncork(),h2stream.end(),request2.onBodySent(body)),expectsPayload||(socket[kReset]=!0),request2.onRequestSent(),client[kResume]()}catch(error){abort(error)}}function writeStream(abort,socket,expectsPayload,h2stream,body,client,request2,contentLength){assert2(contentLength!==0||client[kRunning]===0,"stream body cannot be pipelined");let pipe2=pipeline(body,h2stream,err=>{err?(util3.destroy(pipe2,err),abort(err)):(util3.removeAllListeners(pipe2),request2.onRequestSent(),expectsPayload||(socket[kReset]=!0),client[kResume]())});util3.addListener(pipe2,"data",onPipeData);function onPipeData(chunk){request2.onBodySent(chunk)}}async function writeBlob(abort,h2stream,body,client,request2,socket,contentLength,expectsPayload){assert2(contentLength===body.size,"blob body must have content length");try{if(contentLength!=null&&contentLength!==body.size)throw new RequestContentLengthMismatchError;let buffer=Buffer.from(await body.arrayBuffer());h2stream.cork(),h2stream.write(buffer),h2stream.uncork(),h2stream.end(),request2.onBodySent(buffer),request2.onRequestSent(),expectsPayload||(socket[kReset]=!0),client[kResume]()}catch(err){abort(err)}}async function writeIterable(abort,h2stream,body,client,request2,socket,contentLength,expectsPayload){assert2(contentLength!==0||client[kRunning]===0,"iterator body cannot be pipelined");let callback=null;function onDrain(){if(callback){let cb=callback;callback=null,cb()}}let waitForDrain=()=>new Promise((resolve,reject)=>{assert2(callback===null),socket[kError]?reject(socket[kError]):callback=resolve});h2stream.on("close",onDrain).on("drain",onDrain);try{for await(let chunk of body){if(socket[kError])throw socket[kError];let res=h2stream.write(chunk);request2.onBodySent(chunk),res||await waitForDrain()}h2stream.end(),request2.onRequestSent(),expectsPayload||(socket[kReset]=!0),client[kResume]()}catch(err){abort(err)}finally{h2stream.off("close",onDrain).off("drain",onDrain)}}module2.exports=connectH2}});var require_client=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/dispatcher/client.js"(exports2,module2){"use strict";var assert2=require("node:assert"),net=require("node:net"),http=require("node:http"),util3=require_util3(),{ClientStats}=require_stats(),{channels}=require_diagnostics(),Request=require_request3(),DispatcherBase=require_dispatcher_base(),{InvalidArgumentError,InformationalError,ClientDestroyedError}=require_errors5(),buildConnector=require_connect(),{kUrl,kServerName,kClient,kBusy,kConnect,kResuming,kRunning,kPending,kSize,kQueue,kConnected,kConnecting,kNeedDrain,kKeepAliveDefaultTimeout,kHostHeader,kPendingIdx,kRunningIdx,kError,kPipelining,kKeepAliveTimeoutValue,kMaxHeadersSize,kKeepAliveMaxTimeout,kKeepAliveTimeoutThreshold,kHeadersTimeout,kBodyTimeout,kStrictContentLength,kConnector,kMaxRequests,kCounter,kClose,kDestroy,kDispatch,kLocalAddress,kMaxResponseSize,kOnError,kHTTPContext,kMaxConcurrentStreams,kResume}=require_symbols4(),connectH1=require_client_h1(),connectH2=require_client_h2(),kClosedResolve=Symbol("kClosedResolve"),getDefaultNodeMaxHeaderSize=http&&http.maxHeaderSize&&Number.isInteger(http.maxHeaderSize)&&http.maxHeaderSize>0?()=>http.maxHeaderSize:()=>{throw new InvalidArgumentError("http module not available or http.maxHeaderSize invalid")},noop=()=>{};function getPipelining(client){return client[kPipelining]??client[kHTTPContext]?.defaultPipelining??1}var Client=class extends DispatcherBase{constructor(url,{maxHeaderSize,headersTimeout,socketTimeout,requestTimeout,connectTimeout,bodyTimeout,idleTimeout,keepAlive,keepAliveTimeout,maxKeepAliveTimeout,keepAliveMaxTimeout,keepAliveTimeoutThreshold,socketPath,pipelining,tls,strictContentLength,maxCachedSessions,connect:connect2,maxRequestsPerClient,localAddress,maxResponseSize,autoSelectFamily,autoSelectFamilyAttemptTimeout,maxConcurrentStreams,allowH2}={}){if(keepAlive!==void 0)throw new InvalidArgumentError("unsupported keepAlive, use pipelining=0 instead");if(socketTimeout!==void 0)throw new InvalidArgumentError("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(requestTimeout!==void 0)throw new InvalidArgumentError("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(idleTimeout!==void 0)throw new InvalidArgumentError("unsupported idleTimeout, use keepAliveTimeout instead");if(maxKeepAliveTimeout!==void 0)throw new InvalidArgumentError("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(maxHeaderSize!=null){if(!Number.isInteger(maxHeaderSize)||maxHeaderSize<1)throw new InvalidArgumentError("invalid maxHeaderSize")}else maxHeaderSize=getDefaultNodeMaxHeaderSize();if(socketPath!=null&&typeof socketPath!="string")throw new InvalidArgumentError("invalid socketPath");if(connectTimeout!=null&&(!Number.isFinite(connectTimeout)||connectTimeout<0))throw new InvalidArgumentError("invalid connectTimeout");if(keepAliveTimeout!=null&&(!Number.isFinite(keepAliveTimeout)||keepAliveTimeout<=0))throw new InvalidArgumentError("invalid keepAliveTimeout");if(keepAliveMaxTimeout!=null&&(!Number.isFinite(keepAliveMaxTimeout)||keepAliveMaxTimeout<=0))throw new InvalidArgumentError("invalid keepAliveMaxTimeout");if(keepAliveTimeoutThreshold!=null&&!Number.isFinite(keepAliveTimeoutThreshold))throw new InvalidArgumentError("invalid keepAliveTimeoutThreshold");if(headersTimeout!=null&&(!Number.isInteger(headersTimeout)||headersTimeout<0))throw new InvalidArgumentError("headersTimeout must be a positive integer or zero");if(bodyTimeout!=null&&(!Number.isInteger(bodyTimeout)||bodyTimeout<0))throw new InvalidArgumentError("bodyTimeout must be a positive integer or zero");if(connect2!=null&&typeof connect2!="function"&&typeof connect2!="object")throw new InvalidArgumentError("connect must be a function or an object");if(maxRequestsPerClient!=null&&(!Number.isInteger(maxRequestsPerClient)||maxRequestsPerClient<0))throw new InvalidArgumentError("maxRequestsPerClient must be a positive number");if(localAddress!=null&&(typeof localAddress!="string"||net.isIP(localAddress)===0))throw new InvalidArgumentError("localAddress must be valid string IP address");if(maxResponseSize!=null&&(!Number.isInteger(maxResponseSize)||maxResponseSize<-1))throw new InvalidArgumentError("maxResponseSize must be a positive number");if(autoSelectFamilyAttemptTimeout!=null&&(!Number.isInteger(autoSelectFamilyAttemptTimeout)||autoSelectFamilyAttemptTimeout<-1))throw new InvalidArgumentError("autoSelectFamilyAttemptTimeout must be a positive number");if(allowH2!=null&&typeof allowH2!="boolean")throw new InvalidArgumentError("allowH2 must be a valid boolean value");if(maxConcurrentStreams!=null&&(typeof maxConcurrentStreams!="number"||maxConcurrentStreams<1))throw new InvalidArgumentError("maxConcurrentStreams must be a positive integer, greater than 0");super(),typeof connect2!="function"&&(connect2=buildConnector({...tls,maxCachedSessions,allowH2,socketPath,timeout:connectTimeout,...typeof autoSelectFamily=="boolean"?{autoSelectFamily,autoSelectFamilyAttemptTimeout}:void 0,...connect2})),this[kUrl]=util3.parseOrigin(url),this[kConnector]=connect2,this[kPipelining]=pipelining??1,this[kMaxHeadersSize]=maxHeaderSize,this[kKeepAliveDefaultTimeout]=keepAliveTimeout??4e3,this[kKeepAliveMaxTimeout]=keepAliveMaxTimeout??6e5,this[kKeepAliveTimeoutThreshold]=keepAliveTimeoutThreshold??2e3,this[kKeepAliveTimeoutValue]=this[kKeepAliveDefaultTimeout],this[kServerName]=null,this[kLocalAddress]=localAddress??null,this[kResuming]=0,this[kNeedDrain]=0,this[kHostHeader]=`host: ${this[kUrl].hostname}${this[kUrl].port?`:${this[kUrl].port}`:""}\r
`,this[kBodyTimeout]=bodyTimeout??3e5,this[kHeadersTimeout]=headersTimeout??3e5,this[kStrictContentLength]=strictContentLength??!0,this[kMaxRequests]=maxRequestsPerClient,this[kClosedResolve]=null,this[kMaxResponseSize]=maxResponseSize>-1?maxResponseSize:-1,this[kMaxConcurrentStreams]=maxConcurrentStreams??100,this[kHTTPContext]=null,this[kQueue]=[],this[kRunningIdx]=0,this[kPendingIdx]=0,this[kResume]=sync=>resume(this,sync),this[kOnError]=err=>onError(this,err)}get pipelining(){return this[kPipelining]}set pipelining(value){this[kPipelining]=value,this[kResume](!0)}get stats(){return new ClientStats(this)}get[kPending](){return this[kQueue].length-this[kPendingIdx]}get[kRunning](){return this[kPendingIdx]-this[kRunningIdx]}get[kSize](){return this[kQueue].length-this[kRunningIdx]}get[kConnected](){return!!this[kHTTPContext]&&!this[kConnecting]&&!this[kHTTPContext].destroyed}get[kBusy](){return!!(this[kHTTPContext]?.busy(null)||this[kSize]>=(getPipelining(this)||1)||this[kPending]>0)}[kConnect](cb){connect(this),this.once("connect",cb)}[kDispatch](opts,handler){let request2=new Request(this[kUrl].origin,opts,handler);return this[kQueue].push(request2),this[kResuming]||(util3.bodyLength(request2.body)==null&&util3.isIterable(request2.body)?(this[kResuming]=1,queueMicrotask(()=>resume(this))):this[kResume](!0)),this[kResuming]&&this[kNeedDrain]!==2&&this[kBusy]&&(this[kNeedDrain]=2),this[kNeedDrain]<2}[kClose](){return new Promise(resolve=>{this[kSize]?this[kClosedResolve]=resolve:resolve(null)})}[kDestroy](err){return new Promise(resolve=>{let requests=this[kQueue].splice(this[kPendingIdx]);for(let i=0;i<requests.length;i++){let request2=requests[i];util3.errorRequest(this,request2,err)}let callback=()=>{this[kClosedResolve]&&(this[kClosedResolve](),this[kClosedResolve]=null),resolve(null)};this[kHTTPContext]?(this[kHTTPContext].destroy(err,callback),this[kHTTPContext]=null):queueMicrotask(callback),this[kResume]()})}};function onError(client,err){if(client[kRunning]===0&&err.code!=="UND_ERR_INFO"&&err.code!=="UND_ERR_SOCKET"){assert2(client[kPendingIdx]===client[kRunningIdx]);let requests=client[kQueue].splice(client[kRunningIdx]);for(let i=0;i<requests.length;i++){let request2=requests[i];util3.errorRequest(client,request2,err)}assert2(client[kSize]===0)}}function connect(client){assert2(!client[kConnecting]),assert2(!client[kHTTPContext]);let{host,hostname,protocol,port}=client[kUrl];if(hostname[0]==="["){let idx=hostname.indexOf("]");assert2(idx!==-1);let ip=hostname.substring(1,idx);assert2(net.isIPv6(ip)),hostname=ip}client[kConnecting]=!0,channels.beforeConnect.hasSubscribers&&channels.beforeConnect.publish({connectParams:{host,hostname,protocol,port,version:client[kHTTPContext]?.version,servername:client[kServerName],localAddress:client[kLocalAddress]},connector:client[kConnector]}),client[kConnector]({host,hostname,protocol,port,servername:client[kServerName],localAddress:client[kLocalAddress]},(err,socket)=>{if(err){handleConnectError(client,err,{host,hostname,protocol,port}),client[kResume]();return}if(client.destroyed){util3.destroy(socket.on("error",noop),new ClientDestroyedError),client[kResume]();return}assert2(socket);try{client[kHTTPContext]=socket.alpnProtocol==="h2"?connectH2(client,socket):connectH1(client,socket)}catch(err2){socket.destroy().on("error",noop),handleConnectError(client,err2,{host,hostname,protocol,port}),client[kResume]();return}client[kConnecting]=!1,socket[kCounter]=0,socket[kMaxRequests]=client[kMaxRequests],socket[kClient]=client,socket[kError]=null,channels.connected.hasSubscribers&&channels.connected.publish({connectParams:{host,hostname,protocol,port,version:client[kHTTPContext]?.version,servername:client[kServerName],localAddress:client[kLocalAddress]},connector:client[kConnector],socket}),client.emit("connect",client[kUrl],[client]),client[kResume]()})}function handleConnectError(client,err,{host,hostname,protocol,port}){if(!client.destroyed){if(client[kConnecting]=!1,channels.connectError.hasSubscribers&&channels.connectError.publish({connectParams:{host,hostname,protocol,port,version:client[kHTTPContext]?.version,servername:client[kServerName],localAddress:client[kLocalAddress]},connector:client[kConnector],error:err}),err.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(assert2(client[kRunning]===0);client[kPending]>0&&client[kQueue][client[kPendingIdx]].servername===client[kServerName];){let request2=client[kQueue][client[kPendingIdx]++];util3.errorRequest(client,request2,err)}else onError(client,err);client.emit("connectionError",client[kUrl],[client],err)}}function emitDrain(client){client[kNeedDrain]=0,client.emit("drain",client[kUrl],[client])}function resume(client,sync){client[kResuming]!==2&&(client[kResuming]=2,_resume(client,sync),client[kResuming]=0,client[kRunningIdx]>256&&(client[kQueue].splice(0,client[kRunningIdx]),client[kPendingIdx]-=client[kRunningIdx],client[kRunningIdx]=0))}function _resume(client,sync){for(;;){if(client.destroyed){assert2(client[kPending]===0);return}if(client[kClosedResolve]&&!client[kSize]){client[kClosedResolve](),client[kClosedResolve]=null;return}if(client[kHTTPContext]&&client[kHTTPContext].resume(),client[kBusy])client[kNeedDrain]=2;else if(client[kNeedDrain]===2){sync?(client[kNeedDrain]=1,queueMicrotask(()=>emitDrain(client))):emitDrain(client);continue}if(client[kPending]===0||client[kRunning]>=(getPipelining(client)||1))return;let request2=client[kQueue][client[kPendingIdx]];if(client[kUrl].protocol==="https:"&&client[kServerName]!==request2.servername){if(client[kRunning]>0)return;client[kServerName]=request2.servername,client[kHTTPContext]?.destroy(new InformationalError("servername changed"),()=>{client[kHTTPContext]=null,resume(client)})}if(client[kConnecting])return;if(!client[kHTTPContext]){connect(client);return}if(client[kHTTPContext].destroyed||client[kHTTPContext].busy(request2))return;!request2.aborted&&client[kHTTPContext].write(request2)?client[kPendingIdx]++:client[kQueue].splice(client[kPendingIdx],1)}}module2.exports=Client}});var require_fixed_queue=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/dispatcher/fixed-queue.js"(exports2,module2){"use strict";var FixedCircularBuffer=class{bottom=0;top=0;list=new Array(2048).fill(void 0);next=null;isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(data){this.list[this.top]=data,this.top=this.top+1&2047}shift(){let nextItem=this.list[this.bottom];return nextItem===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,nextItem)}};module2.exports=class{constructor(){this.head=this.tail=new FixedCircularBuffer}isEmpty(){return this.head.isEmpty()}push(data){this.head.isFull()&&(this.head=this.head.next=new FixedCircularBuffer),this.head.push(data)}shift(){let tail=this.tail,next=tail.shift();return tail.isEmpty()&&tail.next!==null&&(this.tail=tail.next,tail.next=null),next}}}});var require_pool_base=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/dispatcher/pool-base.js"(exports2,module2){"use strict";var{PoolStats}=require_stats(),DispatcherBase=require_dispatcher_base(),FixedQueue=require_fixed_queue(),{kConnected,kSize,kRunning,kPending,kQueued,kBusy,kFree,kUrl,kClose,kDestroy,kDispatch}=require_symbols4(),kClients=Symbol("clients"),kNeedDrain=Symbol("needDrain"),kQueue=Symbol("queue"),kClosedResolve=Symbol("closed resolve"),kOnDrain=Symbol("onDrain"),kOnConnect=Symbol("onConnect"),kOnDisconnect=Symbol("onDisconnect"),kOnConnectionError=Symbol("onConnectionError"),kGetDispatcher=Symbol("get dispatcher"),kAddClient=Symbol("add client"),kRemoveClient=Symbol("remove client"),PoolBase=class extends DispatcherBase{[kQueue]=new FixedQueue;[kQueued]=0;[kClients]=[];[kNeedDrain]=!1;[kOnDrain](client,origin,targets){let queue=this[kQueue],needDrain=!1;for(;!needDrain;){let item=queue.shift();if(!item)break;this[kQueued]--,needDrain=!client.dispatch(item.opts,item.handler)}if(client[kNeedDrain]=needDrain,!needDrain&&this[kNeedDrain]&&(this[kNeedDrain]=!1,this.emit("drain",origin,[this,...targets])),this[kClosedResolve]&&queue.isEmpty()){let closeAll=new Array(this[kClients].length);for(let i=0;i<this[kClients].length;i++)closeAll[i]=this[kClients][i].close();Promise.all(closeAll).then(this[kClosedResolve])}}[kOnConnect]=(origin,targets)=>{this.emit("connect",origin,[this,...targets])};[kOnDisconnect]=(origin,targets,err)=>{this.emit("disconnect",origin,[this,...targets],err)};[kOnConnectionError]=(origin,targets,err)=>{this.emit("connectionError",origin,[this,...targets],err)};get[kBusy](){return this[kNeedDrain]}get[kConnected](){let ret=0;for(let{[kConnected]:connected}of this[kClients])ret+=connected;return ret}get[kFree](){let ret=0;for(let{[kConnected]:connected,[kNeedDrain]:needDrain}of this[kClients])ret+=connected&&!needDrain;return ret}get[kPending](){let ret=this[kQueued];for(let{[kPending]:pending}of this[kClients])ret+=pending;return ret}get[kRunning](){let ret=0;for(let{[kRunning]:running}of this[kClients])ret+=running;return ret}get[kSize](){let ret=this[kQueued];for(let{[kSize]:size}of this[kClients])ret+=size;return ret}get stats(){return new PoolStats(this)}[kClose](){if(this[kQueue].isEmpty()){let closeAll=new Array(this[kClients].length);for(let i=0;i<this[kClients].length;i++)closeAll[i]=this[kClients][i].close();return Promise.all(closeAll)}else return new Promise(resolve=>{this[kClosedResolve]=resolve})}[kDestroy](err){for(;;){let item=this[kQueue].shift();if(!item)break;item.handler.onError(err)}let destroyAll=new Array(this[kClients].length);for(let i=0;i<this[kClients].length;i++)destroyAll[i]=this[kClients][i].destroy(err);return Promise.all(destroyAll)}[kDispatch](opts,handler){let dispatcher=this[kGetDispatcher]();return dispatcher?dispatcher.dispatch(opts,handler)||(dispatcher[kNeedDrain]=!0,this[kNeedDrain]=!this[kGetDispatcher]()):(this[kNeedDrain]=!0,this[kQueue].push({opts,handler}),this[kQueued]++),!this[kNeedDrain]}[kAddClient](client){return client.on("drain",this[kOnDrain].bind(this,client)).on("connect",this[kOnConnect]).on("disconnect",this[kOnDisconnect]).on("connectionError",this[kOnConnectionError]),this[kClients].push(client),this[kNeedDrain]&&queueMicrotask(()=>{this[kNeedDrain]&&this[kOnDrain](client,client[kUrl],[client,this])}),this}[kRemoveClient](client){client.close(()=>{let idx=this[kClients].indexOf(client);idx!==-1&&this[kClients].splice(idx,1)}),this[kNeedDrain]=this[kClients].some(dispatcher=>!dispatcher[kNeedDrain]&&dispatcher.closed!==!0&&dispatcher.destroyed!==!0)}};module2.exports={PoolBase,kClients,kNeedDrain,kAddClient,kRemoveClient,kGetDispatcher}}});var require_pool=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/dispatcher/pool.js"(exports2,module2){"use strict";var{PoolBase,kClients,kNeedDrain,kAddClient,kGetDispatcher,kRemoveClient}=require_pool_base(),Client=require_client(),{InvalidArgumentError}=require_errors5(),util3=require_util3(),{kUrl}=require_symbols4(),buildConnector=require_connect(),kOptions=Symbol("options"),kConnections=Symbol("connections"),kFactory=Symbol("factory");function defaultFactory(origin,opts){return new Client(origin,opts)}var Pool=class extends PoolBase{constructor(origin,{connections,factory=defaultFactory,connect,connectTimeout,tls,maxCachedSessions,socketPath,autoSelectFamily,autoSelectFamilyAttemptTimeout,allowH2,clientTtl,...options2}={}){if(connections!=null&&(!Number.isFinite(connections)||connections<0))throw new InvalidArgumentError("invalid connections");if(typeof factory!="function")throw new InvalidArgumentError("factory must be a function.");if(connect!=null&&typeof connect!="function"&&typeof connect!="object")throw new InvalidArgumentError("connect must be a function or an object");typeof connect!="function"&&(connect=buildConnector({...tls,maxCachedSessions,allowH2,socketPath,timeout:connectTimeout,...typeof autoSelectFamily=="boolean"?{autoSelectFamily,autoSelectFamilyAttemptTimeout}:void 0,...connect})),super(),this[kConnections]=connections||null,this[kUrl]=util3.parseOrigin(origin),this[kOptions]={...util3.deepClone(options2),connect,allowH2,clientTtl},this[kOptions].interceptors=options2.interceptors?{...options2.interceptors}:void 0,this[kFactory]=factory,this.on("connect",(origin2,targets)=>{if(clientTtl!=null&&clientTtl>0)for(let target of targets)Object.assign(target,{ttl:Date.now()})}),this.on("connectionError",(origin2,targets,error)=>{for(let target of targets){let idx=this[kClients].indexOf(target);idx!==-1&&this[kClients].splice(idx,1)}})}[kGetDispatcher](){let clientTtlOption=this[kOptions].clientTtl;for(let client of this[kClients])if(clientTtlOption!=null&&clientTtlOption>0&&client.ttl&&Date.now()-client.ttl>clientTtlOption)this[kRemoveClient](client);else if(!client[kNeedDrain])return client;if(!this[kConnections]||this[kClients].length<this[kConnections]){let dispatcher=this[kFactory](this[kUrl],this[kOptions]);return this[kAddClient](dispatcher),dispatcher}}};module2.exports=Pool}});var require_balanced_pool=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/dispatcher/balanced-pool.js"(exports2,module2){"use strict";var{BalancedPoolMissingUpstreamError,InvalidArgumentError}=require_errors5(),{PoolBase,kClients,kNeedDrain,kAddClient,kRemoveClient,kGetDispatcher}=require_pool_base(),Pool=require_pool(),{kUrl}=require_symbols4(),{parseOrigin}=require_util3(),kFactory=Symbol("factory"),kOptions=Symbol("options"),kGreatestCommonDivisor=Symbol("kGreatestCommonDivisor"),kCurrentWeight=Symbol("kCurrentWeight"),kIndex=Symbol("kIndex"),kWeight=Symbol("kWeight"),kMaxWeightPerServer=Symbol("kMaxWeightPerServer"),kErrorPenalty=Symbol("kErrorPenalty");function getGreatestCommonDivisor(a,b){if(a===0)return b;for(;b!==0;){let t=b;b=a%b,a=t}return a}function defaultFactory(origin,opts){return new Pool(origin,opts)}var BalancedPool=class extends PoolBase{constructor(upstreams=[],{factory=defaultFactory,...opts}={}){if(typeof factory!="function")throw new InvalidArgumentError("factory must be a function.");super(),this[kOptions]=opts,this[kIndex]=-1,this[kCurrentWeight]=0,this[kMaxWeightPerServer]=this[kOptions].maxWeightPerServer||100,this[kErrorPenalty]=this[kOptions].errorPenalty||15,Array.isArray(upstreams)||(upstreams=[upstreams]),this[kFactory]=factory;for(let upstream of upstreams)this.addUpstream(upstream);this._updateBalancedPoolStats()}addUpstream(upstream){let upstreamOrigin=parseOrigin(upstream).origin;if(this[kClients].find(pool2=>pool2[kUrl].origin===upstreamOrigin&&pool2.closed!==!0&&pool2.destroyed!==!0))return this;let pool=this[kFactory](upstreamOrigin,Object.assign({},this[kOptions]));this[kAddClient](pool),pool.on("connect",()=>{pool[kWeight]=Math.min(this[kMaxWeightPerServer],pool[kWeight]+this[kErrorPenalty])}),pool.on("connectionError",()=>{pool[kWeight]=Math.max(1,pool[kWeight]-this[kErrorPenalty]),this._updateBalancedPoolStats()}),pool.on("disconnect",(...args)=>{let err=args[2];err&&err.code==="UND_ERR_SOCKET"&&(pool[kWeight]=Math.max(1,pool[kWeight]-this[kErrorPenalty]),this._updateBalancedPoolStats())});for(let client of this[kClients])client[kWeight]=this[kMaxWeightPerServer];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){let result=0;for(let i=0;i<this[kClients].length;i++)result=getGreatestCommonDivisor(this[kClients][i][kWeight],result);this[kGreatestCommonDivisor]=result}removeUpstream(upstream){let upstreamOrigin=parseOrigin(upstream).origin,pool=this[kClients].find(pool2=>pool2[kUrl].origin===upstreamOrigin&&pool2.closed!==!0&&pool2.destroyed!==!0);return pool&&this[kRemoveClient](pool),this}get upstreams(){return this[kClients].filter(dispatcher=>dispatcher.closed!==!0&&dispatcher.destroyed!==!0).map(p=>p[kUrl].origin)}[kGetDispatcher](){if(this[kClients].length===0)throw new BalancedPoolMissingUpstreamError;if(!this[kClients].find(dispatcher2=>!dispatcher2[kNeedDrain]&&dispatcher2.closed!==!0&&dispatcher2.destroyed!==!0)||this[kClients].map(pool=>pool[kNeedDrain]).reduce((a,b)=>a&&b,!0))return;let counter=0,maxWeightIndex=this[kClients].findIndex(pool=>!pool[kNeedDrain]);for(;counter++<this[kClients].length;){this[kIndex]=(this[kIndex]+1)%this[kClients].length;let pool=this[kClients][this[kIndex]];if(pool[kWeight]>this[kClients][maxWeightIndex][kWeight]&&!pool[kNeedDrain]&&(maxWeightIndex=this[kIndex]),this[kIndex]===0&&(this[kCurrentWeight]=this[kCurrentWeight]-this[kGreatestCommonDivisor],this[kCurrentWeight]<=0&&(this[kCurrentWeight]=this[kMaxWeightPerServer])),pool[kWeight]>=this[kCurrentWeight]&&!pool[kNeedDrain])return pool}return this[kCurrentWeight]=this[kClients][maxWeightIndex][kWeight],this[kIndex]=maxWeightIndex,this[kClients][maxWeightIndex]}};module2.exports=BalancedPool}});var require_agent=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/dispatcher/agent.js"(exports2,module2){"use strict";var{InvalidArgumentError,MaxOriginsReachedError}=require_errors5(),{kClients,kRunning,kClose,kDestroy,kDispatch,kUrl}=require_symbols4(),DispatcherBase=require_dispatcher_base(),Pool=require_pool(),Client=require_client(),util3=require_util3(),kOnConnect=Symbol("onConnect"),kOnDisconnect=Symbol("onDisconnect"),kOnConnectionError=Symbol("onConnectionError"),kOnDrain=Symbol("onDrain"),kFactory=Symbol("factory"),kOptions=Symbol("options"),kOrigins=Symbol("origins");function defaultFactory(origin,opts){return opts&&opts.connections===1?new Client(origin,opts):new Pool(origin,opts)}var Agent=class extends DispatcherBase{constructor({factory=defaultFactory,maxOrigins=1/0,connect,...options2}={}){if(typeof factory!="function")throw new InvalidArgumentError("factory must be a function.");if(connect!=null&&typeof connect!="function"&&typeof connect!="object")throw new InvalidArgumentError("connect must be a function or an object");if(typeof maxOrigins!="number"||Number.isNaN(maxOrigins)||maxOrigins<=0)throw new InvalidArgumentError("maxOrigins must be a number greater than 0");super(),connect&&typeof connect!="function"&&(connect={...connect}),this[kOptions]={...util3.deepClone(options2),maxOrigins,connect},this[kFactory]=factory,this[kClients]=new Map,this[kOrigins]=new Set,this[kOnDrain]=(origin,targets)=>{this.emit("drain",origin,[this,...targets])},this[kOnConnect]=(origin,targets)=>{this.emit("connect",origin,[this,...targets])},this[kOnDisconnect]=(origin,targets,err)=>{this.emit("disconnect",origin,[this,...targets],err)},this[kOnConnectionError]=(origin,targets,err)=>{this.emit("connectionError",origin,[this,...targets],err)}}get[kRunning](){let ret=0;for(let{dispatcher}of this[kClients].values())ret+=dispatcher[kRunning];return ret}[kDispatch](opts,handler){let key;if(opts.origin&&(typeof opts.origin=="string"||opts.origin instanceof URL))key=String(opts.origin);else throw new InvalidArgumentError("opts.origin must be a non-empty string or URL.");if(this[kOrigins].size>=this[kOptions].maxOrigins&&!this[kOrigins].has(key))throw new MaxOriginsReachedError;let result=this[kClients].get(key),dispatcher=result&&result.dispatcher;if(!dispatcher){let closeClientIfUnused=connected=>{let result2=this[kClients].get(key);result2&&(connected&&(result2.count-=1),result2.count<=0&&(this[kClients].delete(key),result2.dispatcher.close()),this[kOrigins].delete(key))};dispatcher=this[kFactory](opts.origin,this[kOptions]).on("drain",this[kOnDrain]).on("connect",(origin,targets)=>{let result2=this[kClients].get(key);result2&&(result2.count+=1),this[kOnConnect](origin,targets)}).on("disconnect",(origin,targets,err)=>{closeClientIfUnused(!0),this[kOnDisconnect](origin,targets,err)}).on("connectionError",(origin,targets,err)=>{closeClientIfUnused(!1),this[kOnConnectionError](origin,targets,err)}),this[kClients].set(key,{count:0,dispatcher}),this[kOrigins].add(key)}return dispatcher.dispatch(opts,handler)}[kClose](){let closePromises=[];for(let{dispatcher}of this[kClients].values())closePromises.push(dispatcher.close());return this[kClients].clear(),Promise.all(closePromises)}[kDestroy](err){let destroyPromises=[];for(let{dispatcher}of this[kClients].values())destroyPromises.push(dispatcher.destroy(err));return this[kClients].clear(),Promise.all(destroyPromises)}get stats(){let allClientStats={};for(let{dispatcher}of this[kClients].values())dispatcher.stats&&(allClientStats[dispatcher[kUrl].origin]=dispatcher.stats);return allClientStats}};module2.exports=Agent}});var require_proxy_agent=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/dispatcher/proxy-agent.js"(exports2,module2){"use strict";var{kProxy,kClose,kDestroy,kDispatch}=require_symbols4(),Agent=require_agent(),Pool=require_pool(),DispatcherBase=require_dispatcher_base(),{InvalidArgumentError,RequestAbortedError,SecureProxyConnectionError}=require_errors5(),buildConnector=require_connect(),Client=require_client(),kAgent=Symbol("proxy agent"),kClient=Symbol("proxy client"),kProxyHeaders=Symbol("proxy headers"),kRequestTls=Symbol("request tls settings"),kProxyTls=Symbol("proxy tls settings"),kConnectEndpoint=Symbol("connect endpoint function"),kTunnelProxy=Symbol("tunnel proxy");function defaultProtocolPort(protocol){return protocol==="https:"?443:80}function defaultFactory(origin,opts){return new Pool(origin,opts)}var noop=()=>{};function defaultAgentFactory(origin,opts){return opts.connections===1?new Client(origin,opts):new Pool(origin,opts)}var Http1ProxyWrapper=class extends DispatcherBase{#client;constructor(proxyUrl,{headers={},connect,factory}){if(!proxyUrl)throw new InvalidArgumentError("Proxy URL is mandatory");super(),this[kProxyHeaders]=headers,factory?this.#client=factory(proxyUrl,{connect}):this.#client=new Client(proxyUrl,{connect})}[kDispatch](opts,handler){let onHeaders=handler.onHeaders;handler.onHeaders=function(statusCode,data,resume){if(statusCode===407){typeof handler.onError=="function"&&handler.onError(new InvalidArgumentError("Proxy Authentication Required (407)"));return}onHeaders&&onHeaders.call(this,statusCode,data,resume)};let{origin,path:path5="/",headers={}}=opts;if(opts.path=origin+path5,!("host"in headers)&&!("Host"in headers)){let{host}=new URL(origin);headers.host=host}return opts.headers={...this[kProxyHeaders],...headers},this.#client[kDispatch](opts,handler)}[kClose](){return this.#client.close()}[kDestroy](err){return this.#client.destroy(err)}},ProxyAgent=class extends DispatcherBase{constructor(opts){if(!opts||typeof opts=="object"&&!(opts instanceof URL)&&!opts.uri)throw new InvalidArgumentError("Proxy uri is mandatory");let{clientFactory=defaultFactory}=opts;if(typeof clientFactory!="function")throw new InvalidArgumentError("Proxy opts.clientFactory must be a function.");let{proxyTunnel=!0}=opts;super();let url=this.#getUrl(opts),{href,origin,port,protocol,username,password,hostname:proxyHostname}=url;if(this[kProxy]={uri:href,protocol},this[kRequestTls]=opts.requestTls,this[kProxyTls]=opts.proxyTls,this[kProxyHeaders]=opts.headers||{},this[kTunnelProxy]=proxyTunnel,opts.auth&&opts.token)throw new InvalidArgumentError("opts.auth cannot be used in combination with opts.token");opts.auth?this[kProxyHeaders]["proxy-authorization"]=`Basic ${opts.auth}`:opts.token?this[kProxyHeaders]["proxy-authorization"]=opts.token:username&&password&&(this[kProxyHeaders]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(username)}:${decodeURIComponent(password)}`).toString("base64")}`);let connect=buildConnector({...opts.proxyTls});this[kConnectEndpoint]=buildConnector({...opts.requestTls});let agentFactory=opts.factory||defaultAgentFactory,factory=(origin2,options2)=>{let{protocol:protocol2}=new URL(origin2);return!this[kTunnelProxy]&&protocol2==="http:"&&this[kProxy].protocol==="http:"?new Http1ProxyWrapper(this[kProxy].uri,{headers:this[kProxyHeaders],connect,factory:agentFactory}):agentFactory(origin2,options2)};this[kClient]=clientFactory(url,{connect}),this[kAgent]=new Agent({...opts,factory,connect:async(opts2,callback)=>{let requestedPath=opts2.host;opts2.port||(requestedPath+=`:${defaultProtocolPort(opts2.protocol)}`);try{let{socket,statusCode}=await this[kClient].connect({origin,port,path:requestedPath,signal:opts2.signal,headers:{...this[kProxyHeaders],host:opts2.host,...opts2.connections==null||opts2.connections>0?{"proxy-connection":"keep-alive"}:{}},servername:this[kProxyTls]?.servername||proxyHostname});if(statusCode!==200&&(socket.on("error",noop).destroy(),callback(new RequestAbortedError(`Proxy response (${statusCode}) !== 200 when HTTP Tunneling`))),opts2.protocol!=="https:"){callback(null,socket);return}let servername;this[kRequestTls]?servername=this[kRequestTls].servername:servername=opts2.servername,this[kConnectEndpoint]({...opts2,servername,httpSocket:socket},callback)}catch(err){err.code==="ERR_TLS_CERT_ALTNAME_INVALID"?callback(new SecureProxyConnectionError(err)):callback(err)}}})}dispatch(opts,handler){let headers=buildHeaders(opts.headers);if(throwIfProxyAuthIsSent(headers),headers&&!("host"in headers)&&!("Host"in headers)){let{host}=new URL(opts.origin);headers.host=host}return this[kAgent].dispatch({...opts,headers},handler)}#getUrl(opts){return typeof opts=="string"?new URL(opts):opts instanceof URL?opts:new URL(opts.uri)}[kClose](){return Promise.all([this[kAgent].close(),this[kClient].close()])}[kDestroy](){return Promise.all([this[kAgent].destroy(),this[kClient].destroy()])}};function buildHeaders(headers){if(Array.isArray(headers)){let headersPair={};for(let i=0;i<headers.length;i+=2)headersPair[headers[i]]=headers[i+1];return headersPair}return headers}function throwIfProxyAuthIsSent(headers){if(headers&&Object.keys(headers).find(key=>key.toLowerCase()==="proxy-authorization"))throw new InvalidArgumentError("Proxy-Authorization should be sent in ProxyAgent constructor")}module2.exports=ProxyAgent}});var require_env_http_proxy_agent=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/dispatcher/env-http-proxy-agent.js"(exports2,module2){"use strict";var DispatcherBase=require_dispatcher_base(),{kClose,kDestroy,kClosed,kDestroyed,kDispatch,kNoProxyAgent,kHttpProxyAgent,kHttpsProxyAgent}=require_symbols4(),ProxyAgent=require_proxy_agent(),Agent=require_agent(),DEFAULT_PORTS={"http:":80,"https:":443},EnvHttpProxyAgent=class extends DispatcherBase{#noProxyValue=null;#noProxyEntries=null;#opts=null;constructor(opts={}){super(),this.#opts=opts;let{httpProxy,httpsProxy,noProxy,...agentOpts}=opts;this[kNoProxyAgent]=new Agent(agentOpts);let HTTP_PROXY=httpProxy??process.env.http_proxy??process.env.HTTP_PROXY;HTTP_PROXY?this[kHttpProxyAgent]=new ProxyAgent({...agentOpts,uri:HTTP_PROXY}):this[kHttpProxyAgent]=this[kNoProxyAgent];let HTTPS_PROXY=httpsProxy??process.env.https_proxy??process.env.HTTPS_PROXY;HTTPS_PROXY?this[kHttpsProxyAgent]=new ProxyAgent({...agentOpts,uri:HTTPS_PROXY}):this[kHttpsProxyAgent]=this[kHttpProxyAgent],this.#parseNoProxy()}[kDispatch](opts,handler){let url=new URL(opts.origin);return this.#getProxyAgentForUrl(url).dispatch(opts,handler)}[kClose](){return Promise.all([this[kNoProxyAgent].close(),!this[kHttpProxyAgent][kClosed]&&this[kHttpProxyAgent].close(),!this[kHttpsProxyAgent][kClosed]&&this[kHttpsProxyAgent].close()])}[kDestroy](err){return Promise.all([this[kNoProxyAgent].destroy(err),!this[kHttpProxyAgent][kDestroyed]&&this[kHttpProxyAgent].destroy(err),!this[kHttpsProxyAgent][kDestroyed]&&this[kHttpsProxyAgent].destroy(err)])}#getProxyAgentForUrl(url){let{protocol,host:hostname,port}=url;return hostname=hostname.replace(/:\d*$/,"").toLowerCase(),port=Number.parseInt(port,10)||DEFAULT_PORTS[protocol]||0,this.#shouldProxy(hostname,port)?protocol==="https:"?this[kHttpsProxyAgent]:this[kHttpProxyAgent]:this[kNoProxyAgent]}#shouldProxy(hostname,port){if(this.#noProxyChanged&&this.#parseNoProxy(),this.#noProxyEntries.length===0)return!0;if(this.#noProxyValue==="*")return!1;for(let i=0;i<this.#noProxyEntries.length;i++){let entry=this.#noProxyEntries[i];if(!(entry.port&&entry.port!==port)){if(/^[.*]/.test(entry.hostname)){if(hostname.endsWith(entry.hostname.replace(/^\*/,"")))return!1}else if(hostname===entry.hostname)return!1}}return!0}#parseNoProxy(){let noProxyValue=this.#opts.noProxy??this.#noProxyEnv,noProxySplit=noProxyValue.split(/[,\s]/),noProxyEntries=[];for(let i=0;i<noProxySplit.length;i++){let entry=noProxySplit[i];if(!entry)continue;let parsed=entry.match(/^(.+):(\d+)$/);noProxyEntries.push({hostname:(parsed?parsed[1]:entry).toLowerCase(),port:parsed?Number.parseInt(parsed[2],10):0})}this.#noProxyValue=noProxyValue,this.#noProxyEntries=noProxyEntries}get#noProxyChanged(){return this.#opts.noProxy!==void 0?!1:this.#noProxyValue!==this.#noProxyEnv}get#noProxyEnv(){return process.env.no_proxy??process.env.NO_PROXY??""}};module2.exports=EnvHttpProxyAgent}});var require_retry_handler=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/handler/retry-handler.js"(exports2,module2){"use strict";var assert2=require("node:assert"),{kRetryHandlerDefaultRetry}=require_symbols4(),{RequestRetryError}=require_errors5(),WrapHandler=require_wrap_handler(),{isDisturbed,parseRangeHeader,wrapRequestBody}=require_util3();function calculateRetryAfterHeader(retryAfter){let retryTime=new Date(retryAfter).getTime();return isNaN(retryTime)?0:retryTime-Date.now()}var RetryHandler=class _RetryHandler{constructor(opts,{dispatch,handler}){let{retryOptions,...dispatchOpts}=opts,{retry:retryFn,maxRetries,maxTimeout,minTimeout,timeoutFactor,methods,errorCodes,retryAfter,statusCodes,throwOnError}=retryOptions??{};this.error=null,this.dispatch=dispatch,this.handler=WrapHandler.wrap(handler),this.opts={...dispatchOpts,body:wrapRequestBody(opts.body)},this.retryOpts={throwOnError:throwOnError??!0,retry:retryFn??_RetryHandler[kRetryHandlerDefaultRetry],retryAfter:retryAfter??!0,maxTimeout:maxTimeout??30*1e3,minTimeout:minTimeout??500,timeoutFactor:timeoutFactor??2,maxRetries:maxRetries??5,methods:methods??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:statusCodes??[500,502,503,504,429],errorCodes:errorCodes??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.headersSent=!1,this.start=0,this.end=null,this.etag=null}onResponseStartWithRetry(controller,statusCode,headers,statusMessage,err){if(this.retryOpts.throwOnError){this.retryOpts.statusCodes.includes(statusCode)===!1?(this.headersSent=!0,this.handler.onResponseStart?.(controller,statusCode,headers,statusMessage)):this.error=err;return}if(isDisturbed(this.opts.body)){this.headersSent=!0,this.handler.onResponseStart?.(controller,statusCode,headers,statusMessage);return}function shouldRetry(passedErr){if(passedErr){this.headersSent=!0,this.headersSent=!0,this.handler.onResponseStart?.(controller,statusCode,headers,statusMessage),controller.resume();return}this.error=err,controller.resume()}controller.pause(),this.retryOpts.retry(err,{state:{counter:this.retryCount},opts:{retryOptions:this.retryOpts,...this.opts}},shouldRetry.bind(this))}onRequestStart(controller,context){this.headersSent||this.handler.onRequestStart?.(controller,context)}onRequestUpgrade(controller,statusCode,headers,socket){this.handler.onRequestUpgrade?.(controller,statusCode,headers,socket)}static[kRetryHandlerDefaultRetry](err,{state,opts},cb){let{statusCode,code:code2,headers}=err,{method,retryOptions}=opts,{maxRetries,minTimeout,maxTimeout,timeoutFactor,statusCodes,errorCodes,methods}=retryOptions,{counter}=state;if(code2&&code2!=="UND_ERR_REQ_RETRY"&&!errorCodes.includes(code2)){cb(err);return}if(Array.isArray(methods)&&!methods.includes(method)){cb(err);return}if(statusCode!=null&&Array.isArray(statusCodes)&&!statusCodes.includes(statusCode)){cb(err);return}if(counter>maxRetries){cb(err);return}let retryAfterHeader=headers?.["retry-after"];retryAfterHeader&&(retryAfterHeader=Number(retryAfterHeader),retryAfterHeader=Number.isNaN(retryAfterHeader)?calculateRetryAfterHeader(headers["retry-after"]):retryAfterHeader*1e3);let retryTimeout=retryAfterHeader>0?Math.min(retryAfterHeader,maxTimeout):Math.min(minTimeout*timeoutFactor**(counter-1),maxTimeout);setTimeout(()=>cb(null),retryTimeout)}onResponseStart(controller,statusCode,headers,statusMessage){if(this.error=null,this.retryCount+=1,statusCode>=300){let err=new RequestRetryError("Request failed",statusCode,{headers,data:{count:this.retryCount}});this.onResponseStartWithRetry(controller,statusCode,headers,statusMessage,err);return}if(this.headersSent){if(statusCode!==206&&(this.start>0||statusCode!==200))throw new RequestRetryError("server does not support the range header and the payload was partially consumed",statusCode,{headers,data:{count:this.retryCount}});let contentRange=parseRangeHeader(headers["content-range"]);if(!contentRange)throw new RequestRetryError("Content-Range mismatch",statusCode,{headers,data:{count:this.retryCount}});if(this.etag!=null&&this.etag!==headers.etag)throw new RequestRetryError("ETag mismatch",statusCode,{headers,data:{count:this.retryCount}});let{start,size,end=size?size-1:null}=contentRange;assert2(this.start===start,"content-range mismatch"),assert2(this.end==null||this.end===end,"content-range mismatch");return}if(this.end==null){if(statusCode===206){let range=parseRangeHeader(headers["content-range"]);if(range==null){this.headersSent=!0,this.handler.onResponseStart?.(controller,statusCode,headers,statusMessage);return}let{start,size,end=size?size-1:null}=range;assert2(start!=null&&Number.isFinite(start),"content-range mismatch"),assert2(end!=null&&Number.isFinite(end),"invalid content-length"),this.start=start,this.end=end}if(this.end==null){let contentLength=headers["content-length"];this.end=contentLength!=null?Number(contentLength)-1:null}assert2(Number.isFinite(this.start)),assert2(this.end==null||Number.isFinite(this.end),"invalid content-length"),this.resume=!0,this.etag=headers.etag!=null?headers.etag:null,this.etag!=null&&this.etag[0]==="W"&&this.etag[1]==="/"&&(this.etag=null),this.headersSent=!0,this.handler.onResponseStart?.(controller,statusCode,headers,statusMessage)}else throw new RequestRetryError("Request failed",statusCode,{headers,data:{count:this.retryCount}})}onResponseData(controller,chunk){this.error||(this.start+=chunk.length,this.handler.onResponseData?.(controller,chunk))}onResponseEnd(controller,trailers){if(this.error&&this.retryOpts.throwOnError)throw this.error;if(!this.error)return this.retryCount=0,this.handler.onResponseEnd?.(controller,trailers);this.retry(controller)}retry(controller){if(this.start!==0){let headers={range:`bytes=${this.start}-${this.end??""}`};this.etag!=null&&(headers["if-match"]=this.etag),this.opts={...this.opts,headers:{...this.opts.headers,...headers}}}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(err){this.handler.onResponseError?.(controller,err)}}onResponseError(controller,err){if(controller?.aborted||isDisturbed(this.opts.body)){this.handler.onResponseError?.(controller,err);return}function shouldRetry(returnedErr){if(!returnedErr){this.retry(controller);return}this.handler?.onResponseError?.(controller,returnedErr)}this.retryCount-this.retryCountCheckpoint>0?this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint):this.retryCount+=1,this.retryOpts.retry(err,{state:{counter:this.retryCount},opts:{retryOptions:this.retryOpts,...this.opts}},shouldRetry.bind(this))}};module2.exports=RetryHandler}});var require_retry_agent=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/dispatcher/retry-agent.js"(exports2,module2){"use strict";var Dispatcher=require_dispatcher(),RetryHandler=require_retry_handler(),RetryAgent=class extends Dispatcher{#agent=null;#options=null;constructor(agent,options2={}){super(options2),this.#agent=agent,this.#options=options2}dispatch(opts,handler){let retry=new RetryHandler({...opts,retryOptions:this.#options},{dispatch:this.#agent.dispatch.bind(this.#agent),handler});return this.#agent.dispatch(opts,retry)}close(){return this.#agent.close()}destroy(){return this.#agent.destroy()}};module2.exports=RetryAgent}});var require_h2c_client=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/dispatcher/h2c-client.js"(exports2,module2){"use strict";var{connect}=require("node:net"),{kClose,kDestroy}=require_symbols4(),{InvalidArgumentError}=require_errors5(),util3=require_util3(),Client=require_client(),DispatcherBase=require_dispatcher_base(),H2CClient=class extends DispatcherBase{#client=null;constructor(origin,clientOpts){if(typeof origin=="string"&&(origin=new URL(origin)),origin.protocol!=="http:")throw new InvalidArgumentError("h2c-client: Only h2c protocol is supported");let{connect:connect2,maxConcurrentStreams,pipelining,...opts}=clientOpts??{},defaultMaxConcurrentStreams=100,defaultPipelining=100;if(maxConcurrentStreams!=null&&Number.isInteger(maxConcurrentStreams)&&maxConcurrentStreams>0&&(defaultMaxConcurrentStreams=maxConcurrentStreams),pipelining!=null&&Number.isInteger(pipelining)&&pipelining>0&&(defaultPipelining=pipelining),defaultPipelining>defaultMaxConcurrentStreams)throw new InvalidArgumentError("h2c-client: pipelining cannot be greater than maxConcurrentStreams");super(),this.#client=new Client(origin,{...opts,connect:this.#buildConnector(connect2),maxConcurrentStreams:defaultMaxConcurrentStreams,pipelining:defaultPipelining,allowH2:!0})}#buildConnector(connectOpts){return(opts,callback)=>{let timeout=connectOpts?.connectOpts??1e4,{hostname,port,pathname}=opts,socket=connect({...opts,host:hostname,port,pathname});if(opts.keepAlive==null||opts.keepAlive){let keepAliveInitialDelay=opts.keepAliveInitialDelay==null?6e4:opts.keepAliveInitialDelay;socket.setKeepAlive(!0,keepAliveInitialDelay)}socket.alpnProtocol="h2";let clearConnectTimeout=util3.setupConnectTimeout(new WeakRef(socket),{timeout,hostname,port});return socket.setNoDelay(!0).once("connect",function(){if(queueMicrotask(clearConnectTimeout),callback){let cb=callback;callback=null,cb(null,this)}}).on("error",function(err){if(queueMicrotask(clearConnectTimeout),callback){let cb=callback;callback=null,cb(err)}}),socket}}dispatch(opts,handler){return this.#client.dispatch(opts,handler)}[kClose](){return this.#client.close()}[kDestroy](){return this.#client.destroy()}};module2.exports=H2CClient}});var require_readable=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/api/readable.js"(exports2,module2){"use strict";var assert2=require("node:assert"),{Readable}=require("node:stream"),{RequestAbortedError,NotSupportedError,InvalidArgumentError,AbortError}=require_errors5(),util3=require_util3(),{ReadableStreamFrom}=require_util3(),kConsume=Symbol("kConsume"),kReading=Symbol("kReading"),kBody=Symbol("kBody"),kAbort=Symbol("kAbort"),kContentType=Symbol("kContentType"),kContentLength=Symbol("kContentLength"),kUsed=Symbol("kUsed"),kBytesRead=Symbol("kBytesRead"),noop=()=>{},BodyReadable=class extends Readable{constructor({resume,abort,contentType="",contentLength,highWaterMark=64*1024}){super({autoDestroy:!0,read:resume,highWaterMark}),this._readableState.dataEmitted=!1,this[kAbort]=abort,this[kConsume]=null,this[kBytesRead]=0,this[kBody]=null,this[kUsed]=!1,this[kContentType]=contentType,this[kContentLength]=Number.isFinite(contentLength)?contentLength:null,this[kReading]=!1}_destroy(err,callback){!err&&!this._readableState.endEmitted&&(err=new RequestAbortedError),err&&this[kAbort](),this[kUsed]?callback(err):setImmediate(callback,err)}on(event,listener){return(event==="data"||event==="readable")&&(this[kReading]=!0,this[kUsed]=!0),super.on(event,listener)}addListener(event,listener){return this.on(event,listener)}off(event,listener){let ret=super.off(event,listener);return(event==="data"||event==="readable")&&(this[kReading]=this.listenerCount("data")>0||this.listenerCount("readable")>0),ret}removeListener(event,listener){return this.off(event,listener)}push(chunk){return chunk&&(this[kBytesRead]+=chunk.length,this[kConsume])?(consumePush(this[kConsume],chunk),this[kReading]?super.push(chunk):!0):super.push(chunk)}text(){return consume(this,"text")}json(){return consume(this,"json")}blob(){return consume(this,"blob")}bytes(){return consume(this,"bytes")}arrayBuffer(){return consume(this,"arrayBuffer")}async formData(){throw new NotSupportedError}get bodyUsed(){return util3.isDisturbed(this)}get body(){return this[kBody]||(this[kBody]=ReadableStreamFrom(this),this[kConsume]&&(this[kBody].getReader(),assert2(this[kBody].locked))),this[kBody]}dump(opts){let signal=opts?.signal;if(signal!=null&&(typeof signal!="object"||!("aborted"in signal)))return Promise.reject(new InvalidArgumentError("signal must be an AbortSignal"));let limit=opts?.limit&&Number.isFinite(opts.limit)?opts.limit:128*1024;return signal?.aborted?Promise.reject(signal.reason??new AbortError):this._readableState.closeEmitted?Promise.resolve(null):new Promise((resolve,reject)=>{if((this[kContentLength]&&this[kContentLength]>limit||this[kBytesRead]>limit)&&this.destroy(new AbortError),signal){let onAbort=()=>{this.destroy(signal.reason??new AbortError)};signal.addEventListener("abort",onAbort),this.on("close",function(){signal.removeEventListener("abort",onAbort),signal.aborted?reject(signal.reason??new AbortError):resolve(null)})}else this.on("close",resolve);this.on("error",noop).on("data",()=>{this[kBytesRead]>limit&&this.destroy()}).resume()})}setEncoding(encoding){return Buffer.isEncoding(encoding)&&(this._readableState.encoding=encoding),this}};function isLocked(bodyReadable){return bodyReadable[kBody]?.locked===!0||bodyReadable[kConsume]!==null}function isUnusable(bodyReadable){return util3.isDisturbed(bodyReadable)||isLocked(bodyReadable)}function consume(stream,type){return assert2(!stream[kConsume]),new Promise((resolve,reject)=>{if(isUnusable(stream)){let rState=stream._readableState;rState.destroyed&&rState.closeEmitted===!1?stream.on("error",reject).on("close",()=>{reject(new TypeError("unusable"))}):reject(rState.errored??new TypeError("unusable"))}else queueMicrotask(()=>{stream[kConsume]={type,stream,resolve,reject,length:0,body:[]},stream.on("error",function(err){consumeFinish(this[kConsume],err)}).on("close",function(){this[kConsume].body!==null&&consumeFinish(this[kConsume],new RequestAbortedError)}),consumeStart(stream[kConsume])})})}function consumeStart(consume2){if(consume2.body===null)return;let{_readableState:state}=consume2.stream;if(state.bufferIndex){let start=state.bufferIndex,end=state.buffer.length;for(let n=start;n<end;n++)consumePush(consume2,state.buffer[n])}else for(let chunk of state.buffer)consumePush(consume2,chunk);for(state.endEmitted?consumeEnd(this[kConsume],this._readableState.encoding):consume2.stream.on("end",function(){consumeEnd(this[kConsume],this._readableState.encoding)}),consume2.stream.resume();consume2.stream.read()!=null;);}function chunksDecode(chunks,length,encoding){if(chunks.length===0||length===0)return"";let buffer=chunks.length===1?chunks[0]:Buffer.concat(chunks,length),bufferLength=buffer.length,start=bufferLength>2&&buffer[0]===239&&buffer[1]===187&&buffer[2]===191?3:0;return!encoding||encoding==="utf8"||encoding==="utf-8"?buffer.utf8Slice(start,bufferLength):buffer.subarray(start,bufferLength).toString(encoding)}function chunksConcat(chunks,length){if(chunks.length===0||length===0)return new Uint8Array(0);if(chunks.length===1)return new Uint8Array(chunks[0]);let buffer=new Uint8Array(Buffer.allocUnsafeSlow(length).buffer),offset=0;for(let i=0;i<chunks.length;++i){let chunk=chunks[i];buffer.set(chunk,offset),offset+=chunk.length}return buffer}function consumeEnd(consume2,encoding){let{type,body,resolve,stream,length}=consume2;try{type==="text"?resolve(chunksDecode(body,length,encoding)):type==="json"?resolve(JSON.parse(chunksDecode(body,length,encoding))):type==="arrayBuffer"?resolve(chunksConcat(body,length).buffer):type==="blob"?resolve(new Blob(body,{type:stream[kContentType]})):type==="bytes"&&resolve(chunksConcat(body,length)),consumeFinish(consume2)}catch(err){stream.destroy(err)}}function consumePush(consume2,chunk){consume2.length+=chunk.length,consume2.body.push(chunk)}function consumeFinish(consume2,err){consume2.body!==null&&(err?consume2.reject(err):consume2.resolve(),consume2.type=null,consume2.stream=null,consume2.resolve=null,consume2.reject=null,consume2.length=0,consume2.body=null)}module2.exports={Readable:BodyReadable,chunksDecode}}});var require_api_request=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/api/api-request.js"(exports2,module2){"use strict";var assert2=require("node:assert"),{AsyncResource}=require("node:async_hooks"),{Readable}=require_readable(),{InvalidArgumentError,RequestAbortedError}=require_errors5(),util3=require_util3();function noop(){}var RequestHandler=class extends AsyncResource{constructor(opts,callback){if(!opts||typeof opts!="object")throw new InvalidArgumentError("invalid opts");let{signal,method,opaque,body,onInfo,responseHeaders,highWaterMark}=opts;try{if(typeof callback!="function")throw new InvalidArgumentError("invalid callback");if(highWaterMark&&(typeof highWaterMark!="number"||highWaterMark<0))throw new InvalidArgumentError("invalid highWaterMark");if(signal&&typeof signal.on!="function"&&typeof signal.addEventListener!="function")throw new InvalidArgumentError("signal must be an EventEmitter or EventTarget");if(method==="CONNECT")throw new InvalidArgumentError("invalid method");if(onInfo&&typeof onInfo!="function")throw new InvalidArgumentError("invalid onInfo callback");super("UNDICI_REQUEST")}catch(err){throw util3.isStream(body)&&util3.destroy(body.on("error",noop),err),err}this.method=method,this.responseHeaders=responseHeaders||null,this.opaque=opaque||null,this.callback=callback,this.res=null,this.abort=null,this.body=body,this.trailers={},this.context=null,this.onInfo=onInfo||null,this.highWaterMark=highWaterMark,this.reason=null,this.removeAbortListener=null,signal?.aborted?this.reason=signal.reason??new RequestAbortedError:signal&&(this.removeAbortListener=util3.addAbortListener(signal,()=>{this.reason=signal.reason??new RequestAbortedError,this.res?util3.destroy(this.res.on("error",noop),this.reason):this.abort&&this.abort(this.reason)}))}onConnect(abort,context){if(this.reason){abort(this.reason);return}assert2(this.callback),this.abort=abort,this.context=context}onHeaders(statusCode,rawHeaders,resume,statusMessage){let{callback,opaque,abort,context,responseHeaders,highWaterMark}=this,headers=responseHeaders==="raw"?util3.parseRawHeaders(rawHeaders):util3.parseHeaders(rawHeaders);if(statusCode<200){this.onInfo&&this.onInfo({statusCode,headers});return}let parsedHeaders=responseHeaders==="raw"?util3.parseHeaders(rawHeaders):headers,contentType=parsedHeaders["content-type"],contentLength=parsedHeaders["content-length"],res=new Readable({resume,abort,contentType,contentLength:this.method!=="HEAD"&&contentLength?Number(contentLength):null,highWaterMark});if(this.removeAbortListener&&(res.on("close",this.removeAbortListener),this.removeAbortListener=null),this.callback=null,this.res=res,callback!==null)try{this.runInAsyncScope(callback,null,null,{statusCode,headers,trailers:this.trailers,opaque,body:res,context})}catch(err){this.res=null,util3.destroy(res.on("error",noop),err),queueMicrotask(()=>{throw err})}}onData(chunk){return this.res.push(chunk)}onComplete(trailers){util3.parseHeaders(trailers,this.trailers),this.res.push(null)}onError(err){let{res,callback,body,opaque}=this;callback&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(callback,null,err,{opaque})})),res&&(this.res=null,queueMicrotask(()=>{util3.destroy(res.on("error",noop),err)})),body&&(this.body=null,util3.isStream(body)&&(body.on("error",noop),util3.destroy(body,err))),this.removeAbortListener&&(this.removeAbortListener(),this.removeAbortListener=null)}};function request2(opts,callback){if(callback===void 0)return new Promise((resolve,reject)=>{request2.call(this,opts,(err,data)=>err?reject(err):resolve(data))});try{let handler=new RequestHandler(opts,callback);this.dispatch(opts,handler)}catch(err){if(typeof callback!="function")throw err;let opaque=opts?.opaque;queueMicrotask(()=>callback(err,{opaque}))}}module2.exports=request2;module2.exports.RequestHandler=RequestHandler}});var require_abort_signal=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/api/abort-signal.js"(exports2,module2){"use strict";var{addAbortListener}=require_util3(),{RequestAbortedError}=require_errors5(),kListener=Symbol("kListener"),kSignal=Symbol("kSignal");function abort(self2){self2.abort?self2.abort(self2[kSignal]?.reason):self2.reason=self2[kSignal]?.reason??new RequestAbortedError,removeSignal(self2)}function addSignal(self2,signal){if(self2.reason=null,self2[kSignal]=null,self2[kListener]=null,!!signal){if(signal.aborted){abort(self2);return}self2[kSignal]=signal,self2[kListener]=()=>{abort(self2)},addAbortListener(self2[kSignal],self2[kListener])}}function removeSignal(self2){self2[kSignal]&&("removeEventListener"in self2[kSignal]?self2[kSignal].removeEventListener("abort",self2[kListener]):self2[kSignal].removeListener("abort",self2[kListener]),self2[kSignal]=null,self2[kListener]=null)}module2.exports={addSignal,removeSignal}}});var require_api_stream=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/api/api-stream.js"(exports2,module2){"use strict";var assert2=require("node:assert"),{finished}=require("node:stream"),{AsyncResource}=require("node:async_hooks"),{InvalidArgumentError,InvalidReturnValueError}=require_errors5(),util3=require_util3(),{addSignal,removeSignal}=require_abort_signal();function noop(){}var StreamHandler=class extends AsyncResource{constructor(opts,factory,callback){if(!opts||typeof opts!="object")throw new InvalidArgumentError("invalid opts");let{signal,method,opaque,body,onInfo,responseHeaders}=opts;try{if(typeof callback!="function")throw new InvalidArgumentError("invalid callback");if(typeof factory!="function")throw new InvalidArgumentError("invalid factory");if(signal&&typeof signal.on!="function"&&typeof signal.addEventListener!="function")throw new InvalidArgumentError("signal must be an EventEmitter or EventTarget");if(method==="CONNECT")throw new InvalidArgumentError("invalid method");if(onInfo&&typeof onInfo!="function")throw new InvalidArgumentError("invalid onInfo callback");super("UNDICI_STREAM")}catch(err){throw util3.isStream(body)&&util3.destroy(body.on("error",noop),err),err}this.responseHeaders=responseHeaders||null,this.opaque=opaque||null,this.factory=factory,this.callback=callback,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=body,this.onInfo=onInfo||null,util3.isStream(body)&&body.on("error",err=>{this.onError(err)}),addSignal(this,signal)}onConnect(abort,context){if(this.reason){abort(this.reason);return}assert2(this.callback),this.abort=abort,this.context=context}onHeaders(statusCode,rawHeaders,resume,statusMessage){let{factory,opaque,context,responseHeaders}=this,headers=responseHeaders==="raw"?util3.parseRawHeaders(rawHeaders):util3.parseHeaders(rawHeaders);if(statusCode<200){this.onInfo&&this.onInfo({statusCode,headers});return}if(this.factory=null,factory===null)return;let res=this.runInAsyncScope(factory,null,{statusCode,headers,opaque,context});if(!res||typeof res.write!="function"||typeof res.end!="function"||typeof res.on!="function")throw new InvalidReturnValueError("expected Writable");return finished(res,{readable:!1},err=>{let{callback,res:res2,opaque:opaque2,trailers,abort}=this;this.res=null,(err||!res2?.readable)&&util3.destroy(res2,err),this.callback=null,this.runInAsyncScope(callback,null,err||null,{opaque:opaque2,trailers}),err&&abort()}),res.on("drain",resume),this.res=res,(res.writableNeedDrain!==void 0?res.writableNeedDrain:res._writableState?.needDrain)!==!0}onData(chunk){let{res}=this;return res?res.write(chunk):!0}onComplete(trailers){let{res}=this;removeSignal(this),res&&(this.trailers=util3.parseHeaders(trailers),res.end())}onError(err){let{res,callback,opaque,body}=this;removeSignal(this),this.factory=null,res?(this.res=null,util3.destroy(res,err)):callback&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(callback,null,err,{opaque})})),body&&(this.body=null,util3.destroy(body,err))}};function stream(opts,factory,callback){if(callback===void 0)return new Promise((resolve,reject)=>{stream.call(this,opts,factory,(err,data)=>err?reject(err):resolve(data))});try{let handler=new StreamHandler(opts,factory,callback);this.dispatch(opts,handler)}catch(err){if(typeof callback!="function")throw err;let opaque=opts?.opaque;queueMicrotask(()=>callback(err,{opaque}))}}module2.exports=stream}});var require_api_pipeline=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/api/api-pipeline.js"(exports2,module2){"use strict";var{Readable,Duplex,PassThrough}=require("node:stream"),assert2=require("node:assert"),{AsyncResource}=require("node:async_hooks"),{InvalidArgumentError,InvalidReturnValueError,RequestAbortedError}=require_errors5(),util3=require_util3(),{addSignal,removeSignal}=require_abort_signal();function noop(){}var kResume=Symbol("resume"),PipelineRequest=class extends Readable{constructor(){super({autoDestroy:!0}),this[kResume]=null}_read(){let{[kResume]:resume}=this;resume&&(this[kResume]=null,resume())}_destroy(err,callback){this._read(),callback(err)}},PipelineResponse=class extends Readable{constructor(resume){super({autoDestroy:!0}),this[kResume]=resume}_read(){this[kResume]()}_destroy(err,callback){!err&&!this._readableState.endEmitted&&(err=new RequestAbortedError),callback(err)}},PipelineHandler=class extends AsyncResource{constructor(opts,handler){if(!opts||typeof opts!="object")throw new InvalidArgumentError("invalid opts");if(typeof handler!="function")throw new InvalidArgumentError("invalid handler");let{signal,method,opaque,onInfo,responseHeaders}=opts;if(signal&&typeof signal.on!="function"&&typeof signal.addEventListener!="function")throw new InvalidArgumentError("signal must be an EventEmitter or EventTarget");if(method==="CONNECT")throw new InvalidArgumentError("invalid method");if(onInfo&&typeof onInfo!="function")throw new InvalidArgumentError("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=opaque||null,this.responseHeaders=responseHeaders||null,this.handler=handler,this.abort=null,this.context=null,this.onInfo=onInfo||null,this.req=new PipelineRequest().on("error",noop),this.ret=new Duplex({readableObjectMode:opts.objectMode,autoDestroy:!0,read:()=>{let{body}=this;body?.resume&&body.resume()},write:(chunk,encoding,callback)=>{let{req}=this;req.push(chunk,encoding)||req._readableState.destroyed?callback():req[kResume]=callback},destroy:(err,callback)=>{let{body,req,res,ret,abort}=this;!err&&!ret._readableState.endEmitted&&(err=new RequestAbortedError),abort&&err&&abort(),util3.destroy(body,err),util3.destroy(req,err),util3.destroy(res,err),removeSignal(this),callback(err)}}).on("prefinish",()=>{let{req}=this;req.push(null)}),this.res=null,addSignal(this,signal)}onConnect(abort,context){let{res}=this;if(this.reason){abort(this.reason);return}assert2(!res,"pipeline cannot be retried"),this.abort=abort,this.context=context}onHeaders(statusCode,rawHeaders,resume){let{opaque,handler,context}=this;if(statusCode<200){if(this.onInfo){let headers=this.responseHeaders==="raw"?util3.parseRawHeaders(rawHeaders):util3.parseHeaders(rawHeaders);this.onInfo({statusCode,headers})}return}this.res=new PipelineResponse(resume);let body;try{this.handler=null;let headers=this.responseHeaders==="raw"?util3.parseRawHeaders(rawHeaders):util3.parseHeaders(rawHeaders);body=this.runInAsyncScope(handler,null,{statusCode,headers,opaque,body:this.res,context})}catch(err){throw this.res.on("error",noop),err}if(!body||typeof body.on!="function")throw new InvalidReturnValueError("expected Readable");body.on("data",chunk=>{let{ret,body:body2}=this;!ret.push(chunk)&&body2.pause&&body2.pause()}).on("error",err=>{let{ret}=this;util3.destroy(ret,err)}).on("end",()=>{let{ret}=this;ret.push(null)}).on("close",()=>{let{ret}=this;ret._readableState.ended||util3.destroy(ret,new RequestAbortedError)}),this.body=body}onData(chunk){let{res}=this;return res.push(chunk)}onComplete(trailers){let{res}=this;res.push(null)}onError(err){let{ret}=this;this.handler=null,util3.destroy(ret,err)}};function pipeline(opts,handler){try{let pipelineHandler=new PipelineHandler(opts,handler);return this.dispatch({...opts,body:pipelineHandler.req},pipelineHandler),pipelineHandler.ret}catch(err){return new PassThrough().destroy(err)}}module2.exports=pipeline}});var require_api_upgrade=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/api/api-upgrade.js"(exports2,module2){"use strict";var{InvalidArgumentError,SocketError}=require_errors5(),{AsyncResource}=require("node:async_hooks"),assert2=require("node:assert"),util3=require_util3(),{addSignal,removeSignal}=require_abort_signal(),UpgradeHandler=class extends AsyncResource{constructor(opts,callback){if(!opts||typeof opts!="object")throw new InvalidArgumentError("invalid opts");if(typeof callback!="function")throw new InvalidArgumentError("invalid callback");let{signal,opaque,responseHeaders}=opts;if(signal&&typeof signal.on!="function"&&typeof signal.addEventListener!="function")throw new InvalidArgumentError("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=responseHeaders||null,this.opaque=opaque||null,this.callback=callback,this.abort=null,this.context=null,addSignal(this,signal)}onConnect(abort,context){if(this.reason){abort(this.reason);return}assert2(this.callback),this.abort=abort,this.context=null}onHeaders(){throw new SocketError("bad upgrade",null)}onUpgrade(statusCode,rawHeaders,socket){assert2(statusCode===101);let{callback,opaque,context}=this;removeSignal(this),this.callback=null;let headers=this.responseHeaders==="raw"?util3.parseRawHeaders(rawHeaders):util3.parseHeaders(rawHeaders);this.runInAsyncScope(callback,null,null,{headers,socket,opaque,context})}onError(err){let{callback,opaque}=this;removeSignal(this),callback&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(callback,null,err,{opaque})}))}};function upgrade(opts,callback){if(callback===void 0)return new Promise((resolve,reject)=>{upgrade.call(this,opts,(err,data)=>err?reject(err):resolve(data))});try{let upgradeHandler=new UpgradeHandler(opts,callback),upgradeOpts={...opts,method:opts.method||"GET",upgrade:opts.protocol||"Websocket"};this.dispatch(upgradeOpts,upgradeHandler)}catch(err){if(typeof callback!="function")throw err;let opaque=opts?.opaque;queueMicrotask(()=>callback(err,{opaque}))}}module2.exports=upgrade}});var require_api_connect=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/api/api-connect.js"(exports2,module2){"use strict";var assert2=require("node:assert"),{AsyncResource}=require("node:async_hooks"),{InvalidArgumentError,SocketError}=require_errors5(),util3=require_util3(),{addSignal,removeSignal}=require_abort_signal(),ConnectHandler=class extends AsyncResource{constructor(opts,callback){if(!opts||typeof opts!="object")throw new InvalidArgumentError("invalid opts");if(typeof callback!="function")throw new InvalidArgumentError("invalid callback");let{signal,opaque,responseHeaders}=opts;if(signal&&typeof signal.on!="function"&&typeof signal.addEventListener!="function")throw new InvalidArgumentError("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=opaque||null,this.responseHeaders=responseHeaders||null,this.callback=callback,this.abort=null,addSignal(this,signal)}onConnect(abort,context){if(this.reason){abort(this.reason);return}assert2(this.callback),this.abort=abort,this.context=context}onHeaders(){throw new SocketError("bad connect",null)}onUpgrade(statusCode,rawHeaders,socket){let{callback,opaque,context}=this;removeSignal(this),this.callback=null;let headers=rawHeaders;headers!=null&&(headers=this.responseHeaders==="raw"?util3.parseRawHeaders(rawHeaders):util3.parseHeaders(rawHeaders)),this.runInAsyncScope(callback,null,null,{statusCode,headers,socket,opaque,context})}onError(err){let{callback,opaque}=this;removeSignal(this),callback&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(callback,null,err,{opaque})}))}};function connect(opts,callback){if(callback===void 0)return new Promise((resolve,reject)=>{connect.call(this,opts,(err,data)=>err?reject(err):resolve(data))});try{let connectHandler=new ConnectHandler(opts,callback),connectOptions={...opts,method:"CONNECT"};this.dispatch(connectOptions,connectHandler)}catch(err){if(typeof callback!="function")throw err;let opaque=opts?.opaque;queueMicrotask(()=>callback(err,{opaque}))}}module2.exports=connect}});var require_api=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/api/index.js"(exports2,module2){"use strict";module2.exports.request=require_api_request();module2.exports.stream=require_api_stream();module2.exports.pipeline=require_api_pipeline();module2.exports.upgrade=require_api_upgrade();module2.exports.connect=require_api_connect()}});var require_mock_errors=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/mock/mock-errors.js"(exports2,module2){"use strict";var{UndiciError}=require_errors5(),kMockNotMatchedError=Symbol.for("undici.error.UND_MOCK_ERR_MOCK_NOT_MATCHED"),MockNotMatchedError=class extends UndiciError{constructor(message){super(message),this.name="MockNotMatchedError",this.message=message||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}static[Symbol.hasInstance](instance){return instance&&instance[kMockNotMatchedError]===!0}get[kMockNotMatchedError](){return!0}};module2.exports={MockNotMatchedError}}});var require_mock_symbols=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/mock/mock-symbols.js"(exports2,module2){"use strict";module2.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOriginalDispatch:Symbol("original dispatch"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected"),kIgnoreTrailingSlash:Symbol("ignore trailing slash"),kMockAgentMockCallHistoryInstance:Symbol("mock agent mock call history name"),kMockAgentRegisterCallHistory:Symbol("mock agent register mock call history"),kMockAgentAddCallHistoryLog:Symbol("mock agent add call history log"),kMockAgentIsCallHistoryEnabled:Symbol("mock agent is call history enabled"),kMockAgentAcceptsNonStandardSearchParameters:Symbol("mock agent accepts non standard search parameters"),kMockCallHistoryAddLog:Symbol("mock call history add log")}}});var require_mock_utils=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/mock/mock-utils.js"(exports2,module2){"use strict";var{MockNotMatchedError}=require_mock_errors(),{kDispatches,kMockAgent,kOriginalDispatch,kOrigin,kGetNetConnect}=require_mock_symbols(),{serializePathWithQuery}=require_util3(),{STATUS_CODES}=require("node:http"),{types:{isPromise}}=require("node:util"),{InvalidArgumentError}=require_errors5();function matchValue(match2,value){return typeof match2=="string"?match2===value:match2 instanceof RegExp?match2.test(value):typeof match2=="function"?match2(value)===!0:!1}function lowerCaseEntries(headers){return Object.fromEntries(Object.entries(headers).map(([headerName,headerValue])=>[headerName.toLocaleLowerCase(),headerValue]))}function getHeaderByName(headers,key){if(Array.isArray(headers)){for(let i=0;i<headers.length;i+=2)if(headers[i].toLocaleLowerCase()===key.toLocaleLowerCase())return headers[i+1];return}else return typeof headers.get=="function"?headers.get(key):lowerCaseEntries(headers)[key.toLocaleLowerCase()]}function buildHeadersFromArray(headers){let clone=headers.slice(),entries=[];for(let index2=0;index2<clone.length;index2+=2)entries.push([clone[index2],clone[index2+1]]);return Object.fromEntries(entries)}function matchHeaders(mockDispatch2,headers){if(typeof mockDispatch2.headers=="function")return Array.isArray(headers)&&(headers=buildHeadersFromArray(headers)),mockDispatch2.headers(headers?lowerCaseEntries(headers):{});if(typeof mockDispatch2.headers>"u")return!0;if(typeof headers!="object"||typeof mockDispatch2.headers!="object")return!1;for(let[matchHeaderName,matchHeaderValue]of Object.entries(mockDispatch2.headers)){let headerValue=getHeaderByName(headers,matchHeaderName);if(!matchValue(matchHeaderValue,headerValue))return!1}return!0}function normalizeSearchParams(query){if(typeof query!="string")return query;let originalQp=new URLSearchParams(query),normalizedQp=new URLSearchParams;for(let[key,value]of originalQp.entries()){if(key=key.replace("[]",""),/^(['"]).*\1$/.test(value)){normalizedQp.append(key,value);continue}if(value.includes(",")){let values2=value.split(",");for(let v of values2)normalizedQp.append(key,v);continue}normalizedQp.append(key,value)}return normalizedQp}function safeUrl(path5){if(typeof path5!="string")return path5;let pathSegments=path5.split("?",3);if(pathSegments.length!==2)return path5;let qp=new URLSearchParams(pathSegments.pop());return qp.sort(),[...pathSegments,qp.toString()].join("?")}function matchKey(mockDispatch2,{path:path5,method,body,headers}){let pathMatch=matchValue(mockDispatch2.path,path5),methodMatch=matchValue(mockDispatch2.method,method),bodyMatch=typeof mockDispatch2.body<"u"?matchValue(mockDispatch2.body,body):!0,headersMatch=matchHeaders(mockDispatch2,headers);return pathMatch&&methodMatch&&bodyMatch&&headersMatch}function getResponseData(data){return Buffer.isBuffer(data)||data instanceof Uint8Array||data instanceof ArrayBuffer?data:typeof data=="object"?JSON.stringify(data):data?data.toString():""}function getMockDispatch(mockDispatches,key){let basePath=key.query?serializePathWithQuery(key.path,key.query):key.path,resolvedPath=typeof basePath=="string"?safeUrl(basePath):basePath,resolvedPathWithoutTrailingSlash=removeTrailingSlash(resolvedPath),matchedMockDispatches=mockDispatches.filter(({consumed})=>!consumed).filter(({path:path5,ignoreTrailingSlash})=>ignoreTrailingSlash?matchValue(removeTrailingSlash(safeUrl(path5)),resolvedPathWithoutTrailingSlash):matchValue(safeUrl(path5),resolvedPath));if(matchedMockDispatches.length===0)throw new MockNotMatchedError(`Mock dispatch not matched for path '${resolvedPath}'`);if(matchedMockDispatches=matchedMockDispatches.filter(({method})=>matchValue(method,key.method)),matchedMockDispatches.length===0)throw new MockNotMatchedError(`Mock dispatch not matched for method '${key.method}' on path '${resolvedPath}'`);if(matchedMockDispatches=matchedMockDispatches.filter(({body})=>typeof body<"u"?matchValue(body,key.body):!0),matchedMockDispatches.length===0)throw new MockNotMatchedError(`Mock dispatch not matched for body '${key.body}' on path '${resolvedPath}'`);if(matchedMockDispatches=matchedMockDispatches.filter(mockDispatch2=>matchHeaders(mockDispatch2,key.headers)),matchedMockDispatches.length===0){let headers=typeof key.headers=="object"?JSON.stringify(key.headers):key.headers;throw new MockNotMatchedError(`Mock dispatch not matched for headers '${headers}' on path '${resolvedPath}'`)}return matchedMockDispatches[0]}function addMockDispatch(mockDispatches,key,data,opts){let baseData={timesInvoked:0,times:1,persist:!1,consumed:!1,...opts},replyData=typeof data=="function"?{callback:data}:{...data},newMockDispatch={...baseData,...key,pending:!0,data:{error:null,...replyData}};return mockDispatches.push(newMockDispatch),newMockDispatch}function deleteMockDispatch(mockDispatches,key){let index2=mockDispatches.findIndex(dispatch=>dispatch.consumed?matchKey(dispatch,key):!1);index2!==-1&&mockDispatches.splice(index2,1)}function removeTrailingSlash(path5){for(;path5.endsWith("/");)path5=path5.slice(0,-1);return path5.length===0&&(path5="/"),path5}function buildKey(opts){let{path:path5,method,body,headers,query}=opts;return{path:path5,method,body,headers,query}}function generateKeyValues(data){let keys2=Object.keys(data),result=[];for(let i=0;i<keys2.length;++i){let key=keys2[i],value=data[key],name=Buffer.from(`${key}`);if(Array.isArray(value))for(let j=0;j<value.length;++j)result.push(name,Buffer.from(`${value[j]}`));else result.push(name,Buffer.from(`${value}`))}return result}function getStatusText(statusCode){return STATUS_CODES[statusCode]||"unknown"}async function getResponse(body){let buffers=[];for await(let data of body)buffers.push(data);return Buffer.concat(buffers).toString("utf8")}function mockDispatch(opts,handler){let key=buildKey(opts),mockDispatch2=getMockDispatch(this[kDispatches],key);mockDispatch2.timesInvoked++,mockDispatch2.data.callback&&(mockDispatch2.data={...mockDispatch2.data,...mockDispatch2.data.callback(opts)});let{data:{statusCode,data,headers,trailers,error},delay,persist}=mockDispatch2,{timesInvoked,times:times2}=mockDispatch2;if(mockDispatch2.consumed=!persist&&timesInvoked>=times2,mockDispatch2.pending=timesInvoked<times2,error!==null)return deleteMockDispatch(this[kDispatches],key),handler.onError(error),!0;typeof delay=="number"&&delay>0?setTimeout(()=>{handleReply(this[kDispatches])},delay):handleReply(this[kDispatches]);function handleReply(mockDispatches,_data=data){let optsHeaders=Array.isArray(opts.headers)?buildHeadersFromArray(opts.headers):opts.headers,body=typeof _data=="function"?_data({...opts,headers:optsHeaders}):_data;if(isPromise(body)){body.then(newData=>handleReply(mockDispatches,newData));return}let responseData=getResponseData(body),responseHeaders=generateKeyValues(headers),responseTrailers=generateKeyValues(trailers);handler.onConnect?.(err=>handler.onError(err),null),handler.onHeaders?.(statusCode,responseHeaders,resume,getStatusText(statusCode)),handler.onData?.(Buffer.from(responseData)),handler.onComplete?.(responseTrailers),deleteMockDispatch(mockDispatches,key)}function resume(){}return!0}function buildMockDispatch(){let agent=this[kMockAgent],origin=this[kOrigin],originalDispatch=this[kOriginalDispatch];return function(opts,handler){if(agent.isMockActive)try{mockDispatch.call(this,opts,handler)}catch(error){if(error.code==="UND_MOCK_ERR_MOCK_NOT_MATCHED"){let netConnect=agent[kGetNetConnect]();if(netConnect===!1)throw new MockNotMatchedError(`${error.message}: subsequent request to origin ${origin} was not allowed (net.connect disabled)`);if(checkNetConnect(netConnect,origin))originalDispatch.call(this,opts,handler);else throw new MockNotMatchedError(`${error.message}: subsequent request to origin ${origin} was not allowed (net.connect is not enabled for this origin)`)}else throw error}else originalDispatch.call(this,opts,handler)}}function checkNetConnect(netConnect,origin){let url=new URL(origin);return netConnect===!0?!0:!!(Array.isArray(netConnect)&&netConnect.some(matcher=>matchValue(matcher,url.host)))}function buildAndValidateMockOptions(opts){let{agent,...mockOptions}=opts;if("enableCallHistory"in mockOptions&&typeof mockOptions.enableCallHistory!="boolean")throw new InvalidArgumentError("options.enableCallHistory must to be a boolean");if("acceptNonStandardSearchParameters"in mockOptions&&typeof mockOptions.acceptNonStandardSearchParameters!="boolean")throw new InvalidArgumentError("options.acceptNonStandardSearchParameters must to be a boolean");if("ignoreTrailingSlash"in mockOptions&&typeof mockOptions.ignoreTrailingSlash!="boolean")throw new InvalidArgumentError("options.ignoreTrailingSlash must to be a boolean");return mockOptions}module2.exports={getResponseData,getMockDispatch,addMockDispatch,deleteMockDispatch,buildKey,generateKeyValues,matchValue,getResponse,getStatusText,mockDispatch,buildMockDispatch,checkNetConnect,buildAndValidateMockOptions,getHeaderByName,buildHeadersFromArray,normalizeSearchParams}}});var require_mock_interceptor=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/mock/mock-interceptor.js"(exports2,module2){"use strict";var{getResponseData,buildKey,addMockDispatch}=require_mock_utils(),{kDispatches,kDispatchKey,kDefaultHeaders,kDefaultTrailers,kContentLength,kMockDispatch,kIgnoreTrailingSlash}=require_mock_symbols(),{InvalidArgumentError}=require_errors5(),{serializePathWithQuery}=require_util3(),MockScope=class{constructor(mockDispatch){this[kMockDispatch]=mockDispatch}delay(waitInMs){if(typeof waitInMs!="number"||!Number.isInteger(waitInMs)||waitInMs<=0)throw new InvalidArgumentError("waitInMs must be a valid integer > 0");return this[kMockDispatch].delay=waitInMs,this}persist(){return this[kMockDispatch].persist=!0,this}times(repeatTimes){if(typeof repeatTimes!="number"||!Number.isInteger(repeatTimes)||repeatTimes<=0)throw new InvalidArgumentError("repeatTimes must be a valid integer > 0");return this[kMockDispatch].times=repeatTimes,this}},MockInterceptor=class{constructor(opts,mockDispatches){if(typeof opts!="object")throw new InvalidArgumentError("opts must be an object");if(typeof opts.path>"u")throw new InvalidArgumentError("opts.path must be defined");if(typeof opts.method>"u"&&(opts.method="GET"),typeof opts.path=="string")if(opts.query)opts.path=serializePathWithQuery(opts.path,opts.query);else{let parsedURL=new URL(opts.path,"data://");opts.path=parsedURL.pathname+parsedURL.search}typeof opts.method=="string"&&(opts.method=opts.method.toUpperCase()),this[kDispatchKey]=buildKey(opts),this[kDispatches]=mockDispatches,this[kIgnoreTrailingSlash]=opts.ignoreTrailingSlash??!1,this[kDefaultHeaders]={},this[kDefaultTrailers]={},this[kContentLength]=!1}createMockScopeDispatchData({statusCode,data,responseOptions}){let responseData=getResponseData(data),contentLength=this[kContentLength]?{"content-length":responseData.length}:{},headers={...this[kDefaultHeaders],...contentLength,...responseOptions.headers},trailers={...this[kDefaultTrailers],...responseOptions.trailers};return{statusCode,data,headers,trailers}}validateReplyParameters(replyParameters){if(typeof replyParameters.statusCode>"u")throw new InvalidArgumentError("statusCode must be defined");if(typeof replyParameters.responseOptions!="object"||replyParameters.responseOptions===null)throw new InvalidArgumentError("responseOptions must be an object")}reply(replyOptionsCallbackOrStatusCode){if(typeof replyOptionsCallbackOrStatusCode=="function"){let wrappedDefaultsCallback=opts=>{let resolvedData=replyOptionsCallbackOrStatusCode(opts);if(typeof resolvedData!="object"||resolvedData===null)throw new InvalidArgumentError("reply options callback must return an object");let replyParameters2={data:"",responseOptions:{},...resolvedData};return this.validateReplyParameters(replyParameters2),{...this.createMockScopeDispatchData(replyParameters2)}},newMockDispatch2=addMockDispatch(this[kDispatches],this[kDispatchKey],wrappedDefaultsCallback,{ignoreTrailingSlash:this[kIgnoreTrailingSlash]});return new MockScope(newMockDispatch2)}let replyParameters={statusCode:replyOptionsCallbackOrStatusCode,data:arguments[1]===void 0?"":arguments[1],responseOptions:arguments[2]===void 0?{}:arguments[2]};this.validateReplyParameters(replyParameters);let dispatchData=this.createMockScopeDispatchData(replyParameters),newMockDispatch=addMockDispatch(this[kDispatches],this[kDispatchKey],dispatchData,{ignoreTrailingSlash:this[kIgnoreTrailingSlash]});return new MockScope(newMockDispatch)}replyWithError(error){if(typeof error>"u")throw new InvalidArgumentError("error must be defined");let newMockDispatch=addMockDispatch(this[kDispatches],this[kDispatchKey],{error},{ignoreTrailingSlash:this[kIgnoreTrailingSlash]});return new MockScope(newMockDispatch)}defaultReplyHeaders(headers){if(typeof headers>"u")throw new InvalidArgumentError("headers must be defined");return this[kDefaultHeaders]=headers,this}defaultReplyTrailers(trailers){if(typeof trailers>"u")throw new InvalidArgumentError("trailers must be defined");return this[kDefaultTrailers]=trailers,this}replyContentLength(){return this[kContentLength]=!0,this}};module2.exports.MockInterceptor=MockInterceptor;module2.exports.MockScope=MockScope}});var require_mock_client=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/mock/mock-client.js"(exports2,module2){"use strict";var{promisify:promisify2}=require("node:util"),Client=require_client(),{buildMockDispatch}=require_mock_utils(),{kDispatches,kMockAgent,kClose,kOriginalClose,kOrigin,kOriginalDispatch,kConnected,kIgnoreTrailingSlash}=require_mock_symbols(),{MockInterceptor}=require_mock_interceptor(),Symbols=require_symbols4(),{InvalidArgumentError}=require_errors5(),MockClient=class extends Client{constructor(origin,opts){if(!opts||!opts.agent||typeof opts.agent.dispatch!="function")throw new InvalidArgumentError("Argument opts.agent must implement Agent");super(origin,opts),this[kMockAgent]=opts.agent,this[kOrigin]=origin,this[kIgnoreTrailingSlash]=opts.ignoreTrailingSlash??!1,this[kDispatches]=[],this[kConnected]=1,this[kOriginalDispatch]=this.dispatch,this[kOriginalClose]=this.close.bind(this),this.dispatch=buildMockDispatch.call(this),this.close=this[kClose]}get[Symbols.kConnected](){return this[kConnected]}intercept(opts){return new MockInterceptor(opts&&{ignoreTrailingSlash:this[kIgnoreTrailingSlash],...opts},this[kDispatches])}cleanMocks(){this[kDispatches]=[]}async[kClose](){await promisify2(this[kOriginalClose])(),this[kConnected]=0,this[kMockAgent][Symbols.kClients].delete(this[kOrigin])}};module2.exports=MockClient}});var require_mock_call_history=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/mock/mock-call-history.js"(exports2,module2){"use strict";var{kMockCallHistoryAddLog}=require_mock_symbols(),{InvalidArgumentError}=require_errors5();function handleFilterCallsWithOptions(criteria,options2,handler,store){switch(options2.operator){case"OR":return store.push(...handler(criteria)),store;case"AND":return handler.call({logs:store},criteria);default:throw new InvalidArgumentError("options.operator must to be a case insensitive string equal to 'OR' or 'AND'")}}function buildAndValidateFilterCallsOptions(options2={}){let finalOptions={};if("operator"in options2){if(typeof options2.operator!="string"||options2.operator.toUpperCase()!=="OR"&&options2.operator.toUpperCase()!=="AND")throw new InvalidArgumentError("options.operator must to be a case insensitive string equal to 'OR' or 'AND'");return{...finalOptions,operator:options2.operator.toUpperCase()}}return finalOptions}function makeFilterCalls(parameterName){return parameterValue=>{if(typeof parameterValue=="string"||parameterValue==null)return this.logs.filter(log=>log[parameterName]===parameterValue);if(parameterValue instanceof RegExp)return this.logs.filter(log=>parameterValue.test(log[parameterName]));throw new InvalidArgumentError(`${parameterName} parameter should be one of string, regexp, undefined or null`)}}function computeUrlWithMaybeSearchParameters(requestInit){try{let url=new URL(requestInit.path,requestInit.origin);return url.search.length!==0||(url.search=new URLSearchParams(requestInit.query).toString()),url}catch(error){throw new InvalidArgumentError("An error occurred when computing MockCallHistoryLog.url",{cause:error})}}var MockCallHistoryLog=class{constructor(requestInit={}){this.body=requestInit.body,this.headers=requestInit.headers,this.method=requestInit.method;let url=computeUrlWithMaybeSearchParameters(requestInit);this.fullUrl=url.toString(),this.origin=url.origin,this.path=url.pathname,this.searchParams=Object.fromEntries(url.searchParams),this.protocol=url.protocol,this.host=url.host,this.port=url.port,this.hash=url.hash}toMap(){return new Map([["protocol",this.protocol],["host",this.host],["port",this.port],["origin",this.origin],["path",this.path],["hash",this.hash],["searchParams",this.searchParams],["fullUrl",this.fullUrl],["method",this.method],["body",this.body],["headers",this.headers]])}toString(){let options2={betweenKeyValueSeparator:"->",betweenPairSeparator:"|"},result="";return this.toMap().forEach((value,key)=>{(typeof value=="string"||value===void 0||value===null)&&(result=`${result}${key}${options2.betweenKeyValueSeparator}${value}${options2.betweenPairSeparator}`),(typeof value=="object"&&value!==null||Array.isArray(value))&&(result=`${result}${key}${options2.betweenKeyValueSeparator}${JSON.stringify(value)}${options2.betweenPairSeparator}`)}),result.slice(0,-1)}},MockCallHistory=class{logs=[];calls(){return this.logs}firstCall(){return this.logs.at(0)}lastCall(){return this.logs.at(-1)}nthCall(number){if(typeof number!="number")throw new InvalidArgumentError("nthCall must be called with a number");if(!Number.isInteger(number))throw new InvalidArgumentError("nthCall must be called with an integer");if(Math.sign(number)!==1)throw new InvalidArgumentError("nthCall must be called with a positive value. use firstCall or lastCall instead");return this.logs.at(number-1)}filterCalls(criteria,options2){if(this.logs.length===0)return this.logs;if(typeof criteria=="function")return this.logs.filter(criteria);if(criteria instanceof RegExp)return this.logs.filter(log=>criteria.test(log.toString()));if(typeof criteria=="object"&&criteria!==null){if(Object.keys(criteria).length===0)return this.logs;let finalOptions={operator:"OR",...buildAndValidateFilterCallsOptions(options2)},maybeDuplicatedLogsFiltered=[];return"protocol"in criteria&&(maybeDuplicatedLogsFiltered=handleFilterCallsWithOptions(criteria.protocol,finalOptions,this.filterCallsByProtocol,maybeDuplicatedLogsFiltered)),"host"in criteria&&(maybeDuplicatedLogsFiltered=handleFilterCallsWithOptions(criteria.host,finalOptions,this.filterCallsByHost,maybeDuplicatedLogsFiltered)),"port"in criteria&&(maybeDuplicatedLogsFiltered=handleFilterCallsWithOptions(criteria.port,finalOptions,this.filterCallsByPort,maybeDuplicatedLogsFiltered)),"origin"in criteria&&(maybeDuplicatedLogsFiltered=handleFilterCallsWithOptions(criteria.origin,finalOptions,this.filterCallsByOrigin,maybeDuplicatedLogsFiltered)),"path"in criteria&&(maybeDuplicatedLogsFiltered=handleFilterCallsWithOptions(criteria.path,finalOptions,this.filterCallsByPath,maybeDuplicatedLogsFiltered)),"hash"in criteria&&(maybeDuplicatedLogsFiltered=handleFilterCallsWithOptions(criteria.hash,finalOptions,this.filterCallsByHash,maybeDuplicatedLogsFiltered)),"fullUrl"in criteria&&(maybeDuplicatedLogsFiltered=handleFilterCallsWithOptions(criteria.fullUrl,finalOptions,this.filterCallsByFullUrl,maybeDuplicatedLogsFiltered)),"method"in criteria&&(maybeDuplicatedLogsFiltered=handleFilterCallsWithOptions(criteria.method,finalOptions,this.filterCallsByMethod,maybeDuplicatedLogsFiltered)),[...new Set(maybeDuplicatedLogsFiltered)]}throw new InvalidArgumentError("criteria parameter should be one of function, regexp, or object")}filterCallsByProtocol=makeFilterCalls.call(this,"protocol");filterCallsByHost=makeFilterCalls.call(this,"host");filterCallsByPort=makeFilterCalls.call(this,"port");filterCallsByOrigin=makeFilterCalls.call(this,"origin");filterCallsByPath=makeFilterCalls.call(this,"path");filterCallsByHash=makeFilterCalls.call(this,"hash");filterCallsByFullUrl=makeFilterCalls.call(this,"fullUrl");filterCallsByMethod=makeFilterCalls.call(this,"method");clear(){this.logs=[]}[kMockCallHistoryAddLog](requestInit){let log=new MockCallHistoryLog(requestInit);return this.logs.push(log),log}*[Symbol.iterator](){for(let log of this.calls())yield log}};module2.exports.MockCallHistory=MockCallHistory;module2.exports.MockCallHistoryLog=MockCallHistoryLog}});var require_mock_pool=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/mock/mock-pool.js"(exports2,module2){"use strict";var{promisify:promisify2}=require("node:util"),Pool=require_pool(),{buildMockDispatch}=require_mock_utils(),{kDispatches,kMockAgent,kClose,kOriginalClose,kOrigin,kOriginalDispatch,kConnected,kIgnoreTrailingSlash}=require_mock_symbols(),{MockInterceptor}=require_mock_interceptor(),Symbols=require_symbols4(),{InvalidArgumentError}=require_errors5(),MockPool=class extends Pool{constructor(origin,opts){if(!opts||!opts.agent||typeof opts.agent.dispatch!="function")throw new InvalidArgumentError("Argument opts.agent must implement Agent");super(origin,opts),this[kMockAgent]=opts.agent,this[kOrigin]=origin,this[kIgnoreTrailingSlash]=opts.ignoreTrailingSlash??!1,this[kDispatches]=[],this[kConnected]=1,this[kOriginalDispatch]=this.dispatch,this[kOriginalClose]=this.close.bind(this),this.dispatch=buildMockDispatch.call(this),this.close=this[kClose]}get[Symbols.kConnected](){return this[kConnected]}intercept(opts){return new MockInterceptor(opts&&{ignoreTrailingSlash:this[kIgnoreTrailingSlash],...opts},this[kDispatches])}cleanMocks(){this[kDispatches]=[]}async[kClose](){await promisify2(this[kOriginalClose])(),this[kConnected]=0,this[kMockAgent][Symbols.kClients].delete(this[kOrigin])}};module2.exports=MockPool}});var require_pending_interceptors_formatter=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/mock/pending-interceptors-formatter.js"(exports2,module2){"use strict";var{Transform}=require("node:stream"),{Console}=require("node:console"),PERSISTENT=process.versions.icu?"\u2705":"Y ",NOT_PERSISTENT=process.versions.icu?"\u274C":"N ";module2.exports=class{constructor({disableColors}={}){this.transform=new Transform({transform(chunk,_enc,cb){cb(null,chunk)}}),this.logger=new Console({stdout:this.transform,inspectOptions:{colors:!disableColors&&!process.env.CI}})}format(pendingInterceptors){let withPrettyHeaders=pendingInterceptors.map(({method,path:path5,data:{statusCode},persist,times:times2,timesInvoked,origin})=>({Method:method,Origin:origin,Path:path5,"Status code":statusCode,Persistent:persist?PERSISTENT:NOT_PERSISTENT,Invocations:timesInvoked,Remaining:persist?1/0:times2-timesInvoked}));return this.logger.table(withPrettyHeaders),this.transform.read().toString()}}}});var require_mock_agent=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/mock/mock-agent.js"(exports2,module2){"use strict";var{kClients}=require_symbols4(),Agent=require_agent(),{kAgent,kMockAgentSet,kMockAgentGet,kDispatches,kIsMockActive,kNetConnect,kGetNetConnect,kOptions,kFactory,kMockAgentRegisterCallHistory,kMockAgentIsCallHistoryEnabled,kMockAgentAddCallHistoryLog,kMockAgentMockCallHistoryInstance,kMockAgentAcceptsNonStandardSearchParameters,kMockCallHistoryAddLog,kIgnoreTrailingSlash}=require_mock_symbols(),MockClient=require_mock_client(),MockPool=require_mock_pool(),{matchValue,normalizeSearchParams,buildAndValidateMockOptions}=require_mock_utils(),{InvalidArgumentError,UndiciError}=require_errors5(),Dispatcher=require_dispatcher(),PendingInterceptorsFormatter=require_pending_interceptors_formatter(),{MockCallHistory}=require_mock_call_history(),MockAgent=class extends Dispatcher{constructor(opts={}){super(opts);let mockOptions=buildAndValidateMockOptions(opts);if(this[kNetConnect]=!0,this[kIsMockActive]=!0,this[kMockAgentIsCallHistoryEnabled]=mockOptions.enableCallHistory??!1,this[kMockAgentAcceptsNonStandardSearchParameters]=mockOptions.acceptNonStandardSearchParameters??!1,this[kIgnoreTrailingSlash]=mockOptions.ignoreTrailingSlash??!1,opts?.agent&&typeof opts.agent.dispatch!="function")throw new InvalidArgumentError("Argument opts.agent must implement Agent");let agent=opts?.agent?opts.agent:new Agent(opts);this[kAgent]=agent,this[kClients]=agent[kClients],this[kOptions]=mockOptions,this[kMockAgentIsCallHistoryEnabled]&&this[kMockAgentRegisterCallHistory]()}get(origin){let originKey=this[kIgnoreTrailingSlash]?origin.replace(/\/$/,""):origin,dispatcher=this[kMockAgentGet](originKey);return dispatcher||(dispatcher=this[kFactory](originKey),this[kMockAgentSet](originKey,dispatcher)),dispatcher}dispatch(opts,handler){this.get(opts.origin),this[kMockAgentAddCallHistoryLog](opts);let acceptNonStandardSearchParameters=this[kMockAgentAcceptsNonStandardSearchParameters],dispatchOpts={...opts};if(acceptNonStandardSearchParameters&&dispatchOpts.path){let[path5,searchParams]=dispatchOpts.path.split("?"),normalizedSearchParams=normalizeSearchParams(searchParams,acceptNonStandardSearchParameters);dispatchOpts.path=`${path5}?${normalizedSearchParams}`}return this[kAgent].dispatch(dispatchOpts,handler)}async close(){this.clearCallHistory(),await this[kAgent].close(),this[kClients].clear()}deactivate(){this[kIsMockActive]=!1}activate(){this[kIsMockActive]=!0}enableNetConnect(matcher){if(typeof matcher=="string"||typeof matcher=="function"||matcher instanceof RegExp)Array.isArray(this[kNetConnect])?this[kNetConnect].push(matcher):this[kNetConnect]=[matcher];else if(typeof matcher>"u")this[kNetConnect]=!0;else throw new InvalidArgumentError("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[kNetConnect]=!1}enableCallHistory(){return this[kMockAgentIsCallHistoryEnabled]=!0,this}disableCallHistory(){return this[kMockAgentIsCallHistoryEnabled]=!1,this}getCallHistory(){return this[kMockAgentMockCallHistoryInstance]}clearCallHistory(){this[kMockAgentMockCallHistoryInstance]!==void 0&&this[kMockAgentMockCallHistoryInstance].clear()}get isMockActive(){return this[kIsMockActive]}[kMockAgentRegisterCallHistory](){this[kMockAgentMockCallHistoryInstance]===void 0&&(this[kMockAgentMockCallHistoryInstance]=new MockCallHistory)}[kMockAgentAddCallHistoryLog](opts){this[kMockAgentIsCallHistoryEnabled]&&(this[kMockAgentRegisterCallHistory](),this[kMockAgentMockCallHistoryInstance][kMockCallHistoryAddLog](opts))}[kMockAgentSet](origin,dispatcher){this[kClients].set(origin,{count:0,dispatcher})}[kFactory](origin){let mockOptions=Object.assign({agent:this},this[kOptions]);return this[kOptions]&&this[kOptions].connections===1?new MockClient(origin,mockOptions):new MockPool(origin,mockOptions)}[kMockAgentGet](origin){let result=this[kClients].get(origin);if(result?.dispatcher)return result.dispatcher;if(typeof origin!="string"){let dispatcher=this[kFactory]("http://localhost:9999");return this[kMockAgentSet](origin,dispatcher),dispatcher}for(let[keyMatcher,result2]of Array.from(this[kClients]))if(result2&&typeof keyMatcher!="string"&&matchValue(keyMatcher,origin)){let dispatcher=this[kFactory](origin);return this[kMockAgentSet](origin,dispatcher),dispatcher[kDispatches]=result2.dispatcher[kDispatches],dispatcher}}[kGetNetConnect](){return this[kNetConnect]}pendingInterceptors(){let mockAgentClients=this[kClients];return Array.from(mockAgentClients.entries()).flatMap(([origin,result])=>result.dispatcher[kDispatches].map(dispatch=>({...dispatch,origin}))).filter(({pending})=>pending)}assertNoPendingInterceptors({pendingInterceptorsFormatter=new PendingInterceptorsFormatter}={}){let pending=this.pendingInterceptors();if(pending.length!==0)throw new UndiciError(pending.length===1?`1 interceptor is pending:

${pendingInterceptorsFormatter.format(pending)}`.trim():`${pending.length} interceptors are pending:

${pendingInterceptorsFormatter.format(pending)}`.trim())}};module2.exports=MockAgent}});var require_snapshot_utils=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/mock/snapshot-utils.js"(exports2,module2){"use strict";var{InvalidArgumentError}=require_errors5();function createHeaderFilters(matchOptions={}){let{ignoreHeaders=[],excludeHeaders=[],matchHeaders=[],caseSensitive=!1}=matchOptions;return{ignore:new Set(ignoreHeaders.map(header=>caseSensitive?header:header.toLowerCase())),exclude:new Set(excludeHeaders.map(header=>caseSensitive?header:header.toLowerCase())),match:new Set(matchHeaders.map(header=>caseSensitive?header:header.toLowerCase()))}}var crypto2;try{crypto2=require("node:crypto")}catch{}var hashId=crypto2?.hash?value=>crypto2.hash("sha256",value,"base64url"):value=>Buffer.from(value).toString("base64url");function isUndiciHeaders(headers){return Array.isArray(headers)&&(headers.length&1)===0}function isUrlExcludedFactory(excludePatterns=[]){return excludePatterns.length===0?()=>!1:function(url){let urlLowerCased;for(let pattern of excludePatterns)if(typeof pattern=="string"){if(urlLowerCased||(urlLowerCased=url.toLowerCase()),urlLowerCased.includes(pattern.toLowerCase()))return!0}else if(pattern instanceof RegExp&&pattern.test(url))return!0;return!1}}function normalizeHeaders(headers){let normalizedHeaders={};if(!headers)return normalizedHeaders;if(isUndiciHeaders(headers)){for(let i=0;i<headers.length;i+=2){let key=headers[i],value=headers[i+1];if(key&&value!==void 0){let keyStr=Buffer.isBuffer(key)?key.toString():key,valueStr=Buffer.isBuffer(value)?value.toString():value;normalizedHeaders[keyStr.toLowerCase()]=valueStr}}return normalizedHeaders}if(headers&&typeof headers=="object")for(let[key,value]of Object.entries(headers))key&&typeof key=="string"&&(normalizedHeaders[key.toLowerCase()]=Array.isArray(value)?value.join(", "):String(value));return normalizedHeaders}var validSnapshotModes=["record","playback","update"];function validateSnapshotMode(mode){if(!validSnapshotModes.includes(mode))throw new InvalidArgumentError(`Invalid snapshot mode: ${mode}. Must be one of: ${validSnapshotModes.join(", ")}`)}module2.exports={createHeaderFilters,hashId,isUndiciHeaders,normalizeHeaders,isUrlExcludedFactory,validateSnapshotMode}}});var require_snapshot_recorder=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/mock/snapshot-recorder.js"(exports2,module2){"use strict";var{writeFile,readFile,mkdir}=require("node:fs/promises"),{dirname,resolve}=require("node:path"),{setTimeout:setTimeout2,clearTimeout:clearTimeout2}=require("node:timers"),{InvalidArgumentError,UndiciError}=require_errors5(),{hashId,isUrlExcludedFactory,normalizeHeaders,createHeaderFilters}=require_snapshot_utils();function formatRequestKey(opts,headerFilters,matchOptions={}){let url=new URL(opts.path,opts.origin),normalized=opts._normalizedHeaders||normalizeHeaders(opts.headers);return opts._normalizedHeaders||(opts._normalizedHeaders=normalized),{method:opts.method||"GET",url:matchOptions.matchQuery!==!1?url.toString():`${url.origin}${url.pathname}`,headers:filterHeadersForMatching(normalized,headerFilters,matchOptions),body:matchOptions.matchBody!==!1&&opts.body?String(opts.body):""}}function filterHeadersForMatching(headers,headerFilters,matchOptions={}){if(!headers||typeof headers!="object")return{};let{caseSensitive=!1}=matchOptions,filtered={},{ignore,exclude,match:match2}=headerFilters;for(let[key,value]of Object.entries(headers)){let headerKey=caseSensitive?key:key.toLowerCase();exclude.has(headerKey)||ignore.has(headerKey)||match2.size!==0&&!match2.has(headerKey)||(filtered[headerKey]=value)}return filtered}function filterHeadersForStorage(headers,headerFilters,matchOptions={}){if(!headers||typeof headers!="object")return{};let{caseSensitive=!1}=matchOptions,filtered={},{exclude:excludeSet}=headerFilters;for(let[key,value]of Object.entries(headers)){let headerKey=caseSensitive?key:key.toLowerCase();excludeSet.has(headerKey)||(filtered[headerKey]=value)}return filtered}function createRequestHash(formattedRequest){let parts=[formattedRequest.method,formattedRequest.url];if(formattedRequest.headers&&typeof formattedRequest.headers=="object"){let headerKeys=Object.keys(formattedRequest.headers).sort();for(let key of headerKeys){let values2=Array.isArray(formattedRequest.headers[key])?formattedRequest.headers[key]:[formattedRequest.headers[key]];parts.push(key);for(let value of values2.sort())parts.push(String(value))}}parts.push(formattedRequest.body);let content=parts.join("|");return hashId(content)}var SnapshotRecorder=class{#flushTimeout;#isUrlExcluded;#snapshots=new Map;#snapshotPath;#maxSnapshots=1/0;#autoFlush=!1;#headerFilters;constructor(options2={}){this.#snapshotPath=options2.snapshotPath,this.#maxSnapshots=options2.maxSnapshots||1/0,this.#autoFlush=options2.autoFlush||!1,this.flushInterval=options2.flushInterval||3e4,this._flushTimer=null,this.matchOptions={matchHeaders:options2.matchHeaders||[],ignoreHeaders:options2.ignoreHeaders||[],excludeHeaders:options2.excludeHeaders||[],matchBody:options2.matchBody!==!1,matchQuery:options2.matchQuery!==!1,caseSensitive:options2.caseSensitive||!1},this.#headerFilters=createHeaderFilters(this.matchOptions),this.shouldRecord=options2.shouldRecord||(()=>!0),this.shouldPlayback=options2.shouldPlayback||(()=>!0),this.#isUrlExcluded=isUrlExcludedFactory(options2.excludeUrls),this.#autoFlush&&this.#snapshotPath&&this.#startAutoFlush()}async record(requestOpts,response){if(!this.shouldRecord(requestOpts))return;let url=new URL(requestOpts.path,requestOpts.origin).toString();if(this.#isUrlExcluded(url))return;let request2=formatRequestKey(requestOpts,this.#headerFilters,this.matchOptions),hash=createRequestHash(request2),normalizedHeaders=normalizeHeaders(response.headers),responseData={statusCode:response.statusCode,headers:filterHeadersForStorage(normalizedHeaders,this.#headerFilters,this.matchOptions),body:Buffer.isBuffer(response.body)?response.body.toString("base64"):Buffer.from(String(response.body||"")).toString("base64"),trailers:response.trailers};if(this.#snapshots.size>=this.#maxSnapshots&&!this.#snapshots.has(hash)){let oldestKey=this.#snapshots.keys().next().value;this.#snapshots.delete(oldestKey)}let existingSnapshot=this.#snapshots.get(hash);existingSnapshot&&existingSnapshot.responses?(existingSnapshot.responses.push(responseData),existingSnapshot.timestamp=new Date().toISOString()):this.#snapshots.set(hash,{request:request2,responses:[responseData],callCount:0,timestamp:new Date().toISOString()}),this.#autoFlush&&this.#snapshotPath&&this.#scheduleFlush()}findSnapshot(requestOpts){if(!this.shouldPlayback(requestOpts))return;let url=new URL(requestOpts.path,requestOpts.origin).toString();if(this.#isUrlExcluded(url))return;let request2=formatRequestKey(requestOpts,this.#headerFilters,this.matchOptions),hash=createRequestHash(request2),snapshot=this.#snapshots.get(hash);if(!snapshot)return;let currentCallCount=snapshot.callCount||0,responseIndex=Math.min(currentCallCount,snapshot.responses.length-1);return snapshot.callCount=currentCallCount+1,{...snapshot,response:snapshot.responses[responseIndex]}}async loadSnapshots(filePath){let path5=filePath||this.#snapshotPath;if(!path5)throw new InvalidArgumentError("Snapshot path is required");try{let data=await readFile(resolve(path5),"utf8"),parsed=JSON.parse(data);if(Array.isArray(parsed)){this.#snapshots.clear();for(let{hash,snapshot}of parsed)this.#snapshots.set(hash,snapshot)}else this.#snapshots=new Map(Object.entries(parsed))}catch(error){if(error.code==="ENOENT")this.#snapshots.clear();else throw new UndiciError(`Failed to load snapshots from ${path5}`,{cause:error})}}async saveSnapshots(filePath){let path5=filePath||this.#snapshotPath;if(!path5)throw new InvalidArgumentError("Snapshot path is required");let resolvedPath=resolve(path5);await mkdir(dirname(resolvedPath),{recursive:!0});let data=Array.from(this.#snapshots.entries()).map(([hash,snapshot])=>({hash,snapshot}));await writeFile(resolvedPath,JSON.stringify(data,null,2),{flush:!0})}clear(){this.#snapshots.clear()}getSnapshots(){return Array.from(this.#snapshots.values())}size(){return this.#snapshots.size}resetCallCounts(){for(let snapshot of this.#snapshots.values())snapshot.callCount=0}deleteSnapshot(requestOpts){let request2=formatRequestKey(requestOpts,this.#headerFilters,this.matchOptions),hash=createRequestHash(request2);return this.#snapshots.delete(hash)}getSnapshotInfo(requestOpts){let request2=formatRequestKey(requestOpts,this.#headerFilters,this.matchOptions),hash=createRequestHash(request2),snapshot=this.#snapshots.get(hash);return snapshot?{hash,request:snapshot.request,responseCount:snapshot.responses?snapshot.responses.length:snapshot.response?1:0,callCount:snapshot.callCount||0,timestamp:snapshot.timestamp}:null}replaceSnapshots(snapshotData){if(this.#snapshots.clear(),Array.isArray(snapshotData))for(let{hash,snapshot}of snapshotData)this.#snapshots.set(hash,snapshot);else snapshotData&&typeof snapshotData=="object"&&(this.#snapshots=new Map(Object.entries(snapshotData)))}#startAutoFlush(){return this.#scheduleFlush()}#stopAutoFlush(){this.#flushTimeout&&(clearTimeout2(this.#flushTimeout),this.saveSnapshots().catch(()=>{}),this.#flushTimeout=null)}#scheduleFlush(){this.#flushTimeout=setTimeout2(()=>{this.saveSnapshots().catch(()=>{}),this.#autoFlush?this.#flushTimeout?.refresh():this.#flushTimeout=null},1e3)}destroy(){this.#stopAutoFlush(),this.#flushTimeout&&(clearTimeout2(this.#flushTimeout),this.#flushTimeout=null)}async close(){this.#snapshotPath&&this.#snapshots.size!==0&&await this.saveSnapshots(),this.destroy()}};module2.exports={SnapshotRecorder,formatRequestKey,createRequestHash,filterHeadersForMatching,filterHeadersForStorage,createHeaderFilters}}});var require_snapshot_agent=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/mock/snapshot-agent.js"(exports2,module2){"use strict";var Agent=require_agent(),MockAgent=require_mock_agent(),{SnapshotRecorder}=require_snapshot_recorder(),WrapHandler=require_wrap_handler(),{InvalidArgumentError,UndiciError}=require_errors5(),{validateSnapshotMode}=require_snapshot_utils(),kSnapshotRecorder=Symbol("kSnapshotRecorder"),kSnapshotMode=Symbol("kSnapshotMode"),kSnapshotPath=Symbol("kSnapshotPath"),kSnapshotLoaded=Symbol("kSnapshotLoaded"),kRealAgent=Symbol("kRealAgent"),warningEmitted=!1,SnapshotAgent=class extends MockAgent{constructor(opts={}){warningEmitted||(process.emitWarning("SnapshotAgent is experimental and subject to change","ExperimentalWarning"),warningEmitted=!0);let{mode="record",snapshotPath=null,...mockAgentOpts}=opts;if(super(mockAgentOpts),validateSnapshotMode(mode),(mode==="playback"||mode==="update")&&!snapshotPath)throw new InvalidArgumentError(`snapshotPath is required when mode is '${mode}'`);this[kSnapshotMode]=mode,this[kSnapshotPath]=snapshotPath,this[kSnapshotRecorder]=new SnapshotRecorder({snapshotPath:this[kSnapshotPath],mode:this[kSnapshotMode],maxSnapshots:opts.maxSnapshots,autoFlush:opts.autoFlush,flushInterval:opts.flushInterval,matchHeaders:opts.matchHeaders,ignoreHeaders:opts.ignoreHeaders,excludeHeaders:opts.excludeHeaders,matchBody:opts.matchBody,matchQuery:opts.matchQuery,caseSensitive:opts.caseSensitive,shouldRecord:opts.shouldRecord,shouldPlayback:opts.shouldPlayback,excludeUrls:opts.excludeUrls}),this[kSnapshotLoaded]=!1,(this[kSnapshotMode]==="record"||this[kSnapshotMode]==="update")&&(this[kRealAgent]=new Agent(opts)),(this[kSnapshotMode]==="playback"||this[kSnapshotMode]==="update")&&this[kSnapshotPath]&&this.loadSnapshots().catch(()=>{})}dispatch(opts,handler){handler=WrapHandler.wrap(handler);let mode=this[kSnapshotMode];if(mode==="playback"||mode==="update"){if(!this[kSnapshotLoaded])return this.#asyncDispatch(opts,handler);let snapshot=this[kSnapshotRecorder].findSnapshot(opts);if(snapshot)return this.#replaySnapshot(snapshot,handler);if(mode==="update")return this.#recordAndReplay(opts,handler);{let error=new UndiciError(`No snapshot found for ${opts.method||"GET"} ${opts.path}`);if(handler.onError){handler.onError(error);return}throw error}}else if(mode==="record")return this.#recordAndReplay(opts,handler)}async#asyncDispatch(opts,handler){return await this.loadSnapshots(),this.dispatch(opts,handler)}#recordAndReplay(opts,handler){let responseData={statusCode:null,headers:{},trailers:{},body:[]},self2=this,recordingHandler={onRequestStart(controller,context){return handler.onRequestStart(controller,{...context,history:this.history})},onRequestUpgrade(controller,statusCode,headers,socket){return handler.onRequestUpgrade(controller,statusCode,headers,socket)},onResponseStart(controller,statusCode,headers,statusMessage){return responseData.statusCode=statusCode,responseData.headers=headers,handler.onResponseStart(controller,statusCode,headers,statusMessage)},onResponseData(controller,chunk){return responseData.body.push(chunk),handler.onResponseData(controller,chunk)},onResponseEnd(controller,trailers){responseData.trailers=trailers;let responseBody=Buffer.concat(responseData.body);self2[kSnapshotRecorder].record(opts,{statusCode:responseData.statusCode,headers:responseData.headers,body:responseBody,trailers:responseData.trailers}).then(()=>{handler.onResponseEnd(controller,trailers)}).catch(error=>{handler.onResponseError(controller,error)})}};return this[kRealAgent].dispatch(opts,recordingHandler)}#replaySnapshot(snapshot,handler){try{let{response}=snapshot,controller={pause(){},resume(){},abort(reason){this.aborted=!0,this.reason=reason},aborted:!1,paused:!1};handler.onRequestStart(controller),handler.onResponseStart(controller,response.statusCode,response.headers);let body=Buffer.from(response.body,"base64");handler.onResponseData(controller,body),handler.onResponseEnd(controller,response.trailers)}catch(error){handler.onError?.(error)}}async loadSnapshots(filePath){await this[kSnapshotRecorder].loadSnapshots(filePath||this[kSnapshotPath]),this[kSnapshotLoaded]=!0,this[kSnapshotMode]==="playback"&&this.#setupMockInterceptors()}async saveSnapshots(filePath){return this[kSnapshotRecorder].saveSnapshots(filePath||this[kSnapshotPath])}#setupMockInterceptors(){for(let snapshot of this[kSnapshotRecorder].getSnapshots()){let{request:request2,responses,response}=snapshot,url=new URL(request2.url),mockPool=this.get(url.origin),responseData=responses?responses[0]:response;responseData&&mockPool.intercept({path:url.pathname+url.search,method:request2.method,headers:request2.headers,body:request2.body}).reply(responseData.statusCode,responseData.body,{headers:responseData.headers,trailers:responseData.trailers}).persist()}}getRecorder(){return this[kSnapshotRecorder]}getMode(){return this[kSnapshotMode]}clearSnapshots(){this[kSnapshotRecorder].clear()}resetCallCounts(){this[kSnapshotRecorder].resetCallCounts()}deleteSnapshot(requestOpts){return this[kSnapshotRecorder].deleteSnapshot(requestOpts)}getSnapshotInfo(requestOpts){return this[kSnapshotRecorder].getSnapshotInfo(requestOpts)}replaceSnapshots(snapshotData){this[kSnapshotRecorder].replaceSnapshots(snapshotData)}async close(){await this[kSnapshotRecorder].close(),await this[kRealAgent]?.close(),await super.close()}};module2.exports=SnapshotAgent}});var require_global2=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/global.js"(exports2,module2){"use strict";var globalDispatcher=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError}=require_errors5(),Agent=require_agent();getGlobalDispatcher()===void 0&&setGlobalDispatcher(new Agent);function setGlobalDispatcher(agent){if(!agent||typeof agent.dispatch!="function")throw new InvalidArgumentError("Argument agent must implement Agent");Object.defineProperty(globalThis,globalDispatcher,{value:agent,writable:!0,enumerable:!1,configurable:!1})}function getGlobalDispatcher(){return globalThis[globalDispatcher]}var installedExports=["fetch","Headers","Response","Request","FormData","WebSocket","CloseEvent","ErrorEvent","MessageEvent","EventSource"];module2.exports={setGlobalDispatcher,getGlobalDispatcher,installedExports}}});var require_decorator_handler=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/handler/decorator-handler.js"(exports2,module2){"use strict";var assert2=require("node:assert"),WrapHandler=require_wrap_handler();module2.exports=class{#handler;#onCompleteCalled=!1;#onErrorCalled=!1;#onResponseStartCalled=!1;constructor(handler){if(typeof handler!="object"||handler===null)throw new TypeError("handler must be an object");this.#handler=WrapHandler.wrap(handler)}onRequestStart(...args){this.#handler.onRequestStart?.(...args)}onRequestUpgrade(...args){return assert2(!this.#onCompleteCalled),assert2(!this.#onErrorCalled),this.#handler.onRequestUpgrade?.(...args)}onResponseStart(...args){return assert2(!this.#onCompleteCalled),assert2(!this.#onErrorCalled),assert2(!this.#onResponseStartCalled),this.#onResponseStartCalled=!0,this.#handler.onResponseStart?.(...args)}onResponseData(...args){return assert2(!this.#onCompleteCalled),assert2(!this.#onErrorCalled),this.#handler.onResponseData?.(...args)}onResponseEnd(...args){return assert2(!this.#onCompleteCalled),assert2(!this.#onErrorCalled),this.#onCompleteCalled=!0,this.#handler.onResponseEnd?.(...args)}onResponseError(...args){return this.#onErrorCalled=!0,this.#handler.onResponseError?.(...args)}onBodySent(){}}}});var require_redirect_handler=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/handler/redirect-handler.js"(exports2,module2){"use strict";var util3=require_util3(),{kBodyUsed}=require_symbols4(),assert2=require("node:assert"),{InvalidArgumentError}=require_errors5(),EE=require("node:events"),redirectableStatusCodes=[300,301,302,303,307,308],kBody=Symbol("body"),noop=()=>{},BodyAsyncIterable=class{constructor(body){this[kBody]=body,this[kBodyUsed]=!1}async*[Symbol.asyncIterator](){assert2(!this[kBodyUsed],"disturbed"),this[kBodyUsed]=!0,yield*this[kBody]}},RedirectHandler=class _RedirectHandler{static buildDispatch(dispatcher,maxRedirections){if(maxRedirections!=null&&(!Number.isInteger(maxRedirections)||maxRedirections<0))throw new InvalidArgumentError("maxRedirections must be a positive number");let dispatch=dispatcher.dispatch.bind(dispatcher);return(opts,originalHandler)=>dispatch(opts,new _RedirectHandler(dispatch,maxRedirections,opts,originalHandler))}constructor(dispatch,maxRedirections,opts,handler){if(maxRedirections!=null&&(!Number.isInteger(maxRedirections)||maxRedirections<0))throw new InvalidArgumentError("maxRedirections must be a positive number");this.dispatch=dispatch,this.location=null;let{maxRedirections:_,...cleanOpts}=opts;this.opts=cleanOpts,this.maxRedirections=maxRedirections,this.handler=handler,this.history=[],util3.isStream(this.opts.body)?(util3.bodyLength(this.opts.body)===0&&this.opts.body.on("data",function(){assert2(!1)}),typeof this.opts.body.readableDidRead!="boolean"&&(this.opts.body[kBodyUsed]=!1,EE.prototype.on.call(this.opts.body,"data",function(){this[kBodyUsed]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo=="function"?this.opts.body=new BodyAsyncIterable(this.opts.body):this.opts.body&&typeof this.opts.body!="string"&&!ArrayBuffer.isView(this.opts.body)&&util3.isIterable(this.opts.body)&&!util3.isFormDataLike(this.opts.body)&&(this.opts.body=new BodyAsyncIterable(this.opts.body))}onRequestStart(controller,context){this.handler.onRequestStart?.(controller,{...context,history:this.history})}onRequestUpgrade(controller,statusCode,headers,socket){this.handler.onRequestUpgrade?.(controller,statusCode,headers,socket)}onResponseStart(controller,statusCode,headers,statusMessage){if(this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections)throw new Error("max redirects");if((statusCode===301||statusCode===302)&&this.opts.method==="POST"&&(this.opts.method="GET",util3.isStream(this.opts.body)&&util3.destroy(this.opts.body.on("error",noop)),this.opts.body=null),statusCode===303&&this.opts.method!=="HEAD"&&(this.opts.method="GET",util3.isStream(this.opts.body)&&util3.destroy(this.opts.body.on("error",noop)),this.opts.body=null),this.location=this.history.length>=this.maxRedirections||util3.isDisturbed(this.opts.body)||redirectableStatusCodes.indexOf(statusCode)===-1?null:headers.location,this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location){this.handler.onResponseStart?.(controller,statusCode,headers,statusMessage);return}let{origin,pathname,search}=util3.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),path5=search?`${pathname}${search}`:pathname,redirectUrlString=`${origin}${path5}`;for(let historyUrl of this.history)if(historyUrl.toString()===redirectUrlString)throw new InvalidArgumentError(`Redirect loop detected. Cannot redirect to ${origin}. This typically happens when using a Client or Pool with cross-origin redirects. Use an Agent for cross-origin redirects.`);this.opts.headers=cleanRequestHeaders(this.opts.headers,statusCode===303,this.opts.origin!==origin),this.opts.path=path5,this.opts.origin=origin,this.opts.query=null}onResponseData(controller,chunk){this.location||this.handler.onResponseData?.(controller,chunk)}onResponseEnd(controller,trailers){this.location?this.dispatch(this.opts,this):this.handler.onResponseEnd(controller,trailers)}onResponseError(controller,error){this.handler.onResponseError?.(controller,error)}};function shouldRemoveHeader(header,removeContent,unknownOrigin){if(header.length===4)return util3.headerNameToString(header)==="host";if(removeContent&&util3.headerNameToString(header).startsWith("content-"))return!0;if(unknownOrigin&&(header.length===13||header.length===6||header.length===19)){let name=util3.headerNameToString(header);return name==="authorization"||name==="cookie"||name==="proxy-authorization"}return!1}function cleanRequestHeaders(headers,removeContent,unknownOrigin){let ret=[];if(Array.isArray(headers))for(let i=0;i<headers.length;i+=2)shouldRemoveHeader(headers[i],removeContent,unknownOrigin)||ret.push(headers[i],headers[i+1]);else if(headers&&typeof headers=="object"){let entries=typeof headers[Symbol.iterator]=="function"?headers:Object.entries(headers);for(let[key,value]of entries)shouldRemoveHeader(key,removeContent,unknownOrigin)||ret.push(key,value)}else assert2(headers==null,"headers must be an object or an array");return ret}module2.exports=RedirectHandler}});var require_redirect=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/interceptor/redirect.js"(exports2,module2){"use strict";var RedirectHandler=require_redirect_handler();function createRedirectInterceptor({maxRedirections:defaultMaxRedirections}={}){return dispatch=>function(opts,handler){let{maxRedirections=defaultMaxRedirections,...rest}=opts;if(maxRedirections==null||maxRedirections===0)return dispatch(opts,handler);let dispatchOpts={...rest},redirectHandler=new RedirectHandler(dispatch,maxRedirections,dispatchOpts,handler);return dispatch(dispatchOpts,redirectHandler)}}module2.exports=createRedirectInterceptor}});var require_response_error=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/interceptor/response-error.js"(exports2,module2){"use strict";var DecoratorHandler=require_decorator_handler(),{ResponseError}=require_errors5(),ResponseErrorHandler=class extends DecoratorHandler{#statusCode;#contentType;#decoder;#headers;#body;constructor(_opts,{handler}){super(handler)}#checkContentType(contentType){return(this.#contentType??"").indexOf(contentType)===0}onRequestStart(controller,context){return this.#statusCode=0,this.#contentType=null,this.#decoder=null,this.#headers=null,this.#body="",super.onRequestStart(controller,context)}onResponseStart(controller,statusCode,headers,statusMessage){if(this.#statusCode=statusCode,this.#headers=headers,this.#contentType=headers["content-type"],this.#statusCode<400)return super.onResponseStart(controller,statusCode,headers,statusMessage);(this.#checkContentType("application/json")||this.#checkContentType("text/plain"))&&(this.#decoder=new TextDecoder("utf-8"))}onResponseData(controller,chunk){if(this.#statusCode<400)return super.onResponseData(controller,chunk);this.#body+=this.#decoder?.decode(chunk,{stream:!0})??""}onResponseEnd(controller,trailers){if(this.#statusCode>=400){if(this.#body+=this.#decoder?.decode(void 0,{stream:!1})??"",this.#checkContentType("application/json"))try{this.#body=JSON.parse(this.#body)}catch{}let err,stackTraceLimit=Error.stackTraceLimit;Error.stackTraceLimit=0;try{err=new ResponseError("Response Error",this.#statusCode,{body:this.#body,headers:this.#headers})}finally{Error.stackTraceLimit=stackTraceLimit}super.onResponseError(controller,err)}else super.onResponseEnd(controller,trailers)}onResponseError(controller,err){super.onResponseError(controller,err)}};module2.exports=()=>dispatch=>function(opts,handler){return dispatch(opts,new ResponseErrorHandler(opts,{handler}))}}});var require_retry=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/interceptor/retry.js"(exports2,module2){"use strict";var RetryHandler=require_retry_handler();module2.exports=globalOpts=>dispatch=>function(opts,handler){return dispatch(opts,new RetryHandler({...opts,retryOptions:{...globalOpts,...opts.retryOptions}},{handler,dispatch}))}}});var require_dump=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/interceptor/dump.js"(exports2,module2){"use strict";var{InvalidArgumentError,RequestAbortedError}=require_errors5(),DecoratorHandler=require_decorator_handler(),DumpHandler=class extends DecoratorHandler{#maxSize=1024*1024;#dumped=!1;#size=0;#controller=null;aborted=!1;reason=!1;constructor({maxSize,signal},handler){if(maxSize!=null&&(!Number.isFinite(maxSize)||maxSize<1))throw new InvalidArgumentError("maxSize must be a number greater than 0");super(handler),this.#maxSize=maxSize??this.#maxSize}#abort(reason){this.aborted=!0,this.reason=reason}onRequestStart(controller,context){return controller.abort=this.#abort.bind(this),this.#controller=controller,super.onRequestStart(controller,context)}onResponseStart(controller,statusCode,headers,statusMessage){let contentLength=headers["content-length"];if(contentLength!=null&&contentLength>this.#maxSize)throw new RequestAbortedError(`Response size (${contentLength}) larger than maxSize (${this.#maxSize})`);return this.aborted===!0?!0:super.onResponseStart(controller,statusCode,headers,statusMessage)}onResponseError(controller,err){this.#dumped||(err=this.#controller?.reason??err,super.onResponseError(controller,err))}onResponseData(controller,chunk){return this.#size=this.#size+chunk.length,this.#size>=this.#maxSize&&(this.#dumped=!0,this.aborted===!0?super.onResponseError(controller,this.reason):super.onResponseEnd(controller,{})),!0}onResponseEnd(controller,trailers){if(!this.#dumped){if(this.#controller.aborted===!0){super.onResponseError(controller,this.reason);return}super.onResponseEnd(controller,trailers)}}};function createDumpInterceptor({maxSize:defaultMaxSize}={maxSize:1024*1024}){return dispatch=>function(opts,handler){let{dumpMaxSize=defaultMaxSize}=opts,dumpHandler=new DumpHandler({maxSize:dumpMaxSize,signal:opts.signal},handler);return dispatch(opts,dumpHandler)}}module2.exports=createDumpInterceptor}});var require_dns=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/interceptor/dns.js"(exports2,module2){"use strict";var{isIP}=require("node:net"),{lookup}=require("node:dns"),DecoratorHandler=require_decorator_handler(),{InvalidArgumentError,InformationalError}=require_errors5(),maxInt=Math.pow(2,31)-1,DNSInstance=class{#maxTTL=0;#maxItems=0;#records=new Map;dualStack=!0;affinity=null;lookup=null;pick=null;constructor(opts){this.#maxTTL=opts.maxTTL,this.#maxItems=opts.maxItems,this.dualStack=opts.dualStack,this.affinity=opts.affinity,this.lookup=opts.lookup??this.#defaultLookup,this.pick=opts.pick??this.#defaultPick}get full(){return this.#records.size===this.#maxItems}runLookup(origin,opts,cb){let ips=this.#records.get(origin.hostname);if(ips==null&&this.full){cb(null,origin);return}let newOpts={affinity:this.affinity,dualStack:this.dualStack,lookup:this.lookup,pick:this.pick,...opts.dns,maxTTL:this.#maxTTL,maxItems:this.#maxItems};if(ips==null)this.lookup(origin,newOpts,(err,addresses)=>{if(err||addresses==null||addresses.length===0){cb(err??new InformationalError("No DNS entries found"));return}this.setRecords(origin,addresses);let records=this.#records.get(origin.hostname),ip=this.pick(origin,records,newOpts.affinity),port;typeof ip.port=="number"?port=`:${ip.port}`:origin.port!==""?port=`:${origin.port}`:port="",cb(null,new URL(`${origin.protocol}//${ip.family===6?`[${ip.address}]`:ip.address}${port}`))});else{let ip=this.pick(origin,ips,newOpts.affinity);if(ip==null){this.#records.delete(origin.hostname),this.runLookup(origin,opts,cb);return}let port;typeof ip.port=="number"?port=`:${ip.port}`:origin.port!==""?port=`:${origin.port}`:port="",cb(null,new URL(`${origin.protocol}//${ip.family===6?`[${ip.address}]`:ip.address}${port}`))}}#defaultLookup(origin,opts,cb){lookup(origin.hostname,{all:!0,family:this.dualStack===!1?this.affinity:0,order:"ipv4first"},(err,addresses)=>{if(err)return cb(err);let results=new Map;for(let addr of addresses)results.set(`${addr.address}:${addr.family}`,addr);cb(null,results.values())})}#defaultPick(origin,hostnameRecords,affinity){let ip=null,{records,offset}=hostnameRecords,family;if(this.dualStack?(affinity==null&&(offset==null||offset===maxInt?(hostnameRecords.offset=0,affinity=4):(hostnameRecords.offset++,affinity=(hostnameRecords.offset&1)===1?6:4)),records[affinity]!=null&&records[affinity].ips.length>0?family=records[affinity]:family=records[affinity===4?6:4]):family=records[affinity],family==null||family.ips.length===0)return ip;family.offset==null||family.offset===maxInt?family.offset=0:family.offset++;let position=family.offset%family.ips.length;return ip=family.ips[position]??null,ip==null?ip:Date.now()-ip.timestamp>ip.ttl?(family.ips.splice(position,1),this.pick(origin,hostnameRecords,affinity)):ip}pickFamily(origin,ipFamily){let records=this.#records.get(origin.hostname)?.records;if(!records)return null;let family=records[ipFamily];if(!family)return null;family.offset==null||family.offset===maxInt?family.offset=0:family.offset++;let position=family.offset%family.ips.length,ip=family.ips[position]??null;return ip==null||Date.now()-ip.timestamp>ip.ttl&&family.ips.splice(position,1),ip}setRecords(origin,addresses){let timestamp=Date.now(),records={records:{4:null,6:null}};for(let record of addresses){record.timestamp=timestamp,typeof record.ttl=="number"?record.ttl=Math.min(record.ttl,this.#maxTTL):record.ttl=this.#maxTTL;let familyRecords=records.records[record.family]??{ips:[]};familyRecords.ips.push(record),records.records[record.family]=familyRecords}this.#records.set(origin.hostname,records)}deleteRecords(origin){this.#records.delete(origin.hostname)}getHandler(meta,opts){return new DNSDispatchHandler(this,meta,opts)}},DNSDispatchHandler=class extends DecoratorHandler{#state=null;#opts=null;#dispatch=null;#origin=null;#controller=null;#newOrigin=null;#firstTry=!0;constructor(state,{origin,handler,dispatch,newOrigin},opts){super(handler),this.#origin=origin,this.#newOrigin=newOrigin,this.#opts={...opts},this.#state=state,this.#dispatch=dispatch}onResponseError(controller,err){switch(err.code){case"ETIMEDOUT":case"ECONNREFUSED":{if(this.#state.dualStack){if(!this.#firstTry){super.onResponseError(controller,err);return}this.#firstTry=!1;let otherFamily=this.#newOrigin.hostname[0]==="["?4:6,ip=this.#state.pickFamily(this.#origin,otherFamily);if(ip==null){super.onResponseError(controller,err);return}let port;typeof ip.port=="number"?port=`:${ip.port}`:this.#origin.port!==""?port=`:${this.#origin.port}`:port="";let dispatchOpts={...this.#opts,origin:`${this.#origin.protocol}//${ip.family===6?`[${ip.address}]`:ip.address}${port}`};this.#dispatch(dispatchOpts,this);return}super.onResponseError(controller,err);break}case"ENOTFOUND":this.#state.deleteRecords(this.#origin),super.onResponseError(controller,err);break;default:super.onResponseError(controller,err);break}}};module2.exports=interceptorOpts=>{if(interceptorOpts?.maxTTL!=null&&(typeof interceptorOpts?.maxTTL!="number"||interceptorOpts?.maxTTL<0))throw new InvalidArgumentError("Invalid maxTTL. Must be a positive number");if(interceptorOpts?.maxItems!=null&&(typeof interceptorOpts?.maxItems!="number"||interceptorOpts?.maxItems<1))throw new InvalidArgumentError("Invalid maxItems. Must be a positive number and greater than zero");if(interceptorOpts?.affinity!=null&&interceptorOpts?.affinity!==4&&interceptorOpts?.affinity!==6)throw new InvalidArgumentError("Invalid affinity. Must be either 4 or 6");if(interceptorOpts?.dualStack!=null&&typeof interceptorOpts?.dualStack!="boolean")throw new InvalidArgumentError("Invalid dualStack. Must be a boolean");if(interceptorOpts?.lookup!=null&&typeof interceptorOpts?.lookup!="function")throw new InvalidArgumentError("Invalid lookup. Must be a function");if(interceptorOpts?.pick!=null&&typeof interceptorOpts?.pick!="function")throw new InvalidArgumentError("Invalid pick. Must be a function");let dualStack=interceptorOpts?.dualStack??!0,affinity;dualStack?affinity=interceptorOpts?.affinity??null:affinity=interceptorOpts?.affinity??4;let opts={maxTTL:interceptorOpts?.maxTTL??1e4,lookup:interceptorOpts?.lookup??null,pick:interceptorOpts?.pick??null,dualStack,affinity,maxItems:interceptorOpts?.maxItems??1/0},instance=new DNSInstance(opts);return dispatch=>function(origDispatchOpts,handler){let origin=origDispatchOpts.origin.constructor===URL?origDispatchOpts.origin:new URL(origDispatchOpts.origin);return isIP(origin.hostname)!==0?dispatch(origDispatchOpts,handler):(instance.runLookup(origin,origDispatchOpts,(err,newOrigin)=>{if(err)return handler.onResponseError(null,err);let dispatchOpts={...origDispatchOpts,servername:origin.hostname,origin:newOrigin.origin,headers:{host:origin.host,...origDispatchOpts.headers}};dispatch(dispatchOpts,instance.getHandler({origin,dispatch,handler,newOrigin},origDispatchOpts))}),!0)}}}});var require_cache=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/util/cache.js"(exports2,module2){"use strict";var{safeHTTPMethods,pathHasQueryOrFragment}=require_util3(),{serializePathWithQuery}=require_util3();function makeCacheKey(opts){if(!opts.origin)throw new Error("opts.origin is undefined");let fullPath=opts.path||"/";return opts.query&&!pathHasQueryOrFragment(opts.path)&&(fullPath=serializePathWithQuery(fullPath,opts.query)),{origin:opts.origin.toString(),method:opts.method,path:fullPath,headers:opts.headers}}function normalizeHeaders(opts){let headers;if(opts.headers==null)headers={};else if(typeof opts.headers[Symbol.iterator]=="function"){headers={};for(let x of opts.headers){if(!Array.isArray(x))throw new Error("opts.headers is not a valid header map");let[key,val]=x;if(typeof key!="string"||typeof val!="string")throw new Error("opts.headers is not a valid header map");headers[key.toLowerCase()]=val}}else if(typeof opts.headers=="object"){headers={};for(let key of Object.keys(opts.headers))headers[key.toLowerCase()]=opts.headers[key]}else throw new Error("opts.headers is not an object");return headers}function assertCacheKey(key){if(typeof key!="object")throw new TypeError(`expected key to be object, got ${typeof key}`);for(let property of["origin","method","path"])if(typeof key[property]!="string")throw new TypeError(`expected key.${property} to be string, got ${typeof key[property]}`);if(key.headers!==void 0&&typeof key.headers!="object")throw new TypeError(`expected headers to be object, got ${typeof key}`)}function assertCacheValue(value){if(typeof value!="object")throw new TypeError(`expected value to be object, got ${typeof value}`);for(let property of["statusCode","cachedAt","staleAt","deleteAt"])if(typeof value[property]!="number")throw new TypeError(`expected value.${property} to be number, got ${typeof value[property]}`);if(typeof value.statusMessage!="string")throw new TypeError(`expected value.statusMessage to be string, got ${typeof value.statusMessage}`);if(value.headers!=null&&typeof value.headers!="object")throw new TypeError(`expected value.rawHeaders to be object, got ${typeof value.headers}`);if(value.vary!==void 0&&typeof value.vary!="object")throw new TypeError(`expected value.vary to be object, got ${typeof value.vary}`);if(value.etag!==void 0&&typeof value.etag!="string")throw new TypeError(`expected value.etag to be string, got ${typeof value.etag}`)}function parseCacheControlHeader(header){let output={},directives;if(Array.isArray(header)){directives=[];for(let directive of header)directives.push(...directive.split(","))}else directives=header.split(",");for(let i=0;i<directives.length;i++){let directive=directives[i].toLowerCase(),keyValueDelimiter=directive.indexOf("="),key,value;switch(keyValueDelimiter!==-1?(key=directive.substring(0,keyValueDelimiter).trimStart(),value=directive.substring(keyValueDelimiter+1)):key=directive.trim(),key){case"min-fresh":case"max-stale":case"max-age":case"s-maxage":case"stale-while-revalidate":case"stale-if-error":{if(value===void 0||value[0]===" ")continue;value.length>=2&&value[0]==='"'&&value[value.length-1]==='"'&&(value=value.substring(1,value.length-1));let parsedValue=parseInt(value,10);if(parsedValue!==parsedValue||key==="max-age"&&key in output&&output[key]>=parsedValue)continue;output[key]=parsedValue;break}case"private":case"no-cache":if(value){if(value[0]==='"'){let headers=[value.substring(1)],foundEndingQuote=value[value.length-1]==='"';if(!foundEndingQuote)for(let j=i+1;j<directives.length;j++){let nextPart=directives[j],nextPartLength=nextPart.length;if(headers.push(nextPart.trim()),nextPartLength!==0&&nextPart[nextPartLength-1]==='"'){foundEndingQuote=!0;break}}if(foundEndingQuote){let lastHeader=headers[headers.length-1];lastHeader[lastHeader.length-1]==='"'&&(lastHeader=lastHeader.substring(0,lastHeader.length-1),headers[headers.length-1]=lastHeader),key in output?output[key]=output[key].concat(headers):output[key]=headers}}else key in output?output[key]=output[key].concat(value):output[key]=[value];break}case"public":case"no-store":case"must-revalidate":case"proxy-revalidate":case"immutable":case"no-transform":case"must-understand":case"only-if-cached":if(value)continue;output[key]=!0;break;default:continue}}return output}function parseVaryHeader(varyHeader,headers){if(typeof varyHeader=="string"&&varyHeader.includes("*"))return headers;let output={},varyingHeaders=typeof varyHeader=="string"?varyHeader.split(","):varyHeader;for(let header of varyingHeaders){let trimmedHeader=header.trim().toLowerCase();output[trimmedHeader]=headers[trimmedHeader]??null}return output}function isEtagUsable(etag){return etag.length<=2?!1:etag[0]==='"'&&etag[etag.length-1]==='"'?!(etag[1]==='"'||etag.startsWith('"W/')):etag.startsWith('W/"')&&etag[etag.length-1]==='"'?etag.length!==4:!1}function assertCacheStore(store,name="CacheStore"){if(typeof store!="object"||store===null)throw new TypeError(`expected type of ${name} to be a CacheStore, got ${store===null?"null":typeof store}`);for(let fn of["get","createWriteStream","delete"])if(typeof store[fn]!="function")throw new TypeError(`${name} needs to have a \`${fn}()\` function`)}function assertCacheMethods(methods,name="CacheMethods"){if(!Array.isArray(methods))throw new TypeError(`expected type of ${name} needs to be an array, got ${methods===null?"null":typeof methods}`);if(methods.length===0)throw new TypeError(`${name} needs to have at least one method`);for(let method of methods)if(!safeHTTPMethods.includes(method))throw new TypeError(`element of ${name}-array needs to be one of following values: ${safeHTTPMethods.join(", ")}, got ${method}`)}module2.exports={makeCacheKey,normalizeHeaders,assertCacheKey,assertCacheValue,parseCacheControlHeader,parseVaryHeader,isEtagUsable,assertCacheMethods,assertCacheStore}}});var require_date=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/util/date.js"(exports2,module2){"use strict";function parseHttpDate(date){switch(date[3]){case",":return parseImfDate(date);case" ":return parseAscTimeDate(date);default:return parseRfc850Date(date)}}function parseImfDate(date){if(date.length!==29||date[4]!==" "||date[7]!==" "||date[11]!==" "||date[16]!==" "||date[19]!==":"||date[22]!==":"||date[25]!==" "||date[26]!=="G"||date[27]!=="M"||date[28]!=="T")return;let weekday=-1;if(date[0]==="S"&&date[1]==="u"&&date[2]==="n")weekday=0;else if(date[0]==="M"&&date[1]==="o"&&date[2]==="n")weekday=1;else if(date[0]==="T"&&date[1]==="u"&&date[2]==="e")weekday=2;else if(date[0]==="W"&&date[1]==="e"&&date[2]==="d")weekday=3;else if(date[0]==="T"&&date[1]==="h"&&date[2]==="u")weekday=4;else if(date[0]==="F"&&date[1]==="r"&&date[2]==="i")weekday=5;else if(date[0]==="S"&&date[1]==="a"&&date[2]==="t")weekday=6;else return;let day=0;if(date[5]==="0"){let code2=date.charCodeAt(6);if(code2<49||code2>57)return;day=code2-48}else{let code1=date.charCodeAt(5);if(code1<49||code1>51)return;let code2=date.charCodeAt(6);if(code2<48||code2>57)return;day=(code1-48)*10+(code2-48)}let monthIdx=-1;if(date[8]==="J"&&date[9]==="a"&&date[10]==="n")monthIdx=0;else if(date[8]==="F"&&date[9]==="e"&&date[10]==="b")monthIdx=1;else if(date[8]==="M"&&date[9]==="a")if(date[10]==="r")monthIdx=2;else if(date[10]==="y")monthIdx=4;else return;else if(date[8]==="J")if(date[9]==="a"&&date[10]==="n")monthIdx=0;else if(date[9]==="u")if(date[10]==="n")monthIdx=5;else if(date[10]==="l")monthIdx=6;else return;else return;else if(date[8]==="A")if(date[9]==="p"&&date[10]==="r")monthIdx=3;else if(date[9]==="u"&&date[10]==="g")monthIdx=7;else return;else if(date[8]==="S"&&date[9]==="e"&&date[10]==="p")monthIdx=8;else if(date[8]==="O"&&date[9]==="c"&&date[10]==="t")monthIdx=9;else if(date[8]==="N"&&date[9]==="o"&&date[10]==="v")monthIdx=10;else if(date[8]==="D"&&date[9]==="e"&&date[10]==="c")monthIdx=11;else return;let yearDigit1=date.charCodeAt(12);if(yearDigit1<48||yearDigit1>57)return;let yearDigit2=date.charCodeAt(13);if(yearDigit2<48||yearDigit2>57)return;let yearDigit3=date.charCodeAt(14);if(yearDigit3<48||yearDigit3>57)return;let yearDigit4=date.charCodeAt(15);if(yearDigit4<48||yearDigit4>57)return;let year=(yearDigit1-48)*1e3+(yearDigit2-48)*100+(yearDigit3-48)*10+(yearDigit4-48),hour=0;if(date[17]==="0"){let code2=date.charCodeAt(18);if(code2<48||code2>57)return;hour=code2-48}else{let code1=date.charCodeAt(17);if(code1<48||code1>50)return;let code2=date.charCodeAt(18);if(code2<48||code2>57||code1===50&&code2>51)return;hour=(code1-48)*10+(code2-48)}let minute=0;if(date[20]==="0"){let code2=date.charCodeAt(21);if(code2<48||code2>57)return;minute=code2-48}else{let code1=date.charCodeAt(20);if(code1<48||code1>53)return;let code2=date.charCodeAt(21);if(code2<48||code2>57)return;minute=(code1-48)*10+(code2-48)}let second=0;if(date[23]==="0"){let code2=date.charCodeAt(24);if(code2<48||code2>57)return;second=code2-48}else{let code1=date.charCodeAt(23);if(code1<48||code1>53)return;let code2=date.charCodeAt(24);if(code2<48||code2>57)return;second=(code1-48)*10+(code2-48)}let result=new Date(Date.UTC(year,monthIdx,day,hour,minute,second));return result.getUTCDay()===weekday?result:void 0}function parseAscTimeDate(date){if(date.length!==24||date[7]!==" "||date[10]!==" "||date[19]!==" ")return;let weekday=-1;if(date[0]==="S"&&date[1]==="u"&&date[2]==="n")weekday=0;else if(date[0]==="M"&&date[1]==="o"&&date[2]==="n")weekday=1;else if(date[0]==="T"&&date[1]==="u"&&date[2]==="e")weekday=2;else if(date[0]==="W"&&date[1]==="e"&&date[2]==="d")weekday=3;else if(date[0]==="T"&&date[1]==="h"&&date[2]==="u")weekday=4;else if(date[0]==="F"&&date[1]==="r"&&date[2]==="i")weekday=5;else if(date[0]==="S"&&date[1]==="a"&&date[2]==="t")weekday=6;else return;let monthIdx=-1;if(date[4]==="J"&&date[5]==="a"&&date[6]==="n")monthIdx=0;else if(date[4]==="F"&&date[5]==="e"&&date[6]==="b")monthIdx=1;else if(date[4]==="M"&&date[5]==="a")if(date[6]==="r")monthIdx=2;else if(date[6]==="y")monthIdx=4;else return;else if(date[4]==="J")if(date[5]==="a"&&date[6]==="n")monthIdx=0;else if(date[5]==="u")if(date[6]==="n")monthIdx=5;else if(date[6]==="l")monthIdx=6;else return;else return;else if(date[4]==="A")if(date[5]==="p"&&date[6]==="r")monthIdx=3;else if(date[5]==="u"&&date[6]==="g")monthIdx=7;else return;else if(date[4]==="S"&&date[5]==="e"&&date[6]==="p")monthIdx=8;else if(date[4]==="O"&&date[5]==="c"&&date[6]==="t")monthIdx=9;else if(date[4]==="N"&&date[5]==="o"&&date[6]==="v")monthIdx=10;else if(date[4]==="D"&&date[5]==="e"&&date[6]==="c")monthIdx=11;else return;let day=0;if(date[8]===" "){let code2=date.charCodeAt(9);if(code2<49||code2>57)return;day=code2-48}else{let code1=date.charCodeAt(8);if(code1<49||code1>51)return;let code2=date.charCodeAt(9);if(code2<48||code2>57)return;day=(code1-48)*10+(code2-48)}let hour=0;if(date[11]==="0"){let code2=date.charCodeAt(12);if(code2<48||code2>57)return;hour=code2-48}else{let code1=date.charCodeAt(11);if(code1<48||code1>50)return;let code2=date.charCodeAt(12);if(code2<48||code2>57||code1===50&&code2>51)return;hour=(code1-48)*10+(code2-48)}let minute=0;if(date[14]==="0"){let code2=date.charCodeAt(15);if(code2<48||code2>57)return;minute=code2-48}else{let code1=date.charCodeAt(14);if(code1<48||code1>53)return;let code2=date.charCodeAt(15);if(code2<48||code2>57)return;minute=(code1-48)*10+(code2-48)}let second=0;if(date[17]==="0"){let code2=date.charCodeAt(18);if(code2<48||code2>57)return;second=code2-48}else{let code1=date.charCodeAt(17);if(code1<48||code1>53)return;let code2=date.charCodeAt(18);if(code2<48||code2>57)return;second=(code1-48)*10+(code2-48)}let yearDigit1=date.charCodeAt(20);if(yearDigit1<48||yearDigit1>57)return;let yearDigit2=date.charCodeAt(21);if(yearDigit2<48||yearDigit2>57)return;let yearDigit3=date.charCodeAt(22);if(yearDigit3<48||yearDigit3>57)return;let yearDigit4=date.charCodeAt(23);if(yearDigit4<48||yearDigit4>57)return;let year=(yearDigit1-48)*1e3+(yearDigit2-48)*100+(yearDigit3-48)*10+(yearDigit4-48),result=new Date(Date.UTC(year,monthIdx,day,hour,minute,second));return result.getUTCDay()===weekday?result:void 0}function parseRfc850Date(date){let commaIndex=-1,weekday=-1;if(date[0]==="S")date[1]==="u"&&date[2]==="n"&&date[3]==="d"&&date[4]==="a"&&date[5]==="y"?(weekday=0,commaIndex=6):date[1]==="a"&&date[2]==="t"&&date[3]==="u"&&date[4]==="r"&&date[5]==="d"&&date[6]==="a"&&date[7]==="y"&&(weekday=6,commaIndex=8);else if(date[0]==="M"&&date[1]==="o"&&date[2]==="n"&&date[3]==="d"&&date[4]==="a"&&date[5]==="y")weekday=1,commaIndex=6;else if(date[0]==="T")date[1]==="u"&&date[2]==="e"&&date[3]==="s"&&date[4]==="d"&&date[5]==="a"&&date[6]==="y"?(weekday=2,commaIndex=7):date[1]==="h"&&date[2]==="u"&&date[3]==="r"&&date[4]==="s"&&date[5]==="d"&&date[6]==="a"&&date[7]==="y"&&(weekday=4,commaIndex=8);else if(date[0]==="W"&&date[1]==="e"&&date[2]==="d"&&date[3]==="n"&&date[4]==="e"&&date[5]==="s"&&date[6]==="d"&&date[7]==="a"&&date[8]==="y")weekday=3,commaIndex=9;else if(date[0]==="F"&&date[1]==="r"&&date[2]==="i"&&date[3]==="d"&&date[4]==="a"&&date[5]==="y")weekday=5,commaIndex=6;else return;if(date[commaIndex]!==","||date.length-commaIndex-1!==23||date[commaIndex+1]!==" "||date[commaIndex+4]!=="-"||date[commaIndex+8]!=="-"||date[commaIndex+11]!==" "||date[commaIndex+14]!==":"||date[commaIndex+17]!==":"||date[commaIndex+20]!==" "||date[commaIndex+21]!=="G"||date[commaIndex+22]!=="M"||date[commaIndex+23]!=="T")return;let day=0;if(date[commaIndex+2]==="0"){let code2=date.charCodeAt(commaIndex+3);if(code2<49||code2>57)return;day=code2-48}else{let code1=date.charCodeAt(commaIndex+2);if(code1<49||code1>51)return;let code2=date.charCodeAt(commaIndex+3);if(code2<48||code2>57)return;day=(code1-48)*10+(code2-48)}let monthIdx=-1;if(date[commaIndex+5]==="J"&&date[commaIndex+6]==="a"&&date[commaIndex+7]==="n")monthIdx=0;else if(date[commaIndex+5]==="F"&&date[commaIndex+6]==="e"&&date[commaIndex+7]==="b")monthIdx=1;else if(date[commaIndex+5]==="M"&&date[commaIndex+6]==="a"&&date[commaIndex+7]==="r")monthIdx=2;else if(date[commaIndex+5]==="A"&&date[commaIndex+6]==="p"&&date[commaIndex+7]==="r")monthIdx=3;else if(date[commaIndex+5]==="M"&&date[commaIndex+6]==="a"&&date[commaIndex+7]==="y")monthIdx=4;else if(date[commaIndex+5]==="J"&&date[commaIndex+6]==="u"&&date[commaIndex+7]==="n")monthIdx=5;else if(date[commaIndex+5]==="J"&&date[commaIndex+6]==="u"&&date[commaIndex+7]==="l")monthIdx=6;else if(date[commaIndex+5]==="A"&&date[commaIndex+6]==="u"&&date[commaIndex+7]==="g")monthIdx=7;else if(date[commaIndex+5]==="S"&&date[commaIndex+6]==="e"&&date[commaIndex+7]==="p")monthIdx=8;else if(date[commaIndex+5]==="O"&&date[commaIndex+6]==="c"&&date[commaIndex+7]==="t")monthIdx=9;else if(date[commaIndex+5]==="N"&&date[commaIndex+6]==="o"&&date[commaIndex+7]==="v")monthIdx=10;else if(date[commaIndex+5]==="D"&&date[commaIndex+6]==="e"&&date[commaIndex+7]==="c")monthIdx=11;else return;let yearDigit1=date.charCodeAt(commaIndex+9);if(yearDigit1<48||yearDigit1>57)return;let yearDigit2=date.charCodeAt(commaIndex+10);if(yearDigit2<48||yearDigit2>57)return;let year=(yearDigit1-48)*10+(yearDigit2-48);year+=year<70?2e3:1900;let hour=0;if(date[commaIndex+12]==="0"){let code2=date.charCodeAt(commaIndex+13);if(code2<48||code2>57)return;hour=code2-48}else{let code1=date.charCodeAt(commaIndex+12);if(code1<48||code1>50)return;let code2=date.charCodeAt(commaIndex+13);if(code2<48||code2>57||code1===50&&code2>51)return;hour=(code1-48)*10+(code2-48)}let minute=0;if(date[commaIndex+15]==="0"){let code2=date.charCodeAt(commaIndex+16);if(code2<48||code2>57)return;minute=code2-48}else{let code1=date.charCodeAt(commaIndex+15);if(code1<48||code1>53)return;let code2=date.charCodeAt(commaIndex+16);if(code2<48||code2>57)return;minute=(code1-48)*10+(code2-48)}let second=0;if(date[commaIndex+18]==="0"){let code2=date.charCodeAt(commaIndex+19);if(code2<48||code2>57)return;second=code2-48}else{let code1=date.charCodeAt(commaIndex+18);if(code1<48||code1>53)return;let code2=date.charCodeAt(commaIndex+19);if(code2<48||code2>57)return;second=(code1-48)*10+(code2-48)}let result=new Date(Date.UTC(year,monthIdx,day,hour,minute,second));return result.getUTCDay()===weekday?result:void 0}module2.exports={parseHttpDate}}});var require_cache_handler=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/handler/cache-handler.js"(exports2,module2){"use strict";var util3=require_util3(),{parseCacheControlHeader,parseVaryHeader,isEtagUsable}=require_cache(),{parseHttpDate}=require_date();function noop(){}var HEURISTICALLY_CACHEABLE_STATUS_CODES=[200,203,204,206,300,301,308,404,405,410,414,501],NOT_UNDERSTOOD_STATUS_CODES=[206,304],MAX_RESPONSE_AGE=2147483647e3,CacheHandler=class{#cacheKey;#cacheType;#cacheByDefault;#store;#handler;#writeStream;constructor({store,type,cacheByDefault},cacheKey,handler){this.#store=store,this.#cacheType=type,this.#cacheByDefault=cacheByDefault,this.#cacheKey=cacheKey,this.#handler=handler}onRequestStart(controller,context){this.#writeStream?.destroy(),this.#writeStream=void 0,this.#handler.onRequestStart?.(controller,context)}onRequestUpgrade(controller,statusCode,headers,socket){this.#handler.onRequestUpgrade?.(controller,statusCode,headers,socket)}onResponseStart(controller,statusCode,resHeaders,statusMessage){let downstreamOnHeaders=()=>this.#handler.onResponseStart?.(controller,statusCode,resHeaders,statusMessage);if(!util3.safeHTTPMethods.includes(this.#cacheKey.method)&&statusCode>=200&&statusCode<=399){try{this.#store.delete(this.#cacheKey)?.catch?.(noop)}catch{}return downstreamOnHeaders()}let cacheControlHeader=resHeaders["cache-control"],heuristicallyCacheable=resHeaders["last-modified"]&&HEURISTICALLY_CACHEABLE_STATUS_CODES.includes(statusCode);if(!cacheControlHeader&&!resHeaders.expires&&!heuristicallyCacheable&&!this.#cacheByDefault)return downstreamOnHeaders();let cacheControlDirectives=cacheControlHeader?parseCacheControlHeader(cacheControlHeader):{};if(!canCacheResponse(this.#cacheType,statusCode,resHeaders,cacheControlDirectives))return downstreamOnHeaders();let now=Date.now(),resAge=resHeaders.age?getAge(resHeaders.age):void 0;if(resAge&&resAge>=MAX_RESPONSE_AGE)return downstreamOnHeaders();let resDate=typeof resHeaders.date=="string"?parseHttpDate(resHeaders.date):void 0,staleAt=determineStaleAt(this.#cacheType,now,resAge,resHeaders,resDate,cacheControlDirectives)??this.#cacheByDefault;if(staleAt===void 0||resAge&&resAge>staleAt)return downstreamOnHeaders();let baseTime=resDate?resDate.getTime():now,absoluteStaleAt=staleAt+baseTime;if(now>=absoluteStaleAt)return downstreamOnHeaders();let varyDirectives;if(this.#cacheKey.headers&&resHeaders.vary&&(varyDirectives=parseVaryHeader(resHeaders.vary,this.#cacheKey.headers),!varyDirectives))return downstreamOnHeaders();let deleteAt=determineDeleteAt(baseTime,cacheControlDirectives,absoluteStaleAt),strippedHeaders=stripNecessaryHeaders(resHeaders,cacheControlDirectives),value={statusCode,statusMessage,headers:strippedHeaders,vary:varyDirectives,cacheControlDirectives,cachedAt:resAge?now-resAge:now,staleAt:absoluteStaleAt,deleteAt};if(typeof resHeaders.etag=="string"&&isEtagUsable(resHeaders.etag)&&(value.etag=resHeaders.etag),this.#writeStream=this.#store.createWriteStream(this.#cacheKey,value),!this.#writeStream)return downstreamOnHeaders();let handler=this;return this.#writeStream.on("drain",()=>controller.resume()).on("error",function(){handler.#writeStream=void 0,handler.#store.delete(handler.#cacheKey)}).on("close",function(){handler.#writeStream===this&&(handler.#writeStream=void 0),controller.resume()}),downstreamOnHeaders()}onResponseData(controller,chunk){this.#writeStream?.write(chunk)===!1&&controller.pause(),this.#handler.onResponseData?.(controller,chunk)}onResponseEnd(controller,trailers){this.#writeStream?.end(),this.#handler.onResponseEnd?.(controller,trailers)}onResponseError(controller,err){this.#writeStream?.destroy(err),this.#writeStream=void 0,this.#handler.onResponseError?.(controller,err)}};function canCacheResponse(cacheType,statusCode,resHeaders,cacheControlDirectives){return!(statusCode<200||NOT_UNDERSTOOD_STATUS_CODES.includes(statusCode)||!HEURISTICALLY_CACHEABLE_STATUS_CODES.includes(statusCode)&&!resHeaders.expires&&!cacheControlDirectives.public&&cacheControlDirectives["max-age"]===void 0&&!(cacheControlDirectives.private&&cacheType==="private")&&!(cacheControlDirectives["s-maxage"]!==void 0&&cacheType==="shared")||cacheControlDirectives["no-store"]||cacheType==="shared"&&cacheControlDirectives.private===!0||resHeaders.vary?.includes("*")||resHeaders.authorization&&(!cacheControlDirectives.public||typeof resHeaders.authorization!="string"||Array.isArray(cacheControlDirectives["no-cache"])&&cacheControlDirectives["no-cache"].includes("authorization")||Array.isArray(cacheControlDirectives.private)&&cacheControlDirectives.private.includes("authorization")))}function getAge(ageHeader){let age=parseInt(Array.isArray(ageHeader)?ageHeader[0]:ageHeader);return isNaN(age)?void 0:age*1e3}function determineStaleAt(cacheType,now,age,resHeaders,responseDate,cacheControlDirectives){if(cacheType==="shared"){let sMaxAge=cacheControlDirectives["s-maxage"];if(sMaxAge!==void 0)return sMaxAge>0?sMaxAge*1e3:void 0}let maxAge=cacheControlDirectives["max-age"];if(maxAge!==void 0)return maxAge>0?maxAge*1e3:void 0;if(typeof resHeaders.expires=="string"){let expiresDate=parseHttpDate(resHeaders.expires);if(expiresDate)return now>=expiresDate.getTime()||responseDate&&(responseDate>=expiresDate||age!==void 0&&age>expiresDate-responseDate)?void 0:expiresDate.getTime()-now}if(typeof resHeaders["last-modified"]=="string"){let lastModified=new Date(resHeaders["last-modified"]);if(isValidDate(lastModified))return lastModified.getTime()>=now?void 0:(now-lastModified.getTime())*.1}if(cacheControlDirectives.immutable)return 31536e3}function determineDeleteAt(now,cacheControlDirectives,staleAt){let staleWhileRevalidate=-1/0,staleIfError=-1/0,immutable=-1/0;return cacheControlDirectives["stale-while-revalidate"]&&(staleWhileRevalidate=staleAt+cacheControlDirectives["stale-while-revalidate"]*1e3),cacheControlDirectives["stale-if-error"]&&(staleIfError=staleAt+cacheControlDirectives["stale-if-error"]*1e3),staleWhileRevalidate===-1/0&&staleIfError===-1/0&&(immutable=now+31536e6),Math.max(staleAt,staleWhileRevalidate,staleIfError,immutable)}function stripNecessaryHeaders(resHeaders,cacheControlDirectives){let headersToRemove=["connection","proxy-authenticate","proxy-authentication-info","proxy-authorization","proxy-connection","te","transfer-encoding","upgrade","age"];resHeaders.connection&&(Array.isArray(resHeaders.connection)?headersToRemove.push(...resHeaders.connection.map(header=>header.trim())):headersToRemove.push(...resHeaders.connection.split(",").map(header=>header.trim()))),Array.isArray(cacheControlDirectives["no-cache"])&&headersToRemove.push(...cacheControlDirectives["no-cache"]),Array.isArray(cacheControlDirectives.private)&&headersToRemove.push(...cacheControlDirectives.private);let strippedHeaders;for(let headerName of headersToRemove)resHeaders[headerName]&&(strippedHeaders??={...resHeaders},delete strippedHeaders[headerName]);return strippedHeaders??resHeaders}function isValidDate(date){return date instanceof Date&&Number.isFinite(date.valueOf())}module2.exports=CacheHandler}});var require_memory_cache_store=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/cache/memory-cache-store.js"(exports2,module2){"use strict";var{Writable}=require("node:stream"),{EventEmitter}=require("node:events"),{assertCacheKey,assertCacheValue}=require_cache(),MemoryCacheStore=class extends EventEmitter{#maxCount=1024;#maxSize=104857600;#maxEntrySize=5242880;#size=0;#count=0;#entries=new Map;#hasEmittedMaxSizeEvent=!1;constructor(opts){if(super(),opts){if(typeof opts!="object")throw new TypeError("MemoryCacheStore options must be an object");if(opts.maxCount!==void 0){if(typeof opts.maxCount!="number"||!Number.isInteger(opts.maxCount)||opts.maxCount<0)throw new TypeError("MemoryCacheStore options.maxCount must be a non-negative integer");this.#maxCount=opts.maxCount}if(opts.maxSize!==void 0){if(typeof opts.maxSize!="number"||!Number.isInteger(opts.maxSize)||opts.maxSize<0)throw new TypeError("MemoryCacheStore options.maxSize must be a non-negative integer");this.#maxSize=opts.maxSize}if(opts.maxEntrySize!==void 0){if(typeof opts.maxEntrySize!="number"||!Number.isInteger(opts.maxEntrySize)||opts.maxEntrySize<0)throw new TypeError("MemoryCacheStore options.maxEntrySize must be a non-negative integer");this.#maxEntrySize=opts.maxEntrySize}}}get size(){return this.#size}isFull(){return this.#size>=this.#maxSize||this.#count>=this.#maxCount}get(key){assertCacheKey(key);let topLevelKey=`${key.origin}:${key.path}`,now=Date.now(),entries=this.#entries.get(topLevelKey),entry=entries?findEntry(key,entries,now):null;return entry==null?void 0:{statusMessage:entry.statusMessage,statusCode:entry.statusCode,headers:entry.headers,body:entry.body,vary:entry.vary?entry.vary:void 0,etag:entry.etag,cacheControlDirectives:entry.cacheControlDirectives,cachedAt:entry.cachedAt,staleAt:entry.staleAt,deleteAt:entry.deleteAt}}createWriteStream(key,val){assertCacheKey(key),assertCacheValue(val);let topLevelKey=`${key.origin}:${key.path}`,store=this,entry={...key,...val,body:[],size:0};return new Writable({write(chunk,encoding,callback){typeof chunk=="string"&&(chunk=Buffer.from(chunk,encoding)),entry.size+=chunk.byteLength,entry.size>=store.#maxEntrySize?this.destroy():entry.body.push(chunk),callback(null)},final(callback){let entries=store.#entries.get(topLevelKey);entries||(entries=[],store.#entries.set(topLevelKey,entries));let previousEntry=findEntry(key,entries,Date.now());if(previousEntry){let index2=entries.indexOf(previousEntry);entries.splice(index2,1,entry),store.#size-=previousEntry.size}else entries.push(entry),store.#count+=1;if(store.#size+=entry.size,store.#size>store.#maxSize||store.#count>store.#maxCount){store.#hasEmittedMaxSizeEvent||(store.emit("maxSizeExceeded",{size:store.#size,maxSize:store.#maxSize,count:store.#count,maxCount:store.#maxCount}),store.#hasEmittedMaxSizeEvent=!0);for(let[key2,entries2]of store.#entries){for(let entry2 of entries2.splice(0,entries2.length/2))store.#size-=entry2.size,store.#count-=1;entries2.length===0&&store.#entries.delete(key2)}store.#size<store.#maxSize&&store.#count<store.#maxCount&&(store.#hasEmittedMaxSizeEvent=!1)}callback(null)}})}delete(key){if(typeof key!="object")throw new TypeError(`expected key to be object, got ${typeof key}`);let topLevelKey=`${key.origin}:${key.path}`;for(let entry of this.#entries.get(topLevelKey)??[])this.#size-=entry.size,this.#count-=1;this.#entries.delete(topLevelKey)}};function findEntry(key,entries,now){return entries.find(entry=>entry.deleteAt>now&&entry.method===key.method&&(entry.vary==null||Object.keys(entry.vary).every(headerName=>entry.vary[headerName]===null?key.headers[headerName]===void 0:entry.vary[headerName]===key.headers[headerName])))}module2.exports=MemoryCacheStore}});var require_cache_revalidation_handler=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/handler/cache-revalidation-handler.js"(exports2,module2){"use strict";var assert2=require("node:assert"),CacheRevalidationHandler=class{#successful=!1;#callback;#handler;#context;#allowErrorStatusCodes;constructor(callback,handler,allowErrorStatusCodes){if(typeof callback!="function")throw new TypeError("callback must be a function");this.#callback=callback,this.#handler=handler,this.#allowErrorStatusCodes=allowErrorStatusCodes}onRequestStart(_,context){this.#successful=!1,this.#context=context}onRequestUpgrade(controller,statusCode,headers,socket){this.#handler.onRequestUpgrade?.(controller,statusCode,headers,socket)}onResponseStart(controller,statusCode,headers,statusMessage){if(assert2(this.#callback!=null),this.#successful=statusCode===304||this.#allowErrorStatusCodes&&statusCode>=500&&statusCode<=504,this.#callback(this.#successful,this.#context),this.#callback=null,this.#successful)return!0;this.#handler.onRequestStart?.(controller,this.#context),this.#handler.onResponseStart?.(controller,statusCode,headers,statusMessage)}onResponseData(controller,chunk){if(!this.#successful)return this.#handler.onResponseData?.(controller,chunk)}onResponseEnd(controller,trailers){this.#successful||this.#handler.onResponseEnd?.(controller,trailers)}onResponseError(controller,err){if(!this.#successful)if(this.#callback&&(this.#callback(!1),this.#callback=null),typeof this.#handler.onResponseError=="function")this.#handler.onResponseError(controller,err);else throw err}};module2.exports=CacheRevalidationHandler}});var require_cache2=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/interceptor/cache.js"(exports2,module2){"use strict";var assert2=require("node:assert"),{Readable}=require("node:stream"),util3=require_util3(),CacheHandler=require_cache_handler(),MemoryCacheStore=require_memory_cache_store(),CacheRevalidationHandler=require_cache_revalidation_handler(),{assertCacheStore,assertCacheMethods,makeCacheKey,normalizeHeaders,parseCacheControlHeader}=require_cache(),{AbortError}=require_errors5();function needsRevalidation(result,cacheControlDirectives){if(cacheControlDirectives?.["no-cache"]||result.cacheControlDirectives?.["no-cache"]&&!Array.isArray(result.cacheControlDirectives["no-cache"]))return!0;let now=Date.now();if(now>result.staleAt){if(cacheControlDirectives?.["max-stale"]){let gracePeriod=result.staleAt+cacheControlDirectives["max-stale"]*1e3;return now>gracePeriod}return!0}if(cacheControlDirectives?.["min-fresh"]){let timeLeftTillStale=result.staleAt-now,threshold=cacheControlDirectives["min-fresh"]*1e3;return timeLeftTillStale<=threshold}return!1}function withinStaleWhileRevalidateWindow(result){let staleWhileRevalidate=result.cacheControlDirectives?.["stale-while-revalidate"];if(!staleWhileRevalidate)return!1;let now=Date.now(),staleWhileRevalidateExpiry=result.staleAt+staleWhileRevalidate*1e3;return now<=staleWhileRevalidateExpiry}function handleUncachedResponse(dispatch,globalOpts,cacheKey,handler,opts,reqCacheControl){if(reqCacheControl?.["only-if-cached"]){let aborted=!1;try{if(typeof handler.onConnect=="function"&&(handler.onConnect(()=>{aborted=!0}),aborted)||typeof handler.onHeaders=="function"&&(handler.onHeaders(504,[],()=>{},"Gateway Timeout"),aborted))return;typeof handler.onComplete=="function"&&handler.onComplete([])}catch(err){typeof handler.onError=="function"&&handler.onError(err)}return!0}return dispatch(opts,new CacheHandler(globalOpts,cacheKey,handler))}function sendCachedValue(handler,opts,result,age,context,isStale){let stream=util3.isStream(result.body)?result.body:Readable.from(result.body??[]);assert2(!stream.destroyed,"stream should not be destroyed"),assert2(!stream.readableDidRead,"stream should not be readableDidRead");let controller={resume(){stream.resume()},pause(){stream.pause()},get paused(){return stream.isPaused()},get aborted(){return stream.destroyed},get reason(){return stream.errored},abort(reason){stream.destroy(reason??new AbortError)}};if(stream.on("error",function(err){if(!this.readableEnded)if(typeof handler.onResponseError=="function")handler.onResponseError(controller,err);else throw err}).on("close",function(){this.errored||handler.onResponseEnd?.(controller,{})}),handler.onRequestStart?.(controller,context),stream.destroyed)return;let headers={...result.headers,age:String(age)};isStale&&(headers.warning='110 - "response is stale"'),handler.onResponseStart?.(controller,result.statusCode,headers,result.statusMessage),opts.method==="HEAD"?stream.destroy():stream.on("data",function(chunk){handler.onResponseData?.(controller,chunk)})}function handleResult2(dispatch,globalOpts,cacheKey,handler,opts,reqCacheControl,result){if(!result)return handleUncachedResponse(dispatch,globalOpts,cacheKey,handler,opts,reqCacheControl);let now=Date.now();if(now>result.deleteAt)return dispatch(opts,new CacheHandler(globalOpts,cacheKey,handler));let age=Math.round((now-result.cachedAt)/1e3);if(reqCacheControl?.["max-age"]&&age>=reqCacheControl["max-age"])return dispatch(opts,handler);if(needsRevalidation(result,reqCacheControl)){if(util3.isStream(opts.body)&&util3.bodyLength(opts.body)!==0)return dispatch(opts,new CacheHandler(globalOpts,cacheKey,handler));if(withinStaleWhileRevalidateWindow(result))return sendCachedValue(handler,opts,result,age,null,!0),queueMicrotask(()=>{let headers2={...opts.headers,"if-modified-since":new Date(result.cachedAt).toUTCString()};result.etag&&(headers2["if-none-match"]=result.etag),result.vary&&(headers2={...headers2,...result.vary}),dispatch({...opts,headers:headers2},new CacheHandler(globalOpts,cacheKey,{onRequestStart(){},onRequestUpgrade(){},onResponseStart(){},onResponseData(){},onResponseEnd(){},onResponseError(){}}))}),!0;let withinStaleIfErrorThreshold=!1,staleIfErrorExpiry=result.cacheControlDirectives["stale-if-error"]??reqCacheControl?.["stale-if-error"];staleIfErrorExpiry&&(withinStaleIfErrorThreshold=now<result.staleAt+staleIfErrorExpiry*1e3);let headers={...opts.headers,"if-modified-since":new Date(result.cachedAt).toUTCString()};return result.etag&&(headers["if-none-match"]=result.etag),result.vary&&(headers={...headers,...result.vary}),dispatch({...opts,headers},new CacheRevalidationHandler((success,context)=>{success?sendCachedValue(handler,opts,result,age,context,!0):util3.isStream(result.body)&&result.body.on("error",()=>{}).destroy()},new CacheHandler(globalOpts,cacheKey,handler),withinStaleIfErrorThreshold))}util3.isStream(opts.body)&&opts.body.on("error",()=>{}).destroy(),sendCachedValue(handler,opts,result,age,null,!1)}module2.exports=(opts={})=>{let{store=new MemoryCacheStore,methods=["GET"],cacheByDefault=void 0,type="shared"}=opts;if(typeof opts!="object"||opts===null)throw new TypeError(`expected type of opts to be an Object, got ${opts===null?"null":typeof opts}`);if(assertCacheStore(store,"opts.store"),assertCacheMethods(methods,"opts.methods"),typeof cacheByDefault<"u"&&typeof cacheByDefault!="number")throw new TypeError(`expected opts.cacheByDefault to be number or undefined, got ${typeof cacheByDefault}`);if(typeof type<"u"&&type!=="shared"&&type!=="private")throw new TypeError(`expected opts.type to be shared, private, or undefined, got ${typeof type}`);let globalOpts={store,methods,cacheByDefault,type},safeMethodsToNotCache=util3.safeHTTPMethods.filter(method=>methods.includes(method)===!1);return dispatch=>(opts2,handler)=>{if(!opts2.origin||safeMethodsToNotCache.includes(opts2.method))return dispatch(opts2,handler);opts2={...opts2,headers:normalizeHeaders(opts2)};let reqCacheControl=opts2.headers?.["cache-control"]?parseCacheControlHeader(opts2.headers["cache-control"]):void 0;if(reqCacheControl?.["no-store"])return dispatch(opts2,handler);let cacheKey=makeCacheKey(opts2),result=store.get(cacheKey);return result&&typeof result.then=="function"?result.then(result2=>{handleResult2(dispatch,globalOpts,cacheKey,handler,opts2,reqCacheControl,result2)}):handleResult2(dispatch,globalOpts,cacheKey,handler,opts2,reqCacheControl,result),!0}}}});var require_decompress=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/interceptor/decompress.js"(exports2,module2){"use strict";var{createInflate,createGunzip,createBrotliDecompress,createZstdDecompress}=require("node:zlib"),{pipeline}=require("node:stream"),DecoratorHandler=require_decorator_handler(),supportedEncodings={gzip:createGunzip,"x-gzip":createGunzip,br:createBrotliDecompress,deflate:createInflate,compress:createInflate,"x-compress":createInflate,...createZstdDecompress?{zstd:createZstdDecompress}:{}},defaultSkipStatusCodes=[204,304],warningEmitted=!1,DecompressHandler=class extends DecoratorHandler{#decompressors=[];#pipelineStream;#skipStatusCodes;#skipErrorResponses;constructor(handler,{skipStatusCodes=defaultSkipStatusCodes,skipErrorResponses=!0}={}){super(handler),this.#skipStatusCodes=skipStatusCodes,this.#skipErrorResponses=skipErrorResponses}#shouldSkipDecompression(contentEncoding,statusCode){return!!(!contentEncoding||statusCode<200||this.#skipStatusCodes.includes(statusCode)||this.#skipErrorResponses&&statusCode>=400)}#createDecompressionChain(encodings){let parts=encodings.split(","),decompressors=[];for(let i=parts.length-1;i>=0;i--){let encoding=parts[i].trim();if(encoding){if(!supportedEncodings[encoding])return decompressors.length=0,decompressors;decompressors.push(supportedEncodings[encoding]())}}return decompressors}#setupDecompressorEvents(decompressor,controller){decompressor.on("readable",()=>{let chunk;for(;(chunk=decompressor.read())!==null&&super.onResponseData(controller,chunk)!==!1;);}),decompressor.on("error",error=>{super.onResponseError(controller,error)})}#setupSingleDecompressor(controller){let decompressor=this.#decompressors[0];this.#setupDecompressorEvents(decompressor,controller),decompressor.on("end",()=>{super.onResponseEnd(controller,{})})}#setupMultipleDecompressors(controller){let lastDecompressor=this.#decompressors[this.#decompressors.length-1];this.#setupDecompressorEvents(lastDecompressor,controller),this.#pipelineStream=pipeline(this.#decompressors,err=>{if(err){super.onResponseError(controller,err);return}super.onResponseEnd(controller,{})})}#cleanupDecompressors(){this.#decompressors.length=0,this.#pipelineStream=null}onResponseStart(controller,statusCode,headers,statusMessage){let contentEncoding=headers["content-encoding"];if(this.#shouldSkipDecompression(contentEncoding,statusCode))return super.onResponseStart(controller,statusCode,headers,statusMessage);let decompressors=this.#createDecompressionChain(contentEncoding.toLowerCase());if(decompressors.length===0)return this.#cleanupDecompressors(),super.onResponseStart(controller,statusCode,headers,statusMessage);this.#decompressors=decompressors;let{"content-encoding":_,"content-length":__,...newHeaders}=headers;this.#decompressors.length===1?this.#setupSingleDecompressor(controller):this.#setupMultipleDecompressors(controller),super.onResponseStart(controller,statusCode,newHeaders,statusMessage)}onResponseData(controller,chunk){if(this.#decompressors.length>0){this.#decompressors[0].write(chunk);return}super.onResponseData(controller,chunk)}onResponseEnd(controller,trailers){if(this.#decompressors.length>0){this.#decompressors[0].end(),this.#cleanupDecompressors();return}super.onResponseEnd(controller,trailers)}onResponseError(controller,err){if(this.#decompressors.length>0){for(let decompressor of this.#decompressors)decompressor.destroy(err);this.#cleanupDecompressors()}super.onResponseError(controller,err)}};function createDecompressInterceptor(options2={}){return warningEmitted||(process.emitWarning("DecompressInterceptor is experimental and subject to change","ExperimentalWarning"),warningEmitted=!0),dispatch=>(opts,handler)=>{let decompressHandler=new DecompressHandler(handler,options2);return dispatch(opts,decompressHandler)}}module2.exports=createDecompressInterceptor}});var require_sqlite_cache_store=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/cache/sqlite-cache-store.js"(exports2,module2){"use strict";var{Writable}=require("node:stream"),{assertCacheKey,assertCacheValue}=require_cache(),DatabaseSync,VERSION=3,MAX_ENTRY_SIZE=2*1e3*1e3*1e3;module2.exports=class{#maxEntrySize=MAX_ENTRY_SIZE;#maxCount=1/0;#db;#getValuesQuery;#updateValueQuery;#insertValueQuery;#deleteExpiredValuesQuery;#deleteByUrlQuery;#countEntriesQuery;#deleteOldValuesQuery;constructor(opts){if(opts){if(typeof opts!="object")throw new TypeError("SqliteCacheStore options must be an object");if(opts.maxEntrySize!==void 0){if(typeof opts.maxEntrySize!="number"||!Number.isInteger(opts.maxEntrySize)||opts.maxEntrySize<0)throw new TypeError("SqliteCacheStore options.maxEntrySize must be a non-negative integer");if(opts.maxEntrySize>MAX_ENTRY_SIZE)throw new TypeError("SqliteCacheStore options.maxEntrySize must be less than 2gb");this.#maxEntrySize=opts.maxEntrySize}if(opts.maxCount!==void 0){if(typeof opts.maxCount!="number"||!Number.isInteger(opts.maxCount)||opts.maxCount<0)throw new TypeError("SqliteCacheStore options.maxCount must be a non-negative integer");this.#maxCount=opts.maxCount}}DatabaseSync||(DatabaseSync=require("node:sqlite").DatabaseSync),this.#db=new DatabaseSync(opts?.location??":memory:"),this.#db.exec(`
      PRAGMA journal_mode = WAL;
      PRAGMA synchronous = NORMAL;
      PRAGMA temp_store = memory;
      PRAGMA optimize;

      CREATE TABLE IF NOT EXISTS cacheInterceptorV${VERSION} (
        -- Data specific to us
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        url TEXT NOT NULL,
        method TEXT NOT NULL,

        -- Data returned to the interceptor
        body BUF NULL,
        deleteAt INTEGER NOT NULL,
        statusCode INTEGER NOT NULL,
        statusMessage TEXT NOT NULL,
        headers TEXT NULL,
        cacheControlDirectives TEXT NULL,
        etag TEXT NULL,
        vary TEXT NULL,
        cachedAt INTEGER NOT NULL,
        staleAt INTEGER NOT NULL
      );

      CREATE INDEX IF NOT EXISTS idx_cacheInterceptorV${VERSION}_getValuesQuery ON cacheInterceptorV${VERSION}(url, method, deleteAt);
      CREATE INDEX IF NOT EXISTS idx_cacheInterceptorV${VERSION}_deleteByUrlQuery ON cacheInterceptorV${VERSION}(deleteAt);
    `),this.#getValuesQuery=this.#db.prepare(`
      SELECT
        id,
        body,
        deleteAt,
        statusCode,
        statusMessage,
        headers,
        etag,
        cacheControlDirectives,
        vary,
        cachedAt,
        staleAt
      FROM cacheInterceptorV${VERSION}
      WHERE
        url = ?
        AND method = ?
      ORDER BY
        deleteAt ASC
    `),this.#updateValueQuery=this.#db.prepare(`
      UPDATE cacheInterceptorV${VERSION} SET
        body = ?,
        deleteAt = ?,
        statusCode = ?,
        statusMessage = ?,
        headers = ?,
        etag = ?,
        cacheControlDirectives = ?,
        cachedAt = ?,
        staleAt = ?
      WHERE
        id = ?
    `),this.#insertValueQuery=this.#db.prepare(`
      INSERT INTO cacheInterceptorV${VERSION} (
        url,
        method,
        body,
        deleteAt,
        statusCode,
        statusMessage,
        headers,
        etag,
        cacheControlDirectives,
        vary,
        cachedAt,
        staleAt
      ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `),this.#deleteByUrlQuery=this.#db.prepare(`DELETE FROM cacheInterceptorV${VERSION} WHERE url = ?`),this.#countEntriesQuery=this.#db.prepare(`SELECT COUNT(*) AS total FROM cacheInterceptorV${VERSION}`),this.#deleteExpiredValuesQuery=this.#db.prepare(`DELETE FROM cacheInterceptorV${VERSION} WHERE deleteAt <= ?`),this.#deleteOldValuesQuery=this.#maxCount===1/0?null:this.#db.prepare(`
        DELETE FROM cacheInterceptorV${VERSION}
        WHERE id IN (
          SELECT
            id
          FROM cacheInterceptorV${VERSION}
          ORDER BY cachedAt DESC
          LIMIT ?
        )
      `)}close(){this.#db.close()}get(key){assertCacheKey(key);let value=this.#findValue(key);return value?{body:value.body?Buffer.from(value.body.buffer,value.body.byteOffset,value.body.byteLength):void 0,statusCode:value.statusCode,statusMessage:value.statusMessage,headers:value.headers?JSON.parse(value.headers):void 0,etag:value.etag?value.etag:void 0,vary:value.vary?JSON.parse(value.vary):void 0,cacheControlDirectives:value.cacheControlDirectives?JSON.parse(value.cacheControlDirectives):void 0,cachedAt:value.cachedAt,staleAt:value.staleAt,deleteAt:value.deleteAt}:void 0}set(key,value){assertCacheKey(key);let url=this.#makeValueUrl(key),body=Array.isArray(value.body)?Buffer.concat(value.body):value.body,size=body?.byteLength;if(size&&size>this.#maxEntrySize)return;let existingValue=this.#findValue(key,!0);existingValue?this.#updateValueQuery.run(body,value.deleteAt,value.statusCode,value.statusMessage,value.headers?JSON.stringify(value.headers):null,value.etag?value.etag:null,value.cacheControlDirectives?JSON.stringify(value.cacheControlDirectives):null,value.cachedAt,value.staleAt,existingValue.id):(this.#prune(),this.#insertValueQuery.run(url,key.method,body,value.deleteAt,value.statusCode,value.statusMessage,value.headers?JSON.stringify(value.headers):null,value.etag?value.etag:null,value.cacheControlDirectives?JSON.stringify(value.cacheControlDirectives):null,value.vary?JSON.stringify(value.vary):null,value.cachedAt,value.staleAt))}createWriteStream(key,value){assertCacheKey(key),assertCacheValue(value);let size=0,body=[],store=this;return new Writable({decodeStrings:!0,write(chunk,encoding,callback){size+=chunk.byteLength,size<store.#maxEntrySize?body.push(chunk):this.destroy(),callback()},final(callback){store.set(key,{...value,body}),callback()}})}delete(key){if(typeof key!="object")throw new TypeError(`expected key to be object, got ${typeof key}`);this.#deleteByUrlQuery.run(this.#makeValueUrl(key))}#prune(){if(Number.isFinite(this.#maxCount)&&this.size<=this.#maxCount)return 0;{let removed=this.#deleteExpiredValuesQuery.run(Date.now()).changes;if(removed)return removed}{let removed=this.#deleteOldValuesQuery?.run(Math.max(Math.floor(this.#maxCount*.1),1)).changes;if(removed)return removed}return 0}get size(){let{total}=this.#countEntriesQuery.get();return total}#makeValueUrl(key){return`${key.origin}/${key.path}`}#findValue(key,canBeExpired=!1){let url=this.#makeValueUrl(key),{headers,method}=key,values2=this.#getValuesQuery.all(url,method);if(values2.length===0)return;let now=Date.now();for(let value of values2){if(now>=value.deleteAt&&!canBeExpired)return;let matches=!0;if(value.vary){let vary=JSON.parse(value.vary);for(let header in vary)if(!headerValueEquals(headers[header],vary[header])){matches=!1;break}}if(matches)return value}}};function headerValueEquals(lhs,rhs){return lhs==null&&rhs==null?!0:lhs==null&&rhs!=null||lhs!=null&&rhs==null?!1:Array.isArray(lhs)&&Array.isArray(rhs)?lhs.length!==rhs.length?!1:lhs.every((x,i)=>x===rhs[i]):lhs===rhs}}});var require_headers=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/fetch/headers.js"(exports2,module2){"use strict";var{kConstruct}=require_symbols4(),{kEnumerableProperty}=require_util3(),{iteratorMixin,isValidHeaderName,isValidHeaderValue}=require_util4(),{webidl}=require_webidl(),assert2=require("node:assert"),util3=require("node:util");function isHTTPWhiteSpaceCharCode(code2){return code2===10||code2===13||code2===9||code2===32}function headerValueNormalize(potentialValue){let i=0,j=potentialValue.length;for(;j>i&&isHTTPWhiteSpaceCharCode(potentialValue.charCodeAt(j-1));)--j;for(;j>i&&isHTTPWhiteSpaceCharCode(potentialValue.charCodeAt(i));)++i;return i===0&&j===potentialValue.length?potentialValue:potentialValue.substring(i,j)}function fill(headers,object){if(Array.isArray(object))for(let i=0;i<object.length;++i){let header=object[i];if(header.length!==2)throw webidl.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${header.length}.`});appendHeader(headers,header[0],header[1])}else if(typeof object=="object"&&object!==null){let keys2=Object.keys(object);for(let i=0;i<keys2.length;++i)appendHeader(headers,keys2[i],object[keys2[i]])}else throw webidl.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}function appendHeader(headers,name,value){if(value=headerValueNormalize(value),isValidHeaderName(name)){if(!isValidHeaderValue(value))throw webidl.errors.invalidArgument({prefix:"Headers.append",value,type:"header value"})}else throw webidl.errors.invalidArgument({prefix:"Headers.append",value:name,type:"header name"});if(getHeadersGuard(headers)==="immutable")throw new TypeError("immutable");return getHeadersList(headers).append(name,value,!1)}function headersListSortAndCombine(target){let headersList=getHeadersList(target);if(!headersList)return[];if(headersList.sortedMap)return headersList.sortedMap;let headers=[],names=headersList.toSortedArray(),cookies=headersList.cookies;if(cookies===null||cookies.length===1)return headersList.sortedMap=names;for(let i=0;i<names.length;++i){let{0:name,1:value}=names[i];if(name==="set-cookie")for(let j=0;j<cookies.length;++j)headers.push([name,cookies[j]]);else headers.push([name,value])}return headersList.sortedMap=headers}function compareHeaderName(a,b){return a[0]<b[0]?-1:1}var HeadersList=class _HeadersList{cookies=null;sortedMap;headersMap;constructor(init){init instanceof _HeadersList?(this.headersMap=new Map(init.headersMap),this.sortedMap=init.sortedMap,this.cookies=init.cookies===null?null:[...init.cookies]):(this.headersMap=new Map(init),this.sortedMap=null)}contains(name,isLowerCase){return this.headersMap.has(isLowerCase?name:name.toLowerCase())}clear(){this.headersMap.clear(),this.sortedMap=null,this.cookies=null}append(name,value,isLowerCase){this.sortedMap=null;let lowercaseName=isLowerCase?name:name.toLowerCase(),exists=this.headersMap.get(lowercaseName);if(exists){let delimiter=lowercaseName==="cookie"?"; ":", ";this.headersMap.set(lowercaseName,{name:exists.name,value:`${exists.value}${delimiter}${value}`})}else this.headersMap.set(lowercaseName,{name,value});lowercaseName==="set-cookie"&&(this.cookies??=[]).push(value)}set(name,value,isLowerCase){this.sortedMap=null;let lowercaseName=isLowerCase?name:name.toLowerCase();lowercaseName==="set-cookie"&&(this.cookies=[value]),this.headersMap.set(lowercaseName,{name,value})}delete(name,isLowerCase){this.sortedMap=null,isLowerCase||(name=name.toLowerCase()),name==="set-cookie"&&(this.cookies=null),this.headersMap.delete(name)}get(name,isLowerCase){return this.headersMap.get(isLowerCase?name:name.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:name,1:{value}}of this.headersMap)yield[name,value]}get entries(){let headers={};if(this.headersMap.size!==0)for(let{name,value}of this.headersMap.values())headers[name]=value;return headers}rawValues(){return this.headersMap.values()}get entriesList(){let headers=[];if(this.headersMap.size!==0)for(let{0:lowerName,1:{name,value}}of this.headersMap)if(lowerName==="set-cookie")for(let cookie of this.cookies)headers.push([name,cookie]);else headers.push([name,value]);return headers}toSortedArray(){let size=this.headersMap.size,array=new Array(size);if(size<=32){if(size===0)return array;let iterator=this.headersMap[Symbol.iterator](),firstValue=iterator.next().value;array[0]=[firstValue[0],firstValue[1].value],assert2(firstValue[1].value!==null);for(let i=1,j=0,right=0,left=0,pivot=0,x,value;i<size;++i){for(value=iterator.next().value,x=array[i]=[value[0],value[1].value],assert2(x[1]!==null),left=0,right=i;left<right;)pivot=left+(right-left>>1),array[pivot][0]<=x[0]?left=pivot+1:right=pivot;if(i!==pivot){for(j=i;j>left;)array[j]=array[--j];array[left]=x}}if(!iterator.next().done)throw new TypeError("Unreachable");return array}else{let i=0;for(let{0:name,1:{value}}of this.headersMap)array[i++]=[name,value],assert2(value!==null);return array.sort(compareHeaderName)}}},Headers2=class _Headers{#guard;#headersList;constructor(init=void 0){webidl.util.markAsUncloneable(this),init!==kConstruct&&(this.#headersList=new HeadersList,this.#guard="none",init!==void 0&&(init=webidl.converters.HeadersInit(init,"Headers constructor","init"),fill(this,init)))}append(name,value){webidl.brandCheck(this,_Headers),webidl.argumentLengthCheck(arguments,2,"Headers.append");let prefix="Headers.append";return name=webidl.converters.ByteString(name,prefix,"name"),value=webidl.converters.ByteString(value,prefix,"value"),appendHeader(this,name,value)}delete(name){if(webidl.brandCheck(this,_Headers),webidl.argumentLengthCheck(arguments,1,"Headers.delete"),name=webidl.converters.ByteString(name,"Headers.delete","name"),!isValidHeaderName(name))throw webidl.errors.invalidArgument({prefix:"Headers.delete",value:name,type:"header name"});if(this.#guard==="immutable")throw new TypeError("immutable");this.#headersList.contains(name,!1)&&this.#headersList.delete(name,!1)}get(name){webidl.brandCheck(this,_Headers),webidl.argumentLengthCheck(arguments,1,"Headers.get");let prefix="Headers.get";if(name=webidl.converters.ByteString(name,prefix,"name"),!isValidHeaderName(name))throw webidl.errors.invalidArgument({prefix,value:name,type:"header name"});return this.#headersList.get(name,!1)}has(name){webidl.brandCheck(this,_Headers),webidl.argumentLengthCheck(arguments,1,"Headers.has");let prefix="Headers.has";if(name=webidl.converters.ByteString(name,prefix,"name"),!isValidHeaderName(name))throw webidl.errors.invalidArgument({prefix,value:name,type:"header name"});return this.#headersList.contains(name,!1)}set(name,value){webidl.brandCheck(this,_Headers),webidl.argumentLengthCheck(arguments,2,"Headers.set");let prefix="Headers.set";if(name=webidl.converters.ByteString(name,prefix,"name"),value=webidl.converters.ByteString(value,prefix,"value"),value=headerValueNormalize(value),isValidHeaderName(name)){if(!isValidHeaderValue(value))throw webidl.errors.invalidArgument({prefix,value,type:"header value"})}else throw webidl.errors.invalidArgument({prefix,value:name,type:"header name"});if(this.#guard==="immutable")throw new TypeError("immutable");this.#headersList.set(name,value,!1)}getSetCookie(){webidl.brandCheck(this,_Headers);let list2=this.#headersList.cookies;return list2?[...list2]:[]}[util3.inspect.custom](depth,options2){return options2.depth??=depth,`Headers ${util3.formatWithOptions(options2,this.#headersList.entries)}`}static getHeadersGuard(o){return o.#guard}static setHeadersGuard(o,guard){o.#guard=guard}static getHeadersList(o){return o.#headersList}static setHeadersList(target,list2){target.#headersList=list2}},{getHeadersGuard,setHeadersGuard,getHeadersList,setHeadersList}=Headers2;Reflect.deleteProperty(Headers2,"getHeadersGuard");Reflect.deleteProperty(Headers2,"setHeadersGuard");Reflect.deleteProperty(Headers2,"getHeadersList");Reflect.deleteProperty(Headers2,"setHeadersList");iteratorMixin("Headers",Headers2,headersListSortAndCombine,0,1);Object.defineProperties(Headers2.prototype,{append:kEnumerableProperty,delete:kEnumerableProperty,get:kEnumerableProperty,has:kEnumerableProperty,set:kEnumerableProperty,getSetCookie:kEnumerableProperty,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[util3.inspect.custom]:{enumerable:!1}});webidl.converters.HeadersInit=function(V,prefix,argument){if(webidl.util.Type(V)===webidl.util.Types.OBJECT){let iterator=Reflect.get(V,Symbol.iterator);if(!util3.types.isProxy(V)&&iterator===Headers2.prototype.entries)try{return getHeadersList(V).entriesList}catch{}return typeof iterator=="function"?webidl.converters["sequence<sequence<ByteString>>"](V,prefix,argument,iterator.bind(V)):webidl.converters["record<ByteString, ByteString>"](V,prefix,argument)}throw webidl.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};module2.exports={fill,compareHeaderName,Headers:Headers2,HeadersList,getHeadersGuard,setHeadersGuard,setHeadersList,getHeadersList}}});var require_response2=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/fetch/response.js"(exports2,module2){"use strict";var{Headers:Headers2,HeadersList,fill,getHeadersGuard,setHeadersGuard,setHeadersList}=require_headers(),{extractBody,cloneBody,mixinBody,streamRegistry,bodyUnusable}=require_body(),util3=require_util3(),nodeUtil=require("node:util"),{kEnumerableProperty}=util3,{isValidReasonPhrase,isCancelled,isAborted:isAborted2,serializeJavascriptValueToJSONString,isErrorLike,isomorphicEncode,environmentSettingsObject:relevantRealm}=require_util4(),{redirectStatusSet,nullBodyStatus}=require_constants6(),{webidl}=require_webidl(),{URLSerializer}=require_data_url(),{kConstruct}=require_symbols4(),assert2=require("node:assert"),textEncoder=new TextEncoder("utf-8"),Response2=class _Response{#headers;#state;static error(){return fromInnerResponse(makeNetworkError(),"immutable")}static json(data,init=void 0){webidl.argumentLengthCheck(arguments,1,"Response.json"),init!==null&&(init=webidl.converters.ResponseInit(init));let bytes=textEncoder.encode(serializeJavascriptValueToJSONString(data)),body=extractBody(bytes),responseObject=fromInnerResponse(makeResponse({}),"response");return initializeResponse(responseObject,init,{body:body[0],type:"application/json"}),responseObject}static redirect(url,status=302){webidl.argumentLengthCheck(arguments,1,"Response.redirect"),url=webidl.converters.USVString(url),status=webidl.converters["unsigned short"](status);let parsedURL;try{parsedURL=new URL(url,relevantRealm.settingsObject.baseUrl)}catch(err){throw new TypeError(`Failed to parse URL from ${url}`,{cause:err})}if(!redirectStatusSet.has(status))throw new RangeError(`Invalid status code ${status}`);let responseObject=fromInnerResponse(makeResponse({}),"immutable");responseObject.#state.status=status;let value=isomorphicEncode(URLSerializer(parsedURL));return responseObject.#state.headersList.append("location",value,!0),responseObject}constructor(body=null,init=void 0){if(webidl.util.markAsUncloneable(this),body===kConstruct)return;body!==null&&(body=webidl.converters.BodyInit(body,"Response","body")),init=webidl.converters.ResponseInit(init),this.#state=makeResponse({}),this.#headers=new Headers2(kConstruct),setHeadersGuard(this.#headers,"response"),setHeadersList(this.#headers,this.#state.headersList);let bodyWithType=null;if(body!=null){let[extractedBody,type]=extractBody(body);bodyWithType={body:extractedBody,type}}initializeResponse(this,init,bodyWithType)}get type(){return webidl.brandCheck(this,_Response),this.#state.type}get url(){webidl.brandCheck(this,_Response);let urlList=this.#state.urlList,url=urlList[urlList.length-1]??null;return url===null?"":URLSerializer(url,!0)}get redirected(){return webidl.brandCheck(this,_Response),this.#state.urlList.length>1}get status(){return webidl.brandCheck(this,_Response),this.#state.status}get ok(){return webidl.brandCheck(this,_Response),this.#state.status>=200&&this.#state.status<=299}get statusText(){return webidl.brandCheck(this,_Response),this.#state.statusText}get headers(){return webidl.brandCheck(this,_Response),this.#headers}get body(){return webidl.brandCheck(this,_Response),this.#state.body?this.#state.body.stream:null}get bodyUsed(){return webidl.brandCheck(this,_Response),!!this.#state.body&&util3.isDisturbed(this.#state.body.stream)}clone(){if(webidl.brandCheck(this,_Response),bodyUnusable(this.#state))throw webidl.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let clonedResponse=cloneResponse(this.#state);return this.#state.body?.stream&&streamRegistry.register(this,new WeakRef(this.#state.body.stream)),fromInnerResponse(clonedResponse,getHeadersGuard(this.#headers))}[nodeUtil.inspect.custom](depth,options2){options2.depth===null&&(options2.depth=2),options2.colors??=!0;let properties={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${nodeUtil.formatWithOptions(options2,properties)}`}static getResponseHeaders(response){return response.#headers}static setResponseHeaders(response,newHeaders){response.#headers=newHeaders}static getResponseState(response){return response.#state}static setResponseState(response,newState){response.#state=newState}},{getResponseHeaders,setResponseHeaders,getResponseState,setResponseState}=Response2;Reflect.deleteProperty(Response2,"getResponseHeaders");Reflect.deleteProperty(Response2,"setResponseHeaders");Reflect.deleteProperty(Response2,"getResponseState");Reflect.deleteProperty(Response2,"setResponseState");mixinBody(Response2,getResponseState);Object.defineProperties(Response2.prototype,{type:kEnumerableProperty,url:kEnumerableProperty,status:kEnumerableProperty,ok:kEnumerableProperty,redirected:kEnumerableProperty,statusText:kEnumerableProperty,headers:kEnumerableProperty,clone:kEnumerableProperty,body:kEnumerableProperty,bodyUsed:kEnumerableProperty,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(Response2,{json:kEnumerableProperty,redirect:kEnumerableProperty,error:kEnumerableProperty});function cloneResponse(response){if(response.internalResponse)return filterResponse(cloneResponse(response.internalResponse),response.type);let newResponse=makeResponse({...response,body:null});return response.body!=null&&(newResponse.body=cloneBody(response.body)),newResponse}function makeResponse(init){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...init,headersList:init?.headersList?new HeadersList(init?.headersList):new HeadersList,urlList:init?.urlList?[...init.urlList]:[]}}function makeNetworkError(reason){let isError=isErrorLike(reason);return makeResponse({type:"error",status:0,error:isError?reason:new Error(reason&&String(reason)),aborted:reason&&reason.name==="AbortError"})}function isNetworkError(response){return response.type==="error"&&response.status===0}function makeFilteredResponse(response,state){return state={internalResponse:response,...state},new Proxy(response,{get(target,p){return p in state?state[p]:target[p]},set(target,p,value){return assert2(!(p in state)),target[p]=value,!0}})}function filterResponse(response,type){if(type==="basic")return makeFilteredResponse(response,{type:"basic",headersList:response.headersList});if(type==="cors")return makeFilteredResponse(response,{type:"cors",headersList:response.headersList});if(type==="opaque")return makeFilteredResponse(response,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});if(type==="opaqueredirect")return makeFilteredResponse(response,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});assert2(!1)}function makeAppropriateNetworkError(fetchParams,err=null){return assert2(isCancelled(fetchParams)),isAborted2(fetchParams)?makeNetworkError(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:err})):makeNetworkError(Object.assign(new DOMException("Request was cancelled."),{cause:err}))}function initializeResponse(response,init,body){if(init.status!==null&&(init.status<200||init.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in init&&init.statusText!=null&&!isValidReasonPhrase(String(init.statusText)))throw new TypeError("Invalid statusText");if("status"in init&&init.status!=null&&(getResponseState(response).status=init.status),"statusText"in init&&init.statusText!=null&&(getResponseState(response).statusText=init.statusText),"headers"in init&&init.headers!=null&&fill(getResponseHeaders(response),init.headers),body){if(nullBodyStatus.includes(response.status))throw webidl.errors.exception({header:"Response constructor",message:`Invalid response status code ${response.status}`});getResponseState(response).body=body.body,body.type!=null&&!getResponseState(response).headersList.contains("content-type",!0)&&getResponseState(response).headersList.append("content-type",body.type,!0)}}function fromInnerResponse(innerResponse,guard){let response=new Response2(kConstruct);setResponseState(response,innerResponse);let headers=new Headers2(kConstruct);return setResponseHeaders(response,headers),setHeadersList(headers,innerResponse.headersList),setHeadersGuard(headers,guard),innerResponse.body?.stream&&streamRegistry.register(response,new WeakRef(innerResponse.body.stream)),response}webidl.converters.XMLHttpRequestBodyInit=function(V,prefix,name){return typeof V=="string"?webidl.converters.USVString(V,prefix,name):webidl.is.Blob(V)||webidl.is.BufferSource(V)||webidl.is.FormData(V)||webidl.is.URLSearchParams(V)?V:webidl.converters.DOMString(V,prefix,name)};webidl.converters.BodyInit=function(V,prefix,argument){return webidl.is.ReadableStream(V)||V?.[Symbol.asyncIterator]?V:webidl.converters.XMLHttpRequestBodyInit(V,prefix,argument)};webidl.converters.ResponseInit=webidl.dictionaryConverter([{key:"status",converter:webidl.converters["unsigned short"],defaultValue:()=>200},{key:"statusText",converter:webidl.converters.ByteString,defaultValue:()=>""},{key:"headers",converter:webidl.converters.HeadersInit}]);webidl.is.Response=webidl.util.MakeTypeAssertion(Response2);module2.exports={isNetworkError,makeNetworkError,makeResponse,makeAppropriateNetworkError,filterResponse,Response:Response2,cloneResponse,fromInnerResponse,getResponseState}}});var require_request4=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/fetch/request.js"(exports2,module2){"use strict";var{extractBody,mixinBody,cloneBody,bodyUnusable}=require_body(),{Headers:Headers2,fill:fillHeaders,HeadersList,setHeadersGuard,getHeadersGuard,setHeadersList,getHeadersList}=require_headers(),util3=require_util3(),nodeUtil=require("node:util"),{isValidHTTPToken,sameOrigin,environmentSettingsObject}=require_util4(),{forbiddenMethodsSet,corsSafeListedMethodsSet,referrerPolicy,requestRedirect,requestMode,requestCredentials,requestCache,requestDuplex}=require_constants6(),{kEnumerableProperty,normalizedMethodRecordsBase,normalizedMethodRecords}=util3,{webidl}=require_webidl(),{URLSerializer}=require_data_url(),{kConstruct}=require_symbols4(),assert2=require("node:assert"),{getMaxListeners,setMaxListeners,defaultMaxListeners}=require("node:events"),kAbortController=Symbol("abortController"),requestFinalizer=new FinalizationRegistry(({signal,abort})=>{signal.removeEventListener("abort",abort)}),dependentControllerMap=new WeakMap,abortSignalHasEventHandlerLeakWarning;try{abortSignalHasEventHandlerLeakWarning=getMaxListeners(new AbortController().signal)>0}catch{abortSignalHasEventHandlerLeakWarning=!1}function buildAbort(acRef){return abort;function abort(){let ac=acRef.deref();if(ac!==void 0){requestFinalizer.unregister(abort),this.removeEventListener("abort",abort),ac.abort(this.reason);let controllerList=dependentControllerMap.get(ac.signal);if(controllerList!==void 0){if(controllerList.size!==0){for(let ref of controllerList){let ctrl=ref.deref();ctrl!==void 0&&ctrl.abort(this.reason)}controllerList.clear()}dependentControllerMap.delete(ac.signal)}}}}var patchMethodWarning=!1,Request=class _Request{#signal;#dispatcher;#headers;#state;constructor(input,init=void 0){if(webidl.util.markAsUncloneable(this),input===kConstruct)return;webidl.argumentLengthCheck(arguments,1,"Request constructor"),input=webidl.converters.RequestInfo(input),init=webidl.converters.RequestInit(init);let request2=null,fallbackMode=null,baseUrl=environmentSettingsObject.settingsObject.baseUrl,signal=null;if(typeof input=="string"){this.#dispatcher=init.dispatcher;let parsedURL;try{parsedURL=new URL(input,baseUrl)}catch(err){throw new TypeError("Failed to parse URL from "+input,{cause:err})}if(parsedURL.username||parsedURL.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+input);request2=makeRequest({urlList:[parsedURL]}),fallbackMode="cors"}else assert2(webidl.is.Request(input)),request2=input.#state,signal=input.#signal,this.#dispatcher=init.dispatcher||input.#dispatcher;let origin=environmentSettingsObject.settingsObject.origin,window2="client";if(request2.window?.constructor?.name==="EnvironmentSettingsObject"&&sameOrigin(request2.window,origin)&&(window2=request2.window),init.window!=null)throw new TypeError(`'window' option '${window2}' must be null`);"window"in init&&(window2="no-window"),request2=makeRequest({method:request2.method,headersList:request2.headersList,unsafeRequest:request2.unsafeRequest,client:environmentSettingsObject.settingsObject,window:window2,priority:request2.priority,origin:request2.origin,referrer:request2.referrer,referrerPolicy:request2.referrerPolicy,mode:request2.mode,credentials:request2.credentials,cache:request2.cache,redirect:request2.redirect,integrity:request2.integrity,keepalive:request2.keepalive,reloadNavigation:request2.reloadNavigation,historyNavigation:request2.historyNavigation,urlList:[...request2.urlList]});let initHasKey=Object.keys(init).length!==0;if(initHasKey&&(request2.mode==="navigate"&&(request2.mode="same-origin"),request2.reloadNavigation=!1,request2.historyNavigation=!1,request2.origin="client",request2.referrer="client",request2.referrerPolicy="",request2.url=request2.urlList[request2.urlList.length-1],request2.urlList=[request2.url]),init.referrer!==void 0){let referrer=init.referrer;if(referrer==="")request2.referrer="no-referrer";else{let parsedReferrer;try{parsedReferrer=new URL(referrer,baseUrl)}catch(err){throw new TypeError(`Referrer "${referrer}" is not a valid URL.`,{cause:err})}parsedReferrer.protocol==="about:"&&parsedReferrer.hostname==="client"||origin&&!sameOrigin(parsedReferrer,environmentSettingsObject.settingsObject.baseUrl)?request2.referrer="client":request2.referrer=parsedReferrer}}init.referrerPolicy!==void 0&&(request2.referrerPolicy=init.referrerPolicy);let mode;if(init.mode!==void 0?mode=init.mode:mode=fallbackMode,mode==="navigate")throw webidl.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(mode!=null&&(request2.mode=mode),init.credentials!==void 0&&(request2.credentials=init.credentials),init.cache!==void 0&&(request2.cache=init.cache),request2.cache==="only-if-cached"&&request2.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(init.redirect!==void 0&&(request2.redirect=init.redirect),init.integrity!=null&&(request2.integrity=String(init.integrity)),init.keepalive!==void 0&&(request2.keepalive=!!init.keepalive),init.method!==void 0){let method=init.method,mayBeNormalized=normalizedMethodRecords[method];if(mayBeNormalized!==void 0)request2.method=mayBeNormalized;else{if(!isValidHTTPToken(method))throw new TypeError(`'${method}' is not a valid HTTP method.`);let upperCase=method.toUpperCase();if(forbiddenMethodsSet.has(upperCase))throw new TypeError(`'${method}' HTTP method is unsupported.`);method=normalizedMethodRecordsBase[upperCase]??method,request2.method=method}!patchMethodWarning&&request2.method==="patch"&&(process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),patchMethodWarning=!0)}init.signal!==void 0&&(signal=init.signal),this.#state=request2;let ac=new AbortController;if(this.#signal=ac.signal,signal!=null)if(signal.aborted)ac.abort(signal.reason);else{this[kAbortController]=ac;let acRef=new WeakRef(ac),abort=buildAbort(acRef);abortSignalHasEventHandlerLeakWarning&&getMaxListeners(signal)===defaultMaxListeners&&setMaxListeners(1500,signal),util3.addAbortListener(signal,abort),requestFinalizer.register(ac,{signal,abort},abort)}if(this.#headers=new Headers2(kConstruct),setHeadersList(this.#headers,request2.headersList),setHeadersGuard(this.#headers,"request"),mode==="no-cors"){if(!corsSafeListedMethodsSet.has(request2.method))throw new TypeError(`'${request2.method} is unsupported in no-cors mode.`);setHeadersGuard(this.#headers,"request-no-cors")}if(initHasKey){let headersList=getHeadersList(this.#headers),headers=init.headers!==void 0?init.headers:new HeadersList(headersList);if(headersList.clear(),headers instanceof HeadersList){for(let{name,value}of headers.rawValues())headersList.append(name,value,!1);headersList.cookies=headers.cookies}else fillHeaders(this.#headers,headers)}let inputBody=webidl.is.Request(input)?input.#state.body:null;if((init.body!=null||inputBody!=null)&&(request2.method==="GET"||request2.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let initBody=null;if(init.body!=null){let[extractedBody,contentType]=extractBody(init.body,request2.keepalive);initBody=extractedBody,contentType&&!getHeadersList(this.#headers).contains("content-type",!0)&&this.#headers.append("content-type",contentType,!0)}let inputOrInitBody=initBody??inputBody;if(inputOrInitBody!=null&&inputOrInitBody.source==null){if(initBody!=null&&init.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(request2.mode!=="same-origin"&&request2.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');request2.useCORSPreflightFlag=!0}let finalBody=inputOrInitBody;if(initBody==null&&inputBody!=null){if(bodyUnusable(input.#state))throw new TypeError("Cannot construct a Request with a Request object that has already been used.");let identityTransform=new TransformStream;inputBody.stream.pipeThrough(identityTransform),finalBody={source:inputBody.source,length:inputBody.length,stream:identityTransform.readable}}this.#state.body=finalBody}get method(){return webidl.brandCheck(this,_Request),this.#state.method}get url(){return webidl.brandCheck(this,_Request),URLSerializer(this.#state.url)}get headers(){return webidl.brandCheck(this,_Request),this.#headers}get destination(){return webidl.brandCheck(this,_Request),this.#state.destination}get referrer(){return webidl.brandCheck(this,_Request),this.#state.referrer==="no-referrer"?"":this.#state.referrer==="client"?"about:client":this.#state.referrer.toString()}get referrerPolicy(){return webidl.brandCheck(this,_Request),this.#state.referrerPolicy}get mode(){return webidl.brandCheck(this,_Request),this.#state.mode}get credentials(){return webidl.brandCheck(this,_Request),this.#state.credentials}get cache(){return webidl.brandCheck(this,_Request),this.#state.cache}get redirect(){return webidl.brandCheck(this,_Request),this.#state.redirect}get integrity(){return webidl.brandCheck(this,_Request),this.#state.integrity}get keepalive(){return webidl.brandCheck(this,_Request),this.#state.keepalive}get isReloadNavigation(){return webidl.brandCheck(this,_Request),this.#state.reloadNavigation}get isHistoryNavigation(){return webidl.brandCheck(this,_Request),this.#state.historyNavigation}get signal(){return webidl.brandCheck(this,_Request),this.#signal}get body(){return webidl.brandCheck(this,_Request),this.#state.body?this.#state.body.stream:null}get bodyUsed(){return webidl.brandCheck(this,_Request),!!this.#state.body&&util3.isDisturbed(this.#state.body.stream)}get duplex(){return webidl.brandCheck(this,_Request),"half"}clone(){if(webidl.brandCheck(this,_Request),bodyUnusable(this.#state))throw new TypeError("unusable");let clonedRequest=cloneRequest(this.#state),ac=new AbortController;if(this.signal.aborted)ac.abort(this.signal.reason);else{let list2=dependentControllerMap.get(this.signal);list2===void 0&&(list2=new Set,dependentControllerMap.set(this.signal,list2));let acRef=new WeakRef(ac);list2.add(acRef),util3.addAbortListener(ac.signal,buildAbort(acRef))}return fromInnerRequest(clonedRequest,this.#dispatcher,ac.signal,getHeadersGuard(this.#headers))}[nodeUtil.inspect.custom](depth,options2){options2.depth===null&&(options2.depth=2),options2.colors??=!0;let properties={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${nodeUtil.formatWithOptions(options2,properties)}`}static setRequestSignal(request2,newSignal){return request2.#signal=newSignal,request2}static getRequestDispatcher(request2){return request2.#dispatcher}static setRequestDispatcher(request2,newDispatcher){request2.#dispatcher=newDispatcher}static setRequestHeaders(request2,newHeaders){request2.#headers=newHeaders}static getRequestState(request2){return request2.#state}static setRequestState(request2,newState){request2.#state=newState}},{setRequestSignal,getRequestDispatcher,setRequestDispatcher,setRequestHeaders,getRequestState,setRequestState}=Request;Reflect.deleteProperty(Request,"setRequestSignal");Reflect.deleteProperty(Request,"getRequestDispatcher");Reflect.deleteProperty(Request,"setRequestDispatcher");Reflect.deleteProperty(Request,"setRequestHeaders");Reflect.deleteProperty(Request,"getRequestState");Reflect.deleteProperty(Request,"setRequestState");mixinBody(Request,getRequestState);function makeRequest(init){return{method:init.method??"GET",localURLsOnly:init.localURLsOnly??!1,unsafeRequest:init.unsafeRequest??!1,body:init.body??null,client:init.client??null,reservedClient:init.reservedClient??null,replacesClientId:init.replacesClientId??"",window:init.window??"client",keepalive:init.keepalive??!1,serviceWorkers:init.serviceWorkers??"all",initiator:init.initiator??"",destination:init.destination??"",priority:init.priority??null,origin:init.origin??"client",policyContainer:init.policyContainer??"client",referrer:init.referrer??"client",referrerPolicy:init.referrerPolicy??"",mode:init.mode??"no-cors",useCORSPreflightFlag:init.useCORSPreflightFlag??!1,credentials:init.credentials??"same-origin",useCredentials:init.useCredentials??!1,cache:init.cache??"default",redirect:init.redirect??"follow",integrity:init.integrity??"",cryptoGraphicsNonceMetadata:init.cryptoGraphicsNonceMetadata??"",parserMetadata:init.parserMetadata??"",reloadNavigation:init.reloadNavigation??!1,historyNavigation:init.historyNavigation??!1,userActivation:init.userActivation??!1,taintedOrigin:init.taintedOrigin??!1,redirectCount:init.redirectCount??0,responseTainting:init.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:init.preventNoCacheCacheControlHeaderModification??!1,done:init.done??!1,timingAllowFailed:init.timingAllowFailed??!1,urlList:init.urlList,url:init.urlList[0],headersList:init.headersList?new HeadersList(init.headersList):new HeadersList}}function cloneRequest(request2){let newRequest=makeRequest({...request2,body:null});return request2.body!=null&&(newRequest.body=cloneBody(request2.body)),newRequest}function fromInnerRequest(innerRequest,dispatcher,signal,guard){let request2=new Request(kConstruct);setRequestState(request2,innerRequest),setRequestDispatcher(request2,dispatcher),setRequestSignal(request2,signal);let headers=new Headers2(kConstruct);return setRequestHeaders(request2,headers),setHeadersList(headers,innerRequest.headersList),setHeadersGuard(headers,guard),request2}Object.defineProperties(Request.prototype,{method:kEnumerableProperty,url:kEnumerableProperty,headers:kEnumerableProperty,redirect:kEnumerableProperty,clone:kEnumerableProperty,signal:kEnumerableProperty,duplex:kEnumerableProperty,destination:kEnumerableProperty,body:kEnumerableProperty,bodyUsed:kEnumerableProperty,isHistoryNavigation:kEnumerableProperty,isReloadNavigation:kEnumerableProperty,keepalive:kEnumerableProperty,integrity:kEnumerableProperty,cache:kEnumerableProperty,credentials:kEnumerableProperty,attribute:kEnumerableProperty,referrerPolicy:kEnumerableProperty,referrer:kEnumerableProperty,mode:kEnumerableProperty,[Symbol.toStringTag]:{value:"Request",configurable:!0}});webidl.is.Request=webidl.util.MakeTypeAssertion(Request);webidl.converters.RequestInfo=function(V){return typeof V=="string"?webidl.converters.USVString(V):webidl.is.Request(V)?V:webidl.converters.USVString(V)};webidl.converters.RequestInit=webidl.dictionaryConverter([{key:"method",converter:webidl.converters.ByteString},{key:"headers",converter:webidl.converters.HeadersInit},{key:"body",converter:webidl.nullableConverter(webidl.converters.BodyInit)},{key:"referrer",converter:webidl.converters.USVString},{key:"referrerPolicy",converter:webidl.converters.DOMString,allowedValues:referrerPolicy},{key:"mode",converter:webidl.converters.DOMString,allowedValues:requestMode},{key:"credentials",converter:webidl.converters.DOMString,allowedValues:requestCredentials},{key:"cache",converter:webidl.converters.DOMString,allowedValues:requestCache},{key:"redirect",converter:webidl.converters.DOMString,allowedValues:requestRedirect},{key:"integrity",converter:webidl.converters.DOMString},{key:"keepalive",converter:webidl.converters.boolean},{key:"signal",converter:webidl.nullableConverter(signal=>webidl.converters.AbortSignal(signal,"RequestInit","signal"))},{key:"window",converter:webidl.converters.any},{key:"duplex",converter:webidl.converters.DOMString,allowedValues:requestDuplex},{key:"dispatcher",converter:webidl.converters.any}]);module2.exports={Request,makeRequest,fromInnerRequest,cloneRequest,getRequestDispatcher,getRequestState}}});var require_subresource_integrity=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/subresource-integrity/subresource-integrity.js"(exports2,module2){"use strict";var assert2=require("node:assert"),validSRIHashAlgorithmTokenSet=new Map([["sha256",0],["sha384",1],["sha512",2]]),crypto2;try{crypto2=require("node:crypto");let cryptoHashes=crypto2.getHashes();cryptoHashes.length===0&&validSRIHashAlgorithmTokenSet.clear();for(let algorithm of validSRIHashAlgorithmTokenSet.keys())cryptoHashes.includes(algorithm)===!1&&validSRIHashAlgorithmTokenSet.delete(algorithm)}catch{validSRIHashAlgorithmTokenSet.clear()}var getSRIHashAlgorithmIndex=Map.prototype.get.bind(validSRIHashAlgorithmTokenSet),isValidSRIHashAlgorithm=Map.prototype.has.bind(validSRIHashAlgorithmTokenSet),bytesMatch=crypto2===void 0||validSRIHashAlgorithmTokenSet.size===0?()=>!0:(bytes,metadataList)=>{let parsedMetadata=parseMetadata(metadataList);if(parsedMetadata.length===0)return!0;let metadata=getStrongestMetadata(parsedMetadata);for(let item of metadata){let algorithm=item.alg,expectedValue=item.val,actualValue=applyAlgorithmToBytes(algorithm,bytes);if(caseSensitiveMatch(actualValue,expectedValue))return!0}return!1};function getStrongestMetadata(metadataList){let result=[],strongest=null;for(let item of metadataList){if(assert2(isValidSRIHashAlgorithm(item.alg),"Invalid SRI hash algorithm token"),result.length===0){result.push(item),strongest=item;continue}let currentAlgorithm=strongest.alg,currentAlgorithmIndex=getSRIHashAlgorithmIndex(currentAlgorithm),newAlgorithm=item.alg,newAlgorithmIndex=getSRIHashAlgorithmIndex(newAlgorithm);newAlgorithmIndex<currentAlgorithmIndex||(newAlgorithmIndex>currentAlgorithmIndex?(strongest=item,result[0]=item,result.length=1):result.push(item))}return result}function parseMetadata(metadata){let result=[];for(let item of metadata.split(" ")){let algorithmExpression=item.split("?",1)[0],base64Value="",algorithmAndValue=[algorithmExpression.slice(0,6),algorithmExpression.slice(7)],algorithm=algorithmAndValue[0];if(!isValidSRIHashAlgorithm(algorithm))continue;algorithmAndValue[1]&&(base64Value=algorithmAndValue[1]);let metadata2={alg:algorithm,val:base64Value};result.push(metadata2)}return result}var applyAlgorithmToBytes=(algorithm,bytes)=>crypto2.hash(algorithm,bytes,"base64");function caseSensitiveMatch(actualValue,expectedValue){let actualValueLength=actualValue.length;actualValueLength!==0&&actualValue[actualValueLength-1]==="="&&(actualValueLength-=1),actualValueLength!==0&&actualValue[actualValueLength-1]==="="&&(actualValueLength-=1);let expectedValueLength=expectedValue.length;if(expectedValueLength!==0&&expectedValue[expectedValueLength-1]==="="&&(expectedValueLength-=1),expectedValueLength!==0&&expectedValue[expectedValueLength-1]==="="&&(expectedValueLength-=1),actualValueLength!==expectedValueLength)return!1;for(let i=0;i<actualValueLength;++i)if(!(actualValue[i]===expectedValue[i]||actualValue[i]==="+"&&expectedValue[i]==="-"||actualValue[i]==="/"&&expectedValue[i]==="_"))return!1;return!0}module2.exports={applyAlgorithmToBytes,bytesMatch,caseSensitiveMatch,isValidSRIHashAlgorithm,getStrongestMetadata,parseMetadata}}});var require_fetch=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/fetch/index.js"(exports2,module2){"use strict";var{makeNetworkError,makeAppropriateNetworkError,filterResponse,makeResponse,fromInnerResponse,getResponseState}=require_response2(),{HeadersList}=require_headers(),{Request,cloneRequest,getRequestDispatcher,getRequestState}=require_request4(),zlib2=require("node:zlib"),{makePolicyContainer,clonePolicyContainer,requestBadPort,TAOCheck,appendRequestOriginHeader,responseLocationURL,requestCurrentURL,setRequestReferrerPolicyOnRedirect,tryUpgradeRequestToAPotentiallyTrustworthyURL,createOpaqueTimingInfo,appendFetchMetadata,corsCheck,crossOriginResourcePolicyCheck,determineRequestsReferrer,coarsenedSharedCurrentTime,sameOrigin,isCancelled,isAborted:isAborted2,isErrorLike,fullyReadBody,readableStreamClose,isomorphicEncode,urlIsLocal,urlIsHttpHttpsScheme,urlHasHttpsScheme,clampAndCoarsenConnectionTimingInfo,simpleRangeHeaderValue,buildContentRange,createInflate,extractMimeType}=require_util4(),assert2=require("node:assert"),{safelyExtractBody,extractBody}=require_body(),{redirectStatusSet,nullBodyStatus,safeMethodsSet,requestBodyHeader,subresourceSet}=require_constants6(),EE=require("node:events"),{Readable,pipeline,finished,isErrored,isReadable}=require("node:stream"),{addAbortListener,bufferToLowerCasedHeaderName}=require_util3(),{dataURLProcessor,serializeAMimeType,minimizeSupportedMimeType}=require_data_url(),{getGlobalDispatcher}=require_global2(),{webidl}=require_webidl(),{STATUS_CODES}=require("node:http"),{bytesMatch}=require_subresource_integrity(),{createDeferredPromise}=require_promise2(),hasZstd=typeof zlib2.createZstdDecompress=="function",GET_OR_HEAD=["GET","HEAD"],defaultUserAgent=typeof __UNDICI_IS_NODE__<"u"||typeof esbuildDetection<"u"?"node":"undici",resolveObjectURL,Fetch=class extends EE{constructor(dispatcher){super(),this.dispatcher=dispatcher,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(reason){this.state==="ongoing"&&(this.state="terminated",this.connection?.destroy(reason),this.emit("terminated",reason))}abort(error){this.state==="ongoing"&&(this.state="aborted",error||(error=new DOMException("The operation was aborted.","AbortError")),this.serializedAbortReason=error,this.connection?.destroy(error),this.emit("terminated",error))}};function handleFetchDone(response){finalizeAndReportTiming(response,"fetch")}function fetch2(input,init=void 0){webidl.argumentLengthCheck(arguments,1,"globalThis.fetch");let p=createDeferredPromise(),requestObject;try{requestObject=new Request(input,init)}catch(e){return p.reject(e),p.promise}let request2=getRequestState(requestObject);if(requestObject.signal.aborted)return abortFetch(p,request2,null,requestObject.signal.reason),p.promise;request2.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope"&&(request2.serviceWorkers="none");let responseObject=null,locallyAborted=!1,controller=null;return addAbortListener(requestObject.signal,()=>{locallyAborted=!0,assert2(controller!=null),controller.abort(requestObject.signal.reason);let realResponse=responseObject?.deref();abortFetch(p,request2,realResponse,requestObject.signal.reason)}),controller=fetching({request:request2,processResponseEndOfBody:handleFetchDone,processResponse:response=>{if(!locallyAborted){if(response.aborted){abortFetch(p,request2,responseObject,controller.serializedAbortReason);return}if(response.type==="error"){p.reject(new TypeError("fetch failed",{cause:response.error}));return}responseObject=new WeakRef(fromInnerResponse(response,"immutable")),p.resolve(responseObject.deref()),p=null}},dispatcher:getRequestDispatcher(requestObject)}),p.promise}function finalizeAndReportTiming(response,initiatorType="other"){if(response.type==="error"&&response.aborted||!response.urlList?.length)return;let originalURL=response.urlList[0],timingInfo=response.timingInfo,cacheState=response.cacheState;urlIsHttpHttpsScheme(originalURL)&&timingInfo!==null&&(response.timingAllowPassed||(timingInfo=createOpaqueTimingInfo({startTime:timingInfo.startTime}),cacheState=""),timingInfo.endTime=coarsenedSharedCurrentTime(),response.timingInfo=timingInfo,markResourceTiming(timingInfo,originalURL.href,initiatorType,globalThis,cacheState,"",response.status))}var markResourceTiming=performance.markResourceTiming;function abortFetch(p,request2,responseObject,error){if(p&&p.reject(error),request2.body?.stream!=null&&isReadable(request2.body.stream)&&request2.body.stream.cancel(error).catch(err=>{if(err.code!=="ERR_INVALID_STATE")throw err}),responseObject==null)return;let response=getResponseState(responseObject);response.body?.stream!=null&&isReadable(response.body.stream)&&response.body.stream.cancel(error).catch(err=>{if(err.code!=="ERR_INVALID_STATE")throw err})}function fetching({request:request2,processRequestBodyChunkLength,processRequestEndOfBody,processResponse,processResponseEndOfBody,processResponseConsumeBody,useParallelQueue=!1,dispatcher=getGlobalDispatcher()}){assert2(dispatcher);let taskDestination=null,crossOriginIsolatedCapability=!1;request2.client!=null&&(taskDestination=request2.client.globalObject,crossOriginIsolatedCapability=request2.client.crossOriginIsolatedCapability);let currentTime=coarsenedSharedCurrentTime(crossOriginIsolatedCapability),timingInfo=createOpaqueTimingInfo({startTime:currentTime}),fetchParams={controller:new Fetch(dispatcher),request:request2,timingInfo,processRequestBodyChunkLength,processRequestEndOfBody,processResponse,processResponseConsumeBody,processResponseEndOfBody,taskDestination,crossOriginIsolatedCapability};return assert2(!request2.body||request2.body.stream),request2.window==="client"&&(request2.window=request2.client?.globalObject?.constructor?.name==="Window"?request2.client:"no-window"),request2.origin==="client"&&(request2.origin=request2.client.origin),request2.policyContainer==="client"&&(request2.client!=null?request2.policyContainer=clonePolicyContainer(request2.client.policyContainer):request2.policyContainer=makePolicyContainer()),request2.headersList.contains("accept",!0)||request2.headersList.append("accept","*/*",!0),request2.headersList.contains("accept-language",!0)||request2.headersList.append("accept-language","*",!0),request2.priority,subresourceSet.has(request2.destination),mainFetch(fetchParams,!1),fetchParams.controller}async function mainFetch(fetchParams,recursive){try{let request2=fetchParams.request,response=null;if(request2.localURLsOnly&&!urlIsLocal(requestCurrentURL(request2))&&(response=makeNetworkError("local URLs only")),tryUpgradeRequestToAPotentiallyTrustworthyURL(request2),requestBadPort(request2)==="blocked"&&(response=makeNetworkError("bad port")),request2.referrerPolicy===""&&(request2.referrerPolicy=request2.policyContainer.referrerPolicy),request2.referrer!=="no-referrer"&&(request2.referrer=determineRequestsReferrer(request2)),response===null){let currentURL=requestCurrentURL(request2);sameOrigin(currentURL,request2.url)&&request2.responseTainting==="basic"||currentURL.protocol==="data:"||request2.mode==="navigate"||request2.mode==="websocket"?(request2.responseTainting="basic",response=await schemeFetch(fetchParams)):request2.mode==="same-origin"?response=makeNetworkError('request mode cannot be "same-origin"'):request2.mode==="no-cors"?request2.redirect!=="follow"?response=makeNetworkError('redirect mode cannot be "follow" for "no-cors" request'):(request2.responseTainting="opaque",response=await schemeFetch(fetchParams)):urlIsHttpHttpsScheme(requestCurrentURL(request2))?(request2.responseTainting="cors",response=await httpFetch(fetchParams)):response=makeNetworkError("URL scheme must be a HTTP(S) scheme")}if(recursive)return response;response.status!==0&&!response.internalResponse&&(request2.responseTainting,request2.responseTainting==="basic"?response=filterResponse(response,"basic"):request2.responseTainting==="cors"?response=filterResponse(response,"cors"):request2.responseTainting==="opaque"?response=filterResponse(response,"opaque"):assert2(!1));let internalResponse=response.status===0?response:response.internalResponse;if(internalResponse.urlList.length===0&&internalResponse.urlList.push(...request2.urlList),request2.timingAllowFailed||(response.timingAllowPassed=!0),response.type==="opaque"&&internalResponse.status===206&&internalResponse.rangeRequested&&!request2.headers.contains("range",!0)&&(response=internalResponse=makeNetworkError()),response.status!==0&&(request2.method==="HEAD"||request2.method==="CONNECT"||nullBodyStatus.includes(internalResponse.status))&&(internalResponse.body=null,fetchParams.controller.dump=!0),request2.integrity){let processBodyError=reason=>fetchFinale(fetchParams,makeNetworkError(reason));if(request2.responseTainting==="opaque"||response.body==null){processBodyError(response.error);return}let processBody=bytes=>{if(!bytesMatch(bytes,request2.integrity)){processBodyError("integrity mismatch");return}response.body=safelyExtractBody(bytes)[0],fetchFinale(fetchParams,response)};fullyReadBody(response.body,processBody,processBodyError)}else fetchFinale(fetchParams,response)}catch(err){fetchParams.controller.terminate(err)}}function schemeFetch(fetchParams){if(isCancelled(fetchParams)&&fetchParams.request.redirectCount===0)return Promise.resolve(makeAppropriateNetworkError(fetchParams));let{request:request2}=fetchParams,{protocol:scheme}=requestCurrentURL(request2);switch(scheme){case"about:":return Promise.resolve(makeNetworkError("about scheme is not supported"));case"blob:":{resolveObjectURL||(resolveObjectURL=require("node:buffer").resolveObjectURL);let blobURLEntry=requestCurrentURL(request2);if(blobURLEntry.search.length!==0)return Promise.resolve(makeNetworkError("NetworkError when attempting to fetch resource."));let blob=resolveObjectURL(blobURLEntry.toString());if(request2.method!=="GET"||!webidl.is.Blob(blob))return Promise.resolve(makeNetworkError("invalid method"));let response=makeResponse(),fullLength=blob.size,serializedFullLength=isomorphicEncode(`${fullLength}`),type=blob.type;if(request2.headersList.contains("range",!0)){response.rangeRequested=!0;let rangeHeader=request2.headersList.get("range",!0),rangeValue=simpleRangeHeaderValue(rangeHeader,!0);if(rangeValue==="failure")return Promise.resolve(makeNetworkError("failed to fetch the data URL"));let{rangeStartValue:rangeStart,rangeEndValue:rangeEnd}=rangeValue;if(rangeStart===null)rangeStart=fullLength-rangeEnd,rangeEnd=rangeStart+rangeEnd-1;else{if(rangeStart>=fullLength)return Promise.resolve(makeNetworkError("Range start is greater than the blob's size."));(rangeEnd===null||rangeEnd>=fullLength)&&(rangeEnd=fullLength-1)}let slicedBlob=blob.slice(rangeStart,rangeEnd,type),slicedBodyWithType=extractBody(slicedBlob);response.body=slicedBodyWithType[0];let serializedSlicedLength=isomorphicEncode(`${slicedBlob.size}`),contentRange=buildContentRange(rangeStart,rangeEnd,fullLength);response.status=206,response.statusText="Partial Content",response.headersList.set("content-length",serializedSlicedLength,!0),response.headersList.set("content-type",type,!0),response.headersList.set("content-range",contentRange,!0)}else{let bodyWithType=extractBody(blob);response.statusText="OK",response.body=bodyWithType[0],response.headersList.set("content-length",serializedFullLength,!0),response.headersList.set("content-type",type,!0)}return Promise.resolve(response)}case"data:":{let currentURL=requestCurrentURL(request2),dataURLStruct=dataURLProcessor(currentURL);if(dataURLStruct==="failure")return Promise.resolve(makeNetworkError("failed to fetch the data URL"));let mimeType=serializeAMimeType(dataURLStruct.mimeType);return Promise.resolve(makeResponse({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:mimeType}]],body:safelyExtractBody(dataURLStruct.body)[0]}))}case"file:":return Promise.resolve(makeNetworkError("not implemented... yet..."));case"http:":case"https:":return httpFetch(fetchParams).catch(err=>makeNetworkError(err));default:return Promise.resolve(makeNetworkError("unknown scheme"))}}function finalizeResponse(fetchParams,response){fetchParams.request.done=!0,fetchParams.processResponseDone!=null&&queueMicrotask(()=>fetchParams.processResponseDone(response))}function fetchFinale(fetchParams,response){let timingInfo=fetchParams.timingInfo,processResponseEndOfBody=()=>{let unsafeEndTime=Date.now();fetchParams.request.destination==="document"&&(fetchParams.controller.fullTimingInfo=timingInfo),fetchParams.controller.reportTimingSteps=()=>{if(!urlIsHttpHttpsScheme(fetchParams.request.url))return;timingInfo.endTime=unsafeEndTime;let cacheState=response.cacheState,bodyInfo=response.bodyInfo;response.timingAllowPassed||(timingInfo=createOpaqueTimingInfo(timingInfo),cacheState="");let responseStatus=0;if(fetchParams.request.mode!=="navigator"||!response.hasCrossOriginRedirects){responseStatus=response.status;let mimeType=extractMimeType(response.headersList);mimeType!=="failure"&&(bodyInfo.contentType=minimizeSupportedMimeType(mimeType))}fetchParams.request.initiatorType!=null&&markResourceTiming(timingInfo,fetchParams.request.url.href,fetchParams.request.initiatorType,globalThis,cacheState,bodyInfo,responseStatus)};let processResponseEndOfBodyTask=()=>{fetchParams.request.done=!0,fetchParams.processResponseEndOfBody!=null&&queueMicrotask(()=>fetchParams.processResponseEndOfBody(response)),fetchParams.request.initiatorType!=null&&fetchParams.controller.reportTimingSteps()};queueMicrotask(()=>processResponseEndOfBodyTask())};fetchParams.processResponse!=null&&queueMicrotask(()=>{fetchParams.processResponse(response),fetchParams.processResponse=null});let internalResponse=response.type==="error"?response:response.internalResponse??response;internalResponse.body==null?processResponseEndOfBody():finished(internalResponse.body.stream,()=>{processResponseEndOfBody()})}async function httpFetch(fetchParams){let request2=fetchParams.request,response=null,actualResponse=null,timingInfo=fetchParams.timingInfo;if(request2.serviceWorkers,response===null){if(request2.redirect==="follow"&&(request2.serviceWorkers="none"),actualResponse=response=await httpNetworkOrCacheFetch(fetchParams),request2.responseTainting==="cors"&&corsCheck(request2,response)==="failure")return makeNetworkError("cors failure");TAOCheck(request2,response)==="failure"&&(request2.timingAllowFailed=!0)}return(request2.responseTainting==="opaque"||response.type==="opaque")&&crossOriginResourcePolicyCheck(request2.origin,request2.client,request2.destination,actualResponse)==="blocked"?makeNetworkError("blocked"):(redirectStatusSet.has(actualResponse.status)&&(request2.redirect!=="manual"&&fetchParams.controller.connection.destroy(void 0,!1),request2.redirect==="error"?response=makeNetworkError("unexpected redirect"):request2.redirect==="manual"?response=actualResponse:request2.redirect==="follow"?response=await httpRedirectFetch(fetchParams,response):assert2(!1)),response.timingInfo=timingInfo,response)}function httpRedirectFetch(fetchParams,response){let request2=fetchParams.request,actualResponse=response.internalResponse?response.internalResponse:response,locationURL;try{if(locationURL=responseLocationURL(actualResponse,requestCurrentURL(request2).hash),locationURL==null)return response}catch(err){return Promise.resolve(makeNetworkError(err))}if(!urlIsHttpHttpsScheme(locationURL))return Promise.resolve(makeNetworkError("URL scheme must be a HTTP(S) scheme"));if(request2.redirectCount===20)return Promise.resolve(makeNetworkError("redirect count exceeded"));if(request2.redirectCount+=1,request2.mode==="cors"&&(locationURL.username||locationURL.password)&&!sameOrigin(request2,locationURL))return Promise.resolve(makeNetworkError('cross origin not allowed for request mode "cors"'));if(request2.responseTainting==="cors"&&(locationURL.username||locationURL.password))return Promise.resolve(makeNetworkError('URL cannot contain credentials for request mode "cors"'));if(actualResponse.status!==303&&request2.body!=null&&request2.body.source==null)return Promise.resolve(makeNetworkError());if([301,302].includes(actualResponse.status)&&request2.method==="POST"||actualResponse.status===303&&!GET_OR_HEAD.includes(request2.method)){request2.method="GET",request2.body=null;for(let headerName of requestBodyHeader)request2.headersList.delete(headerName)}sameOrigin(requestCurrentURL(request2),locationURL)||(request2.headersList.delete("authorization",!0),request2.headersList.delete("proxy-authorization",!0),request2.headersList.delete("cookie",!0),request2.headersList.delete("host",!0)),request2.body!=null&&(assert2(request2.body.source!=null),request2.body=safelyExtractBody(request2.body.source)[0]);let timingInfo=fetchParams.timingInfo;return timingInfo.redirectEndTime=timingInfo.postRedirectStartTime=coarsenedSharedCurrentTime(fetchParams.crossOriginIsolatedCapability),timingInfo.redirectStartTime===0&&(timingInfo.redirectStartTime=timingInfo.startTime),request2.urlList.push(locationURL),setRequestReferrerPolicyOnRedirect(request2,actualResponse),mainFetch(fetchParams,!0)}async function httpNetworkOrCacheFetch(fetchParams,isAuthenticationFetch=!1,isNewConnectionFetch=!1){let request2=fetchParams.request,httpFetchParams=null,httpRequest=null,response=null,httpCache=null,revalidatingFlag=!1;request2.window==="no-window"&&request2.redirect==="error"?(httpFetchParams=fetchParams,httpRequest=request2):(httpRequest=cloneRequest(request2),httpFetchParams={...fetchParams},httpFetchParams.request=httpRequest);let includeCredentials=request2.credentials==="include"||request2.credentials==="same-origin"&&request2.responseTainting==="basic",contentLength=httpRequest.body?httpRequest.body.length:null,contentLengthHeaderValue=null;if(httpRequest.body==null&&["POST","PUT"].includes(httpRequest.method)&&(contentLengthHeaderValue="0"),contentLength!=null&&(contentLengthHeaderValue=isomorphicEncode(`${contentLength}`)),contentLengthHeaderValue!=null&&httpRequest.headersList.append("content-length",contentLengthHeaderValue,!0),contentLength!=null&&httpRequest.keepalive,webidl.is.URL(httpRequest.referrer)&&httpRequest.headersList.append("referer",isomorphicEncode(httpRequest.referrer.href),!0),appendRequestOriginHeader(httpRequest),appendFetchMetadata(httpRequest),httpRequest.headersList.contains("user-agent",!0)||httpRequest.headersList.append("user-agent",defaultUserAgent,!0),httpRequest.cache==="default"&&(httpRequest.headersList.contains("if-modified-since",!0)||httpRequest.headersList.contains("if-none-match",!0)||httpRequest.headersList.contains("if-unmodified-since",!0)||httpRequest.headersList.contains("if-match",!0)||httpRequest.headersList.contains("if-range",!0))&&(httpRequest.cache="no-store"),httpRequest.cache==="no-cache"&&!httpRequest.preventNoCacheCacheControlHeaderModification&&!httpRequest.headersList.contains("cache-control",!0)&&httpRequest.headersList.append("cache-control","max-age=0",!0),(httpRequest.cache==="no-store"||httpRequest.cache==="reload")&&(httpRequest.headersList.contains("pragma",!0)||httpRequest.headersList.append("pragma","no-cache",!0),httpRequest.headersList.contains("cache-control",!0)||httpRequest.headersList.append("cache-control","no-cache",!0)),httpRequest.headersList.contains("range",!0)&&httpRequest.headersList.append("accept-encoding","identity",!0),httpRequest.headersList.contains("accept-encoding",!0)||(urlHasHttpsScheme(requestCurrentURL(httpRequest))?httpRequest.headersList.append("accept-encoding","br, gzip, deflate",!0):httpRequest.headersList.append("accept-encoding","gzip, deflate",!0)),httpRequest.headersList.delete("host",!0),httpCache==null&&(httpRequest.cache="no-store"),httpRequest.cache!=="no-store"&&httpRequest.cache,response==null){if(httpRequest.cache==="only-if-cached")return makeNetworkError("only if cached");let forwardResponse=await httpNetworkFetch(httpFetchParams,includeCredentials,isNewConnectionFetch);!safeMethodsSet.has(httpRequest.method)&&forwardResponse.status>=200&&forwardResponse.status<=399,revalidatingFlag&&forwardResponse.status,response==null&&(response=forwardResponse)}if(response.urlList=[...httpRequest.urlList],httpRequest.headersList.contains("range",!0)&&(response.rangeRequested=!0),response.requestIncludesCredentials=includeCredentials,response.status===407)return request2.window==="no-window"?makeNetworkError():isCancelled(fetchParams)?makeAppropriateNetworkError(fetchParams):makeNetworkError("proxy authentication required");if(response.status===421&&!isNewConnectionFetch&&(request2.body==null||request2.body.source!=null)){if(isCancelled(fetchParams))return makeAppropriateNetworkError(fetchParams);fetchParams.controller.connection.destroy(),response=await httpNetworkOrCacheFetch(fetchParams,isAuthenticationFetch,!0)}return response}async function httpNetworkFetch(fetchParams,includeCredentials=!1,forceNewConnection=!1){assert2(!fetchParams.controller.connection||fetchParams.controller.connection.destroyed),fetchParams.controller.connection={abort:null,destroyed:!1,destroy(err,abort=!0){this.destroyed||(this.destroyed=!0,abort&&this.abort?.(err??new DOMException("The operation was aborted.","AbortError")))}};let request2=fetchParams.request,response=null,timingInfo=fetchParams.timingInfo;null==null&&(request2.cache="no-store");let newConnection=forceNewConnection?"yes":"no";request2.mode;let requestBody=null;if(request2.body==null&&fetchParams.processRequestEndOfBody)queueMicrotask(()=>fetchParams.processRequestEndOfBody());else if(request2.body!=null){let processBodyChunk=async function*(bytes){isCancelled(fetchParams)||(yield bytes,fetchParams.processRequestBodyChunkLength?.(bytes.byteLength))},processEndOfBody=()=>{isCancelled(fetchParams)||fetchParams.processRequestEndOfBody&&fetchParams.processRequestEndOfBody()},processBodyError=e=>{isCancelled(fetchParams)||(e.name==="AbortError"?fetchParams.controller.abort():fetchParams.controller.terminate(e))};requestBody=(async function*(){try{for await(let bytes of request2.body.stream)yield*processBodyChunk(bytes);processEndOfBody()}catch(err){processBodyError(err)}})()}try{let{body,status,statusText,headersList,socket}=await dispatch({body:requestBody});if(socket)response=makeResponse({status,statusText,headersList,socket});else{let iterator=body[Symbol.asyncIterator]();fetchParams.controller.next=()=>iterator.next(),response=makeResponse({status,statusText,headersList})}}catch(err){return err.name==="AbortError"?(fetchParams.controller.connection.destroy(),makeAppropriateNetworkError(fetchParams,err)):makeNetworkError(err)}let pullAlgorithm=()=>fetchParams.controller.resume(),cancelAlgorithm=reason=>{isCancelled(fetchParams)||fetchParams.controller.abort(reason)},stream=new ReadableStream({start(controller){fetchParams.controller.controller=controller},pull:pullAlgorithm,cancel:cancelAlgorithm,type:"bytes"});response.body={stream,source:null,length:null},fetchParams.controller.resume||fetchParams.controller.on("terminated",onAborted),fetchParams.controller.resume=async()=>{for(;;){let bytes,isFailure;try{let{done,value}=await fetchParams.controller.next();if(isAborted2(fetchParams))break;bytes=done?void 0:value}catch(err){fetchParams.controller.ended&&!timingInfo.encodedBodySize?bytes=void 0:(bytes=err,isFailure=!0)}if(bytes===void 0){readableStreamClose(fetchParams.controller.controller),finalizeResponse(fetchParams,response);return}if(timingInfo.decodedBodySize+=bytes?.byteLength??0,isFailure){fetchParams.controller.terminate(bytes);return}let buffer=new Uint8Array(bytes);if(buffer.byteLength&&fetchParams.controller.controller.enqueue(buffer),isErrored(stream)){fetchParams.controller.terminate();return}if(fetchParams.controller.controller.desiredSize<=0)return}};function onAborted(reason){isAborted2(fetchParams)?(response.aborted=!0,isReadable(stream)&&fetchParams.controller.controller.error(fetchParams.controller.serializedAbortReason)):isReadable(stream)&&fetchParams.controller.controller.error(new TypeError("terminated",{cause:isErrorLike(reason)?reason:void 0})),fetchParams.controller.connection.destroy()}return response;function dispatch({body}){let url=requestCurrentURL(request2),agent=fetchParams.controller.dispatcher;return new Promise((resolve,reject)=>agent.dispatch({path:url.pathname+url.search,origin:url.origin,method:request2.method,body:agent.isMockActive?request2.body&&(request2.body.source||request2.body.stream):body,headers:request2.headersList.entries,maxRedirections:0,upgrade:request2.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(abort){let{connection}=fetchParams.controller;timingInfo.finalConnectionTimingInfo=clampAndCoarsenConnectionTimingInfo(void 0,timingInfo.postRedirectStartTime,fetchParams.crossOriginIsolatedCapability),connection.destroyed?abort(new DOMException("The operation was aborted.","AbortError")):(fetchParams.controller.on("terminated",abort),this.abort=connection.abort=abort),timingInfo.finalNetworkRequestStartTime=coarsenedSharedCurrentTime(fetchParams.crossOriginIsolatedCapability)},onResponseStarted(){timingInfo.finalNetworkResponseStartTime=coarsenedSharedCurrentTime(fetchParams.crossOriginIsolatedCapability)},onHeaders(status,rawHeaders,resume,statusText){if(status<200)return!1;let headersList=new HeadersList;for(let i=0;i<rawHeaders.length;i+=2)headersList.append(bufferToLowerCasedHeaderName(rawHeaders[i]),rawHeaders[i+1].toString("latin1"),!0);let location=headersList.get("location",!0);this.body=new Readable({read:resume});let willFollow=location&&request2.redirect==="follow"&&redirectStatusSet.has(status),decoders=[];if(request2.method!=="HEAD"&&request2.method!=="CONNECT"&&!nullBodyStatus.includes(status)&&!willFollow){let contentEncoding=headersList.get("content-encoding",!0),codings=contentEncoding?contentEncoding.toLowerCase().split(","):[];for(let i=codings.length-1;i>=0;--i){let coding=codings[i].trim();if(coding==="x-gzip"||coding==="gzip")decoders.push(zlib2.createGunzip({flush:zlib2.constants.Z_SYNC_FLUSH,finishFlush:zlib2.constants.Z_SYNC_FLUSH}));else if(coding==="deflate")decoders.push(createInflate({flush:zlib2.constants.Z_SYNC_FLUSH,finishFlush:zlib2.constants.Z_SYNC_FLUSH}));else if(coding==="br")decoders.push(zlib2.createBrotliDecompress({flush:zlib2.constants.BROTLI_OPERATION_FLUSH,finishFlush:zlib2.constants.BROTLI_OPERATION_FLUSH}));else if(coding==="zstd"&&hasZstd)decoders.push(zlib2.createZstdDecompress({flush:zlib2.constants.ZSTD_e_continue,finishFlush:zlib2.constants.ZSTD_e_end}));else{decoders.length=0;break}}}let onError=this.onError.bind(this);return resolve({status,statusText,headersList,body:decoders.length?pipeline(this.body,...decoders,err=>{err&&this.onError(err)}).on("error",onError):this.body.on("error",onError)}),!0},onData(chunk){if(fetchParams.controller.dump)return;let bytes=chunk;return timingInfo.encodedBodySize+=bytes.byteLength,this.body.push(bytes)},onComplete(){this.abort&&fetchParams.controller.off("terminated",this.abort),fetchParams.controller.ended=!0,this.body.push(null)},onError(error){this.abort&&fetchParams.controller.off("terminated",this.abort),this.body?.destroy(error),fetchParams.controller.terminate(error),reject(error)},onUpgrade(status,rawHeaders,socket){if(status!==101)return;let headersList=new HeadersList;for(let i=0;i<rawHeaders.length;i+=2)headersList.append(bufferToLowerCasedHeaderName(rawHeaders[i]),rawHeaders[i+1].toString("latin1"),!0);return resolve({status,statusText:STATUS_CODES[status],headersList,socket}),!0}}))}}module2.exports={fetch:fetch2,Fetch,fetching,finalizeAndReportTiming}}});var require_util5=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/cache/util.js"(exports2,module2){"use strict";var assert2=require("node:assert"),{URLSerializer}=require_data_url(),{isValidHeaderName}=require_util4();function urlEquals(A,B,excludeFragment=!1){let serializedA=URLSerializer(A,excludeFragment),serializedB=URLSerializer(B,excludeFragment);return serializedA===serializedB}function getFieldValues(header){assert2(header!==null);let values2=[];for(let value of header.split(","))value=value.trim(),isValidHeaderName(value)&&values2.push(value);return values2}module2.exports={urlEquals,getFieldValues}}});var require_cache3=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/cache/cache.js"(exports2,module2){"use strict";var assert2=require("node:assert"),{kConstruct}=require_symbols4(),{urlEquals,getFieldValues}=require_util5(),{kEnumerableProperty,isDisturbed}=require_util3(),{webidl}=require_webidl(),{cloneResponse,fromInnerResponse,getResponseState}=require_response2(),{Request,fromInnerRequest,getRequestState}=require_request4(),{fetching}=require_fetch(),{urlIsHttpHttpsScheme,readAllBytes:readAllBytes2}=require_util4(),{createDeferredPromise}=require_promise2(),Cache=class _Cache{#relevantRequestResponseList;constructor(){arguments[0]!==kConstruct&&webidl.illegalConstructor(),webidl.util.markAsUncloneable(this),this.#relevantRequestResponseList=arguments[1]}async match(request2,options2={}){webidl.brandCheck(this,_Cache);let prefix="Cache.match";webidl.argumentLengthCheck(arguments,1,prefix),request2=webidl.converters.RequestInfo(request2),options2=webidl.converters.CacheQueryOptions(options2,prefix,"options");let p=this.#internalMatchAll(request2,options2,1);if(p.length!==0)return p[0]}async matchAll(request2=void 0,options2={}){webidl.brandCheck(this,_Cache);let prefix="Cache.matchAll";return request2!==void 0&&(request2=webidl.converters.RequestInfo(request2)),options2=webidl.converters.CacheQueryOptions(options2,prefix,"options"),this.#internalMatchAll(request2,options2)}async add(request2){webidl.brandCheck(this,_Cache),webidl.argumentLengthCheck(arguments,1,"Cache.add"),request2=webidl.converters.RequestInfo(request2);let requests=[request2];return await this.addAll(requests)}async addAll(requests){webidl.brandCheck(this,_Cache);let prefix="Cache.addAll";webidl.argumentLengthCheck(arguments,1,prefix);let responsePromises=[],requestList=[];for(let request2 of requests){if(request2===void 0)throw webidl.errors.conversionFailed({prefix,argument:"Argument 1",types:["undefined is not allowed"]});if(request2=webidl.converters.RequestInfo(request2),typeof request2=="string")continue;let r=getRequestState(request2);if(!urlIsHttpHttpsScheme(r.url)||r.method!=="GET")throw webidl.errors.exception({header:prefix,message:"Expected http/s scheme when method is not GET."})}let fetchControllers=[];for(let request2 of requests){let r=getRequestState(new Request(request2));if(!urlIsHttpHttpsScheme(r.url))throw webidl.errors.exception({header:prefix,message:"Expected http/s scheme."});r.initiator="fetch",r.destination="subresource",requestList.push(r);let responsePromise=createDeferredPromise();fetchControllers.push(fetching({request:r,processResponse(response){if(response.type==="error"||response.status===206||response.status<200||response.status>299)responsePromise.reject(webidl.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(response.headersList.contains("vary")){let fieldValues=getFieldValues(response.headersList.get("vary"));for(let fieldValue of fieldValues)if(fieldValue==="*"){responsePromise.reject(webidl.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let controller of fetchControllers)controller.abort();return}}},processResponseEndOfBody(response){if(response.aborted){responsePromise.reject(new DOMException("aborted","AbortError"));return}responsePromise.resolve(response)}})),responsePromises.push(responsePromise.promise)}let responses=await Promise.all(responsePromises),operations=[],index2=0;for(let response of responses){let operation={type:"put",request:requestList[index2],response};operations.push(operation),index2++}let cacheJobPromise=createDeferredPromise(),errorData=null;try{this.#batchCacheOperations(operations)}catch(e){errorData=e}return queueMicrotask(()=>{errorData===null?cacheJobPromise.resolve(void 0):cacheJobPromise.reject(errorData)}),cacheJobPromise.promise}async put(request2,response){webidl.brandCheck(this,_Cache);let prefix="Cache.put";webidl.argumentLengthCheck(arguments,2,prefix),request2=webidl.converters.RequestInfo(request2),response=webidl.converters.Response(response,prefix,"response");let innerRequest=null;if(webidl.is.Request(request2)?innerRequest=getRequestState(request2):innerRequest=getRequestState(new Request(request2)),!urlIsHttpHttpsScheme(innerRequest.url)||innerRequest.method!=="GET")throw webidl.errors.exception({header:prefix,message:"Expected an http/s scheme when method is not GET"});let innerResponse=getResponseState(response);if(innerResponse.status===206)throw webidl.errors.exception({header:prefix,message:"Got 206 status"});if(innerResponse.headersList.contains("vary")){let fieldValues=getFieldValues(innerResponse.headersList.get("vary"));for(let fieldValue of fieldValues)if(fieldValue==="*")throw webidl.errors.exception({header:prefix,message:"Got * vary field value"})}if(innerResponse.body&&(isDisturbed(innerResponse.body.stream)||innerResponse.body.stream.locked))throw webidl.errors.exception({header:prefix,message:"Response body is locked or disturbed"});let clonedResponse=cloneResponse(innerResponse),bodyReadPromise=createDeferredPromise();if(innerResponse.body!=null){let reader=innerResponse.body.stream.getReader();readAllBytes2(reader,bodyReadPromise.resolve,bodyReadPromise.reject)}else bodyReadPromise.resolve(void 0);let operations=[],operation={type:"put",request:innerRequest,response:clonedResponse};operations.push(operation);let bytes=await bodyReadPromise.promise;clonedResponse.body!=null&&(clonedResponse.body.source=bytes);let cacheJobPromise=createDeferredPromise(),errorData=null;try{this.#batchCacheOperations(operations)}catch(e){errorData=e}return queueMicrotask(()=>{errorData===null?cacheJobPromise.resolve():cacheJobPromise.reject(errorData)}),cacheJobPromise.promise}async delete(request2,options2={}){webidl.brandCheck(this,_Cache);let prefix="Cache.delete";webidl.argumentLengthCheck(arguments,1,prefix),request2=webidl.converters.RequestInfo(request2),options2=webidl.converters.CacheQueryOptions(options2,prefix,"options");let r=null;if(webidl.is.Request(request2)){if(r=getRequestState(request2),r.method!=="GET"&&!options2.ignoreMethod)return!1}else assert2(typeof request2=="string"),r=getRequestState(new Request(request2));let operations=[],operation={type:"delete",request:r,options:options2};operations.push(operation);let cacheJobPromise=createDeferredPromise(),errorData=null,requestResponses;try{requestResponses=this.#batchCacheOperations(operations)}catch(e){errorData=e}return queueMicrotask(()=>{errorData===null?cacheJobPromise.resolve(!!requestResponses?.length):cacheJobPromise.reject(errorData)}),cacheJobPromise.promise}async keys(request2=void 0,options2={}){webidl.brandCheck(this,_Cache);let prefix="Cache.keys";request2!==void 0&&(request2=webidl.converters.RequestInfo(request2)),options2=webidl.converters.CacheQueryOptions(options2,prefix,"options");let r=null;if(request2!==void 0)if(webidl.is.Request(request2)){if(r=getRequestState(request2),r.method!=="GET"&&!options2.ignoreMethod)return[]}else typeof request2=="string"&&(r=getRequestState(new Request(request2)));let promise=createDeferredPromise(),requests=[];if(request2===void 0)for(let requestResponse of this.#relevantRequestResponseList)requests.push(requestResponse[0]);else{let requestResponses=this.#queryCache(r,options2);for(let requestResponse of requestResponses)requests.push(requestResponse[0])}return queueMicrotask(()=>{let requestList=[];for(let request3 of requests){let requestObject=fromInnerRequest(request3,void 0,new AbortController().signal,"immutable");requestList.push(requestObject)}promise.resolve(Object.freeze(requestList))}),promise.promise}#batchCacheOperations(operations){let cache=this.#relevantRequestResponseList,backupCache=[...cache],addedItems=[],resultList=[];try{for(let operation of operations){if(operation.type!=="delete"&&operation.type!=="put")throw webidl.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(operation.type==="delete"&&operation.response!=null)throw webidl.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#queryCache(operation.request,operation.options,addedItems).length)throw new DOMException("???","InvalidStateError");let requestResponses;if(operation.type==="delete"){if(requestResponses=this.#queryCache(operation.request,operation.options),requestResponses.length===0)return[];for(let requestResponse of requestResponses){let idx=cache.indexOf(requestResponse);assert2(idx!==-1),cache.splice(idx,1)}}else if(operation.type==="put"){if(operation.response==null)throw webidl.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let r=operation.request;if(!urlIsHttpHttpsScheme(r.url))throw webidl.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(r.method!=="GET")throw webidl.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(operation.options!=null)throw webidl.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});requestResponses=this.#queryCache(operation.request);for(let requestResponse of requestResponses){let idx=cache.indexOf(requestResponse);assert2(idx!==-1),cache.splice(idx,1)}cache.push([operation.request,operation.response]),addedItems.push([operation.request,operation.response])}resultList.push([operation.request,operation.response])}return resultList}catch(e){throw this.#relevantRequestResponseList.length=0,this.#relevantRequestResponseList=backupCache,e}}#queryCache(requestQuery,options2,targetStorage){let resultList=[],storage=targetStorage??this.#relevantRequestResponseList;for(let requestResponse of storage){let[cachedRequest,cachedResponse]=requestResponse;this.#requestMatchesCachedItem(requestQuery,cachedRequest,cachedResponse,options2)&&resultList.push(requestResponse)}return resultList}#requestMatchesCachedItem(requestQuery,request2,response=null,options2){let queryURL=new URL(requestQuery.url),cachedURL=new URL(request2.url);if(options2?.ignoreSearch&&(cachedURL.search="",queryURL.search=""),!urlEquals(queryURL,cachedURL,!0))return!1;if(response==null||options2?.ignoreVary||!response.headersList.contains("vary"))return!0;let fieldValues=getFieldValues(response.headersList.get("vary"));for(let fieldValue of fieldValues){if(fieldValue==="*")return!1;let requestValue=request2.headersList.get(fieldValue),queryValue=requestQuery.headersList.get(fieldValue);if(requestValue!==queryValue)return!1}return!0}#internalMatchAll(request2,options2,maxResponses=1/0){let r=null;if(request2!==void 0)if(webidl.is.Request(request2)){if(r=getRequestState(request2),r.method!=="GET"&&!options2.ignoreMethod)return[]}else typeof request2=="string"&&(r=getRequestState(new Request(request2)));let responses=[];if(request2===void 0)for(let requestResponse of this.#relevantRequestResponseList)responses.push(requestResponse[1]);else{let requestResponses=this.#queryCache(r,options2);for(let requestResponse of requestResponses)responses.push(requestResponse[1])}let responseList=[];for(let response of responses){let responseObject=fromInnerResponse(response,"immutable");if(responseList.push(responseObject.clone()),responseList.length>=maxResponses)break}return Object.freeze(responseList)}};Object.defineProperties(Cache.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:kEnumerableProperty,matchAll:kEnumerableProperty,add:kEnumerableProperty,addAll:kEnumerableProperty,put:kEnumerableProperty,delete:kEnumerableProperty,keys:kEnumerableProperty});var cacheQueryOptionConverters=[{key:"ignoreSearch",converter:webidl.converters.boolean,defaultValue:()=>!1},{key:"ignoreMethod",converter:webidl.converters.boolean,defaultValue:()=>!1},{key:"ignoreVary",converter:webidl.converters.boolean,defaultValue:()=>!1}];webidl.converters.CacheQueryOptions=webidl.dictionaryConverter(cacheQueryOptionConverters);webidl.converters.MultiCacheQueryOptions=webidl.dictionaryConverter([...cacheQueryOptionConverters,{key:"cacheName",converter:webidl.converters.DOMString}]);webidl.converters.Response=webidl.interfaceConverter(webidl.is.Response,"Response");webidl.converters["sequence<RequestInfo>"]=webidl.sequenceConverter(webidl.converters.RequestInfo);module2.exports={Cache}}});var require_cachestorage=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/cache/cachestorage.js"(exports2,module2){"use strict";var{Cache}=require_cache3(),{webidl}=require_webidl(),{kEnumerableProperty}=require_util3(),{kConstruct}=require_symbols4(),CacheStorage=class _CacheStorage{#caches=new Map;constructor(){arguments[0]!==kConstruct&&webidl.illegalConstructor(),webidl.util.markAsUncloneable(this)}async match(request2,options2={}){if(webidl.brandCheck(this,_CacheStorage),webidl.argumentLengthCheck(arguments,1,"CacheStorage.match"),request2=webidl.converters.RequestInfo(request2),options2=webidl.converters.MultiCacheQueryOptions(options2),options2.cacheName!=null){if(this.#caches.has(options2.cacheName)){let cacheList=this.#caches.get(options2.cacheName);return await new Cache(kConstruct,cacheList).match(request2,options2)}}else for(let cacheList of this.#caches.values()){let response=await new Cache(kConstruct,cacheList).match(request2,options2);if(response!==void 0)return response}}async has(cacheName){webidl.brandCheck(this,_CacheStorage);let prefix="CacheStorage.has";return webidl.argumentLengthCheck(arguments,1,prefix),cacheName=webidl.converters.DOMString(cacheName,prefix,"cacheName"),this.#caches.has(cacheName)}async open(cacheName){webidl.brandCheck(this,_CacheStorage);let prefix="CacheStorage.open";if(webidl.argumentLengthCheck(arguments,1,prefix),cacheName=webidl.converters.DOMString(cacheName,prefix,"cacheName"),this.#caches.has(cacheName)){let cache2=this.#caches.get(cacheName);return new Cache(kConstruct,cache2)}let cache=[];return this.#caches.set(cacheName,cache),new Cache(kConstruct,cache)}async delete(cacheName){webidl.brandCheck(this,_CacheStorage);let prefix="CacheStorage.delete";return webidl.argumentLengthCheck(arguments,1,prefix),cacheName=webidl.converters.DOMString(cacheName,prefix,"cacheName"),this.#caches.delete(cacheName)}async keys(){return webidl.brandCheck(this,_CacheStorage),[...this.#caches.keys()]}};Object.defineProperties(CacheStorage.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:kEnumerableProperty,has:kEnumerableProperty,open:kEnumerableProperty,delete:kEnumerableProperty,keys:kEnumerableProperty});module2.exports={CacheStorage}}});var require_constants7=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/cookies/constants.js"(exports2,module2){"use strict";module2.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}}});var require_util6=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/cookies/util.js"(exports2,module2){"use strict";function isCTLExcludingHtab(value){for(let i=0;i<value.length;++i){let code2=value.charCodeAt(i);if(code2>=0&&code2<=8||code2>=10&&code2<=31||code2===127)return!0}return!1}function validateCookieName(name){for(let i=0;i<name.length;++i){let code2=name.charCodeAt(i);if(code2<33||code2>126||code2===34||code2===40||code2===41||code2===60||code2===62||code2===64||code2===44||code2===59||code2===58||code2===92||code2===47||code2===91||code2===93||code2===63||code2===61||code2===123||code2===125)throw new Error("Invalid cookie name")}}function validateCookieValue(value){let len=value.length,i=0;if(value[0]==='"'){if(len===1||value[len-1]!=='"')throw new Error("Invalid cookie value");--len,++i}for(;i<len;){let code2=value.charCodeAt(i++);if(code2<33||code2>126||code2===34||code2===44||code2===59||code2===92)throw new Error("Invalid cookie value")}}function validateCookiePath(path5){for(let i=0;i<path5.length;++i){let code2=path5.charCodeAt(i);if(code2<32||code2===127||code2===59)throw new Error("Invalid cookie path")}}function validateCookieDomain(domain){if(domain.startsWith("-")||domain.endsWith(".")||domain.endsWith("-"))throw new Error("Invalid cookie domain")}var IMFDays=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],IMFMonths=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],IMFPaddedNumbers=Array(61).fill(0).map((_,i)=>i.toString().padStart(2,"0"));function toIMFDate(date){return typeof date=="number"&&(date=new Date(date)),`${IMFDays[date.getUTCDay()]}, ${IMFPaddedNumbers[date.getUTCDate()]} ${IMFMonths[date.getUTCMonth()]} ${date.getUTCFullYear()} ${IMFPaddedNumbers[date.getUTCHours()]}:${IMFPaddedNumbers[date.getUTCMinutes()]}:${IMFPaddedNumbers[date.getUTCSeconds()]} GMT`}function validateCookieMaxAge(maxAge){if(maxAge<0)throw new Error("Invalid cookie max-age")}function stringify2(cookie){if(cookie.name.length===0)return null;validateCookieName(cookie.name),validateCookieValue(cookie.value);let out=[`${cookie.name}=${cookie.value}`];cookie.name.startsWith("__Secure-")&&(cookie.secure=!0),cookie.name.startsWith("__Host-")&&(cookie.secure=!0,cookie.domain=null,cookie.path="/"),cookie.secure&&out.push("Secure"),cookie.httpOnly&&out.push("HttpOnly"),typeof cookie.maxAge=="number"&&(validateCookieMaxAge(cookie.maxAge),out.push(`Max-Age=${cookie.maxAge}`)),cookie.domain&&(validateCookieDomain(cookie.domain),out.push(`Domain=${cookie.domain}`)),cookie.path&&(validateCookiePath(cookie.path),out.push(`Path=${cookie.path}`)),cookie.expires&&cookie.expires.toString()!=="Invalid Date"&&out.push(`Expires=${toIMFDate(cookie.expires)}`),cookie.sameSite&&out.push(`SameSite=${cookie.sameSite}`);for(let part of cookie.unparsed){if(!part.includes("="))throw new Error("Invalid unparsed");let[key,...value]=part.split("=");out.push(`${key.trim()}=${value.join("=")}`)}return out.join("; ")}module2.exports={isCTLExcludingHtab,validateCookieName,validateCookiePath,validateCookieValue,toIMFDate,stringify:stringify2}}});var require_parse4=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/cookies/parse.js"(exports2,module2){"use strict";var{maxNameValuePairSize,maxAttributeValueSize}=require_constants7(),{isCTLExcludingHtab}=require_util6(),{collectASequenceOfCodePointsFast}=require_data_url(),assert2=require("node:assert"),{unescape:qsUnescape}=require("node:querystring");function parseSetCookie(header){if(isCTLExcludingHtab(header))return null;let nameValuePair="",unparsedAttributes="",name="",value="";if(header.includes(";")){let position={position:0};nameValuePair=collectASequenceOfCodePointsFast(";",header,position),unparsedAttributes=header.slice(position.position)}else nameValuePair=header;if(!nameValuePair.includes("="))value=nameValuePair;else{let position={position:0};name=collectASequenceOfCodePointsFast("=",nameValuePair,position),value=nameValuePair.slice(position.position+1)}return name=name.trim(),value=value.trim(),name.length+value.length>maxNameValuePairSize?null:{name,value:qsUnescape(value),...parseUnparsedAttributes(unparsedAttributes)}}function parseUnparsedAttributes(unparsedAttributes,cookieAttributeList={}){if(unparsedAttributes.length===0)return cookieAttributeList;assert2(unparsedAttributes[0]===";"),unparsedAttributes=unparsedAttributes.slice(1);let cookieAv="";unparsedAttributes.includes(";")?(cookieAv=collectASequenceOfCodePointsFast(";",unparsedAttributes,{position:0}),unparsedAttributes=unparsedAttributes.slice(cookieAv.length)):(cookieAv=unparsedAttributes,unparsedAttributes="");let attributeName="",attributeValue="";if(cookieAv.includes("=")){let position={position:0};attributeName=collectASequenceOfCodePointsFast("=",cookieAv,position),attributeValue=cookieAv.slice(position.position+1)}else attributeName=cookieAv;if(attributeName=attributeName.trim(),attributeValue=attributeValue.trim(),attributeValue.length>maxAttributeValueSize)return parseUnparsedAttributes(unparsedAttributes,cookieAttributeList);let attributeNameLowercase=attributeName.toLowerCase();if(attributeNameLowercase==="expires"){let expiryTime=new Date(attributeValue);cookieAttributeList.expires=expiryTime}else if(attributeNameLowercase==="max-age"){let charCode=attributeValue.charCodeAt(0);if((charCode<48||charCode>57)&&attributeValue[0]!=="-"||!/^\d+$/.test(attributeValue))return parseUnparsedAttributes(unparsedAttributes,cookieAttributeList);let deltaSeconds=Number(attributeValue);cookieAttributeList.maxAge=deltaSeconds}else if(attributeNameLowercase==="domain"){let cookieDomain=attributeValue;cookieDomain[0]==="."&&(cookieDomain=cookieDomain.slice(1)),cookieDomain=cookieDomain.toLowerCase(),cookieAttributeList.domain=cookieDomain}else if(attributeNameLowercase==="path"){let cookiePath="";attributeValue.length===0||attributeValue[0]!=="/"?cookiePath="/":cookiePath=attributeValue,cookieAttributeList.path=cookiePath}else if(attributeNameLowercase==="secure")cookieAttributeList.secure=!0;else if(attributeNameLowercase==="httponly")cookieAttributeList.httpOnly=!0;else if(attributeNameLowercase==="samesite"){let enforcement="Default",attributeValueLowercase=attributeValue.toLowerCase();attributeValueLowercase.includes("none")&&(enforcement="None"),attributeValueLowercase.includes("strict")&&(enforcement="Strict"),attributeValueLowercase.includes("lax")&&(enforcement="Lax"),cookieAttributeList.sameSite=enforcement}else cookieAttributeList.unparsed??=[],cookieAttributeList.unparsed.push(`${attributeName}=${attributeValue}`);return parseUnparsedAttributes(unparsedAttributes,cookieAttributeList)}module2.exports={parseSetCookie,parseUnparsedAttributes}}});var require_cookies=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/cookies/index.js"(exports2,module2){"use strict";var{parseSetCookie}=require_parse4(),{stringify:stringify2}=require_util6(),{webidl}=require_webidl(),{Headers:Headers2}=require_headers(),brandChecks=webidl.brandCheckMultiple([Headers2,globalThis.Headers].filter(Boolean));function getCookies(headers){webidl.argumentLengthCheck(arguments,1,"getCookies"),brandChecks(headers);let cookie=headers.get("cookie"),out={};if(!cookie)return out;for(let piece of cookie.split(";")){let[name,...value]=piece.split("=");out[name.trim()]=value.join("=")}return out}function deleteCookie(headers,name,attributes){brandChecks(headers);let prefix="deleteCookie";webidl.argumentLengthCheck(arguments,2,prefix),name=webidl.converters.DOMString(name,prefix,"name"),attributes=webidl.converters.DeleteCookieAttributes(attributes),setCookie(headers,{name,value:"",expires:new Date(0),...attributes})}function getSetCookies(headers){webidl.argumentLengthCheck(arguments,1,"getSetCookies"),brandChecks(headers);let cookies=headers.getSetCookie();return cookies?cookies.map(pair=>parseSetCookie(pair)):[]}function parseCookie(cookie){return cookie=webidl.converters.DOMString(cookie),parseSetCookie(cookie)}function setCookie(headers,cookie){webidl.argumentLengthCheck(arguments,2,"setCookie"),brandChecks(headers),cookie=webidl.converters.Cookie(cookie);let str=stringify2(cookie);str&&headers.append("set-cookie",str,!0)}webidl.converters.DeleteCookieAttributes=webidl.dictionaryConverter([{converter:webidl.nullableConverter(webidl.converters.DOMString),key:"path",defaultValue:()=>null},{converter:webidl.nullableConverter(webidl.converters.DOMString),key:"domain",defaultValue:()=>null}]);webidl.converters.Cookie=webidl.dictionaryConverter([{converter:webidl.converters.DOMString,key:"name"},{converter:webidl.converters.DOMString,key:"value"},{converter:webidl.nullableConverter(value=>typeof value=="number"?webidl.converters["unsigned long long"](value):new Date(value)),key:"expires",defaultValue:()=>null},{converter:webidl.nullableConverter(webidl.converters["long long"]),key:"maxAge",defaultValue:()=>null},{converter:webidl.nullableConverter(webidl.converters.DOMString),key:"domain",defaultValue:()=>null},{converter:webidl.nullableConverter(webidl.converters.DOMString),key:"path",defaultValue:()=>null},{converter:webidl.nullableConverter(webidl.converters.boolean),key:"secure",defaultValue:()=>null},{converter:webidl.nullableConverter(webidl.converters.boolean),key:"httpOnly",defaultValue:()=>null},{converter:webidl.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:webidl.sequenceConverter(webidl.converters.DOMString),key:"unparsed",defaultValue:()=>[]}]);module2.exports={getCookies,deleteCookie,getSetCookies,setCookie,parseCookie}}});var require_events=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/websocket/events.js"(exports2,module2){"use strict";var{webidl}=require_webidl(),{kEnumerableProperty}=require_util3(),{kConstruct}=require_symbols4(),MessageEvent=class _MessageEvent extends Event{#eventInit;constructor(type,eventInitDict={}){if(type===kConstruct){super(arguments[1],arguments[2]),webidl.util.markAsUncloneable(this);return}let prefix="MessageEvent constructor";webidl.argumentLengthCheck(arguments,1,prefix),type=webidl.converters.DOMString(type,prefix,"type"),eventInitDict=webidl.converters.MessageEventInit(eventInitDict,prefix,"eventInitDict"),super(type,eventInitDict),this.#eventInit=eventInitDict,webidl.util.markAsUncloneable(this)}get data(){return webidl.brandCheck(this,_MessageEvent),this.#eventInit.data}get origin(){return webidl.brandCheck(this,_MessageEvent),this.#eventInit.origin}get lastEventId(){return webidl.brandCheck(this,_MessageEvent),this.#eventInit.lastEventId}get source(){return webidl.brandCheck(this,_MessageEvent),this.#eventInit.source}get ports(){return webidl.brandCheck(this,_MessageEvent),Object.isFrozen(this.#eventInit.ports)||Object.freeze(this.#eventInit.ports),this.#eventInit.ports}initMessageEvent(type,bubbles=!1,cancelable=!1,data=null,origin="",lastEventId="",source=null,ports=[]){return webidl.brandCheck(this,_MessageEvent),webidl.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new _MessageEvent(type,{bubbles,cancelable,data,origin,lastEventId,source,ports})}static createFastMessageEvent(type,init){let messageEvent=new _MessageEvent(kConstruct,type,init);return messageEvent.#eventInit=init,messageEvent.#eventInit.data??=null,messageEvent.#eventInit.origin??="",messageEvent.#eventInit.lastEventId??="",messageEvent.#eventInit.source??=null,messageEvent.#eventInit.ports??=[],messageEvent}},{createFastMessageEvent}=MessageEvent;delete MessageEvent.createFastMessageEvent;var CloseEvent=class _CloseEvent extends Event{#eventInit;constructor(type,eventInitDict={}){let prefix="CloseEvent constructor";webidl.argumentLengthCheck(arguments,1,prefix),type=webidl.converters.DOMString(type,prefix,"type"),eventInitDict=webidl.converters.CloseEventInit(eventInitDict),super(type,eventInitDict),this.#eventInit=eventInitDict,webidl.util.markAsUncloneable(this)}get wasClean(){return webidl.brandCheck(this,_CloseEvent),this.#eventInit.wasClean}get code(){return webidl.brandCheck(this,_CloseEvent),this.#eventInit.code}get reason(){return webidl.brandCheck(this,_CloseEvent),this.#eventInit.reason}},ErrorEvent=class _ErrorEvent extends Event{#eventInit;constructor(type,eventInitDict){let prefix="ErrorEvent constructor";webidl.argumentLengthCheck(arguments,1,prefix),super(type,eventInitDict),webidl.util.markAsUncloneable(this),type=webidl.converters.DOMString(type,prefix,"type"),eventInitDict=webidl.converters.ErrorEventInit(eventInitDict??{}),this.#eventInit=eventInitDict}get message(){return webidl.brandCheck(this,_ErrorEvent),this.#eventInit.message}get filename(){return webidl.brandCheck(this,_ErrorEvent),this.#eventInit.filename}get lineno(){return webidl.brandCheck(this,_ErrorEvent),this.#eventInit.lineno}get colno(){return webidl.brandCheck(this,_ErrorEvent),this.#eventInit.colno}get error(){return webidl.brandCheck(this,_ErrorEvent),this.#eventInit.error}};Object.defineProperties(MessageEvent.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:kEnumerableProperty,origin:kEnumerableProperty,lastEventId:kEnumerableProperty,source:kEnumerableProperty,ports:kEnumerableProperty,initMessageEvent:kEnumerableProperty});Object.defineProperties(CloseEvent.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:kEnumerableProperty,code:kEnumerableProperty,wasClean:kEnumerableProperty});Object.defineProperties(ErrorEvent.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:kEnumerableProperty,filename:kEnumerableProperty,lineno:kEnumerableProperty,colno:kEnumerableProperty,error:kEnumerableProperty});webidl.converters.MessagePort=webidl.interfaceConverter(webidl.is.MessagePort,"MessagePort");webidl.converters["sequence<MessagePort>"]=webidl.sequenceConverter(webidl.converters.MessagePort);var eventInit=[{key:"bubbles",converter:webidl.converters.boolean,defaultValue:()=>!1},{key:"cancelable",converter:webidl.converters.boolean,defaultValue:()=>!1},{key:"composed",converter:webidl.converters.boolean,defaultValue:()=>!1}];webidl.converters.MessageEventInit=webidl.dictionaryConverter([...eventInit,{key:"data",converter:webidl.converters.any,defaultValue:()=>null},{key:"origin",converter:webidl.converters.USVString,defaultValue:()=>""},{key:"lastEventId",converter:webidl.converters.DOMString,defaultValue:()=>""},{key:"source",converter:webidl.nullableConverter(webidl.converters.MessagePort),defaultValue:()=>null},{key:"ports",converter:webidl.converters["sequence<MessagePort>"],defaultValue:()=>[]}]);webidl.converters.CloseEventInit=webidl.dictionaryConverter([...eventInit,{key:"wasClean",converter:webidl.converters.boolean,defaultValue:()=>!1},{key:"code",converter:webidl.converters["unsigned short"],defaultValue:()=>0},{key:"reason",converter:webidl.converters.USVString,defaultValue:()=>""}]);webidl.converters.ErrorEventInit=webidl.dictionaryConverter([...eventInit,{key:"message",converter:webidl.converters.DOMString,defaultValue:()=>""},{key:"filename",converter:webidl.converters.USVString,defaultValue:()=>""},{key:"lineno",converter:webidl.converters["unsigned long"],defaultValue:()=>0},{key:"colno",converter:webidl.converters["unsigned long"],defaultValue:()=>0},{key:"error",converter:webidl.converters.any}]);module2.exports={MessageEvent,CloseEvent,ErrorEvent,createFastMessageEvent}}});var require_constants8=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/websocket/constants.js"(exports2,module2){"use strict";var uid="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",staticPropertyDescriptors={enumerable:!0,writable:!1,configurable:!1},states={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},sentCloseFrameState={SENT:1,RECEIVED:2},opcodes={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},maxUnsigned16Bit=65535,parserStates={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},emptyBuffer=Buffer.allocUnsafe(0),sendHints={text:1,typedArray:2,arrayBuffer:3,blob:4};module2.exports={uid,sentCloseFrameState,staticPropertyDescriptors,states,opcodes,maxUnsigned16Bit,parserStates,emptyBuffer,sendHints}}});var require_util7=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/websocket/util.js"(exports2,module2){"use strict";var{states,opcodes}=require_constants8(),{isUtf8}=require("node:buffer"),{collectASequenceOfCodePointsFast,removeHTTPWhitespace}=require_data_url();function isConnecting(readyState){return readyState===states.CONNECTING}function isEstablished(readyState){return readyState===states.OPEN}function isClosing(readyState){return readyState===states.CLOSING}function isClosed(readyState){return readyState===states.CLOSED}function fireEvent(e,target,eventFactory=(type,init)=>new Event(type,init),eventInitDict={}){let event=eventFactory(e,eventInitDict);target.dispatchEvent(event)}function websocketMessageReceived(handler,type,data){handler.onMessage(type,data)}function toArrayBuffer(buffer){return buffer.byteLength===buffer.buffer.byteLength?buffer.buffer:new Uint8Array(buffer).buffer}function isValidSubprotocol(protocol){if(protocol.length===0)return!1;for(let i=0;i<protocol.length;++i){let code2=protocol.charCodeAt(i);if(code2<33||code2>126||code2===34||code2===40||code2===41||code2===44||code2===47||code2===58||code2===59||code2===60||code2===61||code2===62||code2===63||code2===64||code2===91||code2===92||code2===93||code2===123||code2===125)return!1}return!0}function isValidStatusCode(code2){return code2>=1e3&&code2<1015?code2!==1004&&code2!==1005&&code2!==1006:code2>=3e3&&code2<=4999}function isControlFrame(opcode){return opcode===opcodes.CLOSE||opcode===opcodes.PING||opcode===opcodes.PONG}function isContinuationFrame(opcode){return opcode===opcodes.CONTINUATION}function isTextBinaryFrame(opcode){return opcode===opcodes.TEXT||opcode===opcodes.BINARY}function isValidOpcode(opcode){return isTextBinaryFrame(opcode)||isContinuationFrame(opcode)||isControlFrame(opcode)}function parseExtensions(extensions){let position={position:0},extensionList=new Map;for(;position.position<extensions.length;){let pair=collectASequenceOfCodePointsFast(";",extensions,position),[name,value=""]=pair.split("=",2);extensionList.set(removeHTTPWhitespace(name,!0,!1),removeHTTPWhitespace(value,!1,!0)),position.position++}return extensionList}function isValidClientWindowBits(value){for(let i=0;i<value.length;i++){let byte=value.charCodeAt(i);if(byte<48||byte>57)return!1}return!0}function getURLRecord(url,baseURL){let urlRecord;try{urlRecord=new URL(url,baseURL)}catch(e){throw new DOMException(e,"SyntaxError")}if(urlRecord.protocol==="http:"?urlRecord.protocol="ws:":urlRecord.protocol==="https:"&&(urlRecord.protocol="wss:"),urlRecord.protocol!=="ws:"&&urlRecord.protocol!=="wss:")throw new DOMException("expected a ws: or wss: url","SyntaxError");if(urlRecord.hash.length||urlRecord.href.endsWith("#"))throw new DOMException("hash","SyntaxError");return urlRecord}function validateCloseCodeAndReason(code2,reason){if(code2!==null&&code2!==1e3&&(code2<3e3||code2>4999))throw new DOMException("invalid code","InvalidAccessError");if(reason!==null){let reasonBytesLength=Buffer.byteLength(reason);if(reasonBytesLength>123)throw new DOMException(`Reason must be less than 123 bytes; received ${reasonBytesLength}`,"SyntaxError")}}var utf8Decode=(()=>{if(typeof process.versions.icu=="string"){let fatalDecoder=new TextDecoder("utf-8",{fatal:!0});return fatalDecoder.decode.bind(fatalDecoder)}return function(buffer){if(isUtf8(buffer))return buffer.toString("utf-8");throw new TypeError("Invalid utf-8 received.")}})();module2.exports={isConnecting,isEstablished,isClosing,isClosed,fireEvent,isValidSubprotocol,isValidStatusCode,websocketMessageReceived,utf8Decode,isControlFrame,isContinuationFrame,isTextBinaryFrame,isValidOpcode,parseExtensions,isValidClientWindowBits,toArrayBuffer,getURLRecord,validateCloseCodeAndReason}}});var require_frame=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/websocket/frame.js"(exports2,module2){"use strict";var{maxUnsigned16Bit,opcodes}=require_constants8(),BUFFER_SIZE=8*1024,crypto2,buffer=null,bufIdx=BUFFER_SIZE;try{crypto2=require("node:crypto")}catch{crypto2={randomFillSync:function(buffer2,_offset,_size){for(let i=0;i<buffer2.length;++i)buffer2[i]=Math.random()*255|0;return buffer2}}}function generateMask(){return bufIdx===BUFFER_SIZE&&(bufIdx=0,crypto2.randomFillSync(buffer??=Buffer.allocUnsafeSlow(BUFFER_SIZE),0,BUFFER_SIZE)),[buffer[bufIdx++],buffer[bufIdx++],buffer[bufIdx++],buffer[bufIdx++]]}var WebsocketFrameSend=class{constructor(data){this.frameData=data}createFrame(opcode){let frameData=this.frameData,maskKey=generateMask(),bodyLength=frameData?.byteLength??0,payloadLength=bodyLength,offset=6;bodyLength>maxUnsigned16Bit?(offset+=8,payloadLength=127):bodyLength>125&&(offset+=2,payloadLength=126);let buffer2=Buffer.allocUnsafe(bodyLength+offset);buffer2[0]=buffer2[1]=0,buffer2[0]|=128,buffer2[0]=(buffer2[0]&240)+opcode;buffer2[offset-4]=maskKey[0],buffer2[offset-3]=maskKey[1],buffer2[offset-2]=maskKey[2],buffer2[offset-1]=maskKey[3],buffer2[1]=payloadLength,payloadLength===126?buffer2.writeUInt16BE(bodyLength,2):payloadLength===127&&(buffer2[2]=buffer2[3]=0,buffer2.writeUIntBE(bodyLength,4,6)),buffer2[1]|=128;for(let i=0;i<bodyLength;++i)buffer2[offset+i]=frameData[i]^maskKey[i&3];return buffer2}static createFastTextFrame(buffer2){let maskKey=generateMask(),bodyLength=buffer2.length;for(let i=0;i<bodyLength;++i)buffer2[i]^=maskKey[i&3];let payloadLength=bodyLength,offset=6;bodyLength>maxUnsigned16Bit?(offset+=8,payloadLength=127):bodyLength>125&&(offset+=2,payloadLength=126);let head=Buffer.allocUnsafeSlow(offset);return head[0]=128|opcodes.TEXT,head[1]=payloadLength|128,head[offset-4]=maskKey[0],head[offset-3]=maskKey[1],head[offset-2]=maskKey[2],head[offset-1]=maskKey[3],payloadLength===126?head.writeUInt16BE(bodyLength,2):payloadLength===127&&(head[2]=head[3]=0,head.writeUIntBE(bodyLength,4,6)),[head,buffer2]}};module2.exports={WebsocketFrameSend,generateMask}}});var require_connection=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/websocket/connection.js"(exports2,module2){"use strict";var{uid,states,sentCloseFrameState,emptyBuffer,opcodes}=require_constants8(),{parseExtensions,isClosed,isClosing,isEstablished,validateCloseCodeAndReason}=require_util7(),{makeRequest}=require_request4(),{fetching}=require_fetch(),{Headers:Headers2,getHeadersList}=require_headers(),{getDecodeSplit}=require_util4(),{WebsocketFrameSend}=require_frame(),assert2=require("node:assert"),crypto2;try{crypto2=require("node:crypto")}catch{}function establishWebSocketConnection(url,protocols,client,handler,options2){let requestURL=url;requestURL.protocol=url.protocol==="ws:"?"http:":"https:";let request2=makeRequest({urlList:[requestURL],client,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(options2.headers){let headersList=getHeadersList(new Headers2(options2.headers));request2.headersList=headersList}let keyValue=crypto2.randomBytes(16).toString("base64");request2.headersList.append("sec-websocket-key",keyValue,!0),request2.headersList.append("sec-websocket-version","13",!0);for(let protocol of protocols)request2.headersList.append("sec-websocket-protocol",protocol,!0);return request2.headersList.append("sec-websocket-extensions","permessage-deflate; client_max_window_bits",!0),fetching({request:request2,useParallelQueue:!0,dispatcher:options2.dispatcher,processResponse(response){if(response.type==="error"&&(handler.readyState=states.CLOSED),response.type==="error"||response.status!==101){failWebsocketConnection(handler,1002,"Received network error or non-101 status code.",response.error);return}if(protocols.length!==0&&!response.headersList.get("Sec-WebSocket-Protocol")){failWebsocketConnection(handler,1002,"Server did not respond with sent protocols.");return}if(response.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){failWebsocketConnection(handler,1002,'Server did not set Upgrade header to "websocket".');return}if(response.headersList.get("Connection")?.toLowerCase()!=="upgrade"){failWebsocketConnection(handler,1002,'Server did not set Connection header to "upgrade".');return}let secWSAccept=response.headersList.get("Sec-WebSocket-Accept"),digest=crypto2.createHash("sha1").update(keyValue+uid).digest("base64");if(secWSAccept!==digest){failWebsocketConnection(handler,1002,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let secExtension=response.headersList.get("Sec-WebSocket-Extensions"),extensions;if(secExtension!==null&&(extensions=parseExtensions(secExtension),!extensions.has("permessage-deflate"))){failWebsocketConnection(handler,1002,"Sec-WebSocket-Extensions header does not match.");return}let secProtocol=response.headersList.get("Sec-WebSocket-Protocol");if(secProtocol!==null&&!getDecodeSplit("sec-websocket-protocol",request2.headersList).includes(secProtocol)){failWebsocketConnection(handler,1002,"Protocol was not set in the opening handshake.");return}response.socket.on("data",handler.onSocketData),response.socket.on("close",handler.onSocketClose),response.socket.on("error",handler.onSocketError),handler.wasEverConnected=!0,handler.onConnectionEstablished(response,extensions)}})}function closeWebSocketConnection(object,code2,reason,validate=!1){if(code2??=null,reason??="",validate&&validateCloseCodeAndReason(code2,reason),!(isClosed(object.readyState)||isClosing(object.readyState)))if(!isEstablished(object.readyState))failWebsocketConnection(object),object.readyState=states.CLOSING;else if(!object.closeState.has(sentCloseFrameState.SENT)&&!object.closeState.has(sentCloseFrameState.RECEIVED)){let frame=new WebsocketFrameSend;reason.length!==0&&code2===null&&(code2=1e3),assert2(code2===null||Number.isInteger(code2)),code2===null&&reason.length===0?frame.frameData=emptyBuffer:code2!==null&&reason===null?(frame.frameData=Buffer.allocUnsafe(2),frame.frameData.writeUInt16BE(code2,0)):code2!==null&&reason!==null?(frame.frameData=Buffer.allocUnsafe(2+Buffer.byteLength(reason)),frame.frameData.writeUInt16BE(code2,0),frame.frameData.write(reason,2,"utf-8")):frame.frameData=emptyBuffer,object.socket.write(frame.createFrame(opcodes.CLOSE)),object.closeState.add(sentCloseFrameState.SENT),object.readyState=states.CLOSING}else object.readyState=states.CLOSING}function failWebsocketConnection(handler,code2,reason,cause){isEstablished(handler.readyState)&&closeWebSocketConnection(handler,code2,reason,!1),handler.controller.abort(),handler.socket?handler.socket.destroyed===!1&&handler.socket.destroy():handler.onSocketClose()}module2.exports={establishWebSocketConnection,failWebsocketConnection,closeWebSocketConnection}}});var require_permessage_deflate=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/websocket/permessage-deflate.js"(exports2,module2){"use strict";var{createInflateRaw,Z_DEFAULT_WINDOWBITS}=require("node:zlib"),{isValidClientWindowBits}=require_util7(),tail=Buffer.from([0,0,255,255]),kBuffer=Symbol("kBuffer"),kLength=Symbol("kLength"),PerMessageDeflate=class{#inflate;#options={};constructor(extensions){this.#options.serverNoContextTakeover=extensions.has("server_no_context_takeover"),this.#options.serverMaxWindowBits=extensions.get("server_max_window_bits")}decompress(chunk,fin,callback){if(!this.#inflate){let windowBits=Z_DEFAULT_WINDOWBITS;if(this.#options.serverMaxWindowBits){if(!isValidClientWindowBits(this.#options.serverMaxWindowBits)){callback(new Error("Invalid server_max_window_bits"));return}windowBits=Number.parseInt(this.#options.serverMaxWindowBits)}this.#inflate=createInflateRaw({windowBits}),this.#inflate[kBuffer]=[],this.#inflate[kLength]=0,this.#inflate.on("data",data=>{this.#inflate[kBuffer].push(data),this.#inflate[kLength]+=data.length}),this.#inflate.on("error",err=>{this.#inflate=null,callback(err)})}this.#inflate.write(chunk),fin&&this.#inflate.write(tail),this.#inflate.flush(()=>{let full=Buffer.concat(this.#inflate[kBuffer],this.#inflate[kLength]);this.#inflate[kBuffer].length=0,this.#inflate[kLength]=0,callback(null,full)})}};module2.exports={PerMessageDeflate}}});var require_receiver=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/websocket/receiver.js"(exports2,module2){"use strict";var{Writable}=require("node:stream"),assert2=require("node:assert"),{parserStates,opcodes,states,emptyBuffer,sentCloseFrameState}=require_constants8(),{isValidStatusCode,isValidOpcode,websocketMessageReceived,utf8Decode,isControlFrame,isTextBinaryFrame,isContinuationFrame}=require_util7(),{failWebsocketConnection}=require_connection(),{WebsocketFrameSend}=require_frame(),{PerMessageDeflate}=require_permessage_deflate(),ByteParser=class extends Writable{#buffers=[];#fragmentsBytes=0;#byteOffset=0;#loop=!1;#state=parserStates.INFO;#info={};#fragments=[];#extensions;#handler;constructor(handler,extensions){super(),this.#handler=handler,this.#extensions=extensions??new Map,this.#extensions.has("permessage-deflate")&&this.#extensions.set("permessage-deflate",new PerMessageDeflate(extensions))}_write(chunk,_,callback){this.#buffers.push(chunk),this.#byteOffset+=chunk.length,this.#loop=!0,this.run(callback)}run(callback){for(;this.#loop;)if(this.#state===parserStates.INFO){if(this.#byteOffset<2)return callback();let buffer=this.consume(2),fin=(buffer[0]&128)!==0,opcode=buffer[0]&15,masked=(buffer[1]&128)===128,fragmented=!fin&&opcode!==opcodes.CONTINUATION,payloadLength=buffer[1]&127,rsv1=buffer[0]&64,rsv2=buffer[0]&32,rsv3=buffer[0]&16;if(!isValidOpcode(opcode))return failWebsocketConnection(this.#handler,1002,"Invalid opcode received"),callback();if(masked)return failWebsocketConnection(this.#handler,1002,"Frame cannot be masked"),callback();if(rsv1!==0&&!this.#extensions.has("permessage-deflate")){failWebsocketConnection(this.#handler,1002,"Expected RSV1 to be clear.");return}if(rsv2!==0||rsv3!==0){failWebsocketConnection(this.#handler,1002,"RSV1, RSV2, RSV3 must be clear");return}if(fragmented&&!isTextBinaryFrame(opcode)){failWebsocketConnection(this.#handler,1002,"Invalid frame type was fragmented.");return}if(isTextBinaryFrame(opcode)&&this.#fragments.length>0){failWebsocketConnection(this.#handler,1002,"Expected continuation frame");return}if(this.#info.fragmented&&fragmented){failWebsocketConnection(this.#handler,1002,"Fragmented frame exceeded 125 bytes.");return}if((payloadLength>125||fragmented)&&isControlFrame(opcode)){failWebsocketConnection(this.#handler,1002,"Control frame either too large or fragmented");return}if(isContinuationFrame(opcode)&&this.#fragments.length===0&&!this.#info.compressed){failWebsocketConnection(this.#handler,1002,"Unexpected continuation frame");return}payloadLength<=125?(this.#info.payloadLength=payloadLength,this.#state=parserStates.READ_DATA):payloadLength===126?this.#state=parserStates.PAYLOADLENGTH_16:payloadLength===127&&(this.#state=parserStates.PAYLOADLENGTH_64),isTextBinaryFrame(opcode)&&(this.#info.binaryType=opcode,this.#info.compressed=rsv1!==0),this.#info.opcode=opcode,this.#info.masked=masked,this.#info.fin=fin,this.#info.fragmented=fragmented}else if(this.#state===parserStates.PAYLOADLENGTH_16){if(this.#byteOffset<2)return callback();let buffer=this.consume(2);this.#info.payloadLength=buffer.readUInt16BE(0),this.#state=parserStates.READ_DATA}else if(this.#state===parserStates.PAYLOADLENGTH_64){if(this.#byteOffset<8)return callback();let buffer=this.consume(8),upper=buffer.readUInt32BE(0);if(upper>2**31-1){failWebsocketConnection(this.#handler,1009,"Received payload length > 2^31 bytes.");return}let lower=buffer.readUInt32BE(4);this.#info.payloadLength=(upper<<8)+lower,this.#state=parserStates.READ_DATA}else if(this.#state===parserStates.READ_DATA){if(this.#byteOffset<this.#info.payloadLength)return callback();let body=this.consume(this.#info.payloadLength);if(isControlFrame(this.#info.opcode))this.#loop=this.parseControlFrame(body),this.#state=parserStates.INFO;else if(!this.#info.compressed)this.writeFragments(body),!this.#info.fragmented&&this.#info.fin&&websocketMessageReceived(this.#handler,this.#info.binaryType,this.consumeFragments()),this.#state=parserStates.INFO;else{this.#extensions.get("permessage-deflate").decompress(body,this.#info.fin,(error,data)=>{if(error){failWebsocketConnection(this.#handler,1007,error.message);return}if(this.writeFragments(data),!this.#info.fin){this.#state=parserStates.INFO,this.#loop=!0,this.run(callback);return}websocketMessageReceived(this.#handler,this.#info.binaryType,this.consumeFragments()),this.#loop=!0,this.#state=parserStates.INFO,this.run(callback)}),this.#loop=!1;break}}}consume(n){if(n>this.#byteOffset)throw new Error("Called consume() before buffers satiated.");if(n===0)return emptyBuffer;this.#byteOffset-=n;let first=this.#buffers[0];if(first.length>n)return this.#buffers[0]=first.subarray(n,first.length),first.subarray(0,n);if(first.length===n)return this.#buffers.shift();{let offset=0,buffer=Buffer.allocUnsafeSlow(n);for(;offset!==n;){let next=this.#buffers[0],length=next.length;if(length+offset===n){buffer.set(this.#buffers.shift(),offset);break}else if(length+offset>n){buffer.set(next.subarray(0,n-offset),offset),this.#buffers[0]=next.subarray(n-offset);break}else buffer.set(this.#buffers.shift(),offset),offset+=length}return buffer}}writeFragments(fragment){this.#fragmentsBytes+=fragment.length,this.#fragments.push(fragment)}consumeFragments(){let fragments=this.#fragments;if(fragments.length===1)return this.#fragmentsBytes=0,fragments.shift();let offset=0,output=Buffer.allocUnsafeSlow(this.#fragmentsBytes);for(let i=0;i<fragments.length;++i){let buffer=fragments[i];output.set(buffer,offset),offset+=buffer.length}return this.#fragments=[],this.#fragmentsBytes=0,output}parseCloseBody(data){assert2(data.length!==1);let code2;if(data.length>=2&&(code2=data.readUInt16BE(0)),code2!==void 0&&!isValidStatusCode(code2))return{code:1002,reason:"Invalid status code",error:!0};let reason=data.subarray(2);reason[0]===239&&reason[1]===187&&reason[2]===191&&(reason=reason.subarray(3));try{reason=utf8Decode(reason)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:code2,reason,error:!1}}parseControlFrame(body){let{opcode,payloadLength}=this.#info;if(opcode===opcodes.CLOSE){if(payloadLength===1)return failWebsocketConnection(this.#handler,1002,"Received close frame with a 1-byte body."),!1;if(this.#info.closeInfo=this.parseCloseBody(body),this.#info.closeInfo.error){let{code:code2,reason}=this.#info.closeInfo;return failWebsocketConnection(this.#handler,code2,reason),!1}if(!this.#handler.closeState.has(sentCloseFrameState.SENT)&&!this.#handler.closeState.has(sentCloseFrameState.RECEIVED)){let body2=emptyBuffer;this.#info.closeInfo.code&&(body2=Buffer.allocUnsafe(2),body2.writeUInt16BE(this.#info.closeInfo.code,0));let closeFrame=new WebsocketFrameSend(body2);this.#handler.socket.write(closeFrame.createFrame(opcodes.CLOSE)),this.#handler.closeState.add(sentCloseFrameState.SENT)}return this.#handler.readyState=states.CLOSING,this.#handler.closeState.add(sentCloseFrameState.RECEIVED),!1}else if(opcode===opcodes.PING){if(!this.#handler.closeState.has(sentCloseFrameState.RECEIVED)){let frame=new WebsocketFrameSend(body);this.#handler.socket.write(frame.createFrame(opcodes.PONG)),this.#handler.onPing(body)}}else opcode===opcodes.PONG&&this.#handler.onPong(body);return!0}get closingInfo(){return this.#info.closeInfo}};module2.exports={ByteParser}}});var require_sender=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/websocket/sender.js"(exports2,module2){"use strict";var{WebsocketFrameSend}=require_frame(),{opcodes,sendHints}=require_constants8(),FixedQueue=require_fixed_queue(),SendQueue=class{#queue=new FixedQueue;#running=!1;#socket;constructor(socket){this.#socket=socket}add(item,cb,hint){if(hint!==sendHints.blob){if(this.#running){let node2={promise:null,callback:cb,frame:createFrame(item,hint)};this.#queue.push(node2)}else if(hint===sendHints.text){let{0:head,1:body}=WebsocketFrameSend.createFastTextFrame(item);this.#socket.cork(),this.#socket.write(head),this.#socket.write(body,cb),this.#socket.uncork()}else this.#socket.write(createFrame(item,hint),cb);return}let node={promise:item.arrayBuffer().then(ab=>{node.promise=null,node.frame=createFrame(ab,hint)}),callback:cb,frame:null};this.#queue.push(node),this.#running||this.#run()}async#run(){this.#running=!0;let queue=this.#queue;for(;!queue.isEmpty();){let node=queue.shift();node.promise!==null&&await node.promise,this.#socket.write(node.frame,node.callback),node.callback=node.frame=null}this.#running=!1}};function createFrame(data,hint){return new WebsocketFrameSend(toBuffer(data,hint)).createFrame(hint===sendHints.text?opcodes.TEXT:opcodes.BINARY)}function toBuffer(data,hint){switch(hint){case sendHints.text:case sendHints.typedArray:return new Uint8Array(data.buffer,data.byteOffset,data.byteLength);case sendHints.arrayBuffer:case sendHints.blob:return new Uint8Array(data)}}module2.exports={SendQueue}}});var require_websocket=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/websocket/websocket.js"(exports2,module2){"use strict";var{isArrayBuffer}=require("node:util/types"),{webidl}=require_webidl(),{URLSerializer}=require_data_url(),{environmentSettingsObject}=require_util4(),{staticPropertyDescriptors,states,sentCloseFrameState,sendHints,opcodes}=require_constants8(),{isConnecting,isEstablished,isClosing,isClosed,isValidSubprotocol,fireEvent,utf8Decode,toArrayBuffer,getURLRecord}=require_util7(),{establishWebSocketConnection,closeWebSocketConnection,failWebsocketConnection}=require_connection(),{ByteParser}=require_receiver(),{kEnumerableProperty}=require_util3(),{getGlobalDispatcher}=require_global2(),{ErrorEvent,CloseEvent,createFastMessageEvent}=require_events(),{SendQueue}=require_sender(),{WebsocketFrameSend}=require_frame(),{channels}=require_diagnostics(),WebSocket=class _WebSocket extends EventTarget{#events={open:null,error:null,close:null,message:null};#bufferedAmount=0;#protocol="";#extensions="";#sendQueue;#handler={onConnectionEstablished:(response,extensions)=>this.#onConnectionEstablished(response,extensions),onMessage:(opcode,data)=>this.#onMessage(opcode,data),onParserError:err=>failWebsocketConnection(this.#handler,null,err.message),onParserDrain:()=>this.#onParserDrain(),onSocketData:chunk=>{this.#parser.write(chunk)||this.#handler.socket.pause()},onSocketError:err=>{this.#handler.readyState=states.CLOSING,channels.socketError.hasSubscribers&&channels.socketError.publish(err),this.#handler.socket.destroy()},onSocketClose:()=>this.#onSocketClose(),onPing:body=>{channels.ping.hasSubscribers&&channels.ping.publish({payload:body,websocket:this})},onPong:body=>{channels.pong.hasSubscribers&&channels.pong.publish({payload:body,websocket:this})},readyState:states.CONNECTING,socket:null,closeState:new Set,controller:null,wasEverConnected:!1};#url;#binaryType;#parser;constructor(url,protocols=[]){super(),webidl.util.markAsUncloneable(this);let prefix="WebSocket constructor";webidl.argumentLengthCheck(arguments,1,prefix);let options2=webidl.converters["DOMString or sequence<DOMString> or WebSocketInit"](protocols,prefix,"options");url=webidl.converters.USVString(url),protocols=options2.protocols;let baseURL=environmentSettingsObject.settingsObject.baseUrl,urlRecord=getURLRecord(url,baseURL);if(typeof protocols=="string"&&(protocols=[protocols]),protocols.length!==new Set(protocols.map(p=>p.toLowerCase())).size)throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(protocols.length>0&&!protocols.every(p=>isValidSubprotocol(p)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this.#url=new URL(urlRecord.href);let client=environmentSettingsObject.settingsObject;this.#handler.controller=establishWebSocketConnection(urlRecord,protocols,client,this.#handler,options2),this.#handler.readyState=_WebSocket.CONNECTING,this.#binaryType="blob"}close(code2=void 0,reason=void 0){webidl.brandCheck(this,_WebSocket),code2!==void 0&&(code2=webidl.converters["unsigned short"](code2,"WebSocket.close","code",webidl.attributes.Clamp)),reason!==void 0&&(reason=webidl.converters.USVString(reason)),code2??=null,reason??="",closeWebSocketConnection(this.#handler,code2,reason,!0)}send(data){webidl.brandCheck(this,_WebSocket);let prefix="WebSocket.send";if(webidl.argumentLengthCheck(arguments,1,prefix),data=webidl.converters.WebSocketSendData(data,prefix,"data"),isConnecting(this.#handler.readyState))throw new DOMException("Sent before connected.","InvalidStateError");if(!(!isEstablished(this.#handler.readyState)||isClosing(this.#handler.readyState)))if(typeof data=="string"){let buffer=Buffer.from(data);this.#bufferedAmount+=buffer.byteLength,this.#sendQueue.add(buffer,()=>{this.#bufferedAmount-=buffer.byteLength},sendHints.text)}else isArrayBuffer(data)?(this.#bufferedAmount+=data.byteLength,this.#sendQueue.add(data,()=>{this.#bufferedAmount-=data.byteLength},sendHints.arrayBuffer)):ArrayBuffer.isView(data)?(this.#bufferedAmount+=data.byteLength,this.#sendQueue.add(data,()=>{this.#bufferedAmount-=data.byteLength},sendHints.typedArray)):webidl.is.Blob(data)&&(this.#bufferedAmount+=data.size,this.#sendQueue.add(data,()=>{this.#bufferedAmount-=data.size},sendHints.blob))}get readyState(){return webidl.brandCheck(this,_WebSocket),this.#handler.readyState}get bufferedAmount(){return webidl.brandCheck(this,_WebSocket),this.#bufferedAmount}get url(){return webidl.brandCheck(this,_WebSocket),URLSerializer(this.#url)}get extensions(){return webidl.brandCheck(this,_WebSocket),this.#extensions}get protocol(){return webidl.brandCheck(this,_WebSocket),this.#protocol}get onopen(){return webidl.brandCheck(this,_WebSocket),this.#events.open}set onopen(fn){webidl.brandCheck(this,_WebSocket),this.#events.open&&this.removeEventListener("open",this.#events.open);let listener=webidl.converters.EventHandlerNonNull(fn);listener!==null?(this.addEventListener("open",listener),this.#events.open=fn):this.#events.open=null}get onerror(){return webidl.brandCheck(this,_WebSocket),this.#events.error}set onerror(fn){webidl.brandCheck(this,_WebSocket),this.#events.error&&this.removeEventListener("error",this.#events.error);let listener=webidl.converters.EventHandlerNonNull(fn);listener!==null?(this.addEventListener("error",listener),this.#events.error=fn):this.#events.error=null}get onclose(){return webidl.brandCheck(this,_WebSocket),this.#events.close}set onclose(fn){webidl.brandCheck(this,_WebSocket),this.#events.close&&this.removeEventListener("close",this.#events.close);let listener=webidl.converters.EventHandlerNonNull(fn);listener!==null?(this.addEventListener("close",listener),this.#events.close=fn):this.#events.close=null}get onmessage(){return webidl.brandCheck(this,_WebSocket),this.#events.message}set onmessage(fn){webidl.brandCheck(this,_WebSocket),this.#events.message&&this.removeEventListener("message",this.#events.message);let listener=webidl.converters.EventHandlerNonNull(fn);listener!==null?(this.addEventListener("message",listener),this.#events.message=fn):this.#events.message=null}get binaryType(){return webidl.brandCheck(this,_WebSocket),this.#binaryType}set binaryType(type){webidl.brandCheck(this,_WebSocket),type!=="blob"&&type!=="arraybuffer"?this.#binaryType="blob":this.#binaryType=type}#onConnectionEstablished(response,parsedExtensions){this.#handler.socket=response.socket;let parser=new ByteParser(this.#handler,parsedExtensions);parser.on("drain",()=>this.#handler.onParserDrain()),parser.on("error",err=>this.#handler.onParserError(err)),this.#parser=parser,this.#sendQueue=new SendQueue(response.socket),this.#handler.readyState=states.OPEN;let extensions=response.headersList.get("sec-websocket-extensions");extensions!==null&&(this.#extensions=extensions);let protocol=response.headersList.get("sec-websocket-protocol");if(protocol!==null&&(this.#protocol=protocol),fireEvent("open",this),channels.open.hasSubscribers){let headers=response.headersList.entries;channels.open.publish({address:response.socket.address(),protocol:this.#protocol,extensions:this.#extensions,websocket:this,handshakeResponse:{status:response.status,statusText:response.statusText,headers}})}}#onMessage(type,data){if(this.#handler.readyState!==states.OPEN)return;let dataForEvent;if(type===opcodes.TEXT)try{dataForEvent=utf8Decode(data)}catch{failWebsocketConnection(this.#handler,1007,"Received invalid UTF-8 in text frame.");return}else type===opcodes.BINARY&&(this.#binaryType==="blob"?dataForEvent=new Blob([data]):dataForEvent=toArrayBuffer(data));fireEvent("message",this,createFastMessageEvent,{origin:this.#url.origin,data:dataForEvent})}#onParserDrain(){this.#handler.socket.resume()}#onSocketClose(){let wasClean=this.#handler.closeState.has(sentCloseFrameState.SENT)&&this.#handler.closeState.has(sentCloseFrameState.RECEIVED),code2=1005,reason="",result=this.#parser?.closingInfo;result&&!result.error&&(code2=result.code??1005,reason=result.reason),this.#handler.readyState=states.CLOSED,this.#handler.closeState.has(sentCloseFrameState.RECEIVED)||(code2=1006,fireEvent("error",this,(type,init)=>new ErrorEvent(type,init),{error:new TypeError(reason)})),fireEvent("close",this,(type,init)=>new CloseEvent(type,init),{wasClean,code:code2,reason}),channels.close.hasSubscribers&&channels.close.publish({websocket:this,code:code2,reason})}static ping(ws,buffer){if(Buffer.isBuffer(buffer)){if(buffer.length>125)throw new TypeError("A PING frame cannot have a body larger than 125 bytes.")}else if(buffer!==void 0)throw new TypeError("Expected buffer payload");let readyState=ws.#handler.readyState;if(isEstablished(readyState)&&!isClosing(readyState)&&!isClosed(readyState)){let frame=new WebsocketFrameSend(buffer);ws.#handler.socket.write(frame.createFrame(opcodes.PING))}}},{ping}=WebSocket;Reflect.deleteProperty(WebSocket,"ping");WebSocket.CONNECTING=WebSocket.prototype.CONNECTING=states.CONNECTING;WebSocket.OPEN=WebSocket.prototype.OPEN=states.OPEN;WebSocket.CLOSING=WebSocket.prototype.CLOSING=states.CLOSING;WebSocket.CLOSED=WebSocket.prototype.CLOSED=states.CLOSED;Object.defineProperties(WebSocket.prototype,{CONNECTING:staticPropertyDescriptors,OPEN:staticPropertyDescriptors,CLOSING:staticPropertyDescriptors,CLOSED:staticPropertyDescriptors,url:kEnumerableProperty,readyState:kEnumerableProperty,bufferedAmount:kEnumerableProperty,onopen:kEnumerableProperty,onerror:kEnumerableProperty,onclose:kEnumerableProperty,close:kEnumerableProperty,onmessage:kEnumerableProperty,binaryType:kEnumerableProperty,send:kEnumerableProperty,extensions:kEnumerableProperty,protocol:kEnumerableProperty,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(WebSocket,{CONNECTING:staticPropertyDescriptors,OPEN:staticPropertyDescriptors,CLOSING:staticPropertyDescriptors,CLOSED:staticPropertyDescriptors});webidl.converters["sequence<DOMString>"]=webidl.sequenceConverter(webidl.converters.DOMString);webidl.converters["DOMString or sequence<DOMString>"]=function(V,prefix,argument){return webidl.util.Type(V)===webidl.util.Types.OBJECT&&Symbol.iterator in V?webidl.converters["sequence<DOMString>"](V):webidl.converters.DOMString(V,prefix,argument)};webidl.converters.WebSocketInit=webidl.dictionaryConverter([{key:"protocols",converter:webidl.converters["DOMString or sequence<DOMString>"],defaultValue:()=>[]},{key:"dispatcher",converter:webidl.converters.any,defaultValue:()=>getGlobalDispatcher()},{key:"headers",converter:webidl.nullableConverter(webidl.converters.HeadersInit)}]);webidl.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(V){return webidl.util.Type(V)===webidl.util.Types.OBJECT&&!(Symbol.iterator in V)?webidl.converters.WebSocketInit(V):{protocols:webidl.converters["DOMString or sequence<DOMString>"](V)}};webidl.converters.WebSocketSendData=function(V){return webidl.util.Type(V)===webidl.util.Types.OBJECT&&(webidl.is.Blob(V)||webidl.is.BufferSource(V))?V:webidl.converters.USVString(V)};module2.exports={WebSocket,ping}}});var require_websocketerror=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/websocket/stream/websocketerror.js"(exports2,module2){"use strict";var{webidl}=require_webidl(),{validateCloseCodeAndReason}=require_util7(),{kConstruct}=require_symbols4(),{kEnumerableProperty}=require_util3();function createInheritableDOMException(){class Test extends DOMException{get reason(){return""}}return new Test().reason!==void 0?DOMException:new Proxy(DOMException,{construct(target,args,newTarget){let instance=Reflect.construct(target,args,target);return Object.setPrototypeOf(instance,newTarget.prototype),instance}})}var WebSocketError=class _WebSocketError extends createInheritableDOMException(){#closeCode;#reason;constructor(message="",init=void 0){if(message=webidl.converters.DOMString(message,"WebSocketError","message"),super(message,"WebSocketError"),init===kConstruct)return;init!==null&&(init=webidl.converters.WebSocketCloseInfo(init));let code2=init.closeCode??null,reason=init.reason??"";validateCloseCodeAndReason(code2,reason),reason.length!==0&&code2===null&&(code2=1e3),this.#closeCode=code2,this.#reason=reason}get closeCode(){return this.#closeCode}get reason(){return this.#reason}static createUnvalidatedWebSocketError(message,code2,reason){let error=new _WebSocketError(message,kConstruct);return error.#closeCode=code2,error.#reason=reason,error}},{createUnvalidatedWebSocketError}=WebSocketError;delete WebSocketError.createUnvalidatedWebSocketError;Object.defineProperties(WebSocketError.prototype,{closeCode:kEnumerableProperty,reason:kEnumerableProperty,[Symbol.toStringTag]:{value:"WebSocketError",writable:!1,enumerable:!1,configurable:!0}});webidl.is.WebSocketError=webidl.util.MakeTypeAssertion(WebSocketError);module2.exports={WebSocketError,createUnvalidatedWebSocketError}}});var require_websocketstream=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/websocket/stream/websocketstream.js"(exports2,module2){"use strict";var{createDeferredPromise}=require_promise2(),{environmentSettingsObject}=require_util4(),{states,opcodes,sentCloseFrameState}=require_constants8(),{webidl}=require_webidl(),{getURLRecord,isValidSubprotocol,isEstablished,utf8Decode}=require_util7(),{establishWebSocketConnection,failWebsocketConnection,closeWebSocketConnection}=require_connection(),{channels}=require_diagnostics(),{WebsocketFrameSend}=require_frame(),{ByteParser}=require_receiver(),{WebSocketError,createUnvalidatedWebSocketError}=require_websocketerror(),{utf8DecodeBytes}=require_util4(),{kEnumerableProperty}=require_util3(),emittedExperimentalWarning=!1,WebSocketStream=class{#url;#openedPromise;#closedPromise;#readableStream;#readableStreamController;#writableStream;#handshakeAborted=!1;#handler={onConnectionEstablished:(response,extensions)=>this.#onConnectionEstablished(response,extensions),onMessage:(opcode,data)=>this.#onMessage(opcode,data),onParserError:err=>failWebsocketConnection(this.#handler,null,err.message),onParserDrain:()=>this.#handler.socket.resume(),onSocketData:chunk=>{this.#parser.write(chunk)||this.#handler.socket.pause()},onSocketError:err=>{this.#handler.readyState=states.CLOSING,channels.socketError.hasSubscribers&&channels.socketError.publish(err),this.#handler.socket.destroy()},onSocketClose:()=>this.#onSocketClose(),onPing:()=>{},onPong:()=>{},readyState:states.CONNECTING,socket:null,closeState:new Set,controller:null,wasEverConnected:!1};#parser;constructor(url,options2=void 0){emittedExperimentalWarning||(process.emitWarning("WebSocketStream is experimental! Expect it to change at any time.",{code:"UNDICI-WSS"}),emittedExperimentalWarning=!0),webidl.argumentLengthCheck(arguments,1,"WebSocket"),url=webidl.converters.USVString(url),options2!==null&&(options2=webidl.converters.WebSocketStreamOptions(options2));let baseURL=environmentSettingsObject.settingsObject.baseUrl,urlRecord=getURLRecord(url,baseURL),protocols=options2.protocols;if(protocols.length!==new Set(protocols.map(p=>p.toLowerCase())).size)throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(protocols.length>0&&!protocols.every(p=>isValidSubprotocol(p)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(this.#url=urlRecord.toString(),this.#openedPromise=createDeferredPromise(),this.#closedPromise=createDeferredPromise(),options2.signal!=null){let signal=options2.signal;if(signal.aborted){this.#openedPromise.reject(signal.reason),this.#closedPromise.reject(signal.reason);return}signal.addEventListener("abort",()=>{isEstablished(this.#handler.readyState)||(failWebsocketConnection(this.#handler),this.#handler.readyState=states.CLOSING,this.#openedPromise.reject(signal.reason),this.#closedPromise.reject(signal.reason),this.#handshakeAborted=!0)},{once:!0})}let client=environmentSettingsObject.settingsObject;this.#handler.controller=establishWebSocketConnection(urlRecord,protocols,client,this.#handler,options2)}get url(){return this.#url.toString()}get opened(){return this.#openedPromise.promise}get closed(){return this.#closedPromise.promise}close(closeInfo=void 0){closeInfo!==null&&(closeInfo=webidl.converters.WebSocketCloseInfo(closeInfo));let code2=closeInfo.closeCode??null,reason=closeInfo.reason;closeWebSocketConnection(this.#handler,code2,reason,!0)}#write(chunk){chunk=webidl.converters.WebSocketStreamWrite(chunk);let promise=createDeferredPromise(),data=null,opcode=null;if(webidl.is.BufferSource(chunk))data=new Uint8Array(ArrayBuffer.isView(chunk)?new Uint8Array(chunk.buffer,chunk.byteOffset,chunk.byteLength):chunk.slice()),opcode=opcodes.BINARY;else{let string;try{string=webidl.converters.DOMString(chunk)}catch(e){return promise.reject(e),promise.promise}data=new TextEncoder().encode(string),opcode=opcodes.TEXT}if(!this.#handler.closeState.has(sentCloseFrameState.SENT)&&!this.#handler.closeState.has(sentCloseFrameState.RECEIVED)){let frame=new WebsocketFrameSend(data);this.#handler.socket.write(frame.createFrame(opcode),()=>{promise.resolve(void 0)})}return promise.promise}#onConnectionEstablished(response,parsedExtensions){this.#handler.socket=response.socket;let parser=new ByteParser(this.#handler,parsedExtensions);parser.on("drain",()=>this.#handler.onParserDrain()),parser.on("error",err=>this.#handler.onParserError(err)),this.#parser=parser,this.#handler.readyState=states.OPEN;let extensions=parsedExtensions??"",protocol=response.headersList.get("sec-websocket-protocol")??"",readable=new ReadableStream({start:controller=>{this.#readableStreamController=controller},pull(controller){let chunk;for(;controller.desiredSize>0&&(chunk=response.socket.read())!==null;)controller.enqueue(chunk)},cancel:reason=>this.#cancel(reason)}),writable=new WritableStream({write:chunk=>this.#write(chunk),close:()=>closeWebSocketConnection(this.#handler,null,null),abort:reason=>this.#closeUsingReason(reason)});this.#readableStream=readable,this.#writableStream=writable,this.#openedPromise.resolve({extensions,protocol,readable,writable})}#onMessage(type,data){if(this.#handler.readyState!==states.OPEN)return;let chunk;if(type===opcodes.TEXT)try{chunk=utf8Decode(data)}catch{failWebsocketConnection(this.#handler,"Received invalid UTF-8 in text frame.");return}else type===opcodes.BINARY&&(chunk=new Uint8Array(data.buffer,data.byteOffset,data.byteLength));this.#readableStreamController.enqueue(chunk)}#onSocketClose(){let wasClean=this.#handler.closeState.has(sentCloseFrameState.SENT)&&this.#handler.closeState.has(sentCloseFrameState.RECEIVED);if(this.#handler.readyState=states.CLOSED,this.#handshakeAborted)return;this.#handler.wasEverConnected||this.#openedPromise.reject(new WebSocketError("Socket never opened"));let result=this.#parser.closingInfo,code2=result?.code??1005;!this.#handler.closeState.has(sentCloseFrameState.SENT)&&!this.#handler.closeState.has(sentCloseFrameState.RECEIVED)&&(code2=1006);let reason=result?.reason==null?"":utf8DecodeBytes(Buffer.from(result.reason));if(wasClean)this.#readableStreamController.close(),this.#writableStream.locked||this.#writableStream.abort(new DOMException("A closed WebSocketStream cannot be written to","InvalidStateError")),this.#closedPromise.resolve({closeCode:code2,reason});else{let error=createUnvalidatedWebSocketError("unclean close",code2,reason);this.#readableStreamController.error(error),this.#writableStream.abort(error),this.#closedPromise.reject(error)}}#closeUsingReason(reason){let code2=null,reasonString="";webidl.is.WebSocketError(reason)&&(code2=reason.closeCode,reasonString=reason.reason),closeWebSocketConnection(this.#handler,code2,reasonString)}#cancel(reason){this.#closeUsingReason(reason)}};Object.defineProperties(WebSocketStream.prototype,{url:kEnumerableProperty,opened:kEnumerableProperty,closed:kEnumerableProperty,close:kEnumerableProperty,[Symbol.toStringTag]:{value:"WebSocketStream",writable:!1,enumerable:!1,configurable:!0}});webidl.converters.WebSocketStreamOptions=webidl.dictionaryConverter([{key:"protocols",converter:webidl.sequenceConverter(webidl.converters.USVString),defaultValue:()=>[]},{key:"signal",converter:webidl.nullableConverter(webidl.converters.AbortSignal),defaultValue:()=>null}]);webidl.converters.WebSocketCloseInfo=webidl.dictionaryConverter([{key:"closeCode",converter:V=>webidl.converters["unsigned short"](V,webidl.attributes.EnforceRange)},{key:"reason",converter:webidl.converters.USVString,defaultValue:()=>""}]);webidl.converters.WebSocketStreamWrite=function(V){return typeof V=="string"?webidl.converters.USVString(V):webidl.converters.BufferSource(V)};module2.exports={WebSocketStream}}});var require_util8=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/eventsource/util.js"(exports2,module2){"use strict";function isValidLastEventId(value){return value.indexOf("\0")===-1}function isASCIINumber(value){if(value.length===0)return!1;for(let i=0;i<value.length;i++)if(value.charCodeAt(i)<48||value.charCodeAt(i)>57)return!1;return!0}module2.exports={isValidLastEventId,isASCIINumber}}});var require_eventsource_stream=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/eventsource/eventsource-stream.js"(exports2,module2){"use strict";var{Transform}=require("node:stream"),{isASCIINumber,isValidLastEventId}=require_util8(),BOM=[239,187,191],LF=10,CR=13,COLON=58,SPACE=32,EventSourceStream=class extends Transform{state;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(options2={}){options2.readableObjectMode=!0,super(options2),this.state=options2.eventSourceSettings||{},options2.push&&(this.push=options2.push)}_transform(chunk,_encoding,callback){if(chunk.length===0){callback();return}if(this.buffer?this.buffer=Buffer.concat([this.buffer,chunk]):this.buffer=chunk,this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===BOM[0]){callback();return}this.checkBOM=!1,callback();return;case 2:if(this.buffer[0]===BOM[0]&&this.buffer[1]===BOM[1]){callback();return}this.checkBOM=!1;break;case 3:if(this.buffer[0]===BOM[0]&&this.buffer[1]===BOM[1]&&this.buffer[2]===BOM[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,callback();return}this.checkBOM=!1;break;default:this.buffer[0]===BOM[0]&&this.buffer[1]===BOM[1]&&this.buffer[2]===BOM[2]&&(this.buffer=this.buffer.subarray(3)),this.checkBOM=!1;break}for(;this.pos<this.buffer.length;){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===LF){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===LF||this.buffer[this.pos]===CR){this.buffer[this.pos]===CR&&(this.crlfCheck=!0),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,(this.event.data!==void 0||this.event.event||this.event.id!==void 0||this.event.retry)&&this.processEvent(this.event),this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===LF||this.buffer[this.pos]===CR){this.buffer[this.pos]===CR&&(this.crlfCheck=!0),this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}callback()}parseLine(line,event){if(line.length===0)return;let colonPosition=line.indexOf(COLON);if(colonPosition===0)return;let field="",value="";if(colonPosition!==-1){field=line.subarray(0,colonPosition).toString("utf8");let valueStart=colonPosition+1;line[valueStart]===SPACE&&++valueStart,value=line.subarray(valueStart).toString("utf8")}else field=line.toString("utf8"),value="";switch(field){case"data":event[field]===void 0?event[field]=value:event[field]+=`
${value}`;break;case"retry":isASCIINumber(value)&&(event[field]=value);break;case"id":isValidLastEventId(value)&&(event[field]=value);break;case"event":value.length>0&&(event[field]=value);break}}processEvent(event){event.retry&&isASCIINumber(event.retry)&&(this.state.reconnectionTime=parseInt(event.retry,10)),event.id!==void 0&&isValidLastEventId(event.id)&&(this.state.lastEventId=event.id),event.data!==void 0&&this.push({type:event.event||"message",options:{data:event.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}};module2.exports={EventSourceStream}}});var require_eventsource=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/lib/web/eventsource/eventsource.js"(exports2,module2){"use strict";var{pipeline}=require("node:stream"),{fetching}=require_fetch(),{makeRequest}=require_request4(),{webidl}=require_webidl(),{EventSourceStream}=require_eventsource_stream(),{parseMIMEType}=require_data_url(),{createFastMessageEvent}=require_events(),{isNetworkError}=require_response2(),{kEnumerableProperty}=require_util3(),{environmentSettingsObject}=require_util4(),experimentalWarned=!1,defaultReconnectionTime=3e3,CONNECTING=0,OPEN2=1,CLOSED=2,ANONYMOUS="anonymous",USE_CREDENTIALS="use-credentials",EventSource=class _EventSource extends EventTarget{#events={open:null,error:null,message:null};#url;#withCredentials=!1;#readyState=CONNECTING;#request=null;#controller=null;#dispatcher;#state;constructor(url,eventSourceInitDict={}){super(),webidl.util.markAsUncloneable(this);let prefix="EventSource constructor";webidl.argumentLengthCheck(arguments,1,prefix),experimentalWarned||(experimentalWarned=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"})),url=webidl.converters.USVString(url),eventSourceInitDict=webidl.converters.EventSourceInitDict(eventSourceInitDict,prefix,"eventSourceInitDict"),this.#dispatcher=eventSourceInitDict.node.dispatcher||eventSourceInitDict.dispatcher,this.#state={lastEventId:"",reconnectionTime:eventSourceInitDict.node.reconnectionTime};let settings=environmentSettingsObject,urlRecord;try{urlRecord=new URL(url,settings.settingsObject.baseUrl),this.#state.origin=urlRecord.origin}catch(e){throw new DOMException(e,"SyntaxError")}this.#url=urlRecord.href;let corsAttributeState=ANONYMOUS;eventSourceInitDict.withCredentials===!0&&(corsAttributeState=USE_CREDENTIALS,this.#withCredentials=!0);let initRequest={redirect:"follow",keepalive:!0,mode:"cors",credentials:corsAttributeState==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};initRequest.client=environmentSettingsObject.settingsObject,initRequest.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],initRequest.cache="no-store",initRequest.initiator="other",initRequest.urlList=[new URL(this.#url)],this.#request=makeRequest(initRequest),this.#connect()}get readyState(){return this.#readyState}get url(){return this.#url}get withCredentials(){return this.#withCredentials}#connect(){if(this.#readyState===CLOSED)return;this.#readyState=CONNECTING;let fetchParams={request:this.#request,dispatcher:this.#dispatcher},processEventSourceEndOfBody=response=>{if(!isNetworkError(response))return this.#reconnect()};fetchParams.processResponseEndOfBody=processEventSourceEndOfBody,fetchParams.processResponse=response=>{if(isNetworkError(response))if(response.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#reconnect();return}let contentType=response.headersList.get("content-type",!0),mimeType=contentType!==null?parseMIMEType(contentType):"failure",contentTypeValid=mimeType!=="failure"&&mimeType.essence==="text/event-stream";if(response.status!==200||contentTypeValid===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#readyState=OPEN2,this.dispatchEvent(new Event("open")),this.#state.origin=response.urlList[response.urlList.length-1].origin;let eventSourceStream=new EventSourceStream({eventSourceSettings:this.#state,push:event=>{this.dispatchEvent(createFastMessageEvent(event.type,event.options))}});pipeline(response.body.stream,eventSourceStream,error=>{error?.aborted===!1&&(this.close(),this.dispatchEvent(new Event("error")))})},this.#controller=fetching(fetchParams)}#reconnect(){this.#readyState!==CLOSED&&(this.#readyState=CONNECTING,this.dispatchEvent(new Event("error")),setTimeout(()=>{this.#readyState===CONNECTING&&(this.#state.lastEventId.length&&this.#request.headersList.set("last-event-id",this.#state.lastEventId,!0),this.#connect())},this.#state.reconnectionTime)?.unref())}close(){webidl.brandCheck(this,_EventSource),this.#readyState!==CLOSED&&(this.#readyState=CLOSED,this.#controller.abort(),this.#request=null)}get onopen(){return this.#events.open}set onopen(fn){this.#events.open&&this.removeEventListener("open",this.#events.open);let listener=webidl.converters.EventHandlerNonNull(fn);listener!==null?(this.addEventListener("open",listener),this.#events.open=fn):this.#events.open=null}get onmessage(){return this.#events.message}set onmessage(fn){this.#events.message&&this.removeEventListener("message",this.#events.message);let listener=webidl.converters.EventHandlerNonNull(fn);listener!==null?(this.addEventListener("message",listener),this.#events.message=fn):this.#events.message=null}get onerror(){return this.#events.error}set onerror(fn){this.#events.error&&this.removeEventListener("error",this.#events.error);let listener=webidl.converters.EventHandlerNonNull(fn);listener!==null?(this.addEventListener("error",listener),this.#events.error=fn):this.#events.error=null}},constantsPropertyDescriptors={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:CONNECTING,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:OPEN2,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:CLOSED,writable:!1}};Object.defineProperties(EventSource,constantsPropertyDescriptors);Object.defineProperties(EventSource.prototype,constantsPropertyDescriptors);Object.defineProperties(EventSource.prototype,{close:kEnumerableProperty,onerror:kEnumerableProperty,onmessage:kEnumerableProperty,onopen:kEnumerableProperty,readyState:kEnumerableProperty,url:kEnumerableProperty,withCredentials:kEnumerableProperty});webidl.converters.EventSourceInitDict=webidl.dictionaryConverter([{key:"withCredentials",converter:webidl.converters.boolean,defaultValue:()=>!1},{key:"dispatcher",converter:webidl.converters.any},{key:"node",converter:webidl.dictionaryConverter([{key:"reconnectionTime",converter:webidl.converters["unsigned long"],defaultValue:()=>defaultReconnectionTime},{key:"dispatcher",converter:webidl.converters.any}]),defaultValue:()=>({})}]);module2.exports={EventSource,defaultReconnectionTime}}});var require_undici=__commonJS({"../../../../node_modules/@fastify/reply-from/node_modules/undici/index.js"(exports2,module2){"use strict";var Client=require_client(),Dispatcher=require_dispatcher(),Pool=require_pool(),BalancedPool=require_balanced_pool(),Agent=require_agent(),ProxyAgent=require_proxy_agent(),EnvHttpProxyAgent=require_env_http_proxy_agent(),RetryAgent=require_retry_agent(),H2CClient=require_h2c_client(),errors=require_errors5(),util3=require_util3(),{InvalidArgumentError}=errors,api=require_api(),buildConnector=require_connect(),MockClient=require_mock_client(),{MockCallHistory,MockCallHistoryLog}=require_mock_call_history(),MockAgent=require_mock_agent(),MockPool=require_mock_pool(),SnapshotAgent=require_snapshot_agent(),mockErrors=require_mock_errors(),RetryHandler=require_retry_handler(),{getGlobalDispatcher,setGlobalDispatcher}=require_global2(),DecoratorHandler=require_decorator_handler(),RedirectHandler=require_redirect_handler();Object.assign(Dispatcher.prototype,api);module2.exports.Dispatcher=Dispatcher;module2.exports.Client=Client;module2.exports.Pool=Pool;module2.exports.BalancedPool=BalancedPool;module2.exports.Agent=Agent;module2.exports.ProxyAgent=ProxyAgent;module2.exports.EnvHttpProxyAgent=EnvHttpProxyAgent;module2.exports.RetryAgent=RetryAgent;module2.exports.H2CClient=H2CClient;module2.exports.RetryHandler=RetryHandler;module2.exports.DecoratorHandler=DecoratorHandler;module2.exports.RedirectHandler=RedirectHandler;module2.exports.interceptors={redirect:require_redirect(),responseError:require_response_error(),retry:require_retry(),dump:require_dump(),dns:require_dns(),cache:require_cache2(),decompress:require_decompress()};module2.exports.cacheStores={MemoryCacheStore:require_memory_cache_store()};var SqliteCacheStore=require_sqlite_cache_store();module2.exports.cacheStores.SqliteCacheStore=SqliteCacheStore;module2.exports.buildConnector=buildConnector;module2.exports.errors=errors;module2.exports.util={parseHeaders:util3.parseHeaders,headerNameToString:util3.headerNameToString};function makeDispatcher(fn){return(url,opts,handler)=>{if(typeof opts=="function"&&(handler=opts,opts=null),!url||typeof url!="string"&&typeof url!="object"&&!(url instanceof URL))throw new InvalidArgumentError("invalid url");if(opts!=null&&typeof opts!="object")throw new InvalidArgumentError("invalid opts");if(opts&&opts.path!=null){if(typeof opts.path!="string")throw new InvalidArgumentError("invalid opts.path");let path5=opts.path;opts.path.startsWith("/")||(path5=`/${path5}`),url=new URL(util3.parseOrigin(url).origin+path5)}else opts||(opts=typeof url=="object"?url:{}),url=util3.parseURL(url);let{agent,dispatcher=getGlobalDispatcher()}=opts;if(agent)throw new InvalidArgumentError("unsupported opts.agent. Did you mean opts.client?");return fn.call(dispatcher,{...opts,origin:url.origin,path:url.search?`${url.pathname}${url.search}`:url.pathname,method:opts.method||(opts.body?"PUT":"GET")},handler)}}module2.exports.setGlobalDispatcher=setGlobalDispatcher;module2.exports.getGlobalDispatcher=getGlobalDispatcher;var fetchImpl=require_fetch().fetch;module2.exports.fetch=function(init,options2=void 0){return fetchImpl(init,options2).catch(err=>{throw err&&typeof err=="object"&&Error.captureStackTrace(err),err})};module2.exports.Headers=require_headers().Headers;module2.exports.Response=require_response2().Response;module2.exports.Request=require_request4().Request;module2.exports.FormData=require_formdata().FormData;var{setGlobalOrigin,getGlobalOrigin}=require_global();module2.exports.setGlobalOrigin=setGlobalOrigin;module2.exports.getGlobalOrigin=getGlobalOrigin;var{CacheStorage}=require_cachestorage(),{kConstruct}=require_symbols4();module2.exports.caches=new CacheStorage(kConstruct);var{deleteCookie,getCookies,getSetCookies,setCookie,parseCookie}=require_cookies();module2.exports.deleteCookie=deleteCookie;module2.exports.getCookies=getCookies;module2.exports.getSetCookies=getSetCookies;module2.exports.setCookie=setCookie;module2.exports.parseCookie=parseCookie;var{parseMIMEType,serializeAMimeType}=require_data_url();module2.exports.parseMIMEType=parseMIMEType;module2.exports.serializeAMimeType=serializeAMimeType;var{CloseEvent,ErrorEvent,MessageEvent}=require_events(),{WebSocket,ping}=require_websocket();module2.exports.WebSocket=WebSocket;module2.exports.CloseEvent=CloseEvent;module2.exports.ErrorEvent=ErrorEvent;module2.exports.MessageEvent=MessageEvent;module2.exports.ping=ping;module2.exports.WebSocketStream=require_websocketstream().WebSocketStream;module2.exports.WebSocketError=require_websocketerror().WebSocketError;module2.exports.request=makeDispatcher(api.request);module2.exports.stream=makeDispatcher(api.stream);module2.exports.pipeline=makeDispatcher(api.pipeline);module2.exports.connect=makeDispatcher(api.connect);module2.exports.upgrade=makeDispatcher(api.upgrade);module2.exports.MockClient=MockClient;module2.exports.MockCallHistory=MockCallHistory;module2.exports.MockCallHistoryLog=MockCallHistoryLog;module2.exports.MockPool=MockPool;module2.exports.MockAgent=MockAgent;module2.exports.SnapshotAgent=SnapshotAgent;module2.exports.mockErrors=mockErrors;var{EventSource}=require_eventsource();module2.exports.EventSource=EventSource;function install(){globalThis.fetch=module2.exports.fetch,globalThis.Headers=module2.exports.Headers,globalThis.Response=module2.exports.Response,globalThis.Request=module2.exports.Request,globalThis.FormData=module2.exports.FormData,globalThis.WebSocket=module2.exports.WebSocket,globalThis.CloseEvent=module2.exports.CloseEvent,globalThis.ErrorEvent=module2.exports.ErrorEvent,globalThis.MessageEvent=module2.exports.MessageEvent,globalThis.EventSource=module2.exports.EventSource}module2.exports.install=install}});var require_utils4=__commonJS({"../../../../node_modules/@fastify/reply-from/lib/utils.js"(exports2,module2){"use strict";function filterPseudoHeaders(headers){let dest={},headersKeys=Object.keys(headers),header,i;for(i=0;i<headersKeys.length;i++)header=headersKeys[i],header.charCodeAt(0)!==58&&(dest[header.toLowerCase()]=headers[header]);return dest}function copyHeaders2(headers,reply){let headersKeys=Object.keys(headers),header,i;for(i=0;i<headersKeys.length;i++)header=headersKeys[i],header.charCodeAt(0)!==58&&reply.header(header,headers[header])}function stripHttp1ConnectionHeaders(headers){let headersKeys=Object.keys(headers),dest={},header,i;for(i=0;i<headersKeys.length;i++)switch(header=headersKeys[i].toLowerCase(),header){case"connection":case"upgrade":case"http2-settings":case"transfer-encoding":case"proxy-connection":case"keep-alive":case"host":break;case"te":headers.te==="trailers"&&(dest[header]=headers[header]);break;default:dest[header]=headers[header];break}return dest}function buildURL(source,reqBase){if(decodeURIComponent(source).includes("..")){let err=new Error("source/request contain invalid characters");throw err.statusCode=400,err}Array.isArray(reqBase)&&(reqBase=reqBase[0]);let baseOrigin=reqBase?new URL(reqBase).href:void 0;baseOrigin&&source.length>1&&source[0]==="/"&&source[1]==="/"&&(source="."+source);let dest=new URL(source,reqBase);if(baseOrigin&&(!baseOrigin.endsWith("/")&&dest.href.length>baseOrigin.length&&(baseOrigin=baseOrigin+"/"),!dest.href.startsWith(baseOrigin)))throw new Error("source must be a relative path string");return dest}module2.exports={copyHeaders:copyHeaders2,stripHttp1ConnectionHeaders,filterPseudoHeaders,buildURL}}});var require_errors6=__commonJS({"../../../../node_modules/@fastify/reply-from/lib/errors.js"(exports2,module2){"use strict";var createError=require_error();module2.exports.TimeoutError=createError("FST_REPLY_FROM_TIMEOUT","Timeout",504);module2.exports.HttpRequestTimeoutError=createError("FST_REPLY_FROM_HTTP_REQUEST_TIMEOUT","HTTP request timed out",504,module2.exports.TimeoutError);module2.exports.Http2RequestTimeoutError=createError("FST_REPLY_FROM_HTTP2_REQUEST_TIMEOUT","HTTP/2 request timed out",504,module2.exports.TimeoutError);module2.exports.Http2SessionTimeoutError=createError("FST_REPLY_FROM_HTTP2_SESSION_TIMEOUT","HTTP/2 session timed out",504,module2.exports.TimeoutError);module2.exports.ServiceUnavailableError=createError("FST_REPLY_FROM_SERVICE_UNAVAILABLE","Service Unavailable",503);module2.exports.GatewayTimeoutError=createError("FST_REPLY_FROM_GATEWAY_TIMEOUT","Gateway Timeout",504);module2.exports.ConnectionResetError=createError("ECONNRESET","Connection Reset",500);module2.exports.ConnectTimeoutError=createError("UND_ERR_CONNECT_TIMEOUT","Connect Timeout Error",500);module2.exports.UndiciSocketError=createError("UND_ERR_SOCKET","Undici Socket Error",500);module2.exports.InternalServerError=createError("FST_REPLY_FROM_INTERNAL_SERVER_ERROR","%s",500);module2.exports.BadGatewayError=createError("FST_REPLY_FROM_BAD_GATEWAY","Bad Gateway",502)}});var require_request5=__commonJS({"../../../../node_modules/@fastify/reply-from/lib/request.js"(exports2,module2){"use strict";var http=require("node:http"),https=require("node:https"),querystring=require("node:querystring"),eos=require_end_of_stream(),{pipeline}=require("node:stream"),undici=require_undici(),{stripHttp1ConnectionHeaders}=require_utils4(),http2=require("node:http2"),{TimeoutError,Http2RequestTimeoutError,Http2SessionTimeoutError,HttpRequestTimeoutError}=require_errors6();function shouldUseUndici(opts){return!(opts.undici===!1||opts.http||opts.http2)}function isRequestable(obj){return obj!==null&&typeof obj=="object"&&typeof obj.request=="function"}function isUndiciInstance(obj){return obj instanceof undici.Pool||obj instanceof undici.Client||obj instanceof undici.Dispatcher||isRequestable(obj)}function buildRequest(opts){let isHttp2=!!opts.http2;Array.isArray(opts.base)&&opts.base.length===1&&(opts.base=opts.base[0]);let hasUndiciOptions=shouldUseUndici(opts),requests={"http:":http,"https:":https,"unix+http:":{base:http,request:unixRequest},"unix+https:":{base:https,request:unixRequest}},http2Opts=getHttp2Opts(opts),httpOpts=getHttpOpts(opts),baseUrl=Array.isArray(opts.base)?null:opts.base&&new URL(opts.base).origin,isBalanced=Array.isArray(opts.base)&&opts.base.length>1,undiciOpts=opts.undici||{},globalAgent=opts.globalAgent,destroyAgent=opts.destroyAgent,http2Client,undiciAgent,undiciInstance,agents;if(isHttp2){if(!opts.base)return new Error("Option base is required when http2 is true");if(opts.base.startsWith("unix+"))return new Error("Unix socket destination is not supported when http2 is true")}else globalAgent?agents={"http:":http.globalAgent,"https:":https.globalAgent}:agents=httpOpts.agents||{"http:":new http.Agent(httpOpts.agentOptions),"https:":new https.Agent(httpOpts.agentOptions)};if(isHttp2)return{request:handleHttp2Req,close,retryOnError:"ECONNRESET"};if(hasUndiciOptions){if(isBalanced){let origins=opts.base.map(u=>new URL(u).origin);undiciInstance=new undici.BalancedPool(origins,getUndiciOptions(opts.undici))}else if(opts.base?.startsWith("unix+")){let undiciOpts2=getUndiciOptions(opts.undici);undiciOpts2.socketPath=decodeURIComponent(new URL(opts.base).host);let protocol=opts.base.startsWith("unix+https")?"https":"http";undiciInstance=new undici.Pool(protocol+"://localhost",undiciOpts2)}else isUndiciInstance(opts.undici)?undiciInstance=opts.undici:globalAgent?undiciAgent=undici.getGlobalDispatcher():undiciOpts.proxy?undiciAgent=new undici.ProxyAgent(getUndiciProxyOptions(opts.undici)):undiciAgent=new undici.Agent(getUndiciOptions(opts.undici));return{request:handleUndici,close,retryOnError:"UND_ERR_SOCKET"}}else return{request:handleHttp1Req,close,retryOnError:"ECONNRESET"};function close(){globalAgent||destroyAgent===!1||(hasUndiciOptions?(undiciAgent?.destroy(),undiciInstance?.destroy()):isHttp2?http2Client&&http2Client.destroy():(agents["http:"].destroy(),agents["https:"].destroy()))}function handleHttp1Req(opts2,done){let req=requests[opts2.url.protocol].request({method:opts2.method,port:opts2.url.port,path:opts2.url.pathname+opts2.qs,hostname:opts2.url.hostname,headers:opts2.headers,agent:agents[opts2.url.protocol.replace(/^unix:/,"")],...httpOpts.requestOptions,timeout:opts2.timeout??httpOpts.requestOptions.timeout});req.on("error",done),req.on("response",res=>{res.headers["content-type"]==="text/event-stream"&&req.setTimeout(0),done(null,{statusCode:res.statusCode,headers:res.headers,stream:res})}),req.once("timeout",()=>{let err=new HttpRequestTimeoutError;req.abort(),done(err)}),end(req,opts2.body,done)}function handleUndici(opts2,done){let req={origin:baseUrl||opts2.url.origin,path:opts2.url.pathname+opts2.qs,method:opts2.method,headers:Object.assign({},opts2.headers),body:opts2.body,headersTimeout:opts2.timeout??undiciOpts.headersTimeout,bodyTimeout:opts2.timeout??undiciOpts.bodyTimeout},pool;if(undiciInstance)pool=undiciInstance;else if(pool instanceof undici.BalancedPool)delete req.origin;else if(!baseUrl&&opts2.url.protocol.startsWith("unix")){done(new Error("unix socket not supported with undici yet"));return}else pool=undiciAgent;req.headers.connection=void 0,req.headers["transfer-encoding"]=void 0,pool.request(req,function(err,res){if(err){done(err);return}delete res.headers["transfer-encoding"],done(null,{statusCode:res.statusCode,headers:res.headers,stream:res.body})})}function handleHttp2Req(opts2,done){let cancelRequest,sessionTimedOut=!1;(!http2Client||http2Client.destroyed||http2Client.closed)&&(http2Client&&!http2Client.destroyed&&http2Client.destroy(),http2Client=http2.connect(baseUrl,http2Opts.sessionOptions),http2Client.once("error",done),http2Client.setMaxListeners(0),http2Client.setTimeout(http2Opts.sessionTimeout,function(){cancelRequest&&(cancelRequest(),cancelRequest=void 0,sessionTimedOut=!0),http2Client.destroy()}),http2Client.once("connect",()=>{http2Client.setMaxListeners(10),http2Client.removeListener("error",done)}));let req=http2Client.request({":method":opts2.method,":path":opts2.url.pathname+opts2.qs,...stripHttp1ConnectionHeaders(opts2.headers)},http2Opts.requestOptions),isGet=opts2.method==="GET"||opts2.method==="get",isDelete=opts2.method==="DELETE"||opts2.method==="delete";!isGet&&!isDelete&&end(req,opts2.body,done),req.setTimeout(opts2.timeout??http2Opts.requestTimeout,()=>{let err=new Http2RequestTimeoutError;req.close(http2.constants.NGHTTP2_CANCEL),done(err)}),req.once("close",()=>{if(sessionTimedOut){let err=new Http2SessionTimeoutError;done(err)}}),cancelRequest=eos(req,err=>{err&&done(err)}),req.on("response",headers=>{headers["content-type"]==="text/event-stream"&&(req.setTimeout(0),http2Client.setTimeout(0));let statusCode=headers[":status"];done(null,{statusCode,headers,stream:req})})}}module2.exports=buildRequest;module2.exports.TimeoutError=TimeoutError;function unixRequest(opts){return delete opts.port,opts.socketPath=querystring.unescape(opts.hostname),delete opts.hostname,this.base.request(opts)}function end(req,body,cb){!body||typeof body=="string"||body instanceof Uint8Array?req.end(body):body.pipe?pipeline(body,req,err=>{err&&cb(err)}):cb(new Error(`type unsupported for body: ${body.constructor}`))}function getHttp2Opts(opts){if(!opts.http2)return{};let http2Opts=opts.http2;return typeof http2Opts=="boolean"&&(http2Opts={}),http2Opts.sessionOptions=http2Opts.sessionOptions||{},http2Opts.sessionTimeout===void 0&&(http2Opts.sessionTimeout=opts.sessionTimeout||6e4),http2Opts.requestTimeout===void 0&&(http2Opts.requestTimeout=1e4),http2Opts.sessionOptions.rejectUnauthorized=http2Opts.sessionOptions.rejectUnauthorized||!1,http2Opts}function getHttpOpts(opts){let httpOpts=typeof opts.http=="object"?opts.http:{};return httpOpts.requestOptions=httpOpts.requestOptions||{},httpOpts.requestOptions.timeout||(httpOpts.requestOptions.timeout=1e4),httpOpts.requestOptions.rejectUnauthorized=httpOpts.requestOptions.rejectUnauthorized||!1,httpOpts.agentOptions=getAgentOptions(opts),httpOpts}function getAgentOptions(opts){return{keepAlive:!0,keepAliveMsecs:60*1e3,maxSockets:2048,maxFreeSockets:2048,...opts.http?.agentOptions}}function getUndiciProxyOptions({proxy:proxy2,...opts}){return typeof proxy2=="string"||proxy2 instanceof URL?getUndiciOptions({uri:proxy2,...opts}):getUndiciOptions({...proxy2,...opts})}function getUndiciOptions(opts={}){let res={pipelining:1,connections:128,tls:{},...opts};return res.tls.rejectUnauthorized=res.tls.rejectUnauthorized||!1,res}module2.exports.getUndiciOptions=getUndiciOptions}});var require_reply_from=__commonJS({"../../../../node_modules/@fastify/reply-from/index.js"(exports2,module2){"use strict";var http2=require("node:http2"),fp=require_plugin2(),{LruMap}=require_toad_cache(),querystring=require_lib(),fastContentTypeParse=require_fast_content_type_parse(),Stream=require("node:stream"),buildRequest=require_request5(),{filterPseudoHeaders,copyHeaders:copyHeaders2,stripHttp1ConnectionHeaders,buildURL}=require_utils4(),{TimeoutError,ServiceUnavailableError,GatewayTimeoutError,ConnectionResetError,ConnectTimeoutError,UndiciSocketError,InternalServerError,BadGatewayError}=require_errors6(),{NGHTTP2_CANCEL}=http2.constants,fastifyReplyFrom=fp(function(fastify2,opts,next){let contentTypesToEncode=new Set(["application/json",...opts.contentTypesToEncode||[]]),retryMethods=new Set(opts.retryMethods||["GET","HEAD","OPTIONS","TRACE"]),cache=opts.disableCache?void 0:new LruMap(opts.cacheURLs||100),base=opts.base,requestBuilt=buildRequest({http:opts.http,http2:opts.http2,base,sessionTimeout:opts.sessionTimeout,undici:opts.undici,globalAgent:opts.globalAgent,destroyAgent:opts.destroyAgent}),isHttp2=!!opts.http2;if(requestBuilt instanceof Error){next(requestBuilt);return}let{request:request2,close,retryOnError}=requestBuilt,disableRequestLogging=opts.disableRequestLogging||!1;fastify2.decorateReply("from",function(source,opts2){opts2=opts2||{};let req=this.request.raw,method=opts2.method||req.method,timeout=opts2.timeout,onResponse=opts2.onResponse,rewriteHeaders=opts2.rewriteHeaders||headersNoOp,rewriteRequestHeaders=opts2.rewriteRequestHeaders||requestHeadersNoOp,getUpstream=opts2.getUpstream||upstreamNoOp,onError=opts2.onError||onErrorDefault,retriesCount=opts2.retriesCount||0,maxRetriesOn503=opts2.maxRetriesOn503||10,retryDelay=opts2.retryDelay||void 0;if(!source){let requestUrl=req.url,queryIndex=requestUrl.indexOf("?");source=queryIndex>=0?requestUrl.substring(0,queryIndex):requestUrl}let dest=getUpstream(this.request,base),url;if(cache){let cacheKey=dest+source;url=cache.get(cacheKey)||buildURL(source,dest),cache.set(cacheKey,url)}else url=buildURL(source,dest);let sourceHttp2=req.httpVersionMajor===2,headers=sourceHttp2?filterPseudoHeaders(req.headers):{...req.headers};headers.host=url.host;let qs=getQueryString(url.search,req.url,opts2,this.request),body="";if(opts2.body!==void 0)if(opts2.body!==null){if(typeof opts2.body.pipe=="function")throw new Error("sending a new body as a stream is not supported yet");opts2.contentType?body=opts2.body:(body=JSON.stringify(opts2.body),opts2.contentType="application/json"),headers["content-length"]=Buffer.byteLength(body),headers["content-type"]=opts2.contentType}else body=void 0,headers["content-length"]=0,delete headers["content-type"];else if(this.request.body)if(this.request.body instanceof Stream)body=this.request.body;else{let contentType="application/octet-stream";req.headers["content-type"]&&(contentType=fastContentTypeParse.parse(req.headers["content-type"]).type),body=contentTypesToEncode.has(contentType)?JSON.stringify(this.request.body):this.request.body,headers["content-length"]=Buffer.byteLength(body),headers["content-type"]=contentType}if((method==="GET"||method==="HEAD")&&body)throw new Error(`Rewriting the body when doing a ${method} is not allowed`);!disableRequestLogging&&this.request.log.info({source},"fetching from remote server");let requestHeaders=rewriteRequestHeaders(this.request,headers),contentLength=requestHeaders["content-length"],requestImpl,getDefaultDelay=(req2,res,err,retries)=>{if(retryMethods.has(method)&&!contentLength){let retryAfter=42*Math.random()*(retries+1);if(res?.headers["retry-after"]&&(retryAfter=res.headers["retry-after"]),res&&res.statusCode===503&&req2.method==="GET"){if(retriesCount===0&&retries<maxRetriesOn503)return retryAfter}else if(retriesCount>retries&&err&&err.code===retryOnError)return retryAfter}return null};return retryDelay?requestImpl=createRequestRetry(request2,this,(req2,res,err,retries)=>retryDelay({err,req:req2,res,attempt:retries,getDefaultDelay,retriesCount})):requestImpl=createRequestRetry(request2,this,getDefaultDelay),requestImpl({method,url,qs,headers:requestHeaders,body,timeout},(err,res)=>{if(err){this.request.log.warn(err,"response errored"),this.sent||(err.code==="ERR_HTTP2_STREAM_CANCEL"||err.code==="ENOTFOUND"?onError(this,{error:ServiceUnavailableError()}):err instanceof TimeoutError||err.code==="UND_ERR_HEADERS_TIMEOUT"?onError(this,{error:new GatewayTimeoutError}):err.code==="ECONNRESET"?onError(this,{error:new ConnectionResetError}):err.code==="UND_ERR_SOCKET"?onError(this,{error:new UndiciSocketError}):err.code==="UND_ERR_CONNECT_TIMEOUT"?onError(this,{error:new ConnectTimeoutError}):onError(this,{error:new InternalServerError(err.message)}));return}!disableRequestLogging&&this.request.log.info("response received"),sourceHttp2?copyHeaders2(rewriteHeaders(stripHttp1ConnectionHeaders(res.headers),this.request),this):copyHeaders2(rewriteHeaders(res.headers,this.request),this);try{this.code(res.statusCode)}catch(err2){onError(this,{error:new BadGatewayError}),this.request.log.warn(err2,"response has invalid status code")}if(this.request.raw.aborted&&isHttp2){res.stream.close(NGHTTP2_CANCEL);return}onResponse?onResponse(this.request,this,res):this.send(res.stream)}),this}),fastify2.addHook("onReady",done=>{isFastifyMultipartRegistered(fastify2)&&fastify2.log.warn("@fastify/reply-from might not behave as expected when used with @fastify/multipart"),done()}),fastify2.onClose((_fastify,next2)=>{close(),setImmediate(next2)}),next()},{fastify:"5.x",name:"@fastify/reply-from"});function getQueryString(search,reqUrl,opts,request2){if(typeof opts.queryString=="function")return"?"+opts.queryString(search,reqUrl,request2);if(opts.queryString)return"?"+querystring.stringify(opts.queryString);if(search.length>0)return search;let queryIndex=reqUrl.indexOf("?");return queryIndex>0?reqUrl.slice(queryIndex):""}function headersNoOp(headers,_originalReq){return headers}function requestHeadersNoOp(_originalReq,headers){return headers}function upstreamNoOp(_req,base){return base}function onErrorDefault(reply,{error}){reply.send(error)}function isFastifyMultipartRegistered(fastify2){return fastify2.hasPlugin("@fastify/multipart")}function createRequestRetry(requestImpl,reply,retryHandler){function requestRetry(req,cb){let retries=0;function run(){requestImpl(req,function(err,res){let retryDelay=retryHandler(req,res,err,retries);if(!reply.sent&&retryDelay)return retry(retryDelay);cb(err,res)})}function retry(after){retries+=1,setTimeout(run,after)}run()}return requestRetry}module2.exports=fastifyReplyFrom;module2.exports.default=fastifyReplyFrom;module2.exports.fastifyReplyFrom=fastifyReplyFrom}});var require_constants9=__commonJS({"../../../../node_modules/ws/lib/constants.js"(exports2,module2){"use strict";var BINARY_TYPES=["nodebuffer","arraybuffer","fragments"],hasBlob=typeof Blob<"u";hasBlob&&BINARY_TYPES.push("blob");module2.exports={BINARY_TYPES,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}}});var require_buffer_util=__commonJS({"../../../../node_modules/ws/lib/buffer-util.js"(exports2,module2){"use strict";var{EMPTY_BUFFER}=require_constants9(),FastBuffer=Buffer[Symbol.species];function concat(list2,totalLength){if(list2.length===0)return EMPTY_BUFFER;if(list2.length===1)return list2[0];let target=Buffer.allocUnsafe(totalLength),offset=0;for(let i=0;i<list2.length;i++){let buf=list2[i];target.set(buf,offset),offset+=buf.length}return offset<totalLength?new FastBuffer(target.buffer,target.byteOffset,offset):target}function _mask(source,mask,output,offset,length){for(let i=0;i<length;i++)output[offset+i]=source[i]^mask[i&3]}function _unmask(buffer,mask){for(let i=0;i<buffer.length;i++)buffer[i]^=mask[i&3]}function toArrayBuffer(buf){return buf.length===buf.buffer.byteLength?buf.buffer:buf.buffer.slice(buf.byteOffset,buf.byteOffset+buf.length)}function toBuffer(data){if(toBuffer.readOnly=!0,Buffer.isBuffer(data))return data;let buf;return data instanceof ArrayBuffer?buf=new FastBuffer(data):ArrayBuffer.isView(data)?buf=new FastBuffer(data.buffer,data.byteOffset,data.byteLength):(buf=Buffer.from(data),toBuffer.readOnly=!1),buf}module2.exports={concat,mask:_mask,toArrayBuffer,toBuffer,unmask:_unmask};if(!process.env.WS_NO_BUFFER_UTIL)try{let bufferUtil=require("bufferutil");module2.exports.mask=function(source,mask,output,offset,length){length<48?_mask(source,mask,output,offset,length):bufferUtil.mask(source,mask,output,offset,length)},module2.exports.unmask=function(buffer,mask){buffer.length<32?_unmask(buffer,mask):bufferUtil.unmask(buffer,mask)}}catch{}}});var require_limiter=__commonJS({"../../../../node_modules/ws/lib/limiter.js"(exports2,module2){"use strict";var kDone=Symbol("kDone"),kRun=Symbol("kRun"),Limiter=class{constructor(concurrency){this[kDone]=()=>{this.pending--,this[kRun]()},this.concurrency=concurrency||1/0,this.jobs=[],this.pending=0}add(job){this.jobs.push(job),this[kRun]()}[kRun](){if(this.pending!==this.concurrency&&this.jobs.length){let job=this.jobs.shift();this.pending++,job(this[kDone])}}};module2.exports=Limiter}});var require_permessage_deflate2=__commonJS({"../../../../node_modules/ws/lib/permessage-deflate.js"(exports2,module2){"use strict";var zlib2=require("zlib"),bufferUtil=require_buffer_util(),Limiter=require_limiter(),{kStatusCode}=require_constants9(),FastBuffer=Buffer[Symbol.species],TRAILER=Buffer.from([0,0,255,255]),kPerMessageDeflate=Symbol("permessage-deflate"),kTotalLength=Symbol("total-length"),kCallback=Symbol("callback"),kBuffers=Symbol("buffers"),kError=Symbol("error"),zlibLimiter,PerMessageDeflate=class{constructor(options2,isServer,maxPayload){if(this._maxPayload=maxPayload|0,this._options=options2||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!isServer,this._deflate=null,this._inflate=null,this.params=null,!zlibLimiter){let concurrency=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;zlibLimiter=new Limiter(concurrency)}}static get extensionName(){return"permessage-deflate"}offer(){let params={};return this._options.serverNoContextTakeover&&(params.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(params.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(params.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?params.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(params.client_max_window_bits=!0),params}accept(configurations){return configurations=this.normalizeParams(configurations),this.params=this._isServer?this.acceptAsServer(configurations):this.acceptAsClient(configurations),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let callback=this._deflate[kCallback];this._deflate.close(),this._deflate=null,callback&&callback(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(offers){let opts=this._options,accepted=offers.find(params=>!(opts.serverNoContextTakeover===!1&&params.server_no_context_takeover||params.server_max_window_bits&&(opts.serverMaxWindowBits===!1||typeof opts.serverMaxWindowBits=="number"&&opts.serverMaxWindowBits>params.server_max_window_bits)||typeof opts.clientMaxWindowBits=="number"&&!params.client_max_window_bits));if(!accepted)throw new Error("None of the extension offers can be accepted");return opts.serverNoContextTakeover&&(accepted.server_no_context_takeover=!0),opts.clientNoContextTakeover&&(accepted.client_no_context_takeover=!0),typeof opts.serverMaxWindowBits=="number"&&(accepted.server_max_window_bits=opts.serverMaxWindowBits),typeof opts.clientMaxWindowBits=="number"?accepted.client_max_window_bits=opts.clientMaxWindowBits:(accepted.client_max_window_bits===!0||opts.clientMaxWindowBits===!1)&&delete accepted.client_max_window_bits,accepted}acceptAsClient(response){let params=response[0];if(this._options.clientNoContextTakeover===!1&&params.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!params.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(params.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&params.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return params}normalizeParams(configurations){return configurations.forEach(params=>{Object.keys(params).forEach(key=>{let value=params[key];if(value.length>1)throw new Error(`Parameter "${key}" must have only a single value`);if(value=value[0],key==="client_max_window_bits"){if(value!==!0){let num=+value;if(!Number.isInteger(num)||num<8||num>15)throw new TypeError(`Invalid value for parameter "${key}": ${value}`);value=num}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${key}": ${value}`)}else if(key==="server_max_window_bits"){let num=+value;if(!Number.isInteger(num)||num<8||num>15)throw new TypeError(`Invalid value for parameter "${key}": ${value}`);value=num}else if(key==="client_no_context_takeover"||key==="server_no_context_takeover"){if(value!==!0)throw new TypeError(`Invalid value for parameter "${key}": ${value}`)}else throw new Error(`Unknown parameter "${key}"`);params[key]=value})}),configurations}decompress(data,fin,callback){zlibLimiter.add(done=>{this._decompress(data,fin,(err,result)=>{done(),callback(err,result)})})}compress(data,fin,callback){zlibLimiter.add(done=>{this._compress(data,fin,(err,result)=>{done(),callback(err,result)})})}_decompress(data,fin,callback){let endpoint=this._isServer?"client":"server";if(!this._inflate){let key=`${endpoint}_max_window_bits`,windowBits=typeof this.params[key]!="number"?zlib2.Z_DEFAULT_WINDOWBITS:this.params[key];this._inflate=zlib2.createInflateRaw({...this._options.zlibInflateOptions,windowBits}),this._inflate[kPerMessageDeflate]=this,this._inflate[kTotalLength]=0,this._inflate[kBuffers]=[],this._inflate.on("error",inflateOnError),this._inflate.on("data",inflateOnData)}this._inflate[kCallback]=callback,this._inflate.write(data),fin&&this._inflate.write(TRAILER),this._inflate.flush(()=>{let err=this._inflate[kError];if(err){this._inflate.close(),this._inflate=null,callback(err);return}let data2=bufferUtil.concat(this._inflate[kBuffers],this._inflate[kTotalLength]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[kTotalLength]=0,this._inflate[kBuffers]=[],fin&&this.params[`${endpoint}_no_context_takeover`]&&this._inflate.reset()),callback(null,data2)})}_compress(data,fin,callback){let endpoint=this._isServer?"server":"client";if(!this._deflate){let key=`${endpoint}_max_window_bits`,windowBits=typeof this.params[key]!="number"?zlib2.Z_DEFAULT_WINDOWBITS:this.params[key];this._deflate=zlib2.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits}),this._deflate[kTotalLength]=0,this._deflate[kBuffers]=[],this._deflate.on("data",deflateOnData)}this._deflate[kCallback]=callback,this._deflate.write(data),this._deflate.flush(zlib2.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let data2=bufferUtil.concat(this._deflate[kBuffers],this._deflate[kTotalLength]);fin&&(data2=new FastBuffer(data2.buffer,data2.byteOffset,data2.length-4)),this._deflate[kCallback]=null,this._deflate[kTotalLength]=0,this._deflate[kBuffers]=[],fin&&this.params[`${endpoint}_no_context_takeover`]&&this._deflate.reset(),callback(null,data2)})}};module2.exports=PerMessageDeflate;function deflateOnData(chunk){this[kBuffers].push(chunk),this[kTotalLength]+=chunk.length}function inflateOnData(chunk){if(this[kTotalLength]+=chunk.length,this[kPerMessageDeflate]._maxPayload<1||this[kTotalLength]<=this[kPerMessageDeflate]._maxPayload){this[kBuffers].push(chunk);return}this[kError]=new RangeError("Max payload size exceeded"),this[kError].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[kError][kStatusCode]=1009,this.removeListener("data",inflateOnData),this.reset()}function inflateOnError(err){if(this[kPerMessageDeflate]._inflate=null,this[kError]){this[kCallback](this[kError]);return}err[kStatusCode]=1007,this[kCallback](err)}}});var require_validation3=__commonJS({"../../../../node_modules/ws/lib/validation.js"(exports2,module2){"use strict";var{isUtf8}=require("buffer"),{hasBlob}=require_constants9(),tokenChars=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function isValidStatusCode(code2){return code2>=1e3&&code2<=1014&&code2!==1004&&code2!==1005&&code2!==1006||code2>=3e3&&code2<=4999}function _isValidUTF8(buf){let len=buf.length,i=0;for(;i<len;)if((buf[i]&128)===0)i++;else if((buf[i]&224)===192){if(i+1===len||(buf[i+1]&192)!==128||(buf[i]&254)===192)return!1;i+=2}else if((buf[i]&240)===224){if(i+2>=len||(buf[i+1]&192)!==128||(buf[i+2]&192)!==128||buf[i]===224&&(buf[i+1]&224)===128||buf[i]===237&&(buf[i+1]&224)===160)return!1;i+=3}else if((buf[i]&248)===240){if(i+3>=len||(buf[i+1]&192)!==128||(buf[i+2]&192)!==128||(buf[i+3]&192)!==128||buf[i]===240&&(buf[i+1]&240)===128||buf[i]===244&&buf[i+1]>143||buf[i]>244)return!1;i+=4}else return!1;return!0}function isBlob(value){return hasBlob&&typeof value=="object"&&typeof value.arrayBuffer=="function"&&typeof value.type=="string"&&typeof value.stream=="function"&&(value[Symbol.toStringTag]==="Blob"||value[Symbol.toStringTag]==="File")}module2.exports={isBlob,isValidStatusCode,isValidUTF8:_isValidUTF8,tokenChars};if(isUtf8)module2.exports.isValidUTF8=function(buf){return buf.length<24?_isValidUTF8(buf):isUtf8(buf)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let isValidUTF8=require("utf-8-validate");module2.exports.isValidUTF8=function(buf){return buf.length<32?_isValidUTF8(buf):isValidUTF8(buf)}}catch{}}});var require_receiver2=__commonJS({"../../../../node_modules/ws/lib/receiver.js"(exports2,module2){"use strict";var{Writable}=require("stream"),PerMessageDeflate=require_permessage_deflate2(),{BINARY_TYPES,EMPTY_BUFFER,kStatusCode,kWebSocket}=require_constants9(),{concat,toArrayBuffer,unmask}=require_buffer_util(),{isValidStatusCode,isValidUTF8}=require_validation3(),FastBuffer=Buffer[Symbol.species],GET_INFO=0,GET_PAYLOAD_LENGTH_16=1,GET_PAYLOAD_LENGTH_64=2,GET_MASK=3,GET_DATA=4,INFLATING=5,DEFER_EVENT=6,Receiver=class extends Writable{constructor(options2={}){super(),this._allowSynchronousEvents=options2.allowSynchronousEvents!==void 0?options2.allowSynchronousEvents:!0,this._binaryType=options2.binaryType||BINARY_TYPES[0],this._extensions=options2.extensions||{},this._isServer=!!options2.isServer,this._maxPayload=options2.maxPayload|0,this._skipUTF8Validation=!!options2.skipUTF8Validation,this[kWebSocket]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=GET_INFO}_write(chunk,encoding,cb){if(this._opcode===8&&this._state==GET_INFO)return cb();this._bufferedBytes+=chunk.length,this._buffers.push(chunk),this.startLoop(cb)}consume(n){if(this._bufferedBytes-=n,n===this._buffers[0].length)return this._buffers.shift();if(n<this._buffers[0].length){let buf=this._buffers[0];return this._buffers[0]=new FastBuffer(buf.buffer,buf.byteOffset+n,buf.length-n),new FastBuffer(buf.buffer,buf.byteOffset,n)}let dst=Buffer.allocUnsafe(n);do{let buf=this._buffers[0],offset=dst.length-n;n>=buf.length?dst.set(this._buffers.shift(),offset):(dst.set(new Uint8Array(buf.buffer,buf.byteOffset,n),offset),this._buffers[0]=new FastBuffer(buf.buffer,buf.byteOffset+n,buf.length-n)),n-=buf.length}while(n>0);return dst}startLoop(cb){this._loop=!0;do switch(this._state){case GET_INFO:this.getInfo(cb);break;case GET_PAYLOAD_LENGTH_16:this.getPayloadLength16(cb);break;case GET_PAYLOAD_LENGTH_64:this.getPayloadLength64(cb);break;case GET_MASK:this.getMask();break;case GET_DATA:this.getData(cb);break;case INFLATING:case DEFER_EVENT:this._loop=!1;return}while(this._loop);this._errored||cb()}getInfo(cb){if(this._bufferedBytes<2){this._loop=!1;return}let buf=this.consume(2);if((buf[0]&48)!==0){let error=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");cb(error);return}let compressed=(buf[0]&64)===64;if(compressed&&!this._extensions[PerMessageDeflate.extensionName]){let error=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");cb(error);return}if(this._fin=(buf[0]&128)===128,this._opcode=buf[0]&15,this._payloadLength=buf[1]&127,this._opcode===0){if(compressed){let error=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");cb(error);return}if(!this._fragmented){let error=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");cb(error);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let error=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");cb(error);return}this._compressed=compressed}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let error=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");cb(error);return}if(compressed){let error=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");cb(error);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let error=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");cb(error);return}}else{let error=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");cb(error);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(buf[1]&128)===128,this._isServer){if(!this._masked){let error=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");cb(error);return}}else if(this._masked){let error=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");cb(error);return}this._payloadLength===126?this._state=GET_PAYLOAD_LENGTH_16:this._payloadLength===127?this._state=GET_PAYLOAD_LENGTH_64:this.haveLength(cb)}getPayloadLength16(cb){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(cb)}getPayloadLength64(cb){if(this._bufferedBytes<8){this._loop=!1;return}let buf=this.consume(8),num=buf.readUInt32BE(0);if(num>Math.pow(2,21)-1){let error=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");cb(error);return}this._payloadLength=num*Math.pow(2,32)+buf.readUInt32BE(4),this.haveLength(cb)}haveLength(cb){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let error=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");cb(error);return}this._masked?this._state=GET_MASK:this._state=GET_DATA}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=GET_DATA}getData(cb){let data=EMPTY_BUFFER;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}data=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&unmask(data,this._mask)}if(this._opcode>7){this.controlMessage(data,cb);return}if(this._compressed){this._state=INFLATING,this.decompress(data,cb);return}data.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(data)),this.dataMessage(cb)}decompress(data,cb){this._extensions[PerMessageDeflate.extensionName].decompress(data,this._fin,(err,buf)=>{if(err)return cb(err);if(buf.length){if(this._messageLength+=buf.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let error=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");cb(error);return}this._fragments.push(buf)}this.dataMessage(cb),this._state===GET_INFO&&this.startLoop(cb)})}dataMessage(cb){if(!this._fin){this._state=GET_INFO;return}let messageLength=this._messageLength,fragments=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let data;this._binaryType==="nodebuffer"?data=concat(fragments,messageLength):this._binaryType==="arraybuffer"?data=toArrayBuffer(concat(fragments,messageLength)):this._binaryType==="blob"?data=new Blob(fragments):data=fragments,this._allowSynchronousEvents?(this.emit("message",data,!0),this._state=GET_INFO):(this._state=DEFER_EVENT,setImmediate(()=>{this.emit("message",data,!0),this._state=GET_INFO,this.startLoop(cb)}))}else{let buf=concat(fragments,messageLength);if(!this._skipUTF8Validation&&!isValidUTF8(buf)){let error=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");cb(error);return}this._state===INFLATING||this._allowSynchronousEvents?(this.emit("message",buf,!1),this._state=GET_INFO):(this._state=DEFER_EVENT,setImmediate(()=>{this.emit("message",buf,!1),this._state=GET_INFO,this.startLoop(cb)}))}}controlMessage(data,cb){if(this._opcode===8){if(data.length===0)this._loop=!1,this.emit("conclude",1005,EMPTY_BUFFER),this.end();else{let code2=data.readUInt16BE(0);if(!isValidStatusCode(code2)){let error=this.createError(RangeError,`invalid status code ${code2}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");cb(error);return}let buf=new FastBuffer(data.buffer,data.byteOffset+2,data.length-2);if(!this._skipUTF8Validation&&!isValidUTF8(buf)){let error=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");cb(error);return}this._loop=!1,this.emit("conclude",code2,buf),this.end()}this._state=GET_INFO;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",data),this._state=GET_INFO):(this._state=DEFER_EVENT,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",data),this._state=GET_INFO,this.startLoop(cb)}))}createError(ErrorCtor,message,prefix,statusCode,errorCode){this._loop=!1,this._errored=!0;let err=new ErrorCtor(prefix?`Invalid WebSocket frame: ${message}`:message);return Error.captureStackTrace(err,this.createError),err.code=errorCode,err[kStatusCode]=statusCode,err}};module2.exports=Receiver}});var require_sender2=__commonJS({"../../../../node_modules/ws/lib/sender.js"(exports2,module2){"use strict";var{Duplex}=require("stream"),{randomFillSync}=require("crypto"),PerMessageDeflate=require_permessage_deflate2(),{EMPTY_BUFFER,kWebSocket,NOOP}=require_constants9(),{isBlob,isValidStatusCode}=require_validation3(),{mask:applyMask,toBuffer}=require_buffer_util(),kByteLength=Symbol("kByteLength"),maskBuffer=Buffer.alloc(4),RANDOM_POOL_SIZE=8*1024,randomPool,randomPoolPointer=RANDOM_POOL_SIZE,DEFAULT2=0,DEFLATING=1,GET_BLOB_DATA=2,Sender=class _Sender{constructor(socket,extensions,generateMask){this._extensions=extensions||{},generateMask&&(this._generateMask=generateMask,this._maskBuffer=Buffer.alloc(4)),this._socket=socket,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=DEFAULT2,this.onerror=NOOP,this[kWebSocket]=void 0}static frame(data,options2){let mask,merge=!1,offset=2,skipMasking=!1;options2.mask&&(mask=options2.maskBuffer||maskBuffer,options2.generateMask?options2.generateMask(mask):(randomPoolPointer===RANDOM_POOL_SIZE&&(randomPool===void 0&&(randomPool=Buffer.alloc(RANDOM_POOL_SIZE)),randomFillSync(randomPool,0,RANDOM_POOL_SIZE),randomPoolPointer=0),mask[0]=randomPool[randomPoolPointer++],mask[1]=randomPool[randomPoolPointer++],mask[2]=randomPool[randomPoolPointer++],mask[3]=randomPool[randomPoolPointer++]),skipMasking=(mask[0]|mask[1]|mask[2]|mask[3])===0,offset=6);let dataLength;typeof data=="string"?(!options2.mask||skipMasking)&&options2[kByteLength]!==void 0?dataLength=options2[kByteLength]:(data=Buffer.from(data),dataLength=data.length):(dataLength=data.length,merge=options2.mask&&options2.readOnly&&!skipMasking);let payloadLength=dataLength;dataLength>=65536?(offset+=8,payloadLength=127):dataLength>125&&(offset+=2,payloadLength=126);let target=Buffer.allocUnsafe(merge?dataLength+offset:offset);return target[0]=options2.fin?options2.opcode|128:options2.opcode,options2.rsv1&&(target[0]|=64),target[1]=payloadLength,payloadLength===126?target.writeUInt16BE(dataLength,2):payloadLength===127&&(target[2]=target[3]=0,target.writeUIntBE(dataLength,4,6)),options2.mask?(target[1]|=128,target[offset-4]=mask[0],target[offset-3]=mask[1],target[offset-2]=mask[2],target[offset-1]=mask[3],skipMasking?[target,data]:merge?(applyMask(data,mask,target,offset,dataLength),[target]):(applyMask(data,mask,data,0,dataLength),[target,data])):[target,data]}close(code2,data,mask,cb){let buf;if(code2===void 0)buf=EMPTY_BUFFER;else{if(typeof code2!="number"||!isValidStatusCode(code2))throw new TypeError("First argument must be a valid error code number");if(data===void 0||!data.length)buf=Buffer.allocUnsafe(2),buf.writeUInt16BE(code2,0);else{let length=Buffer.byteLength(data);if(length>123)throw new RangeError("The message must not be greater than 123 bytes");buf=Buffer.allocUnsafe(2+length),buf.writeUInt16BE(code2,0),typeof data=="string"?buf.write(data,2):buf.set(data,2)}}let options2={[kByteLength]:buf.length,fin:!0,generateMask:this._generateMask,mask,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._state!==DEFAULT2?this.enqueue([this.dispatch,buf,!1,options2,cb]):this.sendFrame(_Sender.frame(buf,options2),cb)}ping(data,mask,cb){let byteLength,readOnly;if(typeof data=="string"?(byteLength=Buffer.byteLength(data),readOnly=!1):isBlob(data)?(byteLength=data.size,readOnly=!1):(data=toBuffer(data),byteLength=data.length,readOnly=toBuffer.readOnly),byteLength>125)throw new RangeError("The data size must not be greater than 125 bytes");let options2={[kByteLength]:byteLength,fin:!0,generateMask:this._generateMask,mask,maskBuffer:this._maskBuffer,opcode:9,readOnly,rsv1:!1};isBlob(data)?this._state!==DEFAULT2?this.enqueue([this.getBlobData,data,!1,options2,cb]):this.getBlobData(data,!1,options2,cb):this._state!==DEFAULT2?this.enqueue([this.dispatch,data,!1,options2,cb]):this.sendFrame(_Sender.frame(data,options2),cb)}pong(data,mask,cb){let byteLength,readOnly;if(typeof data=="string"?(byteLength=Buffer.byteLength(data),readOnly=!1):isBlob(data)?(byteLength=data.size,readOnly=!1):(data=toBuffer(data),byteLength=data.length,readOnly=toBuffer.readOnly),byteLength>125)throw new RangeError("The data size must not be greater than 125 bytes");let options2={[kByteLength]:byteLength,fin:!0,generateMask:this._generateMask,mask,maskBuffer:this._maskBuffer,opcode:10,readOnly,rsv1:!1};isBlob(data)?this._state!==DEFAULT2?this.enqueue([this.getBlobData,data,!1,options2,cb]):this.getBlobData(data,!1,options2,cb):this._state!==DEFAULT2?this.enqueue([this.dispatch,data,!1,options2,cb]):this.sendFrame(_Sender.frame(data,options2),cb)}send(data,options2,cb){let perMessageDeflate=this._extensions[PerMessageDeflate.extensionName],opcode=options2.binary?2:1,rsv1=options2.compress,byteLength,readOnly;typeof data=="string"?(byteLength=Buffer.byteLength(data),readOnly=!1):isBlob(data)?(byteLength=data.size,readOnly=!1):(data=toBuffer(data),byteLength=data.length,readOnly=toBuffer.readOnly),this._firstFragment?(this._firstFragment=!1,rsv1&&perMessageDeflate&&perMessageDeflate.params[perMessageDeflate._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(rsv1=byteLength>=perMessageDeflate._threshold),this._compress=rsv1):(rsv1=!1,opcode=0),options2.fin&&(this._firstFragment=!0);let opts={[kByteLength]:byteLength,fin:options2.fin,generateMask:this._generateMask,mask:options2.mask,maskBuffer:this._maskBuffer,opcode,readOnly,rsv1};isBlob(data)?this._state!==DEFAULT2?this.enqueue([this.getBlobData,data,this._compress,opts,cb]):this.getBlobData(data,this._compress,opts,cb):this._state!==DEFAULT2?this.enqueue([this.dispatch,data,this._compress,opts,cb]):this.dispatch(data,this._compress,opts,cb)}getBlobData(blob,compress,options2,cb){this._bufferedBytes+=options2[kByteLength],this._state=GET_BLOB_DATA,blob.arrayBuffer().then(arrayBuffer=>{if(this._socket.destroyed){let err=new Error("The socket was closed while the blob was being read");process.nextTick(callCallbacks,this,err,cb);return}this._bufferedBytes-=options2[kByteLength];let data=toBuffer(arrayBuffer);compress?this.dispatch(data,compress,options2,cb):(this._state=DEFAULT2,this.sendFrame(_Sender.frame(data,options2),cb),this.dequeue())}).catch(err=>{process.nextTick(onError,this,err,cb)})}dispatch(data,compress,options2,cb){if(!compress){this.sendFrame(_Sender.frame(data,options2),cb);return}let perMessageDeflate=this._extensions[PerMessageDeflate.extensionName];this._bufferedBytes+=options2[kByteLength],this._state=DEFLATING,perMessageDeflate.compress(data,options2.fin,(_,buf)=>{if(this._socket.destroyed){let err=new Error("The socket was closed while data was being compressed");callCallbacks(this,err,cb);return}this._bufferedBytes-=options2[kByteLength],this._state=DEFAULT2,options2.readOnly=!1,this.sendFrame(_Sender.frame(buf,options2),cb),this.dequeue()})}dequeue(){for(;this._state===DEFAULT2&&this._queue.length;){let params=this._queue.shift();this._bufferedBytes-=params[3][kByteLength],Reflect.apply(params[0],this,params.slice(1))}}enqueue(params){this._bufferedBytes+=params[3][kByteLength],this._queue.push(params)}sendFrame(list2,cb){list2.length===2?(this._socket.cork(),this._socket.write(list2[0]),this._socket.write(list2[1],cb),this._socket.uncork()):this._socket.write(list2[0],cb)}};module2.exports=Sender;function callCallbacks(sender,err,cb){typeof cb=="function"&&cb(err);for(let i=0;i<sender._queue.length;i++){let params=sender._queue[i],callback=params[params.length-1];typeof callback=="function"&&callback(err)}}function onError(sender,err,cb){callCallbacks(sender,err,cb),sender.onerror(err)}}});var require_event_target=__commonJS({"../../../../node_modules/ws/lib/event-target.js"(exports2,module2){"use strict";var{kForOnEventAttribute,kListener}=require_constants9(),kCode=Symbol("kCode"),kData=Symbol("kData"),kError=Symbol("kError"),kMessage=Symbol("kMessage"),kReason=Symbol("kReason"),kTarget=Symbol("kTarget"),kType=Symbol("kType"),kWasClean=Symbol("kWasClean"),Event2=class{constructor(type){this[kTarget]=null,this[kType]=type}get target(){return this[kTarget]}get type(){return this[kType]}};Object.defineProperty(Event2.prototype,"target",{enumerable:!0});Object.defineProperty(Event2.prototype,"type",{enumerable:!0});var CloseEvent=class extends Event2{constructor(type,options2={}){super(type),this[kCode]=options2.code===void 0?0:options2.code,this[kReason]=options2.reason===void 0?"":options2.reason,this[kWasClean]=options2.wasClean===void 0?!1:options2.wasClean}get code(){return this[kCode]}get reason(){return this[kReason]}get wasClean(){return this[kWasClean]}};Object.defineProperty(CloseEvent.prototype,"code",{enumerable:!0});Object.defineProperty(CloseEvent.prototype,"reason",{enumerable:!0});Object.defineProperty(CloseEvent.prototype,"wasClean",{enumerable:!0});var ErrorEvent=class extends Event2{constructor(type,options2={}){super(type),this[kError]=options2.error===void 0?null:options2.error,this[kMessage]=options2.message===void 0?"":options2.message}get error(){return this[kError]}get message(){return this[kMessage]}};Object.defineProperty(ErrorEvent.prototype,"error",{enumerable:!0});Object.defineProperty(ErrorEvent.prototype,"message",{enumerable:!0});var MessageEvent=class extends Event2{constructor(type,options2={}){super(type),this[kData]=options2.data===void 0?null:options2.data}get data(){return this[kData]}};Object.defineProperty(MessageEvent.prototype,"data",{enumerable:!0});var EventTarget2={addEventListener(type,handler,options2={}){for(let listener of this.listeners(type))if(!options2[kForOnEventAttribute]&&listener[kListener]===handler&&!listener[kForOnEventAttribute])return;let wrapper;if(type==="message")wrapper=function(data,isBinary){let event=new MessageEvent("message",{data:isBinary?data:data.toString()});event[kTarget]=this,callListener(handler,this,event)};else if(type==="close")wrapper=function(code2,message){let event=new CloseEvent("close",{code:code2,reason:message.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});event[kTarget]=this,callListener(handler,this,event)};else if(type==="error")wrapper=function(error){let event=new ErrorEvent("error",{error,message:error.message});event[kTarget]=this,callListener(handler,this,event)};else if(type==="open")wrapper=function(){let event=new Event2("open");event[kTarget]=this,callListener(handler,this,event)};else return;wrapper[kForOnEventAttribute]=!!options2[kForOnEventAttribute],wrapper[kListener]=handler,options2.once?this.once(type,wrapper):this.on(type,wrapper)},removeEventListener(type,handler){for(let listener of this.listeners(type))if(listener[kListener]===handler&&!listener[kForOnEventAttribute]){this.removeListener(type,listener);break}}};module2.exports={CloseEvent,ErrorEvent,Event:Event2,EventTarget:EventTarget2,MessageEvent};function callListener(listener,thisArg,event){typeof listener=="object"&&listener.handleEvent?listener.handleEvent.call(listener,event):listener.call(thisArg,event)}}});var require_extension=__commonJS({"../../../../node_modules/ws/lib/extension.js"(exports2,module2){"use strict";var{tokenChars}=require_validation3();function push(dest,name,elem){dest[name]===void 0?dest[name]=[elem]:dest[name].push(elem)}function parse2(header){let offers=Object.create(null),params=Object.create(null),mustUnescape=!1,isEscaping=!1,inQuotes=!1,extensionName,paramName,start=-1,code2=-1,end=-1,i=0;for(;i<header.length;i++)if(code2=header.charCodeAt(i),extensionName===void 0)if(end===-1&&tokenChars[code2]===1)start===-1&&(start=i);else if(i!==0&&(code2===32||code2===9))end===-1&&start!==-1&&(end=i);else if(code2===59||code2===44){if(start===-1)throw new SyntaxError(`Unexpected character at index ${i}`);end===-1&&(end=i);let name=header.slice(start,end);code2===44?(push(offers,name,params),params=Object.create(null)):extensionName=name,start=end=-1}else throw new SyntaxError(`Unexpected character at index ${i}`);else if(paramName===void 0)if(end===-1&&tokenChars[code2]===1)start===-1&&(start=i);else if(code2===32||code2===9)end===-1&&start!==-1&&(end=i);else if(code2===59||code2===44){if(start===-1)throw new SyntaxError(`Unexpected character at index ${i}`);end===-1&&(end=i),push(params,header.slice(start,end),!0),code2===44&&(push(offers,extensionName,params),params=Object.create(null),extensionName=void 0),start=end=-1}else if(code2===61&&start!==-1&&end===-1)paramName=header.slice(start,i),start=end=-1;else throw new SyntaxError(`Unexpected character at index ${i}`);else if(isEscaping){if(tokenChars[code2]!==1)throw new SyntaxError(`Unexpected character at index ${i}`);start===-1?start=i:mustUnescape||(mustUnescape=!0),isEscaping=!1}else if(inQuotes)if(tokenChars[code2]===1)start===-1&&(start=i);else if(code2===34&&start!==-1)inQuotes=!1,end=i;else if(code2===92)isEscaping=!0;else throw new SyntaxError(`Unexpected character at index ${i}`);else if(code2===34&&header.charCodeAt(i-1)===61)inQuotes=!0;else if(end===-1&&tokenChars[code2]===1)start===-1&&(start=i);else if(start!==-1&&(code2===32||code2===9))end===-1&&(end=i);else if(code2===59||code2===44){if(start===-1)throw new SyntaxError(`Unexpected character at index ${i}`);end===-1&&(end=i);let value=header.slice(start,end);mustUnescape&&(value=value.replace(/\\/g,""),mustUnescape=!1),push(params,paramName,value),code2===44&&(push(offers,extensionName,params),params=Object.create(null),extensionName=void 0),paramName=void 0,start=end=-1}else throw new SyntaxError(`Unexpected character at index ${i}`);if(start===-1||inQuotes||code2===32||code2===9)throw new SyntaxError("Unexpected end of input");end===-1&&(end=i);let token=header.slice(start,end);return extensionName===void 0?push(offers,token,params):(paramName===void 0?push(params,token,!0):mustUnescape?push(params,paramName,token.replace(/\\/g,"")):push(params,paramName,token),push(offers,extensionName,params)),offers}function format2(extensions){return Object.keys(extensions).map(extension=>{let configurations=extensions[extension];return Array.isArray(configurations)||(configurations=[configurations]),configurations.map(params=>[extension].concat(Object.keys(params).map(k=>{let values2=params[k];return Array.isArray(values2)||(values2=[values2]),values2.map(v=>v===!0?k:`${k}=${v}`).join("; ")})).join("; ")).join(", ")}).join(", ")}module2.exports={format:format2,parse:parse2}}});var require_websocket2=__commonJS({"../../../../node_modules/ws/lib/websocket.js"(exports2,module2){"use strict";var EventEmitter=require("events"),https=require("https"),http=require("http"),net=require("net"),tls=require("tls"),{randomBytes,createHash}=require("crypto"),{Duplex,Readable}=require("stream"),{URL:URL2}=require("url"),PerMessageDeflate=require_permessage_deflate2(),Receiver=require_receiver2(),Sender=require_sender2(),{isBlob}=require_validation3(),{BINARY_TYPES,EMPTY_BUFFER,GUID,kForOnEventAttribute,kListener,kStatusCode,kWebSocket,NOOP}=require_constants9(),{EventTarget:{addEventListener,removeEventListener}}=require_event_target(),{format:format2,parse:parse2}=require_extension(),{toBuffer}=require_buffer_util(),closeTimeout=30*1e3,kAborted=Symbol("kAborted"),protocolVersions=[8,13],readyStates=["CONNECTING","OPEN","CLOSING","CLOSED"],subprotocolRegex=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,WebSocket=class _WebSocket extends EventEmitter{constructor(address,protocols,options2){super(),this._binaryType=BINARY_TYPES[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=EMPTY_BUFFER,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=_WebSocket.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,address!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,protocols===void 0?protocols=[]:Array.isArray(protocols)||(typeof protocols=="object"&&protocols!==null?(options2=protocols,protocols=[]):protocols=[protocols]),initAsClient(this,address,protocols,options2)):(this._autoPong=options2.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(type){BINARY_TYPES.includes(type)&&(this._binaryType=type,this._receiver&&(this._receiver._binaryType=type))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(socket,head,options2){let receiver=new Receiver({allowSynchronousEvents:options2.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:options2.maxPayload,skipUTF8Validation:options2.skipUTF8Validation}),sender=new Sender(socket,this._extensions,options2.generateMask);this._receiver=receiver,this._sender=sender,this._socket=socket,receiver[kWebSocket]=this,sender[kWebSocket]=this,socket[kWebSocket]=this,receiver.on("conclude",receiverOnConclude),receiver.on("drain",receiverOnDrain),receiver.on("error",receiverOnError),receiver.on("message",receiverOnMessage),receiver.on("ping",receiverOnPing),receiver.on("pong",receiverOnPong),sender.onerror=senderOnError,socket.setTimeout&&socket.setTimeout(0),socket.setNoDelay&&socket.setNoDelay(),head.length>0&&socket.unshift(head),socket.on("close",socketOnClose),socket.on("data",socketOnData),socket.on("end",socketOnEnd),socket.on("error",socketOnError),this._readyState=_WebSocket.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=_WebSocket.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[PerMessageDeflate.extensionName]&&this._extensions[PerMessageDeflate.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=_WebSocket.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(code2,data){if(this.readyState!==_WebSocket.CLOSED){if(this.readyState===_WebSocket.CONNECTING){abortHandshake(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===_WebSocket.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=_WebSocket.CLOSING,this._sender.close(code2,data,!this._isServer,err=>{err||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),setCloseTimer(this)}}pause(){this.readyState===_WebSocket.CONNECTING||this.readyState===_WebSocket.CLOSED||(this._paused=!0,this._socket.pause())}ping(data,mask,cb){if(this.readyState===_WebSocket.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof data=="function"?(cb=data,data=mask=void 0):typeof mask=="function"&&(cb=mask,mask=void 0),typeof data=="number"&&(data=data.toString()),this.readyState!==_WebSocket.OPEN){sendAfterClose(this,data,cb);return}mask===void 0&&(mask=!this._isServer),this._sender.ping(data||EMPTY_BUFFER,mask,cb)}pong(data,mask,cb){if(this.readyState===_WebSocket.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof data=="function"?(cb=data,data=mask=void 0):typeof mask=="function"&&(cb=mask,mask=void 0),typeof data=="number"&&(data=data.toString()),this.readyState!==_WebSocket.OPEN){sendAfterClose(this,data,cb);return}mask===void 0&&(mask=!this._isServer),this._sender.pong(data||EMPTY_BUFFER,mask,cb)}resume(){this.readyState===_WebSocket.CONNECTING||this.readyState===_WebSocket.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(data,options2,cb){if(this.readyState===_WebSocket.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof options2=="function"&&(cb=options2,options2={}),typeof data=="number"&&(data=data.toString()),this.readyState!==_WebSocket.OPEN){sendAfterClose(this,data,cb);return}let opts={binary:typeof data!="string",mask:!this._isServer,compress:!0,fin:!0,...options2};this._extensions[PerMessageDeflate.extensionName]||(opts.compress=!1),this._sender.send(data||EMPTY_BUFFER,opts,cb)}terminate(){if(this.readyState!==_WebSocket.CLOSED){if(this.readyState===_WebSocket.CONNECTING){abortHandshake(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=_WebSocket.CLOSING,this._socket.destroy())}}};Object.defineProperty(WebSocket,"CONNECTING",{enumerable:!0,value:readyStates.indexOf("CONNECTING")});Object.defineProperty(WebSocket.prototype,"CONNECTING",{enumerable:!0,value:readyStates.indexOf("CONNECTING")});Object.defineProperty(WebSocket,"OPEN",{enumerable:!0,value:readyStates.indexOf("OPEN")});Object.defineProperty(WebSocket.prototype,"OPEN",{enumerable:!0,value:readyStates.indexOf("OPEN")});Object.defineProperty(WebSocket,"CLOSING",{enumerable:!0,value:readyStates.indexOf("CLOSING")});Object.defineProperty(WebSocket.prototype,"CLOSING",{enumerable:!0,value:readyStates.indexOf("CLOSING")});Object.defineProperty(WebSocket,"CLOSED",{enumerable:!0,value:readyStates.indexOf("CLOSED")});Object.defineProperty(WebSocket.prototype,"CLOSED",{enumerable:!0,value:readyStates.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(property=>{Object.defineProperty(WebSocket.prototype,property,{enumerable:!0})});["open","error","close","message"].forEach(method=>{Object.defineProperty(WebSocket.prototype,`on${method}`,{enumerable:!0,get(){for(let listener of this.listeners(method))if(listener[kForOnEventAttribute])return listener[kListener];return null},set(handler){for(let listener of this.listeners(method))if(listener[kForOnEventAttribute]){this.removeListener(method,listener);break}typeof handler=="function"&&this.addEventListener(method,handler,{[kForOnEventAttribute]:!0})}})});WebSocket.prototype.addEventListener=addEventListener;WebSocket.prototype.removeEventListener=removeEventListener;module2.exports=WebSocket;function initAsClient(websocket,address,protocols,options2){let opts={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:protocolVersions[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...options2,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(websocket._autoPong=opts.autoPong,!protocolVersions.includes(opts.protocolVersion))throw new RangeError(`Unsupported protocol version: ${opts.protocolVersion} (supported versions: ${protocolVersions.join(", ")})`);let parsedUrl;if(address instanceof URL2)parsedUrl=address;else try{parsedUrl=new URL2(address)}catch{throw new SyntaxError(`Invalid URL: ${address}`)}parsedUrl.protocol==="http:"?parsedUrl.protocol="ws:":parsedUrl.protocol==="https:"&&(parsedUrl.protocol="wss:"),websocket._url=parsedUrl.href;let isSecure=parsedUrl.protocol==="wss:",isIpcUrl=parsedUrl.protocol==="ws+unix:",invalidUrlMessage;if(parsedUrl.protocol!=="ws:"&&!isSecure&&!isIpcUrl?invalidUrlMessage=`The URL's protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"`:isIpcUrl&&!parsedUrl.pathname?invalidUrlMessage="The URL's pathname is empty":parsedUrl.hash&&(invalidUrlMessage="The URL contains a fragment identifier"),invalidUrlMessage){let err=new SyntaxError(invalidUrlMessage);if(websocket._redirects===0)throw err;emitErrorAndClose(websocket,err);return}let defaultPort=isSecure?443:80,key=randomBytes(16).toString("base64"),request2=isSecure?https.request:http.request,protocolSet=new Set,perMessageDeflate;if(opts.createConnection=opts.createConnection||(isSecure?tlsConnect:netConnect),opts.defaultPort=opts.defaultPort||defaultPort,opts.port=parsedUrl.port||defaultPort,opts.host=parsedUrl.hostname.startsWith("[")?parsedUrl.hostname.slice(1,-1):parsedUrl.hostname,opts.headers={...opts.headers,"Sec-WebSocket-Version":opts.protocolVersion,"Sec-WebSocket-Key":key,Connection:"Upgrade",Upgrade:"websocket"},opts.path=parsedUrl.pathname+parsedUrl.search,opts.timeout=opts.handshakeTimeout,opts.perMessageDeflate&&(perMessageDeflate=new PerMessageDeflate(opts.perMessageDeflate!==!0?opts.perMessageDeflate:{},!1,opts.maxPayload),opts.headers["Sec-WebSocket-Extensions"]=format2({[PerMessageDeflate.extensionName]:perMessageDeflate.offer()})),protocols.length){for(let protocol of protocols){if(typeof protocol!="string"||!subprotocolRegex.test(protocol)||protocolSet.has(protocol))throw new SyntaxError("An invalid or duplicated subprotocol was specified");protocolSet.add(protocol)}opts.headers["Sec-WebSocket-Protocol"]=protocols.join(",")}if(opts.origin&&(opts.protocolVersion<13?opts.headers["Sec-WebSocket-Origin"]=opts.origin:opts.headers.Origin=opts.origin),(parsedUrl.username||parsedUrl.password)&&(opts.auth=`${parsedUrl.username}:${parsedUrl.password}`),isIpcUrl){let parts=opts.path.split(":");opts.socketPath=parts[0],opts.path=parts[1]}let req;if(opts.followRedirects){if(websocket._redirects===0){websocket._originalIpc=isIpcUrl,websocket._originalSecure=isSecure,websocket._originalHostOrSocketPath=isIpcUrl?opts.socketPath:parsedUrl.host;let headers=options2&&options2.headers;if(options2={...options2,headers:{}},headers)for(let[key2,value]of Object.entries(headers))options2.headers[key2.toLowerCase()]=value}else if(websocket.listenerCount("redirect")===0){let isSameHost=isIpcUrl?websocket._originalIpc?opts.socketPath===websocket._originalHostOrSocketPath:!1:websocket._originalIpc?!1:parsedUrl.host===websocket._originalHostOrSocketPath;(!isSameHost||websocket._originalSecure&&!isSecure)&&(delete opts.headers.authorization,delete opts.headers.cookie,isSameHost||delete opts.headers.host,opts.auth=void 0)}opts.auth&&!options2.headers.authorization&&(options2.headers.authorization="Basic "+Buffer.from(opts.auth).toString("base64")),req=websocket._req=request2(opts),websocket._redirects&&websocket.emit("redirect",websocket.url,req)}else req=websocket._req=request2(opts);opts.timeout&&req.on("timeout",()=>{abortHandshake(websocket,req,"Opening handshake has timed out")}),req.on("error",err=>{req===null||req[kAborted]||(req=websocket._req=null,emitErrorAndClose(websocket,err))}),req.on("response",res=>{let location=res.headers.location,statusCode=res.statusCode;if(location&&opts.followRedirects&&statusCode>=300&&statusCode<400){if(++websocket._redirects>opts.maxRedirects){abortHandshake(websocket,req,"Maximum redirects exceeded");return}req.abort();let addr;try{addr=new URL2(location,address)}catch{let err=new SyntaxError(`Invalid URL: ${location}`);emitErrorAndClose(websocket,err);return}initAsClient(websocket,addr,protocols,options2)}else websocket.emit("unexpected-response",req,res)||abortHandshake(websocket,req,`Unexpected server response: ${res.statusCode}`)}),req.on("upgrade",(res,socket,head)=>{if(websocket.emit("upgrade",res),websocket.readyState!==WebSocket.CONNECTING)return;req=websocket._req=null;let upgrade=res.headers.upgrade;if(upgrade===void 0||upgrade.toLowerCase()!=="websocket"){abortHandshake(websocket,socket,"Invalid Upgrade header");return}let digest=createHash("sha1").update(key+GUID).digest("base64");if(res.headers["sec-websocket-accept"]!==digest){abortHandshake(websocket,socket,"Invalid Sec-WebSocket-Accept header");return}let serverProt=res.headers["sec-websocket-protocol"],protError;if(serverProt!==void 0?protocolSet.size?protocolSet.has(serverProt)||(protError="Server sent an invalid subprotocol"):protError="Server sent a subprotocol but none was requested":protocolSet.size&&(protError="Server sent no subprotocol"),protError){abortHandshake(websocket,socket,protError);return}serverProt&&(websocket._protocol=serverProt);let secWebSocketExtensions=res.headers["sec-websocket-extensions"];if(secWebSocketExtensions!==void 0){if(!perMessageDeflate){abortHandshake(websocket,socket,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let extensions;try{extensions=parse2(secWebSocketExtensions)}catch{abortHandshake(websocket,socket,"Invalid Sec-WebSocket-Extensions header");return}let extensionNames=Object.keys(extensions);if(extensionNames.length!==1||extensionNames[0]!==PerMessageDeflate.extensionName){abortHandshake(websocket,socket,"Server indicated an extension that was not requested");return}try{perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName])}catch{abortHandshake(websocket,socket,"Invalid Sec-WebSocket-Extensions header");return}websocket._extensions[PerMessageDeflate.extensionName]=perMessageDeflate}websocket.setSocket(socket,head,{allowSynchronousEvents:opts.allowSynchronousEvents,generateMask:opts.generateMask,maxPayload:opts.maxPayload,skipUTF8Validation:opts.skipUTF8Validation})}),opts.finishRequest?opts.finishRequest(req,websocket):req.end()}function emitErrorAndClose(websocket,err){websocket._readyState=WebSocket.CLOSING,websocket._errorEmitted=!0,websocket.emit("error",err),websocket.emitClose()}function netConnect(options2){return options2.path=options2.socketPath,net.connect(options2)}function tlsConnect(options2){return options2.path=void 0,!options2.servername&&options2.servername!==""&&(options2.servername=net.isIP(options2.host)?"":options2.host),tls.connect(options2)}function abortHandshake(websocket,stream,message){websocket._readyState=WebSocket.CLOSING;let err=new Error(message);Error.captureStackTrace(err,abortHandshake),stream.setHeader?(stream[kAborted]=!0,stream.abort(),stream.socket&&!stream.socket.destroyed&&stream.socket.destroy(),process.nextTick(emitErrorAndClose,websocket,err)):(stream.destroy(err),stream.once("error",websocket.emit.bind(websocket,"error")),stream.once("close",websocket.emitClose.bind(websocket)))}function sendAfterClose(websocket,data,cb){if(data){let length=isBlob(data)?data.size:toBuffer(data).length;websocket._socket?websocket._sender._bufferedBytes+=length:websocket._bufferedAmount+=length}if(cb){let err=new Error(`WebSocket is not open: readyState ${websocket.readyState} (${readyStates[websocket.readyState]})`);process.nextTick(cb,err)}}function receiverOnConclude(code2,reason){let websocket=this[kWebSocket];websocket._closeFrameReceived=!0,websocket._closeMessage=reason,websocket._closeCode=code2,websocket._socket[kWebSocket]!==void 0&&(websocket._socket.removeListener("data",socketOnData),process.nextTick(resume,websocket._socket),code2===1005?websocket.close():websocket.close(code2,reason))}function receiverOnDrain(){let websocket=this[kWebSocket];websocket.isPaused||websocket._socket.resume()}function receiverOnError(err){let websocket=this[kWebSocket];websocket._socket[kWebSocket]!==void 0&&(websocket._socket.removeListener("data",socketOnData),process.nextTick(resume,websocket._socket),websocket.close(err[kStatusCode])),websocket._errorEmitted||(websocket._errorEmitted=!0,websocket.emit("error",err))}function receiverOnFinish(){this[kWebSocket].emitClose()}function receiverOnMessage(data,isBinary){this[kWebSocket].emit("message",data,isBinary)}function receiverOnPing(data){let websocket=this[kWebSocket];websocket._autoPong&&websocket.pong(data,!this._isServer,NOOP),websocket.emit("ping",data)}function receiverOnPong(data){this[kWebSocket].emit("pong",data)}function resume(stream){stream.resume()}function senderOnError(err){let websocket=this[kWebSocket];websocket.readyState!==WebSocket.CLOSED&&(websocket.readyState===WebSocket.OPEN&&(websocket._readyState=WebSocket.CLOSING,setCloseTimer(websocket)),this._socket.end(),websocket._errorEmitted||(websocket._errorEmitted=!0,websocket.emit("error",err)))}function setCloseTimer(websocket){websocket._closeTimer=setTimeout(websocket._socket.destroy.bind(websocket._socket),closeTimeout)}function socketOnClose(){let websocket=this[kWebSocket];this.removeListener("close",socketOnClose),this.removeListener("data",socketOnData),this.removeListener("end",socketOnEnd),websocket._readyState=WebSocket.CLOSING;let chunk;!this._readableState.endEmitted&&!websocket._closeFrameReceived&&!websocket._receiver._writableState.errorEmitted&&(chunk=websocket._socket.read())!==null&&websocket._receiver.write(chunk),websocket._receiver.end(),this[kWebSocket]=void 0,clearTimeout(websocket._closeTimer),websocket._receiver._writableState.finished||websocket._receiver._writableState.errorEmitted?websocket.emitClose():(websocket._receiver.on("error",receiverOnFinish),websocket._receiver.on("finish",receiverOnFinish))}function socketOnData(chunk){this[kWebSocket]._receiver.write(chunk)||this.pause()}function socketOnEnd(){let websocket=this[kWebSocket];websocket._readyState=WebSocket.CLOSING,websocket._receiver.end(),this.end()}function socketOnError(){let websocket=this[kWebSocket];this.removeListener("error",socketOnError),this.on("error",NOOP),websocket&&(websocket._readyState=WebSocket.CLOSING,this.destroy())}}});var require_stream=__commonJS({"../../../../node_modules/ws/lib/stream.js"(exports2,module2){"use strict";var WebSocket=require_websocket2(),{Duplex}=require("stream");function emitClose(stream){stream.emit("close")}function duplexOnEnd(){!this.destroyed&&this._writableState.finished&&this.destroy()}function duplexOnError(err){this.removeListener("error",duplexOnError),this.destroy(),this.listenerCount("error")===0&&this.emit("error",err)}function createWebSocketStream(ws,options2){let terminateOnDestroy=!0,duplex=new Duplex({...options2,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return ws.on("message",function(msg,isBinary){let data=!isBinary&&duplex._readableState.objectMode?msg.toString():msg;duplex.push(data)||ws.pause()}),ws.once("error",function(err){duplex.destroyed||(terminateOnDestroy=!1,duplex.destroy(err))}),ws.once("close",function(){duplex.destroyed||duplex.push(null)}),duplex._destroy=function(err,callback){if(ws.readyState===ws.CLOSED){callback(err),process.nextTick(emitClose,duplex);return}let called=!1;ws.once("error",function(err2){called=!0,callback(err2)}),ws.once("close",function(){called||callback(err),process.nextTick(emitClose,duplex)}),terminateOnDestroy&&ws.terminate()},duplex._final=function(callback){if(ws.readyState===ws.CONNECTING){ws.once("open",function(){duplex._final(callback)});return}ws._socket!==null&&(ws._socket._writableState.finished?(callback(),duplex._readableState.endEmitted&&duplex.destroy()):(ws._socket.once("finish",function(){callback()}),ws.close()))},duplex._read=function(){ws.isPaused&&ws.resume()},duplex._write=function(chunk,encoding,callback){if(ws.readyState===ws.CONNECTING){ws.once("open",function(){duplex._write(chunk,encoding,callback)});return}ws.send(chunk,callback)},duplex.on("end",duplexOnEnd),duplex.on("error",duplexOnError),duplex}module2.exports=createWebSocketStream}});var require_subprotocol=__commonJS({"../../../../node_modules/ws/lib/subprotocol.js"(exports2,module2){"use strict";var{tokenChars}=require_validation3();function parse2(header){let protocols=new Set,start=-1,end=-1,i=0;for(i;i<header.length;i++){let code2=header.charCodeAt(i);if(end===-1&&tokenChars[code2]===1)start===-1&&(start=i);else if(i!==0&&(code2===32||code2===9))end===-1&&start!==-1&&(end=i);else if(code2===44){if(start===-1)throw new SyntaxError(`Unexpected character at index ${i}`);end===-1&&(end=i);let protocol2=header.slice(start,end);if(protocols.has(protocol2))throw new SyntaxError(`The "${protocol2}" subprotocol is duplicated`);protocols.add(protocol2),start=end=-1}else throw new SyntaxError(`Unexpected character at index ${i}`)}if(start===-1||end!==-1)throw new SyntaxError("Unexpected end of input");let protocol=header.slice(start,i);if(protocols.has(protocol))throw new SyntaxError(`The "${protocol}" subprotocol is duplicated`);return protocols.add(protocol),protocols}module2.exports={parse:parse2}}});var require_websocket_server=__commonJS({"../../../../node_modules/ws/lib/websocket-server.js"(exports2,module2){"use strict";var EventEmitter=require("events"),http=require("http"),{Duplex}=require("stream"),{createHash}=require("crypto"),extension=require_extension(),PerMessageDeflate=require_permessage_deflate2(),subprotocol=require_subprotocol(),WebSocket=require_websocket2(),{GUID,kWebSocket}=require_constants9(),keyRegex=/^[+/0-9A-Za-z]{22}==$/,RUNNING=0,CLOSING=1,CLOSED=2,WebSocketServer=class extends EventEmitter{constructor(options2,callback){if(super(),options2={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket,...options2},options2.port==null&&!options2.server&&!options2.noServer||options2.port!=null&&(options2.server||options2.noServer)||options2.server&&options2.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(options2.port!=null?(this._server=http.createServer((req,res)=>{let body=http.STATUS_CODES[426];res.writeHead(426,{"Content-Length":body.length,"Content-Type":"text/plain"}),res.end(body)}),this._server.listen(options2.port,options2.host,options2.backlog,callback)):options2.server&&(this._server=options2.server),this._server){let emitConnection=this.emit.bind(this,"connection");this._removeListeners=addListeners(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(req,socket,head)=>{this.handleUpgrade(req,socket,head,emitConnection)}})}options2.perMessageDeflate===!0&&(options2.perMessageDeflate={}),options2.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=options2,this._state=RUNNING}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(cb){if(this._state===CLOSED){cb&&this.once("close",()=>{cb(new Error("The server is not running"))}),process.nextTick(emitClose,this);return}if(cb&&this.once("close",cb),this._state!==CLOSING)if(this._state=CLOSING,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(emitClose,this):process.nextTick(emitClose,this);else{let server=this._server;this._removeListeners(),this._removeListeners=this._server=null,server.close(()=>{emitClose(this)})}}shouldHandle(req){if(this.options.path){let index2=req.url.indexOf("?");if((index2!==-1?req.url.slice(0,index2):req.url)!==this.options.path)return!1}return!0}handleUpgrade(req,socket,head,cb){socket.on("error",socketOnError);let key=req.headers["sec-websocket-key"],upgrade=req.headers.upgrade,version=+req.headers["sec-websocket-version"];if(req.method!=="GET"){abortHandshakeOrEmitwsClientError(this,req,socket,405,"Invalid HTTP method");return}if(upgrade===void 0||upgrade.toLowerCase()!=="websocket"){abortHandshakeOrEmitwsClientError(this,req,socket,400,"Invalid Upgrade header");return}if(key===void 0||!keyRegex.test(key)){abortHandshakeOrEmitwsClientError(this,req,socket,400,"Missing or invalid Sec-WebSocket-Key header");return}if(version!==13&&version!==8){abortHandshakeOrEmitwsClientError(this,req,socket,400,"Missing or invalid Sec-WebSocket-Version header",{"Sec-WebSocket-Version":"13, 8"});return}if(!this.shouldHandle(req)){abortHandshake(socket,400);return}let secWebSocketProtocol=req.headers["sec-websocket-protocol"],protocols=new Set;if(secWebSocketProtocol!==void 0)try{protocols=subprotocol.parse(secWebSocketProtocol)}catch{abortHandshakeOrEmitwsClientError(this,req,socket,400,"Invalid Sec-WebSocket-Protocol header");return}let secWebSocketExtensions=req.headers["sec-websocket-extensions"],extensions={};if(this.options.perMessageDeflate&&secWebSocketExtensions!==void 0){let perMessageDeflate=new PerMessageDeflate(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let offers=extension.parse(secWebSocketExtensions);offers[PerMessageDeflate.extensionName]&&(perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]),extensions[PerMessageDeflate.extensionName]=perMessageDeflate)}catch{abortHandshakeOrEmitwsClientError(this,req,socket,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let info={origin:req.headers[`${version===8?"sec-websocket-origin":"origin"}`],secure:!!(req.socket.authorized||req.socket.encrypted),req};if(this.options.verifyClient.length===2){this.options.verifyClient(info,(verified,code2,message,headers)=>{if(!verified)return abortHandshake(socket,code2||401,message,headers);this.completeUpgrade(extensions,key,protocols,req,socket,head,cb)});return}if(!this.options.verifyClient(info))return abortHandshake(socket,401)}this.completeUpgrade(extensions,key,protocols,req,socket,head,cb)}completeUpgrade(extensions,key,protocols,req,socket,head,cb){if(!socket.readable||!socket.writable)return socket.destroy();if(socket[kWebSocket])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>RUNNING)return abortHandshake(socket,503);let headers=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${createHash("sha1").update(key+GUID).digest("base64")}`],ws=new this.options.WebSocket(null,void 0,this.options);if(protocols.size){let protocol=this.options.handleProtocols?this.options.handleProtocols(protocols,req):protocols.values().next().value;protocol&&(headers.push(`Sec-WebSocket-Protocol: ${protocol}`),ws._protocol=protocol)}if(extensions[PerMessageDeflate.extensionName]){let params=extensions[PerMessageDeflate.extensionName].params,value=extension.format({[PerMessageDeflate.extensionName]:[params]});headers.push(`Sec-WebSocket-Extensions: ${value}`),ws._extensions=extensions}this.emit("headers",headers,req),socket.write(headers.concat(`\r
`).join(`\r
`)),socket.removeListener("error",socketOnError),ws.setSocket(socket,head,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(ws),ws.on("close",()=>{this.clients.delete(ws),this._shouldEmitClose&&!this.clients.size&&process.nextTick(emitClose,this)})),cb(ws,req)}};module2.exports=WebSocketServer;function addListeners(server,map){for(let event of Object.keys(map))server.on(event,map[event]);return function(){for(let event of Object.keys(map))server.removeListener(event,map[event])}}function emitClose(server){server._state=CLOSED,server.emit("close")}function socketOnError(){this.destroy()}function abortHandshake(socket,code2,message,headers){message=message||http.STATUS_CODES[code2],headers={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(message),...headers},socket.once("finish",socket.destroy),socket.end(`HTTP/1.1 ${code2} ${http.STATUS_CODES[code2]}\r
`+Object.keys(headers).map(h=>`${h}: ${headers[h]}`).join(`\r
`)+`\r
\r
`+message)}function abortHandshakeOrEmitwsClientError(server,req,socket,code2,message,headers){if(server.listenerCount("wsClientError")){let err=new Error(message);Error.captureStackTrace(err,abortHandshakeOrEmitwsClientError),server.emit("wsClientError",err,socket,req)}else abortHandshake(socket,code2,message,headers)}}});var require_ws=__commonJS({"../../../../node_modules/ws/index.js"(exports2,module2){"use strict";var WebSocket=require_websocket2();WebSocket.createWebSocketStream=require_stream();WebSocket.Server=require_websocket_server();WebSocket.Receiver=require_receiver2();WebSocket.Sender=require_sender2();WebSocket.WebSocket=WebSocket;WebSocket.WebSocketServer=WebSocket.Server;module2.exports=WebSocket}});var require_utils5=__commonJS({"../../../../node_modules/@fastify/http-proxy/utils.js"(exports2,module2){"use strict";function convertUrlToWebSocket(urlString){return urlString.replace(/^(http)(s)?:\/\//,"ws$2://")}module2.exports={convertUrlToWebSocket}}});var require_options=__commonJS({"../../../../node_modules/@fastify/http-proxy/src/options.js"(exports2,module2){"use strict";function validateOptions(options2){if(!options2.upstream&&!options2.websocket&&!((options2.upstream===""||options2.wsUpstream==="")&&options2.replyOptions&&typeof options2.replyOptions.getUpstream=="function"))throw new Error("upstream must be specified");if(options2.wsReconnect){let wsReconnect=options2.wsReconnect;if(wsReconnect.pingInterval!==void 0&&(typeof wsReconnect.pingInterval!="number"||wsReconnect.pingInterval<0))throw new Error("wsReconnect.pingInterval must be a non-negative number");if(wsReconnect.pingInterval=wsReconnect.pingInterval??3e4,wsReconnect.maxReconnectionRetries!==void 0&&(typeof wsReconnect.maxReconnectionRetries!="number"||wsReconnect.maxReconnectionRetries<1))throw new Error("wsReconnect.maxReconnectionRetries must be a number greater than or equal to 1");if(wsReconnect.maxReconnectionRetries=wsReconnect.maxReconnectionRetries??1/0,wsReconnect.reconnectInterval!==void 0&&(typeof wsReconnect.reconnectInterval!="number"||wsReconnect.reconnectInterval<100))throw new Error("wsReconnect.reconnectInterval (ms) must be a number greater than or equal to 100");if(wsReconnect.reconnectInterval=wsReconnect.reconnectInterval??1e3,wsReconnect.reconnectDecay!==void 0&&(typeof wsReconnect.reconnectDecay!="number"||wsReconnect.reconnectDecay<1))throw new Error("wsReconnect.reconnectDecay must be a number greater than or equal to 1");if(wsReconnect.reconnectDecay=wsReconnect.reconnectDecay??1.5,wsReconnect.connectionTimeout!==void 0&&(typeof wsReconnect.connectionTimeout!="number"||wsReconnect.connectionTimeout<0))throw new Error("wsReconnect.connectionTimeout must be a non-negative number");if(wsReconnect.connectionTimeout=wsReconnect.connectionTimeout??5e3,wsReconnect.reconnectOnClose!==void 0&&typeof wsReconnect.reconnectOnClose!="boolean")throw new Error("wsReconnect.reconnectOnClose must be a boolean");if(wsReconnect.reconnectOnClose=wsReconnect.reconnectOnClose??!1,wsReconnect.logs!==void 0&&typeof wsReconnect.logs!="boolean")throw new Error("wsReconnect.logs must be a boolean");wsReconnect.logs=wsReconnect.logs??!1}if(options2.wsHooks){let wsHooks=options2.wsHooks;if(wsHooks.onReconnect!==void 0&&typeof wsHooks.onReconnect!="function")throw new Error("wsHooks.onReconnect must be a function");if(wsHooks.onIncomingMessage!==void 0&&typeof wsHooks.onIncomingMessage!="function")throw new Error("wsHooks.onIncomingMessage must be a function");if(wsHooks.onOutgoingMessage!==void 0&&typeof wsHooks.onOutgoingMessage!="function")throw new Error("wsHooks.onOutgoingMessage must be a function");if(wsHooks.onPong!==void 0&&typeof wsHooks.onPong!="function")throw new Error("wsHooks.onPong must be a function")}else options2.wsHooks={onReconnect:void 0,onIncomingMessage:void 0,onOutgoingMessage:void 0,onPong:void 0};return options2}module2.exports={validateOptions,DEFAULT_PING_INTERVAL:3e4,DEFAULT_MAX_RECONNECTION_RETRIES:1/0,DEFAULT_RECONNECT_INTERVAL:1e3,DEFAULT_RECONNECT_DECAY:1.5,DEFAULT_CONNECTION_TIMEOUT:5e3,DEFAULT_RECONNECT_ON_CLOSE:!1,DEFAULT_LOGS:!1}}});var require_http_proxy=__commonJS({"../../../../node_modules/@fastify/http-proxy/index.js"(exports2,module2){"use strict";var{setTimeout:wait}=require("node:timers/promises"),From=require_reply_from(),{ServerResponse}=require("node:http"),WebSocket=require_ws(),{convertUrlToWebSocket}=require_utils5(),fp=require_plugin2(),qs=require_lib(),{validateOptions}=require_options(),defaultRoutes=["/","/*"],defaultHttpMethods=["DELETE","GET","HEAD","PATCH","POST","PUT","OPTIONS"],urlPattern=/^https?:\/\//,kWs=Symbol("ws"),kWsHead=Symbol("wsHead"),kWsUpgradeListener=Symbol("wsUpgradeListener");function liftErrorCode(code2){return typeof code2!="number"?1011:code2===1004||code2===1005||code2===1006?3e3+code2:code2}function closeWebSocket(socket,code2,reason){socket.isAlive=!1,socket.readyState===WebSocket.OPEN&&socket.close(liftErrorCode(code2),reason)}function waitConnection(socket,write2){socket.readyState===WebSocket.CONNECTING?socket.once("open",write2):write2()}function waitForConnection(target,timeout){return new Promise((resolve,reject)=>{let timeoutId=setTimeout(()=>{reject(new Error("WebSocket connection timeout"))},timeout);if(target.readyState===WebSocket.OPEN)return clearTimeout(timeoutId),resolve();target.readyState===WebSocket.CONNECTING?(target.once("open",()=>{clearTimeout(timeoutId),resolve()}),target.once("error",err=>{clearTimeout(timeoutId),reject(err)})):(clearTimeout(timeoutId),reject(new Error("WebSocket is closed")))})}function isExternalUrl(url){return urlPattern.test(url)}function noop(){}function noopPreRewrite(url){return url}function createContext(logger){return{log:logger}}function proxyWebSockets(logger,source,target,hooks){let context=createContext(logger);function close(code2,reason){hooks.onDisconnect&&waitConnection(target,()=>{try{hooks.onDisconnect(context,source)}catch(err){logger.error({err},"proxy ws error from onDisconnect hook")}}),closeWebSocket(source,code2,reason),closeWebSocket(target,code2,reason)}source.on("message",(data,binary)=>{if(hooks.onIncomingMessage)try{hooks.onIncomingMessage(context,source,target,{data,binary})}catch(err){logger.error({err},"proxy ws error from onIncomingMessage hook")}waitConnection(target,()=>target.send(data,{binary}))}),source.on("ping",data=>waitConnection(target,()=>target.ping(data))),source.on("pong",data=>waitConnection(target,()=>target.pong(data))),source.on("close",close),source.on("error",error=>close(1011,error.message)),source.on("unexpected-response",()=>close(1011,"unexpected response")),target.on("message",(data,binary)=>{if(hooks.onOutgoingMessage)try{hooks.onOutgoingMessage(context,source,target,{data,binary})}catch(err){logger.error({err},"proxy ws error from onOutgoingMessage hook")}source.send(data,{binary})}),target.on("ping",data=>source.ping(data)),target.on("pong",data=>source.pong(data)),target.on("close",close),target.on("error",error=>close(1011,error.message)),target.on("unexpected-response",()=>close(1011,"unexpected response")),hooks.onConnect&&waitConnection(target,()=>{try{hooks.onConnect(context,source,target)}catch(err){logger.error({err},"proxy ws error from onConnect hook")}})}async function reconnect(logger,source,reconnectOptions,hooks,targetParams){let{url,subprotocols,optionsWs}=targetParams,attempts=0,target;do{let reconnectWait=reconnectOptions.reconnectInterval*(reconnectOptions.reconnectDecay*attempts||1);reconnectOptions.logs&&logger.warn({target:targetParams.url},`proxy ws reconnect in ${reconnectWait} ms`),await wait(reconnectWait);try{target=new WebSocket(url,subprotocols,optionsWs),await waitForConnection(target,reconnectOptions.connectionTimeout)}catch(err){reconnectOptions.logs&&logger.error({target:targetParams.url,err,attempts},"proxy ws reconnect error"),attempts++,target=void 0}}while(source.isAlive&&!target&&attempts<reconnectOptions.maxReconnectionRetries);if(!source.isAlive){reconnectOptions.logs&&logger.info({target:targetParams.url,attempts},"proxy ws abort reconnect due to source is closed"),source.close();return}if(!target){logger.error({target:targetParams.url,attempts},"proxy ws failed to reconnect! No more retries"),source.close();return}reconnectOptions.logs&&logger.info({target:targetParams.url,attempts},"proxy ws reconnected"),proxyWebSocketsWithReconnection(logger,source,target,reconnectOptions,hooks,targetParams,!0)}function proxyWebSocketsWithReconnection(logger,source,target,options2,hooks,targetParams,isReconnecting=!1){let context=createContext(logger);function close(code2,reason){if(target.pingTimer&&clearInterval(target.pingTimer),target.pingTimer=void 0,closeWebSocket(target,code2,reason),source.isAlive&&(target.broken||options2.reconnectOnClose)){target.isAlive=!1,target.removeAllListeners(),reconnect(logger,source,options2,hooks,targetParams);return}if(hooks.onDisconnect)try{hooks.onDisconnect(context,source)}catch(err){options2.logs&&logger.error({target:targetParams.url,err},"proxy ws error from onDisconnect hook")}options2.logs&&logger.info({msg:"proxy ws close link"}),closeWebSocket(source,code2,reason),closeWebSocket(target,code2,reason)}function removeSourceListeners(source2){source2.off("message",sourceOnMessage),source2.off("ping",sourceOnPing),source2.off("pong",sourceOnPong),source2.off("close",sourceOnClose),source2.off("error",sourceOnError),source2.off("unexpected-response",sourceOnUnexpectedResponse)}function sourceOnMessage(data,binary){if(source.isAlive=!0,hooks.onIncomingMessage)try{hooks.onIncomingMessage(context,source,target,{data,binary})}catch(err){logger.error({target:targetParams.url,err},"proxy ws error from onIncomingMessage hook")}waitConnection(target,()=>target.send(data,{binary}))}function sourceOnPing(data){source.isAlive=!0,waitConnection(target,()=>target.ping(data))}function sourceOnPong(data){source.isAlive=!0,waitConnection(target,()=>target.pong(data))}function sourceOnClose(code2,reason){source.isAlive=!1,options2.logs&&logger.warn({target:targetParams.url,code:code2,reason},"proxy ws source close event"),close(code2,reason)}function sourceOnError(error){source.isAlive=!1,options2.logs&&logger.warn({target:targetParams.url,error:error.message},"proxy ws source error event"),close(1011,error.message)}function sourceOnUnexpectedResponse(){source.isAlive=!1,options2.logs&&logger.warn({target:targetParams.url},"proxy ws source unexpected-response event"),close(1011,"unexpected response")}removeSourceListeners(source),source.isAlive=!0,source.on("message",sourceOnMessage),source.on("ping",sourceOnPing),source.on("pong",sourceOnPong),source.on("close",sourceOnClose),source.on("error",sourceOnError),source.on("unexpected-response",sourceOnUnexpectedResponse),target.on("message",(data,binary)=>{if(target.isAlive=!0,hooks.onOutgoingMessage)try{hooks.onOutgoingMessage(context,source,target,{data,binary})}catch(err){logger.error({target:targetParams.url,err},"proxy ws error from onOutgoingMessage hook")}source.send(data,{binary})}),target.on("ping",data=>{target.isAlive=!0,source.ping(data)}),target.on("pong",data=>{if(target.isAlive=!0,hooks.onPong)try{hooks.onPong(context,source,target)}catch(err){logger.error({target:targetParams.url,err},"proxy ws error from onPong hook")}source.pong(data)}),target.on("close",(code2,reason)=>{options2.logs&&logger.warn({target:targetParams.url,code:code2,reason},"proxy ws target close event"),close(code2,reason)}),target.on("error",error=>{options2.logs&&logger.warn({target:targetParams.url,error:error.message},"proxy ws target error event"),close(1011,error.message)}),target.on("unexpected-response",()=>{options2.logs&&logger.warn({target:targetParams.url},"proxy ws target unexpected-response event"),close(1011,"unexpected response")}),waitConnection(target,()=>{if(target.isAlive=!0,target.pingTimer=setInterval(()=>{if(target.isAlive===!1)return target.broken=!0,options2.logs&&logger.warn({target:targetParams.url},"proxy ws connection is broken"),target.pingTimer&&clearInterval(target.pingTimer),target.pingTimer=void 0,target.terminate();target.isAlive=!1,target.ping()},options2.pingInterval).unref(),isReconnecting&&hooks.onReconnect)try{hooks.onReconnect(context,source,target)}catch(err){options2.logs&&logger.error({target:targetParams.url,err},"proxy ws error from onReconnect hook")}else if(hooks.onConnect)try{hooks.onConnect(context,source,target)}catch(err){options2.logs&&logger.error({target:targetParams.url,err},"proxy ws error from onConnect hook")}})}function handleUpgrade(fastify2,rawRequest,socket,head){rawRequest[kWs]=socket,rawRequest[kWsHead]=head;let rawResponse=new ServerResponse(rawRequest);rawResponse.assignSocket(socket),fastify2.routing(rawRequest,rawResponse),rawResponse.on("finish",()=>{socket.destroy()})}var WebSocketProxy=class{constructor(fastify2,{wsReconnect,wsHooks,wsServerOptions,wsClientOptions,upstream,wsUpstream,replyOptions:{getUpstream}={}}){this.logger=fastify2.log,this.wsClientOptions={rewriteRequestHeaders:defaultWsHeadersRewrite,headers:{},...wsClientOptions},this.upstream=upstream?convertUrlToWebSocket(upstream):"",this.wsUpstream=wsUpstream?convertUrlToWebSocket(wsUpstream):"",this.getUpstream=getUpstream,this.wsReconnect=wsReconnect,this.wsHooks=wsHooks;let wss=new WebSocket.Server({noServer:!0,...wsServerOptions});fastify2.server[kWsUpgradeListener]||(fastify2.server[kWsUpgradeListener]=(rawRequest,socket,head)=>handleUpgrade(fastify2,rawRequest,socket,head),fastify2.server.on("upgrade",fastify2.server[kWsUpgradeListener])),this.handleUpgrade=(request2,dest,cb)=>{wss.handleUpgrade(request2.raw,request2.raw[kWs],request2.raw[kWsHead],socket=>{this.handleConnection(socket,request2,dest),cb()})};{let oldClose=fastify2.server.close;fastify2.server.close=function(done){wss.close(()=>{oldClose.call(this,err=>{done&&done(err)})});for(let client of wss.clients)client.close()}}wss.on("error",err=>{this.logger.error(err)}),this.wss=wss,this.prefixList=[]}findUpstream(request2,dest){let{search}=new URL(request2.url,"ws://127.0.0.1");if(typeof this.wsUpstream=="string"&&this.wsUpstream!==""){let target2=new URL(dest,this.wsUpstream);return target2.search=search,target2}if(typeof this.upstream=="string"&&this.upstream!==""){let target2=new URL(dest,this.upstream);return target2.search=search,target2}let upstream=this.getUpstream(request2,""),target=new URL(dest,upstream);return target.protocol=upstream.indexOf("http:")===0?"ws:":"wss",target.search=search,target}handleConnection(source,request2,dest){let url=this.findUpstream(request2,dest),queryString=getQueryString(url.search,request2.url,this.wsClientOptions,request2);url.search=queryString;let rewriteRequestHeaders=this.wsClientOptions.rewriteRequestHeaders,headersToRewrite=this.wsClientOptions.headers,subprotocols=[];source.protocol&&subprotocols.push(source.protocol);let headers=rewriteRequestHeaders(headersToRewrite,request2),optionsWs={...this.wsClientOptions,headers},target=new WebSocket(url,subprotocols,optionsWs);if(this.logger.debug({url:url.href},"proxy websocket"),this.wsReconnect){let targetParams={url,subprotocols,optionsWs};proxyWebSocketsWithReconnection(this.logger,source,target,this.wsReconnect,this.wsHooks,targetParams)}else proxyWebSockets(this.logger,source,target,this.wsHooks)}};function getQueryString(search,reqUrl,opts,request2){return typeof opts.queryString=="function"?"?"+opts.queryString(search,reqUrl,request2):opts.queryString?"?"+qs.stringify(opts.queryString):search.length>0?search:""}function defaultWsHeadersRewrite(headers,request2){return request2.headers.cookie?{...headers,cookie:request2.headers.cookie}:{...headers}}function generateRewritePrefix(prefix,opts){let rewritePrefix=opts.rewritePrefix||(opts.upstream?new URL(opts.upstream).pathname:"/");return!prefix.endsWith("/")&&rewritePrefix.endsWith("/")&&(rewritePrefix=rewritePrefix.slice(0,-1)),rewritePrefix}async function fastifyHttpProxy(fastify2,opts){opts=validateOptions(opts);let preHandler=opts.preHandler||opts.beforeHandler,preRewrite=typeof opts.preRewrite=="function"?opts.preRewrite:noopPreRewrite,rewritePrefix=generateRewritePrefix(fastify2.prefix,opts),fromOpts=Object.assign({},opts);fromOpts.base=opts.upstream,fromOpts.prefix=void 0;let internalRewriteLocationHeader=opts.internalRewriteLocationHeader??!0,oldRewriteHeaders=(opts.replyOptions||{}).rewriteHeaders,replyOpts=Object.assign({},opts.replyOptions,{rewriteHeaders});fromOpts.rewriteHeaders=rewriteHeaders,fastify2.register(From,fromOpts),opts.preValidation?fastify2.addHook("preValidation",opts.preValidation):opts.proxyPayloads!==!1&&(fastify2.addContentTypeParser("application/json",bodyParser),fastify2.addContentTypeParser("*",bodyParser));function rewriteHeaders(headers,req){let location=headers.location;return location&&!isExternalUrl(location)&&internalRewriteLocationHeader&&(headers.location=location.replace(rewritePrefix,fastify2.prefix)),oldRewriteHeaders&&(headers=oldRewriteHeaders(headers,req)),headers}function bodyParser(_req,payload,done){done(null,payload)}let method=opts.httpMethods||defaultHttpMethods,config3=opts.config||{},constraints=opts.constraints||{};for(let url of opts.routes||defaultRoutes)fastify2.route({url,method,preHandler,config:config3,constraints,handler});let wsProxy;opts.websocket&&(wsProxy=new WebSocketProxy(fastify2,opts));function extractUrlComponents(urlString){let[path5,queryString]=urlString.split("?",2),components={path:path5,queryParams:null};return queryString&&(components.queryParams=qs.parse(queryString)),components}function fromParameters(url,params={},prefix="/"){url=preRewrite(url,params,prefix);let{path:path5,queryParams}=extractUrlComponents(url),dest=path5;if(prefix.includes(":")){let requestedPathElements=path5.split("/"),prefixPathWithVariables=prefix.split("/").map((_,index2)=>requestedPathElements[index2]).join("/"),rewritePrefixWithVariables=rewritePrefix;for(let[name,value]of Object.entries(params))rewritePrefixWithVariables=rewritePrefixWithVariables.replace(`:${name}`,value);dest=dest.replace(prefixPathWithVariables,rewritePrefixWithVariables),queryParams&&(dest+=`?${qs.stringify(queryParams)}`)}else dest=dest.replace(prefix,rewritePrefix);return{url:dest||"/",options:replyOpts}}function handler(request2,reply){let{url,options:options2}=fromParameters(request2.url,request2.params,this.prefix);if(request2.raw[kWs]){reply.hijack();try{wsProxy.handleUpgrade(request2,url,noop)}catch(err){request2.log.warn({err},"websocket proxy error")}return}reply.from(url,options2)}fastify2.decorateReply("fromParameters",fromParameters),fastify2.decorateReply("wsProxy",{getter(){return wsProxy}})}module2.exports=fp(fastifyHttpProxy,{fastify:"5.x",name:"@fastify/http-proxy",encapsulate:!0});module2.exports.default=fastifyHttpProxy;module2.exports.defaultRoutes=defaultRoutes;module2.exports.defaultHttpMethods=defaultHttpMethods;module2.exports.fastifyHttpProxy=fastifyHttpProxy}});var require_levdist=__commonJS({"../../../../node_modules/levdist/index.js"(exports2,module2){module2.exports=function(s,t){var d=[],n=s.length,m=t.length;if(n==0)return m;if(m==0)return n;for(var i=n;i>=0;i--)d[i]=[];for(var i=n;i>=0;i--)d[i][0]=i;for(var j=m;j>=0;j--)d[0][j]=j;for(var i=1;i<=n;i++)for(var s_i=s.charAt(i-1),j=1;j<=m;j++){if(i==j&&d[i][j]>4)return n;var t_j=t.charAt(j-1),cost=s_i==t_j?0:1,mi=d[i-1][j]+1,b=d[i][j-1]+1,c=d[i-1][j-1]+cost;b<mi&&(mi=b),c<mi&&(mi=c),d[i][j]=mi,i>1&&j>1&&s_i==t.charAt(j-2)&&s.charAt(i-2)==t_j&&(d[i][j]=Math.min(d[i][j],d[i-2][j-2]+cost))}return d[n][m]}}});var require_lib2=__commonJS({"../../../../node_modules/line-diff/lib/index.js"(exports2,module2){"use strict";var _createClass=(function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var LevDist=require_levdist(),Change=function Change2(oldLine,addedLine,sensitivity,lineno){_classCallCheck(this,Change2),this._=[oldLine,addedLine],this.changes=LevDist(oldLine,addedLine),this.modified=this.changes>sensitivity,this.lineno=lineno},Diff=(function(){function Diff2(oldLines,newLines,sensitivity){var _this=this;_classCallCheck(this,Diff2),this.sensitivity=sensitivity||0,this.changes=[],oldLines=typeof oldLines=="string"?oldLines.split(`
`):oldLines,newLines=typeof newLines=="string"?newLines.split(`
`):newLines,this.old_lines=oldLines,this.new_lines=newLines;var cOldLine=null;newLines.forEach(function(cNewLine,i){cOldLine=oldLines[i]||"",_this.changes.push(new Change(cOldLine,cNewLine,_this.sensitivity,i+1))})}return _createClass(Diff2,[{key:"toString",value:function(){var str="",cDiff={added:"",removed:""};return this.changes.forEach(function(cChange){cChange.modified?(cDiff.removed+=" - "+cChange._[0]+`
`,cChange._[1]&&(cDiff.added+=" + "+cChange._[1]+`
`)):(str+=cDiff.removed,str+=cDiff.added,cDiff.removed="",cDiff.added="",str+="   "+cChange._[1]+`
`)}),str+=cDiff.removed,str+=cDiff.added,str}}]),Diff2})();module2.exports=Diff}});var require_lists=__commonJS({"../../../../node_modules/fs-monkey/lib/util/lists.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.fsSyncMethods=exports2.fsProps=exports2.fsAsyncMethods=void 0;var fsProps=exports2.fsProps=["constants","F_OK","R_OK","W_OK","X_OK","Stats"],fsSyncMethods=exports2.fsSyncMethods=["renameSync","ftruncateSync","truncateSync","chownSync","fchownSync","lchownSync","chmodSync","fchmodSync","lchmodSync","statSync","lstatSync","fstatSync","linkSync","symlinkSync","readlinkSync","realpathSync","unlinkSync","rmdirSync","mkdirSync","mkdirpSync","readdirSync","closeSync","openSync","utimesSync","futimesSync","fsyncSync","writeSync","readSync","readFileSync","writeFileSync","appendFileSync","existsSync","accessSync","fdatasyncSync","mkdtempSync","copyFileSync","rmSync","createReadStream","createWriteStream"],fsAsyncMethods=exports2.fsAsyncMethods=["rename","ftruncate","truncate","chown","fchown","lchown","chmod","fchmod","lchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","mkdirp","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","exists","access","fdatasync","mkdtemp","copyFile","rm","watchFile","unwatchFile","watch"]}});var require_union2=__commonJS({"../../../../node_modules/unionfs/lib/union.js"(exports2){"use strict";var __awaiter2=exports2&&exports2.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator2=exports2&&exports2.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return g.next=verb(0),g.throw=verb(1),g.return=verb(2),typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}},__values3=exports2&&exports2.__values||function(o){var s=typeof Symbol=="function"&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},__read2=exports2&&exports2.__read||function(o,n){var m=typeof Symbol=="function"&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar},__spreadArray2=exports2&&exports2.__spreadArray||function(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++)(ar||!(i in from))&&(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))};Object.defineProperty(exports2,"__esModule",{value:!0});exports2.Union=void 0;var path_1=require("path"),stream_1=require("stream"),_a2=require_lists(),fsAsyncMethods=_a2.fsAsyncMethods,fsSyncMethods=_a2.fsSyncMethods,SPECIAL_METHODS=new Set(["existsSync","readdir","readdirSync","createReadStream","createWriteStream","watch","watchFile","unwatchFile"]),ADDITIONAL_PROPERTIES=["F_OK","R_OK","W_OK","X_OK","constants","Stats","Dirent"],createFSProxy=function(watchers){return new Proxy({},{get:function(_obj,property){var e_1,_a3,funcCallers=[],prop;try{for(var watchers_1=__values3(watchers),watchers_1_1=watchers_1.next();!watchers_1_1.done;watchers_1_1=watchers_1.next()){var watcher=watchers_1_1.value;prop=watcher[property],typeof prop=="function"&&funcCallers.push([watcher,prop])}}catch(e_1_1){e_1={error:e_1_1}}finally{try{watchers_1_1&&!watchers_1_1.done&&(_a3=watchers_1.return)&&_a3.call(watchers_1)}finally{if(e_1)throw e_1.error}}return funcCallers.length?function(){for(var e_2,_a4,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];try{for(var funcCallers_1=__values3(funcCallers),funcCallers_1_1=funcCallers_1.next();!funcCallers_1_1.done;funcCallers_1_1=funcCallers_1.next()){var _b=__read2(funcCallers_1_1.value,2),watcher2=_b[0],func=_b[1];func.apply(watcher2,args)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{funcCallers_1_1&&!funcCallers_1_1.done&&(_a4=funcCallers_1.return)&&_a4.call(funcCallers_1)}finally{if(e_2)throw e_2.error}}}:prop}})},fsPromisesMethods=["access","copyFile","open","opendir","rename","truncate","rmdir","mkdir","readdir","readlink","symlink","lstat","stat","link","unlink","chmod","lchmod","lchown","chown","utimes","realpath","mkdtemp","writeFile","appendFile","readFile"],Union2=(function(){function Union3(){var e_3,_a3,e_4,_b,e_5,_c,e_6,_d,_this=this;this.fss=[],this.ReadStream=stream_1.Readable,this.WriteStream=stream_1.Writable,this.promises={},this.unwatchFile=function(){for(var e_7,_a4,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];try{for(var _b2=__values3(_this.fss),_c2=_b2.next();!_c2.done;_c2=_b2.next()){var fs3=_c2.value;try{fs3.unwatchFile.apply(fs3,args)}catch{}}}catch(e_7_1){e_7={error:e_7_1}}finally{try{_c2&&!_c2.done&&(_a4=_b2.return)&&_a4.call(_b2)}finally{if(e_7)throw e_7.error}}},this.watch=function(){for(var e_8,_a4,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var watchers=[];try{for(var _b2=__values3(_this.fss),_c2=_b2.next();!_c2.done;_c2=_b2.next()){var fs3=_c2.value;try{var watcher=fs3.watch.apply(fs3,args);watchers.push(watcher)}catch{}}}catch(e_8_1){e_8={error:e_8_1}}finally{try{_c2&&!_c2.done&&(_a4=_b2.return)&&_a4.call(_b2)}finally{if(e_8)throw e_8.error}}return createFSProxy(watchers)},this.watchFile=function(){for(var e_9,_a4,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];try{for(var _b2=__values3(_this.fss),_c2=_b2.next();!_c2.done;_c2=_b2.next()){var fs3=_c2.value;try{fs3.watchFile.apply(fs3,args)}catch{}}}catch(e_9_1){e_9={error:e_9_1}}finally{try{_c2&&!_c2.done&&(_a4=_b2.return)&&_a4.call(_b2)}finally{if(e_9)throw e_9.error}}},this.existsSync=function(path5){var e_10,_a4;try{for(var _b2=__values3(_this.fss),_c2=_b2.next();!_c2.done;_c2=_b2.next()){var fs3=_c2.value;try{if(fs3.existsSync(path5))return!0}catch{}}}catch(e_10_1){e_10={error:e_10_1}}finally{try{_c2&&!_c2.done&&(_a4=_b2.return)&&_a4.call(_b2)}finally{if(e_10)throw e_10.error}}return!1},this.readdir=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var lastarg=args.length-1,cb=args[lastarg];typeof cb!="function"&&(cb=null,lastarg++);var numErrors=0,lastError=null,result=new Map,iterate=function(i,error){if(i===void 0&&(i=0),error&&(error.prev=lastError,lastError=error,numErrors++),i>=_this.fss.length){if(cb){if(numErrors<_this.fss.length)return cb(null,_this.sortedArrayFromReaddirResult(result));cb(error||Error("No file systems attached."))}return}args[lastarg]=function(err,resArg){var e_11,_a4;if(resArg)try{for(var resArg_1=__values3(resArg),resArg_1_1=resArg_1.next();!resArg_1_1.done;resArg_1_1=resArg_1.next()){var res=resArg_1_1.value;result.set(_this.pathFromReaddirEntry(res),res)}}catch(e_11_1){e_11={error:e_11_1}}finally{try{resArg_1_1&&!resArg_1_1.done&&(_a4=resArg_1.return)&&_a4.call(resArg_1)}finally{if(e_11)throw e_11.error}}return iterate(i+1,err)};var j=_this.fss.length-i-1,fs3=_this.fss[j],func=fs3.readdir;func?func.apply(fs3,args):iterate(i+1,Error("Method not supported: readdir"))};iterate()},this.readdirSync=function(){for(var e_12,_a4,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];for(var numErrors=0,lastError=null,result=new Map,i=_this.fss.length-1;i>=0;i--){var fs3=_this.fss[i];try{if(!fs3.readdirSync)throw Error('Method not supported: "readdirSync" with args "'.concat(args,'"'));try{for(var _b2=(e_12=void 0,__values3(fs3.readdirSync.apply(fs3,args))),_c2=_b2.next();!_c2.done;_c2=_b2.next()){var res=_c2.value;result.set(_this.pathFromReaddirEntry(res),res)}}catch(e_12_1){e_12={error:e_12_1}}finally{try{_c2&&!_c2.done&&(_a4=_b2.return)&&_a4.call(_b2)}finally{if(e_12)throw e_12.error}}}catch(err){if(err.prev=lastError,lastError=err,numErrors++,numErrors===_this.fss.length)throw err}}return _this.sortedArrayFromReaddirResult(result)},this.readdirPromise=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return __awaiter2(_this,void 0,void 0,function(){var lastError,result,i,fs3,_a4,_b2,res,e_13_1,err_1,e_13,_c2;return __generator2(this,function(_d2){switch(_d2.label){case 0:lastError=null,result=new Map,i=this.fss.length-1,_d2.label=1;case 1:if(!(i>=0))return[3,13];fs3=this.fss[i],_d2.label=2;case 2:if(_d2.trys.push([2,11,,12]),!fs3.promises||!fs3.promises.readdir)throw Error('Method not supported: "readdirSync" with args "'.concat(args,'"'));_d2.label=3;case 3:return _d2.trys.push([3,8,9,10]),e_13=void 0,[4,fs3.promises.readdir.apply(fs3,args)];case 4:_a4=__values3.apply(void 0,[_d2.sent()]),_b2=_a4.next(),_d2.label=5;case 5:if(_b2.done)return[3,7];res=_b2.value,result.set(this.pathFromReaddirEntry(res),res),_d2.label=6;case 6:return _b2=_a4.next(),[3,5];case 7:return[3,10];case 8:return e_13_1=_d2.sent(),e_13={error:e_13_1},[3,10];case 9:try{_b2&&!_b2.done&&(_c2=_a4.return)&&_c2.call(_a4)}finally{if(e_13)throw e_13.error}return[7];case 10:return[3,12];case 11:if(err_1=_d2.sent(),err_1.prev=lastError,lastError=err_1,result.size===0&&!i)throw err_1;return[3,12];case 12:return i--,[3,1];case 13:return[2,this.sortedArrayFromReaddirResult(result)]}})})},this.pathFromReaddirEntry=function(readdirEntry){return readdirEntry instanceof Buffer||typeof readdirEntry=="string"?String(readdirEntry):readdirEntry.name},this.sortedArrayFromReaddirResult=function(readdirResult){var e_14,_a4,array=[];try{for(var _b2=__values3(Array.from(readdirResult.keys()).sort()),_c2=_b2.next();!_c2.done;_c2=_b2.next()){var key=_c2.value,value=readdirResult.get(key);value!==void 0&&array.push(value)}}catch(e_14_1){e_14={error:e_14_1}}finally{try{_c2&&!_c2.done&&(_a4=_b2.return)&&_a4.call(_b2)}finally{if(e_14)throw e_14.error}}return array},this.createReadStream=function(path5){for(var lastError=null,i=_this.fss.length-1;i>=0;i--){var fs3=_this.fss[i];try{if(!fs3.createReadStream)throw Error('Method not supported: "createReadStream"');if(fs3.existsSync&&!fs3.existsSync(path5))throw new Error('file "'.concat(path5,'" does not exists'));var stream=fs3.createReadStream(path5);if(!stream)throw new Error("no valid stream");return _this.ReadStream=fs3.ReadStream,stream}catch(err){lastError=err}}throw lastError},this.createWriteStream=function(path5){for(var e_15,_a4,lastError=null,fssWithFilePath=[],fssWithParentDir=[],i=_this.fss.length-1;i>=0;i--){var fs3=_this.fss[i];try{if(!fs3.createWriteStream)throw Error('Method not supported: "createWriteStream"');if(!fs3.statSync((0,path_1.dirname)(path5)).isDirectory())throw new Error('path "'.concat((0,path_1.dirname)(path5),'" is not a directory'));fs3.existsSync(path5)?fssWithFilePath.push(fs3):fssWithParentDir.push(fs3)}catch(err){lastError=err}}try{for(var _b2=__values3(__spreadArray2(__spreadArray2([],__read2(fssWithFilePath),!1),__read2(fssWithParentDir),!1)),_c2=_b2.next();!_c2.done;_c2=_b2.next()){var fs3=_c2.value;try{var stream=fs3.createWriteStream(path5);if(!stream)throw new Error("no valid stream");return _this.WriteStream=fs3.WriteStream,stream}catch(err){lastError=err}}}catch(e_15_1){e_15={error:e_15_1}}finally{try{_c2&&!_c2.done&&(_a4=_b2.return)&&_a4.call(_b2)}finally{if(e_15)throw e_15.error}}throw lastError};var _loop_1=function(method2){SPECIAL_METHODS.has(method2)||(this_1[method2]=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _this.syncMethod(method2,args)})},this_1=this;try{for(var fsSyncMethods_1=__values3(fsSyncMethods),fsSyncMethods_1_1=fsSyncMethods_1.next();!fsSyncMethods_1_1.done;fsSyncMethods_1_1=fsSyncMethods_1.next()){var method=fsSyncMethods_1_1.value;_loop_1(method)}}catch(e_3_1){e_3={error:e_3_1}}finally{try{fsSyncMethods_1_1&&!fsSyncMethods_1_1.done&&(_a3=fsSyncMethods_1.return)&&_a3.call(fsSyncMethods_1)}finally{if(e_3)throw e_3.error}}var _loop_2=function(method2){SPECIAL_METHODS.has(method2)||(this_2[method2]=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _this.asyncMethod(method2,args)})},this_2=this;try{for(var fsAsyncMethods_1=__values3(fsAsyncMethods),fsAsyncMethods_1_1=fsAsyncMethods_1.next();!fsAsyncMethods_1_1.done;fsAsyncMethods_1_1=fsAsyncMethods_1.next()){var method=fsAsyncMethods_1_1.value;_loop_2(method)}}catch(e_4_1){e_4={error:e_4_1}}finally{try{fsAsyncMethods_1_1&&!fsAsyncMethods_1_1.done&&(_b=fsAsyncMethods_1.return)&&_b.call(fsAsyncMethods_1)}finally{if(e_4)throw e_4.error}}var _loop_3=function(method2){if(method2==="readdir")return this_3.promises[method2]=this_3.readdirPromise,"continue";this_3.promises[method2]=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _this.promiseMethod(method2,args)}},this_3=this;try{for(var fsPromisesMethods_1=__values3(fsPromisesMethods),fsPromisesMethods_1_1=fsPromisesMethods_1.next();!fsPromisesMethods_1_1.done;fsPromisesMethods_1_1=fsPromisesMethods_1.next()){var method=fsPromisesMethods_1_1.value;_loop_3(method)}}catch(e_5_1){e_5={error:e_5_1}}finally{try{fsPromisesMethods_1_1&&!fsPromisesMethods_1_1.done&&(_c=fsPromisesMethods_1.return)&&_c.call(fsPromisesMethods_1)}finally{if(e_5)throw e_5.error}}try{for(var _e=__values3(SPECIAL_METHODS.values()),_f=_e.next();!_f.done;_f=_e.next()){var method=_f.value;this[method]=this[method].bind(this)}}catch(e_6_1){e_6={error:e_6_1}}finally{try{_f&&!_f.done&&(_d=_e.return)&&_d.call(_e)}finally{if(e_6)throw e_6.error}}}return Union3.prototype.use=function(fs3){var e_16,_a3;this.fss.push(fs3);try{for(var ADDITIONAL_PROPERTIES_1=__values3(ADDITIONAL_PROPERTIES),ADDITIONAL_PROPERTIES_1_1=ADDITIONAL_PROPERTIES_1.next();!ADDITIONAL_PROPERTIES_1_1.done;ADDITIONAL_PROPERTIES_1_1=ADDITIONAL_PROPERTIES_1.next()){var prop=ADDITIONAL_PROPERTIES_1_1.value;this[prop]=fs3[prop]}}catch(e_16_1){e_16={error:e_16_1}}finally{try{ADDITIONAL_PROPERTIES_1_1&&!ADDITIONAL_PROPERTIES_1_1.done&&(_a3=ADDITIONAL_PROPERTIES_1.return)&&_a3.call(ADDITIONAL_PROPERTIES_1)}finally{if(e_16)throw e_16.error}}return this},Union3.prototype.syncMethod=function(method,args){for(var lastError=null,i=this.fss.length-1;i>=0;i--){var fs3=this.fss[i];try{if(!fs3[method])throw Error('Method not supported: "'.concat(method,'" with args "').concat(args,'"'));return fs3[method].apply(fs3,args)}catch(err){if(err.prev=lastError,lastError=err,!i)throw err}}},Union3.prototype.asyncMethod=function(method,args){var _this=this,lastarg=args.length-1,cb=args[lastarg];typeof cb!="function"&&(cb=null,lastarg++);var lastError=null,iterate=function(i,err){if(i===void 0&&(i=0),err&&(err.prev=lastError,lastError=err),i>=_this.fss.length){cb&&cb(err||Error("No file systems attached."));return}args[lastarg]=function(err2){if(err2)return iterate(i+1,err2);cb&&cb.apply(cb,arguments)};var j=_this.fss.length-i-1,fs3=_this.fss[j],func=fs3[method];func?func.apply(fs3,args):iterate(i+1,Error("Method not supported: "+method))};iterate()},Union3.prototype.promiseMethod=function(method,args){return __awaiter2(this,void 0,void 0,function(){var lastError,i,theFs,promises,err_2;return __generator2(this,function(_a3){switch(_a3.label){case 0:lastError=null,i=this.fss.length-1,_a3.label=1;case 1:if(!(i>=0))return[3,6];theFs=this.fss[i],promises=theFs.promises,_a3.label=2;case 2:if(_a3.trys.push([2,4,,5]),!promises||!promises[method])throw Error('Promise of method not supported: "'.concat(String(method),'" with args "').concat(args,'"'));return[4,promises[method].apply(promises,args)];case 3:return[2,_a3.sent()];case 4:if(err_2=_a3.sent(),err_2.prev=lastError,lastError=err_2,!i)throw err_2;return[3,5];case 5:return i--,[3,1];case 6:return[2]}})})},Union3})();exports2.Union=Union2}});var require_lib3=__commonJS({"../../../../node_modules/unionfs/lib/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.ufs=exports2.Union=void 0;var union_1=require_union2();exports2.Union=union_1.Union;exports2.ufs=new union_1.Union;exports2.default=exports2.ufs}});var tslib_es6_exports={};__export(tslib_es6_exports,{__addDisposableResource:()=>__addDisposableResource,__assign:()=>__assign,__asyncDelegator:()=>__asyncDelegator3,__asyncGenerator:()=>__asyncGenerator4,__asyncValues:()=>__asyncValues4,__await:()=>__await4,__awaiter:()=>__awaiter,__classPrivateFieldGet:()=>__classPrivateFieldGet,__classPrivateFieldIn:()=>__classPrivateFieldIn,__classPrivateFieldSet:()=>__classPrivateFieldSet,__createBinding:()=>__createBinding,__decorate:()=>__decorate,__disposeResources:()=>__disposeResources,__esDecorate:()=>__esDecorate,__exportStar:()=>__exportStar,__extends:()=>__extends,__generator:()=>__generator,__importDefault:()=>__importDefault,__importStar:()=>__importStar,__makeTemplateObject:()=>__makeTemplateObject,__metadata:()=>__metadata,__param:()=>__param,__propKey:()=>__propKey,__read:()=>__read,__rest:()=>__rest2,__rewriteRelativeImportExtension:()=>__rewriteRelativeImportExtension,__runInitializers:()=>__runInitializers,__setFunctionName:()=>__setFunctionName,__spread:()=>__spread,__spreadArray:()=>__spreadArray,__spreadArrays:()=>__spreadArrays,__values:()=>__values2,default:()=>tslib_es6_default});function __extends(d,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}function __rest2(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t}function __decorate(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}function __param(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}function __esDecorate(ctor,descriptorIn,decorators,contextIn,initializers,extraInitializers){function accept(f){if(f!==void 0&&typeof f!="function")throw new TypeError("Function expected");return f}for(var kind=contextIn.kind,key=kind==="getter"?"get":kind==="setter"?"set":"value",target=!descriptorIn&&ctor?contextIn.static?ctor:ctor.prototype:null,descriptor=descriptorIn||(target?Object.getOwnPropertyDescriptor(target,contextIn.name):{}),_,done=!1,i=decorators.length-1;i>=0;i--){var context={};for(var p in contextIn)context[p]=p==="access"?{}:contextIn[p];for(var p in contextIn.access)context.access[p]=contextIn.access[p];context.addInitializer=function(f){if(done)throw new TypeError("Cannot add initializers after decoration has completed");extraInitializers.push(accept(f||null))};var result=(0,decorators[i])(kind==="accessor"?{get:descriptor.get,set:descriptor.set}:descriptor[key],context);if(kind==="accessor"){if(result===void 0)continue;if(result===null||typeof result!="object")throw new TypeError("Object expected");(_=accept(result.get))&&(descriptor.get=_),(_=accept(result.set))&&(descriptor.set=_),(_=accept(result.init))&&initializers.unshift(_)}else(_=accept(result))&&(kind==="field"?initializers.unshift(_):descriptor[key]=_)}target&&Object.defineProperty(target,contextIn.name,descriptor),done=!0}function __runInitializers(thisArg,initializers,value){for(var useValue=arguments.length>2,i=0;i<initializers.length;i++)value=useValue?initializers[i].call(thisArg,value):initializers[i].call(thisArg);return useValue?value:void 0}function __propKey(x){return typeof x=="symbol"?x:"".concat(x)}function __setFunctionName(f,name,prefix){return typeof name=="symbol"&&(name=name.description?"[".concat(name.description,"]"):""),Object.defineProperty(f,"name",{configurable:!0,value:prefix?"".concat(prefix," ",name):name})}function __metadata(metadataKey,metadataValue){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(metadataKey,metadataValue)}function __awaiter(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function __generator(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return g.next=verb(0),g.throw=verb(1),g.return=verb(2),typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}function __exportStar(m,o){for(var p in m)p!=="default"&&!Object.prototype.hasOwnProperty.call(o,p)&&__createBinding(o,m,p)}function __values2(o){var s=typeof Symbol=="function"&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m=typeof Symbol=="function"&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}function __spreadArray(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++)(ar||!(i in from))&&(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))}function __await4(v){return this instanceof __await4?(this.v=v,this):new __await4(v)}function __asyncGenerator4(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=generator.apply(thisArg,_arguments||[]),i,q=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),verb("next"),verb("throw"),verb("return",awaitReturn),i[Symbol.asyncIterator]=function(){return this},i;function awaitReturn(f){return function(v){return Promise.resolve(v).then(f,reject)}}function verb(n,f){g[n]&&(i[n]=function(v){return new Promise(function(a,b){q.push([n,v,a,b])>1||resume(n,v)})},f&&(i[n]=f(i[n])))}function resume(n,v){try{step(g[n](v))}catch(e){settle(q[0][3],e)}}function step(r){r.value instanceof __await4?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){f(v),q.shift(),q.length&&resume(q[0][0],q[0][1])}}function __asyncDelegator3(o){var i,p;return i={},verb("next"),verb("throw",function(e){throw e}),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await4(o[n](v)),done:!1}:f?f(v):v}:f}}function __asyncValues4(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m=o[Symbol.asyncIterator],i;return m?m.call(o):(o=typeof __values2=="function"?__values2(o):o[Symbol.iterator](),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise(function(resolve,reject){v=o[n](v),settle(resolve,reject,v.done,v.value)})}}function settle(resolve,reject,d,v){Promise.resolve(v).then(function(v2){resolve({value:v2,done:d})},reject)}}function __makeTemplateObject(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked}function __importStar(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k=ownKeys(mod),i=0;i<k.length;i++)k[i]!=="default"&&__createBinding(result,mod,k[i]);return __setModuleDefault(result,mod),result}function __importDefault(mod){return mod&&mod.__esModule?mod:{default:mod}}function __classPrivateFieldGet(receiver,state,kind,f){if(kind==="a"&&!f)throw new TypeError("Private accessor was defined without a getter");if(typeof state=="function"?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return kind==="m"?f:kind==="a"?f.call(receiver):f?f.value:state.get(receiver)}function __classPrivateFieldSet(receiver,state,value,kind,f){if(kind==="m")throw new TypeError("Private method is not writable");if(kind==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof state=="function"?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot write private member to an object whose class did not declare it");return kind==="a"?f.call(receiver,value):f?f.value=value:state.set(receiver,value),value}function __classPrivateFieldIn(state,receiver){if(receiver===null||typeof receiver!="object"&&typeof receiver!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof state=="function"?receiver===state:state.has(receiver)}function __addDisposableResource(env2,value,async){if(value!=null){if(typeof value!="object"&&typeof value!="function")throw new TypeError("Object expected.");var dispose,inner;if(async){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");dispose=value[Symbol.asyncDispose]}if(dispose===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");dispose=value[Symbol.dispose],async&&(inner=dispose)}if(typeof dispose!="function")throw new TypeError("Object not disposable.");inner&&(dispose=function(){try{inner.call(this)}catch(e){return Promise.reject(e)}}),env2.stack.push({value,dispose,async})}else async&&env2.stack.push({async:!0});return value}function __disposeResources(env2){function fail(e){env2.error=env2.hasError?new _SuppressedError(e,env2.error,"An error was suppressed during disposal."):e,env2.hasError=!0}var r,s=0;function next(){for(;r=env2.stack.pop();)try{if(!r.async&&s===1)return s=0,env2.stack.push(r),Promise.resolve().then(next);if(r.dispose){var result=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(result).then(next,function(e){return fail(e),next()})}else s|=1}catch(e){fail(e)}if(s===1)return env2.hasError?Promise.reject(env2.error):Promise.resolve();if(env2.hasError)throw env2.error}return next()}function __rewriteRelativeImportExtension(path5,preserveJsx){return typeof path5=="string"&&/^\.\.?\//.test(path5)?path5.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(m,tsx,d,ext,cm){return tsx?preserveJsx?".jsx":".js":d&&(!ext||!cm)?m:d+ext+"."+cm.toLowerCase()+"js"}):path5}var extendStatics,__assign,__createBinding,__setModuleDefault,ownKeys,_SuppressedError,tslib_es6_default,init_tslib_es6=__esm({"../../../../node_modules/tslib/tslib.es6.mjs"(){extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)Object.prototype.hasOwnProperty.call(b2,p)&&(d2[p]=b2[p])},extendStatics(d,b)};__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)};__createBinding=Object.create?(function(o,m,k,k2){k2===void 0&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))&&(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}):(function(o,m,k,k2){k2===void 0&&(k2=k),o[k2]=m[k]});__setModuleDefault=Object.create?(function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}):function(o,v){o.default=v},ownKeys=function(o){return ownKeys=Object.getOwnPropertyNames||function(o2){var ar=[];for(var k in o2)Object.prototype.hasOwnProperty.call(o2,k)&&(ar[ar.length]=k);return ar},ownKeys(o)};_SuppressedError=typeof SuppressedError=="function"?SuppressedError:function(error,suppressed,message){var e=new Error(message);return e.name="SuppressedError",e.error=error,e.suppressed=suppressed,e};tslib_es6_default={__extends,__assign,__rest:__rest2,__decorate,__param,__esDecorate,__runInitializers,__propKey,__setFunctionName,__metadata,__awaiter,__generator,__createBinding,__exportStar,__values:__values2,__read,__spread,__spreadArrays,__spreadArray,__await:__await4,__asyncGenerator:__asyncGenerator4,__asyncDelegator:__asyncDelegator3,__asyncValues:__asyncValues4,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet,__classPrivateFieldIn,__addDisposableResource,__disposeResources,__rewriteRelativeImportExtension}}});var require_path=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node-builtins/lib/path.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.basename=exports2.isAbsolute=exports2.normalize=exports2.dirname=exports2.relative=exports2.join=exports2.posix=exports2.sep=exports2.resolve=void 0;var node_path_1=require("node:path");Object.defineProperty(exports2,"resolve",{enumerable:!0,get:function(){return node_path_1.resolve}});Object.defineProperty(exports2,"sep",{enumerable:!0,get:function(){return node_path_1.sep}});Object.defineProperty(exports2,"posix",{enumerable:!0,get:function(){return node_path_1.posix}});Object.defineProperty(exports2,"join",{enumerable:!0,get:function(){return node_path_1.join}});Object.defineProperty(exports2,"relative",{enumerable:!0,get:function(){return node_path_1.relative}});Object.defineProperty(exports2,"dirname",{enumerable:!0,get:function(){return node_path_1.dirname}});Object.defineProperty(exports2,"normalize",{enumerable:!0,get:function(){return node_path_1.normalize}});Object.defineProperty(exports2,"isAbsolute",{enumerable:!0,get:function(){return node_path_1.isAbsolute}});Object.defineProperty(exports2,"basename",{enumerable:!0,get:function(){return node_path_1.basename}})}});var require_types5=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-core/lib/types.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0})}});var require_buffer=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node-builtins/lib/buffer.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.Buffer=void 0;var node_buffer_1=require("node:buffer");Object.defineProperty(exports2,"Buffer",{enumerable:!0,get:function(){return node_buffer_1.Buffer}})}});var require_buffer2=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node-builtins/lib/internal/buffer.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.bufferFrom=exports2.bufferAllocUnsafe=exports2.Buffer=void 0;var buffer_1=require_buffer();Object.defineProperty(exports2,"Buffer",{enumerable:!0,get:function(){return buffer_1.Buffer}});function bufferV0P12Ponyfill(arg0,...args){return new buffer_1.Buffer(arg0,...args)}var bufferAllocUnsafe=buffer_1.Buffer.allocUnsafe||bufferV0P12Ponyfill;exports2.bufferAllocUnsafe=bufferAllocUnsafe;var bufferFrom=buffer_1.Buffer.from||bufferV0P12Ponyfill;exports2.bufferFrom=bufferFrom}});var require_json=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-core/lib/json.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.flattenJSON=void 0;var buffer_1=require_buffer2(),path_1=require_path(),pathJoin=path_1.posix?path_1.posix.join:path_1.join,flattenJSON=nestedJSON=>{let flatJSON={};function flatten(pathPrefix,node){for(let path5 in node){let contentOrNode=node[path5],joinedPath=pathJoin(pathPrefix,path5);typeof contentOrNode=="string"||contentOrNode instanceof buffer_1.Buffer?flatJSON[joinedPath]=contentOrNode:typeof contentOrNode=="object"&&contentOrNode!==null&&!(contentOrNode instanceof buffer_1.Buffer)&&Object.keys(contentOrNode).length>0?flatten(joinedPath,contentOrNode):flatJSON[joinedPath]=null}}return flatten("",nestedJSON),flatJSON};exports2.flattenJSON=flattenJSON}});var require_constants10=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-core/lib/constants.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0})}});var require_result=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-core/lib/result.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.Ok=Ok;exports2.Err=Err;function Ok(value){return{ok:!0,value}}function Err(err){return{ok:!1,err}}}});var require_fanout=__commonJS({"../../../../node_modules/thingies/lib/fanout.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.FanOut=void 0;var FanOut=class{constructor(){this.listeners=new Set}emit(data){this.listeners.forEach(listener=>listener(data))}listen(listener){let listeners=this.listeners;return listeners.add(listener),()=>listeners.delete(listener)}};exports2.FanOut=FanOut}});var require_process=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-core/lib/process.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.createProcess=createProcess;var maybeReturnProcess=()=>{if(typeof process<"u")return process;try{return require("process")}catch{return}};function createProcess(){let p=maybeReturnProcess()||{};return p.cwd||(p.cwd=()=>"/"),p.emitWarning||(p.emitWarning=(message,type)=>{console.warn(`${type}${type?": ":""}${message}`)}),p.env||(p.env={}),p}exports2.default=createProcess()}});var require_types6=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node-utils/lib/types/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0})}});var require_constants11=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node-utils/lib/constants.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.FLAGS=exports2.ERRSTR=exports2.constants=exports2.SEP=void 0;exports2.SEP="/";exports2.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_SYMLINK:2097152,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4};exports2.ERRSTR={PATH_STR:"path must be a string, Buffer, or Uint8Array",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int",LEN:"len must be an integer",ATIME:"atime must be an integer",MTIME:"mtime must be an integer",PREFIX:"filename prefix is required",BUFFER:"buffer must be an instance of Buffer or StaticBuffer",OFFSET:"offset must be an integer",LENGTH:"length must be an integer",POSITION:"position must be an integer"};var{O_RDONLY,O_WRONLY,O_RDWR,O_CREAT,O_EXCL,O_TRUNC,O_APPEND,O_SYNC}=exports2.constants,FLAGS;(function(FLAGS2){FLAGS2[FLAGS2.r=O_RDONLY]="r",FLAGS2[FLAGS2["r+"]=O_RDWR]="r+",FLAGS2[FLAGS2.rs=O_RDONLY|O_SYNC]="rs",FLAGS2[FLAGS2.sr=FLAGS2.rs]="sr",FLAGS2[FLAGS2["rs+"]=O_RDWR|O_SYNC]="rs+",FLAGS2[FLAGS2["sr+"]=FLAGS2["rs+"]]="sr+",FLAGS2[FLAGS2.w=O_WRONLY|O_CREAT|O_TRUNC]="w",FLAGS2[FLAGS2.wx=O_WRONLY|O_CREAT|O_TRUNC|O_EXCL]="wx",FLAGS2[FLAGS2.xw=FLAGS2.wx]="xw",FLAGS2[FLAGS2["w+"]=O_RDWR|O_CREAT|O_TRUNC]="w+",FLAGS2[FLAGS2["wx+"]=O_RDWR|O_CREAT|O_TRUNC|O_EXCL]="wx+",FLAGS2[FLAGS2["xw+"]=FLAGS2["wx+"]]="xw+",FLAGS2[FLAGS2.a=O_WRONLY|O_APPEND|O_CREAT]="a",FLAGS2[FLAGS2.ax=O_WRONLY|O_APPEND|O_CREAT|O_EXCL]="ax",FLAGS2[FLAGS2.xa=FLAGS2.ax]="xa",FLAGS2[FLAGS2["a+"]=O_RDWR|O_APPEND|O_CREAT]="a+",FLAGS2[FLAGS2["ax+"]=O_RDWR|O_APPEND|O_CREAT|O_EXCL]="ax+",FLAGS2[FLAGS2["xa+"]=FLAGS2["ax+"]]="xa+"})(FLAGS||(exports2.FLAGS=FLAGS={}))}});var require_AMODE=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node-utils/lib/consts/AMODE.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0})}});var require_FLAG=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node-utils/lib/consts/FLAG.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.FLAG=void 0;var FLAG;(function(FLAG2){FLAG2[FLAG2.O_RDONLY=0]="O_RDONLY",FLAG2[FLAG2.O_WRONLY=1]="O_WRONLY",FLAG2[FLAG2.O_RDWR=2]="O_RDWR",FLAG2[FLAG2.O_ACCMODE=3]="O_ACCMODE",FLAG2[FLAG2.O_CREAT=64]="O_CREAT",FLAG2[FLAG2.O_EXCL=128]="O_EXCL",FLAG2[FLAG2.O_NOCTTY=256]="O_NOCTTY",FLAG2[FLAG2.O_TRUNC=512]="O_TRUNC",FLAG2[FLAG2.O_APPEND=1024]="O_APPEND",FLAG2[FLAG2.O_NONBLOCK=2048]="O_NONBLOCK",FLAG2[FLAG2.O_DSYNC=4096]="O_DSYNC",FLAG2[FLAG2.FASYNC=8192]="FASYNC",FLAG2[FLAG2.O_DIRECT=16384]="O_DIRECT",FLAG2[FLAG2.O_LARGEFILE=0]="O_LARGEFILE",FLAG2[FLAG2.O_DIRECTORY=65536]="O_DIRECTORY",FLAG2[FLAG2.O_NOFOLLOW=131072]="O_NOFOLLOW",FLAG2[FLAG2.O_NOATIME=262144]="O_NOATIME",FLAG2[FLAG2.O_CLOEXEC=524288]="O_CLOEXEC",FLAG2[FLAG2.O_SYNC=1052672]="O_SYNC",FLAG2[FLAG2.O_NDELAY=2048]="O_NDELAY"})(FLAG||(exports2.FLAG=FLAG={}))}});var require_path2=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node-utils/lib/path.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.basename=void 0;var basename=(path5,separator)=>{path5[path5.length-1]===separator&&(path5=path5.slice(0,-1));let lastSlashIndex=path5.lastIndexOf(separator);return lastSlashIndex===-1?path5:path5.slice(lastSlashIndex+1)};exports2.basename=basename}});var require_util9=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node-builtins/lib/util.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.inherits=inherits;exports2.promisify=promisify2;exports2.inspect=inspect;exports2.format=format2;function inherits(ctor,superCtor){if(ctor==null)throw new TypeError("The constructor to inherit from is not defined");if(superCtor==null)throw new TypeError("The super constructor to inherit from is not defined");ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}function promisify2(fn){if(typeof fn!="function")throw new TypeError('The "original" argument must be of type function');return function(...args){return new Promise((resolve,reject)=>{fn.call(this,...args,(err,result)=>{err?reject(err):resolve(result)})})}}function inspect(value){return value===null?"null":value===void 0?"undefined":typeof value=="string"?`'${value}'`:typeof value=="number"||typeof value=="boolean"?String(value):Array.isArray(value)?`[ ${value.map(item=>inspect(item)).join(", ")} ]`:typeof value=="object"?`{ ${Object.entries(value).map(([key,val])=>`${key}: ${inspect(val)}`).join(", ")} }`:String(value)}function format2(template,...args){if(args.length===0)return template;let result=template,argIndex=0;for(result=result.replace(/%[sdj%]/g,match2=>{if(argIndex>=args.length)return match2;let arg=args[argIndex++];switch(match2){case"%s":return String(arg);case"%d":return Number(arg).toString();case"%j":try{return JSON.stringify(arg)}catch{return"[Circular]"}case"%%":return"%";default:return match2}});argIndex<args.length;)result+=" "+String(args[argIndex++]);return result}}});var require_errors7=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node-builtins/lib/internal/errors.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.AssertionError=exports2.RangeError=exports2.TypeError=exports2.Error=void 0;exports2.message=message;exports2.E=E;var util_1=require_util9(),kCode=typeof Symbol>"u"?"_kCode":Symbol("code"),messages={};function makeNodeError(Base){return class extends Base{constructor(key,...args){super(message(key,args)),this.code=key,this[kCode]=key,this.name=`${super.name} [${this[kCode]}]`}}}var g=typeof globalThis<"u"?globalThis:global,AssertionError=class extends g.Error{constructor(options2){if(typeof options2!="object"||options2===null)throw new exports2.TypeError("ERR_INVALID_ARG_TYPE","options","object");options2.message?super(options2.message):super(`${(0,util_1.inspect)(options2.actual).slice(0,128)} ${options2.operator} ${(0,util_1.inspect)(options2.expected).slice(0,128)}`),this.generatedMessage=!options2.message,this.name="AssertionError [ERR_ASSERTION]",this.code="ERR_ASSERTION",this.actual=options2.actual,this.expected=options2.expected,this.operator=options2.operator,exports2.Error.captureStackTrace(this,options2.stackStartFunction)}};exports2.AssertionError=AssertionError;function message(key,args){if(typeof key!="string")throw new exports2.Error("Error message key must be a string");let msg=messages[key];if(!msg)throw new exports2.Error(`An invalid error message key was used: ${key}.`);let fmt;if(typeof msg=="function")fmt=msg;else{if(fmt=util_1.format,args===void 0||args.length===0)return msg;args.unshift(msg)}return String(fmt.apply(null,args))}function E(sym,val){messages[sym]=typeof val=="function"?val:String(val)}exports2.Error=makeNodeError(g.Error);exports2.TypeError=makeNodeError(g.TypeError);exports2.RangeError=makeNodeError(g.RangeError);E("ERR_DIR_CLOSED","Directory handle was closed");E("ERR_DIR_CONCURRENT_OPERATION","Cannot do synchronous work on directory handle with concurrent asynchronous operations");E("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s');E("ERR_INVALID_FILE_URL_PATH","File URL path %s");E("ERR_INVALID_OPT_VALUE",(name,value)=>`The value "${String(value)}" is invalid for option "${name}"`);E("ERR_INVALID_OPT_VALUE_ENCODING",value=>`The value "${String(value)}" is invalid for option "encoding"`);E("ERR_INVALID_ARG_VALUE","Unable to open file as blob")}});var require_encoding=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node-utils/lib/encoding.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.ENCODING_UTF8=void 0;exports2.assertEncoding=assertEncoding;exports2.strToEncoding=strToEncoding;var buffer_1=require_buffer2(),errors=require_errors7();exports2.ENCODING_UTF8="utf8";function assertEncoding(encoding){if(encoding&&!buffer_1.Buffer.isEncoding(encoding))throw new errors.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",encoding)}function strToEncoding(str,encoding){return!encoding||encoding===exports2.ENCODING_UTF8?str:encoding==="buffer"?new buffer_1.Buffer(str):new buffer_1.Buffer(str).toString(encoding)}}});var require_lib4=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node-utils/lib/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports));tslib_1.__exportStar(require_types6(),exports2);tslib_1.__exportStar(require_constants11(),exports2);tslib_1.__exportStar(require_AMODE(),exports2);tslib_1.__exportStar(require_FLAG(),exports2);tslib_1.__exportStar(require_path2(),exports2);tslib_1.__exportStar(require_encoding(),exports2)}});var require_Node=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-core/lib/Node.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.Node=void 0;var fanout_1=require_fanout(),process_1=require_process(),buffer_1=require_buffer2(),fs_node_utils_1=require_lib4(),{S_IFMT,S_IFDIR,S_IFREG,S_IFLNK,S_IFCHR}=fs_node_utils_1.constants,getuid=()=>process_1.default.getuid?.()??0,getgid=()=>process_1.default.getgid?.()??0,EMPTY_BUFFER=(0,buffer_1.bufferAllocUnsafe)(0),Node=class{constructor(ino,mode=438){this.changes=new fanout_1.FanOut,this._uid=getuid(),this._gid=getgid(),this._atime=new Date,this._mtime=new Date,this._ctime=new Date,this.buf=EMPTY_BUFFER,this.capacity=0,this.size=0,this.rdev=0,this._nlink=1,this.mode=mode,this.ino=ino}set ctime(ctime){this._ctime=ctime}get ctime(){return this._ctime}set uid(uid){this._uid=uid,this.ctime=new Date}get uid(){return this._uid}set gid(gid){this._gid=gid,this.ctime=new Date}get gid(){return this._gid}set atime(atime){this._atime=atime}get atime(){return this._atime}set mtime(mtime){this._mtime=mtime,this.ctime=new Date}get mtime(){return this._mtime}get perm(){return this.mode&~S_IFMT}set perm(perm){this.mode=this.mode&S_IFMT|perm&~S_IFMT,this.ctime=new Date}set nlink(nlink){this._nlink=nlink,this.ctime=new Date}get nlink(){return this._nlink}getString(encoding="utf8"){return this.atime=new Date,this.getBuffer().toString(encoding)}setString(str){this._setBuf((0,buffer_1.bufferFrom)(str,"utf8"))}getBuffer(){return this.atime=new Date,this.buf||(this.buf=(0,buffer_1.bufferAllocUnsafe)(0)),(0,buffer_1.bufferFrom)(this.buf.subarray(0,this.size))}setBuffer(buf){let copy=(0,buffer_1.bufferFrom)(buf);this._setBuf(copy)}_setBuf(buf){let size=buf.length;this.buf=buf,this.capacity=size,this.size=size,this.touch()}getSize(){return this.size}setModeProperty(property){this.mode=property}isFile(){return(this.mode&S_IFMT)===S_IFREG}isDirectory(){return(this.mode&S_IFMT)===S_IFDIR}isSymlink(){return(this.mode&S_IFMT)===S_IFLNK}isCharacterDevice(){return(this.mode&S_IFMT)===S_IFCHR}makeSymlink(symlink){this.mode=S_IFLNK|438,this.symlink=symlink}write(buf,off=0,len=buf.length,pos=0){let bufLength=buf.length;if(off+len>bufLength&&(len=bufLength-off),len<=0)return 0;let requiredSize=pos+len;if(requiredSize>this.capacity){let newCapacity=Math.max(this.capacity*2,64);for(;newCapacity<requiredSize;)newCapacity*=2;let newBuf=(0,buffer_1.bufferAllocUnsafe)(newCapacity);this.size>0&&this.buf.copy(newBuf,0,0,this.size),this.buf=newBuf,this.capacity=newCapacity}return pos>this.size&&this.buf.fill(0,this.size,pos),buf.copy(this.buf,pos,off,off+len),requiredSize>this.size&&(this.size=requiredSize),this.touch(),len}read(buf,off=0,len=buf.byteLength,pos=0){if(this.atime=new Date,pos>=this.size)return 0;let actualLen=len;if(actualLen>buf.byteLength&&(actualLen=buf.byteLength),actualLen+pos>this.size&&(actualLen=this.size-pos),actualLen<=0)return 0;let buf2=buf instanceof buffer_1.Buffer?buf:buffer_1.Buffer.from(buf.buffer,buf.byteOffset,buf.byteLength);return this.buf.copy(buf2,off,pos,pos+actualLen),actualLen}truncate(len=0){if(!len){this.buf=EMPTY_BUFFER,this.capacity=0,this.size=0,this.touch();return}if(len<=this.size)this.size=len;else{if(len>this.capacity){let newCapacity=Math.max(this.capacity*2,64);for(;newCapacity<len;)newCapacity*=2;let buf=(0,buffer_1.bufferAllocUnsafe)(newCapacity);this.size>0&&this.buf.copy(buf,0,0,this.size),buf.fill(0,this.size,len),this.buf=buf,this.capacity=newCapacity}else this.buf.fill(0,this.size,len);this.size=len}this.touch()}chmod(perm){this.mode=this.mode&S_IFMT|perm&~S_IFMT,this.touch()}chown(uid,gid){this.uid=uid,this.gid=gid,this.touch()}touch(){this.mtime=new Date,this.changes.emit(["modify"])}canRead(uid=getuid(),gid=getgid()){return!!(this.perm&4||gid===this.gid&&this.perm&32||uid===this.uid&&this.perm&256)}canWrite(uid=getuid(),gid=getgid()){return!!(this.perm&2||gid===this.gid&&this.perm&16||uid===this.uid&&this.perm&128)}canExecute(uid=getuid(),gid=getgid()){return!!(this.perm&1||gid===this.gid&&this.perm&8||uid===this.uid&&this.perm&64)}del(){this.changes.emit(["delete"])}toJSON(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}}};exports2.Node=Node}});var require_Link=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-core/lib/Link.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.Link=void 0;var fs_node_utils_1=require_lib4(),fanout_1=require_fanout(),{S_IFREG}=fs_node_utils_1.constants,Link=class _Link{get steps(){return this._steps}set steps(val){this._steps=val;for(let[child,link3]of this.children.entries())child==="."||child===".."||link3?.syncSteps()}constructor(vol,parent,name){this.changes=new fanout_1.FanOut,this.children=new Map,this._steps=[],this.ino=0,this.length=0,this.vol=vol,this.parent=parent,this.name=name,this.syncSteps()}setNode(node){this.node=node,this.ino=node.ino}getNode(){return this.node}createChild(name,node=this.vol.createNode(S_IFREG|438)){let link3=new _Link(this.vol,this,name);return link3.setNode(node),node.isDirectory()&&(link3.children.set(".",link3),link3.getNode().nlink++),this.setChild(name,link3),link3}setChild(name,link3=new _Link(this.vol,this,name)){return this.children.set(name,link3),link3.parent=this,this.length++,link3.getNode().isDirectory()&&(link3.children.set("..",this),this.getNode().nlink++),this.getNode().mtime=new Date,this.changes.emit(["child:add",link3,this]),link3}deleteChild(link3){link3.getNode().isDirectory()&&(link3.children.delete(".."),this.getNode().nlink--),this.children.delete(link3.getName()),this.length--,this.getNode().mtime=new Date,this.changes.emit(["child:del",link3,this])}getChild(name){return this.getNode().atime=new Date,this.children.get(name)}getPath(){return this.steps.join("/")}getParentPath(){let parent=this.steps.slice(0,-1).join("/");return parent||"/"}getName(){return this.steps[this.steps.length-1]}toJSON(){return{steps:this.steps,ino:this.ino,children:Array.from(this.children.keys())}}syncSteps(){this.steps=this.parent?this.parent.steps.concat([this.name]):[this.name]}};exports2.Link=Link}});var require_File=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-core/lib/File.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.File=void 0;var fs_node_utils_1=require_lib4(),{O_APPEND}=fs_node_utils_1.constants,File2=class{constructor(link3,node,flags,fd){this.link=link3,this.node=node,this.flags=flags,this.fd=fd,this.position=0,this.flags&O_APPEND&&(this.position=this.getSize())}getString(encoding="utf8"){return this.node.getString()}setString(str){this.node.setString(str)}getBuffer(){return this.node.getBuffer()}setBuffer(buf){this.node.setBuffer(buf)}getSize(){return this.node.getSize()}truncate(len){this.node.truncate(len)}seekTo(position){this.position=position}write(buf,offset=0,length=buf.length,position){typeof position!="number"&&(position=this.position);let bytes=this.node.write(buf,offset,length,position);return this.position=position+bytes,bytes}read(buf,offset=0,length=buf.byteLength,position){typeof position!="number"&&(position=this.position);let bytes=this.node.read(buf,offset,length,position);return this.position=position+bytes,bytes}chmod(perm){this.node.chmod(perm)}chown(uid,gid){this.node.chown(uid,gid)}};exports2.File=File2}});var require_encoding2=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-core/lib/encoding.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.ENCODING_UTF8=void 0;exports2.assertEncoding=assertEncoding;exports2.strToEncoding=strToEncoding;var buffer_1=require_buffer2(),errors=require_errors7();exports2.ENCODING_UTF8="utf8";function assertEncoding(encoding){if(encoding&&!buffer_1.Buffer.isEncoding(encoding))throw new errors.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",encoding)}function strToEncoding(str,encoding){return!encoding||encoding===exports2.ENCODING_UTF8?str:encoding==="buffer"?new buffer_1.Buffer(str):new buffer_1.Buffer(str).toString(encoding)}}});var require_util10=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-core/lib/util.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.filenameToSteps=exports2.resolve=exports2.unixify=exports2.isWin=void 0;exports2.isFd=isFd;exports2.validateFd=validateFd;exports2.dataToBuffer=dataToBuffer;exports2.nullCheck=nullCheck;exports2.pathToFilename=pathToFilename;exports2.createError=createError;exports2.createStatError=createStatError;var path_1=require_path(),buffer_1=require_buffer2(),errors=require_errors7(),process_1=require_process(),encoding_1=require_encoding2(),fs_node_utils_1=require_lib4();exports2.isWin=process_1.default.platform==="win32";var resolveCrossPlatform=path_1.resolve,pathSep=path_1.posix?path_1.posix.sep:path_1.sep,isSeparator=(str,i)=>{let char=str[i];return i>0&&(char==="/"||exports2.isWin&&char==="\\")},removeTrailingSeparator=str=>{let i=str.length-1;if(i<2)return str;for(;isSeparator(str,i);)i--;return str.substr(0,i+1)},normalizePath=(str,stripTrailing)=>{if(typeof str!="string")throw new TypeError("expected a string");return str=str.replace(/[\\\/]+/g,"/"),stripTrailing!==!1&&(str=removeTrailingSeparator(str)),str},unixify=(filepath,stripTrailing=!0)=>exports2.isWin?(filepath=normalizePath(filepath,stripTrailing),filepath.replace(/^([a-zA-Z]+:|\.\/)/,"")):filepath;exports2.unixify=unixify;var resolve=(filename,base=process_1.default.cwd())=>resolveCrossPlatform(base,filename);exports2.resolve=resolve;if(exports2.isWin){let _resolve=resolve;exports2.resolve=resolve=(filename,base)=>(0,exports2.unixify)(_resolve(filename,base))}var filenameToSteps=(filename,base)=>{let fullPathSansSlash=resolve(filename,base).substring(1);return fullPathSansSlash?fullPathSansSlash.split(pathSep):[]};exports2.filenameToSteps=filenameToSteps;function isFd(path5){return path5>>>0===path5}function validateFd(fd){if(!isFd(fd))throw TypeError(fs_node_utils_1.ERRSTR.FD)}function dataToBuffer(data,encoding=encoding_1.ENCODING_UTF8){return buffer_1.Buffer.isBuffer(data)?data:data instanceof Uint8Array?(0,buffer_1.bufferFrom)(data):encoding==="buffer"?(0,buffer_1.bufferFrom)(String(data),"utf8"):(0,buffer_1.bufferFrom)(String(data),encoding)}function nullCheck(path5,callback){if((""+path5).indexOf("\0")!==-1){let er=new Error("Path must be a string without null bytes");if(er.code="ENOENT",typeof callback!="function")throw er;return Promise.resolve().then(()=>callback(er)),!1}return!0}function getPathFromURLPosix(url){if(url.hostname!=="")throw new errors.TypeError("ERR_INVALID_FILE_URL_HOST",process_1.default.platform);let pathname=url.pathname;for(let n=0;n<pathname.length;n++)if(pathname[n]==="%"){let third=pathname.codePointAt(n+2)|32;if(pathname[n+1]==="2"&&third===102)throw new errors.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}return decodeURIComponent(pathname)}function pathToFilename(path5){if(path5 instanceof Uint8Array&&(path5=(0,buffer_1.bufferFrom)(path5)),typeof path5!="string"&&!buffer_1.Buffer.isBuffer(path5)){try{if(!(path5 instanceof require("url").URL))throw new TypeError(fs_node_utils_1.ERRSTR.PATH_STR)}catch{throw new TypeError(fs_node_utils_1.ERRSTR.PATH_STR)}path5=getPathFromURLPosix(path5)}let pathString=String(path5);return nullCheck(pathString),pathString}var ENOENT="ENOENT",EBADF="EBADF",EINVAL="EINVAL",EPERM="EPERM",EPROTO="EPROTO",EEXIST="EEXIST",ENOTDIR="ENOTDIR",EMFILE="EMFILE",EACCES="EACCES",EISDIR="EISDIR",ENOTEMPTY="ENOTEMPTY",ENOSYS="ENOSYS",ERR_FS_EISDIR="ERR_FS_EISDIR",ERR_OUT_OF_RANGE="ERR_OUT_OF_RANGE";function formatError2(errorCode,func="",path5="",path22=""){let pathFormatted="";switch(path5&&(pathFormatted=` '${path5}'`),path22&&(pathFormatted+=` -> '${path22}'`),errorCode){case ENOENT:return`ENOENT: no such file or directory, ${func}${pathFormatted}`;case EBADF:return`EBADF: bad file descriptor, ${func}${pathFormatted}`;case EINVAL:return`EINVAL: invalid argument, ${func}${pathFormatted}`;case EPERM:return`EPERM: operation not permitted, ${func}${pathFormatted}`;case EPROTO:return`EPROTO: protocol error, ${func}${pathFormatted}`;case EEXIST:return`EEXIST: file already exists, ${func}${pathFormatted}`;case ENOTDIR:return`ENOTDIR: not a directory, ${func}${pathFormatted}`;case EISDIR:return`EISDIR: illegal operation on a directory, ${func}${pathFormatted}`;case EACCES:return`EACCES: permission denied, ${func}${pathFormatted}`;case ENOTEMPTY:return`ENOTEMPTY: directory not empty, ${func}${pathFormatted}`;case EMFILE:return`EMFILE: too many open files, ${func}${pathFormatted}`;case ENOSYS:return`ENOSYS: function not implemented, ${func}${pathFormatted}`;case ERR_FS_EISDIR:return`[ERR_FS_EISDIR]: Path is a directory: ${func} returned EISDIR (is a directory) ${path5}`;case ERR_OUT_OF_RANGE:return`[ERR_OUT_OF_RANGE]: value out of range, ${func}${pathFormatted}`;default:return`${errorCode}: error occurred, ${func}${pathFormatted}`}}function createError(errorCode,func="",path5="",path22="",Constructor=Error){let error=new Constructor(formatError2(errorCode,func,path5,path22));return error.code=errorCode,path5&&(error.path=path5),error}function createStatError(errorCode,func="",path5="",path22=""){return{code:errorCode,message:formatError2(errorCode,func,path5,path22),path:path5,toError(){let error=new Error(this.message);return error.code=this.code,this.path&&(error.path=this.path),error}}}}});var require_Superblock=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-core/lib/Superblock.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.Superblock=void 0;var path_1=require_path(),Node_1=require_Node(),Link_1=require_Link(),File_1=require_File(),buffer_1=require_buffer2(),process_1=require_process(),fs_node_utils_1=require_lib4(),fs_node_utils_2=require_lib4(),util_1=require_util10(),json_1=require_json(),result_1=require_result(),pathSep=path_1.posix?path_1.posix.sep:path_1.sep,pathRelative=path_1.posix?path_1.posix.relative:path_1.relative,pathJoin=path_1.posix?path_1.posix.join:path_1.join,{O_RDONLY,O_WRONLY,O_RDWR,O_CREAT,O_EXCL,O_TRUNC,O_APPEND,O_DIRECTORY}=fs_node_utils_1.constants,Superblock=class _Superblock{static fromJSON(json,cwd){let vol=new _Superblock;return vol.fromJSON(json,cwd),vol}static fromNestedJSON(json,cwd){let vol=new _Superblock;return vol.fromNestedJSON(json,cwd),vol}constructor(props={}){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.maxFiles=1e4,this.openFiles=0,this.open=(filename,flagsNum,modeNum,resolveSymlinks=!0)=>{let file=this.openFile(filename,flagsNum,modeNum,resolveSymlinks);if(!file)throw(0,util_1.createError)("ENOENT","open",filename);return file.fd},this.writeFile=(id,buf,flagsNum,modeNum)=>{let isUserFd=typeof id=="number",fd;isUserFd?fd=id:fd=this.open((0,util_1.pathToFilename)(id),flagsNum,modeNum);let offset=0,length=buf.length,position=flagsNum&O_APPEND?void 0:0;try{for(;length>0;){let written=this.write(fd,buf,offset,length,position);offset+=written,length-=written,position!==void 0&&(position+=written)}}finally{isUserFd||this.close(fd)}},this.read=(fd,buffer,offset,length,position)=>{if(buffer.byteLength<length)throw(0,util_1.createError)("ERR_OUT_OF_RANGE","read",void 0,void 0,RangeError);let file=this.getFileByFdOrThrow(fd);if(file.node.isSymlink())throw(0,util_1.createError)("EPERM","read",file.link.getPath());return file.read(buffer,Number(offset),Number(length),position===-1||typeof position!="number"?void 0:position)},this.readv=(fd,buffers,position)=>{let file=this.getFileByFdOrThrow(fd),p=position??void 0;p===-1&&(p=void 0);let bytesRead=0;for(let buffer of buffers){let bytes=file.read(buffer,0,buffer.byteLength,p);if(p=void 0,bytesRead+=bytes,bytes<buffer.byteLength)break}return bytesRead},this.link=(filename1,filename2)=>{let link1;try{link1=this.getLinkOrThrow(filename1,"link")}catch(err){throw err.code&&(err=(0,util_1.createError)(err.code,"link",filename1,filename2)),err}let dirname2=(0,path_1.dirname)(filename2),dir2;try{dir2=this.getLinkOrThrow(dirname2,"link")}catch(err){throw err.code&&(err=(0,util_1.createError)(err.code,"link",filename1,filename2)),err}let name=(0,path_1.basename)(filename2);if(dir2.getChild(name))throw(0,util_1.createError)("EEXIST","link",filename1,filename2);let node=link1.getNode();node.nlink++,dir2.createChild(name,node)},this.unlink=filename=>{let link3=this.getLinkOrThrow(filename,"unlink");if(link3.length)throw Error("Dir not empty...");this.deleteLink(link3);let node=link3.getNode();node.nlink--,node.nlink<=0&&this.deleteNode(node)},this.symlink=(targetFilename,pathFilename)=>{let pathSteps=(0,util_1.filenameToSteps)(pathFilename),dirLink;try{dirLink=this.getLinkParentAsDirOrThrow(pathSteps)}catch(err){throw err.code&&(err=(0,util_1.createError)(err.code,"symlink",targetFilename,pathFilename)),err}let name=pathSteps[pathSteps.length-1];if(dirLink.getChild(name))throw(0,util_1.createError)("EEXIST","symlink",targetFilename,pathFilename);let node=dirLink.getNode();if(!node.canExecute()||!node.canWrite())throw(0,util_1.createError)("EACCES","symlink",targetFilename,pathFilename);let symlink=dirLink.createChild(name);return symlink.getNode().makeSymlink(targetFilename),symlink},this.rename=(oldPathFilename,newPathFilename)=>{let link3;try{link3=this.getResolvedLinkOrThrow(oldPathFilename)}catch(err){throw err.code&&(err=(0,util_1.createError)(err.code,"rename",oldPathFilename,newPathFilename)),err}let newPathDirLink;try{newPathDirLink=this.getLinkParentAsDirOrThrow(newPathFilename)}catch(err){throw err.code&&(err=(0,util_1.createError)(err.code,"rename",oldPathFilename,newPathFilename)),err}let oldLinkParent=link3.parent;if(!oldLinkParent)throw(0,util_1.createError)("EINVAL","rename",oldPathFilename,newPathFilename);let oldParentNode=oldLinkParent.getNode(),newPathDirNode=newPathDirLink.getNode();if(!oldParentNode.canExecute()||!oldParentNode.canWrite()||!newPathDirNode.canExecute()||!newPathDirNode.canWrite())throw(0,util_1.createError)("EACCES","rename",oldPathFilename,newPathFilename);oldLinkParent.deleteChild(link3);let name=(0,path_1.basename)(newPathFilename);link3.name=name,link3.steps=[...newPathDirLink.steps,name],newPathDirLink.setChild(link3.getName(),link3)},this.mkdir=(filename,modeNum)=>{let steps=(0,util_1.filenameToSteps)(filename);if(!steps.length)throw(0,util_1.createError)("EEXIST","mkdir",filename);let dir=this.getLinkParentAsDirOrThrow(filename,"mkdir"),name=steps[steps.length-1];if(dir.getChild(name))throw(0,util_1.createError)("EEXIST","mkdir",filename);let node=dir.getNode();if(!node.canWrite()||!node.canExecute())throw(0,util_1.createError)("EACCES","mkdir",filename);dir.createChild(name,this.createNode(fs_node_utils_1.constants.S_IFDIR|modeNum))},this.mkdirp=(filename,modeNum)=>{let created=!1,steps=(0,util_1.filenameToSteps)(filename),curr=null,i=steps.length;for(i=steps.length;i>=0&&(curr=this.getResolvedLink(steps.slice(0,i)),!curr);i--);for(curr||(curr=this.root,i=0),curr=this.getResolvedLinkOrThrow(path_1.sep+steps.slice(0,i).join(path_1.sep),"mkdir"),i;i<steps.length;i++){let node=curr.getNode();if(node.isDirectory()){if(!node.canExecute()||!node.canWrite())throw(0,util_1.createError)("EACCES","mkdir",filename)}else throw(0,util_1.createError)("ENOTDIR","mkdir",filename);created=!0,curr=curr.createChild(steps[i],this.createNode(fs_node_utils_1.constants.S_IFDIR|modeNum))}return created?filename:void 0},this.rmdir=(filename,recursive=!1)=>{let link3=this.getLinkAsDirOrThrow(filename,"rmdir");if(link3.length&&!recursive)throw(0,util_1.createError)("ENOTEMPTY","rmdir",filename);this.deleteLink(link3)},this.rm=(filename,force=!1,recursive=!1)=>{let link3;try{link3=this.getResolvedLinkOrThrow(filename,"stat")}catch(err){if(err.code==="ENOENT"&&force)return;throw err}if(link3.getNode().isDirectory()&&!recursive)throw(0,util_1.createError)("ERR_FS_EISDIR","rm",filename);if(!link3.parent?.getNode().canWrite())throw(0,util_1.createError)("EACCES","rm",filename);this.deleteLink(link3)},this.close=fd=>{(0,util_1.validateFd)(fd);let file=this.getFileByFdOrThrow(fd,"close");this.closeFile(file)};let root=this.createLink();root.setNode(this.createNode(fs_node_utils_1.constants.S_IFDIR|511)),root.setChild(".",root),root.getNode().nlink++,root.setChild("..",root),root.getNode().nlink++,this.root=root}createLink(parent,name,isDirectory=!1,mode){if(!parent)return new Link_1.Link(this,void 0,"");if(!name)throw new Error("createLink: name cannot be empty");let finalPerm=mode??(isDirectory?511:438),modeType=mode&&mode&fs_node_utils_1.constants.S_IFMT?mode&fs_node_utils_1.constants.S_IFMT:isDirectory?fs_node_utils_1.constants.S_IFDIR:fs_node_utils_1.constants.S_IFREG,finalMode=finalPerm&~fs_node_utils_1.constants.S_IFMT|modeType;return parent.createChild(name,this.createNode(finalMode))}deleteLink(link3){let parent=link3.parent;return parent?(parent.deleteChild(link3),!0):!1}newInoNumber(){let releasedFd=this.releasedInos.pop();return releasedFd||(this.ino=(this.ino+1)%4294967295,this.ino)}newFdNumber(){let releasedFd=this.releasedFds.pop();return typeof releasedFd=="number"?releasedFd:_Superblock.fd--}createNode(mode){let node=new Node_1.Node(this.newInoNumber(),mode);return this.inodes[node.ino]=node,node}deleteNode(node){node.del(),delete this.inodes[node.ino],this.releasedInos.push(node.ino)}walk(stepsOrFilenameOrLink,resolveSymlinks=!1,checkExistence=!1,checkAccess=!1,funcName){let steps,filename;stepsOrFilenameOrLink instanceof Link_1.Link?(steps=stepsOrFilenameOrLink.steps,filename=pathSep+steps.join(pathSep)):typeof stepsOrFilenameOrLink=="string"?(steps=(0,util_1.filenameToSteps)(stepsOrFilenameOrLink),filename=stepsOrFilenameOrLink):(steps=stepsOrFilenameOrLink,filename=pathSep+steps.join(pathSep));let curr=this.root,i=0;for(;i<steps.length;){let node=curr.getNode();if(node.isDirectory()){if(checkAccess&&!node.canExecute())return(0,result_1.Err)((0,util_1.createStatError)("EACCES",funcName,filename))}else if(i<steps.length-1)return(0,result_1.Err)((0,util_1.createStatError)("ENOTDIR",funcName,filename));if(curr=curr.getChild(steps[i])??null,!curr)return checkExistence?(0,result_1.Err)((0,util_1.createStatError)("ENOENT",funcName,filename)):(0,result_1.Ok)(null);if(node=curr?.getNode(),node.isSymlink()&&(resolveSymlinks||i<steps.length-1)){let resolvedPath=(0,path_1.isAbsolute)(node.symlink)?node.symlink:pathJoin((0,path_1.dirname)(curr.getPath()),node.symlink);steps=(0,util_1.filenameToSteps)(resolvedPath).concat(steps.slice(i+1)),curr=this.root,i=0;continue}if(checkExistence&&!node.isDirectory()&&i<steps.length-1){let errorCode=process_1.default.platform==="win32"?"ENOENT":"ENOTDIR";return(0,result_1.Err)((0,util_1.createStatError)(errorCode,funcName,filename))}i++}return(0,result_1.Ok)(curr)}getLink(steps){let result=this.walk(steps,!1,!1,!1);if(result.ok)return result.value;throw result.err.toError()}getLinkOrThrow(filename,funcName){let result=this.walk(filename,!1,!0,!0,funcName);if(result.ok)return result.value;throw result.err.toError()}getResolvedLink(filenameOrSteps){let result=this.walk(filenameOrSteps,!0,!1,!1);if(result.ok)return result.value;throw result.err.toError()}getResolvedLinkOrThrow(filename,funcName){let result=this.walk(filename,!0,!0,!0,funcName);if(result.ok)return result.value;throw result.err.toError()}getResolvedLinkResult(filename,funcName){let result=this.walk(filename,!0,!0,!0,funcName);return result.ok?(0,result_1.Ok)(result.value):result}resolveSymlinks(link3){return this.getResolvedLink(link3.steps.slice(1))}getLinkAsDirOrThrow(filename,funcName){let link3=this.getLinkOrThrow(filename,funcName);if(!link3.getNode().isDirectory())throw(0,util_1.createError)("ENOTDIR",funcName,filename);return link3}getLinkParent(steps){return this.getLink(steps.slice(0,-1))}getLinkParentAsDirOrThrow(filenameOrSteps,funcName){let steps=(filenameOrSteps instanceof Array?filenameOrSteps:(0,util_1.filenameToSteps)(filenameOrSteps)).slice(0,-1),filename=pathSep+steps.join(pathSep),link3=this.getLinkOrThrow(filename,funcName);if(!link3.getNode().isDirectory())throw(0,util_1.createError)("ENOTDIR",funcName,filename);return link3}getFileByFd(fd){return this.fds[String(fd)]}getFileByFdOrThrow(fd,funcName){if(!(0,util_1.isFd)(fd))throw TypeError(fs_node_utils_2.ERRSTR.FD);let file=this.getFileByFd(fd);if(!file)throw(0,util_1.createError)("EBADF",funcName);return file}_toJSON(link3=this.root,json={},path5,asBuffer){let isEmpty2=!0,children=link3.children;link3.getNode().isFile()&&(children=new Map([[link3.getName(),link3.parent.getChild(link3.getName())]]),link3=link3.parent);for(let name of children.keys()){if(name==="."||name==="..")continue;isEmpty2=!1;let child=link3.getChild(name);if(!child)throw new Error("_toJSON: unexpected undefined");let node=child.getNode();if(node.isFile()){let filename=child.getPath();path5&&(filename=pathRelative(path5,filename)),json[filename]=asBuffer?node.getBuffer():node.getString()}else node.isDirectory()&&this._toJSON(child,json,path5,asBuffer)}let dirPath=link3.getPath();return path5&&(dirPath=pathRelative(path5,dirPath)),dirPath&&isEmpty2&&(json[dirPath]=null),json}toJSON(paths,json={},isRelative=!1,asBuffer=!1){let links=[];if(paths){Array.isArray(paths)||(paths=[paths]);for(let path5 of paths){let filename=(0,util_1.pathToFilename)(path5),link3=this.getResolvedLink(filename);link3&&links.push(link3)}}else links.push(this.root);if(!links.length)return json;for(let link3 of links)this._toJSON(link3,json,isRelative?link3.getPath():"",asBuffer);return json}fromJSON(json,cwd=process_1.default.cwd()){for(let filename in json){let data=json[filename];if(filename=(0,util_1.resolve)(filename,cwd),typeof data=="string"||data instanceof buffer_1.Buffer){let dir=(0,path_1.dirname)(filename);this.mkdirp(dir,511);let buffer=(0,util_1.dataToBuffer)(data);this.writeFile(filename,buffer,fs_node_utils_2.FLAGS.w,438)}else this.mkdirp(filename,511)}}fromNestedJSON(json,cwd){this.fromJSON((0,json_1.flattenJSON)(json),cwd)}reset(){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.openFiles=0,this.root=this.createLink(),this.root.setNode(this.createNode(fs_node_utils_1.constants.S_IFDIR|511))}mountSync(mountpoint,json){this.fromJSON(json,mountpoint)}openLink(link3,flagsNum,resolveSymlinks=!0){if(this.openFiles>=this.maxFiles)throw(0,util_1.createError)("EMFILE","open",link3.getPath());let realLink=link3;resolveSymlinks&&(realLink=this.getResolvedLinkOrThrow(link3.getPath(),"open"));let node=realLink.getNode();if(node.isDirectory()){if((flagsNum&(O_RDONLY|O_RDWR|O_WRONLY))!==O_RDONLY)throw(0,util_1.createError)("EISDIR","open",link3.getPath())}else if(flagsNum&O_DIRECTORY)throw(0,util_1.createError)("ENOTDIR","open",link3.getPath());if((flagsNum&(O_RDONLY|O_RDWR|O_WRONLY))!==O_WRONLY&&!node.canRead()||flagsNum&(O_WRONLY|O_RDWR)&&!node.canWrite())throw(0,util_1.createError)("EACCES","open",link3.getPath());let file=new File_1.File(link3,node,flagsNum,this.newFdNumber());return this.fds[file.fd]=file,this.openFiles++,flagsNum&O_TRUNC&&file.truncate(),file}openFile(filename,flagsNum,modeNum,resolveSymlinks=!0){let steps=(0,util_1.filenameToSteps)(filename),link3;try{if(link3=resolveSymlinks?this.getResolvedLinkOrThrow(filename,"open"):this.getLinkOrThrow(filename,"open"),link3&&flagsNum&O_CREAT&&flagsNum&O_EXCL)throw(0,util_1.createError)("EEXIST","open",filename)}catch(err){if(err.code==="ENOENT"&&flagsNum&O_CREAT){let dirName=(0,path_1.dirname)(filename),dirLink=this.getResolvedLinkOrThrow(dirName),dirNode=dirLink.getNode();if(!dirNode.isDirectory())throw(0,util_1.createError)("ENOTDIR","open",filename);if(!dirNode.canExecute()||!dirNode.canWrite())throw(0,util_1.createError)("EACCES","open",filename);modeNum??(modeNum=438),link3=this.createLink(dirLink,steps[steps.length-1],!1,modeNum)}else throw err}if(link3)return this.openLink(link3,flagsNum,resolveSymlinks);throw(0,util_1.createError)("ENOENT","open",filename)}closeFile(file){this.fds[file.fd]&&(this.openFiles--,delete this.fds[file.fd],this.releasedFds.push(file.fd))}write(fd,buf,offset,length,position){let file=this.getFileByFdOrThrow(fd,"write");if(file.node.isSymlink())throw(0,util_1.createError)("EBADF","write",file.link.getPath());return file.write(buf,offset,length,position===-1||typeof position!="number"?void 0:position)}};exports2.Superblock=Superblock;Superblock.fd=2147483647}});var require_lib5=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-core/lib/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.resolve=exports2.pathToFilename=exports2.createStatError=exports2.createError=exports2.validateFd=exports2.isFd=exports2.filenameToSteps=exports2.dataToBuffer=exports2.Superblock=exports2.File=exports2.Link=exports2.Node=void 0;var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports));tslib_1.__exportStar(require_types5(),exports2);tslib_1.__exportStar(require_json(),exports2);tslib_1.__exportStar(require_constants10(),exports2);tslib_1.__exportStar(require_result(),exports2);var Node_1=require_Node();Object.defineProperty(exports2,"Node",{enumerable:!0,get:function(){return Node_1.Node}});var Link_1=require_Link();Object.defineProperty(exports2,"Link",{enumerable:!0,get:function(){return Link_1.Link}});var File_1=require_File();Object.defineProperty(exports2,"File",{enumerable:!0,get:function(){return File_1.File}});var Superblock_1=require_Superblock();Object.defineProperty(exports2,"Superblock",{enumerable:!0,get:function(){return Superblock_1.Superblock}});var util_1=require_util10();Object.defineProperty(exports2,"dataToBuffer",{enumerable:!0,get:function(){return util_1.dataToBuffer}});Object.defineProperty(exports2,"filenameToSteps",{enumerable:!0,get:function(){return util_1.filenameToSteps}});Object.defineProperty(exports2,"isFd",{enumerable:!0,get:function(){return util_1.isFd}});Object.defineProperty(exports2,"validateFd",{enumerable:!0,get:function(){return util_1.validateFd}});Object.defineProperty(exports2,"createError",{enumerable:!0,get:function(){return util_1.createError}});Object.defineProperty(exports2,"createStatError",{enumerable:!0,get:function(){return util_1.createStatError}});Object.defineProperty(exports2,"pathToFilename",{enumerable:!0,get:function(){return util_1.pathToFilename}});Object.defineProperty(exports2,"resolve",{enumerable:!0,get:function(){return util_1.resolve}})}});var require_Stats=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node/lib/Stats.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.Stats=void 0;var fs_node_utils_1=require_lib4(),{S_IFMT,S_IFDIR,S_IFREG,S_IFBLK,S_IFCHR,S_IFLNK,S_IFIFO,S_IFSOCK}=fs_node_utils_1.constants,Stats=class _Stats{static build(node,bigint=!1){let stats=new _Stats,{uid,gid,atime,mtime,ctime}=node,getStatNumber=bigint?number=>BigInt(number):number=>number;stats.uid=getStatNumber(uid),stats.gid=getStatNumber(gid),stats.rdev=getStatNumber(node.rdev),stats.blksize=getStatNumber(4096),stats.ino=getStatNumber(node.ino),stats.size=getStatNumber(node.getSize()),stats.blocks=getStatNumber(1),stats.atime=atime,stats.mtime=mtime,stats.ctime=ctime,stats.birthtime=ctime,stats.atimeMs=getStatNumber(atime.getTime()),stats.mtimeMs=getStatNumber(mtime.getTime());let ctimeMs=getStatNumber(ctime.getTime());if(stats.ctimeMs=ctimeMs,stats.birthtimeMs=ctimeMs,bigint){stats.atimeNs=BigInt(atime.getTime())*BigInt(1e6),stats.mtimeNs=BigInt(mtime.getTime())*BigInt(1e6);let ctimeNs=BigInt(ctime.getTime())*BigInt(1e6);stats.ctimeNs=ctimeNs,stats.birthtimeNs=ctimeNs}return stats.dev=getStatNumber(0),stats.mode=getStatNumber(node.mode),stats.nlink=getStatNumber(node.nlink),stats}_checkModeProperty(property){return(Number(this.mode)&S_IFMT)===property}isDirectory(){return this._checkModeProperty(S_IFDIR)}isFile(){return this._checkModeProperty(S_IFREG)}isBlockDevice(){return this._checkModeProperty(S_IFBLK)}isCharacterDevice(){return this._checkModeProperty(S_IFCHR)}isSymbolicLink(){return this._checkModeProperty(S_IFLNK)}isFIFO(){return this._checkModeProperty(S_IFIFO)}isSocket(){return this._checkModeProperty(S_IFSOCK)}};exports2.Stats=Stats;exports2.default=Stats}});var require_Dirent=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node/lib/Dirent.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.Dirent=void 0;var fs_node_utils_1=require_lib4(),{S_IFMT,S_IFDIR,S_IFREG,S_IFBLK,S_IFCHR,S_IFLNK,S_IFIFO,S_IFSOCK}=fs_node_utils_1.constants,Dirent=class _Dirent{constructor(){this.name="",this.parentPath="",this.mode=0,this.path=""}static build(link3,encoding){let dirent=new _Dirent,{mode}=link3.getNode();return dirent.name=(0,fs_node_utils_1.strToEncoding)(link3.getName(),encoding),dirent.mode=mode,dirent.parentPath=link3.getParentPath(),dirent.path=dirent.parentPath,dirent}_checkModeProperty(property){return(this.mode&S_IFMT)===property}isDirectory(){return this._checkModeProperty(S_IFDIR)}isFile(){return this._checkModeProperty(S_IFREG)}isBlockDevice(){return this._checkModeProperty(S_IFBLK)}isCharacterDevice(){return this._checkModeProperty(S_IFCHR)}isSymbolicLink(){return this._checkModeProperty(S_IFLNK)}isFIFO(){return this._checkModeProperty(S_IFIFO)}isSocket(){return this._checkModeProperty(S_IFSOCK)}};exports2.Dirent=Dirent;exports2.default=Dirent}});var require_StatFs=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node/lib/StatFs.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.StatFs=void 0;var StatFs=class _StatFs{static build(superblock,bigint=!1){let statfs=new _StatFs,getStatNumber=bigint?number=>BigInt(number):number=>number;statfs.type=getStatNumber(2240043254),statfs.bsize=getStatNumber(4096);let totalInodes=Object.keys(superblock.inodes).length,totalBlocks=1e6,usedBlocks=Math.min(totalInodes*2,totalBlocks),freeBlocks=totalBlocks-usedBlocks;statfs.blocks=getStatNumber(totalBlocks),statfs.bfree=getStatNumber(freeBlocks),statfs.bavail=getStatNumber(freeBlocks);let maxFiles=1e6;return statfs.files=getStatNumber(maxFiles),statfs.ffree=getStatNumber(maxFiles-totalInodes),statfs}};exports2.StatFs=StatFs;exports2.default=StatFs}});var require_setTimeoutUnref=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node-utils/lib/setTimeoutUnref.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});function setTimeoutUnref(callback,time,args){let ref=setTimeout.apply(typeof globalThis<"u"?globalThis:global,arguments);return ref&&typeof ref=="object"&&typeof ref.unref=="function"&&ref.unref(),ref}exports2.default=setTimeoutUnref}});var require_stream2=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node-builtins/lib/stream.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.Writable=exports2.Readable=void 0;var node_stream_1=require("node:stream");Object.defineProperty(exports2,"Readable",{enumerable:!0,get:function(){return node_stream_1.Readable}});Object.defineProperty(exports2,"Writable",{enumerable:!0,get:function(){return node_stream_1.Writable}})}});var require_events2=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node-builtins/lib/events.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.EventEmitter=void 0;var node_events_1=require("node:events");Object.defineProperty(exports2,"EventEmitter",{enumerable:!0,get:function(){return node_events_1.EventEmitter}})}});var require_util11=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node/lib/util.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.getWriteSyncArgs=exports2.getWriteArgs=exports2.bufToUint8=void 0;exports2.promisify=promisify2;exports2.validateCallback=validateCallback;exports2.modeToNumber=modeToNumber;exports2.nullCheck=nullCheck;exports2.pathToFilename=pathToFilename;exports2.createError=createError;exports2.createStatError=createStatError;exports2.genRndStr6=genRndStr6;exports2.flagsToNumber=flagsToNumber;exports2.streamToBuffer=streamToBuffer;exports2.bufferToEncoding=bufferToEncoding;exports2.isReadableStream=isReadableStream;var fs_node_utils_1=require_lib4(),errors=require_errors7(),buffer_1=require_buffer2(),fs_core_1=require_lib5();function promisify2(fs3,fn,getResult=input=>input){return(...args)=>new Promise((resolve,reject)=>{fs3[fn].bind(fs3)(...args,(error,result)=>error?reject(error):resolve(getResult(result)))})}function validateCallback(callback){if(typeof callback!="function")throw TypeError(fs_node_utils_1.ERRSTR.CB);return callback}function _modeToNumber(mode,def){if(typeof mode=="number")return mode;if(typeof mode=="string")return parseInt(mode,8);if(def)return modeToNumber(def)}function modeToNumber(mode,def){let result=_modeToNumber(mode,def);if(typeof result!="number"||isNaN(result))throw new TypeError(fs_node_utils_1.ERRSTR.MODE_INT);return result}function nullCheck(path5,callback){if((""+path5).indexOf("\0")!==-1){let er=new Error("Path must be a string without null bytes");if(er.code="ENOENT",typeof callback!="function")throw er;return queueMicrotask(()=>{callback(er)}),!1}return!0}function getPathFromURLPosix(url){if(url.hostname!=="")throw new errors.TypeError("ERR_INVALID_FILE_URL_HOST",process.platform);let pathname=url.pathname;for(let n=0;n<pathname.length;n++)if(pathname[n]==="%"){let third=pathname.codePointAt(n+2)|32;if(pathname[n+1]==="2"&&third===102)throw new errors.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}return decodeURIComponent(pathname)}function pathToFilename(path5){if(path5 instanceof Uint8Array&&(path5=(0,buffer_1.bufferFrom)(path5)),typeof path5!="string"&&!buffer_1.Buffer.isBuffer(path5)){try{if(!(path5 instanceof require("url").URL))throw new TypeError(fs_node_utils_1.ERRSTR.PATH_STR)}catch{throw new TypeError(fs_node_utils_1.ERRSTR.PATH_STR)}path5=getPathFromURLPosix(path5)}let pathString=String(path5);return nullCheck(pathString),pathString}var ENOENT="ENOENT",EBADF="EBADF",EINVAL="EINVAL",EPERM="EPERM",EPROTO="EPROTO",EEXIST="EEXIST",ENOTDIR="ENOTDIR",EMFILE="EMFILE",EACCES="EACCES",EISDIR="EISDIR",ENOTEMPTY="ENOTEMPTY",ENOSYS="ENOSYS",ERR_FS_EISDIR="ERR_FS_EISDIR",ERR_OUT_OF_RANGE="ERR_OUT_OF_RANGE";function formatError2(errorCode,func="",path5="",path22=""){let pathFormatted="";switch(path5&&(pathFormatted=` '${path5}'`),path22&&(pathFormatted+=` -> '${path22}'`),errorCode){case ENOENT:return`ENOENT: no such file or directory, ${func}${pathFormatted}`;case EBADF:return`EBADF: bad file descriptor, ${func}${pathFormatted}`;case EINVAL:return`EINVAL: invalid argument, ${func}${pathFormatted}`;case EPERM:return`EPERM: operation not permitted, ${func}${pathFormatted}`;case EPROTO:return`EPROTO: protocol error, ${func}${pathFormatted}`;case EEXIST:return`EEXIST: file already exists, ${func}${pathFormatted}`;case ENOTDIR:return`ENOTDIR: not a directory, ${func}${pathFormatted}`;case EISDIR:return`EISDIR: illegal operation on a directory, ${func}${pathFormatted}`;case EACCES:return`EACCES: permission denied, ${func}${pathFormatted}`;case ENOTEMPTY:return`ENOTEMPTY: directory not empty, ${func}${pathFormatted}`;case EMFILE:return`EMFILE: too many open files, ${func}${pathFormatted}`;case ENOSYS:return`ENOSYS: function not implemented, ${func}${pathFormatted}`;case ERR_FS_EISDIR:return`[ERR_FS_EISDIR]: Path is a directory: ${func} returned EISDIR (is a directory) ${path5}`;case ERR_OUT_OF_RANGE:return`[ERR_OUT_OF_RANGE]: value out of range, ${func}${pathFormatted}`;default:return`${errorCode}: error occurred, ${func}${pathFormatted}`}}function createError(errorCode,func="",path5="",path22="",Constructor=Error){let error=new Constructor(formatError2(errorCode,func,path5,path22));return error.code=errorCode,path5&&(error.path=path5),error}function createStatError(errorCode,func="",path5="",path22=""){return{code:errorCode,message:formatError2(errorCode,func,path5,path22),path:path5,toError(){let error=new Error(this.message);return error.code=this.code,this.path&&(error.path=this.path),error}}}function genRndStr6(){return Math.random().toString(36).slice(2,8).padEnd(6,"0")}function flagsToNumber(flags){if(typeof flags=="number")return flags;if(typeof flags=="string"){let flagsNum=fs_node_utils_1.FLAGS[flags];if(typeof flagsNum<"u")return flagsNum}throw new errors.TypeError("ERR_INVALID_OPT_VALUE","flags",flags)}function streamToBuffer(stream){let chunks=[];return new Promise((resolve,reject)=>{stream.on("data",chunk=>chunks.push(chunk)),stream.on("end",()=>resolve(buffer_1.Buffer.concat(chunks))),stream.on("error",reject)})}var bufToUint8=buf=>new Uint8Array(buf.buffer,buf.byteOffset,buf.byteLength);exports2.bufToUint8=bufToUint8;var getWriteArgs=(fd,a,b,c,d,e)=>{(0,fs_core_1.validateFd)(fd);let offset=0,length,position=null,encoding,callback,tipa=typeof a,tipb=typeof b,tipc=typeof c,tipd=typeof d;tipa!=="string"?tipb==="function"?callback=b:tipc==="function"?(offset=b|0,callback=c):tipd==="function"?(offset=b|0,length=c,callback=d):(offset=b|0,length=c,position=d,callback=e):tipb==="function"?callback=b:tipc==="function"?(position=b,callback=c):tipd==="function"&&(position=b,encoding=c,callback=d);let buf=(0,fs_core_1.dataToBuffer)(a,encoding);tipa!=="string"?typeof length>"u"&&(length=buf.length):(offset=0,length=buf.length);let cb=validateCallback(callback);return[fd,tipa==="string",buf,offset,length,position,cb]};exports2.getWriteArgs=getWriteArgs;var getWriteSyncArgs=(fd,a,b,c,d)=>{(0,fs_core_1.validateFd)(fd);let encoding,offset,length,position,isBuffer2=typeof a!="string";isBuffer2?(offset=(b||0)|0,length=c,position=d):(position=b,encoding=c);let buf=(0,fs_core_1.dataToBuffer)(a,encoding);return isBuffer2?typeof length>"u"&&(length=buf.length):(offset=0,length=buf.length),[fd,buf,offset||0,length,position]};exports2.getWriteSyncArgs=getWriteSyncArgs;function bufferToEncoding(buffer,encoding){return!encoding||encoding==="buffer"?buffer:buffer.toString(encoding)}function isReadableStream(stream){return stream!==null&&typeof stream=="object"&&typeof stream.pipe=="function"&&typeof stream.on=="function"&&stream.readable===!0}}});var require_FileHandle=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node/lib/FileHandle.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.FileHandle=void 0;var util_1=require_util11(),events_1=require_events2(),FileHandle=class extends events_1.EventEmitter{constructor(fs3,fd){super(),this.refs=1,this.closePromise=null,this.position=0,this.readableWebStreamLocked=!1,this.fs=fs3,this.fd=fd}getAsyncId(){return this.fd}appendFile(data,options2){return(0,util_1.promisify)(this.fs,"appendFile")(this.fd,data,options2)}chmod(mode){return(0,util_1.promisify)(this.fs,"fchmod")(this.fd,mode)}chown(uid,gid){return(0,util_1.promisify)(this.fs,"fchown")(this.fd,uid,gid)}close(){if(this.fd===-1)return Promise.resolve();if(this.closePromise)return this.closePromise;if(this.refs--,this.refs===0){let currentFd=this.fd;this.fd=-1,this.closePromise=(0,util_1.promisify)(this.fs,"close")(currentFd).finally(()=>{this.closePromise=null})}else this.closePromise=new Promise((resolve,reject)=>{this.closeResolve=resolve,this.closeReject=reject}).finally(()=>{this.closePromise=null,this.closeReject=void 0,this.closeResolve=void 0});return this.emit("close"),this.closePromise}datasync(){return(0,util_1.promisify)(this.fs,"fdatasync")(this.fd)}createReadStream(options2){return this.fs.createReadStream("",{...options2,fd:this})}createWriteStream(options2){return this.fs.createWriteStream("",{...options2,fd:this})}readableWebStream(options2={}){let{type="bytes",autoClose=!1}=options2,position=0;if(this.fd===-1)throw new Error("The FileHandle is closed");if(this.closePromise)throw new Error("The FileHandle is closing");if(this.readableWebStreamLocked)throw new Error("An error will be thrown if this method is called more than once or is called after the FileHandle is closed or closing.");this.readableWebStreamLocked=!0,this.ref();let unlockAndCleanup=()=>{this.readableWebStreamLocked=!1,this.unref(),autoClose&&this.close().catch(()=>{})};return new ReadableStream({type:type==="bytes"?"bytes":void 0,autoAllocateChunkSize:16384,pull:async controller=>{try{let view=controller.byobRequest?.view;if(!view){let buffer=new Uint8Array(16384),result2=await this.read(buffer,0,buffer.length,position);if(result2.bytesRead===0){controller.close(),unlockAndCleanup();return}position+=result2.bytesRead,controller.enqueue(buffer.slice(0,result2.bytesRead));return}let result=await this.read(view,view.byteOffset,view.byteLength,position);if(result.bytesRead===0){controller.close(),unlockAndCleanup();return}position+=result.bytesRead,controller.byobRequest.respond(result.bytesRead)}catch(error){controller.error(error),unlockAndCleanup()}},cancel:async()=>{unlockAndCleanup()}})}async read(buffer,offset,length,position){let readPosition=position??this.position,result=await(0,util_1.promisify)(this.fs,"read",bytesRead=>({bytesRead,buffer}))(this.fd,buffer,offset,length,readPosition);return position==null&&(this.position+=result.bytesRead),result}readv(buffers,position){return(0,util_1.promisify)(this.fs,"readv",bytesRead=>({bytesRead,buffers}))(this.fd,buffers,position)}readFile(options2){return(0,util_1.promisify)(this.fs,"readFile")(this.fd,options2)}stat(options2){return(0,util_1.promisify)(this.fs,"fstat")(this.fd,options2)}sync(){return(0,util_1.promisify)(this.fs,"fsync")(this.fd)}truncate(len){return(0,util_1.promisify)(this.fs,"ftruncate")(this.fd,len)}utimes(atime,mtime){return(0,util_1.promisify)(this.fs,"futimes")(this.fd,atime,mtime)}async write(buffer,offset,length,position){let useInternalPosition=typeof position!="number",writePosition=useInternalPosition?this.position:position,result=await(0,util_1.promisify)(this.fs,"write",bytesWritten=>({bytesWritten,buffer}))(this.fd,buffer,offset,length,writePosition);return useInternalPosition&&(this.position+=result.bytesWritten),result}writev(buffers,position){return(0,util_1.promisify)(this.fs,"writev",bytesWritten=>({bytesWritten,buffers}))(this.fd,buffers,position)}writeFile(data,options2){return(0,util_1.promisify)(this.fs,"writeFile")(this.fd,data,options2)}async[Symbol.asyncDispose](){await this.close()}ref(){this.refs++}unref(){this.refs--,this.refs===0&&(this.fd=-1,this.closeResolve&&(0,util_1.promisify)(this.fs,"close")(this.fd).then(this.closeResolve,this.closeReject))}};exports2.FileHandle=FileHandle}});var require_FsPromises=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node/lib/FsPromises.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.FsPromises=void 0;var util_1=require_util11(),fs_node_utils_1=require_lib4(),FSWatchAsyncIterator=class{constructor(fs3,path5,options2={}){if(this.fs=fs3,this.path=path5,this.options=options2,this.eventQueue=[],this.resolveQueue=[],this.finished=!1,this.maxQueue=options2.maxQueue||2048,this.overflow=options2.overflow||"ignore",this.startWatching(),options2.signal){if(options2.signal.aborted){this.finish();return}options2.signal.addEventListener("abort",()=>{this.finish()})}}startWatching(){try{this.watcher=this.fs.watch(this.path,this.options,(eventType,filename)=>{this.enqueueEvent({eventType,filename})})}catch(error){throw this.finish(),error}}enqueueEvent(event){if(!this.finished){if(this.eventQueue.length>=this.maxQueue)if(this.overflow==="throw"){let error=new Error(`Watch queue overflow: more than ${this.maxQueue} events queued`);this.finish(error);return}else this.eventQueue.shift();if(this.eventQueue.push(event),this.resolveQueue.length>0){let{resolve}=this.resolveQueue.shift(),nextEvent=this.eventQueue.shift();resolve({value:nextEvent,done:!1})}}}finish(error){if(!this.finished)for(this.finished=!0,this.watcher&&(this.watcher.close(),this.watcher=null);this.resolveQueue.length>0;){let{resolve,reject}=this.resolveQueue.shift();error?reject(error):resolve({value:void 0,done:!0})}}async next(){return this.finished?{value:void 0,done:!0}:this.eventQueue.length>0?{value:this.eventQueue.shift(),done:!1}:new Promise((resolve,reject)=>{this.resolveQueue.push({resolve,reject})})}async return(){return this.finish(),{value:void 0,done:!0}}async throw(error){throw this.finish(error),error}[Symbol.asyncIterator](){return this}},FsPromises=class{constructor(fs3,FileHandle){this.fs=fs3,this.FileHandle=FileHandle,this.constants=fs_node_utils_1.constants,this.cp=(0,util_1.promisify)(this.fs,"cp"),this.opendir=(0,util_1.promisify)(this.fs,"opendir"),this.statfs=(0,util_1.promisify)(this.fs,"statfs"),this.lutimes=(0,util_1.promisify)(this.fs,"lutimes"),this.glob=(0,util_1.promisify)(this.fs,"glob"),this.access=(0,util_1.promisify)(this.fs,"access"),this.chmod=(0,util_1.promisify)(this.fs,"chmod"),this.chown=(0,util_1.promisify)(this.fs,"chown"),this.copyFile=(0,util_1.promisify)(this.fs,"copyFile"),this.lchmod=(0,util_1.promisify)(this.fs,"lchmod"),this.lchown=(0,util_1.promisify)(this.fs,"lchown"),this.link=(0,util_1.promisify)(this.fs,"link"),this.lstat=(0,util_1.promisify)(this.fs,"lstat"),this.mkdir=(0,util_1.promisify)(this.fs,"mkdir"),this.mkdtemp=(0,util_1.promisify)(this.fs,"mkdtemp"),this.readdir=(0,util_1.promisify)(this.fs,"readdir"),this.readlink=(0,util_1.promisify)(this.fs,"readlink"),this.realpath=(0,util_1.promisify)(this.fs,"realpath"),this.rename=(0,util_1.promisify)(this.fs,"rename"),this.rmdir=(0,util_1.promisify)(this.fs,"rmdir"),this.rm=(0,util_1.promisify)(this.fs,"rm"),this.stat=(0,util_1.promisify)(this.fs,"stat"),this.symlink=(0,util_1.promisify)(this.fs,"symlink"),this.truncate=(0,util_1.promisify)(this.fs,"truncate"),this.unlink=(0,util_1.promisify)(this.fs,"unlink"),this.utimes=(0,util_1.promisify)(this.fs,"utimes"),this.readFile=(id,options2)=>(0,util_1.promisify)(this.fs,"readFile")(id instanceof this.FileHandle?id.fd:id,options2),this.appendFile=(path5,data,options2)=>(0,util_1.promisify)(this.fs,"appendFile")(path5 instanceof this.FileHandle?path5.fd:path5,data,options2),this.open=(path5,flags="r",mode)=>(0,util_1.promisify)(this.fs,"open",fd=>new this.FileHandle(this.fs,fd))(path5,flags,mode),this.writeFile=(id,data,options2)=>((0,util_1.isReadableStream)(data)?(0,util_1.streamToBuffer)(data):Promise.resolve(data)).then(data2=>(0,util_1.promisify)(this.fs,"writeFile")(id instanceof this.FileHandle?id.fd:id,data2,options2)),this.watch=(filename,options2)=>{let watchOptions=typeof options2=="string"?{encoding:options2}:options2||{};return new FSWatchAsyncIterator(this.fs,filename,watchOptions)}}};exports2.FsPromises=FsPromises}});var require_printTree=__commonJS({"../../../../node_modules/tree-dump/lib/printTree.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.printTree=void 0;var printTree=(tab="",children)=>{let str="",last=children.length-1;for(;last>=0&&!children[last];last--);for(let i=0;i<=last;i++){let fn=children[i];if(!fn)continue;let isLast=i===last,child=fn(tab+(isLast?" ":"\u2502")+"  "),branch=child?isLast?"\u2514\u2500":"\u251C\u2500":"\u2502";str+=`
`+tab+branch+(child?" "+child:"")}return str};exports2.printTree=printTree}});var require_printBinary=__commonJS({"../../../../node_modules/tree-dump/lib/printBinary.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.printBinary=void 0;var printBinary=(tab="",children)=>{let left=children[0],right=children[1],str="";return left&&(str+=`
`+tab+"\u2190 "+left(tab+"  ")),right&&(str+=`
`+tab+"\u2192 "+right(tab+"  ")),str};exports2.printBinary=printBinary}});var require_printJson=__commonJS({"../../../../node_modules/tree-dump/lib/printJson.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.printJson=void 0;var printJson=(tab="",json,space=2)=>(JSON.stringify(json,null,space)||"nil").split(`
`).join(`
`+tab);exports2.printJson=printJson}});var require_lib6=__commonJS({"../../../../node_modules/tree-dump/lib/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports));tslib_1.__exportStar(require_printTree(),exports2);tslib_1.__exportStar(require_printBinary(),exports2);tslib_1.__exportStar(require_printJson(),exports2)}});var require_lib7=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-print/lib/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.toTreeSync=void 0;var tree_dump_1=require_lib6(),fs_node_utils_1=require_lib4(),toTreeSync=(fs3,opts={})=>{let separator=opts.separator||"/",dir=opts.dir||separator;dir[dir.length-1]!==separator&&(dir+=separator);let tab=opts.tab||"",depth=opts.depth??10,sort=opts.sort??!0,subtree=" (...)";if(depth>0){let list2=fs3.readdirSync(dir,{withFileTypes:!0});sort&&list2.sort((a,b)=>a.isDirectory()&&b.isDirectory()?a.name.toString().localeCompare(b.name.toString()):a.isDirectory()?-1:b.isDirectory()?1:a.name.toString().localeCompare(b.name.toString())),subtree=(0,tree_dump_1.printTree)(tab,list2.map(entry=>tab2=>entry.isDirectory()?(0,exports2.toTreeSync)(fs3,{dir:dir+entry.name,depth:depth-1,tab:tab2}):entry.isSymbolicLink()?""+entry.name+" \u2192 "+fs3.readlinkSync(dir+entry.name):""+entry.name))}return(0,fs_node_utils_1.basename)(dir,separator)+separator+subtree};exports2.toTreeSync=toTreeSync}});var require_constants12=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-snapshot/lib/constants.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0})}});var require_sync=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-snapshot/lib/sync.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.fromSnapshotSync=exports2.toSnapshotSync=void 0;var toSnapshotSync=({fs:fs3,path:path5="/",separator="/"})=>{let stats=fs3.lstatSync(path5);if(stats.isDirectory()){let list2=fs3.readdirSync(path5),entries={},dir=path5.endsWith(separator)?path5:path5+separator;for(let child of list2){let childSnapshot=(0,exports2.toSnapshotSync)({fs:fs3,path:`${dir}${child}`,separator});childSnapshot&&(entries[""+child]=childSnapshot)}return[0,{},entries]}else if(stats.isFile()){let buf=fs3.readFileSync(path5),uint8=new Uint8Array(buf.buffer,buf.byteOffset,buf.byteLength);return[1,{},uint8]}else if(stats.isSymbolicLink())return[2,{target:fs3.readlinkSync(path5).toString()}];return null};exports2.toSnapshotSync=toSnapshotSync;var fromSnapshotSync=(snapshot,{fs:fs3,path:path5="/",separator="/"})=>{if(snapshot)switch(snapshot[0]){case 0:{path5.endsWith(separator)||(path5=path5+separator);let[,,entries]=snapshot;fs3.mkdirSync(path5,{recursive:!0});for(let[name,child]of Object.entries(entries))(0,exports2.fromSnapshotSync)(child,{fs:fs3,path:`${path5}${name}`,separator});break}case 1:{let[,,data]=snapshot;fs3.writeFileSync(path5,data);break}case 2:{let[,{target}]=snapshot;fs3.symlinkSync(target,path5);break}}};exports2.fromSnapshotSync=fromSnapshotSync}});var require_isFloat32=__commonJS({"../../../../node_modules/@jsonjoy.com/buffers/lib/isFloat32.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.isFloat32=void 0;var view=new DataView(new ArrayBuffer(4)),isFloat32=n=>(view.setFloat32(0,n),n===view.getFloat32(0));exports2.isFloat32=isFloat32}});var require_JsonPackExtension=__commonJS({"../../../../node_modules/@jsonjoy.com/json-pack/lib/JsonPackExtension.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.JsonPackExtension=void 0;var JsonPackExtension=class{constructor(tag,val){this.tag=tag,this.val=val}};exports2.JsonPackExtension=JsonPackExtension}});var require_Slice=__commonJS({"../../../../node_modules/@jsonjoy.com/buffers/lib/Slice.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.Slice=void 0;var Slice=class{constructor(uint8,view,start,end){this.uint8=uint8,this.view=view,this.start=start,this.end=end}subarray(){return this.uint8.subarray(this.start,this.end)}};exports2.Slice=Slice}});var require_Writer=__commonJS({"../../../../node_modules/@jsonjoy.com/buffers/lib/Writer.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.Writer=void 0;var Slice_1=require_Slice(),EMPTY_UINT8=new Uint8Array([]),EMPTY_VIEW=new DataView(EMPTY_UINT8.buffer),hasBuffer=typeof Buffer=="function",utf8Write=hasBuffer?Buffer.prototype.utf8Write:null,from=hasBuffer?Buffer.from:null,textEncoder=typeof TextEncoder<"u"?new TextEncoder:null,Writer=class{constructor(allocSize=64*1024){this.allocSize=allocSize,this.view=EMPTY_VIEW,this.x0=0,this.x=0,this.uint8=new Uint8Array(allocSize),this.size=allocSize,this.view=new DataView(this.uint8.buffer)}grow(size){let x0=this.x0,x=this.x,oldUint8=this.uint8,newUint8=new Uint8Array(size),view=new DataView(newUint8.buffer),activeSlice=oldUint8.subarray(x0,x);newUint8.set(activeSlice,0),this.x=x-x0,this.x0=0,this.uint8=newUint8,this.size=size,this.view=view}ensureCapacity(capacity){let byteLength=this.size,remaining=byteLength-this.x;if(remaining<capacity){let total=byteLength-this.x0,required=capacity-remaining,totalRequired=total+required;this.grow(totalRequired<=this.allocSize?this.allocSize:totalRequired*2)}}move(capacity){this.ensureCapacity(capacity),this.x+=capacity}reset(){this.x0=this.x}newBuffer(size){let uint8=this.uint8=new Uint8Array(size);this.size=size,this.view=new DataView(uint8.buffer),this.x=this.x0=0}flush(){let result=this.uint8.subarray(this.x0,this.x);return this.x0=this.x,result}flushSlice(){let slice=new Slice_1.Slice(this.uint8,this.view,this.x0,this.x);return this.x0=this.x,slice}u8(char){this.ensureCapacity(1),this.uint8[this.x++]=char}u16(word){this.ensureCapacity(2),this.view.setUint16(this.x,word),this.x+=2}u32(dword){this.ensureCapacity(4),this.view.setUint32(this.x,dword),this.x+=4}i32(dword){this.ensureCapacity(4),this.view.setInt32(this.x,dword),this.x+=4}u64(qword){this.ensureCapacity(8),this.view.setBigUint64(this.x,BigInt(qword)),this.x+=8}f64(float){this.ensureCapacity(8),this.view.setFloat64(this.x,float),this.x+=8}u8u16(u8,u16){this.ensureCapacity(3);let x=this.x;this.uint8[x++]=u8,this.uint8[x++]=u16>>>8,this.uint8[x++]=u16&255,this.x=x}u8u32(u8,u32){this.ensureCapacity(5);let x=this.x;this.uint8[x++]=u8,this.view.setUint32(x,u32),this.x=x+4}u8u64(u8,u64){this.ensureCapacity(9);let x=this.x;this.uint8[x++]=u8,this.view.setBigUint64(x,BigInt(u64)),this.x=x+8}u8f32(u8,f32){this.ensureCapacity(5);let x=this.x;this.uint8[x++]=u8,this.view.setFloat32(x,f32),this.x=x+4}u8f64(u8,f64){this.ensureCapacity(9);let x=this.x;this.uint8[x++]=u8,this.view.setFloat64(x,f64),this.x=x+8}buf(buf,length){this.ensureCapacity(length);let x=this.x;this.uint8.set(buf,x),this.x=x+length}utf8(str){let theoreticalMaxLength=str.length*4;if(theoreticalMaxLength<168)return this.utf8Native(str);this.ensureCapacity(theoreticalMaxLength);let maxLength=this.size-this.x;if(utf8Write){let writeLength=utf8Write.call(this.uint8,str,this.x,maxLength);return this.x+=writeLength,writeLength}else if(from){let uint8=this.uint8,offset=uint8.byteOffset+this.x,writeLength=from(uint8.buffer).subarray(offset,offset+maxLength).write(str,0,maxLength,"utf8");return this.x+=writeLength,writeLength}else if(theoreticalMaxLength>1024&&textEncoder){let writeLength=textEncoder.encodeInto(str,this.uint8.subarray(this.x,this.x+maxLength)).written;return this.x+=writeLength,writeLength}return this.utf8Native(str)}utf8Native(str){let length=str.length,uint8=this.uint8,offset=this.x,pos=0;for(;pos<length;){let value=str.charCodeAt(pos++);if((value&4294967168)===0){uint8[offset++]=value;continue}else if((value&4294965248)===0)uint8[offset++]=value>>6&31|192;else{if(value>=55296&&value<=56319&&pos<length){let extra=str.charCodeAt(pos);(extra&64512)===56320&&(pos++,value=((value&1023)<<10)+(extra&1023)+65536)}(value&4294901760)===0?(uint8[offset++]=value>>12&15|224,uint8[offset++]=value>>6&63|128):(uint8[offset++]=value>>18&7|240,uint8[offset++]=value>>12&63|128,uint8[offset++]=value>>6&63|128)}uint8[offset++]=value&63|128}let writeLength=offset-this.x;return this.x=offset,writeLength}ascii(str){let length=str.length;this.ensureCapacity(length);let uint8=this.uint8,x=this.x,pos=0;for(;pos<length;)uint8[x++]=str.charCodeAt(pos++);this.x=x}};exports2.Writer=Writer}});var require_CborEncoderFast=__commonJS({"../../../../node_modules/@jsonjoy.com/json-pack/lib/cbor/CborEncoderFast.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.CborEncoderFast=void 0;var Writer_1=require_Writer(),isSafeInteger=Number.isSafeInteger,CborEncoderFast=class{constructor(writer=new Writer_1.Writer){this.writer=writer}encode(value){return this.writeAny(value),this.writer.flush()}writeAny(value){switch(typeof value){case"number":return this.writeNumber(value);case"string":return this.writeStr(value);case"boolean":return this.writer.u8(244+ +value);case"object":{if(!value)return this.writer.u8(246);switch(value.constructor){case Array:return this.writeArr(value);default:return this.writeObj(value)}}}}writeCbor(){this.writer.u8u16(217,55799)}writeEnd(){this.writer.u8(255)}writeNull(){this.writer.u8(246)}writeBoolean(bool){bool?this.writer.u8(245):this.writer.u8(244)}writeNumber(num){isSafeInteger(num)?this.writeInteger(num):typeof num=="bigint"?this.writeBigInt(num):this.writeFloat(num)}writeBigInt(int){int>=0?this.writeBigUint(int):this.writeBigSint(int)}writeBigUint(uint){if(uint<=Number.MAX_SAFE_INTEGER)return this.writeUInteger(Number(uint));this.writer.u8u64(27,uint)}writeBigSint(int){if(int>=Number.MIN_SAFE_INTEGER)return this.encodeNint(Number(int));let uint=-BigInt(1)-int;this.writer.u8u64(59,uint)}writeInteger(int){int>=0?this.writeUInteger(int):this.encodeNint(int)}writeUInteger(uint){let writer=this.writer;writer.ensureCapacity(9);let uint8=writer.uint8,x=writer.x;uint<=23?uint8[x++]=0+uint:uint<=255?(uint8[x++]=24,uint8[x++]=uint):uint<=65535?(uint8[x++]=25,writer.view.setUint16(x,uint),x+=2):uint<=4294967295?(uint8[x++]=26,writer.view.setUint32(x,uint),x+=4):(uint8[x++]=27,writer.view.setBigUint64(x,BigInt(uint)),x+=8),writer.x=x}encodeNumber(num){this.writeNumber(num)}encodeInteger(int){this.writeInteger(int)}encodeUint(uint){this.writeUInteger(uint)}encodeNint(int){let uint=-1-int,writer=this.writer;writer.ensureCapacity(9);let uint8=writer.uint8,x=writer.x;uint<24?uint8[x++]=32+uint:uint<=255?(uint8[x++]=56,uint8[x++]=uint):uint<=65535?(uint8[x++]=57,writer.view.setUint16(x,uint),x+=2):uint<=4294967295?(uint8[x++]=58,writer.view.setUint32(x,uint),x+=4):(uint8[x++]=59,writer.view.setBigUint64(x,BigInt(uint)),x+=8),writer.x=x}writeFloat(float){this.writer.u8f64(251,float)}writeBin(buf){let length=buf.length;this.writeBinHdr(length),this.writer.buf(buf,length)}writeBinHdr(length){let writer=this.writer;length<=23?writer.u8(64+length):length<=255?writer.u16(22528+length):length<=65535?writer.u8u16(89,length):length<=4294967295?writer.u8u32(90,length):writer.u8u64(91,length)}writeStr(str){let writer=this.writer,maxSize=str.length*4;writer.ensureCapacity(5+maxSize);let uint8=writer.uint8,lengthOffset=writer.x;maxSize<=23?writer.x++:maxSize<=255?(uint8[writer.x++]=120,lengthOffset=writer.x,writer.x++):maxSize<=65535?(uint8[writer.x++]=121,lengthOffset=writer.x,writer.x+=2):(uint8[writer.x++]=122,lengthOffset=writer.x,writer.x+=4);let bytesWritten=writer.utf8(str);maxSize<=23?uint8[lengthOffset]=96+bytesWritten:maxSize<=255?uint8[lengthOffset]=bytesWritten:maxSize<=65535?writer.view.setUint16(lengthOffset,bytesWritten):writer.view.setUint32(lengthOffset,bytesWritten)}writeStrHdr(length){let writer=this.writer;length<=23?writer.u8(96+length):length<=255?writer.u16(30720+length):length<=65535?writer.u8u16(121,length):writer.u8u32(122,length)}writeAsciiStr(str){this.writeStrHdr(str.length),this.writer.ascii(str)}writeArr(arr){let length=arr.length;this.writeArrHdr(length);for(let i=0;i<length;i++)this.writeAny(arr[i])}writeArrHdr(length){let writer=this.writer;length<=23?writer.u8(128+length):length<=255?writer.u16(38912+length):length<=65535?writer.u8u16(153,length):length<=4294967295?writer.u8u32(154,length):writer.u8u64(155,length)}writeObj(obj){let keys2=Object.keys(obj),length=keys2.length;this.writeObjHdr(length);for(let i=0;i<length;i++){let key=keys2[i];this.writeStr(key),this.writeAny(obj[key])}}writeObjHdr(length){let writer=this.writer;length<=23?writer.u8(160+length):length<=255?writer.u16(47104+length):length<=65535?writer.u8u16(185,length):length<=4294967295?writer.u8u32(186,length):writer.u8u64(187,length)}writeMapHdr(length){this.writeObjHdr(length)}writeStartMap(){this.writer.u8(191)}writeTag(tag,value){this.writeTagHdr(tag),this.writeAny(value)}writeTagHdr(tag){let writer=this.writer;tag<=23?writer.u8(192+tag):tag<=255?writer.u16(55296+tag):tag<=65535?writer.u8u16(217,tag):tag<=4294967295?writer.u8u32(218,tag):writer.u8u64(219,tag)}writeTkn(value){let writer=this.writer;value<=23?writer.u8(224+value):value<=255&&writer.u16(63488+value)}writeStartStr(){this.writer.u8(127)}writeStrChunk(str){throw new Error("Not implemented")}writeEndStr(){throw new Error("Not implemented")}writeStartBin(){this.writer.u8(95)}writeBinChunk(buf){throw new Error("Not implemented")}writeEndBin(){throw new Error("Not implemented")}writeStartArr(){this.writer.u8(159)}writeArrChunk(item){throw new Error("Not implemented")}writeEndArr(){this.writer.u8(255)}writeStartObj(){this.writer.u8(191)}writeObjChunk(key,value){throw new Error("Not implemented")}writeEndObj(){this.writer.u8(255)}};exports2.CborEncoderFast=CborEncoderFast}});var require_JsonPackValue=__commonJS({"../../../../node_modules/@jsonjoy.com/json-pack/lib/JsonPackValue.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.JsonPackValue=void 0;var JsonPackValue=class{constructor(val){this.val=val}};exports2.JsonPackValue=JsonPackValue}});var require_CborEncoder=__commonJS({"../../../../node_modules/@jsonjoy.com/json-pack/lib/cbor/CborEncoder.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.CborEncoder=void 0;var isFloat32_1=require_isFloat32(),JsonPackExtension_1=require_JsonPackExtension(),CborEncoderFast_1=require_CborEncoderFast(),JsonPackValue_1=require_JsonPackValue(),CborEncoder=class extends CborEncoderFast_1.CborEncoderFast{writeUnknown(value){this.writeNull()}writeAny(value){switch(typeof value){case"number":return this.writeNumber(value);case"string":return this.writeStr(value);case"boolean":return this.writer.u8(244+ +value);case"object":{if(!value)return this.writer.u8(246);switch(value.constructor){case Object:return this.writeObj(value);case Array:return this.writeArr(value);case Uint8Array:return this.writeBin(value);case Map:return this.writeMap(value);case JsonPackExtension_1.JsonPackExtension:return this.writeTag(value.tag,value.val);case JsonPackValue_1.JsonPackValue:{let buf=value.val;return this.writer.buf(buf,buf.length)}default:return value instanceof Uint8Array?this.writeBin(value):Array.isArray(value)?this.writeArr(value):value instanceof Map?this.writeMap(value):this.writeUnknown(value)}}case"undefined":return this.writeUndef();case"bigint":return this.writeBigInt(value);default:return this.writeUnknown(value)}}writeFloat(float){(0,isFloat32_1.isFloat32)(float)?this.writer.u8f32(250,float):this.writer.u8f64(251,float)}writeMap(map){this.writeMapHdr(map.size),map.forEach((value,key)=>{this.writeAny(key),this.writeAny(value)})}writeUndef(){this.writer.u8(247)}};exports2.CborEncoder=CborEncoder}});var require_f16=__commonJS({"../../../../node_modules/@jsonjoy.com/buffers/lib/f16.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.decodeF16=void 0;var pow=Math.pow,decodeF16=binary=>{let exponent=(binary&31744)>>10,fraction=binary&1023;return(binary>>15?-1:1)*(exponent?exponent===31?fraction?NaN:1/0:pow(2,exponent-15)*(1+fraction/1024):6103515625e-14*(fraction/1024))};exports2.decodeF16=decodeF16}});var require_decodeAscii=__commonJS({"../../../../node_modules/@jsonjoy.com/buffers/lib/utf8/decodeAscii.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.decodeAsciiMax15=exports2.decodeAscii=void 0;var fromCharCode=String.fromCharCode,decodeAscii=(src,position,length)=>{let bytes=[];for(let i=0;i<length;i++){let byte=src[position++];if(byte&128)return;bytes.push(byte)}return fromCharCode.apply(String,bytes)};exports2.decodeAscii=decodeAscii;var decodeAsciiMax15=(src,position,length)=>{if(length<4)if(length<2){if(length===0)return"";{let a=src[position++];if((a&128)>1){position-=1;return}return fromCharCode(a)}}else{let a=src[position++],b=src[position++];if((a&128)>0||(b&128)>0){position-=2;return}if(length<3)return fromCharCode(a,b);let c=src[position++];if((c&128)>0){position-=3;return}return fromCharCode(a,b,c)}else{let a=src[position++],b=src[position++],c=src[position++],d=src[position++];if((a&128)>0||(b&128)>0||(c&128)>0||(d&128)>0){position-=4;return}if(length<6){if(length===4)return fromCharCode(a,b,c,d);{let e=src[position++];if((e&128)>0){position-=5;return}return fromCharCode(a,b,c,d,e)}}else if(length<8){let e=src[position++],f=src[position++];if((e&128)>0||(f&128)>0){position-=6;return}if(length<7)return fromCharCode(a,b,c,d,e,f);let g=src[position++];if((g&128)>0){position-=7;return}return fromCharCode(a,b,c,d,e,f,g)}else{let e=src[position++],f=src[position++],g=src[position++],h=src[position++];if((e&128)>0||(f&128)>0||(g&128)>0||(h&128)>0){position-=8;return}if(length<10){if(length===8)return fromCharCode(a,b,c,d,e,f,g,h);{let i=src[position++];if((i&128)>0){position-=9;return}return fromCharCode(a,b,c,d,e,f,g,h,i)}}else if(length<12){let i=src[position++],j=src[position++];if((i&128)>0||(j&128)>0){position-=10;return}if(length<11)return fromCharCode(a,b,c,d,e,f,g,h,i,j);let k=src[position++];if((k&128)>0){position-=11;return}return fromCharCode(a,b,c,d,e,f,g,h,i,j,k)}else{let i=src[position++],j=src[position++],k=src[position++],l=src[position++];if((i&128)>0||(j&128)>0||(k&128)>0||(l&128)>0){position-=12;return}if(length<14){if(length===12)return fromCharCode(a,b,c,d,e,f,g,h,i,j,k,l);{let m=src[position++];if((m&128)>0){position-=13;return}return fromCharCode(a,b,c,d,e,f,g,h,i,j,k,l,m)}}else{let m=src[position++],n=src[position++];if((m&128)>0||(n&128)>0){position-=14;return}if(length<15)return fromCharCode(a,b,c,d,e,f,g,h,i,j,k,l,m,n);let o=src[position++];if((o&128)>0){position-=15;return}return fromCharCode(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o)}}}}};exports2.decodeAsciiMax15=decodeAsciiMax15}});var require_v18=__commonJS({"../../../../node_modules/@jsonjoy.com/buffers/lib/utf8/decodeUtf8/v18.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var fromCharCode=String.fromCharCode;exports2.default=(buf,start,length)=>{let offset=start,end=offset+length,points=[];for(;offset<end;){let code2=buf[offset++];if((code2&128)!==0){let octet2=buf[offset++]&63;if((code2&224)===192)code2=(code2&31)<<6|octet2;else{let octet3=buf[offset++]&63;if((code2&240)===224)code2=(code2&31)<<12|octet2<<6|octet3;else if((code2&248)===240){let octet4=buf[offset++]&63,unit=(code2&7)<<18|octet2<<12|octet3<<6|octet4;if(unit>65535){unit-=65536;let unit0=unit>>>10&1023|55296;code2=56320|unit&1023,points.push(unit0)}else code2=unit}}}points.push(code2)}return fromCharCode.apply(String,points)}}});var require_v16=__commonJS({"../../../../node_modules/@jsonjoy.com/buffers/lib/utf8/decodeUtf8/v16.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports)),decodeAscii_1=require_decodeAscii(),v18_1=tslib_1.__importDefault(require_v18()),hasBuffer=typeof Buffer<"u",utf8Slice=hasBuffer?Buffer.prototype.utf8Slice:null,from=hasBuffer?Buffer.from:null,shortDecoder=(buf,start,length)=>(0,decodeAscii_1.decodeAsciiMax15)(buf,start,length)??(0,v18_1.default)(buf,start,length),midDecoder=(buf,start,length)=>(0,decodeAscii_1.decodeAscii)(buf,start,length)??(0,v18_1.default)(buf,start,length),longDecoder=utf8Slice?(buf,start,length)=>utf8Slice.call(buf,start,start+length):from?(buf,start,length)=>from(buf).subarray(start,start+length).toString("utf8"):v18_1.default,decoder=(buf,start,length)=>length<16?shortDecoder(buf,start,length):length<32?midDecoder(buf,start,length):longDecoder(buf,start,length);exports2.default=decoder}});var require_decodeUtf8=__commonJS({"../../../../node_modules/@jsonjoy.com/buffers/lib/utf8/decodeUtf8/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.decodeUtf8=void 0;var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports)),v16_1=tslib_1.__importDefault(require_v16());exports2.decodeUtf8=v16_1.default}});var require_Reader=__commonJS({"../../../../node_modules/@jsonjoy.com/buffers/lib/Reader.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.Reader=void 0;var decodeUtf8_1=require_decodeUtf8(),Reader=class _Reader{constructor(uint8=new Uint8Array([]),view=new DataView(uint8.buffer,uint8.byteOffset,uint8.length),x=0,end=uint8.length){this.uint8=uint8,this.view=view,this.x=x,this.end=end}reset(uint8){this.x=0,this.uint8=uint8,this.view=new DataView(uint8.buffer,uint8.byteOffset,uint8.length)}size(){return this.end-this.x}peek(){return this.view.getUint8(this.x)}peak(){return this.peek()}skip(length){this.x+=length}buf(size=this.size()){let x=this.x,end=x+size,bin=this.uint8.subarray(x,end);return this.x=end,bin}subarray(start=0,end){let x=this.x,actualStart=x+start,actualEnd=typeof end=="number"?x+end:this.end;return this.uint8.subarray(actualStart,actualEnd)}slice(start=0,end){let x=this.x,actualStart=x+start,actualEnd=typeof end=="number"?x+end:this.end;return new _Reader(this.uint8,this.view,actualStart,actualEnd)}cut(size=this.size()){let slice=this.slice(0,size);return this.skip(size),slice}u8(){return this.uint8[this.x++]}i8(){return this.view.getInt8(this.x++)}u16(){let x=this.x,num=(this.uint8[x++]<<8)+this.uint8[x++];return this.x=x,num}i16(){let num=this.view.getInt16(this.x);return this.x+=2,num}u32(){let num=this.view.getUint32(this.x);return this.x+=4,num}i32(){let num=this.view.getInt32(this.x);return this.x+=4,num}u64(){let num=this.view.getBigUint64(this.x);return this.x+=8,num}i64(){let num=this.view.getBigInt64(this.x);return this.x+=8,num}f32(){let pos=this.x;return this.x+=4,this.view.getFloat32(pos)}f64(){let pos=this.x;return this.x+=8,this.view.getFloat64(pos)}utf8(size){let start=this.x;return this.x+=size,(0,decodeUtf8_1.decodeUtf8)(this.uint8,start,size)}ascii(length){let uint8=this.uint8,str="",end=this.x+length;for(let i=this.x;i<end;i++)str+=String.fromCharCode(uint8[i]);return this.x=end,str}};exports2.Reader=Reader}});var require_v10=__commonJS({"../../../../node_modules/@jsonjoy.com/buffers/lib/utf8/decodeUtf8/v10.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var fromCharCode=String.fromCharCode;exports2.default=(buf,start,length)=>{let offset=start,end=offset+length,str="";for(;offset<end;){let octet1=buf[offset++];if((octet1&128)===0){str+=fromCharCode(octet1);continue}let octet2=buf[offset++]&63;if((octet1&224)===192){str+=fromCharCode((octet1&31)<<6|octet2);continue}let octet3=buf[offset++]&63;if((octet1&240)===224){str+=fromCharCode((octet1&31)<<12|octet2<<6|octet3);continue}if((octet1&248)===240){let octet4=buf[offset++]&63,unit=(octet1&7)<<18|octet2<<12|octet3<<6|octet4;if(unit>65535){unit-=65536;let unit0=unit>>>10&1023|55296;unit=56320|unit&1023,str+=fromCharCode(unit0,unit)}else str+=fromCharCode(unit)}else str+=fromCharCode(octet1)}return str}}});var require_CachedUtf8Decoder=__commonJS({"../../../../node_modules/@jsonjoy.com/buffers/lib/utf8/CachedUtf8Decoder.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.CachedUtf8Decoder=void 0;var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports)),v10_1=tslib_1.__importDefault(require_v10()),x=1+Math.round(Math.random()*((-1>>>0)-1));function randomU32(min,max){return x^=x<<13,x^=x>>>17,x^=x<<5,(x>>>0)%(max-min+1)+min}var CacheItem=class{constructor(bytes,value){this.bytes=bytes,this.value=value}},CachedUtf8Decoder=class{constructor(){this.caches=[];for(let i=0;i<31;i++)this.caches.push([])}get(bytes,offset,size){let records=this.caches[size-1],len=records.length;FIND_CHUNK:for(let i=0;i<len;i++){let record=records[i],recordBytes=record.bytes;for(let j=0;j<size;j++)if(recordBytes[j]!==bytes[offset+j])continue FIND_CHUNK;return record.value}return null}store(bytes,value){let records=this.caches[bytes.length-1],record=new CacheItem(bytes,value);records.length>=16?records[randomU32(0,15)]=record:records.push(record)}decode(bytes,offset,size){if(!size)return"";let cachedValue=this.get(bytes,offset,size);if(cachedValue!==null)return cachedValue;let value=(0,v10_1.default)(bytes,offset,size),copy=Uint8Array.prototype.slice.call(bytes,offset,offset+size);return this.store(copy,value),value}};exports2.CachedUtf8Decoder=CachedUtf8Decoder}});var require_sharedCachedUtf8Decoder=__commonJS({"../../../../node_modules/@jsonjoy.com/buffers/lib/utf8/sharedCachedUtf8Decoder.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var CachedUtf8Decoder_1=require_CachedUtf8Decoder();exports2.default=new CachedUtf8Decoder_1.CachedUtf8Decoder}});var require_CborDecoderBase=__commonJS({"../../../../node_modules/@jsonjoy.com/json-pack/lib/cbor/CborDecoderBase.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.CborDecoderBase=void 0;var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports)),f16_1=require_f16(),JsonPackExtension_1=require_JsonPackExtension(),JsonPackValue_1=require_JsonPackValue(),Reader_1=require_Reader(),sharedCachedUtf8Decoder_1=tslib_1.__importDefault(require_sharedCachedUtf8Decoder()),CborDecoderBase=class{constructor(reader=new Reader_1.Reader,keyDecoder=sharedCachedUtf8Decoder_1.default){this.reader=reader,this.keyDecoder=keyDecoder}read(uint8){return this.reader.reset(uint8),this.readAny()}decode(uint8){return this.reader.reset(uint8),this.readAny()}val(){return this.readAny()}readAny(){let octet=this.reader.u8(),major=octet>>5,minor=octet&31;return major<4?major<2?major===0?this.readUint(minor):this.readNint(minor):major===2?this.readBin(minor):this.readStr(minor):major<6?major===4?this.readArr(minor):this.readObj(minor):major===6?this.readTag(minor):this.readTkn(minor)}readAnyRaw(octet){let major=octet>>5,minor=octet&31;return major<4?major<2?major===0?this.readUint(minor):this.readNint(minor):major===2?this.readBin(minor):this.readStr(minor):major<6?major===4?this.readArr(minor):this.readObj(minor):major===6?this.readTag(minor):this.readTkn(minor)}readMinorLen(minor){if(minor<24)return minor;switch(minor){case 24:return this.reader.u8();case 25:return this.reader.u16();case 26:return this.reader.u32();case 27:return Number(this.reader.u64());case 31:return-1;default:throw 1}}readUint(minor){if(minor<25)return minor===24?this.reader.u8():minor;if(minor<27)return minor===25?this.reader.u16():this.reader.u32();{let num=this.reader.u64();return num>9007199254740991?num:Number(num)}}readNint(minor){if(minor<25)return minor===24?-this.reader.u8()-1:-minor-1;if(minor<27)return minor===25?-this.reader.u16()-1:-this.reader.u32()-1;{let num=this.reader.u64();return num>9007199254740991-1?-num-BigInt(1):-Number(num)-1}}readBin(minor){let reader=this.reader;if(minor<=23)return reader.buf(minor);switch(minor){case 24:return reader.buf(reader.u8());case 25:return reader.buf(reader.u16());case 26:return reader.buf(reader.u32());case 27:return reader.buf(Number(reader.u64()));case 31:{let size=0,list2=[];for(;this.reader.peak()!==255;){let uint8=this.readBinChunk();size+=uint8.length,list2.push(uint8)}this.reader.x++;let res=new Uint8Array(size),offset=0,length=list2.length;for(let i=0;i<length;i++){let arr=list2[i];res.set(arr,offset),offset+=arr.length}return res}default:throw 1}}readBinChunk(){let octet=this.reader.u8(),major=octet>>5,minor=octet&31;if(major!==2)throw 2;if(minor>27)throw 3;return this.readBin(minor)}readAsStr(){let octet=this.reader.u8(),major=octet>>5,minor=octet&31;if(major!==3)throw 11;return this.readStr(minor)}readStr(minor){let reader=this.reader;if(minor<=23)return reader.utf8(minor);switch(minor){case 24:return reader.utf8(reader.u8());case 25:return reader.utf8(reader.u16());case 26:return reader.utf8(reader.u32());case 27:return reader.utf8(Number(reader.u64()));case 31:{let str="";for(;reader.peak()!==255;)str+=this.readStrChunk();return this.reader.x++,str}default:throw 1}}readStrLen(minor){if(minor<=23)return minor;switch(minor){case 24:return this.reader.u8();case 25:return this.reader.u16();case 26:return this.reader.u32();case 27:return Number(this.reader.u64());default:throw 1}}readStrChunk(){let octet=this.reader.u8(),major=octet>>5,minor=octet&31;if(major!==3)throw 4;if(minor>27)throw 5;return this.readStr(minor)}readArr(minor){let length=this.readMinorLen(minor);return length>=0?this.readArrRaw(length):this.readArrIndef()}readArrRaw(length){let arr=[];for(let i=0;i<length;i++)arr.push(this.readAny());return arr}readArrIndef(){let arr=[];for(;this.reader.peak()!==255;)arr.push(this.readAny());return this.reader.x++,arr}readObj(minor){if(minor<28){let length=minor;switch(minor){case 24:length=this.reader.u8();break;case 25:length=this.reader.u16();break;case 26:length=this.reader.u32();break;case 27:length=Number(this.reader.u64());break}let obj={};for(let i=0;i<length;i++){let key=this.key();if(key==="__proto__")throw 6;let value=this.readAny();obj[key]=value}return obj}else{if(minor===31)return this.readObjIndef();throw 1}}readObjRaw(length){let obj={};for(let i=0;i<length;i++){let key=this.key(),value=this.readAny();obj[key]=value}return obj}readObjIndef(){let obj={};for(;this.reader.peak()!==255;){let key=this.key();if(this.reader.peak()===255)throw 7;let value=this.readAny();obj[key]=value}return this.reader.x++,obj}key(){let octet=this.reader.u8(),major=octet>>5,minor=octet&31;if(major!==3)return String(this.readAnyRaw(octet));let length=this.readStrLen(minor);if(length>31)return this.reader.utf8(length);let key=this.keyDecoder.decode(this.reader.uint8,this.reader.x,length);return this.reader.skip(length),key}readTag(minor){if(minor<=23)return this.readTagRaw(minor);switch(minor){case 24:return this.readTagRaw(this.reader.u8());case 25:return this.readTagRaw(this.reader.u16());case 26:return this.readTagRaw(this.reader.u32());case 27:return this.readTagRaw(Number(this.reader.u64()));default:throw 1}}readTagRaw(tag){return new JsonPackExtension_1.JsonPackExtension(tag,this.readAny())}readTkn(minor){switch(minor){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 24:return new JsonPackValue_1.JsonPackValue(this.reader.u8());case 25:return this.f16();case 26:return this.reader.f32();case 27:return this.reader.f64()}if(minor<=23)return new JsonPackValue_1.JsonPackValue(minor);throw 1}f16(){return(0,f16_1.decodeF16)(this.reader.u16())}};exports2.CborDecoderBase=CborDecoderBase}});var require_CborDecoder=__commonJS({"../../../../node_modules/@jsonjoy.com/json-pack/lib/cbor/CborDecoder.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.CborDecoder=void 0;var CborDecoderBase_1=require_CborDecoderBase(),JsonPackValue_1=require_JsonPackValue(),CborDecoder=class extends CborDecoderBase_1.CborDecoderBase{readAsMap(){let octet=this.reader.u8(),major=octet>>5,minor=octet&31;switch(major){case 5:return this.readMap(minor);default:throw 0}}readMap(minor){let length=this.readMinorLen(minor);return length>=0?this.readMapRaw(length):this.readMapIndef()}readMapRaw(length){let map=new Map;for(let i=0;i<length;i++){let key=this.readAny(),value=this.readAny();map.set(key,value)}return map}readMapIndef(){let map=new Map;for(;this.reader.peak()!==255;){let key=this.readAny();if(this.reader.peak()===255)throw 7;let value=this.readAny();map.set(key,value)}return this.reader.x++,map}skipN(n){for(let i=0;i<n;i++)this.skipAny()}skipAny(){this.skipAnyRaw(this.reader.u8())}skipAnyRaw(octet){let major=octet>>5,minor=octet&31;switch(major){case 0:case 1:this.skipUNint(minor);break;case 2:this.skipBin(minor);break;case 3:this.skipStr(minor);break;case 4:this.skipArr(minor);break;case 5:this.skipObj(minor);break;case 7:this.skipTkn(minor);break;case 6:this.skipTag(minor);break}}skipMinorLen(minor){if(minor<=23)return minor;switch(minor){case 24:return this.reader.u8();case 25:return this.reader.u16();case 26:return this.reader.u32();case 27:return Number(this.reader.u64());case 31:return-1;default:throw 1}}skipUNint(minor){if(!(minor<=23))switch(minor){case 24:return this.reader.skip(1);case 25:return this.reader.skip(2);case 26:return this.reader.skip(4);case 27:return this.reader.skip(8);default:throw 1}}skipBin(minor){let length=this.skipMinorLen(minor);if(length>=0)this.reader.skip(length);else{for(;this.reader.peak()!==255;)this.skipBinChunk();this.reader.x++}}skipBinChunk(){let octet=this.reader.u8(),major=octet>>5,minor=octet&31;if(major!==2)throw 2;if(minor>27)throw 3;this.skipBin(minor)}skipStr(minor){let length=this.skipMinorLen(minor);if(length>=0)this.reader.skip(length);else{for(;this.reader.peak()!==255;)this.skipStrChunk();this.reader.x++}}skipStrChunk(){let octet=this.reader.u8(),major=octet>>5,minor=octet&31;if(major!==3)throw 4;if(minor>27)throw 5;this.skipStr(minor)}skipArr(minor){let length=this.skipMinorLen(minor);if(length>=0)this.skipN(length);else{for(;this.reader.peak()!==255;)this.skipAny();this.reader.x++}}skipObj(minor){let length=this.readMinorLen(minor);if(length>=0)return this.skipN(length*2);for(;this.reader.peak()!==255;){if(this.skipAny(),this.reader.peak()===255)throw 7;this.skipAny()}this.reader.x++}skipTag(minor){if(this.skipMinorLen(minor)<0)throw 1;this.skipAny()}skipTkn(minor){switch(minor){case 24:this.reader.skip(1);return;case 25:this.reader.skip(2);return;case 26:this.reader.skip(4);return;case 27:this.reader.skip(8);return}if(!(minor<=23))throw 1}validate(value,offset=0,size=value.length){this.reader.reset(value),this.reader.x=offset;let start=offset;if(this.skipAny(),this.reader.x-start!==size)throw 8}decodeLevel(value){return this.reader.reset(value),this.readLevel()}readLevel(){let octet=this.reader.u8(),major=octet>>5,minor=octet&31;switch(major){case 4:return this.readArrLevel(minor);case 5:return this.readObjLevel(minor);default:return super.readAnyRaw(octet)}}readPrimitiveOrVal(){switch(this.reader.peak()>>5){case 4:case 5:return this.readAsValue();default:return this.readAny()}}readAsValue(){let reader=this.reader,start=reader.x;this.skipAny();let end=reader.x;return new JsonPackValue_1.JsonPackValue(reader.uint8.subarray(start,end))}readObjLevel(minor){let length=this.readMinorLen(minor);return length>=0?this.readObjRawLevel(length):this.readObjIndefLevel()}readObjRawLevel(length){let obj={};for(let i=0;i<length;i++){let key=this.key(),value=this.readPrimitiveOrVal();obj[key]=value}return obj}readObjIndefLevel(){let obj={};for(;this.reader.peak()!==255;){let key=this.key();if(this.reader.peak()===255)throw 7;let value=this.readPrimitiveOrVal();obj[key]=value}return this.reader.x++,obj}readArrLevel(minor){let length=this.readMinorLen(minor);return length>=0?this.readArrRawLevel(length):this.readArrIndefLevel()}readArrRawLevel(length){let arr=[];for(let i=0;i<length;i++)arr.push(this.readPrimitiveOrVal());return arr}readArrIndefLevel(){let arr=[];for(;this.reader.peak()!==255;)arr.push(this.readPrimitiveOrVal());return this.reader.x++,arr}readHdr(expectedMajor){let octet=this.reader.u8();if(octet>>5!==expectedMajor)throw 0;let minor=octet&31;if(minor<24)return minor;switch(minor){case 24:return this.reader.u8();case 25:return this.reader.u16();case 26:return this.reader.u32();case 27:return Number(this.reader.u64());case 31:return-1}throw 1}readStrHdr(){return this.readHdr(3)}readObjHdr(){return this.readHdr(5)}readArrHdr(){return this.readHdr(4)}findKey(key){let size=this.readObjHdr();for(let i=0;i<size;i++){if(this.key()===key)return this;this.skipAny()}throw 9}findIndex(index2){let size=this.readArrHdr();if(index2>=size)throw 10;for(let i=0;i<index2;i++)this.skipAny();return this}find(path5){for(let i=0;i<path5.length;i++){let segment=path5[i];typeof segment=="string"?this.findKey(segment):this.findIndex(segment)}return this}};exports2.CborDecoder=CborDecoder}});var require_async=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-snapshot/lib/async.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.fromSnapshot=exports2.toSnapshot=void 0;var toSnapshot=async({fs:fs3,path:path5="/",separator="/"})=>{let stats=await fs3.lstat(path5);if(stats.isDirectory()){let list2=await fs3.readdir(path5),entries={},dir=path5.endsWith(separator)?path5:path5+separator,snapshots=await Promise.all(list2.map(child=>(0,exports2.toSnapshot)({fs:fs3,path:`${dir}${child}`,separator})));for(let i=0;i<list2.length;i++)snapshots[i]&&(entries[""+list2[i]]=snapshots[i]);return[0,{},entries]}else if(stats.isFile()){let buf=await fs3.readFile(path5),uint8=new Uint8Array(buf.buffer,buf.byteOffset,buf.byteLength);return[1,{},uint8]}else if(stats.isSymbolicLink())return[2,{target:await fs3.readlink(path5,{encoding:"utf8"})}];return null};exports2.toSnapshot=toSnapshot;var fromSnapshot=async(snapshot,{fs:fs3,path:path5="/",separator="/"})=>{if(snapshot)switch(snapshot[0]){case 0:{path5.endsWith(separator)||(path5=path5+separator);let[,,entries]=snapshot;await fs3.mkdir(path5,{recursive:!0});for(let[name,child]of Object.entries(entries))await(0,exports2.fromSnapshot)(child,{fs:fs3,path:`${path5}${name}`,separator});break}case 1:{let[,,data]=snapshot;await fs3.writeFile(path5,data);break}case 2:{let[,{target}]=snapshot;await fs3.symlink(target,path5);break}}};exports2.fromSnapshot=fromSnapshot}});var require_shared=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-snapshot/lib/shared.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.writer=void 0;var Writer_1=require_Writer();exports2.writer=new Writer_1.Writer(1024*32)}});var require_binary=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-snapshot/lib/binary.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.fromBinarySnapshot=exports2.toBinarySnapshot=exports2.fromBinarySnapshotSync=exports2.toBinarySnapshotSync=void 0;var CborEncoder_1=require_CborEncoder(),CborDecoder_1=require_CborDecoder(),sync_1=require_sync(),async_1=require_async(),shared_1=require_shared(),encoder=new CborEncoder_1.CborEncoder(shared_1.writer),decoder=new CborDecoder_1.CborDecoder,toBinarySnapshotSync=options2=>{let snapshot=(0,sync_1.toSnapshotSync)(options2);return encoder.encode(snapshot)};exports2.toBinarySnapshotSync=toBinarySnapshotSync;var fromBinarySnapshotSync=(uint8,options2)=>{let snapshot=decoder.decode(uint8);(0,sync_1.fromSnapshotSync)(snapshot,options2)};exports2.fromBinarySnapshotSync=fromBinarySnapshotSync;var toBinarySnapshot=async options2=>{let snapshot=await(0,async_1.toSnapshot)(options2);return encoder.encode(snapshot)};exports2.toBinarySnapshot=toBinarySnapshot;var fromBinarySnapshot=async(uint8,options2)=>{let snapshot=decoder.decode(uint8);await(0,async_1.fromSnapshot)(snapshot,options2)};exports2.fromBinarySnapshot=fromBinarySnapshot}});var require_constants13=__commonJS({"../../../../node_modules/@jsonjoy.com/base64/lib/constants.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.hasBuffer=exports2.alphabet=void 0;exports2.alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";exports2.hasBuffer=typeof Buffer=="function"&&typeof Buffer.from=="function"}});var require_createToBase64Bin=__commonJS({"../../../../node_modules/@jsonjoy.com/base64/lib/createToBase64Bin.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.createToBase64Bin=void 0;var constants_1=require_constants13(),createToBase64Bin=(chars=constants_1.alphabet,pad="=")=>{if(chars.length!==64)throw new Error("chars must be 64 characters long");let table2=chars.split("").map(c=>c.charCodeAt(0)),table22=[];for(let c1 of table2)for(let c2 of table2){let two=(c1<<8)+c2;table22.push(two)}let doAddPadding=pad.length===1,E=doAddPadding?pad.charCodeAt(0):0,EE=doAddPadding?E<<8|E:0;return(uint8,start,length,dest,offset)=>{let extraLength=length%3,baseLength=length-extraLength;for(;start<baseLength;start+=3){let o1=uint8[start],o2=uint8[start+1],o3=uint8[start+2],v1=o1<<4|o2>>4,v2=(o2&15)<<8|o3;dest.setInt32(offset,(table22[v1]<<16)+table22[v2]),offset+=4}if(extraLength===1){let o1=uint8[baseLength];doAddPadding?(dest.setInt32(offset,(table22[o1<<4]<<16)+EE),offset+=4):(dest.setInt16(offset,table22[o1<<4]),offset+=2)}else if(extraLength){let o1=uint8[baseLength],o2=uint8[baseLength+1],v1=o1<<4|o2>>4,v2=(o2&15)<<2;doAddPadding?(dest.setInt32(offset,(table22[v1]<<16)+(table2[v2]<<8)+E),offset+=4):(dest.setInt16(offset,table22[v1]),offset+=2,dest.setInt8(offset,table2[v2]),offset+=1)}return offset}};exports2.createToBase64Bin=createToBase64Bin}});var require_toBase64Bin=__commonJS({"../../../../node_modules/@jsonjoy.com/base64/lib/toBase64Bin.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.toBase64Bin=void 0;var createToBase64Bin_1=require_createToBase64Bin();exports2.toBase64Bin=(0,createToBase64Bin_1.createToBase64Bin)()}});var require_JsonEncoder=__commonJS({"../../../../node_modules/@jsonjoy.com/json-pack/lib/json/JsonEncoder.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.JsonEncoder=void 0;var toBase64Bin_1=require_toBase64Bin(),JsonEncoder=class{constructor(writer){this.writer=writer}encode(value){let writer=this.writer;return writer.reset(),this.writeAny(value),writer.flush()}writeUnknown(value){this.writeNull()}writeAny(value){switch(typeof value){case"boolean":return this.writeBoolean(value);case"number":return this.writeNumber(value);case"string":return this.writeStr(value);case"object":{if(value===null)return this.writeNull();switch(value.constructor){case Object:return this.writeObj(value);case Array:return this.writeArr(value);case Uint8Array:return this.writeBin(value);default:return value instanceof Uint8Array?this.writeBin(value):Array.isArray(value)?this.writeArr(value):this.writeUnknown(value)}}case"undefined":return this.writeUndef();default:return this.writeUnknown(value)}}writeNull(){this.writer.u32(1853189228)}writeUndef(){let writer=this.writer;writer.ensureCapacity(35);let view=writer.view,x=writer.x;view.setUint32(x,577003892),x+=4,view.setUint32(x,1631215984),x+=4,view.setUint32(x,1886153059),x+=4,view.setUint32(x,1635019119),x+=4,view.setUint32(x,1848599394),x+=4,view.setUint32(x,1869753442),x+=4,view.setUint32(x,1634952502),x+=4,view.setUint32(x,876296567),x+=4,view.setUint16(x,15677),x+=2,writer.uint8[x++]=34,writer.x=x}writeBoolean(bool){bool?this.writer.u32(1953658213):this.writer.u8u32(102,1634497381)}writeNumber(num){let str=num.toString();this.writer.ascii(str)}writeInteger(int){this.writeNumber(int>>0===int?int:Math.trunc(int))}writeUInteger(uint){this.writeInteger(uint<0?-uint:uint)}writeFloat(float){this.writeNumber(float)}writeBin(buf){let writer=this.writer,length=buf.length;writer.ensureCapacity(41+(length<<1));let view=writer.view,x=writer.x;view.setUint32(x,577003892),x+=4,view.setUint32(x,1631215984),x+=4,view.setUint32(x,1886153059),x+=4,view.setUint32(x,1635019119),x+=4,view.setUint32(x,1848602467),x+=4,view.setUint32(x,1952805933),x+=4,view.setUint32(x,1937011301),x+=4,view.setUint32(x,1634548578),x+=4,view.setUint32(x,1634952502),x+=4,view.setUint16(x,13356),x+=2,x=(0,toBase64Bin_1.toBase64Bin)(buf,0,length,view,x),writer.uint8[x++]=34,writer.x=x}writeStr(str){let writer=this.writer,length=str.length;if(writer.ensureCapacity(length*4+2),length<256){let startX=writer.x,x=startX,uint8=writer.uint8;uint8[x++]=34;for(let i=0;i<length;i++){let code2=str.charCodeAt(i);switch(code2){case 34:case 92:uint8[x++]=92;break}if(code2<32||code2>126){writer.x=startX;let jsonStr2=JSON.stringify(str);writer.ensureCapacity(jsonStr2.length*4+4),writer.utf8(jsonStr2);return}else uint8[x++]=code2}uint8[x++]=34,writer.x=x;return}let jsonStr=JSON.stringify(str);writer.ensureCapacity(jsonStr.length*4+4),writer.utf8(jsonStr)}writeAsciiStr(str){let length=str.length,writer=this.writer;writer.ensureCapacity(length*2+2);let uint8=writer.uint8,x=writer.x;uint8[x++]=34;for(let i=0;i<length;i++){let code2=str.charCodeAt(i);switch(code2){case 34:case 92:uint8[x++]=92;break}uint8[x++]=code2}uint8[x++]=34,writer.x=x}writeArr(arr){let writer=this.writer;writer.u8(91);let last=arr.length-1;for(let i=0;i<last;i++)this.writeAny(arr[i]),writer.u8(44);last>=0&&this.writeAny(arr[last]),writer.u8(93)}writeArrSeparator(){this.writer.u8(44)}writeObj(obj){let writer=this.writer,keys2=Object.keys(obj),length=keys2.length;if(!length)return writer.u16(31613);writer.u8(123);for(let i=0;i<length;i++){let key=keys2[i],value=obj[key];this.writeStr(key),writer.u8(58),this.writeAny(value),writer.u8(44)}writer.uint8[writer.x-1]=125}writeObjSeparator(){this.writer.u8(44)}writeObjKeySeparator(){this.writer.u8(58)}writeStartStr(){throw new Error("Method not implemented.")}writeStrChunk(str){throw new Error("Method not implemented.")}writeEndStr(){throw new Error("Method not implemented.")}writeStartBin(){throw new Error("Method not implemented.")}writeBinChunk(buf){throw new Error("Method not implemented.")}writeEndBin(){throw new Error("Method not implemented.")}writeStartArr(){this.writer.u8(91)}writeArrChunk(item){throw new Error("Method not implemented.")}writeEndArr(){this.writer.u8(93)}writeStartObj(){this.writer.u8(123)}writeObjChunk(key,value){throw new Error("Method not implemented.")}writeEndObj(){this.writer.u8(125)}};exports2.JsonEncoder=JsonEncoder}});var require_createFromBase64Bin=__commonJS({"../../../../node_modules/@jsonjoy.com/base64/lib/createFromBase64Bin.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.createFromBase64Bin=void 0;var constants_1=require_constants13(),createFromBase64Bin=(chars=constants_1.alphabet,pad="=")=>{if(chars.length!==64)throw new Error("chars must be 64 characters long");let max=0;for(let i=0;i<chars.length;i++)max=Math.max(max,chars.charCodeAt(i));let table2=[];for(let i=0;i<=max;i+=1)table2[i]=-1;for(let i=0;i<chars.length;i++)table2[chars.charCodeAt(i)]=i;let PAD=pad.length===1?pad.charCodeAt(0):0;return(view,offset,length)=>{if(!length)return new Uint8Array(0);let padding=0;if(length%4!==0)padding=4-length%4,length+=padding;else{let last=offset+length-1;view.getUint8(last)===PAD&&(padding=1,length>1&&view.getUint8(last-1)===PAD&&(padding=2))}if(length%4!==0)throw new Error("Base64 string length must be a multiple of 4");let mainEnd=offset+length-(padding?4:0),bufferLength=(length>>2)*3-padding,buf=new Uint8Array(bufferLength),j=0,i=offset;for(;i<mainEnd;i+=4){let word2=view.getUint32(i),octet02=word2>>>24,octet12=word2>>>16&255,octet2=word2>>>8&255,octet3=word2&255,sextet02=table2[octet02],sextet12=table2[octet12],sextet2=table2[octet2],sextet3=table2[octet3];if(sextet02<0||sextet12<0||sextet2<0||sextet3<0)throw new Error("INVALID_BASE64_SEQ");buf[j]=sextet02<<2|sextet12>>4,buf[j+1]=sextet12<<4|sextet2>>2,buf[j+2]=sextet2<<6|sextet3,j+=3}if(!padding)return buf;if(padding===1){let word2=view.getUint16(mainEnd),octet02=word2>>8,octet12=word2&255,octet2=view.getUint8(mainEnd+2),sextet02=table2[octet02],sextet12=table2[octet12],sextet2=table2[octet2];if(sextet02<0||sextet12<0||sextet2<0)throw new Error("INVALID_BASE64_SEQ");return buf[j]=sextet02<<2|sextet12>>4,buf[j+1]=sextet12<<4|sextet2>>2,buf}let word=view.getUint16(mainEnd),octet0=word>>8,octet1=word&255,sextet0=table2[octet0],sextet1=table2[octet1];if(sextet0<0||sextet1<0)throw new Error("INVALID_BASE64_SEQ");return buf[j]=sextet0<<2|sextet1>>4,buf}};exports2.createFromBase64Bin=createFromBase64Bin}});var require_fromBase64Bin=__commonJS({"../../../../node_modules/@jsonjoy.com/base64/lib/fromBase64Bin.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.fromBase64Bin=void 0;var createFromBase64Bin_1=require_createFromBase64Bin();exports2.fromBase64Bin=(0,createFromBase64Bin_1.createFromBase64Bin)()}});var require_util12=__commonJS({"../../../../node_modules/@jsonjoy.com/json-pack/lib/json/util.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.findEndingQuote=void 0;var findEndingQuote=(uint8,x)=>{let len=uint8.length,char=uint8[x],prev=0;for(;x<len&&!(char===34&&prev!==92);)char===92&&prev===92?prev=0:prev=char,char=uint8[++x];if(x===len)throw new Error("Invalid JSON");return x};exports2.findEndingQuote=findEndingQuote}});var require_JsonDecoder=__commonJS({"../../../../node_modules/@jsonjoy.com/json-pack/lib/json/JsonDecoder.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.JsonDecoder=exports2.readKey=void 0;var decodeUtf8_1=require_decodeUtf8(),Reader_1=require_Reader(),fromBase64Bin_1=require_fromBase64Bin(),util_1=require_util12(),REGEX_REPLACE_ESCAPED_CHARS=/\\(b|f|n|r|t|"|\/|\\)/g,escapedCharReplacer=char=>{switch(char){case"\\b":return"\b";case"\\f":return"\f";case"\\n":return`
`;case"\\r":return"\r";case"\\t":return"	";case'\\"':return'"';case"\\/":return"/";case"\\\\":return"\\"}return char},hasBinaryPrefix=(u8,x)=>u8[x]===100&&u8[x+1]===97&&u8[x+2]===116&&u8[x+3]===97&&u8[x+4]===58&&u8[x+5]===97&&u8[x+6]===112&&u8[x+7]===112&&u8[x+8]===108&&u8[x+9]===105&&u8[x+10]===99&&u8[x+11]===97&&u8[x+12]===116&&u8[x+13]===105&&u8[x+14]===111&&u8[x+15]===110&&u8[x+16]===47&&u8[x+17]===111&&u8[x+18]===99&&u8[x+19]===116&&u8[x+20]===101&&u8[x+21]===116&&u8[x+22]===45&&u8[x+23]===115&&u8[x+24]===116&&u8[x+25]===114&&u8[x+26]===101&&u8[x+27]===97&&u8[x+28]===109&&u8[x+29]===59&&u8[x+30]===98&&u8[x+31]===97&&u8[x+32]===115&&u8[x+33]===101&&u8[x+34]===54&&u8[x+35]===52&&u8[x+36]===44,isUndefined=(u8,x)=>u8[x++]===97&&u8[x++]===116&&u8[x++]===97&&u8[x++]===58&&u8[x++]===97&&u8[x++]===112&&u8[x++]===112&&u8[x++]===108&&u8[x++]===105&&u8[x++]===99&&u8[x++]===97&&u8[x++]===116&&u8[x++]===105&&u8[x++]===111&&u8[x++]===110&&u8[x++]===47&&u8[x++]===99&&u8[x++]===98&&u8[x++]===111&&u8[x++]===114&&u8[x++]===44&&u8[x++]===98&&u8[x++]===97&&u8[x++]===115&&u8[x++]===101&&u8[x++]===54&&u8[x++]===52&&u8[x++]===59&&u8[x++]===57&&u8[x++]===119&&u8[x++]===61&&u8[x++]===61&&u8[x++]===34,fromCharCode=String.fromCharCode,readKey=reader=>{let buf=reader.uint8,len=buf.length,points=[],x=reader.x,prev=0;for(;x<len;){let code2=buf[x++];if((code2&128)===0)if(prev===92){switch(code2){case 98:code2=8;break;case 102:code2=12;break;case 110:code2=10;break;case 114:code2=13;break;case 116:code2=9;break;case 34:code2=34;break;case 47:code2=47;break;case 92:code2=92;break;default:throw new Error("Invalid JSON")}prev=0}else{if(code2===34)break;if(prev=code2,prev===92)continue}else{let octet2=buf[x++]&63;if((code2&224)===192)code2=(code2&31)<<6|octet2;else{let octet3=buf[x++]&63;if((code2&240)===224)code2=(code2&31)<<12|octet2<<6|octet3;else if((code2&248)===240){let octet4=buf[x++]&63,unit=(code2&7)<<18|octet2<<12|octet3<<6|octet4;if(unit>65535){unit-=65536;let unit0=unit>>>10&1023|55296;unit=56320|unit&1023,points.push(unit0),code2=unit}else code2=unit}}}points.push(code2)}return reader.x=x,fromCharCode.apply(String,points)};exports2.readKey=readKey;var JsonDecoder=class{constructor(){this.reader=new Reader_1.Reader}read(uint8){return this.reader.reset(uint8),this.readAny()}decode(uint8){return this.reader.reset(uint8),this.readAny()}readAny(){this.skipWhitespace();let reader=this.reader,x=reader.x,uint8=reader.uint8,char=uint8[x];switch(char){case 34:{if(uint8[x+1]===100){let bin=this.tryReadBin();if(bin)return bin;if(isUndefined(uint8,x+2)){reader.x=x+35;return}}return this.readStr()}case 91:return this.readArr();case 102:return this.readFalse();case 110:return this.readNull();case 116:return this.readTrue();case 123:return this.readObj();default:if(char>=48&&char<=57||char===45)return this.readNum();throw new Error("Invalid JSON")}}skipWhitespace(){let reader=this.reader,uint8=reader.uint8,x=reader.x,char=0;for(;;)switch(char=uint8[x],char){case 32:case 9:case 10:case 13:x++;continue;default:reader.x=x;return}}readNull(){if(this.reader.u32()!==1853189228)throw new Error("Invalid JSON");return null}readTrue(){if(this.reader.u32()!==1953658213)throw new Error("Invalid JSON");return!0}readFalse(){let reader=this.reader;if(reader.u8()!==102||reader.u32()!==1634497381)throw new Error("Invalid JSON");return!1}readBool(){let reader=this.reader;switch(reader.uint8[reader.x]){case 102:return this.readFalse();case 116:return this.readTrue();default:throw new Error("Invalid JSON")}}readNum(){let reader=this.reader,uint8=reader.uint8,x=reader.x,c=uint8[x++],c1=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1);if(num!==num)throw new Error("Invalid JSON");return num}let c2=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2);if(num!==num)throw new Error("Invalid JSON");return num}let c3=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3);if(num!==num)throw new Error("Invalid JSON");return num}let c4=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4);if(num!==num)throw new Error("Invalid JSON");return num}let c5=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4,c5);if(num!==num)throw new Error("Invalid JSON");return num}let c6=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4,c5,c6);if(num!==num)throw new Error("Invalid JSON");return num}let c7=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4,c5,c6,c7);if(num!==num)throw new Error("Invalid JSON");return num}let c8=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4,c5,c6,c7,c8);if(num!==num)throw new Error("Invalid JSON");return num}let c9=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4,c5,c6,c7,c8,c9);if(num!==num)throw new Error("Invalid JSON");return num}let c10=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4,c5,c6,c7,c8,c9,c10);if(num!==num)throw new Error("Invalid JSON");return num}let c11=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11);if(num!==num)throw new Error("Invalid JSON");return num}let c12=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12);if(num!==num)throw new Error("Invalid JSON");return num}let c13=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,c13);if(num!==num)throw new Error("Invalid JSON");return num}let c14=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,c13,c14);if(num!==num)throw new Error("Invalid JSON");return num}let c15=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,c13,c14,c15);if(num!==num)throw new Error("Invalid JSON");return num}let c16=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,c13,c14,c15,c16);if(num!==num)throw new Error("Invalid JSON");return num}let c17=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,c13,c14,c15,c16,c17);if(num!==num)throw new Error("Invalid JSON");return num}let c18=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,c13,c14,c15,c16,c17,c18);if(num!==num)throw new Error("Invalid JSON");return num}let c19=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,c13,c14,c15,c16,c17,c18,c19);if(num!==num)throw new Error("Invalid JSON");return num}let c20=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,c13,c14,c15,c16,c17,c18,c19,c20);if(num!==num)throw new Error("Invalid JSON");return num}let c21=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,c13,c14,c15,c16,c17,c18,c19,c20,c21);if(num!==num)throw new Error("Invalid JSON");return num}let c22=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,c13,c14,c15,c16,c17,c18,c19,c20,c21,c22);if(num!==num)throw new Error("Invalid JSON");return num}let c23=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,c13,c14,c15,c16,c17,c18,c19,c20,c21,c22,c23);if(num!==num)throw new Error("Invalid JSON");return num}let c24=c;if(c=uint8[x++],!c||(c<45||c>57)&&c!==43&&c!==69&&c!==101){reader.x=x-1;let num=+fromCharCode(c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,c13,c14,c15,c16,c17,c18,c19,c20,c21,c22,c23,c24);if(num!==num)throw new Error("Invalid JSON");return num}throw new Error("Invalid JSON")}readStr(){let reader=this.reader,uint8=reader.uint8;if(uint8[reader.x++]!==34)throw new Error("Invalid JSON");let x0=reader.x,x1=(0,util_1.findEndingQuote)(uint8,x0),str=(0,decodeUtf8_1.decodeUtf8)(uint8,x0,x1-x0);return str=str.replace(REGEX_REPLACE_ESCAPED_CHARS,escapedCharReplacer),reader.x=x1+1,str}tryReadBin(){let reader=this.reader,u8=reader.uint8,x=reader.x;if(u8[x++]!==34||!hasBinaryPrefix(u8,x))return;x+=37;let x0=x;x=(0,util_1.findEndingQuote)(u8,x),reader.x=x0;let bin=(0,fromBase64Bin_1.fromBase64Bin)(reader.view,x0,x-x0);return reader.x=x+1,bin}readBin(){let reader=this.reader,u8=reader.uint8,x=reader.x;if(u8[x++]!==34)throw new Error("Invalid JSON");if(!hasBinaryPrefix(u8,x))throw new Error("Invalid JSON");x+=37;let x0=x;x=(0,util_1.findEndingQuote)(u8,x),reader.x=x0;let bin=(0,fromBase64Bin_1.fromBase64Bin)(reader.view,x0,x-x0);return reader.x=x+1,bin}readArr(){let reader=this.reader;if(reader.u8()!==91)throw new Error("Invalid JSON");let arr=[],uint8=reader.uint8,first=!0;for(;;){this.skipWhitespace();let char=uint8[reader.x];if(char===93)return reader.x++,arr;if(char===44)reader.x++;else if(!first)throw new Error("Invalid JSON");this.skipWhitespace(),arr.push(this.readAny()),first=!1}}readObj(){let reader=this.reader;if(reader.u8()!==123)throw new Error("Invalid JSON");let obj={},uint8=reader.uint8,first=!0;for(;;){this.skipWhitespace();let char=uint8[reader.x];if(char===125)return reader.x++,obj;if(char===44)reader.x++;else if(!first)throw new Error("Invalid JSON");if(this.skipWhitespace(),char=uint8[reader.x++],char!==34)throw new Error("Invalid JSON");let key=(0,exports2.readKey)(reader);if(key==="__proto__")throw new Error("Invalid JSON");if(this.skipWhitespace(),reader.u8()!==58)throw new Error("Invalid JSON");this.skipWhitespace(),obj[key]=this.readAny(),first=!1}}};exports2.JsonDecoder=JsonDecoder}});var require_json2=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-snapshot/lib/json.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.fromJsonSnapshot=exports2.toJsonSnapshot=exports2.fromJsonSnapshotSync=exports2.toJsonSnapshotSync=void 0;var JsonEncoder_1=require_JsonEncoder(),JsonDecoder_1=require_JsonDecoder(),sync_1=require_sync(),async_1=require_async(),shared_1=require_shared(),encoder=new JsonEncoder_1.JsonEncoder(shared_1.writer),decoder=new JsonDecoder_1.JsonDecoder,toJsonSnapshotSync=options2=>{let snapshot=(0,sync_1.toSnapshotSync)(options2);return encoder.encode(snapshot)};exports2.toJsonSnapshotSync=toJsonSnapshotSync;var fromJsonSnapshotSync=(uint8,options2)=>{let snapshot=decoder.read(uint8);(0,sync_1.fromSnapshotSync)(snapshot,options2)};exports2.fromJsonSnapshotSync=fromJsonSnapshotSync;var toJsonSnapshot=async options2=>{let snapshot=await(0,async_1.toSnapshot)(options2);return encoder.encode(snapshot)};exports2.toJsonSnapshot=toJsonSnapshot;var fromJsonSnapshot=async(uint8,options2)=>{let snapshot=decoder.read(uint8);await(0,async_1.fromSnapshot)(snapshot,options2)};exports2.fromJsonSnapshot=fromJsonSnapshot}});var require_lib8=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-snapshot/lib/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports));tslib_1.__exportStar(require_constants12(),exports2);tslib_1.__exportStar(require_sync(),exports2);tslib_1.__exportStar(require_binary(),exports2);tslib_1.__exportStar(require_json2(),exports2)}});var require_options2=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node/lib/options.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.getWriteFileOptions=exports2.writeFileDefaults=exports2.getRealpathOptsAndCb=exports2.getRealpathOptions=exports2.getStatfsOptsAndCb=exports2.getStatfsOptions=exports2.getStatOptsAndCb=exports2.getStatOptions=exports2.getAppendFileOptsAndCb=exports2.getAppendFileOpts=exports2.getOpendirOptsAndCb=exports2.getOpendirOptions=exports2.getReaddirOptsAndCb=exports2.getReaddirOptions=exports2.getReadFileOptions=exports2.getRmOptsAndCb=exports2.getRmdirOptions=exports2.getDefaultOptsAndCb=exports2.getDefaultOpts=exports2.optsDefaults=exports2.getMkdirOptions=void 0;exports2.getOptions=getOptions;exports2.optsGenerator=optsGenerator;exports2.optsAndCbGenerator=optsAndCbGenerator;var fs_node_utils_1=require_lib4(),util_1=require_util11(),mkdirDefaults={mode:511,recursive:!1},getMkdirOptions=options2=>typeof options2=="number"?Object.assign({},mkdirDefaults,{mode:options2}):Object.assign({},mkdirDefaults,options2);exports2.getMkdirOptions=getMkdirOptions;var ERRSTR_OPTS=tipeof=>`Expected options to be either an object or a string, but got ${tipeof} instead`;function getOptions(defaults,options2){let opts;if(options2){let tipeof=typeof options2;switch(tipeof){case"string":opts=Object.assign({},defaults,{encoding:options2});break;case"object":opts=Object.assign({},defaults,options2);break;default:throw TypeError(ERRSTR_OPTS(tipeof))}}else return defaults;return opts.encoding!=="buffer"&&(0,fs_node_utils_1.assertEncoding)(opts.encoding),opts}function optsGenerator(defaults){return options2=>getOptions(defaults,options2)}function optsAndCbGenerator(getOpts){return(options2,callback)=>typeof options2=="function"?[getOpts(),options2]:[getOpts(options2),(0,util_1.validateCallback)(callback)]}exports2.optsDefaults={encoding:"utf8"};exports2.getDefaultOpts=optsGenerator(exports2.optsDefaults);exports2.getDefaultOptsAndCb=optsAndCbGenerator(exports2.getDefaultOpts);var rmdirDefaults={recursive:!1},getRmdirOptions=options2=>Object.assign({},rmdirDefaults,options2);exports2.getRmdirOptions=getRmdirOptions;var getRmOpts=optsGenerator(exports2.optsDefaults);exports2.getRmOptsAndCb=optsAndCbGenerator(getRmOpts);var readFileOptsDefaults={flag:"r"};exports2.getReadFileOptions=optsGenerator(readFileOptsDefaults);var readdirDefaults={encoding:"utf8",recursive:!1,withFileTypes:!1};exports2.getReaddirOptions=optsGenerator(readdirDefaults);exports2.getReaddirOptsAndCb=optsAndCbGenerator(exports2.getReaddirOptions);var opendirDefaults={encoding:"utf8",bufferSize:32,recursive:!1};exports2.getOpendirOptions=optsGenerator(opendirDefaults);exports2.getOpendirOptsAndCb=optsAndCbGenerator(exports2.getOpendirOptions);var appendFileDefaults={encoding:"utf8",mode:438,flag:fs_node_utils_1.FLAGS[fs_node_utils_1.FLAGS.a]};exports2.getAppendFileOpts=optsGenerator(appendFileDefaults);exports2.getAppendFileOptsAndCb=optsAndCbGenerator(exports2.getAppendFileOpts);var statDefaults={bigint:!1},getStatOptions=(options2={})=>Object.assign({},statDefaults,options2);exports2.getStatOptions=getStatOptions;var getStatOptsAndCb=(options2,callback)=>typeof options2=="function"?[(0,exports2.getStatOptions)(),options2]:[(0,exports2.getStatOptions)(options2),(0,util_1.validateCallback)(callback)];exports2.getStatOptsAndCb=getStatOptsAndCb;var statfsDefaults={bigint:!1},getStatfsOptions=(options2={})=>Object.assign({},statfsDefaults,options2);exports2.getStatfsOptions=getStatfsOptions;var getStatfsOptsAndCb=(options2,callback)=>typeof options2=="function"?[(0,exports2.getStatfsOptions)(),options2]:[(0,exports2.getStatfsOptions)(options2),(0,util_1.validateCallback)(callback)];exports2.getStatfsOptsAndCb=getStatfsOptsAndCb;var realpathDefaults=exports2.optsDefaults;exports2.getRealpathOptions=optsGenerator(realpathDefaults);exports2.getRealpathOptsAndCb=optsAndCbGenerator(exports2.getRealpathOptions);exports2.writeFileDefaults={encoding:"utf8",mode:438,flag:fs_node_utils_1.FLAGS[fs_node_utils_1.FLAGS.w]};exports2.getWriteFileOptions=optsGenerator(exports2.writeFileDefaults)}});var require_Dir=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node/lib/Dir.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.Dir=void 0;var util_1=require_util11(),Dirent_1=require_Dirent(),errors=require_errors7(),Dir=class{constructor(link3,options2){this.link=link3,this.options=options2,this.iteratorInfo=[],this.closed=!1,this.operationQueue=null,this.path=link3.getPath(),this.iteratorInfo.push(link3.children[Symbol.iterator]())}closeBase(){}readBase(iteratorInfo){let done,value,name,link3;do{do if({done,value}=iteratorInfo[iteratorInfo.length-1].next(),!done)[name,link3]=value;else break;while(name==="."||name==="..");if(done){if(iteratorInfo.pop(),iteratorInfo.length===0)break;done=!1}else return this.options.recursive&&link3.children.size&&iteratorInfo.push(link3.children[Symbol.iterator]()),Dirent_1.default.build(link3,this.options.encoding)}while(!done);return null}close(callback){if(callback===void 0)return this.closed?Promise.reject(new errors.Error("ERR_DIR_CLOSED")):new Promise((resolve,reject)=>{this.close(err=>{err?reject(err):resolve()})});if((0,util_1.validateCallback)(callback),this.closed){process.nextTick(callback,new errors.Error("ERR_DIR_CLOSED"));return}if(this.operationQueue!==null){this.operationQueue.push(()=>{this.close(callback)});return}this.closed=!0;try{this.closeBase(),process.nextTick(callback)}catch(err){process.nextTick(callback,err)}}closeSync(){if(this.closed)throw new errors.Error("ERR_DIR_CLOSED");if(this.operationQueue!==null)throw new errors.Error("ERR_DIR_CONCURRENT_OPERATION");this.closed=!0,this.closeBase()}read(callback){if(callback===void 0)return new Promise((resolve,reject)=>{this.read((err,result)=>{err?reject(err):resolve(result??null)})});if((0,util_1.validateCallback)(callback),this.closed){process.nextTick(callback,new errors.Error("ERR_DIR_CLOSED"));return}if(this.operationQueue!==null){this.operationQueue.push(()=>{this.read(callback)});return}this.operationQueue=[];try{let result=this.readBase(this.iteratorInfo);process.nextTick(()=>{let queue=this.operationQueue;this.operationQueue=null;for(let op of queue)op();callback(null,result)})}catch(err){process.nextTick(()=>{let queue=this.operationQueue;this.operationQueue=null;for(let op of queue)op();callback(err)})}}readSync(){if(this.closed)throw new errors.Error("ERR_DIR_CLOSED");if(this.operationQueue!==null)throw new errors.Error("ERR_DIR_CONCURRENT_OPERATION");return this.readBase(this.iteratorInfo)}[Symbol.asyncIterator](){return{next:async()=>{try{let dirEnt=await this.read();return dirEnt!==null?{done:!1,value:dirEnt}:{done:!0,value:void 0}}catch(err){throw err}},[Symbol.asyncIterator](){return this}}}[Symbol.asyncDispose](){return this.close()}[Symbol.dispose](){this.closeSync()}};exports2.Dir=Dir}});var require_lib9=__commonJS({"../../../../node_modules/glob-to-regex.js/lib/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.toMatcher=exports2.toRegex=void 0;var escapeRe=ch=>/[.^$+{}()|\\]/.test(ch)?`\\${ch}`:ch,parseExtGlob=(pattern,startIdx,prefix,options2)=>{let i=startIdx,parts=[],cur="",depth=1;for(;i<pattern.length&&depth>0;){let ch=pattern[i];if(ch==="(")depth++,cur+=ch,i++;else if(ch===")")if(depth--,depth===0){parts.push(cur),i++;break}else cur+=ch,i++;else ch==="|"&&depth===1?(parts.push(cur),cur="",i++):(cur+=ch,i++)}if(depth!==0)return;let alternatives="",length=parts.length;for(let j=0;j<length;j++)alternatives+=(alternatives?"|":"")+(0,exports2.toRegex)(parts[j],options2).source.replace(/^\^/,"").replace(/\$$/,"");switch(prefix){case"?":return[`(?:${alternatives})?`,i];case"*":return[`(?:${alternatives})*`,i];case"+":return[`(?:${alternatives})+`,i];case"@":return[`(?:${alternatives})`,i];case"!":return[`(?!${alternatives})[^/]*`,i]}},toRegex=(pattern,options2)=>{let regexStr="",i=0,parseBraceGroup=()=>{i++;let parts=[],cur="",closed=!1;for(;i<pattern.length;){let ch=pattern[i];if(ch==="}"){parts.push(cur),i++,closed=!0;break}if(ch===","){parts.push(cur),cur="",i++;continue}cur+=ch,i++}return closed?`(?:${parts.map(p=>(0,exports2.toRegex)(p,options2).source.replace(/^\^/,"").replace(/\$$/,"")).join("|")})`:"\\{"+escapeRe(cur)},extglob=!!options2?.extglob;for(;i<pattern.length;){let char=pattern[i];if(extglob&&pattern[i+1]==="("&&(char==="?"||char==="*"||char==="+"||char==="@"||char==="!")){let result=parseExtGlob(pattern,i+2,char,options2);if(result){regexStr+=result[0],i=result[1];continue}}switch(char){case"*":{if(pattern[i+1]==="*"){let j=i+2;for(;pattern[j]==="*";)j++;pattern[j]==="/"?(regexStr+="(?:.*/)?",i=j+1):(regexStr+=".*",i=j)}else regexStr+="[^/]*",i++;break}case"?":regexStr+="[^/]",i++;break;case"[":{let cls="[";for(i++,i<pattern.length&&pattern[i]==="!"&&(cls+="^",i++),i<pattern.length&&pattern[i]==="]"&&(cls+="]",i++);i<pattern.length&&pattern[i]!=="]";){let ch=pattern[i];cls+=ch==="\\"?"\\\\":ch,i++}if(i<pattern.length&&pattern[i]==="]")cls+="]",i++;else{regexStr+="\\[";continue}regexStr+=cls;break}case"{":{regexStr+=parseBraceGroup();break}case"/":regexStr+="/",i++;break;case".":case"^":case"$":case"+":case"(":case")":case"|":case"\\":regexStr+=`\\${char}`,i++;break;default:regexStr+=char,i++;break}}let flags=options2?.nocase?"i":"";return new RegExp("^"+regexStr+"$",flags)};exports2.toRegex=toRegex;var isRegExp2=/^\/(.{1,4096})\/([gimsuy]{0,6})$/,toMatcher=(pattern,options2)=>{let regexes=[],patterns=Array.isArray(pattern)?pattern:[pattern];for(let pat of patterns)if(typeof pat=="string"){let match2=isRegExp2.exec(pat);if(match2){let[,expr,flags]=match2;regexes.push(new RegExp(expr,flags))}else regexes.push((0,exports2.toRegex)(pat,options2))}else regexes.push(pat);return regexes.length?new Function("p","return "+regexes.map(r=>r+".test(p)").join("||")):()=>!1};exports2.toMatcher=toMatcher}});var require_glob2=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node/lib/glob.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.globSync=globSync;var path_1=require_path(),glob_to_regex_js_1=require_lib9(),util_1=require_util11(),pathJoin=path_1.posix.join,pathRelative=path_1.posix.relative,pathResolve=path_1.posix.resolve;function matchesPattern(path5,pattern){return(0,glob_to_regex_js_1.toRegex)(pattern).test(path5)}function isExcluded(path5,exclude){return exclude?typeof exclude=="function"?exclude(path5):(Array.isArray(exclude)?exclude:[exclude]).some(pattern=>matchesPattern(path5,pattern)):!1}function walkDirectory(fs3,dir,patterns,options2,currentDepth=0){let results=[],maxDepth=options2.maxdepth??1/0,baseCwd=options2.cwd?(0,util_1.pathToFilename)(options2.cwd):process.cwd();if(currentDepth>maxDepth)return results;try{let entries=fs3.readdirSync(dir,{withFileTypes:!0});for(let entry of entries){let fullPath=pathJoin(dir,entry.name.toString()),relativePath=pathRelative(baseCwd,fullPath);if(isExcluded(relativePath,options2.exclude))continue;if(patterns.some(pattern=>matchesPattern(relativePath,pattern))&&results.push(relativePath),entry.isDirectory()&&currentDepth<maxDepth){let subResults=walkDirectory(fs3,fullPath,patterns,options2,currentDepth+1);results.push(...subResults)}}}catch{}return results}function globSync(fs3,pattern,options2={}){let cwd=options2.cwd?(0,util_1.pathToFilename)(options2.cwd):process.cwd(),resolvedCwd=pathResolve(cwd),globOptions={cwd:resolvedCwd,exclude:options2.exclude,maxdepth:options2.maxdepth,withFileTypes:options2.withFileTypes||!1},results=[];if(path_1.posix.isAbsolute(pattern)){let dir=path_1.posix.dirname(pattern),patternBasename=path_1.posix.basename(pattern),dirResults=walkDirectory(fs3,dir,[patternBasename],{...globOptions,cwd:dir});results.push(...dirResults.map(r=>path_1.posix.resolve(dir,r)))}else{let dirResults=walkDirectory(fs3,resolvedCwd,[pattern],globOptions);results.push(...dirResults)}return results=[...new Set(results)].sort(),results}}});var require_volume=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node/lib/volume.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.FSWatcher=exports2.StatWatcher=exports2.Volume=void 0;exports2.pathToSteps=pathToSteps;exports2.dataToStr=dataToStr;exports2.toUnixTimestamp=toUnixTimestamp;var path_1=require_path(),fs_core_1=require_lib5(),util_1=require_util10(),Stats_1=require_Stats(),Dirent_1=require_Dirent(),StatFs_1=require_StatFs(),buffer_1=require_buffer2(),setTimeoutUnref_1=require_setTimeoutUnref(),stream_1=require_stream2(),fs_node_utils_1=require_lib4(),events_1=require_events2(),FileHandle_1=require_FileHandle(),util_2=require_util9(),FsPromises_1=require_FsPromises(),fs_print_1=require_lib7(),fsSnapshot=require_lib8(),fs_node_utils_2=require_lib4(),errors=require_errors7(),options_1=require_options2(),util_3=require_util11(),Dir_1=require_Dir(),resolveCrossPlatform=path_1.resolve,{O_SYMLINK,F_OK,R_OK,W_OK,X_OK,COPYFILE_EXCL,COPYFILE_FICLONE_FORCE}=fs_node_utils_1.constants,pathSep=path_1.posix?path_1.posix.sep:path_1.sep,pathRelative=path_1.posix?path_1.posix.relative:path_1.relative,pathJoin=path_1.posix?path_1.posix.join:path_1.join,pathDirname=path_1.posix?path_1.posix.dirname:path_1.dirname,pathNormalize=path_1.posix?path_1.posix.normalize:path_1.normalize,kMinPoolSpace=128;function pathToSteps(path5){return(0,fs_core_1.filenameToSteps)((0,util_3.pathToFilename)(path5))}function dataToStr(data,encoding=fs_node_utils_1.ENCODING_UTF8){return buffer_1.Buffer.isBuffer(data)?data.toString(encoding):data instanceof Uint8Array?(0,buffer_1.bufferFrom)(data).toString(encoding):String(data)}function toUnixTimestamp(time){if(typeof time=="string"&&+time==time)return+time;if(time instanceof Date)return time.getTime()/1e3;if(isFinite(time))return time<0?Date.now()/1e3:time;throw new Error("Cannot parse time: "+time)}function validateUid(uid){if(typeof uid!="number")throw TypeError(fs_node_utils_2.ERRSTR.UID)}function validateGid(gid){if(typeof gid!="number")throw TypeError(fs_node_utils_2.ERRSTR.GID)}var Volume2=class{get promises(){if(this.promisesApi===null)throw new Error("Promise is not supported in this environment.");return this.promisesApi}constructor(_core=new fs_core_1.Superblock){this._core=_core,this.promisesApi=new FsPromises_1.FsPromises(this,FileHandle_1.FileHandle),this.openSync=(path5,flags,mode=438)=>{let modeNum=(0,util_3.modeToNumber)(mode),fileName=(0,util_3.pathToFilename)(path5),flagsNum=(0,util_3.flagsToNumber)(flags);return this._core.open(fileName,flagsNum,modeNum,!(flagsNum&O_SYMLINK))},this.open=(path5,flags,a,b)=>{let mode=a,callback=b;typeof a=="function"&&(mode=438,callback=a),mode=mode||438;let modeNum=(0,util_3.modeToNumber)(mode),fileName=(0,util_3.pathToFilename)(path5),flagsNum=(0,util_3.flagsToNumber)(flags);this.wrapAsync(this._core.open,[fileName,flagsNum,modeNum,!(flagsNum&O_SYMLINK)],callback)},this.closeSync=fd=>{this._core.close(fd)},this.close=(fd,callback)=>{(0,fs_core_1.validateFd)(fd);let file=this._core.getFileByFdOrThrow(fd,"close");this.wrapAsync(this._core.close,[file.fd],callback)},this.readSync=(fd,buffer,offset,length,position)=>((0,fs_core_1.validateFd)(fd),this._core.read(fd,buffer,offset,length,position)),this.read=(fd,buffer,offset,length,position,callback)=>{if((0,util_3.validateCallback)(callback),length===0)return queueMicrotask(()=>{callback&&callback(null,0,buffer)});Promise.resolve().then(()=>{try{let bytes=this._core.read(fd,buffer,offset,length,position);callback(null,bytes,buffer)}catch(err){callback(err)}})},this.readv=(fd,buffers,a,b)=>{let position=a,callback=b;typeof a=="function"&&([position,callback]=[null,a]),(0,util_3.validateCallback)(callback),Promise.resolve().then(()=>{try{let bytes=this._core.readv(fd,buffers,position);callback(null,bytes,buffers)}catch(err){callback(err)}})},this.readvSync=(fd,buffers,position)=>((0,fs_core_1.validateFd)(fd),this._core.readv(fd,buffers,position??null)),this._readfile=(id,flagsNum,encoding)=>{let result,userOwnsFd=typeof id=="number"&&(0,fs_core_1.isFd)(id),fd;if(userOwnsFd)fd=id;else{let filename=(0,util_3.pathToFilename)(id),originalPath=String(id),hasTrailingSlash=originalPath.length>1&&originalPath.endsWith("/"),link3=this._core.getResolvedLinkOrThrow(filename,"open"),node=link3.getNode();if(node.isDirectory())throw(0,util_3.createError)("EISDIR","open",link3.getPath());if(hasTrailingSlash&&node.isFile())throw(0,util_3.createError)("ENOTDIR","open",originalPath);fd=this.openSync(id,flagsNum)}try{result=(0,util_3.bufferToEncoding)(this._core.getFileByFdOrThrow(fd).getBuffer(),encoding)}finally{userOwnsFd||this.closeSync(fd)}return result},this.readFileSync=(file,options2)=>{let opts=(0,options_1.getReadFileOptions)(options2),flagsNum=(0,util_3.flagsToNumber)(opts.flag);return this._readfile(file,flagsNum,opts.encoding)},this.readFile=(id,a,b)=>{let[opts,callback]=(0,options_1.optsAndCbGenerator)(options_1.getReadFileOptions)(a,b),flagsNum=(0,util_3.flagsToNumber)(opts.flag);this.wrapAsync(this._readfile,[id,flagsNum,opts.encoding],callback)},this.writeSync=(fd,a,b,c,d)=>{let[,buf,offset,length,position]=(0,util_3.getWriteSyncArgs)(fd,a,b,c,d);return this._write(fd,buf,offset,length,position)},this.write=(fd,a,b,c,d,e)=>{let[,asStr,buf,offset,length,position,cb]=(0,util_3.getWriteArgs)(fd,a,b,c,d,e);Promise.resolve().then(()=>{try{let bytes=this._write(fd,buf,offset,length,position);asStr?cb(null,bytes,a):cb(null,bytes,buf)}catch(err){cb(err)}})},this.writev=(fd,buffers,a,b)=>{let position=a,callback=b;typeof a=="function"&&([position,callback]=[null,a]),(0,util_3.validateCallback)(callback),Promise.resolve().then(()=>{try{let bytes=this.writevBase(fd,buffers,position);callback(null,bytes,buffers)}catch(err){callback(err)}})},this.writevSync=(fd,buffers,position)=>((0,fs_core_1.validateFd)(fd),this.writevBase(fd,buffers,position??null)),this.writeFileSync=(id,data,options2)=>{let opts=(0,options_1.getWriteFileOptions)(options2),flagsNum=(0,util_3.flagsToNumber)(opts.flag),modeNum=(0,util_3.modeToNumber)(opts.mode),buf=(0,fs_core_1.dataToBuffer)(data,opts.encoding);this._core.writeFile(id,buf,flagsNum,modeNum)},this.writeFile=(id,data,a,b)=>{let options2=a,callback=b;typeof a=="function"&&([options2,callback]=[options_1.writeFileDefaults,a]);let cb=(0,util_3.validateCallback)(callback),opts=(0,options_1.getWriteFileOptions)(options2),flagsNum=(0,util_3.flagsToNumber)(opts.flag),modeNum=(0,util_3.modeToNumber)(opts.mode),buf=(0,fs_core_1.dataToBuffer)(data,opts.encoding);this.wrapAsync(this._core.writeFile,[id,buf,flagsNum,modeNum],cb)},this.copyFileSync=(src,dest,flags)=>{let srcFilename=(0,util_3.pathToFilename)(src),destFilename=(0,util_3.pathToFilename)(dest);return this._copyFile(srcFilename,destFilename,(flags||0)|0)},this.copyFile=(src,dest,a,b)=>{let srcFilename=(0,util_3.pathToFilename)(src),destFilename=(0,util_3.pathToFilename)(dest),flags,callback;typeof a=="function"?[flags,callback]=[0,a]:[flags,callback]=[a,b],(0,util_3.validateCallback)(callback),this.wrapAsync(this._copyFile,[srcFilename,destFilename,flags],callback)},this._cp=(src,dest,options2)=>{if(options2.filter&&!options2.filter(src,dest))return;let srcStat=options2.dereference?this.statSync(src):this.lstatSync(src),destStat=null;try{destStat=this.lstatSync(dest)}catch(err){if(err.code!=="ENOENT")throw err}if(destStat&&srcStat.ino===destStat.ino&&srcStat.dev===destStat.dev)throw(0,util_3.createError)("EINVAL","cp",src,dest);if(destStat){if(srcStat.isDirectory()&&!destStat.isDirectory())throw(0,util_3.createError)("EISDIR","cp",src,dest);if(!srcStat.isDirectory()&&destStat.isDirectory())throw(0,util_3.createError)("ENOTDIR","cp",src,dest)}if(srcStat.isDirectory()&&this.isSrcSubdir(src,dest))throw(0,util_3.createError)("EINVAL","cp",src,dest);{let parent=pathDirname(dest);this.existsSync(parent)||this.mkdirSync(parent,{recursive:!0})}if(srcStat.isDirectory()){if(!options2.recursive)throw(0,util_3.createError)("EISDIR","cp",src);this.cpDirSync(srcStat,destStat,src,dest,options2)}else if(srcStat.isFile()||srcStat.isCharacterDevice()||srcStat.isBlockDevice())this.cpFileSync(srcStat,destStat,src,dest,options2);else if(srcStat.isSymbolicLink()&&!options2.dereference)this.cpSymlinkSync(destStat,src,dest,options2);else throw(0,util_3.createError)("EINVAL","cp",src)},this.linkSync=(existingPath,newPath)=>{let existingPathFilename=(0,util_3.pathToFilename)(existingPath),newPathFilename=(0,util_3.pathToFilename)(newPath);this._core.link(existingPathFilename,newPathFilename)},this.link=(existingPath,newPath,callback)=>{let existingPathFilename=(0,util_3.pathToFilename)(existingPath),newPathFilename=(0,util_3.pathToFilename)(newPath);this.wrapAsync(this._core.link,[existingPathFilename,newPathFilename],callback)},this.unlinkSync=path5=>{let filename=(0,util_3.pathToFilename)(path5);this._core.unlink(filename)},this.unlink=(path5,callback)=>{let filename=(0,util_3.pathToFilename)(path5);this.wrapAsync(this._core.unlink,[filename],callback)},this.symlinkSync=(target,path5,type)=>{let targetFilename=(0,util_3.pathToFilename)(target),pathFilename=(0,util_3.pathToFilename)(path5);this._core.symlink(targetFilename,pathFilename)},this.symlink=(target,path5,a,b)=>{let callback=(0,util_3.validateCallback)(typeof a=="function"?a:b),targetFilename=(0,util_3.pathToFilename)(target),pathFilename=(0,util_3.pathToFilename)(path5);this.wrapAsync(this._core.symlink,[targetFilename,pathFilename],callback)},this._lstat=(filename,bigint=!1,throwIfNoEntry=!1)=>{let link3;try{link3=this._core.getLinkOrThrow(filename,"lstat")}catch(err){if(err.code==="ENOENT"&&!throwIfNoEntry)return;throw err}return Stats_1.default.build(link3.getNode(),bigint)},this.lstatSync=(path5,options2)=>{let{throwIfNoEntry=!0,bigint=!1}=(0,options_1.getStatOptions)(options2);return this._lstat((0,util_3.pathToFilename)(path5),bigint,throwIfNoEntry)},this.renameSync=(oldPath,newPath)=>{let oldPathFilename=(0,util_3.pathToFilename)(oldPath),newPathFilename=(0,util_3.pathToFilename)(newPath);this._core.rename(oldPathFilename,newPathFilename)},this.rename=(oldPath,newPath,callback)=>{let oldPathFilename=(0,util_3.pathToFilename)(oldPath),newPathFilename=(0,util_3.pathToFilename)(newPath);this.wrapAsync(this._core.rename,[oldPathFilename,newPathFilename],callback)},this.existsSync=path5=>{try{return this._exists((0,util_3.pathToFilename)(path5)).ok}catch{return!1}},this.exists=(path5,callback)=>{let filename=(0,util_3.pathToFilename)(path5);if(typeof callback!="function")throw Error(fs_node_utils_2.ERRSTR.CB);Promise.resolve().then(()=>{try{callback(this._exists(filename).ok)}catch{callback(!1)}})},this.accessSync=(path5,mode=F_OK)=>{let filename=(0,util_3.pathToFilename)(path5);mode=mode|0,this._access(filename,mode)},this.access=(path5,a,b)=>{let mode=F_OK,callback;typeof a!="function"?[mode,callback]=[a|0,(0,util_3.validateCallback)(b)]:callback=a;let filename=(0,util_3.pathToFilename)(path5);this.wrapAsync(this._access,[filename,mode],callback)},this.appendFileSync=(id,data,options2)=>{let opts=(0,options_1.getAppendFileOpts)(options2);(!opts.flag||(0,fs_core_1.isFd)(id))&&(opts.flag="a"),this.writeFileSync(id,data,opts)},this.appendFile=(id,data,a,b)=>{let[opts,callback]=(0,options_1.getAppendFileOptsAndCb)(a,b);(!opts.flag||(0,fs_core_1.isFd)(id))&&(opts.flag="a"),this.writeFile(id,data,opts,callback)},this._readdir=(filename,options2)=>{let steps=(0,fs_core_1.filenameToSteps)(filename),link3=this._core.getResolvedLinkOrThrow(filename,"scandir"),node=link3.getNode();if(!node.isDirectory())throw(0,util_3.createError)("ENOTDIR","scandir",filename);if(!node.canRead())throw(0,util_3.createError)("EACCES","scandir",filename);let list2=[];for(let name of link3.children.keys()){let child=link3.getChild(name);if(!(!child||name==="."||name==="..")&&(list2.push(Dirent_1.default.build(child,options2.encoding)),options2.recursive&&child.children.size)){let recurseOptions={...options2,recursive:!0,withFileTypes:!0},childList=this._readdir(child.getPath(),recurseOptions);list2.push(...childList)}}if(!util_1.isWin&&options2.encoding!=="buffer"&&list2.sort((a,b)=>a.name<b.name?-1:a.name>b.name?1:0),options2.withFileTypes)return list2;let filename2=filename;return util_1.isWin&&(filename2=filename2.replace(/\\/g,"/")),list2.map(dirent=>{if(options2.recursive){let fullPath=pathJoin(dirent.parentPath,dirent.name.toString());return util_1.isWin&&(fullPath=fullPath.replace(/\\/g,"/")),fullPath.replace(filename2+path_1.posix.sep,"")}return dirent.name})},this.readdirSync=(path5,options2)=>{let opts=(0,options_1.getReaddirOptions)(options2),filename=(0,util_3.pathToFilename)(path5);return this._readdir(filename,opts)},this.readdir=(path5,a,b)=>{let[options2,callback]=(0,options_1.getReaddirOptsAndCb)(a,b),filename=(0,util_3.pathToFilename)(path5);this.wrapAsync(this._readdir,[filename,options2],callback)},this._readlink=(filename,encoding)=>{let node=this._core.getLinkOrThrow(filename,"readlink").getNode();if(!node.isSymlink())throw(0,util_3.createError)("EINVAL","readlink",filename);return(0,fs_node_utils_1.strToEncoding)(node.symlink,encoding)},this.readlinkSync=(path5,options2)=>{let opts=(0,options_1.getDefaultOpts)(options2),filename=(0,util_3.pathToFilename)(path5);return this._readlink(filename,opts.encoding)},this.readlink=(path5,a,b)=>{let[opts,callback]=(0,options_1.getDefaultOptsAndCb)(a,b),filename=(0,util_3.pathToFilename)(path5);this.wrapAsync(this._readlink,[filename,opts.encoding],callback)},this._fsync=fd=>{this._core.getFileByFdOrThrow(fd,"fsync")},this.fsyncSync=fd=>{this._fsync(fd)},this.fsync=(fd,callback)=>{this.wrapAsync(this._fsync,[fd],callback)},this._fdatasync=fd=>{this._core.getFileByFdOrThrow(fd,"fdatasync")},this.fdatasyncSync=fd=>{this._fdatasync(fd)},this.fdatasync=(fd,callback)=>{this.wrapAsync(this._fdatasync,[fd],callback)},this._ftruncate=(fd,len)=>{this._core.getFileByFdOrThrow(fd,"ftruncate").truncate(len)},this.ftruncateSync=(fd,len)=>{this._ftruncate(fd,len)},this.ftruncate=(fd,a,b)=>{let len=typeof a=="number"?a:0,callback=(0,util_3.validateCallback)(typeof a=="number"?b:a);this.wrapAsync(this._ftruncate,[fd,len],callback)},this._truncate=(path5,len)=>{let fd=this.openSync(path5,"r+");try{this.ftruncateSync(fd,len)}finally{this.closeSync(fd)}},this.truncateSync=(id,len)=>{if((0,fs_core_1.isFd)(id))return this.ftruncateSync(id,len);this._truncate(id,len)},this.truncate=(id,a,b)=>{let len=typeof a=="number"?a:0,callback=(0,util_3.validateCallback)(typeof a=="number"?b:a);if((0,fs_core_1.isFd)(id))return this.ftruncate(id,len,callback);this.wrapAsync(this._truncate,[id,len],callback)},this._futimes=(fd,atime,mtime)=>{let node=this._core.getFileByFdOrThrow(fd,"futimes").node;node.atime=new Date(atime*1e3),node.mtime=new Date(mtime*1e3)},this.futimesSync=(fd,atime,mtime)=>{this._futimes(fd,toUnixTimestamp(atime),toUnixTimestamp(mtime))},this.futimes=(fd,atime,mtime,callback)=>{this.wrapAsync(this._futimes,[fd,toUnixTimestamp(atime),toUnixTimestamp(mtime)],callback)},this._utimes=(filename,atime,mtime,followSymlinks=!0)=>{let core=this._core,node=(followSymlinks?core.getResolvedLinkOrThrow(filename,"utimes"):core.getLinkOrThrow(filename,"lutimes")).getNode();node.atime=new Date(atime*1e3),node.mtime=new Date(mtime*1e3)},this.utimesSync=(path5,atime,mtime)=>{this._utimes((0,util_3.pathToFilename)(path5),toUnixTimestamp(atime),toUnixTimestamp(mtime),!0)},this.utimes=(path5,atime,mtime,callback)=>{this.wrapAsync(this._utimes,[(0,util_3.pathToFilename)(path5),toUnixTimestamp(atime),toUnixTimestamp(mtime),!0],callback)},this.lutimesSync=(path5,atime,mtime)=>{this._utimes((0,util_3.pathToFilename)(path5),toUnixTimestamp(atime),toUnixTimestamp(mtime),!1)},this.lutimes=(path5,atime,mtime,callback)=>{this.wrapAsync(this._utimes,[(0,util_3.pathToFilename)(path5),toUnixTimestamp(atime),toUnixTimestamp(mtime),!1],callback)},this.mkdirSync=(path5,options2)=>{let opts=(0,options_1.getMkdirOptions)(options2),modeNum=(0,util_3.modeToNumber)(opts.mode,511),filename=(0,util_3.pathToFilename)(path5);if(opts.recursive)return this._core.mkdirp(filename,modeNum);this._core.mkdir(filename,modeNum)},this.mkdir=(path5,a,b)=>{let opts=(0,options_1.getMkdirOptions)(a),callback=(0,util_3.validateCallback)(typeof a=="function"?a:b),modeNum=(0,util_3.modeToNumber)(opts.mode,511),filename=(0,util_3.pathToFilename)(path5);opts.recursive?this.wrapAsync(this._core.mkdirp,[filename,modeNum],callback):this.wrapAsync(this._core.mkdir,[filename,modeNum],callback)},this._mkdtemp=(prefix,encoding,retry=5)=>{let filename=prefix+(0,util_3.genRndStr6)();try{return this._core.mkdir(filename,511),(0,fs_node_utils_1.strToEncoding)(filename,encoding)}catch(err){if(err.code==="EEXIST"){if(retry>1)return this._mkdtemp(prefix,encoding,retry-1);throw Error("Could not create temp dir.")}else throw err}},this.mkdtempSync=(prefix,options2)=>{let{encoding}=(0,options_1.getDefaultOpts)(options2);if(!prefix||typeof prefix!="string")throw new TypeError("filename prefix is required");return(0,util_3.nullCheck)(prefix),this._mkdtemp(prefix,encoding)},this.mkdtemp=(prefix,a,b)=>{let[{encoding},callback]=(0,options_1.getDefaultOptsAndCb)(a,b);if(!prefix||typeof prefix!="string")throw new TypeError("filename prefix is required");(0,util_3.nullCheck)(prefix)&&this.wrapAsync(this._mkdtemp,[prefix,encoding],callback)},this.rmdirSync=(path5,options2)=>{let opts=(0,options_1.getRmdirOptions)(options2);this._core.rmdir((0,util_3.pathToFilename)(path5),opts.recursive)},this.rmdir=(path5,a,b)=>{let opts=(0,options_1.getRmdirOptions)(a),callback=(0,util_3.validateCallback)(typeof a=="function"?a:b);this.wrapAsync(this._core.rmdir,[(0,util_3.pathToFilename)(path5),opts.recursive],callback)},this.rmSync=(path5,options2)=>{this._core.rm((0,util_3.pathToFilename)(path5),options2?.force,options2?.recursive)},this.rm=(path5,a,b)=>{let[opts,callback]=(0,options_1.getRmOptsAndCb)(a,b);this.wrapAsync(this._core.rm,[(0,util_3.pathToFilename)(path5),opts?.force,opts?.recursive],callback)},this._fchmod=(fd,modeNum)=>{this._core.getFileByFdOrThrow(fd,"fchmod").chmod(modeNum)},this.fchmodSync=(fd,mode)=>{this._fchmod(fd,(0,util_3.modeToNumber)(mode))},this.fchmod=(fd,mode,callback)=>{this.wrapAsync(this._fchmod,[fd,(0,util_3.modeToNumber)(mode)],callback)},this._chmod=(filename,modeNum,followSymlinks=!0)=>{(followSymlinks?this._core.getResolvedLinkOrThrow(filename,"chmod"):this._core.getLinkOrThrow(filename,"chmod")).getNode().chmod(modeNum)},this.chmodSync=(path5,mode)=>{let modeNum=(0,util_3.modeToNumber)(mode),filename=(0,util_3.pathToFilename)(path5);this._chmod(filename,modeNum,!0)},this.chmod=(path5,mode,callback)=>{let modeNum=(0,util_3.modeToNumber)(mode),filename=(0,util_3.pathToFilename)(path5);this.wrapAsync(this._chmod,[filename,modeNum],callback)},this._lchmod=(filename,modeNum)=>{this._chmod(filename,modeNum,!1)},this.lchmodSync=(path5,mode)=>{let modeNum=(0,util_3.modeToNumber)(mode),filename=(0,util_3.pathToFilename)(path5);this._lchmod(filename,modeNum)},this.lchmod=(path5,mode,callback)=>{let modeNum=(0,util_3.modeToNumber)(mode),filename=(0,util_3.pathToFilename)(path5);this.wrapAsync(this._lchmod,[filename,modeNum],callback)},this._fchown=(fd,uid,gid)=>{this._core.getFileByFdOrThrow(fd,"fchown").chown(uid,gid)},this.fchownSync=(fd,uid,gid)=>{validateUid(uid),validateGid(gid),this._fchown(fd,uid,gid)},this.fchown=(fd,uid,gid,callback)=>{validateUid(uid),validateGid(gid),this.wrapAsync(this._fchown,[fd,uid,gid],callback)},this._chown=(filename,uid,gid)=>{this._core.getResolvedLinkOrThrow(filename,"chown").getNode().chown(uid,gid)},this.chownSync=(path5,uid,gid)=>{validateUid(uid),validateGid(gid),this._chown((0,util_3.pathToFilename)(path5),uid,gid)},this.chown=(path5,uid,gid,callback)=>{validateUid(uid),validateGid(gid),this.wrapAsync(this._chown,[(0,util_3.pathToFilename)(path5),uid,gid],callback)},this._lchown=(filename,uid,gid)=>{this._core.getLinkOrThrow(filename,"lchown").getNode().chown(uid,gid)},this.lchownSync=(path5,uid,gid)=>{validateUid(uid),validateGid(gid),this._lchown((0,util_3.pathToFilename)(path5),uid,gid)},this.lchown=(path5,uid,gid,callback)=>{validateUid(uid),validateGid(gid),this.wrapAsync(this._lchown,[(0,util_3.pathToFilename)(path5),uid,gid],callback)},this.statWatchers={},this.cpSync=(src,dest,options2)=>{let srcFilename=(0,util_3.pathToFilename)(src),destFilename=(0,util_3.pathToFilename)(dest),opts_={dereference:options2?.dereference??!1,errorOnExist:options2?.errorOnExist??!1,filter:options2?.filter,force:options2?.force??!0,mode:options2?.mode??0,preserveTimestamps:options2?.preserveTimestamps??!1,recursive:options2?.recursive??!1,verbatimSymlinks:options2?.verbatimSymlinks??!1};return this._cp(srcFilename,destFilename,opts_)},this.cp=(src,dest,a,b)=>{let srcFilename=(0,util_3.pathToFilename)(src),destFilename=(0,util_3.pathToFilename)(dest),options2,callback;typeof a=="function"?[options2,callback]=[{},a]:[options2,callback]=[a||{},b],(0,util_3.validateCallback)(callback);let opts_={dereference:options2?.dereference??!1,errorOnExist:options2?.errorOnExist??!1,filter:options2?.filter,force:options2?.force??!0,mode:options2?.mode??0,preserveTimestamps:options2?.preserveTimestamps??!1,recursive:options2?.recursive??!1,verbatimSymlinks:options2?.verbatimSymlinks??!1};this.wrapAsync(this._cp,[srcFilename,destFilename,opts_],callback)},this.openAsBlob=async(path5,options2)=>{let filename=(0,util_3.pathToFilename)(path5),link3;try{link3=this._core.getResolvedLinkOrThrow(filename,"open")}catch(error){throw error&&typeof error=="object"&&error.code==="ENOENT"?new errors.TypeError("ERR_INVALID_ARG_VALUE"):error}let buffer=link3.getNode().getBuffer(),type=options2?.type||"";return new Blob([buffer],{type})},this.glob=(pattern,...args)=>{let[options2,callback]=args.length===1?[{},args[0]]:[args[0],args[1]];this.wrapAsync(this._globSync,[pattern,options2||{}],callback)},this.globSync=(pattern,options2={})=>this._globSync(pattern,options2),this._globSync=(pattern,options2={})=>{let{globSync}=require_glob2();return globSync(this,pattern,options2)},this._opendir=(filename,options2)=>{let link3=this._core.getResolvedLinkOrThrow(filename,"scandir");if(!link3.getNode().isDirectory())throw(0,util_3.createError)("ENOTDIR","scandir",filename);return new Dir_1.Dir(link3,options2)},this.opendirSync=(path5,options2)=>{let opts=(0,options_1.getOpendirOptions)(options2),filename=(0,util_3.pathToFilename)(path5);return this._opendir(filename,opts)},this.opendir=(path5,a,b)=>{let[options2,callback]=(0,options_1.getOpendirOptsAndCb)(a,b),filename=(0,util_3.pathToFilename)(path5);this.wrapAsync(this._opendir,[filename,options2],callback)};let self2=this;this.StatWatcher=class extends StatWatcher{constructor(){super(self2)}};let _ReadStream=FsReadStream;this.ReadStream=class extends _ReadStream{constructor(...args){super(self2,...args)}};let _WriteStream=FsWriteStream;this.WriteStream=class extends _WriteStream{constructor(...args){super(self2,...args)}},this.FSWatcher=class extends FSWatcher{constructor(){super(self2)}};let _realpath=(filename,encoding)=>{let realLink=this._core.getResolvedLinkOrThrow(filename,"realpath");return(0,fs_node_utils_1.strToEncoding)(realLink.getPath()||"/",encoding)},realpathImpl=(path5,a,b)=>{let[opts,callback]=(0,options_1.getRealpathOptsAndCb)(a,b),pathFilename=(0,util_3.pathToFilename)(path5);self2.wrapAsync(_realpath,[pathFilename,opts.encoding],callback)},realpathSyncImpl=(path5,options2)=>_realpath((0,util_3.pathToFilename)(path5),(0,options_1.getRealpathOptions)(options2).encoding);this.realpath=realpathImpl,this.realpath.native=realpathImpl,this.realpathSync=realpathSyncImpl,this.realpathSync.native=realpathSyncImpl}wrapAsync(method,args,callback){(0,util_3.validateCallback)(callback),Promise.resolve().then(()=>{let result;try{result=method.apply(this,args)}catch(err){callback(err);return}callback(null,result)})}reset(){this._core.reset()}toJSON(paths,json={},isRelative=!1,asBuffer=!1){return this._core.toJSON(paths,json,isRelative,asBuffer)}fromJSON(json,cwd){return this._core.fromJSON(json,cwd)}fromNestedJSON(json,cwd){return this._core.fromNestedJSON(json,cwd)}mountSync(mountpoint,json){this._core.fromJSON(json,mountpoint)}_write(fd,buf,offset,length,position){let file=this._core.getFileByFdOrThrow(fd,"write");if(file.node.isSymlink())throw(0,util_3.createError)("EBADF","write",file.link.getPath());return file.write(buf,offset,length,position===-1||typeof position!="number"?void 0:position)}writevBase(fd,buffers,position){let file=this._core.getFileByFdOrThrow(fd),p=position??void 0;p===-1&&(p=void 0);let bytesWritten=0;for(let buffer of buffers){let nodeBuf=buffer_1.Buffer.from(buffer.buffer,buffer.byteOffset,buffer.byteLength),bytes=file.write(nodeBuf,0,nodeBuf.byteLength,p);if(p=void 0,bytesWritten+=bytes,bytes<nodeBuf.byteLength)break}return bytesWritten}_copyFile(src,dest,flags){let buf=this.readFileSync(src);if(flags&COPYFILE_EXCL&&this.existsSync(dest))throw(0,util_3.createError)("EEXIST","copyFile",src,dest);if(flags&COPYFILE_FICLONE_FORCE)throw(0,util_3.createError)("ENOSYS","copyFile",src,dest);this._core.writeFile(dest,buf,fs_node_utils_2.FLAGS.w,438)}isSrcSubdir(src,dest){try{let normalizedSrc=pathNormalize(src.startsWith("/")?src:"/"+src),normalizedDest=pathNormalize(dest.startsWith("/")?dest:"/"+dest);if(normalizedSrc===normalizedDest)return!0;let relativePath=pathRelative(normalizedSrc,normalizedDest);return relativePath===""||!relativePath.startsWith("..")&&!(0,path_1.isAbsolute)(relativePath)}catch{return!1}}cpFileSync(srcStat,destStat,src,dest,options2){if(destStat){if(options2.errorOnExist)throw(0,util_3.createError)("EEXIST","cp",dest);if(!options2.force)return;this.unlinkSync(dest)}this.copyFileSync(src,dest,options2.mode),options2.preserveTimestamps&&this.utimesSync(dest,srcStat.atime,srcStat.mtime),this.chmodSync(dest,Number(srcStat.mode))}cpDirSync(srcStat,destStat,src,dest,options2){destStat||this.mkdirSync(dest);let entries=this.readdirSync(src);for(let entry of entries){let srcItem=pathJoin(src,String(entry)),destItem=pathJoin(dest,String(entry));options2.filter&&!options2.filter(srcItem,destItem)||this._cp(srcItem,destItem,options2)}this.chmodSync(dest,Number(srcStat.mode))}cpSymlinkSync(destStat,src,dest,options2){let linkTarget=String(this.readlinkSync(src));!options2.verbatimSymlinks&&!(0,path_1.isAbsolute)(linkTarget)&&(linkTarget=resolveCrossPlatform(pathDirname(src),linkTarget)),destStat&&this.unlinkSync(dest),this.symlinkSync(linkTarget,dest)}lstat(path5,a,b){let[{throwIfNoEntry=!0,bigint=!1},callback]=(0,options_1.getStatOptsAndCb)(a,b);this.wrapAsync(this._lstat,[(0,util_3.pathToFilename)(path5),bigint,throwIfNoEntry],callback)}_stat(filename,bigint=!1,throwIfNoEntry=!0){let result=this._core.getResolvedLinkResult(filename,"stat");return result.ok?(0,fs_core_1.Ok)(Stats_1.default.build(result.value.getNode(),bigint)):result.err.code==="ENOENT"&&!throwIfNoEntry?(0,fs_core_1.Ok)(void 0):result}_statOrThrow(filename,bigint=!1,throwIfNoEntry=!0){let result=this._stat(filename,bigint,throwIfNoEntry);if(result.ok)return result.value;throw result.err.toError()}statSync(path5,options2){let{bigint=!0,throwIfNoEntry=!0}=(0,options_1.getStatOptions)(options2),result=this._stat((0,util_3.pathToFilename)(path5),bigint,throwIfNoEntry);if(result.ok)return result.value;throw result.err.toError()}stat(path5,a,b){let[{bigint=!1,throwIfNoEntry=!0},callback]=(0,options_1.getStatOptsAndCb)(a,b);this.wrapAsync(this._statOrThrow,[(0,util_3.pathToFilename)(path5),bigint,throwIfNoEntry],callback)}fstatBase(fd,bigint=!1){let file=this._core.getFileByFd(fd);if(!file)throw(0,util_3.createError)("EBADF","fstat");return Stats_1.default.build(file.node,bigint)}fstatSync(fd,options2){return this.fstatBase(fd,(0,options_1.getStatOptions)(options2).bigint)}fstat(fd,a,b){let[opts,callback]=(0,options_1.getStatOptsAndCb)(a,b);this.wrapAsync(this.fstatBase,[fd,opts.bigint],callback)}_exists(filename){let result=this._stat(filename);return result.ok?(0,fs_core_1.Ok)(!0):result}_access(filename,mode){let node=this._core.getLinkOrThrow(filename,"access").getNode();if(mode!==F_OK&&(mode&R_OK&&!node.canRead()||mode&W_OK&&!node.canWrite()||mode&X_OK&&!node.canExecute()))throw(0,util_3.createError)("EACCES","access",filename)}watchFile(path5,a,b){let filename=(0,util_3.pathToFilename)(path5),options2=a,listener=b;if(typeof options2=="function"&&(listener=a,options2=null),typeof listener!="function")throw Error('"watchFile()" requires a listener function');let interval=5007,persistent=!0;options2&&typeof options2=="object"&&(typeof options2.interval=="number"&&(interval=options2.interval),typeof options2.persistent=="boolean"&&(persistent=options2.persistent));let watcher=this.statWatchers[filename];return watcher||(watcher=new this.StatWatcher,watcher.start(filename,persistent,interval),this.statWatchers[filename]=watcher),watcher.addListener("change",listener),watcher}unwatchFile(path5,listener){let filename=(0,util_3.pathToFilename)(path5),watcher=this.statWatchers[filename];watcher&&(typeof listener=="function"?watcher.removeListener("change",listener):watcher.removeAllListeners("change"),watcher.listenerCount("change")===0&&(watcher.stop(),delete this.statWatchers[filename]))}createReadStream(path5,options2){return new this.ReadStream(path5,options2)}createWriteStream(path5,options2){return new this.WriteStream(path5,options2)}watch(path5,options2,listener){let filename=(0,util_3.pathToFilename)(path5),givenOptions=options2;typeof options2=="function"&&(listener=options2,givenOptions=null);let{persistent,recursive,encoding}=(0,options_1.getDefaultOpts)(givenOptions);persistent===void 0&&(persistent=!0),recursive===void 0&&(recursive=!1);let watcher=new this.FSWatcher;return watcher.start(filename,persistent,recursive,encoding),listener&&watcher.addListener("change",listener),watcher}_statfs(filename,bigint=!1){return this._core.getResolvedLinkOrThrow(filename,"statfs"),StatFs_1.default.build(this._core,bigint)}statfsSync(path5,options2){let{bigint=!1}=(0,options_1.getStatfsOptions)(options2);return this._statfs((0,util_3.pathToFilename)(path5),bigint)}statfs(path5,a,b){let[{bigint=!1},callback]=(0,options_1.getStatfsOptsAndCb)(a,b);this.wrapAsync(this._statfs,[(0,util_3.pathToFilename)(path5),bigint],callback)}toTree(opts={separator:path_1.sep}){return(0,fs_print_1.toTreeSync)(this,opts)}toSnapshot(path5="/"){return fsSnapshot.toSnapshotSync({fs:this,path:path5})}fromSnapshot(snapshot,path5="/"){return fsSnapshot.fromSnapshotSync(snapshot,{fs:this,path:path5})}toBinarySnapshot(path5="/"){return fsSnapshot.toBinarySnapshotSync({fs:this,path:path5})}fromBinarySnapshot(binary,path5="/"){return fsSnapshot.fromBinarySnapshotSync(binary,{fs:this,path:path5})}toJsonSnapshot(path5="/"){let uint8=fsSnapshot.toJsonSnapshotSync({fs:this,path:path5});return buffer_1.Buffer.from(uint8).toString("utf8")}fromJsonSnapshot(json,path5="/"){let uint8=new Uint8Array(buffer_1.Buffer.from(json,"utf8"));return fsSnapshot.fromJsonSnapshotSync(uint8,{fs:this,path:path5})}};exports2.Volume=Volume2;Volume2.fromJSON=(json,cwd)=>new Volume2(fs_core_1.Superblock.fromJSON(json,cwd));Volume2.fromNestedJSON=(json,cwd)=>new Volume2(fs_core_1.Superblock.fromNestedJSON(json,cwd));function emitStop(self2){self2.emit("stop")}var StatWatcher=class extends events_1.EventEmitter{constructor(vol){super(),this.onInterval=()=>{try{let stats=this.vol.statSync(this.filename);this.hasChanged(stats)&&(this.emit("change",stats,this.prev),this.prev=stats)}finally{this.loop()}},this.vol=vol}loop(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)}hasChanged(stats){return stats.mtimeMs>this.prev.mtimeMs||stats.nlink!==this.prev.nlink}start(path5,persistent=!0,interval=5007){this.filename=(0,util_3.pathToFilename)(path5),this.setTimeout=persistent?setTimeout.bind(typeof globalThis<"u"?globalThis:global):setTimeoutUnref_1.default,this.interval=interval,this.prev=this.vol.statSync(this.filename),this.loop()}stop(){clearTimeout(this.timeoutRef),queueMicrotask(()=>{emitStop.call(this,this)})}};exports2.StatWatcher=StatWatcher;var pool;function allocNewPool(poolSize){pool=(0,buffer_1.bufferAllocUnsafe)(poolSize),pool.used=0}(0,util_2.inherits)(FsReadStream,stream_1.Readable);exports2.ReadStream=FsReadStream;function FsReadStream(vol,path5,options2){if(!(this instanceof FsReadStream))return new FsReadStream(vol,path5,options2);if(this._vol=vol,options2=Object.assign({},(0,options_1.getOptions)(options2,{})),options2.highWaterMark===void 0&&(options2.highWaterMark=64*1024),stream_1.Readable.call(this,options2),this.path=(0,util_3.pathToFilename)(path5),this.fd=options2.fd===void 0?null:typeof options2.fd!="number"?options2.fd.fd:options2.fd,this.flags=options2.flags===void 0?"r":options2.flags,this.mode=options2.mode===void 0?438:options2.mode,this.start=options2.start,this.end=options2.end,this.autoClose=options2.autoClose===void 0?!0:options2.autoClose,this.pos=void 0,this.bytesRead=0,this.start!==void 0){if(typeof this.start!="number")throw new TypeError('"start" option must be a Number');if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw new TypeError('"end" option must be a Number');if(this.start>this.end)throw new Error('"start" option must be <= "end" option');this.pos=this.start}typeof this.fd!="number"&&this.open(),this.on("end",function(){this.autoClose&&this.destroy&&this.destroy()})}FsReadStream.prototype.open=function(){var self2=this;this._vol.open(this.path,this.flags,this.mode,(er,fd)=>{if(er){self2.autoClose&&self2.destroy&&self2.destroy(),self2.emit("error",er);return}self2.fd=fd,self2.emit("open",fd),self2.read()})};FsReadStream.prototype._read=function(n){if(typeof this.fd!="number")return this.once("open",function(){this._read(n)});if(this.destroyed)return;(!pool||pool.length-pool.used<kMinPoolSpace)&&allocNewPool(this._readableState.highWaterMark);var thisPool=pool,toRead=Math.min(pool.length-pool.used,n),start=pool.used;if(this.pos!==void 0&&(toRead=Math.min(this.end-this.pos+1,toRead)),toRead<=0)return this.push(null);var self2=this;this._vol.read(this.fd,pool,pool.used,toRead,this.pos,onread),this.pos!==void 0&&(this.pos+=toRead),pool.used+=toRead;function onread(er,bytesRead){if(er)self2.autoClose&&self2.destroy&&self2.destroy(),self2.emit("error",er);else{var b=null;bytesRead>0&&(self2.bytesRead+=bytesRead,b=thisPool.slice(start,start+bytesRead)),self2.push(b)}}};FsReadStream.prototype._destroy=function(err,cb){this.close(err2=>{cb(err||err2)})};FsReadStream.prototype.close=function(cb){if(cb&&this.once("close",cb),this.closed||typeof this.fd!="number"){if(typeof this.fd!="number"){this.once("open",closeOnOpen);return}return queueMicrotask(()=>this.emit("close"))}typeof this._readableState?.closed=="boolean"?this._readableState.closed=!0:this.closed=!0,this._vol.close(this.fd,er=>{er?this.emit("error",er):this.emit("close")}),this.fd=null};function closeOnOpen(fd){this.close()}(0,util_2.inherits)(FsWriteStream,stream_1.Writable);exports2.WriteStream=FsWriteStream;function FsWriteStream(vol,path5,options2){if(!(this instanceof FsWriteStream))return new FsWriteStream(vol,path5,options2);if(this._vol=vol,options2=Object.assign({},(0,options_1.getOptions)(options2,{})),stream_1.Writable.call(this,options2),this.path=(0,util_3.pathToFilename)(path5),this.fd=options2.fd===void 0?null:typeof options2.fd!="number"?options2.fd.fd:options2.fd,this.flags=options2.flags===void 0?"w":options2.flags,this.mode=options2.mode===void 0?438:options2.mode,this.start=options2.start,this.autoClose=options2.autoClose===void 0?!0:!!options2.autoClose,this.pos=void 0,this.bytesWritten=0,this.pending=!0,this.start!==void 0){if(typeof this.start!="number")throw new TypeError('"start" option must be a Number');if(this.start<0)throw new Error('"start" must be >= zero');this.pos=this.start}options2.encoding&&this.setDefaultEncoding(options2.encoding),typeof this.fd!="number"&&this.open(),this.once("finish",function(){this.autoClose&&this.close()})}FsWriteStream.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,function(er,fd){if(er){this.autoClose&&this.destroy&&this.destroy(),this.emit("error",er);return}this.fd=fd,this.pending=!1,this.emit("open",fd)}.bind(this))};FsWriteStream.prototype._write=function(data,encoding,cb){if(!(data instanceof buffer_1.Buffer||data instanceof Uint8Array))return this.emit("error",new Error("Invalid data"));if(typeof this.fd!="number")return this.once("open",function(){this._write(data,encoding,cb)});var self2=this;this._vol.write(this.fd,data,0,data.length,this.pos,(er,bytes)=>{if(er)return self2.autoClose&&self2.destroy&&self2.destroy(),cb(er);self2.bytesWritten+=bytes,cb()}),this.pos!==void 0&&(this.pos+=data.length)};FsWriteStream.prototype._writev=function(data,cb){if(typeof this.fd!="number")return this.once("open",function(){this._writev(data,cb)});let self2=this,len=data.length,chunks=new Array(len);for(var size=0,i=0;i<len;i++){var chunk=data[i].chunk;chunks[i]=chunk,size+=chunk.length}let buf=buffer_1.Buffer.concat(chunks);this._vol.write(this.fd,buf,0,buf.length,this.pos,(er,bytes)=>{if(er)return self2.destroy&&self2.destroy(),cb(er);self2.bytesWritten+=bytes,cb()}),this.pos!==void 0&&(this.pos+=size)};FsWriteStream.prototype.close=function(cb){if(cb&&this.once("close",cb),this.closed||typeof this.fd!="number"){if(typeof this.fd!="number"){this.once("open",closeOnOpen);return}return queueMicrotask(()=>this.emit("close"))}typeof this._writableState?.closed=="boolean"?this._writableState.closed=!0:this.closed=!0,this._vol.close(this.fd,er=>{er?this.emit("error",er):this.emit("close")}),this.fd=null};FsWriteStream.prototype._destroy=FsReadStream.prototype._destroy;FsWriteStream.prototype.destroySoon=FsWriteStream.prototype.end;var FSWatcher=class extends events_1.EventEmitter{constructor(vol){super(),this._filename="",this._filenameEncoded="",this._recursive=!1,this._encoding=fs_node_utils_1.ENCODING_UTF8,this._listenerRemovers=new Map,this._onParentChild=link3=>{link3.getName()===this._getName()&&this._emit("rename")},this._emit=type=>{this.emit("change",type,this._filenameEncoded)},this._persist=()=>{this._timer=setTimeout(this._persist,1e6)},this._vol=vol}_getName(){return this._steps[this._steps.length-1]}start(path5,persistent=!0,recursive=!1,encoding=fs_node_utils_1.ENCODING_UTF8){this._filename=(0,util_3.pathToFilename)(path5),this._steps=(0,fs_core_1.filenameToSteps)(this._filename),this._filenameEncoded=(0,fs_node_utils_1.strToEncoding)(this._filename),this._recursive=recursive,this._encoding=encoding;try{this._link=this._vol._core.getLinkOrThrow(this._filename,"FSWatcher")}catch(err){let error=new Error(`watch ${this._filename} ${err.code}`);throw error.code=err.code,error.errno=err.code,error}let watchLinkNodeChanged=link3=>{let filepath=link3.getPath(),node=link3.getNode(),onNodeChange=()=>{let filename=pathRelative(this._filename,filepath);return filename||(filename=this._getName()),this.emit("change","change",filename)},unsub=node.changes.listen(([type])=>{type==="modify"&&onNodeChange()}),removers=this._listenerRemovers.get(node.ino)??[];removers.push(()=>unsub()),this._listenerRemovers.set(node.ino,removers)},watchLinkChildrenChanged=link3=>{let node=link3.getNode(),onLinkChildAdd=l=>{this.emit("change","rename",pathRelative(this._filename,l.getPath())),watchLinkNodeChanged(l),watchLinkChildrenChanged(l)},onLinkChildDelete=l=>{let removeLinkNodeListeners=curLink=>{let ino=curLink.getNode().ino,removers2=this._listenerRemovers.get(ino);removers2&&(removers2.forEach(r=>r()),this._listenerRemovers.delete(ino));for(let[name,childLink]of curLink.children.entries())childLink&&name!=="."&&name!==".."&&removeLinkNodeListeners(childLink)};removeLinkNodeListeners(l),this.emit("change","rename",pathRelative(this._filename,l.getPath()))};for(let[name,childLink]of link3.children.entries())childLink&&name!=="."&&name!==".."&&watchLinkNodeChanged(childLink);let unsubscribeLinkChanges=link3.changes.listen(([type,link4])=>{type==="child:add"?onLinkChildAdd(link4):type==="child:del"&&onLinkChildDelete(link4)});if((this._listenerRemovers.get(node.ino)??[]).push(()=>{unsubscribeLinkChanges()}),recursive)for(let[name,childLink]of link3.children.entries())childLink&&name!=="."&&name!==".."&&watchLinkChildrenChanged(childLink)};watchLinkNodeChanged(this._link),watchLinkChildrenChanged(this._link);let parent=this._link.parent;parent&&parent.changes.listen(([type,link3])=>{type==="child:del"&&this._onParentChild(link3)}),persistent&&this._persist()}close(){clearTimeout(this._timer),this._listenerRemovers.forEach(removers=>{removers.forEach(r=>r())}),this._listenerRemovers.clear(),this._parentChangesUnsub?.()}};exports2.FSWatcher=FSWatcher}});var require_fsCallbackApiList=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node/lib/lists/fsCallbackApiList.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.fsCallbackApiList=void 0;exports2.fsCallbackApiList=["access","appendFile","chmod","chown","close","copyFile","cp","createReadStream","createWriteStream","exists","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","glob","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","openAsBlob","opendir","read","readv","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","statfs","symlink","truncate","unlink","unwatchFile","utimes","lutimes","watch","watchFile","write","writev","writeFile"]}});var require_fsSynchronousApiList=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node/lib/lists/fsSynchronousApiList.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.fsSynchronousApiList=void 0;exports2.fsSynchronousApiList=["accessSync","appendFileSync","chmodSync","chownSync","closeSync","copyFileSync","existsSync","fchmodSync","fchownSync","fdatasyncSync","fstatSync","fsyncSync","ftruncateSync","futimesSync","globSync","lchmodSync","lchownSync","linkSync","lstatSync","mkdirSync","mkdtempSync","openSync","opendirSync","readdirSync","readFileSync","readlinkSync","readSync","readvSync","realpathSync","renameSync","rmdirSync","rmSync","statSync","symlinkSync","truncateSync","unlinkSync","utimesSync","lutimesSync","writeFileSync","writeSync","writevSync"]}});var require_fsCommonObjectsList=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node/lib/lists/fsCommonObjectsList.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.fsCommonObjectsList=void 0;exports2.fsCommonObjectsList=["F_OK","R_OK","W_OK","X_OK","constants","Stats","StatFs","Dir","Dirent","StatsWatcher","FSWatcher","ReadStream","WriteStream"]}});var require_lib10=__commonJS({"../../../../node_modules/@jsonjoy.com/fs-node/lib/index.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.fsCommonObjectsList=exports2.fsSynchronousApiList=exports2.fsCallbackApiList=exports2.FsPromises=exports2.Dir=exports2.FileHandle=exports2.StatFs=exports2.Dirent=exports2.Stats=exports2.toUnixTimestamp=exports2.FSWatcher=exports2.StatWatcher=exports2.Volume=void 0;var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports)),volume_1=require_volume();Object.defineProperty(exports2,"Volume",{enumerable:!0,get:function(){return volume_1.Volume}});Object.defineProperty(exports2,"StatWatcher",{enumerable:!0,get:function(){return volume_1.StatWatcher}});Object.defineProperty(exports2,"FSWatcher",{enumerable:!0,get:function(){return volume_1.FSWatcher}});Object.defineProperty(exports2,"toUnixTimestamp",{enumerable:!0,get:function(){return volume_1.toUnixTimestamp}});var Stats_1=require_Stats();Object.defineProperty(exports2,"Stats",{enumerable:!0,get:function(){return Stats_1.default}});var Dirent_1=require_Dirent();Object.defineProperty(exports2,"Dirent",{enumerable:!0,get:function(){return Dirent_1.default}});var StatFs_1=require_StatFs();Object.defineProperty(exports2,"StatFs",{enumerable:!0,get:function(){return StatFs_1.default}});var FileHandle_1=require_FileHandle();Object.defineProperty(exports2,"FileHandle",{enumerable:!0,get:function(){return FileHandle_1.FileHandle}});var Dir_1=require_Dir();Object.defineProperty(exports2,"Dir",{enumerable:!0,get:function(){return Dir_1.Dir}});var FsPromises_1=require_FsPromises();Object.defineProperty(exports2,"FsPromises",{enumerable:!0,get:function(){return FsPromises_1.FsPromises}});tslib_1.__exportStar(require_options2(),exports2);tslib_1.__exportStar(require_util11(),exports2);tslib_1.__exportStar(require_glob2(),exports2);var fsCallbackApiList_1=require_fsCallbackApiList();Object.defineProperty(exports2,"fsCallbackApiList",{enumerable:!0,get:function(){return fsCallbackApiList_1.fsCallbackApiList}});var fsSynchronousApiList_1=require_fsSynchronousApiList();Object.defineProperty(exports2,"fsSynchronousApiList",{enumerable:!0,get:function(){return fsSynchronousApiList_1.fsSynchronousApiList}});var fsCommonObjectsList_1=require_fsCommonObjectsList();Object.defineProperty(exports2,"fsCommonObjectsList",{enumerable:!0,get:function(){return fsCommonObjectsList_1.fsCommonObjectsList}})}});var require_lib11=__commonJS({"../../../../node_modules/memfs/lib/index.js"(exports2,module2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});exports2.memfs=exports2.fs=exports2.vol=exports2.Volume=void 0;exports2.createFsFromVolume=createFsFromVolume2;var fs_node_1=require_lib10();Object.defineProperty(exports2,"Volume",{enumerable:!0,get:function(){return fs_node_1.Volume}});var fs_node_utils_1=require_lib4(),{F_OK,R_OK,W_OK,X_OK}=fs_node_utils_1.constants;exports2.vol=new fs_node_1.Volume;function createFsFromVolume2(vol){let fs3={F_OK,R_OK,W_OK,X_OK,constants:fs_node_utils_1.constants,Stats:fs_node_1.Stats,Dirent:fs_node_1.Dirent};for(let method of fs_node_1.fsSynchronousApiList)typeof vol[method]=="function"&&(fs3[method]=vol[method].bind(vol));for(let method of fs_node_1.fsCallbackApiList)typeof vol[method]=="function"&&(fs3[method]=vol[method].bind(vol));return fs3.StatWatcher=vol.StatWatcher,fs3.FSWatcher=vol.FSWatcher,fs3.WriteStream=vol.WriteStream,fs3.ReadStream=vol.ReadStream,fs3.promises=vol.promises,typeof vol.realpath=="function"&&(fs3.realpath=vol.realpath.bind(vol),typeof vol.realpath.native=="function"&&(fs3.realpath.native=vol.realpath.native.bind(vol))),typeof vol.realpathSync=="function"&&(fs3.realpathSync=vol.realpathSync.bind(vol),typeof vol.realpathSync.native=="function"&&(fs3.realpathSync.native=vol.realpathSync.native.bind(vol))),fs3._toUnixTimestamp=fs_node_1.toUnixTimestamp,fs3.__vol=vol,fs3}exports2.fs=createFsFromVolume2(exports2.vol);var memfs=(json={},cwd="/")=>{let vol=fs_node_1.Volume.fromNestedJSON(json,cwd);return{fs:createFsFromVolume2(vol),vol}};exports2.memfs=memfs;module2.exports={...module2.exports,...exports2.fs};module2.exports.semantic=!0}});var require_delayed_stream=__commonJS({"../../../../node_modules/delayed-stream/lib/delayed_stream.js"(exports2,module2){var Stream=require("stream").Stream,util3=require("util");module2.exports=DelayedStream;function DelayedStream(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}util3.inherits(DelayedStream,Stream);DelayedStream.create=function(source,options2){var delayedStream=new this;options2=options2||{};for(var option in options2)delayedStream[option]=options2[option];delayedStream.source=source;var realEmit=source.emit;return source.emit=function(){return delayedStream._handleEmit(arguments),realEmit.apply(source,arguments)},source.on("error",function(){}),delayedStream.pauseStream&&source.pause(),delayedStream};Object.defineProperty(DelayedStream.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});DelayedStream.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};DelayedStream.prototype.resume=function(){this._released||this.release(),this.source.resume()};DelayedStream.prototype.pause=function(){this.source.pause()};DelayedStream.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(args){this.emit.apply(this,args)}.bind(this)),this._bufferedEvents=[]};DelayedStream.prototype.pipe=function(){var r=Stream.prototype.pipe.apply(this,arguments);return this.resume(),r};DelayedStream.prototype._handleEmit=function(args){if(this._released){this.emit.apply(this,args);return}args[0]==="data"&&(this.dataSize+=args[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(args)};DelayedStream.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var message="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(message))}}}});var require_combined_stream=__commonJS({"../../../../node_modules/combined-stream/lib/combined_stream.js"(exports2,module2){var util3=require("util"),Stream=require("stream").Stream,DelayedStream=require_delayed_stream();module2.exports=CombinedStream;function CombinedStream(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}util3.inherits(CombinedStream,Stream);CombinedStream.create=function(options2){var combinedStream=new this;options2=options2||{};for(var option in options2)combinedStream[option]=options2[option];return combinedStream};CombinedStream.isStreamLike=function(stream){return typeof stream!="function"&&typeof stream!="string"&&typeof stream!="boolean"&&typeof stream!="number"&&!Buffer.isBuffer(stream)};CombinedStream.prototype.append=function(stream){var isStreamLike=CombinedStream.isStreamLike(stream);if(isStreamLike){if(!(stream instanceof DelayedStream)){var newStream=DelayedStream.create(stream,{maxDataSize:1/0,pauseStream:this.pauseStreams});stream.on("data",this._checkDataSize.bind(this)),stream=newStream}this._handleErrors(stream),this.pauseStreams&&stream.pause()}return this._streams.push(stream),this};CombinedStream.prototype.pipe=function(dest,options2){return Stream.prototype.pipe.call(this,dest,options2),this.resume(),dest};CombinedStream.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};CombinedStream.prototype._realGetNext=function(){var stream=this._streams.shift();if(typeof stream>"u"){this.end();return}if(typeof stream!="function"){this._pipeNext(stream);return}var getStream=stream;getStream(function(stream2){var isStreamLike=CombinedStream.isStreamLike(stream2);isStreamLike&&(stream2.on("data",this._checkDataSize.bind(this)),this._handleErrors(stream2)),this._pipeNext(stream2)}.bind(this))};CombinedStream.prototype._pipeNext=function(stream){this._currentStream=stream;var isStreamLike=CombinedStream.isStreamLike(stream);if(isStreamLike){stream.on("end",this._getNext.bind(this)),stream.pipe(this,{end:!1});return}var value=stream;this.write(value),this._getNext()};CombinedStream.prototype._handleErrors=function(stream){var self2=this;stream.on("error",function(err){self2._emitError(err)})};CombinedStream.prototype.write=function(data){this.emit("data",data)};CombinedStream.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};CombinedStream.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};CombinedStream.prototype.end=function(){this._reset(),this.emit("end")};CombinedStream.prototype.destroy=function(){this._reset(),this.emit("close")};CombinedStream.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};CombinedStream.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var message="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(message))}};CombinedStream.prototype._updateDataSize=function(){this.dataSize=0;var self2=this;this._streams.forEach(function(stream){stream.dataSize&&(self2.dataSize+=stream.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};CombinedStream.prototype._emitError=function(err){this._reset(),this.emit("error",err)}}});var require_db=__commonJS({"../../../../node_modules/mime-types/node_modules/mime-db/db.json"(exports2,module2){module2.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}}});var require_mime_db=__commonJS({"../../../../node_modules/mime-types/node_modules/mime-db/index.js"(exports2,module2){module2.exports=require_db()}});var require_mime_types=__commonJS({"../../../../node_modules/mime-types/index.js"(exports2){"use strict";var db=require_mime_db(),extname=require("path").extname,EXTRACT_TYPE_REGEXP=/^\s*([^;\s]*)(?:;|\s|$)/,TEXT_TYPE_REGEXP=/^text\//i;exports2.charset=charset;exports2.charsets={lookup:charset};exports2.contentType=contentType;exports2.extension=extension;exports2.extensions=Object.create(null);exports2.lookup=lookup;exports2.types=Object.create(null);populateMaps(exports2.extensions,exports2.types);function charset(type){if(!type||typeof type!="string")return!1;var match2=EXTRACT_TYPE_REGEXP.exec(type),mime=match2&&db[match2[1].toLowerCase()];return mime&&mime.charset?mime.charset:match2&&TEXT_TYPE_REGEXP.test(match2[1])?"UTF-8":!1}function contentType(str){if(!str||typeof str!="string")return!1;var mime=str.indexOf("/")===-1?exports2.lookup(str):str;if(!mime)return!1;if(mime.indexOf("charset")===-1){var charset2=exports2.charset(mime);charset2&&(mime+="; charset="+charset2.toLowerCase())}return mime}function extension(type){if(!type||typeof type!="string")return!1;var match2=EXTRACT_TYPE_REGEXP.exec(type),exts=match2&&exports2.extensions[match2[1].toLowerCase()];return!exts||!exts.length?!1:exts[0]}function lookup(path5){if(!path5||typeof path5!="string")return!1;var extension2=extname("x."+path5).toLowerCase().substr(1);return extension2&&exports2.types[extension2]||!1}function populateMaps(extensions,types){var preference=["nginx","apache",void 0,"iana"];Object.keys(db).forEach(function(type){var mime=db[type],exts=mime.extensions;if(!(!exts||!exts.length)){extensions[type]=exts;for(var i=0;i<exts.length;i++){var extension2=exts[i];if(types[extension2]){var from=preference.indexOf(db[types[extension2]].source),to=preference.indexOf(mime.source);if(types[extension2]!=="application/octet-stream"&&(from>to||from===to&&types[extension2].substr(0,12)==="application/"))continue}types[extension2]=type}}})}}});var require_defer=__commonJS({"../../../../node_modules/asynckit/lib/defer.js"(exports2,module2){module2.exports=defer;function defer(fn){var nextTick=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;nextTick?nextTick(fn):setTimeout(fn,0)}}});var require_async2=__commonJS({"../../../../node_modules/asynckit/lib/async.js"(exports2,module2){var defer=require_defer();module2.exports=async;function async(callback){var isAsync2=!1;return defer(function(){isAsync2=!0}),function(err,result){isAsync2?callback(err,result):defer(function(){callback(err,result)})}}}});var require_abort=__commonJS({"../../../../node_modules/asynckit/lib/abort.js"(exports2,module2){module2.exports=abort;function abort(state){Object.keys(state.jobs).forEach(clean.bind(state)),state.jobs={}}function clean(key){typeof this.jobs[key]=="function"&&this.jobs[key]()}}});var require_iterate=__commonJS({"../../../../node_modules/asynckit/lib/iterate.js"(exports2,module2){var async=require_async2(),abort=require_abort();module2.exports=iterate;function iterate(list2,iterator,state,callback){var key=state.keyedList?state.keyedList[state.index]:state.index;state.jobs[key]=runJob(iterator,key,list2[key],function(error,output){key in state.jobs&&(delete state.jobs[key],error?abort(state):state.results[key]=output,callback(error,state.results))})}function runJob(iterator,key,item,callback){var aborter;return iterator.length==2?aborter=iterator(item,async(callback)):aborter=iterator(item,key,async(callback)),aborter}}});var require_state=__commonJS({"../../../../node_modules/asynckit/lib/state.js"(exports2,module2){module2.exports=state;function state(list2,sortMethod){var isNamedList=!Array.isArray(list2),initState={index:0,keyedList:isNamedList||sortMethod?Object.keys(list2):null,jobs:{},results:isNamedList?{}:[],size:isNamedList?Object.keys(list2).length:list2.length};return sortMethod&&initState.keyedList.sort(isNamedList?sortMethod:function(a,b){return sortMethod(list2[a],list2[b])}),initState}}});var require_terminator=__commonJS({"../../../../node_modules/asynckit/lib/terminator.js"(exports2,module2){var abort=require_abort(),async=require_async2();module2.exports=terminator;function terminator(callback){Object.keys(this.jobs).length&&(this.index=this.size,abort(this),async(callback)(null,this.results))}}});var require_parallel=__commonJS({"../../../../node_modules/asynckit/parallel.js"(exports2,module2){var iterate=require_iterate(),initState=require_state(),terminator=require_terminator();module2.exports=parallel;function parallel(list2,iterator,callback){for(var state=initState(list2);state.index<(state.keyedList||list2).length;)iterate(list2,iterator,state,function(error,result){if(error){callback(error,result);return}if(Object.keys(state.jobs).length===0){callback(null,state.results);return}}),state.index++;return terminator.bind(state,callback)}}});var require_serialOrdered=__commonJS({"../../../../node_modules/asynckit/serialOrdered.js"(exports2,module2){var iterate=require_iterate(),initState=require_state(),terminator=require_terminator();module2.exports=serialOrdered;module2.exports.ascending=ascending;module2.exports.descending=descending;function serialOrdered(list2,iterator,sortMethod,callback){var state=initState(list2,sortMethod);return iterate(list2,iterator,state,function iteratorHandler(error,result){if(error){callback(error,result);return}if(state.index++,state.index<(state.keyedList||list2).length){iterate(list2,iterator,state,iteratorHandler);return}callback(null,state.results)}),terminator.bind(state,callback)}function ascending(a,b){return a<b?-1:a>b?1:0}function descending(a,b){return-1*ascending(a,b)}}});var require_serial=__commonJS({"../../../../node_modules/asynckit/serial.js"(exports2,module2){var serialOrdered=require_serialOrdered();module2.exports=serial;function serial(list2,iterator,callback){return serialOrdered(list2,iterator,null,callback)}}});var require_asynckit=__commonJS({"../../../../node_modules/asynckit/index.js"(exports2,module2){module2.exports={parallel:require_parallel(),serial:require_serial(),serialOrdered:require_serialOrdered()}}});var require_es_object_atoms=__commonJS({"../../../../node_modules/es-object-atoms/index.js"(exports2,module2){"use strict";module2.exports=Object}});var require_es_errors=__commonJS({"../../../../node_modules/es-errors/index.js"(exports2,module2){"use strict";module2.exports=Error}});var require_eval=__commonJS({"../../../../node_modules/es-errors/eval.js"(exports2,module2){"use strict";module2.exports=EvalError}});var require_range2=__commonJS({"../../../../node_modules/es-errors/range.js"(exports2,module2){"use strict";module2.exports=RangeError}});var require_ref3=__commonJS({"../../../../node_modules/es-errors/ref.js"(exports2,module2){"use strict";module2.exports=ReferenceError}});var require_syntax=__commonJS({"../../../../node_modules/es-errors/syntax.js"(exports2,module2){"use strict";module2.exports=SyntaxError}});var require_type2=__commonJS({"../../../../node_modules/es-errors/type.js"(exports2,module2){"use strict";module2.exports=TypeError}});var require_uri2=__commonJS({"../../../../node_modules/es-errors/uri.js"(exports2,module2){"use strict";module2.exports=URIError}});var require_abs=__commonJS({"../../../../node_modules/math-intrinsics/abs.js"(exports2,module2){"use strict";module2.exports=Math.abs}});var require_floor=__commonJS({"../../../../node_modules/math-intrinsics/floor.js"(exports2,module2){"use strict";module2.exports=Math.floor}});var require_max=__commonJS({"../../../../node_modules/math-intrinsics/max.js"(exports2,module2){"use strict";module2.exports=Math.max}});var require_min=__commonJS({"../../../../node_modules/math-intrinsics/min.js"(exports2,module2){"use strict";module2.exports=Math.min}});var require_pow=__commonJS({"../../../../node_modules/math-intrinsics/pow.js"(exports2,module2){"use strict";module2.exports=Math.pow}});var require_round=__commonJS({"../../../../node_modules/math-intrinsics/round.js"(exports2,module2){"use strict";module2.exports=Math.round}});var require_isNaN=__commonJS({"../../../../node_modules/math-intrinsics/isNaN.js"(exports2,module2){"use strict";module2.exports=Number.isNaN||function(a){return a!==a}}});var require_sign=__commonJS({"../../../../node_modules/math-intrinsics/sign.js"(exports2,module2){"use strict";var $isNaN=require_isNaN();module2.exports=function(number){return $isNaN(number)||number===0?number:number<0?-1:1}}});var require_gOPD=__commonJS({"../../../../node_modules/gopd/gOPD.js"(exports2,module2){"use strict";module2.exports=Object.getOwnPropertyDescriptor}});var require_gopd=__commonJS({"../../../../node_modules/gopd/index.js"(exports2,module2){"use strict";var $gOPD=require_gOPD();if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}module2.exports=$gOPD}});var require_es_define_property=__commonJS({"../../../../node_modules/es-define-property/index.js"(exports2,module2){"use strict";var $defineProperty=Object.defineProperty||!1;if($defineProperty)try{$defineProperty({},"a",{value:1})}catch{$defineProperty=!1}module2.exports=$defineProperty}});var require_shams=__commonJS({"../../../../node_modules/has-symbols/shams.js"(exports2,module2){"use strict";module2.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var obj={},sym=Symbol("test"),symObj=Object(sym);if(typeof sym=="string"||Object.prototype.toString.call(sym)!=="[object Symbol]"||Object.prototype.toString.call(symObj)!=="[object Symbol]")return!1;var symVal=42;obj[sym]=symVal;for(var _ in obj)return!1;if(typeof Object.keys=="function"&&Object.keys(obj).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(obj).length!==0)return!1;var syms=Object.getOwnPropertySymbols(obj);if(syms.length!==1||syms[0]!==sym||!Object.prototype.propertyIsEnumerable.call(obj,sym))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(descriptor.value!==symVal||descriptor.enumerable!==!0)return!1}return!0}}});var require_has_symbols=__commonJS({"../../../../node_modules/has-symbols/index.js"(exports2,module2){"use strict";var origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=require_shams();module2.exports=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()}}});var require_Reflect_getPrototypeOf=__commonJS({"../../../../node_modules/get-proto/Reflect.getPrototypeOf.js"(exports2,module2){"use strict";module2.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null}});var require_Object_getPrototypeOf=__commonJS({"../../../../node_modules/get-proto/Object.getPrototypeOf.js"(exports2,module2){"use strict";var $Object=require_es_object_atoms();module2.exports=$Object.getPrototypeOf||null}});var require_implementation=__commonJS({"../../../../node_modules/function-bind/implementation.js"(exports2,module2){"use strict";var ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr=Object.prototype.toString,max=Math.max,funcType="[object Function]",concatty=function(a,b){for(var arr=[],i=0;i<a.length;i+=1)arr[i]=a[i];for(var j=0;j<b.length;j+=1)arr[j+a.length]=b[j];return arr},slicy=function(arrLike,offset){for(var arr=[],i=offset||0,j=0;i<arrLike.length;i+=1,j+=1)arr[j]=arrLike[i];return arr},joiny=function(arr,joiner){for(var str="",i=0;i<arr.length;i+=1)str+=arr[i],i+1<arr.length&&(str+=joiner);return str};module2.exports=function(that){var target=this;if(typeof target!="function"||toStr.apply(target)!==funcType)throw new TypeError(ERROR_MESSAGE+target);for(var args=slicy(arguments,1),bound,binder=function(){if(this instanceof bound){var result=target.apply(this,concatty(args,arguments));return Object(result)===result?result:this}return target.apply(that,concatty(args,arguments))},boundLength=max(0,target.length-args.length),boundArgs=[],i=0;i<boundLength;i++)boundArgs[i]="$"+i;if(bound=Function("binder","return function ("+joiny(boundArgs,",")+"){ return binder.apply(this,arguments); }")(binder),target.prototype){var Empty=function(){};Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null}return bound}}});var require_function_bind=__commonJS({"../../../../node_modules/function-bind/index.js"(exports2,module2){"use strict";var implementation=require_implementation();module2.exports=Function.prototype.bind||implementation}});var require_functionCall=__commonJS({"../../../../node_modules/call-bind-apply-helpers/functionCall.js"(exports2,module2){"use strict";module2.exports=Function.prototype.call}});var require_functionApply=__commonJS({"../../../../node_modules/call-bind-apply-helpers/functionApply.js"(exports2,module2){"use strict";module2.exports=Function.prototype.apply}});var require_reflectApply=__commonJS({"../../../../node_modules/call-bind-apply-helpers/reflectApply.js"(exports2,module2){"use strict";module2.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply}});var require_actualApply=__commonJS({"../../../../node_modules/call-bind-apply-helpers/actualApply.js"(exports2,module2){"use strict";var bind=require_function_bind(),$apply=require_functionApply(),$call=require_functionCall(),$reflectApply=require_reflectApply();module2.exports=$reflectApply||bind.call($call,$apply)}});var require_call_bind_apply_helpers=__commonJS({"../../../../node_modules/call-bind-apply-helpers/index.js"(exports2,module2){"use strict";var bind=require_function_bind(),$TypeError=require_type2(),$call=require_functionCall(),$actualApply=require_actualApply();module2.exports=function(args){if(args.length<1||typeof args[0]!="function")throw new $TypeError("a function is required");return $actualApply(bind,$call,args)}}});var require_get=__commonJS({"../../../../node_modules/dunder-proto/get.js"(exports2,module2){"use strict";var callBind=require_call_bind_apply_helpers(),gOPD=require_gopd(),hasProtoAccessor;try{hasProtoAccessor=[].__proto__===Array.prototype}catch(e){if(!e||typeof e!="object"||!("code"in e)||e.code!=="ERR_PROTO_ACCESS")throw e}var desc=!!hasProtoAccessor&&gOPD&&gOPD(Object.prototype,"__proto__"),$Object=Object,$getPrototypeOf=$Object.getPrototypeOf;module2.exports=desc&&typeof desc.get=="function"?callBind([desc.get]):typeof $getPrototypeOf=="function"?function(value){return $getPrototypeOf(value==null?value:$Object(value))}:!1}});var require_get_proto=__commonJS({"../../../../node_modules/get-proto/index.js"(exports2,module2){"use strict";var reflectGetProto=require_Reflect_getPrototypeOf(),originalGetProto=require_Object_getPrototypeOf(),getDunderProto=require_get();module2.exports=reflectGetProto?function(O){return reflectGetProto(O)}:originalGetProto?function(O){if(!O||typeof O!="object"&&typeof O!="function")throw new TypeError("getProto: not an object");return originalGetProto(O)}:getDunderProto?function(O){return getDunderProto(O)}:null}});var require_async_function=__commonJS({"../../../../node_modules/async-function/index.js"(exports2,module2){"use strict";var cached=async function(){}.constructor;module2.exports=()=>cached}});var require_generator_function=__commonJS({"../../../../node_modules/generator-function/index.js"(exports2,module2){"use strict";var cached=function*(){}.constructor;module2.exports=()=>cached}});var require_async_generator_function=__commonJS({"../../../../node_modules/async-generator-function/index.js"(exports2,module2){"use strict";var cached=async function*(){}.constructor;module2.exports=()=>cached}});var require_hasown=__commonJS({"../../../../node_modules/hasown/index.js"(exports2,module2){"use strict";var call=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind=require_function_bind();module2.exports=bind.call(call,$hasOwn)}});var require_get_intrinsic=__commonJS({"../../../../node_modules/get-intrinsic/index.js"(exports2,module2){"use strict";var undefined2,$Object=require_es_object_atoms(),$Error=require_es_errors(),$EvalError=require_eval(),$RangeError=require_range2(),$ReferenceError=require_ref3(),$SyntaxError=require_syntax(),$TypeError=require_type2(),$URIError=require_uri2(),abs=require_abs(),floor=require_floor(),max=require_max(),min=require_min(),pow=require_pow(),round=require_round(),sign=require_sign(),$gOPD=require_gopd(),$defineProperty=require_es_define_property(),throwTypeError=function(){throw new $TypeError},ThrowTypeError=$gOPD?(function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD(arguments,"callee").get}catch{return throwTypeError}}})():throwTypeError,hasSymbols=require_has_symbols()(),getProto=require_get_proto(),$ObjectGPO=require_Object_getPrototypeOf(),$ReflectGPO=require_Reflect_getPrototypeOf(),$apply=require_functionApply(),$call=require_functionCall(),needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto?undefined2:getProto(Uint8Array),INTRINSICS={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?undefined2:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined2:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols&&getProto?getProto([][Symbol.iterator]()):undefined2,"%AsyncFromSyncIteratorPrototype%":undefined2,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined2:Atomics,"%BigInt%":typeof BigInt>"u"?undefined2:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined2:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined2:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined2:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float16Array%":typeof Float16Array>"u"?undefined2:Float16Array,"%Float32Array%":typeof Float32Array>"u"?undefined2:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined2:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined2:FinalizationRegistry,"%Function%":Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined2:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined2:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined2:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols&&getProto?getProto(getProto([][Symbol.iterator]())):undefined2,"%JSON%":typeof JSON=="object"?JSON:undefined2,"%Map%":typeof Map>"u"?undefined2:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols||!getProto?undefined2:getProto(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":$Object,"%Object.getOwnPropertyDescriptor%":$gOPD,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined2:Promise,"%Proxy%":typeof Proxy>"u"?undefined2:Proxy,"%RangeError%":$RangeError,"%ReferenceError%":$ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined2:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined2:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols||!getProto?undefined2:getProto(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined2:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols&&getProto?getProto(""[Symbol.iterator]()):undefined2,"%Symbol%":hasSymbols?Symbol:undefined2,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError,"%Uint8Array%":typeof Uint8Array>"u"?undefined2:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined2:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined2:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined2:Uint32Array,"%URIError%":$URIError,"%WeakMap%":typeof WeakMap>"u"?undefined2:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined2:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined2:WeakSet,"%Function.prototype.call%":$call,"%Function.prototype.apply%":$apply,"%Object.defineProperty%":$defineProperty,"%Object.getPrototypeOf%":$ObjectGPO,"%Math.abs%":abs,"%Math.floor%":floor,"%Math.max%":max,"%Math.min%":min,"%Math.pow%":pow,"%Math.round%":round,"%Math.sign%":sign,"%Reflect.getPrototypeOf%":$ReflectGPO};if(getProto)try{null.error}catch(e){errorProto=getProto(getProto(e)),INTRINSICS["%Error.prototype%"]=errorProto}var errorProto,getAsyncFunction=require_async_function(),getGeneratorFunction=require_generator_function(),getAsyncGeneratorFunction=require_async_generator_function(),doEval=function doEval2(name){var value;if(name==="%AsyncFunction%")value=getAsyncFunction()||void 0;else if(name==="%GeneratorFunction%")value=getGeneratorFunction()||void 0;else if(name==="%AsyncGeneratorFunction%")value=getAsyncGeneratorFunction()||void 0;else if(name==="%AsyncGenerator%"){var fn=doEval2("%AsyncGeneratorFunction%");fn&&(value=fn.prototype)}else if(name==="%AsyncIteratorPrototype%"){var gen=doEval2("%AsyncGenerator%");gen&&getProto&&(value=getProto(gen.prototype))}return INTRINSICS[name]=value,value},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=require_function_bind(),hasOwn=require_hasown(),$concat=bind.call($call,Array.prototype.concat),$spliceApply=bind.call($apply,Array.prototype.splice),$replace=bind.call($call,String.prototype.replace),$strSlice=bind.call($call,String.prototype.slice),$exec=bind.call($call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(string){var first=$strSlice(string,0,1),last=$strSlice(string,-1);if(first==="%"&&last!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if(last==="%"&&first!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var result=[];return $replace(string,rePropName,function(match2,number,quote,subString){result[result.length]=quote?$replace(subString,reEscapeChar,"$1"):number||match2}),result},getBaseIntrinsic=function(name,allowMissing){var intrinsicName=name,alias;if(hasOwn(LEGACY_ALIASES,intrinsicName)&&(alias=LEGACY_ALIASES[intrinsicName],intrinsicName="%"+alias[0]+"%"),hasOwn(INTRINSICS,intrinsicName)){var value=INTRINSICS[intrinsicName];if(value===needsEval&&(value=doEval(intrinsicName)),typeof value>"u"&&!allowMissing)throw new $TypeError("intrinsic "+name+" exists, but is not available. Please file an issue!");return{alias,name:intrinsicName,value}}throw new $SyntaxError("intrinsic "+name+" does not exist!")};module2.exports=function(name,allowMissing){if(typeof name!="string"||name.length===0)throw new $TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof allowMissing!="boolean")throw new $TypeError('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,name)===null)throw new $SyntaxError("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var parts=stringToPath(name),intrinsicBaseName=parts.length>0?parts[0]:"",intrinsic=getBaseIntrinsic("%"+intrinsicBaseName+"%",allowMissing),intrinsicRealName=intrinsic.name,value=intrinsic.value,skipFurtherCaching=!1,alias=intrinsic.alias;alias&&(intrinsicBaseName=alias[0],$spliceApply(parts,$concat([0,1],alias)));for(var i=1,isOwn=!0;i<parts.length;i+=1){var part=parts[i],first=$strSlice(part,0,1),last=$strSlice(part,-1);if((first==='"'||first==="'"||first==="`"||last==='"'||last==="'"||last==="`")&&first!==last)throw new $SyntaxError("property names with quotes must have matching quotes");if((part==="constructor"||!isOwn)&&(skipFurtherCaching=!0),intrinsicBaseName+="."+part,intrinsicRealName="%"+intrinsicBaseName+"%",hasOwn(INTRINSICS,intrinsicRealName))value=INTRINSICS[intrinsicRealName];else if(value!=null){if(!(part in value)){if(!allowMissing)throw new $TypeError("base intrinsic for "+name+" exists, but the property is not available.");return}if($gOPD&&i+1>=parts.length){var desc=$gOPD(value,part);isOwn=!!desc,isOwn&&"get"in desc&&!("originalValue"in desc.get)?value=desc.get:value=value[part]}else isOwn=hasOwn(value,part),value=value[part];isOwn&&!skipFurtherCaching&&(INTRINSICS[intrinsicRealName]=value)}}return value}}});var require_shams2=__commonJS({"../../../../node_modules/has-tostringtag/shams.js"(exports2,module2){"use strict";var hasSymbols=require_shams();module2.exports=function(){return hasSymbols()&&!!Symbol.toStringTag}}});var require_es_set_tostringtag=__commonJS({"../../../../node_modules/es-set-tostringtag/index.js"(exports2,module2){"use strict";var GetIntrinsic=require_get_intrinsic(),$defineProperty=GetIntrinsic("%Object.defineProperty%",!0),hasToStringTag=require_shams2()(),hasOwn=require_hasown(),$TypeError=require_type2(),toStringTag=hasToStringTag?Symbol.toStringTag:null;module2.exports=function(object,value){var overrideIfSet=arguments.length>2&&!!arguments[2]&&arguments[2].force,nonConfigurable=arguments.length>2&&!!arguments[2]&&arguments[2].nonConfigurable;if(typeof overrideIfSet<"u"&&typeof overrideIfSet!="boolean"||typeof nonConfigurable<"u"&&typeof nonConfigurable!="boolean")throw new $TypeError("if provided, the `overrideIfSet` and `nonConfigurable` options must be booleans");toStringTag&&(overrideIfSet||!hasOwn(object,toStringTag))&&($defineProperty?$defineProperty(object,toStringTag,{configurable:!nonConfigurable,enumerable:!1,value,writable:!1}):object[toStringTag]=value)}}});var require_populate=__commonJS({"../../../../node_modules/form-data/lib/populate.js"(exports2,module2){"use strict";module2.exports=function(dst,src){return Object.keys(src).forEach(function(prop){dst[prop]=dst[prop]||src[prop]}),dst}}});var require_form_data2=__commonJS({"../../../../node_modules/form-data/lib/form_data.js"(exports2,module2){"use strict";var CombinedStream=require_combined_stream(),util3=require("util"),path5=require("path"),http=require("http"),https=require("https"),parseUrl=require("url").parse,fs3=require("fs"),Stream=require("stream").Stream,crypto2=require("crypto"),mime=require_mime_types(),asynckit=require_asynckit(),setToStringTag=require_es_set_tostringtag(),hasOwn=require_hasown(),populate=require_populate();function FormData2(options2){if(!(this instanceof FormData2))return new FormData2(options2);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],CombinedStream.call(this),options2=options2||{};for(var option in options2)this[option]=options2[option]}util3.inherits(FormData2,CombinedStream);FormData2.LINE_BREAK=`\r
`;FormData2.DEFAULT_CONTENT_TYPE="application/octet-stream";FormData2.prototype.append=function(field,value,options2){options2=options2||{},typeof options2=="string"&&(options2={filename:options2});var append=CombinedStream.prototype.append.bind(this);if((typeof value=="number"||value==null)&&(value=String(value)),Array.isArray(value)){this._error(new Error("Arrays are not supported."));return}var header=this._multiPartHeader(field,value,options2),footer=this._multiPartFooter();append(header),append(value),append(footer),this._trackLength(header,value,options2)};FormData2.prototype._trackLength=function(header,value,options2){var valueLength=0;options2.knownLength!=null?valueLength+=Number(options2.knownLength):Buffer.isBuffer(value)?valueLength=value.length:typeof value=="string"&&(valueLength=Buffer.byteLength(value)),this._valueLength+=valueLength,this._overheadLength+=Buffer.byteLength(header)+FormData2.LINE_BREAK.length,!(!value||!value.path&&!(value.readable&&hasOwn(value,"httpVersion"))&&!(value instanceof Stream))&&(options2.knownLength||this._valuesToMeasure.push(value))};FormData2.prototype._lengthRetriever=function(value,callback){hasOwn(value,"fd")?value.end!=null&&value.end!=1/0&&value.start!=null?callback(null,value.end+1-(value.start?value.start:0)):fs3.stat(value.path,function(err,stat){if(err){callback(err);return}var fileSize=stat.size-(value.start?value.start:0);callback(null,fileSize)}):hasOwn(value,"httpVersion")?callback(null,Number(value.headers["content-length"])):hasOwn(value,"httpModule")?(value.on("response",function(response){value.pause(),callback(null,Number(response.headers["content-length"]))}),value.resume()):callback("Unknown stream")};FormData2.prototype._multiPartHeader=function(field,value,options2){if(typeof options2.header=="string")return options2.header;var contentDisposition=this._getContentDisposition(value,options2),contentType=this._getContentType(value,options2),contents="",headers={"Content-Disposition":["form-data",'name="'+field+'"'].concat(contentDisposition||[]),"Content-Type":[].concat(contentType||[])};typeof options2.header=="object"&&populate(headers,options2.header);var header;for(var prop in headers)if(hasOwn(headers,prop)){if(header=headers[prop],header==null)continue;Array.isArray(header)||(header=[header]),header.length&&(contents+=prop+": "+header.join("; ")+FormData2.LINE_BREAK)}return"--"+this.getBoundary()+FormData2.LINE_BREAK+contents+FormData2.LINE_BREAK};FormData2.prototype._getContentDisposition=function(value,options2){var filename;if(typeof options2.filepath=="string"?filename=path5.normalize(options2.filepath).replace(/\\/g,"/"):options2.filename||value&&(value.name||value.path)?filename=path5.basename(options2.filename||value&&(value.name||value.path)):value&&value.readable&&hasOwn(value,"httpVersion")&&(filename=path5.basename(value.client._httpMessage.path||"")),filename)return'filename="'+filename+'"'};FormData2.prototype._getContentType=function(value,options2){var contentType=options2.contentType;return!contentType&&value&&value.name&&(contentType=mime.lookup(value.name)),!contentType&&value&&value.path&&(contentType=mime.lookup(value.path)),!contentType&&value&&value.readable&&hasOwn(value,"httpVersion")&&(contentType=value.headers["content-type"]),!contentType&&(options2.filepath||options2.filename)&&(contentType=mime.lookup(options2.filepath||options2.filename)),!contentType&&value&&typeof value=="object"&&(contentType=FormData2.DEFAULT_CONTENT_TYPE),contentType};FormData2.prototype._multiPartFooter=function(){return function(next){var footer=FormData2.LINE_BREAK,lastPart=this._streams.length===0;lastPart&&(footer+=this._lastBoundary()),next(footer)}.bind(this)};FormData2.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+FormData2.LINE_BREAK};FormData2.prototype.getHeaders=function(userHeaders){var header,formHeaders={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(header in userHeaders)hasOwn(userHeaders,header)&&(formHeaders[header.toLowerCase()]=userHeaders[header]);return formHeaders};FormData2.prototype.setBoundary=function(boundary){if(typeof boundary!="string")throw new TypeError("FormData boundary must be a string");this._boundary=boundary};FormData2.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};FormData2.prototype.getBuffer=function(){for(var dataBuffer=new Buffer.alloc(0),boundary=this.getBoundary(),i=0,len=this._streams.length;i<len;i++)typeof this._streams[i]!="function"&&(Buffer.isBuffer(this._streams[i])?dataBuffer=Buffer.concat([dataBuffer,this._streams[i]]):dataBuffer=Buffer.concat([dataBuffer,Buffer.from(this._streams[i])]),(typeof this._streams[i]!="string"||this._streams[i].substring(2,boundary.length+2)!==boundary)&&(dataBuffer=Buffer.concat([dataBuffer,Buffer.from(FormData2.LINE_BREAK)])));return Buffer.concat([dataBuffer,Buffer.from(this._lastBoundary())])};FormData2.prototype._generateBoundary=function(){this._boundary="--------------------------"+crypto2.randomBytes(12).toString("hex")};FormData2.prototype.getLengthSync=function(){var knownLength=this._overheadLength+this._valueLength;return this._streams.length&&(knownLength+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),knownLength};FormData2.prototype.hasKnownLength=function(){var hasKnownLength=!0;return this._valuesToMeasure.length&&(hasKnownLength=!1),hasKnownLength};FormData2.prototype.getLength=function(cb){var knownLength=this._overheadLength+this._valueLength;if(this._streams.length&&(knownLength+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(cb.bind(this,null,knownLength));return}asynckit.parallel(this._valuesToMeasure,this._lengthRetriever,function(err,values2){if(err){cb(err);return}values2.forEach(function(length){knownLength+=length}),cb(null,knownLength)})};FormData2.prototype.submit=function(params,cb){var request2,options2,defaults={method:"post"};return typeof params=="string"?(params=parseUrl(params),options2=populate({port:params.port,path:params.pathname,host:params.hostname,protocol:params.protocol},defaults)):(options2=populate(params,defaults),options2.port||(options2.port=options2.protocol==="https:"?443:80)),options2.headers=this.getHeaders(params.headers),options2.protocol==="https:"?request2=https.request(options2):request2=http.request(options2),this.getLength(function(err,length){if(err&&err!=="Unknown stream"){this._error(err);return}if(length&&request2.setHeader("Content-Length",length),this.pipe(request2),cb){var onResponse,callback=function(error,responce){return request2.removeListener("error",callback),request2.removeListener("response",onResponse),cb.call(this,error,responce)};onResponse=callback.bind(this,null),request2.on("error",callback),request2.on("response",onResponse)}}.bind(this)),request2};FormData2.prototype._error=function(err){this.error||(this.error=err,this.pause(),this.emit("error",err))};FormData2.prototype.toString=function(){return"[object FormData]"};setToStringTag(FormData2,"FormData");module2.exports=FormData2}});var require_proxy_from_env=__commonJS({"../../../../node_modules/proxy-from-env/index.js"(exports2){"use strict";var parseUrl=require("url").parse,DEFAULT_PORTS={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},stringEndsWith=String.prototype.endsWith||function(s){return s.length<=this.length&&this.indexOf(s,this.length-s.length)!==-1};function getProxyForUrl(url){var parsedUrl=typeof url=="string"?parseUrl(url):url||{},proto=parsedUrl.protocol,hostname=parsedUrl.host,port=parsedUrl.port;if(typeof hostname!="string"||!hostname||typeof proto!="string"||(proto=proto.split(":",1)[0],hostname=hostname.replace(/:\d*$/,""),port=parseInt(port)||DEFAULT_PORTS[proto]||0,!shouldProxy(hostname,port)))return"";var proxy2=getEnv("npm_config_"+proto+"_proxy")||getEnv(proto+"_proxy")||getEnv("npm_config_proxy")||getEnv("all_proxy");return proxy2&&proxy2.indexOf("://")===-1&&(proxy2=proto+"://"+proxy2),proxy2}function shouldProxy(hostname,port){var NO_PROXY=(getEnv("npm_config_no_proxy")||getEnv("no_proxy")).toLowerCase();return NO_PROXY?NO_PROXY==="*"?!1:NO_PROXY.split(/[,\s]/).every(function(proxy2){if(!proxy2)return!0;var parsedProxy=proxy2.match(/^(.+):(\d+)$/),parsedProxyHostname=parsedProxy?parsedProxy[1]:proxy2,parsedProxyPort=parsedProxy?parseInt(parsedProxy[2]):0;return parsedProxyPort&&parsedProxyPort!==port?!0:/^[.*]/.test(parsedProxyHostname)?(parsedProxyHostname.charAt(0)==="*"&&(parsedProxyHostname=parsedProxyHostname.slice(1)),!stringEndsWith.call(hostname,parsedProxyHostname)):hostname!==parsedProxyHostname}):!0}function getEnv(key){return process.env[key.toLowerCase()]||process.env[key.toUpperCase()]||""}exports2.getProxyForUrl=getProxyForUrl}});var require_ms=__commonJS({"../../../../node_modules/ms/index.js"(exports2,module2){var s=1e3,m=s*60,h=m*60,d=h*24,w=d*7,y=d*365.25;module2.exports=function(val,options2){options2=options2||{};var type=typeof val;if(type==="string"&&val.length>0)return parse2(val);if(type==="number"&&isFinite(val))return options2.long?fmtLong(val):fmtShort(val);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(val))};function parse2(str){if(str=String(str),!(str.length>100)){var match2=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);if(match2){var n=parseFloat(match2[1]),type=(match2[2]||"ms").toLowerCase();switch(type){case"years":case"year":case"yrs":case"yr":case"y":return n*y;case"weeks":case"week":case"w":return n*w;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function fmtShort(ms){var msAbs=Math.abs(ms);return msAbs>=d?Math.round(ms/d)+"d":msAbs>=h?Math.round(ms/h)+"h":msAbs>=m?Math.round(ms/m)+"m":msAbs>=s?Math.round(ms/s)+"s":ms+"ms"}function fmtLong(ms){var msAbs=Math.abs(ms);return msAbs>=d?plural(ms,msAbs,d,"day"):msAbs>=h?plural(ms,msAbs,h,"hour"):msAbs>=m?plural(ms,msAbs,m,"minute"):msAbs>=s?plural(ms,msAbs,s,"second"):ms+" ms"}function plural(ms,msAbs,n,name){var isPlural=msAbs>=n*1.5;return Math.round(ms/n)+" "+name+(isPlural?"s":"")}}});var require_common=__commonJS({"../../../../node_modules/debug/src/common.js"(exports2,module2){function setup(env2){createDebug.debug=createDebug,createDebug.default=createDebug,createDebug.coerce=coerce2,createDebug.disable=disable,createDebug.enable=enable,createDebug.enabled=enabled2,createDebug.humanize=require_ms(),createDebug.destroy=destroy,Object.keys(env2).forEach(key=>{createDebug[key]=env2[key]}),createDebug.names=[],createDebug.skips=[],createDebug.formatters={};function selectColor(namespace){let hash=0;for(let i=0;i<namespace.length;i++)hash=(hash<<5)-hash+namespace.charCodeAt(i),hash|=0;return createDebug.colors[Math.abs(hash)%createDebug.colors.length]}createDebug.selectColor=selectColor;function createDebug(namespace){let prevTime,enableOverride=null,namespacesCache,enabledCache;function debug(...args){if(!debug.enabled)return;let self2=debug,curr=Number(new Date),ms=curr-(prevTime||curr);self2.diff=ms,self2.prev=prevTime,self2.curr=curr,prevTime=curr,args[0]=createDebug.coerce(args[0]),typeof args[0]!="string"&&args.unshift("%O");let index2=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,(match2,format2)=>{if(match2==="%%")return"%";index2++;let formatter=createDebug.formatters[format2];if(typeof formatter=="function"){let val=args[index2];match2=formatter.call(self2,val),args.splice(index2,1),index2--}return match2}),createDebug.formatArgs.call(self2,args),(self2.log||createDebug.log).apply(self2,args)}return debug.namespace=namespace,debug.useColors=createDebug.useColors(),debug.color=createDebug.selectColor(namespace),debug.extend=extend,debug.destroy=createDebug.destroy,Object.defineProperty(debug,"enabled",{enumerable:!0,configurable:!1,get:()=>enableOverride!==null?enableOverride:(namespacesCache!==createDebug.namespaces&&(namespacesCache=createDebug.namespaces,enabledCache=createDebug.enabled(namespace)),enabledCache),set:v=>{enableOverride=v}}),typeof createDebug.init=="function"&&createDebug.init(debug),debug}function extend(namespace,delimiter){let newDebug=createDebug(this.namespace+(typeof delimiter>"u"?":":delimiter)+namespace);return newDebug.log=this.log,newDebug}function enable(namespaces){createDebug.save(namespaces),createDebug.namespaces=namespaces,createDebug.names=[],createDebug.skips=[];let i,split=(typeof namespaces=="string"?namespaces:"").split(/[\s,]+/),len=split.length;for(i=0;i<len;i++)split[i]&&(namespaces=split[i].replace(/\*/g,".*?"),namespaces[0]==="-"?createDebug.skips.push(new RegExp("^"+namespaces.slice(1)+"$")):createDebug.names.push(new RegExp("^"+namespaces+"$")))}function disable(){let namespaces=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map(namespace=>"-"+namespace)].join(",");return createDebug.enable(""),namespaces}function enabled2(name){if(name[name.length-1]==="*")return!0;let i,len;for(i=0,len=createDebug.skips.length;i<len;i++)if(createDebug.skips[i].test(name))return!1;for(i=0,len=createDebug.names.length;i<len;i++)if(createDebug.names[i].test(name))return!0;return!1}function toNamespace(regexp){return regexp.toString().substring(2,regexp.toString().length-2).replace(/\.\*\?$/,"*")}function coerce2(val){return val instanceof Error?val.stack||val.message:val}function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return createDebug.enable(createDebug.load()),createDebug}module2.exports=setup}});var require_browser=__commonJS({"../../../../node_modules/debug/src/browser.js"(exports2,module2){exports2.formatArgs=formatArgs;exports2.save=save;exports2.load=load;exports2.useColors=useColors;exports2.storage=localstorage();exports2.destroy=(()=>{let warned=!1;return()=>{warned||(warned=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();exports2.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function useColors(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let m;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(m=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(m[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function formatArgs(args){if(args[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+args[0]+(this.useColors?"%c ":" ")+"+"+module2.exports.humanize(this.diff),!this.useColors)return;let c="color: "+this.color;args.splice(1,0,c,"color: inherit");let index2=0,lastC=0;args[0].replace(/%[a-zA-Z%]/g,match2=>{match2!=="%%"&&(index2++,match2==="%c"&&(lastC=index2))}),args.splice(lastC,0,c)}exports2.log=console.debug||console.log||(()=>{});function save(namespaces){try{namespaces?exports2.storage.setItem("debug",namespaces):exports2.storage.removeItem("debug")}catch{}}function load(){let r;try{r=exports2.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function localstorage(){try{return localStorage}catch{}}module2.exports=require_common()(exports2);var{formatters}=module2.exports;formatters.j=function(v){try{return JSON.stringify(v)}catch(error){return"[UnexpectedJSONParseError]: "+error.message}}}});var require_has_flag=__commonJS({"../../../../node_modules/has-flag/index.js"(exports2,module2){"use strict";module2.exports=(flag,argv=process.argv)=>{let prefix=flag.startsWith("-")?"":flag.length===1?"-":"--",position=argv.indexOf(prefix+flag),terminatorPosition=argv.indexOf("--");return position!==-1&&(terminatorPosition===-1||position<terminatorPosition)}}});var require_supports_color=__commonJS({"../../../../node_modules/supports-color/index.js"(exports2,module2){"use strict";var os=require("os"),tty=require("tty"),hasFlag=require_has_flag(),{env:env2}=process,flagForceColor;hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")||hasFlag("color=never")?flagForceColor=0:(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always"))&&(flagForceColor=1);function envForceColor(){if("FORCE_COLOR"in env2)return env2.FORCE_COLOR==="true"?1:env2.FORCE_COLOR==="false"?0:env2.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(env2.FORCE_COLOR,10),3)}function translateLevel(level){return level===0?!1:{level,hasBasic:!0,has256:level>=2,has16m:level>=3}}function supportsColor(haveStream,{streamIsTTY,sniffFlags=!0}={}){let noFlagForceColor=envForceColor();noFlagForceColor!==void 0&&(flagForceColor=noFlagForceColor);let forceColor=sniffFlags?flagForceColor:noFlagForceColor;if(forceColor===0)return 0;if(sniffFlags){if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor"))return 3;if(hasFlag("color=256"))return 2}if(haveStream&&!streamIsTTY&&forceColor===void 0)return 0;let min=forceColor||0;if(env2.TERM==="dumb")return min;if(process.platform==="win32"){let osRelease=os.release().split(".");return Number(osRelease[0])>=10&&Number(osRelease[2])>=10586?Number(osRelease[2])>=14931?3:2:1}if("CI"in env2)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(sign=>sign in env2)||env2.CI_NAME==="codeship"?1:min;if("TEAMCITY_VERSION"in env2)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env2.TEAMCITY_VERSION)?1:0;if(env2.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in env2){let version=Number.parseInt((env2.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(env2.TERM_PROGRAM){case"iTerm.app":return version>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(env2.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env2.TERM)||"COLORTERM"in env2?1:min}function getSupportLevel(stream,options2={}){let level=supportsColor(stream,{streamIsTTY:stream&&stream.isTTY,...options2});return translateLevel(level)}module2.exports={supportsColor:getSupportLevel,stdout:getSupportLevel({isTTY:tty.isatty(1)}),stderr:getSupportLevel({isTTY:tty.isatty(2)})}}});var require_node2=__commonJS({"../../../../node_modules/debug/src/node.js"(exports2,module2){var tty=require("tty"),util3=require("util");exports2.init=init;exports2.log=log;exports2.formatArgs=formatArgs;exports2.save=save;exports2.load=load;exports2.useColors=useColors;exports2.destroy=util3.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");exports2.colors=[6,2,3,4,5,1];try{let supportsColor=require_supports_color();supportsColor&&(supportsColor.stderr||supportsColor).level>=2&&(exports2.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}exports2.inspectOpts=Object.keys(process.env).filter(key=>/^debug_/i.test(key)).reduce((obj,key)=>{let prop=key.substring(6).toLowerCase().replace(/_([a-z])/g,(_,k)=>k.toUpperCase()),val=process.env[key];return/^(yes|on|true|enabled)$/i.test(val)?val=!0:/^(no|off|false|disabled)$/i.test(val)?val=!1:val==="null"?val=null:val=Number(val),obj[prop]=val,obj},{});function useColors(){return"colors"in exports2.inspectOpts?!!exports2.inspectOpts.colors:tty.isatty(process.stderr.fd)}function formatArgs(args){let{namespace:name,useColors:useColors2}=this;if(useColors2){let c=this.color,colorCode="\x1B[3"+(c<8?c:"8;5;"+c),prefix=`  ${colorCode};1m${name} \x1B[0m`;args[0]=prefix+args[0].split(`
`).join(`
`+prefix),args.push(colorCode+"m+"+module2.exports.humanize(this.diff)+"\x1B[0m")}else args[0]=getDate()+name+" "+args[0]}function getDate(){return exports2.inspectOpts.hideDate?"":new Date().toISOString()+" "}function log(...args){return process.stderr.write(util3.formatWithOptions(exports2.inspectOpts,...args)+`
`)}function save(namespaces){namespaces?process.env.DEBUG=namespaces:delete process.env.DEBUG}function load(){return process.env.DEBUG}function init(debug){debug.inspectOpts={};let keys2=Object.keys(exports2.inspectOpts);for(let i=0;i<keys2.length;i++)debug.inspectOpts[keys2[i]]=exports2.inspectOpts[keys2[i]]}module2.exports=require_common()(exports2);var{formatters}=module2.exports;formatters.o=function(v){return this.inspectOpts.colors=this.useColors,util3.inspect(v,this.inspectOpts).split(`
`).map(str=>str.trim()).join(" ")};formatters.O=function(v){return this.inspectOpts.colors=this.useColors,util3.inspect(v,this.inspectOpts)}}});var require_src=__commonJS({"../../../../node_modules/debug/src/index.js"(exports2,module2){typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?module2.exports=require_browser():module2.exports=require_node2()}});var require_debug3=__commonJS({"../../../../node_modules/follow-redirects/debug.js"(exports2,module2){var debug;module2.exports=function(){if(!debug){try{debug=require_src()("follow-redirects")}catch{}typeof debug!="function"&&(debug=function(){})}debug.apply(null,arguments)}}});var require_follow_redirects=__commonJS({"../../../../node_modules/follow-redirects/index.js"(exports2,module2){var url=require("url"),URL2=url.URL,http=require("http"),https=require("https"),Writable=require("stream").Writable,assert2=require("assert"),debug=require_debug3();(function(){var looksLikeNode=typeof process<"u",looksLikeBrowser=typeof window<"u"&&typeof document<"u",looksLikeV8=isFunction2(Error.captureStackTrace);!looksLikeNode&&(looksLikeBrowser||!looksLikeV8)&&console.warn("The follow-redirects package should be excluded from browser builds.")})();var useNativeURL=!1;try{assert2(new URL2(""))}catch(error){useNativeURL=error.code==="ERR_INVALID_URL"}var preservedUrlFields=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],events=["abort","aborted","connect","error","socket","timeout"],eventHandlers=Object.create(null);events.forEach(function(event){eventHandlers[event]=function(arg1,arg2,arg3){this._redirectable.emit(event,arg1,arg2,arg3)}});var InvalidUrlError=createErrorType("ERR_INVALID_URL","Invalid URL",TypeError),RedirectionError=createErrorType("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),TooManyRedirectsError=createErrorType("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",RedirectionError),MaxBodyLengthExceededError=createErrorType("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),WriteAfterEndError=createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end"),destroy=Writable.prototype.destroy||noop;function RedirectableRequest(options2,responseCallback){Writable.call(this),this._sanitizeOptions(options2),this._options=options2,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],responseCallback&&this.on("response",responseCallback);var self2=this;this._onNativeResponse=function(response){try{self2._processResponse(response)}catch(cause){self2.emit("error",cause instanceof RedirectionError?cause:new RedirectionError({cause}))}},this._performRequest()}RedirectableRequest.prototype=Object.create(Writable.prototype);RedirectableRequest.prototype.abort=function(){destroyRequest(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};RedirectableRequest.prototype.destroy=function(error){return destroyRequest(this._currentRequest,error),destroy.call(this,error),this};RedirectableRequest.prototype.write=function(data,encoding,callback){if(this._ending)throw new WriteAfterEndError;if(!isString4(data)&&!isBuffer2(data))throw new TypeError("data should be a string, Buffer or Uint8Array");if(isFunction2(encoding)&&(callback=encoding,encoding=null),data.length===0){callback&&callback();return}this._requestBodyLength+data.length<=this._options.maxBodyLength?(this._requestBodyLength+=data.length,this._requestBodyBuffers.push({data,encoding}),this._currentRequest.write(data,encoding,callback)):(this.emit("error",new MaxBodyLengthExceededError),this.abort())};RedirectableRequest.prototype.end=function(data,encoding,callback){if(isFunction2(data)?(callback=data,data=encoding=null):isFunction2(encoding)&&(callback=encoding,encoding=null),!data)this._ended=this._ending=!0,this._currentRequest.end(null,null,callback);else{var self2=this,currentRequest=this._currentRequest;this.write(data,encoding,function(){self2._ended=!0,currentRequest.end(null,null,callback)}),this._ending=!0}};RedirectableRequest.prototype.setHeader=function(name,value){this._options.headers[name]=value,this._currentRequest.setHeader(name,value)};RedirectableRequest.prototype.removeHeader=function(name){delete this._options.headers[name],this._currentRequest.removeHeader(name)};RedirectableRequest.prototype.setTimeout=function(msecs,callback){var self2=this;function destroyOnTimeout(socket){socket.setTimeout(msecs),socket.removeListener("timeout",socket.destroy),socket.addListener("timeout",socket.destroy)}function startTimer(socket){self2._timeout&&clearTimeout(self2._timeout),self2._timeout=setTimeout(function(){self2.emit("timeout"),clearTimer()},msecs),destroyOnTimeout(socket)}function clearTimer(){self2._timeout&&(clearTimeout(self2._timeout),self2._timeout=null),self2.removeListener("abort",clearTimer),self2.removeListener("error",clearTimer),self2.removeListener("response",clearTimer),self2.removeListener("close",clearTimer),callback&&self2.removeListener("timeout",callback),self2.socket||self2._currentRequest.removeListener("socket",startTimer)}return callback&&this.on("timeout",callback),this.socket?startTimer(this.socket):this._currentRequest.once("socket",startTimer),this.on("socket",destroyOnTimeout),this.on("abort",clearTimer),this.on("error",clearTimer),this.on("response",clearTimer),this.on("close",clearTimer),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(method){RedirectableRequest.prototype[method]=function(a,b){return this._currentRequest[method](a,b)}});["aborted","connection","socket"].forEach(function(property){Object.defineProperty(RedirectableRequest.prototype,property,{get:function(){return this._currentRequest[property]}})});RedirectableRequest.prototype._sanitizeOptions=function(options2){if(options2.headers||(options2.headers={}),options2.host&&(options2.hostname||(options2.hostname=options2.host),delete options2.host),!options2.pathname&&options2.path){var searchPos=options2.path.indexOf("?");searchPos<0?options2.pathname=options2.path:(options2.pathname=options2.path.substring(0,searchPos),options2.search=options2.path.substring(searchPos))}};RedirectableRequest.prototype._performRequest=function(){var protocol=this._options.protocol,nativeProtocol=this._options.nativeProtocols[protocol];if(!nativeProtocol)throw new TypeError("Unsupported protocol "+protocol);if(this._options.agents){var scheme=protocol.slice(0,-1);this._options.agent=this._options.agents[scheme]}var request2=this._currentRequest=nativeProtocol.request(this._options,this._onNativeResponse);request2._redirectable=this;for(var event of events)request2.on(event,eventHandlers[event]);if(this._currentUrl=/^\//.test(this._options.path)?url.format(this._options):this._options.path,this._isRedirect){var i=0,self2=this,buffers=this._requestBodyBuffers;(function writeNext(error){if(request2===self2._currentRequest)if(error)self2.emit("error",error);else if(i<buffers.length){var buffer=buffers[i++];request2.finished||request2.write(buffer.data,buffer.encoding,writeNext)}else self2._ended&&request2.end()})()}};RedirectableRequest.prototype._processResponse=function(response){var statusCode=response.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:response.headers,statusCode});var location=response.headers.location;if(!location||this._options.followRedirects===!1||statusCode<300||statusCode>=400){response.responseUrl=this._currentUrl,response.redirects=this._redirects,this.emit("response",response),this._requestBodyBuffers=[];return}if(destroyRequest(this._currentRequest),response.destroy(),++this._redirectCount>this._options.maxRedirects)throw new TooManyRedirectsError;var requestHeaders,beforeRedirect=this._options.beforeRedirect;beforeRedirect&&(requestHeaders=Object.assign({Host:response.req.getHeader("host")},this._options.headers));var method=this._options.method;((statusCode===301||statusCode===302)&&this._options.method==="POST"||statusCode===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],removeMatchingHeaders(/^content-/i,this._options.headers));var currentHostHeader=removeMatchingHeaders(/^host$/i,this._options.headers),currentUrlParts=parseUrl(this._currentUrl),currentHost=currentHostHeader||currentUrlParts.host,currentUrl=/^\w+:/.test(location)?this._currentUrl:url.format(Object.assign(currentUrlParts,{host:currentHost})),redirectUrl=resolveUrl(location,currentUrl);if(debug("redirecting to",redirectUrl.href),this._isRedirect=!0,spreadUrlObject(redirectUrl,this._options),(redirectUrl.protocol!==currentUrlParts.protocol&&redirectUrl.protocol!=="https:"||redirectUrl.host!==currentHost&&!isSubdomain(redirectUrl.host,currentHost))&&removeMatchingHeaders(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),isFunction2(beforeRedirect)){var responseDetails={headers:response.headers,statusCode},requestDetails={url:currentUrl,method,headers:requestHeaders};beforeRedirect(this._options,responseDetails,requestDetails),this._sanitizeOptions(this._options)}this._performRequest()};function wrap(protocols){var exports3={maxRedirects:21,maxBodyLength:10485760},nativeProtocols={};return Object.keys(protocols).forEach(function(scheme){var protocol=scheme+":",nativeProtocol=nativeProtocols[protocol]=protocols[scheme],wrappedProtocol=exports3[scheme]=Object.create(nativeProtocol);function request2(input,options2,callback){return isURL(input)?input=spreadUrlObject(input):isString4(input)?input=spreadUrlObject(parseUrl(input)):(callback=options2,options2=validateUrl(input),input={protocol}),isFunction2(options2)&&(callback=options2,options2=null),options2=Object.assign({maxRedirects:exports3.maxRedirects,maxBodyLength:exports3.maxBodyLength},input,options2),options2.nativeProtocols=nativeProtocols,!isString4(options2.host)&&!isString4(options2.hostname)&&(options2.hostname="::1"),assert2.equal(options2.protocol,protocol,"protocol mismatch"),debug("options",options2),new RedirectableRequest(options2,callback)}function get2(input,options2,callback){var wrappedRequest=wrappedProtocol.request(input,options2,callback);return wrappedRequest.end(),wrappedRequest}Object.defineProperties(wrappedProtocol,{request:{value:request2,configurable:!0,enumerable:!0,writable:!0},get:{value:get2,configurable:!0,enumerable:!0,writable:!0}})}),exports3}function noop(){}function parseUrl(input){var parsed;if(useNativeURL)parsed=new URL2(input);else if(parsed=validateUrl(url.parse(input)),!isString4(parsed.protocol))throw new InvalidUrlError({input});return parsed}function resolveUrl(relative,base){return useNativeURL?new URL2(relative,base):parseUrl(url.resolve(base,relative))}function validateUrl(input){if(/^\[/.test(input.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(input.hostname))throw new InvalidUrlError({input:input.href||input});if(/^\[/.test(input.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(input.host))throw new InvalidUrlError({input:input.href||input});return input}function spreadUrlObject(urlObject,target){var spread=target||{};for(var key of preservedUrlFields)spread[key]=urlObject[key];return spread.hostname.startsWith("[")&&(spread.hostname=spread.hostname.slice(1,-1)),spread.port!==""&&(spread.port=Number(spread.port)),spread.path=spread.search?spread.pathname+spread.search:spread.pathname,spread}function removeMatchingHeaders(regex,headers){var lastValue;for(var header in headers)regex.test(header)&&(lastValue=headers[header],delete headers[header]);return lastValue===null||typeof lastValue>"u"?void 0:String(lastValue).trim()}function createErrorType(code2,message,baseClass){function CustomError(properties){isFunction2(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,properties||{}),this.code=code2,this.message=this.cause?message+": "+this.cause.message:message}return CustomError.prototype=new(baseClass||Error),Object.defineProperties(CustomError.prototype,{constructor:{value:CustomError,enumerable:!1},name:{value:"Error ["+code2+"]",enumerable:!1}}),CustomError}function destroyRequest(request2,error){for(var event of events)request2.removeListener(event,eventHandlers[event]);request2.on("error",noop),request2.destroy(error)}function isSubdomain(subdomain,domain){assert2(isString4(subdomain)&&isString4(domain));var dot=subdomain.length-domain.length-1;return dot>0&&subdomain[dot]==="."&&subdomain.endsWith(domain)}function isString4(value){return typeof value=="string"||value instanceof String}function isFunction2(value){return typeof value=="function"}function isBuffer2(value){return typeof value=="object"&&"length"in value}function isURL(value){return URL2&&value instanceof URL2}module2.exports=wrap({http,https});module2.exports.wrap=wrap}});var require_axios=__commonJS({"../../../../node_modules/axios/dist/node/axios.cjs"(exports2,module2){"use strict";var FormData$1=require_form_data2(),crypto2=require("crypto"),url=require("url"),http2=require("http2"),proxyFromEnv=require_proxy_from_env(),http=require("http"),https=require("https"),util3=require("util"),followRedirects=require_follow_redirects(),zlib2=require("zlib"),stream=require("stream"),events=require("events");function _interopDefaultLegacy(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var FormData__default=_interopDefaultLegacy(FormData$1),crypto__default=_interopDefaultLegacy(crypto2),url__default=_interopDefaultLegacy(url),proxyFromEnv__default=_interopDefaultLegacy(proxyFromEnv),http__default=_interopDefaultLegacy(http),https__default=_interopDefaultLegacy(https),util__default=_interopDefaultLegacy(util3),followRedirects__default=_interopDefaultLegacy(followRedirects),zlib__default=_interopDefaultLegacy(zlib2),stream__default=_interopDefaultLegacy(stream);function bind(fn,thisArg){return function(){return fn.apply(thisArg,arguments)}}var{toString:toString2}=Object.prototype,{getPrototypeOf}=Object,{iterator,toStringTag}=Symbol,kindOf=(cache=>thing=>{let str=toString2.call(thing);return cache[str]||(cache[str]=str.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=type=>(type=type.toLowerCase(),thing=>kindOf(thing)===type),typeOfTest=type=>thing=>typeof thing===type,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer2(val){return val!==null&&!isUndefined(val)&&val.constructor!==null&&!isUndefined(val.constructor)&&isFunction$1(val.constructor.isBuffer)&&val.constructor.isBuffer(val)}var isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(val){let result;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?result=ArrayBuffer.isView(val):result=val&&val.buffer&&isArrayBuffer(val.buffer),result}var isString4=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber2=typeOfTest("number"),isObject4=thing=>thing!==null&&typeof thing=="object",isBoolean=thing=>thing===!0||thing===!1,isPlainObject=val=>{if(kindOf(val)!=="object")return!1;let prototype2=getPrototypeOf(val);return(prototype2===null||prototype2===Object.prototype||Object.getPrototypeOf(prototype2)===null)&&!(toStringTag in val)&&!(iterator in val)},isEmptyObject=val=>{if(!isObject4(val)||isBuffer2(val))return!1;try{return Object.keys(val).length===0&&Object.getPrototypeOf(val)===Object.prototype}catch{return!1}},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=val=>isObject4(val)&&isFunction$1(val.pipe),isFormData=thing=>{let kind;return thing&&(typeof FormData=="function"&&thing instanceof FormData||isFunction$1(thing.append)&&((kind=kindOf(thing))==="formdata"||kind==="object"&&isFunction$1(thing.toString)&&thing.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=str=>str.trim?str.trim():str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(obj,fn,{allOwnKeys=!1}={}){if(obj===null||typeof obj>"u")return;let i,l;if(typeof obj!="object"&&(obj=[obj]),isArray(obj))for(i=0,l=obj.length;i<l;i++)fn.call(null,obj[i],i,obj);else{if(isBuffer2(obj))return;let keys2=allOwnKeys?Object.getOwnPropertyNames(obj):Object.keys(obj),len=keys2.length,key;for(i=0;i<len;i++)key=keys2[i],fn.call(null,obj[key],key,obj)}}function findKey(obj,key){if(isBuffer2(obj))return null;key=key.toLowerCase();let keys2=Object.keys(obj),i=keys2.length,_key;for(;i-- >0;)if(_key=keys2[i],key===_key.toLowerCase())return _key;return null}var _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=context=>!isUndefined(context)&&context!==_global;function merge(){let{caseless,skipUndefined}=isContextDefined(this)&&this||{},result={},assignValue=(val,key)=>{let targetKey=caseless&&findKey(result,key)||key;isPlainObject(result[targetKey])&&isPlainObject(val)?result[targetKey]=merge(result[targetKey],val):isPlainObject(val)?result[targetKey]=merge({},val):isArray(val)?result[targetKey]=val.slice():(!skipUndefined||!isUndefined(val))&&(result[targetKey]=val)};for(let i=0,l=arguments.length;i<l;i++)arguments[i]&&forEach(arguments[i],assignValue);return result}var extend=(a,b,thisArg,{allOwnKeys}={})=>(forEach(b,(val,key)=>{thisArg&&isFunction$1(val)?a[key]=bind(val,thisArg):a[key]=val},{allOwnKeys}),a),stripBOM=content=>(content.charCodeAt(0)===65279&&(content=content.slice(1)),content),inherits=(constructor,superConstructor,props,descriptors2)=>{constructor.prototype=Object.create(superConstructor.prototype,descriptors2),constructor.prototype.constructor=constructor,Object.defineProperty(constructor,"super",{value:superConstructor.prototype}),props&&Object.assign(constructor.prototype,props)},toFlatObject=(sourceObj,destObj,filter,propFilter)=>{let props,i,prop,merged={};if(destObj=destObj||{},sourceObj==null)return destObj;do{for(props=Object.getOwnPropertyNames(sourceObj),i=props.length;i-- >0;)prop=props[i],(!propFilter||propFilter(prop,sourceObj,destObj))&&!merged[prop]&&(destObj[prop]=sourceObj[prop],merged[prop]=!0);sourceObj=filter!==!1&&getPrototypeOf(sourceObj)}while(sourceObj&&(!filter||filter(sourceObj,destObj))&&sourceObj!==Object.prototype);return destObj},endsWith=(str,searchString,position)=>{str=String(str),(position===void 0||position>str.length)&&(position=str.length),position-=searchString.length;let lastIndex=str.indexOf(searchString,position);return lastIndex!==-1&&lastIndex===position},toArray=thing=>{if(!thing)return null;if(isArray(thing))return thing;let i=thing.length;if(!isNumber2(i))return null;let arr=new Array(i);for(;i-- >0;)arr[i]=thing[i];return arr},isTypedArray3=(TypedArray=>thing=>TypedArray&&thing instanceof TypedArray)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(obj,fn)=>{let _iterator=(obj&&obj[iterator]).call(obj),result;for(;(result=_iterator.next())&&!result.done;){let pair=result.value;fn.call(obj,pair[0],pair[1])}},matchAll=(regExp,str)=>{let matches,arr=[];for(;(matches=regExp.exec(str))!==null;)arr.push(matches);return arr},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=str=>str.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(m,p1,p2){return p1.toUpperCase()+p2}),hasOwnProperty=(({hasOwnProperty:hasOwnProperty2})=>(obj,prop)=>hasOwnProperty2.call(obj,prop))(Object.prototype),isRegExp2=kindOfTest("RegExp"),reduceDescriptors=(obj,reducer)=>{let descriptors2=Object.getOwnPropertyDescriptors(obj),reducedDescriptors={};forEach(descriptors2,(descriptor,name)=>{let ret;(ret=reducer(descriptor,name,obj))!==!1&&(reducedDescriptors[name]=ret||descriptor)}),Object.defineProperties(obj,reducedDescriptors)},freezeMethods=obj=>{reduceDescriptors(obj,(descriptor,name)=>{if(isFunction$1(obj)&&["arguments","caller","callee"].indexOf(name)!==-1)return!1;let value=obj[name];if(isFunction$1(value)){if(descriptor.enumerable=!1,"writable"in descriptor){descriptor.writable=!1;return}descriptor.set||(descriptor.set=()=>{throw Error("Can not rewrite read-only method '"+name+"'")})}})},toObjectSet=(arrayOrString,delimiter)=>{let obj={},define2=arr=>{arr.forEach(value=>{obj[value]=!0})};return isArray(arrayOrString)?define2(arrayOrString):define2(String(arrayOrString).split(delimiter)),obj},noop=()=>{},toFiniteNumber=(value,defaultValue)=>value!=null&&Number.isFinite(value=+value)?value:defaultValue;function isSpecCompliantForm(thing){return!!(thing&&isFunction$1(thing.append)&&thing[toStringTag]==="FormData"&&thing[iterator])}var toJSONObject=obj=>{let stack=new Array(10),visit=(source,i)=>{if(isObject4(source)){if(stack.indexOf(source)>=0)return;if(isBuffer2(source))return source;if(!("toJSON"in source)){stack[i]=source;let target=isArray(source)?[]:{};return forEach(source,(value,key)=>{let reducedValue=visit(value,i+1);!isUndefined(reducedValue)&&(target[key]=reducedValue)}),stack[i]=void 0,target}}return source};return visit(obj,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=thing=>thing&&(isObject4(thing)||isFunction$1(thing))&&isFunction$1(thing.then)&&isFunction$1(thing.catch),_setImmediate=((setImmediateSupported,postMessageSupported)=>setImmediateSupported?setImmediate:postMessageSupported?((token,callbacks)=>(_global.addEventListener("message",({source,data})=>{source===_global&&data===token&&callbacks.length&&callbacks.shift()()},!1),cb=>{callbacks.push(cb),_global.postMessage(token,"*")}))(`axios@${Math.random()}`,[]):cb=>setTimeout(cb))(typeof setImmediate=="function",isFunction$1(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=thing=>thing!=null&&isFunction$1(thing[iterator]),utils$1={isArray,isArrayBuffer,isBuffer:isBuffer2,isFormData,isArrayBufferView,isString:isString4,isNumber:isNumber2,isBoolean,isObject:isObject4,isPlainObject,isEmptyObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp:isRegExp2,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray:isTypedArray3,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError(message,code2,config3,request2,response){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=message,this.name="AxiosError",code2&&(this.code=code2),config3&&(this.config=config3),request2&&(this.request=request2),response&&(this.response=response,this.status=response.status?response.status:null)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});var prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(code2=>{descriptors[code2]={value:code2}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(error,code2,config3,request2,response,customProps)=>{let axiosError=Object.create(prototype$1);utils$1.toFlatObject(error,axiosError,function(obj){return obj!==Error.prototype},prop=>prop!=="isAxiosError");let msg=error&&error.message?error.message:"Error",errCode=code2==null&&error?error.code:code2;return AxiosError.call(axiosError,msg,errCode,config3,request2,response),error&&axiosError.cause==null&&Object.defineProperty(axiosError,"cause",{value:error,configurable:!0}),axiosError.name=error&&error.name||"Error",customProps&&Object.assign(axiosError,customProps),axiosError};function isVisitable(thing){return utils$1.isPlainObject(thing)||utils$1.isArray(thing)}function removeBrackets(key){return utils$1.endsWith(key,"[]")?key.slice(0,-2):key}function renderKey(path5,key,dots){return path5?path5.concat(key).map(function(token,i){return token=removeBrackets(token),!dots&&i?"["+token+"]":token}).join(dots?".":""):key}function isFlatArray(arr){return utils$1.isArray(arr)&&!arr.some(isVisitable)}var predicates=utils$1.toFlatObject(utils$1,{},null,function(prop){return/^is[A-Z]/.test(prop)});function toFormData(obj,formData,options2){if(!utils$1.isObject(obj))throw new TypeError("target must be an object");formData=formData||new(FormData__default.default||FormData),options2=utils$1.toFlatObject(options2,{metaTokens:!0,dots:!1,indexes:!1},!1,function(option,source){return!utils$1.isUndefined(source[option])});let metaTokens=options2.metaTokens,visitor=options2.visitor||defaultVisitor,dots=options2.dots,indexes=options2.indexes,useBlob=(options2.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(formData);if(!utils$1.isFunction(visitor))throw new TypeError("visitor must be a function");function convertValue(value){if(value===null)return"";if(utils$1.isDate(value))return value.toISOString();if(utils$1.isBoolean(value))return value.toString();if(!useBlob&&utils$1.isBlob(value))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(value)||utils$1.isTypedArray(value)?useBlob&&typeof Blob=="function"?new Blob([value]):Buffer.from(value):value}function defaultVisitor(value,key,path5){let arr=value;if(value&&!path5&&typeof value=="object"){if(utils$1.endsWith(key,"{}"))key=metaTokens?key:key.slice(0,-2),value=JSON.stringify(value);else if(utils$1.isArray(value)&&isFlatArray(value)||(utils$1.isFileList(value)||utils$1.endsWith(key,"[]"))&&(arr=utils$1.toArray(value)))return key=removeBrackets(key),arr.forEach(function(el,index2){!(utils$1.isUndefined(el)||el===null)&&formData.append(indexes===!0?renderKey([key],index2,dots):indexes===null?key:key+"[]",convertValue(el))}),!1}return isVisitable(value)?!0:(formData.append(renderKey(path5,key,dots),convertValue(value)),!1)}let stack=[],exposedHelpers=Object.assign(predicates,{defaultVisitor,convertValue,isVisitable});function build2(value,path5){if(!utils$1.isUndefined(value)){if(stack.indexOf(value)!==-1)throw Error("Circular reference detected in "+path5.join("."));stack.push(value),utils$1.forEach(value,function(el,key){(!(utils$1.isUndefined(el)||el===null)&&visitor.call(formData,el,utils$1.isString(key)?key.trim():key,path5,exposedHelpers))===!0&&build2(el,path5?path5.concat(key):[key])}),stack.pop()}}if(!utils$1.isObject(obj))throw new TypeError("data must be an object");return build2(obj),formData}function encode$1(str){let charMap={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g,function(match2){return charMap[match2]})}function AxiosURLSearchParams(params,options2){this._pairs=[],params&&toFormData(params,this,options2)}var prototype=AxiosURLSearchParams.prototype;prototype.append=function(name,value){this._pairs.push([name,value])};prototype.toString=function(encoder){let _encode=encoder?function(value){return encoder.call(this,value,encode$1)}:encode$1;return this._pairs.map(function(pair){return _encode(pair[0])+"="+_encode(pair[1])},"").join("&")};function encode2(val){return encodeURIComponent(val).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function buildURL(url2,params,options2){if(!params)return url2;let _encode=options2&&options2.encode||encode2;utils$1.isFunction(options2)&&(options2={serialize:options2});let serializeFn=options2&&options2.serialize,serializedParams;if(serializeFn?serializedParams=serializeFn(params,options2):serializedParams=utils$1.isURLSearchParams(params)?params.toString():new AxiosURLSearchParams(params,options2).toString(_encode),serializedParams){let hashmarkIndex=url2.indexOf("#");hashmarkIndex!==-1&&(url2=url2.slice(0,hashmarkIndex)),url2+=(url2.indexOf("?")===-1?"?":"&")+serializedParams}return url2}var InterceptorManager=class{constructor(){this.handlers=[]}use(fulfilled,rejected,options2){return this.handlers.push({fulfilled,rejected,synchronous:options2?options2.synchronous:!1,runWhen:options2?options2.runWhen:null}),this.handlers.length-1}eject(id){this.handlers[id]&&(this.handlers[id]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(fn){utils$1.forEach(this.handlers,function(h){h!==null&&fn(h)})}},InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams2=url__default.default.URLSearchParams,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(size=16,alphabet=ALPHABET.ALPHA_DIGIT)=>{let str="",{length}=alphabet,randomValues=new Uint32Array(size);crypto__default.default.randomFillSync(randomValues);for(let i=0;i<size;i++)str+=alphabet[randomValues[i]%length];return str},platform$1={isNode:!0,classes:{URLSearchParams:URLSearchParams2,FormData:FormData__default.default,Blob:typeof Blob<"u"&&Blob||null},ALPHABET,generateString,protocols:["http","https","file","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze({__proto__:null,hasBrowserEnv,hasStandardBrowserWebWorkerEnv,hasStandardBrowserEnv,navigator:_navigator,origin}),platform={...utils,...platform$1};function toURLEncodedForm(data,options2){return toFormData(data,new platform.classes.URLSearchParams,{visitor:function(value,key,path5,helpers){return platform.isNode&&utils$1.isBuffer(value)?(this.append(key,value.toString("base64")),!1):helpers.defaultVisitor.apply(this,arguments)},...options2})}function parsePropPath(name){return utils$1.matchAll(/\w+|\[(\w*)]/g,name).map(match2=>match2[0]==="[]"?"":match2[1]||match2[0])}function arrayToObject(arr){let obj={},keys2=Object.keys(arr),i,len=keys2.length,key;for(i=0;i<len;i++)key=keys2[i],obj[key]=arr[key];return obj}function formDataToJSON(formData){function buildPath(path5,value,target,index2){let name=path5[index2++];if(name==="__proto__")return!0;let isNumericKey=Number.isFinite(+name),isLast=index2>=path5.length;return name=!name&&utils$1.isArray(target)?target.length:name,isLast?(utils$1.hasOwnProp(target,name)?target[name]=[target[name],value]:target[name]=value,!isNumericKey):((!target[name]||!utils$1.isObject(target[name]))&&(target[name]=[]),buildPath(path5,value,target[name],index2)&&utils$1.isArray(target[name])&&(target[name]=arrayToObject(target[name])),!isNumericKey)}if(utils$1.isFormData(formData)&&utils$1.isFunction(formData.entries)){let obj={};return utils$1.forEachEntry(formData,(name,value)=>{buildPath(parsePropPath(name),value,obj,0)}),obj}return null}function stringifySafely(rawValue,parser,encoder){if(utils$1.isString(rawValue))try{return(parser||JSON.parse)(rawValue),utils$1.trim(rawValue)}catch(e){if(e.name!=="SyntaxError")throw e}return(encoder||JSON.stringify)(rawValue)}var defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(data,headers){let contentType=headers.getContentType()||"",hasJSONContentType=contentType.indexOf("application/json")>-1,isObjectPayload=utils$1.isObject(data);if(isObjectPayload&&utils$1.isHTMLForm(data)&&(data=new FormData(data)),utils$1.isFormData(data))return hasJSONContentType?JSON.stringify(formDataToJSON(data)):data;if(utils$1.isArrayBuffer(data)||utils$1.isBuffer(data)||utils$1.isStream(data)||utils$1.isFile(data)||utils$1.isBlob(data)||utils$1.isReadableStream(data))return data;if(utils$1.isArrayBufferView(data))return data.buffer;if(utils$1.isURLSearchParams(data))return headers.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),data.toString();let isFileList2;if(isObjectPayload){if(contentType.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(data,this.formSerializer).toString();if((isFileList2=utils$1.isFileList(data))||contentType.indexOf("multipart/form-data")>-1){let _FormData=this.env&&this.env.FormData;return toFormData(isFileList2?{"files[]":data}:data,_FormData&&new _FormData,this.formSerializer)}}return isObjectPayload||hasJSONContentType?(headers.setContentType("application/json",!1),stringifySafely(data)):data}],transformResponse:[function(data){let transitional=this.transitional||defaults.transitional,forcedJSONParsing=transitional&&transitional.forcedJSONParsing,JSONRequested=this.responseType==="json";if(utils$1.isResponse(data)||utils$1.isReadableStream(data))return data;if(data&&utils$1.isString(data)&&(forcedJSONParsing&&!this.responseType||JSONRequested)){let strictJSONParsing=!(transitional&&transitional.silentJSONParsing)&&JSONRequested;try{return JSON.parse(data,this.parseReviver)}catch(e){if(strictJSONParsing)throw e.name==="SyntaxError"?AxiosError.from(e,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):e}}return data}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(status){return status>=200&&status<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],method=>{defaults.headers[method]={}});var defaults$1=defaults,ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=rawHeaders=>{let parsed={},key,val,i;return rawHeaders&&rawHeaders.split(`
`).forEach(function(line){i=line.indexOf(":"),key=line.substring(0,i).trim().toLowerCase(),val=line.substring(i+1).trim(),!(!key||parsed[key]&&ignoreDuplicateOf[key])&&(key==="set-cookie"?parsed[key]?parsed[key].push(val):parsed[key]=[val]:parsed[key]=parsed[key]?parsed[key]+", "+val:val)}),parsed},$internals=Symbol("internals");function normalizeHeader(header){return header&&String(header).trim().toLowerCase()}function normalizeValue(value){return value===!1||value==null?value:utils$1.isArray(value)?value.map(normalizeValue):String(value)}function parseTokens(str){let tokens=Object.create(null),tokensRE=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,match2;for(;match2=tokensRE.exec(str);)tokens[match2[1]]=match2[2];return tokens}var isValidHeaderName=str=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());function matchHeaderValue(context,value,header,filter,isHeaderNameFilter){if(utils$1.isFunction(filter))return filter.call(this,value,header);if(isHeaderNameFilter&&(value=header),!!utils$1.isString(value)){if(utils$1.isString(filter))return value.indexOf(filter)!==-1;if(utils$1.isRegExp(filter))return filter.test(value)}}function formatHeader(header){return header.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(w,char,str)=>char.toUpperCase()+str)}function buildAccessors(obj,header){let accessorName=utils$1.toCamelCase(" "+header);["get","set","has"].forEach(methodName=>{Object.defineProperty(obj,methodName+accessorName,{value:function(arg1,arg2,arg3){return this[methodName].call(this,header,arg1,arg2,arg3)},configurable:!0})})}var AxiosHeaders=class{constructor(headers){headers&&this.set(headers)}set(header,valueOrRewrite,rewrite){let self2=this;function setHeader(_value,_header,_rewrite){let lHeader=normalizeHeader(_header);if(!lHeader)throw new Error("header name must be a non-empty string");let key=utils$1.findKey(self2,lHeader);(!key||self2[key]===void 0||_rewrite===!0||_rewrite===void 0&&self2[key]!==!1)&&(self2[key||_header]=normalizeValue(_value))}let setHeaders=(headers,_rewrite)=>utils$1.forEach(headers,(_value,_header)=>setHeader(_value,_header,_rewrite));if(utils$1.isPlainObject(header)||header instanceof this.constructor)setHeaders(header,valueOrRewrite);else if(utils$1.isString(header)&&(header=header.trim())&&!isValidHeaderName(header))setHeaders(parseHeaders(header),valueOrRewrite);else if(utils$1.isObject(header)&&utils$1.isIterable(header)){let obj={},dest,key;for(let entry of header){if(!utils$1.isArray(entry))throw TypeError("Object iterator must return a key-value pair");obj[key=entry[0]]=(dest=obj[key])?utils$1.isArray(dest)?[...dest,entry[1]]:[dest,entry[1]]:entry[1]}setHeaders(obj,valueOrRewrite)}else header!=null&&setHeader(valueOrRewrite,header,rewrite);return this}get(header,parser){if(header=normalizeHeader(header),header){let key=utils$1.findKey(this,header);if(key){let value=this[key];if(!parser)return value;if(parser===!0)return parseTokens(value);if(utils$1.isFunction(parser))return parser.call(this,value,key);if(utils$1.isRegExp(parser))return parser.exec(value);throw new TypeError("parser must be boolean|regexp|function")}}}has(header,matcher){if(header=normalizeHeader(header),header){let key=utils$1.findKey(this,header);return!!(key&&this[key]!==void 0&&(!matcher||matchHeaderValue(this,this[key],key,matcher)))}return!1}delete(header,matcher){let self2=this,deleted=!1;function deleteHeader(_header){if(_header=normalizeHeader(_header),_header){let key=utils$1.findKey(self2,_header);key&&(!matcher||matchHeaderValue(self2,self2[key],key,matcher))&&(delete self2[key],deleted=!0)}}return utils$1.isArray(header)?header.forEach(deleteHeader):deleteHeader(header),deleted}clear(matcher){let keys2=Object.keys(this),i=keys2.length,deleted=!1;for(;i--;){let key=keys2[i];(!matcher||matchHeaderValue(this,this[key],key,matcher,!0))&&(delete this[key],deleted=!0)}return deleted}normalize(format2){let self2=this,headers={};return utils$1.forEach(this,(value,header)=>{let key=utils$1.findKey(headers,header);if(key){self2[key]=normalizeValue(value),delete self2[header];return}let normalized=format2?formatHeader(header):String(header).trim();normalized!==header&&delete self2[header],self2[normalized]=normalizeValue(value),headers[normalized]=!0}),this}concat(...targets){return this.constructor.concat(this,...targets)}toJSON(asStrings){let obj=Object.create(null);return utils$1.forEach(this,(value,header)=>{value!=null&&value!==!1&&(obj[header]=asStrings&&utils$1.isArray(value)?value.join(", "):value)}),obj}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([header,value])=>header+": "+value).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(thing){return thing instanceof this?thing:new this(thing)}static concat(first,...targets){let computed=new this(first);return targets.forEach(target=>computed.set(target)),computed}static accessor(header){let accessors=(this[$internals]=this[$internals]={accessors:{}}).accessors,prototype2=this.prototype;function defineAccessor(_header){let lHeader=normalizeHeader(_header);accessors[lHeader]||(buildAccessors(prototype2,_header),accessors[lHeader]=!0)}return utils$1.isArray(header)?header.forEach(defineAccessor):defineAccessor(header),this}};AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value},key)=>{let mapped=key[0].toUpperCase()+key.slice(1);return{get:()=>value,set(headerValue){this[mapped]=headerValue}}});utils$1.freezeMethods(AxiosHeaders);var AxiosHeaders$1=AxiosHeaders;function transformData(fns,response){let config3=this||defaults$1,context=response||config3,headers=AxiosHeaders$1.from(context.headers),data=context.data;return utils$1.forEach(fns,function(fn){data=fn.call(config3,data,headers.normalize(),response?response.status:void 0)}),headers.normalize(),data}function isCancel(value){return!!(value&&value.__CANCEL__)}function CanceledError(message,config3,request2){AxiosError.call(this,message??"canceled",AxiosError.ERR_CANCELED,config3,request2),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(resolve,reject,response){let validateStatus=response.config.validateStatus;!response.status||!validateStatus||validateStatus(response.status)?resolve(response):reject(new AxiosError("Request failed with status code "+response.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status/100)-4],response.config,response.request,response))}function isAbsoluteURL(url2){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(url2)}function combineURLs(baseURL,relativeURL){return relativeURL?baseURL.replace(/\/?\/$/,"")+"/"+relativeURL.replace(/^\/+/,""):baseURL}function buildFullPath(baseURL,requestedURL,allowAbsoluteUrls){let isRelativeUrl=!isAbsoluteURL(requestedURL);return baseURL&&(isRelativeUrl||allowAbsoluteUrls==!1)?combineURLs(baseURL,requestedURL):requestedURL}var VERSION="1.13.1";function parseProtocol(url2){let match2=/^([-+\w]{1,25})(:?\/\/|:)/.exec(url2);return match2&&match2[1]||""}var DATA_URL_PATTERN=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function fromDataURI(uri,asBlob,options2){let _Blob=options2&&options2.Blob||platform.classes.Blob,protocol=parseProtocol(uri);if(asBlob===void 0&&_Blob&&(asBlob=!0),protocol==="data"){uri=protocol.length?uri.slice(protocol.length+1):uri;let match2=DATA_URL_PATTERN.exec(uri);if(!match2)throw new AxiosError("Invalid URL",AxiosError.ERR_INVALID_URL);let mime=match2[1],isBase64=match2[2],body=match2[3],buffer=Buffer.from(decodeURIComponent(body),isBase64?"base64":"utf8");if(asBlob){if(!_Blob)throw new AxiosError("Blob is not supported",AxiosError.ERR_NOT_SUPPORT);return new _Blob([buffer],{type:mime})}return buffer}throw new AxiosError("Unsupported protocol "+protocol,AxiosError.ERR_NOT_SUPPORT)}var kInternals=Symbol("internals"),AxiosTransformStream=class extends stream__default.default.Transform{constructor(options2){options2=utils$1.toFlatObject(options2,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(prop,source)=>!utils$1.isUndefined(source[prop])),super({readableHighWaterMark:options2.chunkSize});let internals=this[kInternals]={timeWindow:options2.timeWindow,chunkSize:options2.chunkSize,maxRate:options2.maxRate,minChunkSize:options2.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on("newListener",event=>{event==="progress"&&(internals.isCaptured||(internals.isCaptured=!0))})}_read(size){let internals=this[kInternals];return internals.onReadCallback&&internals.onReadCallback(),super._read(size)}_transform(chunk,encoding,callback){let internals=this[kInternals],maxRate=internals.maxRate,readableHighWaterMark=this.readableHighWaterMark,timeWindow=internals.timeWindow,divider=1e3/timeWindow,bytesThreshold=maxRate/divider,minChunkSize=internals.minChunkSize!==!1?Math.max(internals.minChunkSize,bytesThreshold*.01):0,pushChunk=(_chunk,_callback)=>{let bytes=Buffer.byteLength(_chunk);internals.bytesSeen+=bytes,internals.bytes+=bytes,internals.isCaptured&&this.emit("progress",internals.bytesSeen),this.push(_chunk)?process.nextTick(_callback):internals.onReadCallback=()=>{internals.onReadCallback=null,process.nextTick(_callback)}},transformChunk=(_chunk,_callback)=>{let chunkSize=Buffer.byteLength(_chunk),chunkRemainder=null,maxChunkSize=readableHighWaterMark,bytesLeft,passed=0;if(maxRate){let now=Date.now();(!internals.ts||(passed=now-internals.ts)>=timeWindow)&&(internals.ts=now,bytesLeft=bytesThreshold-internals.bytes,internals.bytes=bytesLeft<0?-bytesLeft:0,passed=0),bytesLeft=bytesThreshold-internals.bytes}if(maxRate){if(bytesLeft<=0)return setTimeout(()=>{_callback(null,_chunk)},timeWindow-passed);bytesLeft<maxChunkSize&&(maxChunkSize=bytesLeft)}maxChunkSize&&chunkSize>maxChunkSize&&chunkSize-maxChunkSize>minChunkSize&&(chunkRemainder=_chunk.subarray(maxChunkSize),_chunk=_chunk.subarray(0,maxChunkSize)),pushChunk(_chunk,chunkRemainder?()=>{process.nextTick(_callback,null,chunkRemainder)}:_callback)};transformChunk(chunk,function transformNextChunk(err,_chunk){if(err)return callback(err);_chunk?transformChunk(_chunk,transformNextChunk):callback(null)})}},AxiosTransformStream$1=AxiosTransformStream,{asyncIterator}=Symbol,readBlob=async function*(blob){blob.stream?yield*blob.stream():blob.arrayBuffer?yield await blob.arrayBuffer():blob[asyncIterator]?yield*blob[asyncIterator]():yield blob},readBlob$1=readBlob,BOUNDARY_ALPHABET=platform.ALPHABET.ALPHA_DIGIT+"-_",textEncoder=typeof TextEncoder=="function"?new TextEncoder:new util__default.default.TextEncoder,CRLF=`\r
`,CRLF_BYTES=textEncoder.encode(CRLF),CRLF_BYTES_COUNT=2,FormDataPart=class{constructor(name,value){let{escapeName}=this.constructor,isStringValue=utils$1.isString(value),headers=`Content-Disposition: form-data; name="${escapeName(name)}"${!isStringValue&&value.name?`; filename="${escapeName(value.name)}"`:""}${CRLF}`;isStringValue?value=textEncoder.encode(String(value).replace(/\r?\n|\r\n?/g,CRLF)):headers+=`Content-Type: ${value.type||"application/octet-stream"}${CRLF}`,this.headers=textEncoder.encode(headers+CRLF),this.contentLength=isStringValue?value.byteLength:value.size,this.size=this.headers.byteLength+this.contentLength+CRLF_BYTES_COUNT,this.name=name,this.value=value}async*encode(){yield this.headers;let{value}=this;utils$1.isTypedArray(value)?yield value:yield*readBlob$1(value),yield CRLF_BYTES}static escapeName(name){return String(name).replace(/[\r\n"]/g,match2=>({"\r":"%0D","\n":"%0A",'"':"%22"})[match2])}},formDataToStream=(form,headersHandler,options2)=>{let{tag="form-data-boundary",size=25,boundary=tag+"-"+platform.generateString(size,BOUNDARY_ALPHABET)}=options2||{};if(!utils$1.isFormData(form))throw TypeError("FormData instance required");if(boundary.length<1||boundary.length>70)throw Error("boundary must be 10-70 characters long");let boundaryBytes=textEncoder.encode("--"+boundary+CRLF),footerBytes=textEncoder.encode("--"+boundary+"--"+CRLF),contentLength=footerBytes.byteLength,parts=Array.from(form.entries()).map(([name,value])=>{let part=new FormDataPart(name,value);return contentLength+=part.size,part});contentLength+=boundaryBytes.byteLength*parts.length,contentLength=utils$1.toFiniteNumber(contentLength);let computedHeaders={"Content-Type":`multipart/form-data; boundary=${boundary}`};return Number.isFinite(contentLength)&&(computedHeaders["Content-Length"]=contentLength),headersHandler&&headersHandler(computedHeaders),stream.Readable.from((async function*(){for(let part of parts)yield boundaryBytes,yield*part.encode();yield footerBytes})())},formDataToStream$1=formDataToStream,ZlibHeaderTransformStream=class extends stream__default.default.Transform{__transform(chunk,encoding,callback){this.push(chunk),callback()}_transform(chunk,encoding,callback){if(chunk.length!==0&&(this._transform=this.__transform,chunk[0]!==120)){let header=Buffer.alloc(2);header[0]=120,header[1]=156,this.push(header,encoding)}this.__transform(chunk,encoding,callback)}},ZlibHeaderTransformStream$1=ZlibHeaderTransformStream,callbackify=(fn,reducer)=>utils$1.isAsyncFn(fn)?function(...args){let cb=args.pop();fn.apply(this,args).then(value=>{try{reducer?cb(null,...reducer(value)):cb(null,value)}catch(err){cb(err)}},cb)}:fn,callbackify$1=callbackify;function speedometer(samplesCount,min){samplesCount=samplesCount||10;let bytes=new Array(samplesCount),timestamps=new Array(samplesCount),head=0,tail=0,firstSampleTS;return min=min!==void 0?min:1e3,function(chunkLength){let now=Date.now(),startedAt=timestamps[tail];firstSampleTS||(firstSampleTS=now),bytes[head]=chunkLength,timestamps[head]=now;let i=tail,bytesCount=0;for(;i!==head;)bytesCount+=bytes[i++],i=i%samplesCount;if(head=(head+1)%samplesCount,head===tail&&(tail=(tail+1)%samplesCount),now-firstSampleTS<min)return;let passed=startedAt&&now-startedAt;return passed?Math.round(bytesCount*1e3/passed):void 0}}function throttle(fn,freq){let timestamp=0,threshold=1e3/freq,lastArgs,timer,invoke=(args,now=Date.now())=>{timestamp=now,lastArgs=null,timer&&(clearTimeout(timer),timer=null),fn(...args)};return[(...args)=>{let now=Date.now(),passed=now-timestamp;passed>=threshold?invoke(args,now):(lastArgs=args,timer||(timer=setTimeout(()=>{timer=null,invoke(lastArgs)},threshold-passed)))},()=>lastArgs&&invoke(lastArgs)]}var progressEventReducer=(listener,isDownloadStream,freq=3)=>{let bytesNotified=0,_speedometer=speedometer(50,250);return throttle(e=>{let loaded=e.loaded,total=e.lengthComputable?e.total:void 0,progressBytes=loaded-bytesNotified,rate=_speedometer(progressBytes),inRange=loaded<=total;bytesNotified=loaded;let data={loaded,total,progress:total?loaded/total:void 0,bytes:progressBytes,rate:rate||void 0,estimated:rate&&total&&inRange?(total-loaded)/rate:void 0,event:e,lengthComputable:total!=null,[isDownloadStream?"download":"upload"]:!0};listener(data)},freq)},progressEventDecorator=(total,throttled)=>{let lengthComputable=total!=null;return[loaded=>throttled[0]({lengthComputable,total,loaded}),throttled[1]]},asyncDecorator=fn=>(...args)=>utils$1.asap(()=>fn(...args));function estimateDataURLDecodedBytes(url2){if(!url2||typeof url2!="string"||!url2.startsWith("data:"))return 0;let comma=url2.indexOf(",");if(comma<0)return 0;let meta=url2.slice(5,comma),body=url2.slice(comma+1);if(/;base64/i.test(meta)){let effectiveLen=body.length,len=body.length;for(let i=0;i<len;i++)if(body.charCodeAt(i)===37&&i+2<len){let a=body.charCodeAt(i+1),b=body.charCodeAt(i+2);(a>=48&&a<=57||a>=65&&a<=70||a>=97&&a<=102)&&(b>=48&&b<=57||b>=65&&b<=70||b>=97&&b<=102)&&(effectiveLen-=2,i+=2)}let pad=0,idx=len-1,tailIsPct3D=j=>j>=2&&body.charCodeAt(j-2)===37&&body.charCodeAt(j-1)===51&&(body.charCodeAt(j)===68||body.charCodeAt(j)===100);idx>=0&&(body.charCodeAt(idx)===61?(pad++,idx--):tailIsPct3D(idx)&&(pad++,idx-=3)),pad===1&&idx>=0&&(body.charCodeAt(idx)===61||tailIsPct3D(idx))&&pad++;let bytes=Math.floor(effectiveLen/4)*3-(pad||0);return bytes>0?bytes:0}return Buffer.byteLength(body,"utf8")}var zlibOptions={flush:zlib__default.default.constants.Z_SYNC_FLUSH,finishFlush:zlib__default.default.constants.Z_SYNC_FLUSH},brotliOptions={flush:zlib__default.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:zlib__default.default.constants.BROTLI_OPERATION_FLUSH},{HTTP2_HEADER_SCHEME,HTTP2_HEADER_METHOD,HTTP2_HEADER_PATH,HTTP2_HEADER_STATUS}=http2.constants,isBrotliSupported=utils$1.isFunction(zlib__default.default.createBrotliDecompress),{http:httpFollow,https:httpsFollow}=followRedirects__default.default,isHttps=/https:?/,supportedProtocols=platform.protocols.map(protocol=>protocol+":"),flushOnFinish=(stream2,[throttled,flush])=>(stream2.on("end",flush).on("error",flush),throttled),Http2Sessions=class{constructor(){this.sessions=Object.create(null)}getSession(authority,options2){options2=Object.assign({sessionTimeout:1e3},options2);let authoritySessions;if(authoritySessions=this.sessions[authority]){let len=authoritySessions.length;for(let i=0;i<len;i++){let[sessionHandle,sessionOptions]=authoritySessions[i];if(!sessionHandle.destroyed&&!sessionHandle.closed&&util__default.default.isDeepStrictEqual(sessionOptions,options2))return sessionHandle}}let session=http2.connect(authority,options2),removed,removeSession=()=>{if(removed)return;removed=!0;let entries2=authoritySessions,len=entries2.length,i=len;for(;i--;)if(entries2[i][0]===session&&(entries2.splice(i,1),len===1)){delete this.sessions[authority];return}},originalRequestFn=session.request,{sessionTimeout}=options2;if(sessionTimeout!=null){let timer,streamsCount=0;session.request=function(){let stream2=originalRequestFn.apply(this,arguments);return streamsCount++,timer&&(clearTimeout(timer),timer=null),stream2.once("close",()=>{--streamsCount||(timer=setTimeout(()=>{timer=null,removeSession()},sessionTimeout))}),stream2}}session.once("close",removeSession);let entries=this.sessions[authority],entry=[session,options2];return entries?this.sessions[authority].push(entry):authoritySessions=this.sessions[authority]=[entry],session}},http2Sessions=new Http2Sessions;function dispatchBeforeRedirect(options2,responseDetails){options2.beforeRedirects.proxy&&options2.beforeRedirects.proxy(options2),options2.beforeRedirects.config&&options2.beforeRedirects.config(options2,responseDetails)}function setProxy(options2,configProxy,location){let proxy2=configProxy;if(!proxy2&&proxy2!==!1){let proxyUrl=proxyFromEnv__default.default.getProxyForUrl(location);proxyUrl&&(proxy2=new URL(proxyUrl))}if(proxy2){if(proxy2.username&&(proxy2.auth=(proxy2.username||"")+":"+(proxy2.password||"")),proxy2.auth){(proxy2.auth.username||proxy2.auth.password)&&(proxy2.auth=(proxy2.auth.username||"")+":"+(proxy2.auth.password||""));let base64=Buffer.from(proxy2.auth,"utf8").toString("base64");options2.headers["Proxy-Authorization"]="Basic "+base64}options2.headers.host=options2.hostname+(options2.port?":"+options2.port:"");let proxyHost=proxy2.hostname||proxy2.host;options2.hostname=proxyHost,options2.host=proxyHost,options2.port=proxy2.port,options2.path=location,proxy2.protocol&&(options2.protocol=proxy2.protocol.includes(":")?proxy2.protocol:`${proxy2.protocol}:`)}options2.beforeRedirects.proxy=function(redirectOptions){setProxy(redirectOptions,configProxy,redirectOptions.href)}}var isHttpAdapterSupported=typeof process<"u"&&utils$1.kindOf(process)==="process",wrapAsync=asyncExecutor=>new Promise((resolve,reject)=>{let onDone,isDone,done=(value,isRejected)=>{isDone||(isDone=!0,onDone&&onDone(value,isRejected))},_resolve=value=>{done(value),resolve(value)},_reject=reason=>{done(reason,!0),reject(reason)};asyncExecutor(_resolve,_reject,onDoneHandler=>onDone=onDoneHandler).catch(_reject)}),resolveFamily=({address,family})=>{if(!utils$1.isString(address))throw TypeError("address must be a string");return{address,family:family||(address.indexOf(".")<0?6:4)}},buildAddressEntry=(address,family)=>resolveFamily(utils$1.isObject(address)?address:{address,family}),http2Transport={request(options2,cb){let authority=options2.protocol+"//"+options2.hostname+":"+(options2.port||80),{http2Options,headers}=options2,session=http2Sessions.getSession(authority,http2Options),http2Headers={[HTTP2_HEADER_SCHEME]:options2.protocol.replace(":",""),[HTTP2_HEADER_METHOD]:options2.method,[HTTP2_HEADER_PATH]:options2.path};utils$1.forEach(headers,(header,name)=>{name.charAt(0)!==":"&&(http2Headers[name]=header)});let req=session.request(http2Headers);return req.once("response",responseHeaders=>{let response=req;responseHeaders=Object.assign({},responseHeaders);let status=responseHeaders[HTTP2_HEADER_STATUS];delete responseHeaders[HTTP2_HEADER_STATUS],response.headers=responseHeaders,response.statusCode=+status,cb(response)}),req}},httpAdapter=isHttpAdapterSupported&&function(config3){return wrapAsync(async function(resolve,reject,onDone){let{data,lookup,family,httpVersion=1,http2Options}=config3,{responseType,responseEncoding}=config3,method=config3.method.toUpperCase(),isDone,rejected=!1,req;if(httpVersion=+httpVersion,Number.isNaN(httpVersion))throw TypeError(`Invalid protocol version: '${config3.httpVersion}' is not a number`);if(httpVersion!==1&&httpVersion!==2)throw TypeError(`Unsupported protocol version '${httpVersion}'`);let isHttp2=httpVersion===2;if(lookup){let _lookup=callbackify$1(lookup,value=>utils$1.isArray(value)?value:[value]);lookup=(hostname,opt,cb)=>{_lookup(hostname,opt,(err,arg0,arg1)=>{if(err)return cb(err);let addresses=utils$1.isArray(arg0)?arg0.map(addr=>buildAddressEntry(addr)):[buildAddressEntry(arg0,arg1)];opt.all?cb(err,addresses):cb(err,addresses[0].address,addresses[0].family)})}}let abortEmitter=new events.EventEmitter;function abort(reason){try{abortEmitter.emit("abort",!reason||reason.type?new CanceledError(null,config3,req):reason)}catch(err){console.warn("emit error",err)}}abortEmitter.once("abort",reject);let onFinished=()=>{config3.cancelToken&&config3.cancelToken.unsubscribe(abort),config3.signal&&config3.signal.removeEventListener("abort",abort),abortEmitter.removeAllListeners()};(config3.cancelToken||config3.signal)&&(config3.cancelToken&&config3.cancelToken.subscribe(abort),config3.signal&&(config3.signal.aborted?abort():config3.signal.addEventListener("abort",abort))),onDone((response,isRejected)=>{if(isDone=!0,isRejected){rejected=!0,onFinished();return}let{data:data2}=response;if(data2 instanceof stream__default.default.Readable||data2 instanceof stream__default.default.Duplex){let offListeners=stream__default.default.finished(data2,()=>{offListeners(),onFinished()})}else onFinished()});let fullPath=buildFullPath(config3.baseURL,config3.url,config3.allowAbsoluteUrls),parsed=new URL(fullPath,platform.hasBrowserEnv?platform.origin:void 0),protocol=parsed.protocol||supportedProtocols[0];if(protocol==="data:"){if(config3.maxContentLength>-1){let dataUrl=String(config3.url||fullPath||"");if(estimateDataURLDecodedBytes(dataUrl)>config3.maxContentLength)return reject(new AxiosError("maxContentLength size of "+config3.maxContentLength+" exceeded",AxiosError.ERR_BAD_RESPONSE,config3))}let convertedData;if(method!=="GET")return settle(resolve,reject,{status:405,statusText:"method not allowed",headers:{},config:config3});try{convertedData=fromDataURI(config3.url,responseType==="blob",{Blob:config3.env&&config3.env.Blob})}catch(err){throw AxiosError.from(err,AxiosError.ERR_BAD_REQUEST,config3)}return responseType==="text"?(convertedData=convertedData.toString(responseEncoding),(!responseEncoding||responseEncoding==="utf8")&&(convertedData=utils$1.stripBOM(convertedData))):responseType==="stream"&&(convertedData=stream__default.default.Readable.from(convertedData)),settle(resolve,reject,{data:convertedData,status:200,statusText:"OK",headers:new AxiosHeaders$1,config:config3})}if(supportedProtocols.indexOf(protocol)===-1)return reject(new AxiosError("Unsupported protocol "+protocol,AxiosError.ERR_BAD_REQUEST,config3));let headers=AxiosHeaders$1.from(config3.headers).normalize();headers.set("User-Agent","axios/"+VERSION,!1);let{onUploadProgress,onDownloadProgress}=config3,maxRate=config3.maxRate,maxUploadRate,maxDownloadRate;if(utils$1.isSpecCompliantForm(data)){let userBoundary=headers.getContentType(/boundary=([-_\w\d]{10,70})/i);data=formDataToStream$1(data,formHeaders=>{headers.set(formHeaders)},{tag:`axios-${VERSION}-boundary`,boundary:userBoundary&&userBoundary[1]||void 0})}else if(utils$1.isFormData(data)&&utils$1.isFunction(data.getHeaders)){if(headers.set(data.getHeaders()),!headers.hasContentLength())try{let knownLength=await util__default.default.promisify(data.getLength).call(data);Number.isFinite(knownLength)&&knownLength>=0&&headers.setContentLength(knownLength)}catch{}}else if(utils$1.isBlob(data)||utils$1.isFile(data))data.size&&headers.setContentType(data.type||"application/octet-stream"),headers.setContentLength(data.size||0),data=stream__default.default.Readable.from(readBlob$1(data));else if(data&&!utils$1.isStream(data)){if(!Buffer.isBuffer(data))if(utils$1.isArrayBuffer(data))data=Buffer.from(new Uint8Array(data));else if(utils$1.isString(data))data=Buffer.from(data,"utf-8");else return reject(new AxiosError("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",AxiosError.ERR_BAD_REQUEST,config3));if(headers.setContentLength(data.length,!1),config3.maxBodyLength>-1&&data.length>config3.maxBodyLength)return reject(new AxiosError("Request body larger than maxBodyLength limit",AxiosError.ERR_BAD_REQUEST,config3))}let contentLength=utils$1.toFiniteNumber(headers.getContentLength());utils$1.isArray(maxRate)?(maxUploadRate=maxRate[0],maxDownloadRate=maxRate[1]):maxUploadRate=maxDownloadRate=maxRate,data&&(onUploadProgress||maxUploadRate)&&(utils$1.isStream(data)||(data=stream__default.default.Readable.from(data,{objectMode:!1})),data=stream__default.default.pipeline([data,new AxiosTransformStream$1({maxRate:utils$1.toFiniteNumber(maxUploadRate)})],utils$1.noop),onUploadProgress&&data.on("progress",flushOnFinish(data,progressEventDecorator(contentLength,progressEventReducer(asyncDecorator(onUploadProgress),!1,3)))));let auth;if(config3.auth){let username=config3.auth.username||"",password=config3.auth.password||"";auth=username+":"+password}if(!auth&&parsed.username){let urlUsername=parsed.username,urlPassword=parsed.password;auth=urlUsername+":"+urlPassword}auth&&headers.delete("authorization");let path5;try{path5=buildURL(parsed.pathname+parsed.search,config3.params,config3.paramsSerializer).replace(/^\?/,"")}catch(err){let customErr=new Error(err.message);return customErr.config=config3,customErr.url=config3.url,customErr.exists=!0,reject(customErr)}headers.set("Accept-Encoding","gzip, compress, deflate"+(isBrotliSupported?", br":""),!1);let options2={path:path5,method,headers:headers.toJSON(),agents:{http:config3.httpAgent,https:config3.httpsAgent},auth,protocol,family,beforeRedirect:dispatchBeforeRedirect,beforeRedirects:{},http2Options};!utils$1.isUndefined(lookup)&&(options2.lookup=lookup),config3.socketPath?options2.socketPath=config3.socketPath:(options2.hostname=parsed.hostname.startsWith("[")?parsed.hostname.slice(1,-1):parsed.hostname,options2.port=parsed.port,setProxy(options2,config3.proxy,protocol+"//"+parsed.hostname+(parsed.port?":"+parsed.port:"")+options2.path));let transport,isHttpsRequest=isHttps.test(options2.protocol);if(options2.agent=isHttpsRequest?config3.httpsAgent:config3.httpAgent,isHttp2?transport=http2Transport:config3.transport?transport=config3.transport:config3.maxRedirects===0?transport=isHttpsRequest?https__default.default:http__default.default:(config3.maxRedirects&&(options2.maxRedirects=config3.maxRedirects),config3.beforeRedirect&&(options2.beforeRedirects.config=config3.beforeRedirect),transport=isHttpsRequest?httpsFollow:httpFollow),config3.maxBodyLength>-1?options2.maxBodyLength=config3.maxBodyLength:options2.maxBodyLength=1/0,config3.insecureHTTPParser&&(options2.insecureHTTPParser=config3.insecureHTTPParser),req=transport.request(options2,function(res){if(req.destroyed)return;let streams=[res],responseLength=utils$1.toFiniteNumber(res.headers["content-length"]);if(onDownloadProgress||maxDownloadRate){let transformStream=new AxiosTransformStream$1({maxRate:utils$1.toFiniteNumber(maxDownloadRate)});onDownloadProgress&&transformStream.on("progress",flushOnFinish(transformStream,progressEventDecorator(responseLength,progressEventReducer(asyncDecorator(onDownloadProgress),!0,3)))),streams.push(transformStream)}let responseStream=res,lastRequest=res.req||req;if(config3.decompress!==!1&&res.headers["content-encoding"])switch((method==="HEAD"||res.statusCode===204)&&delete res.headers["content-encoding"],(res.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":streams.push(zlib__default.default.createUnzip(zlibOptions)),delete res.headers["content-encoding"];break;case"deflate":streams.push(new ZlibHeaderTransformStream$1),streams.push(zlib__default.default.createUnzip(zlibOptions)),delete res.headers["content-encoding"];break;case"br":isBrotliSupported&&(streams.push(zlib__default.default.createBrotliDecompress(brotliOptions)),delete res.headers["content-encoding"])}responseStream=streams.length>1?stream__default.default.pipeline(streams,utils$1.noop):streams[0];let response={status:res.statusCode,statusText:res.statusMessage,headers:new AxiosHeaders$1(res.headers),config:config3,request:lastRequest};if(responseType==="stream")response.data=responseStream,settle(resolve,reject,response);else{let responseBuffer=[],totalResponseBytes=0;responseStream.on("data",function(chunk){responseBuffer.push(chunk),totalResponseBytes+=chunk.length,config3.maxContentLength>-1&&totalResponseBytes>config3.maxContentLength&&(rejected=!0,responseStream.destroy(),abort(new AxiosError("maxContentLength size of "+config3.maxContentLength+" exceeded",AxiosError.ERR_BAD_RESPONSE,config3,lastRequest)))}),responseStream.on("aborted",function(){if(rejected)return;let err=new AxiosError("stream has been aborted",AxiosError.ERR_BAD_RESPONSE,config3,lastRequest);responseStream.destroy(err),reject(err)}),responseStream.on("error",function(err){req.destroyed||reject(AxiosError.from(err,null,config3,lastRequest))}),responseStream.on("end",function(){try{let responseData=responseBuffer.length===1?responseBuffer[0]:Buffer.concat(responseBuffer);responseType!=="arraybuffer"&&(responseData=responseData.toString(responseEncoding),(!responseEncoding||responseEncoding==="utf8")&&(responseData=utils$1.stripBOM(responseData))),response.data=responseData}catch(err){return reject(AxiosError.from(err,null,config3,response.request,response))}settle(resolve,reject,response)})}abortEmitter.once("abort",err=>{responseStream.destroyed||(responseStream.emit("error",err),responseStream.destroy())})}),abortEmitter.once("abort",err=>{req.close?req.close():req.destroy(err)}),req.on("error",function(err){reject(AxiosError.from(err,null,config3,req))}),req.on("socket",function(socket){socket.setKeepAlive(!0,1e3*60)}),config3.timeout){let timeout=parseInt(config3.timeout,10);if(Number.isNaN(timeout)){abort(new AxiosError("error trying to parse `config.timeout` to int",AxiosError.ERR_BAD_OPTION_VALUE,config3,req));return}req.setTimeout(timeout,function(){if(isDone)return;let timeoutErrorMessage=config3.timeout?"timeout of "+config3.timeout+"ms exceeded":"timeout exceeded",transitional=config3.transitional||transitionalDefaults;config3.timeoutErrorMessage&&(timeoutErrorMessage=config3.timeoutErrorMessage),abort(new AxiosError(timeoutErrorMessage,transitional.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,config3,req))})}if(utils$1.isStream(data)){let ended=!1,errored=!1;data.on("end",()=>{ended=!0}),data.once("error",err=>{errored=!0,req.destroy(err)}),data.on("close",()=>{!ended&&!errored&&abort(new CanceledError("Request stream has been aborted",config3,req))}),data.pipe(req)}else data&&req.write(data),req.end()})},isURLSameOrigin=platform.hasStandardBrowserEnv?((origin2,isMSIE)=>url2=>(url2=new URL(url2,platform.origin),origin2.protocol===url2.protocol&&origin2.host===url2.host&&(isMSIE||origin2.port===url2.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(name,value,expires,path5,domain,secure,sameSite){if(typeof document>"u")return;let cookie=[`${name}=${encodeURIComponent(value)}`];utils$1.isNumber(expires)&&cookie.push(`expires=${new Date(expires).toUTCString()}`),utils$1.isString(path5)&&cookie.push(`path=${path5}`),utils$1.isString(domain)&&cookie.push(`domain=${domain}`),secure===!0&&cookie.push("secure"),utils$1.isString(sameSite)&&cookie.push(`SameSite=${sameSite}`),document.cookie=cookie.join("; ")},read(name){if(typeof document>"u")return null;let match2=document.cookie.match(new RegExp("(?:^|; )"+name+"=([^;]*)"));return match2?decodeURIComponent(match2[1]):null},remove(name){this.write(name,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}},headersToObject=thing=>thing instanceof AxiosHeaders$1?{...thing}:thing;function mergeConfig(config1,config22){config22=config22||{};let config3={};function getMergedValue(target,source,prop,caseless){return utils$1.isPlainObject(target)&&utils$1.isPlainObject(source)?utils$1.merge.call({caseless},target,source):utils$1.isPlainObject(source)?utils$1.merge({},source):utils$1.isArray(source)?source.slice():source}function mergeDeepProperties(a,b,prop,caseless){if(utils$1.isUndefined(b)){if(!utils$1.isUndefined(a))return getMergedValue(void 0,a,prop,caseless)}else return getMergedValue(a,b,prop,caseless)}function valueFromConfig2(a,b){if(!utils$1.isUndefined(b))return getMergedValue(void 0,b)}function defaultToConfig2(a,b){if(utils$1.isUndefined(b)){if(!utils$1.isUndefined(a))return getMergedValue(void 0,a)}else return getMergedValue(void 0,b)}function mergeDirectKeys(a,b,prop){if(prop in config22)return getMergedValue(a,b);if(prop in config1)return getMergedValue(void 0,a)}let mergeMap={url:valueFromConfig2,method:valueFromConfig2,data:valueFromConfig2,baseURL:defaultToConfig2,transformRequest:defaultToConfig2,transformResponse:defaultToConfig2,paramsSerializer:defaultToConfig2,timeout:defaultToConfig2,timeoutMessage:defaultToConfig2,withCredentials:defaultToConfig2,withXSRFToken:defaultToConfig2,adapter:defaultToConfig2,responseType:defaultToConfig2,xsrfCookieName:defaultToConfig2,xsrfHeaderName:defaultToConfig2,onUploadProgress:defaultToConfig2,onDownloadProgress:defaultToConfig2,decompress:defaultToConfig2,maxContentLength:defaultToConfig2,maxBodyLength:defaultToConfig2,beforeRedirect:defaultToConfig2,transport:defaultToConfig2,httpAgent:defaultToConfig2,httpsAgent:defaultToConfig2,cancelToken:defaultToConfig2,socketPath:defaultToConfig2,responseEncoding:defaultToConfig2,validateStatus:mergeDirectKeys,headers:(a,b,prop)=>mergeDeepProperties(headersToObject(a),headersToObject(b),prop,!0)};return utils$1.forEach(Object.keys({...config1,...config22}),function(prop){let merge2=mergeMap[prop]||mergeDeepProperties,configValue=merge2(config1[prop],config22[prop],prop);utils$1.isUndefined(configValue)&&merge2!==mergeDirectKeys||(config3[prop]=configValue)}),config3}var resolveConfig=config3=>{let newConfig=mergeConfig({},config3),{data,withXSRFToken,xsrfHeaderName,xsrfCookieName,headers,auth}=newConfig;if(newConfig.headers=headers=AxiosHeaders$1.from(headers),newConfig.url=buildURL(buildFullPath(newConfig.baseURL,newConfig.url,newConfig.allowAbsoluteUrls),config3.params,config3.paramsSerializer),auth&&headers.set("Authorization","Basic "+btoa((auth.username||"")+":"+(auth.password?unescape(encodeURIComponent(auth.password)):""))),utils$1.isFormData(data)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)headers.setContentType(void 0);else if(utils$1.isFunction(data.getHeaders)){let formHeaders=data.getHeaders(),allowedHeaders=["content-type","content-length"];Object.entries(formHeaders).forEach(([key,val])=>{allowedHeaders.includes(key.toLowerCase())&&headers.set(key,val)})}}if(platform.hasStandardBrowserEnv&&(withXSRFToken&&utils$1.isFunction(withXSRFToken)&&(withXSRFToken=withXSRFToken(newConfig)),withXSRFToken||withXSRFToken!==!1&&isURLSameOrigin(newConfig.url))){let xsrfValue=xsrfHeaderName&&xsrfCookieName&&cookies.read(xsrfCookieName);xsrfValue&&headers.set(xsrfHeaderName,xsrfValue)}return newConfig},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(config3){return new Promise(function(resolve,reject){let _config=resolveConfig(config3),requestData=_config.data,requestHeaders=AxiosHeaders$1.from(_config.headers).normalize(),{responseType,onUploadProgress,onDownloadProgress}=_config,onCanceled,uploadThrottled,downloadThrottled,flushUpload,flushDownload;function done(){flushUpload&&flushUpload(),flushDownload&&flushDownload(),_config.cancelToken&&_config.cancelToken.unsubscribe(onCanceled),_config.signal&&_config.signal.removeEventListener("abort",onCanceled)}let request2=new XMLHttpRequest;request2.open(_config.method.toUpperCase(),_config.url,!0),request2.timeout=_config.timeout;function onloadend(){if(!request2)return;let responseHeaders=AxiosHeaders$1.from("getAllResponseHeaders"in request2&&request2.getAllResponseHeaders()),response={data:!responseType||responseType==="text"||responseType==="json"?request2.responseText:request2.response,status:request2.status,statusText:request2.statusText,headers:responseHeaders,config:config3,request:request2};settle(function(value){resolve(value),done()},function(err){reject(err),done()},response),request2=null}"onloadend"in request2?request2.onloadend=onloadend:request2.onreadystatechange=function(){!request2||request2.readyState!==4||request2.status===0&&!(request2.responseURL&&request2.responseURL.indexOf("file:")===0)||setTimeout(onloadend)},request2.onabort=function(){request2&&(reject(new AxiosError("Request aborted",AxiosError.ECONNABORTED,config3,request2)),request2=null)},request2.onerror=function(event){let msg=event&&event.message?event.message:"Network Error",err=new AxiosError(msg,AxiosError.ERR_NETWORK,config3,request2);err.event=event||null,reject(err),request2=null},request2.ontimeout=function(){let timeoutErrorMessage=_config.timeout?"timeout of "+_config.timeout+"ms exceeded":"timeout exceeded",transitional=_config.transitional||transitionalDefaults;_config.timeoutErrorMessage&&(timeoutErrorMessage=_config.timeoutErrorMessage),reject(new AxiosError(timeoutErrorMessage,transitional.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,config3,request2)),request2=null},requestData===void 0&&requestHeaders.setContentType(null),"setRequestHeader"in request2&&utils$1.forEach(requestHeaders.toJSON(),function(val,key){request2.setRequestHeader(key,val)}),utils$1.isUndefined(_config.withCredentials)||(request2.withCredentials=!!_config.withCredentials),responseType&&responseType!=="json"&&(request2.responseType=_config.responseType),onDownloadProgress&&([downloadThrottled,flushDownload]=progressEventReducer(onDownloadProgress,!0),request2.addEventListener("progress",downloadThrottled)),onUploadProgress&&request2.upload&&([uploadThrottled,flushUpload]=progressEventReducer(onUploadProgress),request2.upload.addEventListener("progress",uploadThrottled),request2.upload.addEventListener("loadend",flushUpload)),(_config.cancelToken||_config.signal)&&(onCanceled=cancel=>{request2&&(reject(!cancel||cancel.type?new CanceledError(null,config3,request2):cancel),request2.abort(),request2=null)},_config.cancelToken&&_config.cancelToken.subscribe(onCanceled),_config.signal&&(_config.signal.aborted?onCanceled():_config.signal.addEventListener("abort",onCanceled)));let protocol=parseProtocol(_config.url);if(protocol&&platform.protocols.indexOf(protocol)===-1){reject(new AxiosError("Unsupported protocol "+protocol+":",AxiosError.ERR_BAD_REQUEST,config3));return}request2.send(requestData||null)})},composeSignals=(signals,timeout)=>{let{length}=signals=signals?signals.filter(Boolean):[];if(timeout||length){let controller=new AbortController,aborted,onabort=function(reason){if(!aborted){aborted=!0,unsubscribe();let err=reason instanceof Error?reason:this.reason;controller.abort(err instanceof AxiosError?err:new CanceledError(err instanceof Error?err.message:err))}},timer=timeout&&setTimeout(()=>{timer=null,onabort(new AxiosError(`timeout ${timeout} of ms exceeded`,AxiosError.ETIMEDOUT))},timeout),unsubscribe=()=>{signals&&(timer&&clearTimeout(timer),timer=null,signals.forEach(signal2=>{signal2.unsubscribe?signal2.unsubscribe(onabort):signal2.removeEventListener("abort",onabort)}),signals=null)};signals.forEach(signal2=>signal2.addEventListener("abort",onabort));let{signal}=controller;return signal.unsubscribe=()=>utils$1.asap(unsubscribe),signal}},composeSignals$1=composeSignals,streamChunk=function*(chunk,chunkSize){let len=chunk.byteLength;if(!chunkSize||len<chunkSize){yield chunk;return}let pos=0,end;for(;pos<len;)end=pos+chunkSize,yield chunk.slice(pos,end),pos=end},readBytes=async function*(iterable,chunkSize){for await(let chunk of readStream(iterable))yield*streamChunk(chunk,chunkSize)},readStream=async function*(stream2){if(stream2[Symbol.asyncIterator]){yield*stream2;return}let reader=stream2.getReader();try{for(;;){let{done,value}=await reader.read();if(done)break;yield value}}finally{await reader.cancel()}},trackStream=(stream2,chunkSize,onProgress,onFinish)=>{let iterator2=readBytes(stream2,chunkSize),bytes=0,done,_onFinish=e=>{done||(done=!0,onFinish&&onFinish(e))};return new ReadableStream({async pull(controller){try{let{done:done2,value}=await iterator2.next();if(done2){_onFinish(),controller.close();return}let len=value.byteLength;if(onProgress){let loadedBytes=bytes+=len;onProgress(loadedBytes)}controller.enqueue(new Uint8Array(value))}catch(err){throw _onFinish(err),err}},cancel(reason){return _onFinish(reason),iterator2.return()}},{highWaterMark:2})},DEFAULT_CHUNK_SIZE=64*1024,{isFunction:isFunction2}=utils$1,globalFetchAPI=(({Request,Response:Response2})=>({Request,Response:Response2}))(utils$1.global),{ReadableStream:ReadableStream$1,TextEncoder:TextEncoder$1}=utils$1.global,test2=(fn,...args)=>{try{return!!fn(...args)}catch{return!1}},factory=env2=>{env2=utils$1.merge.call({skipUndefined:!0},globalFetchAPI,env2);let{fetch:envFetch,Request,Response:Response2}=env2,isFetchSupported=envFetch?isFunction2(envFetch):typeof fetch=="function",isRequestSupported=isFunction2(Request),isResponseSupported=isFunction2(Response2);if(!isFetchSupported)return!1;let isReadableStreamSupported=isFetchSupported&&isFunction2(ReadableStream$1),encodeText=isFetchSupported&&(typeof TextEncoder$1=="function"?(encoder=>str=>encoder.encode(str))(new TextEncoder$1):async str=>new Uint8Array(await new Request(str).arrayBuffer())),supportsRequestStream=isRequestSupported&&isReadableStreamSupported&&test2(()=>{let duplexAccessed=!1,hasContentType=new Request(platform.origin,{body:new ReadableStream$1,method:"POST",get duplex(){return duplexAccessed=!0,"half"}}).headers.has("Content-Type");return duplexAccessed&&!hasContentType}),supportsResponseStream=isResponseSupported&&isReadableStreamSupported&&test2(()=>utils$1.isReadableStream(new Response2("").body)),resolvers={stream:supportsResponseStream&&(res=>res.body)};isFetchSupported&&["text","arrayBuffer","blob","formData","stream"].forEach(type=>{!resolvers[type]&&(resolvers[type]=(res,config3)=>{let method=res&&res[type];if(method)return method.call(res);throw new AxiosError(`Response type '${type}' is not supported`,AxiosError.ERR_NOT_SUPPORT,config3)})});let getBodyLength=async body=>{if(body==null)return 0;if(utils$1.isBlob(body))return body.size;if(utils$1.isSpecCompliantForm(body))return(await new Request(platform.origin,{method:"POST",body}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(body)||utils$1.isArrayBuffer(body))return body.byteLength;if(utils$1.isURLSearchParams(body)&&(body=body+""),utils$1.isString(body))return(await encodeText(body)).byteLength},resolveBodyLength=async(headers,body)=>{let length=utils$1.toFiniteNumber(headers.getContentLength());return length??getBodyLength(body)};return async config3=>{let{url:url2,method,data,signal,cancelToken,timeout,onDownloadProgress,onUploadProgress,responseType,headers,withCredentials="same-origin",fetchOptions}=resolveConfig(config3),_fetch=envFetch||fetch;responseType=responseType?(responseType+"").toLowerCase():"text";let composedSignal=composeSignals$1([signal,cancelToken&&cancelToken.toAbortSignal()],timeout),request2=null,unsubscribe=composedSignal&&composedSignal.unsubscribe&&(()=>{composedSignal.unsubscribe()}),requestContentLength;try{if(onUploadProgress&&supportsRequestStream&&method!=="get"&&method!=="head"&&(requestContentLength=await resolveBodyLength(headers,data))!==0){let _request=new Request(url2,{method:"POST",body:data,duplex:"half"}),contentTypeHeader;if(utils$1.isFormData(data)&&(contentTypeHeader=_request.headers.get("content-type"))&&headers.setContentType(contentTypeHeader),_request.body){let[onProgress,flush]=progressEventDecorator(requestContentLength,progressEventReducer(asyncDecorator(onUploadProgress)));data=trackStream(_request.body,DEFAULT_CHUNK_SIZE,onProgress,flush)}}utils$1.isString(withCredentials)||(withCredentials=withCredentials?"include":"omit");let isCredentialsSupported=isRequestSupported&&"credentials"in Request.prototype,resolvedOptions={...fetchOptions,signal:composedSignal,method:method.toUpperCase(),headers:headers.normalize().toJSON(),body:data,duplex:"half",credentials:isCredentialsSupported?withCredentials:void 0};request2=isRequestSupported&&new Request(url2,resolvedOptions);let response=await(isRequestSupported?_fetch(request2,fetchOptions):_fetch(url2,resolvedOptions)),isStreamResponse=supportsResponseStream&&(responseType==="stream"||responseType==="response");if(supportsResponseStream&&(onDownloadProgress||isStreamResponse&&unsubscribe)){let options2={};["status","statusText","headers"].forEach(prop=>{options2[prop]=response[prop]});let responseContentLength=utils$1.toFiniteNumber(response.headers.get("content-length")),[onProgress,flush]=onDownloadProgress&&progressEventDecorator(responseContentLength,progressEventReducer(asyncDecorator(onDownloadProgress),!0))||[];response=new Response2(trackStream(response.body,DEFAULT_CHUNK_SIZE,onProgress,()=>{flush&&flush(),unsubscribe&&unsubscribe()}),options2)}responseType=responseType||"text";let responseData=await resolvers[utils$1.findKey(resolvers,responseType)||"text"](response,config3);return!isStreamResponse&&unsubscribe&&unsubscribe(),await new Promise((resolve,reject)=>{settle(resolve,reject,{data:responseData,headers:AxiosHeaders$1.from(response.headers),status:response.status,statusText:response.statusText,config:config3,request:request2})})}catch(err){throw unsubscribe&&unsubscribe(),err&&err.name==="TypeError"&&/Load failed|fetch/i.test(err.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,config3,request2),{cause:err.cause||err}):AxiosError.from(err,err&&err.code,config3,request2)}}},seedCache=new Map,getFetch=config3=>{let env2=config3&&config3.env||{},{fetch:fetch2,Request,Response:Response2}=env2,seeds=[Request,Response2,fetch2],len=seeds.length,i=len,seed,target,map=seedCache;for(;i--;)seed=seeds[i],target=map.get(seed),target===void 0&&map.set(seed,target=i?new Map:factory(env2)),map=target;return target};getFetch();var knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:{get:getFetch}};utils$1.forEach(knownAdapters,(fn,value)=>{if(fn){try{Object.defineProperty(fn,"name",{value})}catch{}Object.defineProperty(fn,"adapterName",{value})}});var renderReason=reason=>`- ${reason}`,isResolvedHandle=adapter=>utils$1.isFunction(adapter)||adapter===null||adapter===!1;function getAdapter(adapters2,config3){adapters2=utils$1.isArray(adapters2)?adapters2:[adapters2];let{length}=adapters2,nameOrAdapter,adapter,rejectedReasons={};for(let i=0;i<length;i++){nameOrAdapter=adapters2[i];let id;if(adapter=nameOrAdapter,!isResolvedHandle(nameOrAdapter)&&(adapter=knownAdapters[(id=String(nameOrAdapter)).toLowerCase()],adapter===void 0))throw new AxiosError(`Unknown adapter '${id}'`);if(adapter&&(utils$1.isFunction(adapter)||(adapter=adapter.get(config3))))break;rejectedReasons[id||"#"+i]=adapter}if(!adapter){let reasons=Object.entries(rejectedReasons).map(([id,state])=>`adapter ${id} `+(state===!1?"is not supported by the environment":"is not available in the build")),s=length?reasons.length>1?`since :
`+reasons.map(renderReason).join(`
`):" "+renderReason(reasons[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return adapter}var adapters={getAdapter,adapters:knownAdapters};function throwIfCancellationRequested(config3){if(config3.cancelToken&&config3.cancelToken.throwIfRequested(),config3.signal&&config3.signal.aborted)throw new CanceledError(null,config3)}function dispatchRequest(config3){return throwIfCancellationRequested(config3),config3.headers=AxiosHeaders$1.from(config3.headers),config3.data=transformData.call(config3,config3.transformRequest),["post","put","patch"].indexOf(config3.method)!==-1&&config3.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(config3.adapter||defaults$1.adapter,config3)(config3).then(function(response){return throwIfCancellationRequested(config3),response.data=transformData.call(config3,config3.transformResponse,response),response.headers=AxiosHeaders$1.from(response.headers),response},function(reason){return isCancel(reason)||(throwIfCancellationRequested(config3),reason&&reason.response&&(reason.response.data=transformData.call(config3,config3.transformResponse,reason.response),reason.response.headers=AxiosHeaders$1.from(reason.response.headers))),Promise.reject(reason)})}var validators$1={};["object","boolean","number","function","string","symbol"].forEach((type,i)=>{validators$1[type]=function(thing){return typeof thing===type||"a"+(i<1?"n ":" ")+type}});var deprecatedWarnings={};validators$1.transitional=function(validator2,version,message){function formatMessage(opt,desc){return"[Axios v"+VERSION+"] Transitional option '"+opt+"'"+desc+(message?". "+message:"")}return(value,opt,opts)=>{if(validator2===!1)throw new AxiosError(formatMessage(opt," has been removed"+(version?" in "+version:"")),AxiosError.ERR_DEPRECATED);return version&&!deprecatedWarnings[opt]&&(deprecatedWarnings[opt]=!0,console.warn(formatMessage(opt," has been deprecated since v"+version+" and will be removed in the near future"))),validator2?validator2(value,opt,opts):!0}};validators$1.spelling=function(correctSpelling){return(value,opt)=>(console.warn(`${opt} is likely a misspelling of ${correctSpelling}`),!0)};function assertOptions(options2,schema,allowUnknown){if(typeof options2!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);let keys2=Object.keys(options2),i=keys2.length;for(;i-- >0;){let opt=keys2[i],validator2=schema[opt];if(validator2){let value=options2[opt],result=value===void 0||validator2(value,opt,options2);if(result!==!0)throw new AxiosError("option "+opt+" must be "+result,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(allowUnknown!==!0)throw new AxiosError("Unknown option "+opt,AxiosError.ERR_BAD_OPTION)}}var validator={assertOptions,validators:validators$1},validators=validator.validators,Axios=class{constructor(instanceConfig){this.defaults=instanceConfig||{},this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}async request(configOrUrl,config3){try{return await this._request(configOrUrl,config3)}catch(err){if(err instanceof Error){let dummy={};Error.captureStackTrace?Error.captureStackTrace(dummy):dummy=new Error;let stack=dummy.stack?dummy.stack.replace(/^.+\n/,""):"";try{err.stack?stack&&!String(err.stack).endsWith(stack.replace(/^.+\n.+\n/,""))&&(err.stack+=`
`+stack):err.stack=stack}catch{}}throw err}}_request(configOrUrl,config3){typeof configOrUrl=="string"?(config3=config3||{},config3.url=configOrUrl):config3=configOrUrl||{},config3=mergeConfig(this.defaults,config3);let{transitional,paramsSerializer,headers}=config3;transitional!==void 0&&validator.assertOptions(transitional,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),paramsSerializer!=null&&(utils$1.isFunction(paramsSerializer)?config3.paramsSerializer={serialize:paramsSerializer}:validator.assertOptions(paramsSerializer,{encode:validators.function,serialize:validators.function},!0)),config3.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?config3.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:config3.allowAbsoluteUrls=!0),validator.assertOptions(config3,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),config3.method=(config3.method||this.defaults.method||"get").toLowerCase();let contextHeaders=headers&&utils$1.merge(headers.common,headers[config3.method]);headers&&utils$1.forEach(["delete","get","head","post","put","patch","common"],method=>{delete headers[method]}),config3.headers=AxiosHeaders$1.concat(contextHeaders,headers);let requestInterceptorChain=[],synchronousRequestInterceptors=!0;this.interceptors.request.forEach(function(interceptor){typeof interceptor.runWhen=="function"&&interceptor.runWhen(config3)===!1||(synchronousRequestInterceptors=synchronousRequestInterceptors&&interceptor.synchronous,requestInterceptorChain.unshift(interceptor.fulfilled,interceptor.rejected))});let responseInterceptorChain=[];this.interceptors.response.forEach(function(interceptor){responseInterceptorChain.push(interceptor.fulfilled,interceptor.rejected)});let promise,i=0,len;if(!synchronousRequestInterceptors){let chain=[dispatchRequest.bind(this),void 0];for(chain.unshift(...requestInterceptorChain),chain.push(...responseInterceptorChain),len=chain.length,promise=Promise.resolve(config3);i<len;)promise=promise.then(chain[i++],chain[i++]);return promise}len=requestInterceptorChain.length;let newConfig=config3;for(;i<len;){let onFulfilled=requestInterceptorChain[i++],onRejected=requestInterceptorChain[i++];try{newConfig=onFulfilled(newConfig)}catch(error){onRejected.call(this,error);break}}try{promise=dispatchRequest.call(this,newConfig)}catch(error){return Promise.reject(error)}for(i=0,len=responseInterceptorChain.length;i<len;)promise=promise.then(responseInterceptorChain[i++],responseInterceptorChain[i++]);return promise}getUri(config3){config3=mergeConfig(this.defaults,config3);let fullPath=buildFullPath(config3.baseURL,config3.url,config3.allowAbsoluteUrls);return buildURL(fullPath,config3.params,config3.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function(method){Axios.prototype[method]=function(url2,config3){return this.request(mergeConfig(config3||{},{method,url:url2,data:(config3||{}).data}))}});utils$1.forEach(["post","put","patch"],function(method){function generateHTTPMethod(isForm){return function(url2,data,config3){return this.request(mergeConfig(config3||{},{method,headers:isForm?{"Content-Type":"multipart/form-data"}:{},url:url2,data}))}}Axios.prototype[method]=generateHTTPMethod(),Axios.prototype[method+"Form"]=generateHTTPMethod(!0)});var Axios$1=Axios,CancelToken=class _CancelToken{constructor(executor){if(typeof executor!="function")throw new TypeError("executor must be a function.");let resolvePromise;this.promise=new Promise(function(resolve){resolvePromise=resolve});let token=this;this.promise.then(cancel=>{if(!token._listeners)return;let i=token._listeners.length;for(;i-- >0;)token._listeners[i](cancel);token._listeners=null}),this.promise.then=onfulfilled=>{let _resolve,promise=new Promise(resolve=>{token.subscribe(resolve),_resolve=resolve}).then(onfulfilled);return promise.cancel=function(){token.unsubscribe(_resolve)},promise},executor(function(message,config3,request2){token.reason||(token.reason=new CanceledError(message,config3,request2),resolvePromise(token.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(listener){if(this.reason){listener(this.reason);return}this._listeners?this._listeners.push(listener):this._listeners=[listener]}unsubscribe(listener){if(!this._listeners)return;let index2=this._listeners.indexOf(listener);index2!==-1&&this._listeners.splice(index2,1)}toAbortSignal(){let controller=new AbortController,abort=err=>{controller.abort(err)};return this.subscribe(abort),controller.signal.unsubscribe=()=>this.unsubscribe(abort),controller.signal}static source(){let cancel;return{token:new _CancelToken(function(c){cancel=c}),cancel}}},CancelToken$1=CancelToken;function spread(callback){return function(arr){return callback.apply(null,arr)}}function isAxiosError(payload){return utils$1.isObject(payload)&&payload.isAxiosError===!0}var HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(HttpStatusCode).forEach(([key,value])=>{HttpStatusCode[value]=key});var HttpStatusCode$1=HttpStatusCode;function createInstance(defaultConfig){let context=new Axios$1(defaultConfig),instance=bind(Axios$1.prototype.request,context);return utils$1.extend(instance,Axios$1.prototype,context,{allOwnKeys:!0}),utils$1.extend(instance,context,null,{allOwnKeys:!0}),instance.create=function(instanceConfig){return createInstance(mergeConfig(defaultConfig,instanceConfig))},instance}var axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(promises){return Promise.all(promises)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=thing=>formDataToJSON(utils$1.isHTMLForm(thing)?new FormData(thing):thing);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;module2.exports=axios}});var require_prometheus_query_cjs=__commonJS({"../../../../node_modules/prometheus-query/dist/prometheus-query.cjs.js"(exports2){"use strict";var axios=require_axios();exports2.ResponseType=void 0;(function(ResponseType){ResponseType.MATRIX="matrix",ResponseType.VECTOR="vector",ResponseType.SCALAR="scalar",ResponseType.STRING="string"})(exports2.ResponseType||(exports2.ResponseType={}));var Metric=class _Metric{constructor(name,labels){if(name&&typeof name!="string")throw new Error("Wrong name format. Expected string.");if(labels&&typeof labels!="object")throw new Error("Wrong labels format. Expected object.");this.name=name,this.labels=labels}static fromJSON(obj){let name=obj.__name__,labels=Object.assign({},obj);return delete labels.__name__,new _Metric(name,labels)}toString(){let strName=this.name?this.name:"",strLabels=Object.keys(this.labels).map(curr=>curr+'="'+this.labels[curr]+'"');return strName+"{"+strLabels.join(", ")+"}"}},SampleValue=class _SampleValue{constructor(unixTime,sampleValue){if(typeof unixTime!="object"||unixTime.constructor.name!="Date")throw new Error("Wrong time format. Expected Date.");if(typeof sampleValue!="number")throw new Error("Wrong value format. Expected float.");this.time=unixTime,this.value=sampleValue}static fromJSON(arr){let unixTime=new Date(arr[0]*1e3),sampleValue=parseFloat(arr[1]);return new _SampleValue(unixTime,sampleValue)}toString(){return this.time+": "+this.value}},RangeVector=class _RangeVector{constructor(metric,values2){this.metric=metric,this.values=values2}static fromJSON(obj){let metric=obj.metric?Metric.fromJSON(obj.metric):null,values2=obj.values.map(SampleValue.fromJSON);return new _RangeVector(metric,values2)}},InstantVector=class _InstantVector{constructor(metric,value){this.metric=metric,this.value=value}static fromJSON(obj){let metric=obj.metric?Metric.fromJSON(obj.metric):null,value=SampleValue.fromJSON(obj.value);return new _InstantVector(metric,value)}},QueryResult=class _QueryResult{constructor(resultType,result){this.resultType=resultType,this.result=result}static fromJSON(data){let resultType=data.resultType,result=null;switch(resultType){case exports2.ResponseType.MATRIX:result=data.result.map(RangeVector.fromJSON);break;case exports2.ResponseType.VECTOR:result=data.result.map(InstantVector.fromJSON);break;case exports2.ResponseType.SCALAR:case exports2.ResponseType.STRING:result=data.result;break;default:throw new Error(`Unexpected resultType: ${resultType}`)}return new _QueryResult(resultType,result)}},Target=class _Target{constructor(discoveredLabels,labels,scrapePool,scrapeUrl,lastError,lastScrape,lastScrapeDuration,health){if(discoveredLabels&&typeof discoveredLabels!="object")throw new Error(`Unexpected format for discoveredLabels. Got ${typeof discoveredLabels} instead of object`);if(labels&&typeof labels!="object")throw new Error(`Unexpected format for labels. Got ${typeof labels} instead of object`);if(scrapePool&&typeof scrapePool!="string")throw new Error(`Unexpected format for scrapePool. Got ${typeof scrapePool} instead of string`);if(scrapeUrl&&typeof scrapeUrl!="string")throw new Error(`Unexpected format for scrapeUrl. Got ${typeof scrapeUrl} instead of string`);if(lastError&&typeof lastError!="string")throw new Error(`Unexpected format for lastError. Got ${typeof lastError} instead of string`);if(lastScrape&&(typeof lastScrape!="object"||lastScrape.constructor.name!="Date"))throw new Error(`Unexpected format for lastScrape. Got ${typeof lastScrape} instead of object`);if(lastScrapeDuration&&typeof lastScrapeDuration!="number")throw new Error(`Unexpected format for lastScrapeDuration. Got ${typeof lastScrapeDuration} instead of number`);if(health&&typeof health!="string")throw new Error(`Unexpected format for health. Got ${typeof health} instead of string`);this.discoveredLabels=discoveredLabels,this.labels=labels,this.scrapePool=scrapePool,this.scrapeUrl=scrapeUrl,this.lastError=lastError,this.lastScrape=lastScrape,this.lastScrapeDuration=lastScrapeDuration,this.health=health}static fromJSON(obj){return new _Target(obj.discoveredLabels,obj.labels,obj.scrapePool,obj.scrapeUrl,obj.lastError,obj.lastScrape?new Date(obj.lastScrape):null,obj.lastScrapeDuration?parseFloat(obj.lastScrapeDuration):null,obj.health)}},Alert=class _Alert{constructor(activeAt,annotations,labels,state,value){if(activeAt&&(typeof activeAt!="object"||activeAt.constructor.name!="Date"))throw new Error(`Unexpected format for activeAt. Got ${typeof activeAt} instead of object`);if(annotations&&typeof annotations!="object")throw new Error(`Unexpected format for annotations. Got ${typeof annotations} instead of object`);if(labels&&typeof labels!="object")throw new Error(`Unexpected format for labels. Got ${typeof labels} instead of object`);if(value&&typeof value!="number")throw new Error(`Unexpected format for value. Got ${typeof value} instead of number`);this.activeAt=activeAt,this.annotations=annotations,this.labels=labels,this.state=state,this.value=value}static fromJSON(obj){return new _Alert(obj.activeAt?new Date(obj.activeAt):null,obj.annotations,obj.labels,obj.state,obj.value?parseFloat(obj.value):null)}},Rule=class _Rule{constructor(alerts,annotations,duration,health,labels,name,query,type){this.alerts=alerts,this.annotations=annotations,this.duration=duration,this.health=health,this.labels=labels,this.name=name,this.query=query,this.type=type}static fromJSON(obj){return new _Rule(obj.alerts?obj.alerts.map(Alert.fromJSON):[],obj.annotations,obj.duration,obj.health,obj.labels,obj.name,obj.query,obj.type)}},RuleGroup=class _RuleGroup{constructor(rules,file,interval,name){this.rules=rules,this.file=file,this.interval=interval,this.name=name}static fromJSON(obj){return new _RuleGroup(obj.rules?obj.rules.map(Rule.fromJSON):[],obj.file,obj.interval,obj.name)}},PrometheusConnectionOptions=class{constructor(){this.baseURL="/api/v1/",this.headers={},this.auth=null,this.proxy=null,this.withCredentials=!1,this.timeout=1e4,this.preferPost=!1,this.warningHook=null}},PrometheusDriver2=class{constructor(options2){if(this.listifyIfNeeded=listOrNot=>listOrNot instanceof Array?listOrNot:[listOrNot],this.formatPromQlParams=obj=>Object.entries(obj??{}).reduce((usp,[key,value])=>(value!=null&&(value instanceof Array?value.filter(v=>v!=null).forEach(v=>usp.append(`${key}[]`,v)):usp.append(key,value)),usp),new URLSearchParams),options2=options2||new PrometheusConnectionOptions,!options2.endpoint)throw"Endpoint is required";options2.endpoint=options2.endpoint.replace(/\/$/,""),options2.baseURL=options2.baseURL||"/api/v1/",options2.withCredentials=options2.withCredentials||!1,options2.timeout=options2.timeout||1e4,this.options=options2,this.axiosInstance=axios.create(),this.options.requestInterceptor&&this.axiosInstance.interceptors.request.use(this.options.requestInterceptor.onFulfilled,this.options.requestInterceptor.onRejected),this.options.responseInterceptor&&this.axiosInstance.interceptors.response.use(this.options.responseInterceptor.onFulfilled,this.options.responseInterceptor.onRejected)}request(method,uri,params,body){var _a2,_b,_c,_d,_e,_f;let headers=Object.assign({},this.options.headers||{});return this.axiosInstance.request({baseURL:this.options.endpoint+this.options.baseURL,url:uri,method,params:this.formatPromQlParams(params),data:this.formatPromQlParams(body),headers,auth:!((_a2=this.options.auth)===null||_a2===void 0)&&_a2.username&&(!((_b=this.options.auth)===null||_b===void 0)&&_b.password)?{username:this.options.auth.username,password:this.options.auth.password}:null,proxy:!((_c=this.options.proxy)===null||_c===void 0)&&_c.host&&(!((_d=this.options.proxy)===null||_d===void 0)&&_d.port)?{host:(_e=this.options.proxy)===null||_e===void 0?void 0:_e.host,port:(_f=this.options.proxy)===null||_f===void 0?void 0:_f.port}:null,withCredentials:this.options.withCredentials,timeout:this.options.timeout}).then(res=>this.handleResponse(res)).catch(res=>this.handleResponse(res,!0))}handleResponse(input,isError=!1){var _a2,_b,_c,_d,_e;let isAxiosErr=input?.isAxiosError===!0,errLike=isError||isAxiosErr,axiosErr=isAxiosErr?input:void 0,response=isAxiosErr?axiosErr.response:errLike?input?.response:input;if(!response){let code2=(_a2=axiosErr?.code)!==null&&_a2!==void 0?_a2:input?.code,message=(_c=(_b=axiosErr?.message)!==null&&_b!==void 0?_b:input?.message)!==null&&_c!==void 0?_c:"unexpected network error";throw{status:"error",errorType:code2==="ECONNABORTED"?"timeout_error":!((_d=code2?.startsWith)===null||_d===void 0)&&_d.call(code2,"ERR_SSL")?"ssl_error":"network_error",error:message,code:code2,original:input}}this.options.warningHook&&Array.isArray(response.warnings)&&response.warnings.length&&this.options.warningHook(response.warnings);let data=response.data;if(!data||data.status==null)throw{status:"error",errorType:"client_error",error:"unexpected client error",data};if(errLike)throw{status:"error",errorType:"http_error",httpStatus:response.status,error:(_e=data.error)!==null&&_e!==void 0?_e:response.statusText,prometheus:data};return data.data}formatTimeToPrometheus(input,dEfault){var _a2;if(input||(input=dEfault),typeof input=="number")return input/1e3;if(typeof input=="object"&&((_a2=input?.constructor)===null||_a2===void 0?void 0:_a2.name)=="Date")return input.getTime()/1e3;throw new Error("Wrong time format. Expected number or Date.")}instantQuery(query,time,timeout){let params={query,time:this.formatTimeToPrometheus(time,new Date),timeout};return(this.options.preferPost?this.request("POST","query",null,params):this.request("GET","query",params)).then(data=>QueryResult.fromJSON(data))}rangeQuery(query,start,end,step,timeout){let params={query,start:this.formatTimeToPrometheus(start),end:this.formatTimeToPrometheus(end),step,timeout};return(this.options.preferPost?this.request("POST","query_range",null,params):this.request("GET","query_range",params)).then(data=>QueryResult.fromJSON(data))}series(matchs,start,end){let params={match:this.listifyIfNeeded(matchs),start:this.formatTimeToPrometheus(start),end:this.formatTimeToPrometheus(end)};return(this.options.preferPost?this.request("POST","series",null,params):this.request("GET","series",params)).then(data=>data.map(Metric.fromJSON))}labelNames(matchs,start,end){let params={match:this.listifyIfNeeded(matchs),start:start?this.formatTimeToPrometheus(start):void 0,end:end?this.formatTimeToPrometheus(end):void 0};return this.options.preferPost?this.request("POST","labels",null,params):this.request("GET","labels",params)}labelValues(labelName,matchs,start,end){let params={match:this.listifyIfNeeded(matchs),start:start?this.formatTimeToPrometheus(start):void 0,end:end?this.formatTimeToPrometheus(end):void 0};return this.request("GET",`label/${labelName}/values`,params)}targets(state){let params={query:state||"any"};return this.request("GET","targets",params).then(data=>({activeTargets:data.activeTargets?data.activeTargets.map(Target.fromJSON):[],droppedTargets:data.droppedTargets?data.droppedTargets.map(Target.fromJSON):[]}))}targetsMetadata(matchTarget,metric,limit){let params={match_target:matchTarget,metric,limit};return this.request("GET","targets/metadata",params)}metadata(metric,limit){let params={metric,limit};return this.request("GET","metadata",params)}rules(){return this.request("GET","rules").then(data=>(data.groups?data.groups:[]).map(RuleGroup.fromJSON))}alerts(){return this.request("GET","alerts").then(data=>(data.alerts?data.alerts:[]).map(Alert.fromJSON))}alertmanagers(){return this.request("GET","alertmanagers")}status(){return this.request("GET","status/config")}statusFlags(){return this.request("GET","status/flags")}statusRuntimeInfo(){return this.request("GET","status/runtimeinfo")}statusBuildinfo(){return this.request("GET","status/buildinfo")}statusTSDB(){return this.request("GET","status/tsdb")}adminSnapshot(skipHead){let params={skip_head:skipHead};return this.request("POST","admin/tsdb/snapshot",params)}adminDeleteSeries(matchs,start,end){let params={match:this.listifyIfNeeded(matchs),start:this.formatTimeToPrometheus(start),end:this.formatTimeToPrometheus(end)};return this.request("POST","admin/tsdb/delete_series",params)}adminCleanTombstones(){return this.request("POST","admin/tsdb/clean_tombstones")}};exports2.Alert=Alert;exports2.InstantVector=InstantVector;exports2.Metric=Metric;exports2.PrometheusConnectionOptions=PrometheusConnectionOptions;exports2.PrometheusDriver=PrometheusDriver2;exports2.QueryResult=QueryResult;exports2.RangeVector=RangeVector;exports2.Rule=Rule;exports2.RuleGroup=RuleGroup;exports2.SampleValue=SampleValue;exports2.Target=Target}});var require_config_ini=__commonJS({"../../../../node_modules/config-ini-parser/config-ini.js"(exports2){(function(exports3){var error=Object.assign(new Error,{name:"ConfigIniParser Error",message:"Parse config ini file error"}),errorNoSection=Object.assign(new Error,{name:"ConfigIniParser Error",message:"The specify section not found"}),errorNoOption=Object.assign(new Error,{name:"ConfigIniParser Error",message:"The specify option not found"}),errorDuplicateSectionError=Object.assign(new Error,{name:"ConfigIniParser Error",message:"Found duplicated section in the given ini file"}),errorCallParseMultipleTimes=Object.assign(new Error,{name:"ConfigIniParser Error",message:"Multiple call parse on the same parser instance"}),errorIncorrectArgumentType=Object.assign(new TypeError,{name:"ConfigIniParser Error",message:"The argument type is not correct"}),DEFAULT_SECTION="__DEFAULT_SECTION__",_sectionRegex=/^\s*\[\s*([^\]]+?)\s*\]\s*$/,_optionRegex=/\s*([^=:\s]+)\s*[=:]\s*(.*)\s*/,_commentRegex=/^\s*[#;].*/,_emptyRegex=/^\s*$/,SECTION_NAME_INDEX=1,OPTION_NAME_INDEX=1,OPTION_VALUE_INDEX=2,NOT_FOUND=-1,DEFAULT_DELIMITER=`
`;function _findSection(iniStructure,sectionName){for(var sections=iniStructure.sections,i=0;i<sections.length;i++){var section=sections[i];if(section.name==sectionName)return section}}function _findSectionIndex(iniStructure,sectionName){for(var sections=iniStructure.sections,i=0;i<sections.length;i++){var section=sections[i];if(section.name==sectionName)return i}return NOT_FOUND}function _findOption(section,optionName){for(var options2=section.options,i=0;i<options2.length;i++){var option=options2[i];if(option.name==optionName)return option}}function _findOptionIndex(section,optionName){for(var options2=section.options,i=0;i<options2.length;i++){var option=options2[i];if(option.name==optionName)return i}return NOT_FOUND}function _createSection(name){return{name,options:[]}}function _createOption(name,value){return{name,value}}var ConfigIniParser=function(delimiter){this.delimiter=delimiter||DEFAULT_DELIMITER,this._calledParse=!1,this._ini={sections:[]},this._ini.sections.push(_createSection(DEFAULT_SECTION))};ConfigIniParser.prototype.addSection=function(sectionName){if(_findSection(this._ini,sectionName))throw errorDuplicateSectionError;var section=_createSection(sectionName);return this._ini.sections.push(section),this},ConfigIniParser.prototype.get=function(sectionName,optionName,defaultValue){var section=_findSection(this._ini,sectionName||DEFAULT_SECTION);if(section){var option=_findOption(section,optionName);if(option)return option.value}if(defaultValue===void 0)throw errorNoOption;return defaultValue},ConfigIniParser.prototype.getOptionFromDefaultSection=function(optionName,defaultValue){return this.get(null,optionName,defaultValue)},ConfigIniParser.prototype.getBoolean=function(sectionName,optionName){var value=this.get(sectionName||DEFAULT_SECTION,optionName);return isNaN(value)?String(value).toLowerCase()=="true":value!=0},ConfigIniParser.prototype.getBooleanFromDefaultSection=function(optionName){return this.getBoolean(null,optionName)},ConfigIniParser.prototype.getNumber=function(sectionName,optionName){return+this.get(sectionName||DEFAULT_SECTION,optionName)},ConfigIniParser.prototype.getNumberFromDefaultSection=function(optionName){return this.getNumber(null,optionName)},ConfigIniParser.prototype.isHaveSection=function(sectionName){if(!sectionName)throw errorIncorrectArgumentType;return!!_findSection(this._ini,sectionName)},ConfigIniParser.prototype.isHaveOption=function(sectionName,optionName){var section=_findSection(this._ini,sectionName||DEFAULT_SECTION);if(section){var option=_findOption(section,optionName);if(option)return!0}return!1},ConfigIniParser.prototype.isHaveOptionInDefaultSection=function(optionName){return this.isHaveOption(null,optionName)},ConfigIniParser.prototype.items=function(sectionName){for(var section=_findSection(this._ini,sectionName||DEFAULT_SECTION),items=[],i=0;i<section.options.length;i++){var option=section.options[i];items.push([option.name,option.value])}return items},ConfigIniParser.prototype.options=function(sectionName){var section=_findSection(this._ini,sectionName||DEFAULT_SECTION);if(section){for(var optionNames=[],options2=section.options,option,i=0;i<options2.length;i++)option=options2[i],optionNames.push(option.name);return optionNames}else throw errorNoSection},ConfigIniParser.prototype.removeOption=function(sectionName,optionName){var section=_findSection(this._ini,sectionName||DEFAULT_SECTION);if(section){var optionIndex=_findOptionIndex(section,optionName);if(optionIndex!=NOT_FOUND)return section.options.splice(optionIndex,1),!0}return!1},ConfigIniParser.prototype.removeOptionFromDefaultSection=function(optionName){return this.removeOption(null,optionName)},ConfigIniParser.prototype.removeSection=function(sectionName){var sectionIndex=_findSectionIndex(this._ini,sectionName||DEFAULT_SECTION);return sectionIndex!=NOT_FOUND?(this._ini.sections.splice(sectionIndex,1),sectionName===DEFAULT_SECTION&&this._ini.sections.push(_createSection(DEFAULT_SECTION)),!0):!1},ConfigIniParser.prototype.sections=function(){for(var sectionNames=[],sections=this._ini.sections,section,i=0;i<sections.length;i++)section=sections[i],section.name!=DEFAULT_SECTION&&sectionNames.push(section.name);return sectionNames},ConfigIniParser.prototype.set=function(sectionName,optionName,value){var section=_findSection(this._ini,sectionName||DEFAULT_SECTION),option;if(section)return option=_findOption(section,optionName),option?(option.value=value,this):(option=_createOption(optionName,value),section.options.push(option),this);throw errorNoSection},ConfigIniParser.prototype.setOptionInDefaultSection=function(optionName,value){return this.set(null,optionName,value)},ConfigIniParser.prototype.stringify=function(delimiter){for(var lines=[],sections=this._ini.sections,currentSection,options2,currentOption,i=0;i<sections.length;i++){currentSection=sections[i],currentSection.name!=DEFAULT_SECTION&&lines.push("["+currentSection.name+"]"),options2=currentSection.options;for(var j=0;j<options2.length;j++)currentOption=options2[j],lines.push(currentOption.name+"="+currentOption.value);lines.length>0&&lines.push("")}return lines.join(delimiter||this.delimiter)},ConfigIniParser.prototype.parse=function(iniContent){if(this._calledParse)throw errorCallParseMultipleTimes;this._calledParse=!0;for(var lines=iniContent.split(this.delimiter),currentSection=_findSection(this._ini,DEFAULT_SECTION),i=0;i<lines.length;i++){var line=lines[i];if(!(line.match(_commentRegex)||line.match(_emptyRegex))){var sectionInfo=line.match(_sectionRegex);if(sectionInfo){var sectionName=sectionInfo[SECTION_NAME_INDEX];if(_findSection(this._ini,sectionName))throw errorDuplicateSectionError;currentSection=_createSection(sectionName),this._ini.sections.push(currentSection);continue}var optionInfo=line.match(_optionRegex);if(optionInfo){var optionName=optionInfo[OPTION_NAME_INDEX],optionValue=optionInfo[OPTION_VALUE_INDEX],option=_createOption(optionName,optionValue);currentSection.options.push(option);continue}throw error}}return this},ConfigIniParser.Errors={Error:error,ErrorNoSection:errorNoSection,ErrorNoOption:errorNoOption,ErrorDuplicateSectionError:errorDuplicateSectionError,ErrorCallParseMultipleTimes:errorCallParseMultipleTimes,ErrorIncorrectArgumentType:errorIncorrectArgumentType},exports3.ConfigIniParser=ConfigIniParser})(typeof exports2<"u"?exports2:typeof window<"u"?window:{})}});var require_identity=__commonJS({"../../../../node_modules/yaml/dist/nodes/identity.js"(exports2){"use strict";var ALIAS=Symbol.for("yaml.alias"),DOC=Symbol.for("yaml.document"),MAP=Symbol.for("yaml.map"),PAIR=Symbol.for("yaml.pair"),SCALAR=Symbol.for("yaml.scalar"),SEQ=Symbol.for("yaml.seq"),NODE_TYPE=Symbol.for("yaml.node.type"),isAlias=node=>!!node&&typeof node=="object"&&node[NODE_TYPE]===ALIAS,isDocument=node=>!!node&&typeof node=="object"&&node[NODE_TYPE]===DOC,isMap=node=>!!node&&typeof node=="object"&&node[NODE_TYPE]===MAP,isPair=node=>!!node&&typeof node=="object"&&node[NODE_TYPE]===PAIR,isScalar=node=>!!node&&typeof node=="object"&&node[NODE_TYPE]===SCALAR,isSeq=node=>!!node&&typeof node=="object"&&node[NODE_TYPE]===SEQ;function isCollection(node){if(node&&typeof node=="object")switch(node[NODE_TYPE]){case MAP:case SEQ:return!0}return!1}function isNode(node){if(node&&typeof node=="object")switch(node[NODE_TYPE]){case ALIAS:case MAP:case SCALAR:case SEQ:return!0}return!1}var hasAnchor=node=>(isScalar(node)||isCollection(node))&&!!node.anchor;exports2.ALIAS=ALIAS;exports2.DOC=DOC;exports2.MAP=MAP;exports2.NODE_TYPE=NODE_TYPE;exports2.PAIR=PAIR;exports2.SCALAR=SCALAR;exports2.SEQ=SEQ;exports2.hasAnchor=hasAnchor;exports2.isAlias=isAlias;exports2.isCollection=isCollection;exports2.isDocument=isDocument;exports2.isMap=isMap;exports2.isNode=isNode;exports2.isPair=isPair;exports2.isScalar=isScalar;exports2.isSeq=isSeq}});var require_visit=__commonJS({"../../../../node_modules/yaml/dist/visit.js"(exports2){"use strict";var identity=require_identity(),BREAK=Symbol("break visit"),SKIP=Symbol("skip children"),REMOVE=Symbol("remove node");function visit(node,visitor){let visitor_=initVisitor(visitor);identity.isDocument(node)?visit_(null,node.contents,visitor_,Object.freeze([node]))===REMOVE&&(node.contents=null):visit_(null,node,visitor_,Object.freeze([]))}visit.BREAK=BREAK;visit.SKIP=SKIP;visit.REMOVE=REMOVE;function visit_(key,node,visitor,path5){let ctrl=callVisitor(key,node,visitor,path5);if(identity.isNode(ctrl)||identity.isPair(ctrl))return replaceNode(key,path5,ctrl),visit_(key,ctrl,visitor,path5);if(typeof ctrl!="symbol"){if(identity.isCollection(node)){path5=Object.freeze(path5.concat(node));for(let i=0;i<node.items.length;++i){let ci=visit_(i,node.items[i],visitor,path5);if(typeof ci=="number")i=ci-1;else{if(ci===BREAK)return BREAK;ci===REMOVE&&(node.items.splice(i,1),i-=1)}}}else if(identity.isPair(node)){path5=Object.freeze(path5.concat(node));let ck=visit_("key",node.key,visitor,path5);if(ck===BREAK)return BREAK;ck===REMOVE&&(node.key=null);let cv=visit_("value",node.value,visitor,path5);if(cv===BREAK)return BREAK;cv===REMOVE&&(node.value=null)}}return ctrl}async function visitAsync(node,visitor){let visitor_=initVisitor(visitor);identity.isDocument(node)?await visitAsync_(null,node.contents,visitor_,Object.freeze([node]))===REMOVE&&(node.contents=null):await visitAsync_(null,node,visitor_,Object.freeze([]))}visitAsync.BREAK=BREAK;visitAsync.SKIP=SKIP;visitAsync.REMOVE=REMOVE;async function visitAsync_(key,node,visitor,path5){let ctrl=await callVisitor(key,node,visitor,path5);if(identity.isNode(ctrl)||identity.isPair(ctrl))return replaceNode(key,path5,ctrl),visitAsync_(key,ctrl,visitor,path5);if(typeof ctrl!="symbol"){if(identity.isCollection(node)){path5=Object.freeze(path5.concat(node));for(let i=0;i<node.items.length;++i){let ci=await visitAsync_(i,node.items[i],visitor,path5);if(typeof ci=="number")i=ci-1;else{if(ci===BREAK)return BREAK;ci===REMOVE&&(node.items.splice(i,1),i-=1)}}}else if(identity.isPair(node)){path5=Object.freeze(path5.concat(node));let ck=await visitAsync_("key",node.key,visitor,path5);if(ck===BREAK)return BREAK;ck===REMOVE&&(node.key=null);let cv=await visitAsync_("value",node.value,visitor,path5);if(cv===BREAK)return BREAK;cv===REMOVE&&(node.value=null)}}return ctrl}function initVisitor(visitor){return typeof visitor=="object"&&(visitor.Collection||visitor.Node||visitor.Value)?Object.assign({Alias:visitor.Node,Map:visitor.Node,Scalar:visitor.Node,Seq:visitor.Node},visitor.Value&&{Map:visitor.Value,Scalar:visitor.Value,Seq:visitor.Value},visitor.Collection&&{Map:visitor.Collection,Seq:visitor.Collection},visitor):visitor}function callVisitor(key,node,visitor,path5){if(typeof visitor=="function")return visitor(key,node,path5);if(identity.isMap(node))return visitor.Map?.(key,node,path5);if(identity.isSeq(node))return visitor.Seq?.(key,node,path5);if(identity.isPair(node))return visitor.Pair?.(key,node,path5);if(identity.isScalar(node))return visitor.Scalar?.(key,node,path5);if(identity.isAlias(node))return visitor.Alias?.(key,node,path5)}function replaceNode(key,path5,node){let parent=path5[path5.length-1];if(identity.isCollection(parent))parent.items[key]=node;else if(identity.isPair(parent))key==="key"?parent.key=node:parent.value=node;else if(identity.isDocument(parent))parent.contents=node;else{let pt=identity.isAlias(parent)?"alias":"scalar";throw new Error(`Cannot replace node with ${pt} parent`)}}exports2.visit=visit;exports2.visitAsync=visitAsync}});var require_directives=__commonJS({"../../../../node_modules/yaml/dist/doc/directives.js"(exports2){"use strict";var identity=require_identity(),visit=require_visit(),escapeChars={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},escapeTagName=tn=>tn.replace(/[!,[\]{}]/g,ch=>escapeChars[ch]),Directives=class _Directives{constructor(yaml2,tags){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},_Directives.defaultYaml,yaml2),this.tags=Object.assign({},_Directives.defaultTags,tags)}clone(){let copy=new _Directives(this.yaml,this.tags);return copy.docStart=this.docStart,copy}atDocument(){let res=new _Directives(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:_Directives.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},_Directives.defaultTags);break}return res}add(line,onError){this.atNextDocument&&(this.yaml={explicit:_Directives.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},_Directives.defaultTags),this.atNextDocument=!1);let parts=line.trim().split(/[ \t]+/),name=parts.shift();switch(name){case"%TAG":{if(parts.length!==2&&(onError(0,"%TAG directive should contain exactly two parts"),parts.length<2))return!1;let[handle,prefix]=parts;return this.tags[handle]=prefix,!0}case"%YAML":{if(this.yaml.explicit=!0,parts.length!==1)return onError(0,"%YAML directive should contain exactly one part"),!1;let[version]=parts;if(version==="1.1"||version==="1.2")return this.yaml.version=version,!0;{let isValid2=/^\d+\.\d+$/.test(version);return onError(6,`Unsupported YAML version ${version}`,isValid2),!1}}default:return onError(0,`Unknown directive ${name}`,!0),!1}}tagName(source,onError){if(source==="!")return"!";if(source[0]!=="!")return onError(`Not a valid tag: ${source}`),null;if(source[1]==="<"){let verbatim=source.slice(2,-1);return verbatim==="!"||verbatim==="!!"?(onError(`Verbatim tags aren't resolved, so ${source} is invalid.`),null):(source[source.length-1]!==">"&&onError("Verbatim tags must end with a >"),verbatim)}let[,handle,suffix]=source.match(/^(.*!)([^!]*)$/s);suffix||onError(`The ${source} tag has no suffix`);let prefix=this.tags[handle];if(prefix)try{return prefix+decodeURIComponent(suffix)}catch(error){return onError(String(error)),null}return handle==="!"?source:(onError(`Could not resolve tag: ${source}`),null)}tagString(tag){for(let[handle,prefix]of Object.entries(this.tags))if(tag.startsWith(prefix))return handle+escapeTagName(tag.substring(prefix.length));return tag[0]==="!"?tag:`!<${tag}>`}toString(doc){let lines=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],tagEntries=Object.entries(this.tags),tagNames;if(doc&&tagEntries.length>0&&identity.isNode(doc.contents)){let tags={};visit.visit(doc.contents,(_key,node)=>{identity.isNode(node)&&node.tag&&(tags[node.tag]=!0)}),tagNames=Object.keys(tags)}else tagNames=[];for(let[handle,prefix]of tagEntries)handle==="!!"&&prefix==="tag:yaml.org,2002:"||(!doc||tagNames.some(tn=>tn.startsWith(prefix)))&&lines.push(`%TAG ${handle} ${prefix}`);return lines.join(`
`)}};Directives.defaultYaml={explicit:!1,version:"1.2"};Directives.defaultTags={"!!":"tag:yaml.org,2002:"};exports2.Directives=Directives}});var require_anchors=__commonJS({"../../../../node_modules/yaml/dist/doc/anchors.js"(exports2){"use strict";var identity=require_identity(),visit=require_visit();function anchorIsValid(anchor){if(/[\x00-\x19\s,[\]{}]/.test(anchor)){let msg=`Anchor must not contain whitespace or control characters: ${JSON.stringify(anchor)}`;throw new Error(msg)}return!0}function anchorNames(root){let anchors=new Set;return visit.visit(root,{Value(_key,node){node.anchor&&anchors.add(node.anchor)}}),anchors}function findNewAnchor(prefix,exclude){for(let i=1;;++i){let name=`${prefix}${i}`;if(!exclude.has(name))return name}}function createNodeAnchors(doc,prefix){let aliasObjects=[],sourceObjects=new Map,prevAnchors=null;return{onAnchor:source=>{aliasObjects.push(source),prevAnchors??(prevAnchors=anchorNames(doc));let anchor=findNewAnchor(prefix,prevAnchors);return prevAnchors.add(anchor),anchor},setAnchors:()=>{for(let source of aliasObjects){let ref=sourceObjects.get(source);if(typeof ref=="object"&&ref.anchor&&(identity.isScalar(ref.node)||identity.isCollection(ref.node)))ref.node.anchor=ref.anchor;else{let error=new Error("Failed to resolve repeated object (this should not happen)");throw error.source=source,error}}},sourceObjects}}exports2.anchorIsValid=anchorIsValid;exports2.anchorNames=anchorNames;exports2.createNodeAnchors=createNodeAnchors;exports2.findNewAnchor=findNewAnchor}});var require_applyReviver=__commonJS({"../../../../node_modules/yaml/dist/doc/applyReviver.js"(exports2){"use strict";function applyReviver(reviver,obj,key,val){if(val&&typeof val=="object")if(Array.isArray(val))for(let i=0,len=val.length;i<len;++i){let v0=val[i],v1=applyReviver(reviver,val,String(i),v0);v1===void 0?delete val[i]:v1!==v0&&(val[i]=v1)}else if(val instanceof Map)for(let k of Array.from(val.keys())){let v0=val.get(k),v1=applyReviver(reviver,val,k,v0);v1===void 0?val.delete(k):v1!==v0&&val.set(k,v1)}else if(val instanceof Set)for(let v0 of Array.from(val)){let v1=applyReviver(reviver,val,v0,v0);v1===void 0?val.delete(v0):v1!==v0&&(val.delete(v0),val.add(v1))}else for(let[k,v0]of Object.entries(val)){let v1=applyReviver(reviver,val,k,v0);v1===void 0?delete val[k]:v1!==v0&&(val[k]=v1)}return reviver.call(obj,key,val)}exports2.applyReviver=applyReviver}});var require_toJS=__commonJS({"../../../../node_modules/yaml/dist/nodes/toJS.js"(exports2){"use strict";var identity=require_identity();function toJS(value,arg,ctx){if(Array.isArray(value))return value.map((v,i)=>toJS(v,String(i),ctx));if(value&&typeof value.toJSON=="function"){if(!ctx||!identity.hasAnchor(value))return value.toJSON(arg,ctx);let data={aliasCount:0,count:1,res:void 0};ctx.anchors.set(value,data),ctx.onCreate=res2=>{data.res=res2,delete ctx.onCreate};let res=value.toJSON(arg,ctx);return ctx.onCreate&&ctx.onCreate(res),res}return typeof value=="bigint"&&!ctx?.keep?Number(value):value}exports2.toJS=toJS}});var require_Node2=__commonJS({"../../../../node_modules/yaml/dist/nodes/Node.js"(exports2){"use strict";var applyReviver=require_applyReviver(),identity=require_identity(),toJS=require_toJS(),NodeBase=class{constructor(type){Object.defineProperty(this,identity.NODE_TYPE,{value:type})}clone(){let copy=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(copy.range=this.range.slice()),copy}toJS(doc,{mapAsMap,maxAliasCount,onAnchor,reviver}={}){if(!identity.isDocument(doc))throw new TypeError("A document argument is required");let ctx={anchors:new Map,doc,keep:!0,mapAsMap:mapAsMap===!0,mapKeyWarned:!1,maxAliasCount:typeof maxAliasCount=="number"?maxAliasCount:100},res=toJS.toJS(this,"",ctx);if(typeof onAnchor=="function")for(let{count,res:res2}of ctx.anchors.values())onAnchor(res2,count);return typeof reviver=="function"?applyReviver.applyReviver(reviver,{"":res},"",res):res}};exports2.NodeBase=NodeBase}});var require_Alias=__commonJS({"../../../../node_modules/yaml/dist/nodes/Alias.js"(exports2){"use strict";var anchors=require_anchors(),visit=require_visit(),identity=require_identity(),Node=require_Node2(),toJS=require_toJS(),Alias=class extends Node.NodeBase{constructor(source){super(identity.ALIAS),this.source=source,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(doc,ctx){let nodes;ctx?.aliasResolveCache?nodes=ctx.aliasResolveCache:(nodes=[],visit.visit(doc,{Node:(_key,node)=>{(identity.isAlias(node)||identity.hasAnchor(node))&&nodes.push(node)}}),ctx&&(ctx.aliasResolveCache=nodes));let found;for(let node of nodes){if(node===this)break;node.anchor===this.source&&(found=node)}return found}toJSON(_arg,ctx){if(!ctx)return{source:this.source};let{anchors:anchors2,doc,maxAliasCount}=ctx,source=this.resolve(doc,ctx);if(!source){let msg=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(msg)}let data=anchors2.get(source);if(data||(toJS.toJS(source,null,ctx),data=anchors2.get(source)),data?.res===void 0){let msg="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(msg)}if(maxAliasCount>=0&&(data.count+=1,data.aliasCount===0&&(data.aliasCount=getAliasCount(doc,source,anchors2)),data.count*data.aliasCount>maxAliasCount)){let msg="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(msg)}return data.res}toString(ctx,_onComment,_onChompKeep){let src=`*${this.source}`;if(ctx){if(anchors.anchorIsValid(this.source),ctx.options.verifyAliasOrder&&!ctx.anchors.has(this.source)){let msg=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(msg)}if(ctx.implicitKey)return`${src} `}return src}};function getAliasCount(doc,node,anchors2){if(identity.isAlias(node)){let source=node.resolve(doc),anchor=anchors2&&source&&anchors2.get(source);return anchor?anchor.count*anchor.aliasCount:0}else if(identity.isCollection(node)){let count=0;for(let item of node.items){let c=getAliasCount(doc,item,anchors2);c>count&&(count=c)}return count}else if(identity.isPair(node)){let kc=getAliasCount(doc,node.key,anchors2),vc=getAliasCount(doc,node.value,anchors2);return Math.max(kc,vc)}return 1}exports2.Alias=Alias}});var require_Scalar=__commonJS({"../../../../node_modules/yaml/dist/nodes/Scalar.js"(exports2){"use strict";var identity=require_identity(),Node=require_Node2(),toJS=require_toJS(),isScalarValue=value=>!value||typeof value!="function"&&typeof value!="object",Scalar=class extends Node.NodeBase{constructor(value){super(identity.SCALAR),this.value=value}toJSON(arg,ctx){return ctx?.keep?this.value:toJS.toJS(this.value,arg,ctx)}toString(){return String(this.value)}};Scalar.BLOCK_FOLDED="BLOCK_FOLDED";Scalar.BLOCK_LITERAL="BLOCK_LITERAL";Scalar.PLAIN="PLAIN";Scalar.QUOTE_DOUBLE="QUOTE_DOUBLE";Scalar.QUOTE_SINGLE="QUOTE_SINGLE";exports2.Scalar=Scalar;exports2.isScalarValue=isScalarValue}});var require_createNode=__commonJS({"../../../../node_modules/yaml/dist/doc/createNode.js"(exports2){"use strict";var Alias=require_Alias(),identity=require_identity(),Scalar=require_Scalar(),defaultTagPrefix="tag:yaml.org,2002:";function findTagObject(value,tagName,tags){if(tagName){let match2=tags.filter(t=>t.tag===tagName),tagObj=match2.find(t=>!t.format)??match2[0];if(!tagObj)throw new Error(`Tag ${tagName} not found`);return tagObj}return tags.find(t=>t.identify?.(value)&&!t.format)}function createNode(value,tagName,ctx){if(identity.isDocument(value)&&(value=value.contents),identity.isNode(value))return value;if(identity.isPair(value)){let map=ctx.schema[identity.MAP].createNode?.(ctx.schema,null,ctx);return map.items.push(value),map}(value instanceof String||value instanceof Number||value instanceof Boolean||typeof BigInt<"u"&&value instanceof BigInt)&&(value=value.valueOf());let{aliasDuplicateObjects,onAnchor,onTagObj,schema,sourceObjects}=ctx,ref;if(aliasDuplicateObjects&&value&&typeof value=="object"){if(ref=sourceObjects.get(value),ref)return ref.anchor??(ref.anchor=onAnchor(value)),new Alias.Alias(ref.anchor);ref={anchor:null,node:null},sourceObjects.set(value,ref)}tagName?.startsWith("!!")&&(tagName=defaultTagPrefix+tagName.slice(2));let tagObj=findTagObject(value,tagName,schema.tags);if(!tagObj){if(value&&typeof value.toJSON=="function"&&(value=value.toJSON()),!value||typeof value!="object"){let node2=new Scalar.Scalar(value);return ref&&(ref.node=node2),node2}tagObj=value instanceof Map?schema[identity.MAP]:Symbol.iterator in Object(value)?schema[identity.SEQ]:schema[identity.MAP]}onTagObj&&(onTagObj(tagObj),delete ctx.onTagObj);let node=tagObj?.createNode?tagObj.createNode(ctx.schema,value,ctx):typeof tagObj?.nodeClass?.from=="function"?tagObj.nodeClass.from(ctx.schema,value,ctx):new Scalar.Scalar(value);return tagName?node.tag=tagName:tagObj.default||(node.tag=tagObj.tag),ref&&(ref.node=node),node}exports2.createNode=createNode}});var require_Collection=__commonJS({"../../../../node_modules/yaml/dist/nodes/Collection.js"(exports2){"use strict";var createNode=require_createNode(),identity=require_identity(),Node=require_Node2();function collectionFromPath(schema,path5,value){let v=value;for(let i=path5.length-1;i>=0;--i){let k=path5[i];if(typeof k=="number"&&Number.isInteger(k)&&k>=0){let a=[];a[k]=v,v=a}else v=new Map([[k,v]])}return createNode.createNode(v,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema,sourceObjects:new Map})}var isEmptyPath=path5=>path5==null||typeof path5=="object"&&!!path5[Symbol.iterator]().next().done,Collection=class extends Node.NodeBase{constructor(type,schema){super(type),Object.defineProperty(this,"schema",{value:schema,configurable:!0,enumerable:!1,writable:!0})}clone(schema){let copy=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return schema&&(copy.schema=schema),copy.items=copy.items.map(it=>identity.isNode(it)||identity.isPair(it)?it.clone(schema):it),this.range&&(copy.range=this.range.slice()),copy}addIn(path5,value){if(isEmptyPath(path5))this.add(value);else{let[key,...rest]=path5,node=this.get(key,!0);if(identity.isCollection(node))node.addIn(rest,value);else if(node===void 0&&this.schema)this.set(key,collectionFromPath(this.schema,rest,value));else throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`)}}deleteIn(path5){let[key,...rest]=path5;if(rest.length===0)return this.delete(key);let node=this.get(key,!0);if(identity.isCollection(node))return node.deleteIn(rest);throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`)}getIn(path5,keepScalar){let[key,...rest]=path5,node=this.get(key,!0);return rest.length===0?!keepScalar&&identity.isScalar(node)?node.value:node:identity.isCollection(node)?node.getIn(rest,keepScalar):void 0}hasAllNullValues(allowScalar){return this.items.every(node=>{if(!identity.isPair(node))return!1;let n=node.value;return n==null||allowScalar&&identity.isScalar(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(path5){let[key,...rest]=path5;if(rest.length===0)return this.has(key);let node=this.get(key,!0);return identity.isCollection(node)?node.hasIn(rest):!1}setIn(path5,value){let[key,...rest]=path5;if(rest.length===0)this.set(key,value);else{let node=this.get(key,!0);if(identity.isCollection(node))node.setIn(rest,value);else if(node===void 0&&this.schema)this.set(key,collectionFromPath(this.schema,rest,value));else throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`)}}};exports2.Collection=Collection;exports2.collectionFromPath=collectionFromPath;exports2.isEmptyPath=isEmptyPath}});var require_stringifyComment=__commonJS({"../../../../node_modules/yaml/dist/stringify/stringifyComment.js"(exports2){"use strict";var stringifyComment=str=>str.replace(/^(?!$)(?: $)?/gm,"#");function indentComment(comment2,indent){return/^\n+$/.test(comment2)?comment2.substring(1):indent?comment2.replace(/^(?! *$)/gm,indent):comment2}var lineComment=(str,indent,comment2)=>str.endsWith(`
`)?indentComment(comment2,indent):comment2.includes(`
`)?`
`+indentComment(comment2,indent):(str.endsWith(" ")?"":" ")+comment2;exports2.indentComment=indentComment;exports2.lineComment=lineComment;exports2.stringifyComment=stringifyComment}});var require_foldFlowLines=__commonJS({"../../../../node_modules/yaml/dist/stringify/foldFlowLines.js"(exports2){"use strict";var FOLD_FLOW="flow",FOLD_BLOCK="block",FOLD_QUOTED="quoted";function foldFlowLines(text2,indent,mode="flow",{indentAtStart,lineWidth=80,minContentWidth=20,onFold,onOverflow}={}){if(!lineWidth||lineWidth<0)return text2;lineWidth<minContentWidth&&(minContentWidth=0);let endStep=Math.max(1+minContentWidth,1+lineWidth-indent.length);if(text2.length<=endStep)return text2;let folds=[],escapedFolds={},end=lineWidth-indent.length;typeof indentAtStart=="number"&&(indentAtStart>lineWidth-Math.max(2,minContentWidth)?folds.push(0):end=lineWidth-indentAtStart);let split,prev,overflow=!1,i=-1,escStart=-1,escEnd=-1;mode===FOLD_BLOCK&&(i=consumeMoreIndentedLines(text2,i,indent.length),i!==-1&&(end=i+endStep));for(let ch;ch=text2[i+=1];){if(mode===FOLD_QUOTED&&ch==="\\"){switch(escStart=i,text2[i+1]){case"x":i+=3;break;case"u":i+=5;break;case"U":i+=9;break;default:i+=1}escEnd=i}if(ch===`
`)mode===FOLD_BLOCK&&(i=consumeMoreIndentedLines(text2,i,indent.length)),end=i+indent.length+endStep,split=void 0;else{if(ch===" "&&prev&&prev!==" "&&prev!==`
`&&prev!=="	"){let next=text2[i+1];next&&next!==" "&&next!==`
`&&next!=="	"&&(split=i)}if(i>=end)if(split)folds.push(split),end=split+endStep,split=void 0;else if(mode===FOLD_QUOTED){for(;prev===" "||prev==="	";)prev=ch,ch=text2[i+=1],overflow=!0;let j=i>escEnd+1?i-2:escStart-1;if(escapedFolds[j])return text2;folds.push(j),escapedFolds[j]=!0,end=j+endStep,split=void 0}else overflow=!0}prev=ch}if(overflow&&onOverflow&&onOverflow(),folds.length===0)return text2;onFold&&onFold();let res=text2.slice(0,folds[0]);for(let i2=0;i2<folds.length;++i2){let fold=folds[i2],end2=folds[i2+1]||text2.length;fold===0?res=`
${indent}${text2.slice(0,end2)}`:(mode===FOLD_QUOTED&&escapedFolds[fold]&&(res+=`${text2[fold]}\\`),res+=`
${indent}${text2.slice(fold+1,end2)}`)}return res}function consumeMoreIndentedLines(text2,i,indent){let end=i,start=i+1,ch=text2[start];for(;ch===" "||ch==="	";)if(i<start+indent)ch=text2[++i];else{do ch=text2[++i];while(ch&&ch!==`
`);end=i,start=i+1,ch=text2[start]}return end}exports2.FOLD_BLOCK=FOLD_BLOCK;exports2.FOLD_FLOW=FOLD_FLOW;exports2.FOLD_QUOTED=FOLD_QUOTED;exports2.foldFlowLines=foldFlowLines}});var require_stringifyString=__commonJS({"../../../../node_modules/yaml/dist/stringify/stringifyString.js"(exports2){"use strict";var Scalar=require_Scalar(),foldFlowLines=require_foldFlowLines(),getFoldOptions=(ctx,isBlock)=>({indentAtStart:isBlock?ctx.indent.length:ctx.indentAtStart,lineWidth:ctx.options.lineWidth,minContentWidth:ctx.options.minContentWidth}),containsDocumentMarker=str=>/^(%|---|\.\.\.)/m.test(str);function lineLengthOverLimit(str,lineWidth,indentLength){if(!lineWidth||lineWidth<0)return!1;let limit=lineWidth-indentLength,strLen=str.length;if(strLen<=limit)return!1;for(let i=0,start=0;i<strLen;++i)if(str[i]===`
`){if(i-start>limit)return!0;if(start=i+1,strLen-start<=limit)return!1}return!0}function doubleQuotedString(value,ctx){let json=JSON.stringify(value);if(ctx.options.doubleQuotedAsJSON)return json;let{implicitKey}=ctx,minMultiLineLength=ctx.options.doubleQuotedMinMultiLineLength,indent=ctx.indent||(containsDocumentMarker(value)?"  ":""),str="",start=0;for(let i=0,ch=json[i];ch;ch=json[++i])if(ch===" "&&json[i+1]==="\\"&&json[i+2]==="n"&&(str+=json.slice(start,i)+"\\ ",i+=1,start=i,ch="\\"),ch==="\\")switch(json[i+1]){case"u":{str+=json.slice(start,i);let code2=json.substr(i+2,4);switch(code2){case"0000":str+="\\0";break;case"0007":str+="\\a";break;case"000b":str+="\\v";break;case"001b":str+="\\e";break;case"0085":str+="\\N";break;case"00a0":str+="\\_";break;case"2028":str+="\\L";break;case"2029":str+="\\P";break;default:code2.substr(0,2)==="00"?str+="\\x"+code2.substr(2):str+=json.substr(i,6)}i+=5,start=i+1}break;case"n":if(implicitKey||json[i+2]==='"'||json.length<minMultiLineLength)i+=1;else{for(str+=json.slice(start,i)+`

`;json[i+2]==="\\"&&json[i+3]==="n"&&json[i+4]!=='"';)str+=`
`,i+=2;str+=indent,json[i+2]===" "&&(str+="\\"),i+=1,start=i+1}break;default:i+=1}return str=start?str+json.slice(start):json,implicitKey?str:foldFlowLines.foldFlowLines(str,indent,foldFlowLines.FOLD_QUOTED,getFoldOptions(ctx,!1))}function singleQuotedString(value,ctx){if(ctx.options.singleQuote===!1||ctx.implicitKey&&value.includes(`
`)||/[ \t]\n|\n[ \t]/.test(value))return doubleQuotedString(value,ctx);let indent=ctx.indent||(containsDocumentMarker(value)?"  ":""),res="'"+value.replace(/'/g,"''").replace(/\n+/g,`$&
${indent}`)+"'";return ctx.implicitKey?res:foldFlowLines.foldFlowLines(res,indent,foldFlowLines.FOLD_FLOW,getFoldOptions(ctx,!1))}function quotedString(value,ctx){let{singleQuote}=ctx.options,qs;if(singleQuote===!1)qs=doubleQuotedString;else{let hasDouble=value.includes('"'),hasSingle=value.includes("'");hasDouble&&!hasSingle?qs=singleQuotedString:hasSingle&&!hasDouble?qs=doubleQuotedString:qs=singleQuote?singleQuotedString:doubleQuotedString}return qs(value,ctx)}var blockEndNewlines;try{blockEndNewlines=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{blockEndNewlines=/\n+(?!\n|$)/g}function blockString({comment:comment2,type,value},ctx,onComment,onChompKeep){let{blockQuote,commentString,lineWidth}=ctx.options;if(!blockQuote||/\n[\t ]+$/.test(value))return quotedString(value,ctx);let indent=ctx.indent||(ctx.forceBlockIndent||containsDocumentMarker(value)?"  ":""),literal=blockQuote==="literal"?!0:blockQuote==="folded"||type===Scalar.Scalar.BLOCK_FOLDED?!1:type===Scalar.Scalar.BLOCK_LITERAL?!0:!lineLengthOverLimit(value,lineWidth,indent.length);if(!value)return literal?`|
`:`>
`;let chomp,endStart;for(endStart=value.length;endStart>0;--endStart){let ch=value[endStart-1];if(ch!==`
`&&ch!=="	"&&ch!==" ")break}let end=value.substring(endStart),endNlPos=end.indexOf(`
`);endNlPos===-1?chomp="-":value===end||endNlPos!==end.length-1?(chomp="+",onChompKeep&&onChompKeep()):chomp="",end&&(value=value.slice(0,-end.length),end[end.length-1]===`
`&&(end=end.slice(0,-1)),end=end.replace(blockEndNewlines,`$&${indent}`));let startWithSpace=!1,startEnd,startNlPos=-1;for(startEnd=0;startEnd<value.length;++startEnd){let ch=value[startEnd];if(ch===" ")startWithSpace=!0;else if(ch===`
`)startNlPos=startEnd;else break}let start=value.substring(0,startNlPos<startEnd?startNlPos+1:startEnd);start&&(value=value.substring(start.length),start=start.replace(/\n+/g,`$&${indent}`));let header=(startWithSpace?indent?"2":"1":"")+chomp;if(comment2&&(header+=" "+commentString(comment2.replace(/ ?[\r\n]+/g," ")),onComment&&onComment()),!literal){let foldedValue=value.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${indent}`),literalFallback=!1,foldOptions=getFoldOptions(ctx,!0);blockQuote!=="folded"&&type!==Scalar.Scalar.BLOCK_FOLDED&&(foldOptions.onOverflow=()=>{literalFallback=!0});let body=foldFlowLines.foldFlowLines(`${start}${foldedValue}${end}`,indent,foldFlowLines.FOLD_BLOCK,foldOptions);if(!literalFallback)return`>${header}
${indent}${body}`}return value=value.replace(/\n+/g,`$&${indent}`),`|${header}
${indent}${start}${value}${end}`}function plainString(item,ctx,onComment,onChompKeep){let{type,value}=item,{actualString,implicitKey,indent,indentStep,inFlow}=ctx;if(implicitKey&&value.includes(`
`)||inFlow&&/[[\]{},]/.test(value))return quotedString(value,ctx);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(value))return implicitKey||inFlow||!value.includes(`
`)?quotedString(value,ctx):blockString(item,ctx,onComment,onChompKeep);if(!implicitKey&&!inFlow&&type!==Scalar.Scalar.PLAIN&&value.includes(`
`))return blockString(item,ctx,onComment,onChompKeep);if(containsDocumentMarker(value)){if(indent==="")return ctx.forceBlockIndent=!0,blockString(item,ctx,onComment,onChompKeep);if(implicitKey&&indent===indentStep)return quotedString(value,ctx)}let str=value.replace(/\n+/g,`$&
${indent}`);if(actualString){let test2=tag=>tag.default&&tag.tag!=="tag:yaml.org,2002:str"&&tag.test?.test(str),{compat,tags}=ctx.doc.schema;if(tags.some(test2)||compat?.some(test2))return quotedString(value,ctx)}return implicitKey?str:foldFlowLines.foldFlowLines(str,indent,foldFlowLines.FOLD_FLOW,getFoldOptions(ctx,!1))}function stringifyString(item,ctx,onComment,onChompKeep){let{implicitKey,inFlow}=ctx,ss=typeof item.value=="string"?item:Object.assign({},item,{value:String(item.value)}),{type}=item;type!==Scalar.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(ss.value)&&(type=Scalar.Scalar.QUOTE_DOUBLE);let _stringify=_type=>{switch(_type){case Scalar.Scalar.BLOCK_FOLDED:case Scalar.Scalar.BLOCK_LITERAL:return implicitKey||inFlow?quotedString(ss.value,ctx):blockString(ss,ctx,onComment,onChompKeep);case Scalar.Scalar.QUOTE_DOUBLE:return doubleQuotedString(ss.value,ctx);case Scalar.Scalar.QUOTE_SINGLE:return singleQuotedString(ss.value,ctx);case Scalar.Scalar.PLAIN:return plainString(ss,ctx,onComment,onChompKeep);default:return null}},res=_stringify(type);if(res===null){let{defaultKeyType,defaultStringType}=ctx.options,t=implicitKey&&defaultKeyType||defaultStringType;if(res=_stringify(t),res===null)throw new Error(`Unsupported default string type ${t}`)}return res}exports2.stringifyString=stringifyString}});var require_stringify2=__commonJS({"../../../../node_modules/yaml/dist/stringify/stringify.js"(exports2){"use strict";var anchors=require_anchors(),identity=require_identity(),stringifyComment=require_stringifyComment(),stringifyString=require_stringifyString();function createStringifyContext(doc,options2){let opt=Object.assign({blockQuote:!0,commentString:stringifyComment.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},doc.schema.toStringOptions,options2),inFlow;switch(opt.collectionStyle){case"block":inFlow=!1;break;case"flow":inFlow=!0;break;default:inFlow=null}return{anchors:new Set,doc,flowCollectionPadding:opt.flowCollectionPadding?" ":"",indent:"",indentStep:typeof opt.indent=="number"?" ".repeat(opt.indent):"  ",inFlow,options:opt}}function getTagObject(tags,item){if(item.tag){let match2=tags.filter(t=>t.tag===item.tag);if(match2.length>0)return match2.find(t=>t.format===item.format)??match2[0]}let tagObj,obj;if(identity.isScalar(item)){obj=item.value;let match2=tags.filter(t=>t.identify?.(obj));if(match2.length>1){let testMatch=match2.filter(t=>t.test);testMatch.length>0&&(match2=testMatch)}tagObj=match2.find(t=>t.format===item.format)??match2.find(t=>!t.format)}else obj=item,tagObj=tags.find(t=>t.nodeClass&&obj instanceof t.nodeClass);if(!tagObj){let name=obj?.constructor?.name??(obj===null?"null":typeof obj);throw new Error(`Tag not resolved for ${name} value`)}return tagObj}function stringifyProps(node,tagObj,{anchors:anchors$1,doc}){if(!doc.directives)return"";let props=[],anchor=(identity.isScalar(node)||identity.isCollection(node))&&node.anchor;anchor&&anchors.anchorIsValid(anchor)&&(anchors$1.add(anchor),props.push(`&${anchor}`));let tag=node.tag??(tagObj.default?null:tagObj.tag);return tag&&props.push(doc.directives.tagString(tag)),props.join(" ")}function stringify2(item,ctx,onComment,onChompKeep){if(identity.isPair(item))return item.toString(ctx,onComment,onChompKeep);if(identity.isAlias(item)){if(ctx.doc.directives)return item.toString(ctx);if(ctx.resolvedAliases?.has(item))throw new TypeError("Cannot stringify circular structure without alias nodes");ctx.resolvedAliases?ctx.resolvedAliases.add(item):ctx.resolvedAliases=new Set([item]),item=item.resolve(ctx.doc)}let tagObj,node=identity.isNode(item)?item:ctx.doc.createNode(item,{onTagObj:o=>tagObj=o});tagObj??(tagObj=getTagObject(ctx.doc.schema.tags,node));let props=stringifyProps(node,tagObj,ctx);props.length>0&&(ctx.indentAtStart=(ctx.indentAtStart??0)+props.length+1);let str=typeof tagObj.stringify=="function"?tagObj.stringify(node,ctx,onComment,onChompKeep):identity.isScalar(node)?stringifyString.stringifyString(node,ctx,onComment,onChompKeep):node.toString(ctx,onComment,onChompKeep);return props?identity.isScalar(node)||str[0]==="{"||str[0]==="["?`${props} ${str}`:`${props}
${ctx.indent}${str}`:str}exports2.createStringifyContext=createStringifyContext;exports2.stringify=stringify2}});var require_stringifyPair=__commonJS({"../../../../node_modules/yaml/dist/stringify/stringifyPair.js"(exports2){"use strict";var identity=require_identity(),Scalar=require_Scalar(),stringify2=require_stringify2(),stringifyComment=require_stringifyComment();function stringifyPair({key,value},ctx,onComment,onChompKeep){let{allNullValues,doc,indent,indentStep,options:{commentString,indentSeq,simpleKeys}}=ctx,keyComment=identity.isNode(key)&&key.comment||null;if(simpleKeys){if(keyComment)throw new Error("With simple keys, key nodes cannot have comments");if(identity.isCollection(key)||!identity.isNode(key)&&typeof key=="object"){let msg="With simple keys, collection cannot be used as a key value";throw new Error(msg)}}let explicitKey=!simpleKeys&&(!key||keyComment&&value==null&&!ctx.inFlow||identity.isCollection(key)||(identity.isScalar(key)?key.type===Scalar.Scalar.BLOCK_FOLDED||key.type===Scalar.Scalar.BLOCK_LITERAL:typeof key=="object"));ctx=Object.assign({},ctx,{allNullValues:!1,implicitKey:!explicitKey&&(simpleKeys||!allNullValues),indent:indent+indentStep});let keyCommentDone=!1,chompKeep=!1,str=stringify2.stringify(key,ctx,()=>keyCommentDone=!0,()=>chompKeep=!0);if(!explicitKey&&!ctx.inFlow&&str.length>1024){if(simpleKeys)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");explicitKey=!0}if(ctx.inFlow){if(allNullValues||value==null)return keyCommentDone&&onComment&&onComment(),str===""?"?":explicitKey?`? ${str}`:str}else if(allNullValues&&!simpleKeys||value==null&&explicitKey)return str=`? ${str}`,keyComment&&!keyCommentDone?str+=stringifyComment.lineComment(str,ctx.indent,commentString(keyComment)):chompKeep&&onChompKeep&&onChompKeep(),str;keyCommentDone&&(keyComment=null),explicitKey?(keyComment&&(str+=stringifyComment.lineComment(str,ctx.indent,commentString(keyComment))),str=`? ${str}
${indent}:`):(str=`${str}:`,keyComment&&(str+=stringifyComment.lineComment(str,ctx.indent,commentString(keyComment))));let vsb,vcb,valueComment;identity.isNode(value)?(vsb=!!value.spaceBefore,vcb=value.commentBefore,valueComment=value.comment):(vsb=!1,vcb=null,valueComment=null,value&&typeof value=="object"&&(value=doc.createNode(value))),ctx.implicitKey=!1,!explicitKey&&!keyComment&&identity.isScalar(value)&&(ctx.indentAtStart=str.length+1),chompKeep=!1,!indentSeq&&indentStep.length>=2&&!ctx.inFlow&&!explicitKey&&identity.isSeq(value)&&!value.flow&&!value.tag&&!value.anchor&&(ctx.indent=ctx.indent.substring(2));let valueCommentDone=!1,valueStr=stringify2.stringify(value,ctx,()=>valueCommentDone=!0,()=>chompKeep=!0),ws=" ";if(keyComment||vsb||vcb){if(ws=vsb?`
`:"",vcb){let cs=commentString(vcb);ws+=`
${stringifyComment.indentComment(cs,ctx.indent)}`}valueStr===""&&!ctx.inFlow?ws===`
`&&valueComment&&(ws=`

`):ws+=`
${ctx.indent}`}else if(!explicitKey&&identity.isCollection(value)){let vs0=valueStr[0],nl0=valueStr.indexOf(`
`),hasNewline=nl0!==-1,flow=ctx.inFlow??value.flow??value.items.length===0;if(hasNewline||!flow){let hasPropsLine=!1;if(hasNewline&&(vs0==="&"||vs0==="!")){let sp0=valueStr.indexOf(" ");vs0==="&"&&sp0!==-1&&sp0<nl0&&valueStr[sp0+1]==="!"&&(sp0=valueStr.indexOf(" ",sp0+1)),(sp0===-1||nl0<sp0)&&(hasPropsLine=!0)}hasPropsLine||(ws=`
${ctx.indent}`)}}else(valueStr===""||valueStr[0]===`
`)&&(ws="");return str+=ws+valueStr,ctx.inFlow?valueCommentDone&&onComment&&onComment():valueComment&&!valueCommentDone?str+=stringifyComment.lineComment(str,ctx.indent,commentString(valueComment)):chompKeep&&onChompKeep&&onChompKeep(),str}exports2.stringifyPair=stringifyPair}});var require_log=__commonJS({"../../../../node_modules/yaml/dist/log.js"(exports2){"use strict";var node_process=require("process");function debug(logLevel,...messages){logLevel==="debug"&&console.log(...messages)}function warn(logLevel,warning){(logLevel==="debug"||logLevel==="warn")&&(typeof node_process.emitWarning=="function"?node_process.emitWarning(warning):console.warn(warning))}exports2.debug=debug;exports2.warn=warn}});var require_merge=__commonJS({"../../../../node_modules/yaml/dist/schema/yaml-1.1/merge.js"(exports2){"use strict";var identity=require_identity(),Scalar=require_Scalar(),MERGE_KEY="<<",merge={identify:value=>value===MERGE_KEY||typeof value=="symbol"&&value.description===MERGE_KEY,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new Scalar.Scalar(Symbol(MERGE_KEY)),{addToJSMap:addMergeToJSMap}),stringify:()=>MERGE_KEY},isMergeKey=(ctx,key)=>(merge.identify(key)||identity.isScalar(key)&&(!key.type||key.type===Scalar.Scalar.PLAIN)&&merge.identify(key.value))&&ctx?.doc.schema.tags.some(tag=>tag.tag===merge.tag&&tag.default);function addMergeToJSMap(ctx,map,value){if(value=ctx&&identity.isAlias(value)?value.resolve(ctx.doc):value,identity.isSeq(value))for(let it of value.items)mergeValue(ctx,map,it);else if(Array.isArray(value))for(let it of value)mergeValue(ctx,map,it);else mergeValue(ctx,map,value)}function mergeValue(ctx,map,value){let source=ctx&&identity.isAlias(value)?value.resolve(ctx.doc):value;if(!identity.isMap(source))throw new Error("Merge sources must be maps or map aliases");let srcMap=source.toJSON(null,ctx,Map);for(let[key,value2]of srcMap)map instanceof Map?map.has(key)||map.set(key,value2):map instanceof Set?map.add(key):Object.prototype.hasOwnProperty.call(map,key)||Object.defineProperty(map,key,{value:value2,writable:!0,enumerable:!0,configurable:!0});return map}exports2.addMergeToJSMap=addMergeToJSMap;exports2.isMergeKey=isMergeKey;exports2.merge=merge}});var require_addPairToJSMap=__commonJS({"../../../../node_modules/yaml/dist/nodes/addPairToJSMap.js"(exports2){"use strict";var log=require_log(),merge=require_merge(),stringify2=require_stringify2(),identity=require_identity(),toJS=require_toJS();function addPairToJSMap(ctx,map,{key,value}){if(identity.isNode(key)&&key.addToJSMap)key.addToJSMap(ctx,map,value);else if(merge.isMergeKey(ctx,key))merge.addMergeToJSMap(ctx,map,value);else{let jsKey=toJS.toJS(key,"",ctx);if(map instanceof Map)map.set(jsKey,toJS.toJS(value,jsKey,ctx));else if(map instanceof Set)map.add(jsKey);else{let stringKey=stringifyKey(key,jsKey,ctx),jsValue=toJS.toJS(value,stringKey,ctx);stringKey in map?Object.defineProperty(map,stringKey,{value:jsValue,writable:!0,enumerable:!0,configurable:!0}):map[stringKey]=jsValue}}return map}function stringifyKey(key,jsKey,ctx){if(jsKey===null)return"";if(typeof jsKey!="object")return String(jsKey);if(identity.isNode(key)&&ctx?.doc){let strCtx=stringify2.createStringifyContext(ctx.doc,{});strCtx.anchors=new Set;for(let node of ctx.anchors.keys())strCtx.anchors.add(node.anchor);strCtx.inFlow=!0,strCtx.inStringifyKey=!0;let strKey=key.toString(strCtx);if(!ctx.mapKeyWarned){let jsonStr=JSON.stringify(strKey);jsonStr.length>40&&(jsonStr=jsonStr.substring(0,36)+'..."'),log.warn(ctx.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${jsonStr}. Set mapAsMap: true to use object keys.`),ctx.mapKeyWarned=!0}return strKey}return JSON.stringify(jsKey)}exports2.addPairToJSMap=addPairToJSMap}});var require_Pair=__commonJS({"../../../../node_modules/yaml/dist/nodes/Pair.js"(exports2){"use strict";var createNode=require_createNode(),stringifyPair=require_stringifyPair(),addPairToJSMap=require_addPairToJSMap(),identity=require_identity();function createPair(key,value,ctx){let k=createNode.createNode(key,void 0,ctx),v=createNode.createNode(value,void 0,ctx);return new Pair(k,v)}var Pair=class _Pair{constructor(key,value=null){Object.defineProperty(this,identity.NODE_TYPE,{value:identity.PAIR}),this.key=key,this.value=value}clone(schema){let{key,value}=this;return identity.isNode(key)&&(key=key.clone(schema)),identity.isNode(value)&&(value=value.clone(schema)),new _Pair(key,value)}toJSON(_,ctx){let pair=ctx?.mapAsMap?new Map:{};return addPairToJSMap.addPairToJSMap(ctx,pair,this)}toString(ctx,onComment,onChompKeep){return ctx?.doc?stringifyPair.stringifyPair(this,ctx,onComment,onChompKeep):JSON.stringify(this)}};exports2.Pair=Pair;exports2.createPair=createPair}});var require_stringifyCollection=__commonJS({"../../../../node_modules/yaml/dist/stringify/stringifyCollection.js"(exports2){"use strict";var identity=require_identity(),stringify2=require_stringify2(),stringifyComment=require_stringifyComment();function stringifyCollection(collection,ctx,options2){return(ctx.inFlow??collection.flow?stringifyFlowCollection:stringifyBlockCollection)(collection,ctx,options2)}function stringifyBlockCollection({comment:comment2,items},ctx,{blockItemPrefix,flowChars,itemIndent,onChompKeep,onComment}){let{indent,options:{commentString}}=ctx,itemCtx=Object.assign({},ctx,{indent:itemIndent,type:null}),chompKeep=!1,lines=[];for(let i=0;i<items.length;++i){let item=items[i],comment3=null;if(identity.isNode(item))!chompKeep&&item.spaceBefore&&lines.push(""),addCommentBefore(ctx,lines,item.commentBefore,chompKeep),item.comment&&(comment3=item.comment);else if(identity.isPair(item)){let ik=identity.isNode(item.key)?item.key:null;ik&&(!chompKeep&&ik.spaceBefore&&lines.push(""),addCommentBefore(ctx,lines,ik.commentBefore,chompKeep))}chompKeep=!1;let str2=stringify2.stringify(item,itemCtx,()=>comment3=null,()=>chompKeep=!0);comment3&&(str2+=stringifyComment.lineComment(str2,itemIndent,commentString(comment3))),chompKeep&&comment3&&(chompKeep=!1),lines.push(blockItemPrefix+str2)}let str;if(lines.length===0)str=flowChars.start+flowChars.end;else{str=lines[0];for(let i=1;i<lines.length;++i){let line=lines[i];str+=line?`
${indent}${line}`:`
`}}return comment2?(str+=`
`+stringifyComment.indentComment(commentString(comment2),indent),onComment&&onComment()):chompKeep&&onChompKeep&&onChompKeep(),str}function stringifyFlowCollection({items},ctx,{flowChars,itemIndent}){let{indent,indentStep,flowCollectionPadding:fcPadding,options:{commentString}}=ctx;itemIndent+=indentStep;let itemCtx=Object.assign({},ctx,{indent:itemIndent,inFlow:!0,type:null}),reqNewline=!1,linesAtValue=0,lines=[];for(let i=0;i<items.length;++i){let item=items[i],comment2=null;if(identity.isNode(item))item.spaceBefore&&lines.push(""),addCommentBefore(ctx,lines,item.commentBefore,!1),item.comment&&(comment2=item.comment);else if(identity.isPair(item)){let ik=identity.isNode(item.key)?item.key:null;ik&&(ik.spaceBefore&&lines.push(""),addCommentBefore(ctx,lines,ik.commentBefore,!1),ik.comment&&(reqNewline=!0));let iv=identity.isNode(item.value)?item.value:null;iv?(iv.comment&&(comment2=iv.comment),iv.commentBefore&&(reqNewline=!0)):item.value==null&&ik?.comment&&(comment2=ik.comment)}comment2&&(reqNewline=!0);let str=stringify2.stringify(item,itemCtx,()=>comment2=null);i<items.length-1&&(str+=","),comment2&&(str+=stringifyComment.lineComment(str,itemIndent,commentString(comment2))),!reqNewline&&(lines.length>linesAtValue||str.includes(`
`))&&(reqNewline=!0),lines.push(str),linesAtValue=lines.length}let{start,end}=flowChars;if(lines.length===0)return start+end;if(!reqNewline){let len=lines.reduce((sum,line)=>sum+line.length+2,2);reqNewline=ctx.options.lineWidth>0&&len>ctx.options.lineWidth}if(reqNewline){let str=start;for(let line of lines)str+=line?`
${indentStep}${indent}${line}`:`
`;return`${str}
${indent}${end}`}else return`${start}${fcPadding}${lines.join(" ")}${fcPadding}${end}`}function addCommentBefore({indent,options:{commentString}},lines,comment2,chompKeep){if(comment2&&chompKeep&&(comment2=comment2.replace(/^\n+/,"")),comment2){let ic=stringifyComment.indentComment(commentString(comment2),indent);lines.push(ic.trimStart())}}exports2.stringifyCollection=stringifyCollection}});var require_YAMLMap=__commonJS({"../../../../node_modules/yaml/dist/nodes/YAMLMap.js"(exports2){"use strict";var stringifyCollection=require_stringifyCollection(),addPairToJSMap=require_addPairToJSMap(),Collection=require_Collection(),identity=require_identity(),Pair=require_Pair(),Scalar=require_Scalar();function findPair(items,key){let k=identity.isScalar(key)?key.value:key;for(let it of items)if(identity.isPair(it)&&(it.key===key||it.key===k||identity.isScalar(it.key)&&it.key.value===k))return it}var YAMLMap=class extends Collection.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(schema){super(identity.MAP,schema),this.items=[]}static from(schema,obj,ctx){let{keepUndefined,replacer}=ctx,map=new this(schema),add2=(key,value)=>{if(typeof replacer=="function")value=replacer.call(obj,key,value);else if(Array.isArray(replacer)&&!replacer.includes(key))return;(value!==void 0||keepUndefined)&&map.items.push(Pair.createPair(key,value,ctx))};if(obj instanceof Map)for(let[key,value]of obj)add2(key,value);else if(obj&&typeof obj=="object")for(let key of Object.keys(obj))add2(key,obj[key]);return typeof schema.sortMapEntries=="function"&&map.items.sort(schema.sortMapEntries),map}add(pair,overwrite){let _pair;identity.isPair(pair)?_pair=pair:!pair||typeof pair!="object"||!("key"in pair)?_pair=new Pair.Pair(pair,pair?.value):_pair=new Pair.Pair(pair.key,pair.value);let prev=findPair(this.items,_pair.key),sortEntries=this.schema?.sortMapEntries;if(prev){if(!overwrite)throw new Error(`Key ${_pair.key} already set`);identity.isScalar(prev.value)&&Scalar.isScalarValue(_pair.value)?prev.value.value=_pair.value:prev.value=_pair.value}else if(sortEntries){let i=this.items.findIndex(item=>sortEntries(_pair,item)<0);i===-1?this.items.push(_pair):this.items.splice(i,0,_pair)}else this.items.push(_pair)}delete(key){let it=findPair(this.items,key);return it?this.items.splice(this.items.indexOf(it),1).length>0:!1}get(key,keepScalar){let node=findPair(this.items,key)?.value;return(!keepScalar&&identity.isScalar(node)?node.value:node)??void 0}has(key){return!!findPair(this.items,key)}set(key,value){this.add(new Pair.Pair(key,value),!0)}toJSON(_,ctx,Type){let map=Type?new Type:ctx?.mapAsMap?new Map:{};ctx?.onCreate&&ctx.onCreate(map);for(let item of this.items)addPairToJSMap.addPairToJSMap(ctx,map,item);return map}toString(ctx,onComment,onChompKeep){if(!ctx)return JSON.stringify(this);for(let item of this.items)if(!identity.isPair(item))throw new Error(`Map items must all be pairs; found ${JSON.stringify(item)} instead`);return!ctx.allNullValues&&this.hasAllNullValues(!1)&&(ctx=Object.assign({},ctx,{allNullValues:!0})),stringifyCollection.stringifyCollection(this,ctx,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:ctx.indent||"",onChompKeep,onComment})}};exports2.YAMLMap=YAMLMap;exports2.findPair=findPair}});var require_map=__commonJS({"../../../../node_modules/yaml/dist/schema/common/map.js"(exports2){"use strict";var identity=require_identity(),YAMLMap=require_YAMLMap(),map={collection:"map",default:!0,nodeClass:YAMLMap.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(map2,onError){return identity.isMap(map2)||onError("Expected a mapping for this tag"),map2},createNode:(schema,obj,ctx)=>YAMLMap.YAMLMap.from(schema,obj,ctx)};exports2.map=map}});var require_YAMLSeq=__commonJS({"../../../../node_modules/yaml/dist/nodes/YAMLSeq.js"(exports2){"use strict";var createNode=require_createNode(),stringifyCollection=require_stringifyCollection(),Collection=require_Collection(),identity=require_identity(),Scalar=require_Scalar(),toJS=require_toJS(),YAMLSeq=class extends Collection.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(schema){super(identity.SEQ,schema),this.items=[]}add(value){this.items.push(value)}delete(key){let idx=asItemIndex(key);return typeof idx!="number"?!1:this.items.splice(idx,1).length>0}get(key,keepScalar){let idx=asItemIndex(key);if(typeof idx!="number")return;let it=this.items[idx];return!keepScalar&&identity.isScalar(it)?it.value:it}has(key){let idx=asItemIndex(key);return typeof idx=="number"&&idx<this.items.length}set(key,value){let idx=asItemIndex(key);if(typeof idx!="number")throw new Error(`Expected a valid index, not ${key}.`);let prev=this.items[idx];identity.isScalar(prev)&&Scalar.isScalarValue(value)?prev.value=value:this.items[idx]=value}toJSON(_,ctx){let seq=[];ctx?.onCreate&&ctx.onCreate(seq);let i=0;for(let item of this.items)seq.push(toJS.toJS(item,String(i++),ctx));return seq}toString(ctx,onComment,onChompKeep){return ctx?stringifyCollection.stringifyCollection(this,ctx,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(ctx.indent||"")+"  ",onChompKeep,onComment}):JSON.stringify(this)}static from(schema,obj,ctx){let{replacer}=ctx,seq=new this(schema);if(obj&&Symbol.iterator in Object(obj)){let i=0;for(let it of obj){if(typeof replacer=="function"){let key=obj instanceof Set?it:String(i++);it=replacer.call(obj,key,it)}seq.items.push(createNode.createNode(it,void 0,ctx))}}return seq}};function asItemIndex(key){let idx=identity.isScalar(key)?key.value:key;return idx&&typeof idx=="string"&&(idx=Number(idx)),typeof idx=="number"&&Number.isInteger(idx)&&idx>=0?idx:null}exports2.YAMLSeq=YAMLSeq}});var require_seq=__commonJS({"../../../../node_modules/yaml/dist/schema/common/seq.js"(exports2){"use strict";var identity=require_identity(),YAMLSeq=require_YAMLSeq(),seq={collection:"seq",default:!0,nodeClass:YAMLSeq.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(seq2,onError){return identity.isSeq(seq2)||onError("Expected a sequence for this tag"),seq2},createNode:(schema,obj,ctx)=>YAMLSeq.YAMLSeq.from(schema,obj,ctx)};exports2.seq=seq}});var require_string=__commonJS({"../../../../node_modules/yaml/dist/schema/common/string.js"(exports2){"use strict";var stringifyString=require_stringifyString(),string={identify:value=>typeof value=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:str=>str,stringify(item,ctx,onComment,onChompKeep){return ctx=Object.assign({actualString:!0},ctx),stringifyString.stringifyString(item,ctx,onComment,onChompKeep)}};exports2.string=string}});var require_null=__commonJS({"../../../../node_modules/yaml/dist/schema/common/null.js"(exports2){"use strict";var Scalar=require_Scalar(),nullTag={identify:value=>value==null,createNode:()=>new Scalar.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Scalar.Scalar(null),stringify:({source},ctx)=>typeof source=="string"&&nullTag.test.test(source)?source:ctx.options.nullStr};exports2.nullTag=nullTag}});var require_bool=__commonJS({"../../../../node_modules/yaml/dist/schema/core/bool.js"(exports2){"use strict";var Scalar=require_Scalar(),boolTag={identify:value=>typeof value=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:str=>new Scalar.Scalar(str[0]==="t"||str[0]==="T"),stringify({source,value},ctx){if(source&&boolTag.test.test(source)){let sv=source[0]==="t"||source[0]==="T";if(value===sv)return source}return value?ctx.options.trueStr:ctx.options.falseStr}};exports2.boolTag=boolTag}});var require_stringifyNumber=__commonJS({"../../../../node_modules/yaml/dist/stringify/stringifyNumber.js"(exports2){"use strict";function stringifyNumber({format:format2,minFractionDigits,tag,value}){if(typeof value=="bigint")return String(value);let num=typeof value=="number"?value:Number(value);if(!isFinite(num))return isNaN(num)?".nan":num<0?"-.inf":".inf";let n=Object.is(value,-0)?"-0":JSON.stringify(value);if(!format2&&minFractionDigits&&(!tag||tag==="tag:yaml.org,2002:float")&&/^\d/.test(n)){let i=n.indexOf(".");i<0&&(i=n.length,n+=".");let d=minFractionDigits-(n.length-i-1);for(;d-- >0;)n+="0"}return n}exports2.stringifyNumber=stringifyNumber}});var require_float=__commonJS({"../../../../node_modules/yaml/dist/schema/core/float.js"(exports2){"use strict";var Scalar=require_Scalar(),stringifyNumber=require_stringifyNumber(),floatNaN={identify:value=>typeof value=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:str=>str.slice(-3).toLowerCase()==="nan"?NaN:str[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:stringifyNumber.stringifyNumber},floatExp={identify:value=>typeof value=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:str=>parseFloat(str),stringify(node){let num=Number(node.value);return isFinite(num)?num.toExponential():stringifyNumber.stringifyNumber(node)}},float={identify:value=>typeof value=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(str){let node=new Scalar.Scalar(parseFloat(str)),dot=str.indexOf(".");return dot!==-1&&str[str.length-1]==="0"&&(node.minFractionDigits=str.length-dot-1),node},stringify:stringifyNumber.stringifyNumber};exports2.float=float;exports2.floatExp=floatExp;exports2.floatNaN=floatNaN}});var require_int=__commonJS({"../../../../node_modules/yaml/dist/schema/core/int.js"(exports2){"use strict";var stringifyNumber=require_stringifyNumber(),intIdentify=value=>typeof value=="bigint"||Number.isInteger(value),intResolve=(str,offset,radix,{intAsBigInt})=>intAsBigInt?BigInt(str):parseInt(str.substring(offset),radix);function intStringify(node,radix,prefix){let{value}=node;return intIdentify(value)&&value>=0?prefix+value.toString(radix):stringifyNumber.stringifyNumber(node)}var intOct={identify:value=>intIdentify(value)&&value>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(str,_onError,opt)=>intResolve(str,2,8,opt),stringify:node=>intStringify(node,8,"0o")},int={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(str,_onError,opt)=>intResolve(str,0,10,opt),stringify:stringifyNumber.stringifyNumber},intHex={identify:value=>intIdentify(value)&&value>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(str,_onError,opt)=>intResolve(str,2,16,opt),stringify:node=>intStringify(node,16,"0x")};exports2.int=int;exports2.intHex=intHex;exports2.intOct=intOct}});var require_schema=__commonJS({"../../../../node_modules/yaml/dist/schema/core/schema.js"(exports2){"use strict";var map=require_map(),_null=require_null(),seq=require_seq(),string=require_string(),bool=require_bool(),float=require_float(),int=require_int(),schema=[map.map,seq.seq,string.string,_null.nullTag,bool.boolTag,int.intOct,int.int,int.intHex,float.floatNaN,float.floatExp,float.float];exports2.schema=schema}});var require_schema2=__commonJS({"../../../../node_modules/yaml/dist/schema/json/schema.js"(exports2){"use strict";var Scalar=require_Scalar(),map=require_map(),seq=require_seq();function intIdentify(value){return typeof value=="bigint"||Number.isInteger(value)}var stringifyJSON=({value})=>JSON.stringify(value),jsonScalars=[{identify:value=>typeof value=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:str=>str,stringify:stringifyJSON},{identify:value=>value==null,createNode:()=>new Scalar.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:stringifyJSON},{identify:value=>typeof value=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:str=>str==="true",stringify:stringifyJSON},{identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(str,_onError,{intAsBigInt})=>intAsBigInt?BigInt(str):parseInt(str,10),stringify:({value})=>intIdentify(value)?value.toString():JSON.stringify(value)},{identify:value=>typeof value=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:str=>parseFloat(str),stringify:stringifyJSON}],jsonError={default:!0,tag:"",test:/^/,resolve(str,onError){return onError(`Unresolved plain scalar ${JSON.stringify(str)}`),str}},schema=[map.map,seq.seq].concat(jsonScalars,jsonError);exports2.schema=schema}});var require_binary2=__commonJS({"../../../../node_modules/yaml/dist/schema/yaml-1.1/binary.js"(exports2){"use strict";var node_buffer=require("buffer"),Scalar=require_Scalar(),stringifyString=require_stringifyString(),binary={identify:value=>value instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(src,onError){if(typeof node_buffer.Buffer=="function")return node_buffer.Buffer.from(src,"base64");if(typeof atob=="function"){let str=atob(src.replace(/[\n\r]/g,"")),buffer=new Uint8Array(str.length);for(let i=0;i<str.length;++i)buffer[i]=str.charCodeAt(i);return buffer}else return onError("This environment does not support reading binary tags; either Buffer or atob is required"),src},stringify({comment:comment2,type,value},ctx,onComment,onChompKeep){if(!value)return"";let buf=value,str;if(typeof node_buffer.Buffer=="function")str=buf instanceof node_buffer.Buffer?buf.toString("base64"):node_buffer.Buffer.from(buf.buffer).toString("base64");else if(typeof btoa=="function"){let s="";for(let i=0;i<buf.length;++i)s+=String.fromCharCode(buf[i]);str=btoa(s)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(type??(type=Scalar.Scalar.BLOCK_LITERAL),type!==Scalar.Scalar.QUOTE_DOUBLE){let lineWidth=Math.max(ctx.options.lineWidth-ctx.indent.length,ctx.options.minContentWidth),n=Math.ceil(str.length/lineWidth),lines=new Array(n);for(let i=0,o=0;i<n;++i,o+=lineWidth)lines[i]=str.substr(o,lineWidth);str=lines.join(type===Scalar.Scalar.BLOCK_LITERAL?`
`:" ")}return stringifyString.stringifyString({comment:comment2,type,value:str},ctx,onComment,onChompKeep)}};exports2.binary=binary}});var require_pairs=__commonJS({"../../../../node_modules/yaml/dist/schema/yaml-1.1/pairs.js"(exports2){"use strict";var identity=require_identity(),Pair=require_Pair(),Scalar=require_Scalar(),YAMLSeq=require_YAMLSeq();function resolvePairs(seq,onError){if(identity.isSeq(seq))for(let i=0;i<seq.items.length;++i){let item=seq.items[i];if(!identity.isPair(item)){if(identity.isMap(item)){item.items.length>1&&onError("Each pair must have its own sequence indicator");let pair=item.items[0]||new Pair.Pair(new Scalar.Scalar(null));if(item.commentBefore&&(pair.key.commentBefore=pair.key.commentBefore?`${item.commentBefore}
${pair.key.commentBefore}`:item.commentBefore),item.comment){let cn=pair.value??pair.key;cn.comment=cn.comment?`${item.comment}
${cn.comment}`:item.comment}item=pair}seq.items[i]=identity.isPair(item)?item:new Pair.Pair(item)}}else onError("Expected a sequence for this tag");return seq}function createPairs(schema,iterable,ctx){let{replacer}=ctx,pairs2=new YAMLSeq.YAMLSeq(schema);pairs2.tag="tag:yaml.org,2002:pairs";let i=0;if(iterable&&Symbol.iterator in Object(iterable))for(let it of iterable){typeof replacer=="function"&&(it=replacer.call(iterable,String(i++),it));let key,value;if(Array.isArray(it))if(it.length===2)key=it[0],value=it[1];else throw new TypeError(`Expected [key, value] tuple: ${it}`);else if(it&&it instanceof Object){let keys2=Object.keys(it);if(keys2.length===1)key=keys2[0],value=it[key];else throw new TypeError(`Expected tuple with one key, not ${keys2.length} keys`)}else key=it;pairs2.items.push(Pair.createPair(key,value,ctx))}return pairs2}var pairs={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:resolvePairs,createNode:createPairs};exports2.createPairs=createPairs;exports2.pairs=pairs;exports2.resolvePairs=resolvePairs}});var require_omap=__commonJS({"../../../../node_modules/yaml/dist/schema/yaml-1.1/omap.js"(exports2){"use strict";var identity=require_identity(),toJS=require_toJS(),YAMLMap=require_YAMLMap(),YAMLSeq=require_YAMLSeq(),pairs=require_pairs(),YAMLOMap=class _YAMLOMap extends YAMLSeq.YAMLSeq{constructor(){super(),this.add=YAMLMap.YAMLMap.prototype.add.bind(this),this.delete=YAMLMap.YAMLMap.prototype.delete.bind(this),this.get=YAMLMap.YAMLMap.prototype.get.bind(this),this.has=YAMLMap.YAMLMap.prototype.has.bind(this),this.set=YAMLMap.YAMLMap.prototype.set.bind(this),this.tag=_YAMLOMap.tag}toJSON(_,ctx){if(!ctx)return super.toJSON(_);let map=new Map;ctx?.onCreate&&ctx.onCreate(map);for(let pair of this.items){let key,value;if(identity.isPair(pair)?(key=toJS.toJS(pair.key,"",ctx),value=toJS.toJS(pair.value,key,ctx)):key=toJS.toJS(pair,"",ctx),map.has(key))throw new Error("Ordered maps must not include duplicate keys");map.set(key,value)}return map}static from(schema,iterable,ctx){let pairs$1=pairs.createPairs(schema,iterable,ctx),omap2=new this;return omap2.items=pairs$1.items,omap2}};YAMLOMap.tag="tag:yaml.org,2002:omap";var omap={collection:"seq",identify:value=>value instanceof Map,nodeClass:YAMLOMap,default:!1,tag:"tag:yaml.org,2002:omap",resolve(seq,onError){let pairs$1=pairs.resolvePairs(seq,onError),seenKeys=[];for(let{key}of pairs$1.items)identity.isScalar(key)&&(seenKeys.includes(key.value)?onError(`Ordered maps must not include duplicate keys: ${key.value}`):seenKeys.push(key.value));return Object.assign(new YAMLOMap,pairs$1)},createNode:(schema,iterable,ctx)=>YAMLOMap.from(schema,iterable,ctx)};exports2.YAMLOMap=YAMLOMap;exports2.omap=omap}});var require_bool2=__commonJS({"../../../../node_modules/yaml/dist/schema/yaml-1.1/bool.js"(exports2){"use strict";var Scalar=require_Scalar();function boolStringify({value,source},ctx){return source&&(value?trueTag:falseTag).test.test(source)?source:value?ctx.options.trueStr:ctx.options.falseStr}var trueTag={identify:value=>value===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Scalar.Scalar(!0),stringify:boolStringify},falseTag={identify:value=>value===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Scalar.Scalar(!1),stringify:boolStringify};exports2.falseTag=falseTag;exports2.trueTag=trueTag}});var require_float2=__commonJS({"../../../../node_modules/yaml/dist/schema/yaml-1.1/float.js"(exports2){"use strict";var Scalar=require_Scalar(),stringifyNumber=require_stringifyNumber(),floatNaN={identify:value=>typeof value=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:str=>str.slice(-3).toLowerCase()==="nan"?NaN:str[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:stringifyNumber.stringifyNumber},floatExp={identify:value=>typeof value=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:str=>parseFloat(str.replace(/_/g,"")),stringify(node){let num=Number(node.value);return isFinite(num)?num.toExponential():stringifyNumber.stringifyNumber(node)}},float={identify:value=>typeof value=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(str){let node=new Scalar.Scalar(parseFloat(str.replace(/_/g,""))),dot=str.indexOf(".");if(dot!==-1){let f=str.substring(dot+1).replace(/_/g,"");f[f.length-1]==="0"&&(node.minFractionDigits=f.length)}return node},stringify:stringifyNumber.stringifyNumber};exports2.float=float;exports2.floatExp=floatExp;exports2.floatNaN=floatNaN}});var require_int2=__commonJS({"../../../../node_modules/yaml/dist/schema/yaml-1.1/int.js"(exports2){"use strict";var stringifyNumber=require_stringifyNumber(),intIdentify=value=>typeof value=="bigint"||Number.isInteger(value);function intResolve(str,offset,radix,{intAsBigInt}){let sign=str[0];if((sign==="-"||sign==="+")&&(offset+=1),str=str.substring(offset).replace(/_/g,""),intAsBigInt){switch(radix){case 2:str=`0b${str}`;break;case 8:str=`0o${str}`;break;case 16:str=`0x${str}`;break}let n2=BigInt(str);return sign==="-"?BigInt(-1)*n2:n2}let n=parseInt(str,radix);return sign==="-"?-1*n:n}function intStringify(node,radix,prefix){let{value}=node;if(intIdentify(value)){let str=value.toString(radix);return value<0?"-"+prefix+str.substr(1):prefix+str}return stringifyNumber.stringifyNumber(node)}var intBin={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(str,_onError,opt)=>intResolve(str,2,2,opt),stringify:node=>intStringify(node,2,"0b")},intOct={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(str,_onError,opt)=>intResolve(str,1,8,opt),stringify:node=>intStringify(node,8,"0")},int={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(str,_onError,opt)=>intResolve(str,0,10,opt),stringify:stringifyNumber.stringifyNumber},intHex={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(str,_onError,opt)=>intResolve(str,2,16,opt),stringify:node=>intStringify(node,16,"0x")};exports2.int=int;exports2.intBin=intBin;exports2.intHex=intHex;exports2.intOct=intOct}});var require_set=__commonJS({"../../../../node_modules/yaml/dist/schema/yaml-1.1/set.js"(exports2){"use strict";var identity=require_identity(),Pair=require_Pair(),YAMLMap=require_YAMLMap(),YAMLSet=class _YAMLSet extends YAMLMap.YAMLMap{constructor(schema){super(schema),this.tag=_YAMLSet.tag}add(key){let pair;identity.isPair(key)?pair=key:key&&typeof key=="object"&&"key"in key&&"value"in key&&key.value===null?pair=new Pair.Pair(key.key,null):pair=new Pair.Pair(key,null),YAMLMap.findPair(this.items,pair.key)||this.items.push(pair)}get(key,keepPair){let pair=YAMLMap.findPair(this.items,key);return!keepPair&&identity.isPair(pair)?identity.isScalar(pair.key)?pair.key.value:pair.key:pair}set(key,value){if(typeof value!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof value}`);let prev=YAMLMap.findPair(this.items,key);prev&&!value?this.items.splice(this.items.indexOf(prev),1):!prev&&value&&this.items.push(new Pair.Pair(key))}toJSON(_,ctx){return super.toJSON(_,ctx,Set)}toString(ctx,onComment,onChompKeep){if(!ctx)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},ctx,{allNullValues:!0}),onComment,onChompKeep);throw new Error("Set items must all have null values")}static from(schema,iterable,ctx){let{replacer}=ctx,set3=new this(schema);if(iterable&&Symbol.iterator in Object(iterable))for(let value of iterable)typeof replacer=="function"&&(value=replacer.call(iterable,value,value)),set3.items.push(Pair.createPair(value,null,ctx));return set3}};YAMLSet.tag="tag:yaml.org,2002:set";var set2={collection:"map",identify:value=>value instanceof Set,nodeClass:YAMLSet,default:!1,tag:"tag:yaml.org,2002:set",createNode:(schema,iterable,ctx)=>YAMLSet.from(schema,iterable,ctx),resolve(map,onError){if(identity.isMap(map)){if(map.hasAllNullValues(!0))return Object.assign(new YAMLSet,map);onError("Set items must all have null values")}else onError("Expected a mapping for this tag");return map}};exports2.YAMLSet=YAMLSet;exports2.set=set2}});var require_timestamp2=__commonJS({"../../../../node_modules/yaml/dist/schema/yaml-1.1/timestamp.js"(exports2){"use strict";var stringifyNumber=require_stringifyNumber();function parseSexagesimal(str,asBigInt){let sign=str[0],parts=sign==="-"||sign==="+"?str.substring(1):str,num=n=>asBigInt?BigInt(n):Number(n),res=parts.replace(/_/g,"").split(":").reduce((res2,p)=>res2*num(60)+num(p),num(0));return sign==="-"?num(-1)*res:res}function stringifySexagesimal(node){let{value}=node,num=n=>n;if(typeof value=="bigint")num=n=>BigInt(n);else if(isNaN(value)||!isFinite(value))return stringifyNumber.stringifyNumber(node);let sign="";value<0&&(sign="-",value*=num(-1));let _60=num(60),parts=[value%_60];return value<60?parts.unshift(0):(value=(value-parts[0])/_60,parts.unshift(value%_60),value>=60&&(value=(value-parts[0])/_60,parts.unshift(value))),sign+parts.map(n=>String(n).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var intTime={identify:value=>typeof value=="bigint"||Number.isInteger(value),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(str,_onError,{intAsBigInt})=>parseSexagesimal(str,intAsBigInt),stringify:stringifySexagesimal},floatTime={identify:value=>typeof value=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:str=>parseSexagesimal(str,!1),stringify:stringifySexagesimal},timestamp={identify:value=>value instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(str){let match2=str.match(timestamp.test);if(!match2)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,year,month,day,hour,minute,second]=match2.map(Number),millisec=match2[7]?Number((match2[7]+"00").substr(1,3)):0,date=Date.UTC(year,month-1,day,hour||0,minute||0,second||0,millisec),tz=match2[8];if(tz&&tz!=="Z"){let d=parseSexagesimal(tz,!1);Math.abs(d)<30&&(d*=60),date-=6e4*d}return new Date(date)},stringify:({value})=>value?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""};exports2.floatTime=floatTime;exports2.intTime=intTime;exports2.timestamp=timestamp}});var require_schema3=__commonJS({"../../../../node_modules/yaml/dist/schema/yaml-1.1/schema.js"(exports2){"use strict";var map=require_map(),_null=require_null(),seq=require_seq(),string=require_string(),binary=require_binary2(),bool=require_bool2(),float=require_float2(),int=require_int2(),merge=require_merge(),omap=require_omap(),pairs=require_pairs(),set2=require_set(),timestamp=require_timestamp2(),schema=[map.map,seq.seq,string.string,_null.nullTag,bool.trueTag,bool.falseTag,int.intBin,int.intOct,int.int,int.intHex,float.floatNaN,float.floatExp,float.float,binary.binary,merge.merge,omap.omap,pairs.pairs,set2.set,timestamp.intTime,timestamp.floatTime,timestamp.timestamp];exports2.schema=schema}});var require_tags=__commonJS({"../../../../node_modules/yaml/dist/schema/tags.js"(exports2){"use strict";var map=require_map(),_null=require_null(),seq=require_seq(),string=require_string(),bool=require_bool(),float=require_float(),int=require_int(),schema=require_schema(),schema$1=require_schema2(),binary=require_binary2(),merge=require_merge(),omap=require_omap(),pairs=require_pairs(),schema$2=require_schema3(),set2=require_set(),timestamp=require_timestamp2(),schemas=new Map([["core",schema.schema],["failsafe",[map.map,seq.seq,string.string]],["json",schema$1.schema],["yaml11",schema$2.schema],["yaml-1.1",schema$2.schema]]),tagsByName={binary:binary.binary,bool:bool.boolTag,float:float.float,floatExp:float.floatExp,floatNaN:float.floatNaN,floatTime:timestamp.floatTime,int:int.int,intHex:int.intHex,intOct:int.intOct,intTime:timestamp.intTime,map:map.map,merge:merge.merge,null:_null.nullTag,omap:omap.omap,pairs:pairs.pairs,seq:seq.seq,set:set2.set,timestamp:timestamp.timestamp},coreKnownTags={"tag:yaml.org,2002:binary":binary.binary,"tag:yaml.org,2002:merge":merge.merge,"tag:yaml.org,2002:omap":omap.omap,"tag:yaml.org,2002:pairs":pairs.pairs,"tag:yaml.org,2002:set":set2.set,"tag:yaml.org,2002:timestamp":timestamp.timestamp};function getTags(customTags,schemaName,addMergeTag){let schemaTags=schemas.get(schemaName);if(schemaTags&&!customTags)return addMergeTag&&!schemaTags.includes(merge.merge)?schemaTags.concat(merge.merge):schemaTags.slice();let tags=schemaTags;if(!tags)if(Array.isArray(customTags))tags=[];else{let keys2=Array.from(schemas.keys()).filter(key=>key!=="yaml11").map(key=>JSON.stringify(key)).join(", ");throw new Error(`Unknown schema "${schemaName}"; use one of ${keys2} or define customTags array`)}if(Array.isArray(customTags))for(let tag of customTags)tags=tags.concat(tag);else typeof customTags=="function"&&(tags=customTags(tags.slice()));return addMergeTag&&(tags=tags.concat(merge.merge)),tags.reduce((tags2,tag)=>{let tagObj=typeof tag=="string"?tagsByName[tag]:tag;if(!tagObj){let tagName=JSON.stringify(tag),keys2=Object.keys(tagsByName).map(key=>JSON.stringify(key)).join(", ");throw new Error(`Unknown custom tag ${tagName}; use one of ${keys2}`)}return tags2.includes(tagObj)||tags2.push(tagObj),tags2},[])}exports2.coreKnownTags=coreKnownTags;exports2.getTags=getTags}});var require_Schema=__commonJS({"../../../../node_modules/yaml/dist/schema/Schema.js"(exports2){"use strict";var identity=require_identity(),map=require_map(),seq=require_seq(),string=require_string(),tags=require_tags(),sortMapEntriesByKey=(a,b)=>a.key<b.key?-1:a.key>b.key?1:0,Schema=class _Schema{constructor({compat,customTags,merge,resolveKnownTags,schema,sortMapEntries,toStringDefaults}){this.compat=Array.isArray(compat)?tags.getTags(compat,"compat"):compat?tags.getTags(null,compat):null,this.name=typeof schema=="string"&&schema||"core",this.knownTags=resolveKnownTags?tags.coreKnownTags:{},this.tags=tags.getTags(customTags,this.name,merge),this.toStringOptions=toStringDefaults??null,Object.defineProperty(this,identity.MAP,{value:map.map}),Object.defineProperty(this,identity.SCALAR,{value:string.string}),Object.defineProperty(this,identity.SEQ,{value:seq.seq}),this.sortMapEntries=typeof sortMapEntries=="function"?sortMapEntries:sortMapEntries===!0?sortMapEntriesByKey:null}clone(){let copy=Object.create(_Schema.prototype,Object.getOwnPropertyDescriptors(this));return copy.tags=this.tags.slice(),copy}};exports2.Schema=Schema}});var require_stringifyDocument=__commonJS({"../../../../node_modules/yaml/dist/stringify/stringifyDocument.js"(exports2){"use strict";var identity=require_identity(),stringify2=require_stringify2(),stringifyComment=require_stringifyComment();function stringifyDocument(doc,options2){let lines=[],hasDirectives=options2.directives===!0;if(options2.directives!==!1&&doc.directives){let dir=doc.directives.toString(doc);dir?(lines.push(dir),hasDirectives=!0):doc.directives.docStart&&(hasDirectives=!0)}hasDirectives&&lines.push("---");let ctx=stringify2.createStringifyContext(doc,options2),{commentString}=ctx.options;if(doc.commentBefore){lines.length!==1&&lines.unshift("");let cs=commentString(doc.commentBefore);lines.unshift(stringifyComment.indentComment(cs,""))}let chompKeep=!1,contentComment=null;if(doc.contents){if(identity.isNode(doc.contents)){if(doc.contents.spaceBefore&&hasDirectives&&lines.push(""),doc.contents.commentBefore){let cs=commentString(doc.contents.commentBefore);lines.push(stringifyComment.indentComment(cs,""))}ctx.forceBlockIndent=!!doc.comment,contentComment=doc.contents.comment}let onChompKeep=contentComment?void 0:()=>chompKeep=!0,body=stringify2.stringify(doc.contents,ctx,()=>contentComment=null,onChompKeep);contentComment&&(body+=stringifyComment.lineComment(body,"",commentString(contentComment))),(body[0]==="|"||body[0]===">")&&lines[lines.length-1]==="---"?lines[lines.length-1]=`--- ${body}`:lines.push(body)}else lines.push(stringify2.stringify(doc.contents,ctx));if(doc.directives?.docEnd)if(doc.comment){let cs=commentString(doc.comment);cs.includes(`
`)?(lines.push("..."),lines.push(stringifyComment.indentComment(cs,""))):lines.push(`... ${cs}`)}else lines.push("...");else{let dc=doc.comment;dc&&chompKeep&&(dc=dc.replace(/^\n+/,"")),dc&&((!chompKeep||contentComment)&&lines[lines.length-1]!==""&&lines.push(""),lines.push(stringifyComment.indentComment(commentString(dc),"")))}return lines.join(`
`)+`
`}exports2.stringifyDocument=stringifyDocument}});var require_Document=__commonJS({"../../../../node_modules/yaml/dist/doc/Document.js"(exports2){"use strict";var Alias=require_Alias(),Collection=require_Collection(),identity=require_identity(),Pair=require_Pair(),toJS=require_toJS(),Schema=require_Schema(),stringifyDocument=require_stringifyDocument(),anchors=require_anchors(),applyReviver=require_applyReviver(),createNode=require_createNode(),directives=require_directives(),Document=class _Document{constructor(value,replacer,options2){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,identity.NODE_TYPE,{value:identity.DOC});let _replacer=null;typeof replacer=="function"||Array.isArray(replacer)?_replacer=replacer:options2===void 0&&replacer&&(options2=replacer,replacer=void 0);let opt=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},options2);this.options=opt;let{version}=opt;options2?._directives?(this.directives=options2._directives.atDocument(),this.directives.yaml.explicit&&(version=this.directives.yaml.version)):this.directives=new directives.Directives({version}),this.setSchema(version,options2),this.contents=value===void 0?null:this.createNode(value,_replacer,options2)}clone(){let copy=Object.create(_Document.prototype,{[identity.NODE_TYPE]:{value:identity.DOC}});return copy.commentBefore=this.commentBefore,copy.comment=this.comment,copy.errors=this.errors.slice(),copy.warnings=this.warnings.slice(),copy.options=Object.assign({},this.options),this.directives&&(copy.directives=this.directives.clone()),copy.schema=this.schema.clone(),copy.contents=identity.isNode(this.contents)?this.contents.clone(copy.schema):this.contents,this.range&&(copy.range=this.range.slice()),copy}add(value){assertCollection(this.contents)&&this.contents.add(value)}addIn(path5,value){assertCollection(this.contents)&&this.contents.addIn(path5,value)}createAlias(node,name){if(!node.anchor){let prev=anchors.anchorNames(this);node.anchor=!name||prev.has(name)?anchors.findNewAnchor(name||"a",prev):name}return new Alias.Alias(node.anchor)}createNode(value,replacer,options2){let _replacer;if(typeof replacer=="function")value=replacer.call({"":value},"",value),_replacer=replacer;else if(Array.isArray(replacer)){let keyToStr=v=>typeof v=="number"||v instanceof String||v instanceof Number,asStr=replacer.filter(keyToStr).map(String);asStr.length>0&&(replacer=replacer.concat(asStr)),_replacer=replacer}else options2===void 0&&replacer&&(options2=replacer,replacer=void 0);let{aliasDuplicateObjects,anchorPrefix,flow,keepUndefined,onTagObj,tag}=options2??{},{onAnchor,setAnchors,sourceObjects}=anchors.createNodeAnchors(this,anchorPrefix||"a"),ctx={aliasDuplicateObjects:aliasDuplicateObjects??!0,keepUndefined:keepUndefined??!1,onAnchor,onTagObj,replacer:_replacer,schema:this.schema,sourceObjects},node=createNode.createNode(value,tag,ctx);return flow&&identity.isCollection(node)&&(node.flow=!0),setAnchors(),node}createPair(key,value,options2={}){let k=this.createNode(key,null,options2),v=this.createNode(value,null,options2);return new Pair.Pair(k,v)}delete(key){return assertCollection(this.contents)?this.contents.delete(key):!1}deleteIn(path5){return Collection.isEmptyPath(path5)?this.contents==null?!1:(this.contents=null,!0):assertCollection(this.contents)?this.contents.deleteIn(path5):!1}get(key,keepScalar){return identity.isCollection(this.contents)?this.contents.get(key,keepScalar):void 0}getIn(path5,keepScalar){return Collection.isEmptyPath(path5)?!keepScalar&&identity.isScalar(this.contents)?this.contents.value:this.contents:identity.isCollection(this.contents)?this.contents.getIn(path5,keepScalar):void 0}has(key){return identity.isCollection(this.contents)?this.contents.has(key):!1}hasIn(path5){return Collection.isEmptyPath(path5)?this.contents!==void 0:identity.isCollection(this.contents)?this.contents.hasIn(path5):!1}set(key,value){this.contents==null?this.contents=Collection.collectionFromPath(this.schema,[key],value):assertCollection(this.contents)&&this.contents.set(key,value)}setIn(path5,value){Collection.isEmptyPath(path5)?this.contents=value:this.contents==null?this.contents=Collection.collectionFromPath(this.schema,Array.from(path5),value):assertCollection(this.contents)&&this.contents.setIn(path5,value)}setSchema(version,options2={}){typeof version=="number"&&(version=String(version));let opt;switch(version){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new directives.Directives({version:"1.1"}),opt={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=version:this.directives=new directives.Directives({version}),opt={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,opt=null;break;default:{let sv=JSON.stringify(version);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${sv}`)}}if(options2.schema instanceof Object)this.schema=options2.schema;else if(opt)this.schema=new Schema.Schema(Object.assign(opt,options2));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json,jsonArg,mapAsMap,maxAliasCount,onAnchor,reviver}={}){let ctx={anchors:new Map,doc:this,keep:!json,mapAsMap:mapAsMap===!0,mapKeyWarned:!1,maxAliasCount:typeof maxAliasCount=="number"?maxAliasCount:100},res=toJS.toJS(this.contents,jsonArg??"",ctx);if(typeof onAnchor=="function")for(let{count,res:res2}of ctx.anchors.values())onAnchor(res2,count);return typeof reviver=="function"?applyReviver.applyReviver(reviver,{"":res},"",res):res}toJSON(jsonArg,onAnchor){return this.toJS({json:!0,jsonArg,mapAsMap:!1,onAnchor})}toString(options2={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in options2&&(!Number.isInteger(options2.indent)||Number(options2.indent)<=0)){let s=JSON.stringify(options2.indent);throw new Error(`"indent" option must be a positive integer, not ${s}`)}return stringifyDocument.stringifyDocument(this,options2)}};function assertCollection(contents){if(identity.isCollection(contents))return!0;throw new Error("Expected a YAML collection as document contents")}exports2.Document=Document}});var require_errors8=__commonJS({"../../../../node_modules/yaml/dist/errors.js"(exports2){"use strict";var YAMLError=class extends Error{constructor(name,pos,code2,message){super(),this.name=name,this.code=code2,this.message=message,this.pos=pos}},YAMLParseError=class extends YAMLError{constructor(pos,code2,message){super("YAMLParseError",pos,code2,message)}},YAMLWarning=class extends YAMLError{constructor(pos,code2,message){super("YAMLWarning",pos,code2,message)}},prettifyError=(src,lc)=>error=>{if(error.pos[0]===-1)return;error.linePos=error.pos.map(pos=>lc.linePos(pos));let{line,col}=error.linePos[0];error.message+=` at line ${line}, column ${col}`;let ci=col-1,lineStr=src.substring(lc.lineStarts[line-1],lc.lineStarts[line]).replace(/[\n\r]+$/,"");if(ci>=60&&lineStr.length>80){let trimStart=Math.min(ci-39,lineStr.length-79);lineStr="\u2026"+lineStr.substring(trimStart),ci-=trimStart-1}if(lineStr.length>80&&(lineStr=lineStr.substring(0,79)+"\u2026"),line>1&&/^ *$/.test(lineStr.substring(0,ci))){let prev=src.substring(lc.lineStarts[line-2],lc.lineStarts[line-1]);prev.length>80&&(prev=prev.substring(0,79)+`\u2026
`),lineStr=prev+lineStr}if(/[^ ]/.test(lineStr)){let count=1,end=error.linePos[1];end?.line===line&&end.col>col&&(count=Math.max(1,Math.min(end.col-col,80-ci)));let pointer=" ".repeat(ci)+"^".repeat(count);error.message+=`:

${lineStr}
${pointer}
`}};exports2.YAMLError=YAMLError;exports2.YAMLParseError=YAMLParseError;exports2.YAMLWarning=YAMLWarning;exports2.prettifyError=prettifyError}});var require_resolve_props=__commonJS({"../../../../node_modules/yaml/dist/compose/resolve-props.js"(exports2){"use strict";function resolveProps(tokens,{flow,indicator,next,offset,onError,parentIndent,startOnNewline}){let spaceBefore=!1,atNewline=startOnNewline,hasSpace=startOnNewline,comment2="",commentSep="",hasNewline=!1,reqSpace=!1,tab=null,anchor=null,tag=null,newlineAfterProp=null,comma=null,found=null,start=null;for(let token of tokens)switch(reqSpace&&(token.type!=="space"&&token.type!=="newline"&&token.type!=="comma"&&onError(token.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),reqSpace=!1),tab&&(atNewline&&token.type!=="comment"&&token.type!=="newline"&&onError(tab,"TAB_AS_INDENT","Tabs are not allowed as indentation"),tab=null),token.type){case"space":!flow&&(indicator!=="doc-start"||next?.type!=="flow-collection")&&token.source.includes("	")&&(tab=token),hasSpace=!0;break;case"comment":{hasSpace||onError(token,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let cb=token.source.substring(1)||" ";comment2?comment2+=commentSep+cb:comment2=cb,commentSep="",atNewline=!1;break}case"newline":atNewline?comment2?comment2+=token.source:(!found||indicator!=="seq-item-ind")&&(spaceBefore=!0):commentSep+=token.source,atNewline=!0,hasNewline=!0,(anchor||tag)&&(newlineAfterProp=token),hasSpace=!0;break;case"anchor":anchor&&onError(token,"MULTIPLE_ANCHORS","A node can have at most one anchor"),token.source.endsWith(":")&&onError(token.offset+token.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),anchor=token,start??(start=token.offset),atNewline=!1,hasSpace=!1,reqSpace=!0;break;case"tag":{tag&&onError(token,"MULTIPLE_TAGS","A node can have at most one tag"),tag=token,start??(start=token.offset),atNewline=!1,hasSpace=!1,reqSpace=!0;break}case indicator:(anchor||tag)&&onError(token,"BAD_PROP_ORDER",`Anchors and tags must be after the ${token.source} indicator`),found&&onError(token,"UNEXPECTED_TOKEN",`Unexpected ${token.source} in ${flow??"collection"}`),found=token,atNewline=indicator==="seq-item-ind"||indicator==="explicit-key-ind",hasSpace=!1;break;case"comma":if(flow){comma&&onError(token,"UNEXPECTED_TOKEN",`Unexpected , in ${flow}`),comma=token,atNewline=!1,hasSpace=!1;break}default:onError(token,"UNEXPECTED_TOKEN",`Unexpected ${token.type} token`),atNewline=!1,hasSpace=!1}let last=tokens[tokens.length-1],end=last?last.offset+last.source.length:offset;return reqSpace&&next&&next.type!=="space"&&next.type!=="newline"&&next.type!=="comma"&&(next.type!=="scalar"||next.source!=="")&&onError(next.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),tab&&(atNewline&&tab.indent<=parentIndent||next?.type==="block-map"||next?.type==="block-seq")&&onError(tab,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma,found,spaceBefore,comment:comment2,hasNewline,anchor,tag,newlineAfterProp,end,start:start??end}}exports2.resolveProps=resolveProps}});var require_util_contains_newline=__commonJS({"../../../../node_modules/yaml/dist/compose/util-contains-newline.js"(exports2){"use strict";function containsNewline(key){if(!key)return null;switch(key.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(key.source.includes(`
`))return!0;if(key.end){for(let st of key.end)if(st.type==="newline")return!0}return!1;case"flow-collection":for(let it of key.items){for(let st of it.start)if(st.type==="newline")return!0;if(it.sep){for(let st of it.sep)if(st.type==="newline")return!0}if(containsNewline(it.key)||containsNewline(it.value))return!0}return!1;default:return!0}}exports2.containsNewline=containsNewline}});var require_util_flow_indent_check=__commonJS({"../../../../node_modules/yaml/dist/compose/util-flow-indent-check.js"(exports2){"use strict";var utilContainsNewline=require_util_contains_newline();function flowIndentCheck(indent,fc,onError){if(fc?.type==="flow-collection"){let end=fc.end[0];end.indent===indent&&(end.source==="]"||end.source==="}")&&utilContainsNewline.containsNewline(fc)&&onError(end,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}exports2.flowIndentCheck=flowIndentCheck}});var require_util_map_includes=__commonJS({"../../../../node_modules/yaml/dist/compose/util-map-includes.js"(exports2){"use strict";var identity=require_identity();function mapIncludes(ctx,items,search){let{uniqueKeys}=ctx.options;if(uniqueKeys===!1)return!1;let isEqual=typeof uniqueKeys=="function"?uniqueKeys:(a,b)=>a===b||identity.isScalar(a)&&identity.isScalar(b)&&a.value===b.value;return items.some(pair=>isEqual(pair.key,search))}exports2.mapIncludes=mapIncludes}});var require_resolve_block_map=__commonJS({"../../../../node_modules/yaml/dist/compose/resolve-block-map.js"(exports2){"use strict";var Pair=require_Pair(),YAMLMap=require_YAMLMap(),resolveProps=require_resolve_props(),utilContainsNewline=require_util_contains_newline(),utilFlowIndentCheck=require_util_flow_indent_check(),utilMapIncludes=require_util_map_includes(),startColMsg="All mapping items must start at the same column";function resolveBlockMap({composeNode,composeEmptyNode},ctx,bm,onError,tag){let NodeClass=tag?.nodeClass??YAMLMap.YAMLMap,map=new NodeClass(ctx.schema);ctx.atRoot&&(ctx.atRoot=!1);let offset=bm.offset,commentEnd=null;for(let collItem of bm.items){let{start,key,sep,value}=collItem,keyProps=resolveProps.resolveProps(start,{indicator:"explicit-key-ind",next:key??sep?.[0],offset,onError,parentIndent:bm.indent,startOnNewline:!0}),implicitKey=!keyProps.found;if(implicitKey){if(key&&(key.type==="block-seq"?onError(offset,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in key&&key.indent!==bm.indent&&onError(offset,"BAD_INDENT",startColMsg)),!keyProps.anchor&&!keyProps.tag&&!sep){commentEnd=keyProps.end,keyProps.comment&&(map.comment?map.comment+=`
`+keyProps.comment:map.comment=keyProps.comment);continue}(keyProps.newlineAfterProp||utilContainsNewline.containsNewline(key))&&onError(key??start[start.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else keyProps.found?.indent!==bm.indent&&onError(offset,"BAD_INDENT",startColMsg);ctx.atKey=!0;let keyStart=keyProps.end,keyNode=key?composeNode(ctx,key,keyProps,onError):composeEmptyNode(ctx,keyStart,start,null,keyProps,onError);ctx.schema.compat&&utilFlowIndentCheck.flowIndentCheck(bm.indent,key,onError),ctx.atKey=!1,utilMapIncludes.mapIncludes(ctx,map.items,keyNode)&&onError(keyStart,"DUPLICATE_KEY","Map keys must be unique");let valueProps=resolveProps.resolveProps(sep??[],{indicator:"map-value-ind",next:value,offset:keyNode.range[2],onError,parentIndent:bm.indent,startOnNewline:!key||key.type==="block-scalar"});if(offset=valueProps.end,valueProps.found){implicitKey&&(value?.type==="block-map"&&!valueProps.hasNewline&&onError(offset,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),ctx.options.strict&&keyProps.start<valueProps.found.offset-1024&&onError(keyNode.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let valueNode=value?composeNode(ctx,value,valueProps,onError):composeEmptyNode(ctx,offset,sep,null,valueProps,onError);ctx.schema.compat&&utilFlowIndentCheck.flowIndentCheck(bm.indent,value,onError),offset=valueNode.range[2];let pair=new Pair.Pair(keyNode,valueNode);ctx.options.keepSourceTokens&&(pair.srcToken=collItem),map.items.push(pair)}else{implicitKey&&onError(keyNode.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),valueProps.comment&&(keyNode.comment?keyNode.comment+=`
`+valueProps.comment:keyNode.comment=valueProps.comment);let pair=new Pair.Pair(keyNode);ctx.options.keepSourceTokens&&(pair.srcToken=collItem),map.items.push(pair)}}return commentEnd&&commentEnd<offset&&onError(commentEnd,"IMPOSSIBLE","Map comment with trailing content"),map.range=[bm.offset,offset,commentEnd??offset],map}exports2.resolveBlockMap=resolveBlockMap}});var require_resolve_block_seq=__commonJS({"../../../../node_modules/yaml/dist/compose/resolve-block-seq.js"(exports2){"use strict";var YAMLSeq=require_YAMLSeq(),resolveProps=require_resolve_props(),utilFlowIndentCheck=require_util_flow_indent_check();function resolveBlockSeq({composeNode,composeEmptyNode},ctx,bs,onError,tag){let NodeClass=tag?.nodeClass??YAMLSeq.YAMLSeq,seq=new NodeClass(ctx.schema);ctx.atRoot&&(ctx.atRoot=!1),ctx.atKey&&(ctx.atKey=!1);let offset=bs.offset,commentEnd=null;for(let{start,value}of bs.items){let props=resolveProps.resolveProps(start,{indicator:"seq-item-ind",next:value,offset,onError,parentIndent:bs.indent,startOnNewline:!0});if(!props.found)if(props.anchor||props.tag||value)value?.type==="block-seq"?onError(props.end,"BAD_INDENT","All sequence items must start at the same column"):onError(offset,"MISSING_CHAR","Sequence item without - indicator");else{commentEnd=props.end,props.comment&&(seq.comment=props.comment);continue}let node=value?composeNode(ctx,value,props,onError):composeEmptyNode(ctx,props.end,start,null,props,onError);ctx.schema.compat&&utilFlowIndentCheck.flowIndentCheck(bs.indent,value,onError),offset=node.range[2],seq.items.push(node)}return seq.range=[bs.offset,offset,commentEnd??offset],seq}exports2.resolveBlockSeq=resolveBlockSeq}});var require_resolve_end=__commonJS({"../../../../node_modules/yaml/dist/compose/resolve-end.js"(exports2){"use strict";function resolveEnd(end,offset,reqSpace,onError){let comment2="";if(end){let hasSpace=!1,sep="";for(let token of end){let{source,type}=token;switch(type){case"space":hasSpace=!0;break;case"comment":{reqSpace&&!hasSpace&&onError(token,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let cb=source.substring(1)||" ";comment2?comment2+=sep+cb:comment2=cb,sep="";break}case"newline":comment2&&(sep+=source),hasSpace=!0;break;default:onError(token,"UNEXPECTED_TOKEN",`Unexpected ${type} at node end`)}offset+=source.length}}return{comment:comment2,offset}}exports2.resolveEnd=resolveEnd}});var require_resolve_flow_collection=__commonJS({"../../../../node_modules/yaml/dist/compose/resolve-flow-collection.js"(exports2){"use strict";var identity=require_identity(),Pair=require_Pair(),YAMLMap=require_YAMLMap(),YAMLSeq=require_YAMLSeq(),resolveEnd=require_resolve_end(),resolveProps=require_resolve_props(),utilContainsNewline=require_util_contains_newline(),utilMapIncludes=require_util_map_includes(),blockMsg="Block collections are not allowed within flow collections",isBlock=token=>token&&(token.type==="block-map"||token.type==="block-seq");function resolveFlowCollection({composeNode,composeEmptyNode},ctx,fc,onError,tag){let isMap=fc.start.source==="{",fcName=isMap?"flow map":"flow sequence",NodeClass=tag?.nodeClass??(isMap?YAMLMap.YAMLMap:YAMLSeq.YAMLSeq),coll=new NodeClass(ctx.schema);coll.flow=!0;let atRoot=ctx.atRoot;atRoot&&(ctx.atRoot=!1),ctx.atKey&&(ctx.atKey=!1);let offset=fc.offset+fc.start.source.length;for(let i=0;i<fc.items.length;++i){let collItem=fc.items[i],{start,key,sep,value}=collItem,props=resolveProps.resolveProps(start,{flow:fcName,indicator:"explicit-key-ind",next:key??sep?.[0],offset,onError,parentIndent:fc.indent,startOnNewline:!1});if(!props.found){if(!props.anchor&&!props.tag&&!sep&&!value){i===0&&props.comma?onError(props.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${fcName}`):i<fc.items.length-1&&onError(props.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${fcName}`),props.comment&&(coll.comment?coll.comment+=`
`+props.comment:coll.comment=props.comment),offset=props.end;continue}!isMap&&ctx.options.strict&&utilContainsNewline.containsNewline(key)&&onError(key,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(i===0)props.comma&&onError(props.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${fcName}`);else if(props.comma||onError(props.start,"MISSING_CHAR",`Missing , between ${fcName} items`),props.comment){let prevItemComment="";loop:for(let st of start)switch(st.type){case"comma":case"space":break;case"comment":prevItemComment=st.source.substring(1);break loop;default:break loop}if(prevItemComment){let prev=coll.items[coll.items.length-1];identity.isPair(prev)&&(prev=prev.value??prev.key),prev.comment?prev.comment+=`
`+prevItemComment:prev.comment=prevItemComment,props.comment=props.comment.substring(prevItemComment.length+1)}}if(!isMap&&!sep&&!props.found){let valueNode=value?composeNode(ctx,value,props,onError):composeEmptyNode(ctx,props.end,sep,null,props,onError);coll.items.push(valueNode),offset=valueNode.range[2],isBlock(value)&&onError(valueNode.range,"BLOCK_IN_FLOW",blockMsg)}else{ctx.atKey=!0;let keyStart=props.end,keyNode=key?composeNode(ctx,key,props,onError):composeEmptyNode(ctx,keyStart,start,null,props,onError);isBlock(key)&&onError(keyNode.range,"BLOCK_IN_FLOW",blockMsg),ctx.atKey=!1;let valueProps=resolveProps.resolveProps(sep??[],{flow:fcName,indicator:"map-value-ind",next:value,offset:keyNode.range[2],onError,parentIndent:fc.indent,startOnNewline:!1});if(valueProps.found){if(!isMap&&!props.found&&ctx.options.strict){if(sep)for(let st of sep){if(st===valueProps.found)break;if(st.type==="newline"){onError(st,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}props.start<valueProps.found.offset-1024&&onError(valueProps.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else value&&("source"in value&&value.source?.[0]===":"?onError(value,"MISSING_CHAR",`Missing space after : in ${fcName}`):onError(valueProps.start,"MISSING_CHAR",`Missing , or : between ${fcName} items`));let valueNode=value?composeNode(ctx,value,valueProps,onError):valueProps.found?composeEmptyNode(ctx,valueProps.end,sep,null,valueProps,onError):null;valueNode?isBlock(value)&&onError(valueNode.range,"BLOCK_IN_FLOW",blockMsg):valueProps.comment&&(keyNode.comment?keyNode.comment+=`
`+valueProps.comment:keyNode.comment=valueProps.comment);let pair=new Pair.Pair(keyNode,valueNode);if(ctx.options.keepSourceTokens&&(pair.srcToken=collItem),isMap){let map=coll;utilMapIncludes.mapIncludes(ctx,map.items,keyNode)&&onError(keyStart,"DUPLICATE_KEY","Map keys must be unique"),map.items.push(pair)}else{let map=new YAMLMap.YAMLMap(ctx.schema);map.flow=!0,map.items.push(pair);let endRange=(valueNode??keyNode).range;map.range=[keyNode.range[0],endRange[1],endRange[2]],coll.items.push(map)}offset=valueNode?valueNode.range[2]:valueProps.end}}let expectedEnd=isMap?"}":"]",[ce,...ee]=fc.end,cePos=offset;if(ce?.source===expectedEnd)cePos=ce.offset+ce.source.length;else{let name=fcName[0].toUpperCase()+fcName.substring(1),msg=atRoot?`${name} must end with a ${expectedEnd}`:`${name} in block collection must be sufficiently indented and end with a ${expectedEnd}`;onError(offset,atRoot?"MISSING_CHAR":"BAD_INDENT",msg),ce&&ce.source.length!==1&&ee.unshift(ce)}if(ee.length>0){let end=resolveEnd.resolveEnd(ee,cePos,ctx.options.strict,onError);end.comment&&(coll.comment?coll.comment+=`
`+end.comment:coll.comment=end.comment),coll.range=[fc.offset,cePos,end.offset]}else coll.range=[fc.offset,cePos,cePos];return coll}exports2.resolveFlowCollection=resolveFlowCollection}});var require_compose_collection=__commonJS({"../../../../node_modules/yaml/dist/compose/compose-collection.js"(exports2){"use strict";var identity=require_identity(),Scalar=require_Scalar(),YAMLMap=require_YAMLMap(),YAMLSeq=require_YAMLSeq(),resolveBlockMap=require_resolve_block_map(),resolveBlockSeq=require_resolve_block_seq(),resolveFlowCollection=require_resolve_flow_collection();function resolveCollection(CN,ctx,token,onError,tagName,tag){let coll=token.type==="block-map"?resolveBlockMap.resolveBlockMap(CN,ctx,token,onError,tag):token.type==="block-seq"?resolveBlockSeq.resolveBlockSeq(CN,ctx,token,onError,tag):resolveFlowCollection.resolveFlowCollection(CN,ctx,token,onError,tag),Coll=coll.constructor;return tagName==="!"||tagName===Coll.tagName?(coll.tag=Coll.tagName,coll):(tagName&&(coll.tag=tagName),coll)}function composeCollection(CN,ctx,token,props,onError){let tagToken=props.tag,tagName=tagToken?ctx.directives.tagName(tagToken.source,msg=>onError(tagToken,"TAG_RESOLVE_FAILED",msg)):null;if(token.type==="block-seq"){let{anchor,newlineAfterProp:nl}=props,lastProp=anchor&&tagToken?anchor.offset>tagToken.offset?anchor:tagToken:anchor??tagToken;lastProp&&(!nl||nl.offset<lastProp.offset)&&onError(lastProp,"MISSING_CHAR","Missing newline after block sequence props")}let expType=token.type==="block-map"?"map":token.type==="block-seq"?"seq":token.start.source==="{"?"map":"seq";if(!tagToken||!tagName||tagName==="!"||tagName===YAMLMap.YAMLMap.tagName&&expType==="map"||tagName===YAMLSeq.YAMLSeq.tagName&&expType==="seq")return resolveCollection(CN,ctx,token,onError,tagName);let tag=ctx.schema.tags.find(t=>t.tag===tagName&&t.collection===expType);if(!tag){let kt=ctx.schema.knownTags[tagName];if(kt?.collection===expType)ctx.schema.tags.push(Object.assign({},kt,{default:!1})),tag=kt;else return kt?onError(tagToken,"BAD_COLLECTION_TYPE",`${kt.tag} used for ${expType} collection, but expects ${kt.collection??"scalar"}`,!0):onError(tagToken,"TAG_RESOLVE_FAILED",`Unresolved tag: ${tagName}`,!0),resolveCollection(CN,ctx,token,onError,tagName)}let coll=resolveCollection(CN,ctx,token,onError,tagName,tag),res=tag.resolve?.(coll,msg=>onError(tagToken,"TAG_RESOLVE_FAILED",msg),ctx.options)??coll,node=identity.isNode(res)?res:new Scalar.Scalar(res);return node.range=coll.range,node.tag=tagName,tag?.format&&(node.format=tag.format),node}exports2.composeCollection=composeCollection}});var require_resolve_block_scalar=__commonJS({"../../../../node_modules/yaml/dist/compose/resolve-block-scalar.js"(exports2){"use strict";var Scalar=require_Scalar();function resolveBlockScalar(ctx,scalar,onError){let start=scalar.offset,header=parseBlockScalarHeader(scalar,ctx.options.strict,onError);if(!header)return{value:"",type:null,comment:"",range:[start,start,start]};let type=header.mode===">"?Scalar.Scalar.BLOCK_FOLDED:Scalar.Scalar.BLOCK_LITERAL,lines=scalar.source?splitLines(scalar.source):[],chompStart=lines.length;for(let i=lines.length-1;i>=0;--i){let content=lines[i][1];if(content===""||content==="\r")chompStart=i;else break}if(chompStart===0){let value2=header.chomp==="+"&&lines.length>0?`
`.repeat(Math.max(1,lines.length-1)):"",end2=start+header.length;return scalar.source&&(end2+=scalar.source.length),{value:value2,type,comment:header.comment,range:[start,end2,end2]}}let trimIndent=scalar.indent+header.indent,offset=scalar.offset+header.length,contentStart=0;for(let i=0;i<chompStart;++i){let[indent,content]=lines[i];if(content===""||content==="\r")header.indent===0&&indent.length>trimIndent&&(trimIndent=indent.length);else{indent.length<trimIndent&&onError(offset+indent.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),header.indent===0&&(trimIndent=indent.length),contentStart=i,trimIndent===0&&!ctx.atRoot&&onError(offset,"BAD_INDENT","Block scalar values in collections must be indented");break}offset+=indent.length+content.length+1}for(let i=lines.length-1;i>=chompStart;--i)lines[i][0].length>trimIndent&&(chompStart=i+1);let value="",sep="",prevMoreIndented=!1;for(let i=0;i<contentStart;++i)value+=lines[i][0].slice(trimIndent)+`
`;for(let i=contentStart;i<chompStart;++i){let[indent,content]=lines[i];offset+=indent.length+content.length+1;let crlf=content[content.length-1]==="\r";if(crlf&&(content=content.slice(0,-1)),content&&indent.length<trimIndent){let message=`Block scalar lines must not be less indented than their ${header.indent?"explicit indentation indicator":"first line"}`;onError(offset-content.length-(crlf?2:1),"BAD_INDENT",message),indent=""}type===Scalar.Scalar.BLOCK_LITERAL?(value+=sep+indent.slice(trimIndent)+content,sep=`
`):indent.length>trimIndent||content[0]==="	"?(sep===" "?sep=`
`:!prevMoreIndented&&sep===`
`&&(sep=`

`),value+=sep+indent.slice(trimIndent)+content,sep=`
`,prevMoreIndented=!0):content===""?sep===`
`?value+=`
`:sep=`
`:(value+=sep+content,sep=" ",prevMoreIndented=!1)}switch(header.chomp){case"-":break;case"+":for(let i=chompStart;i<lines.length;++i)value+=`
`+lines[i][0].slice(trimIndent);value[value.length-1]!==`
`&&(value+=`
`);break;default:value+=`
`}let end=start+header.length+scalar.source.length;return{value,type,comment:header.comment,range:[start,end,end]}}function parseBlockScalarHeader({offset,props},strict,onError){if(props[0].type!=="block-scalar-header")return onError(props[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source}=props[0],mode=source[0],indent=0,chomp="",error=-1;for(let i=1;i<source.length;++i){let ch=source[i];if(!chomp&&(ch==="-"||ch==="+"))chomp=ch;else{let n=Number(ch);!indent&&n?indent=n:error===-1&&(error=offset+i)}}error!==-1&&onError(error,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${source}`);let hasSpace=!1,comment2="",length=source.length;for(let i=1;i<props.length;++i){let token=props[i];switch(token.type){case"space":hasSpace=!0;case"newline":length+=token.source.length;break;case"comment":strict&&!hasSpace&&onError(token,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),length+=token.source.length,comment2=token.source.substring(1);break;case"error":onError(token,"UNEXPECTED_TOKEN",token.message),length+=token.source.length;break;default:{let message=`Unexpected token in block scalar header: ${token.type}`;onError(token,"UNEXPECTED_TOKEN",message);let ts=token.source;ts&&typeof ts=="string"&&(length+=ts.length)}}}return{mode,indent,chomp,comment:comment2,length}}function splitLines(source){let split=source.split(/\n( *)/),first=split[0],m=first.match(/^( *)/),lines=[m?.[1]?[m[1],first.slice(m[1].length)]:["",first]];for(let i=1;i<split.length;i+=2)lines.push([split[i],split[i+1]]);return lines}exports2.resolveBlockScalar=resolveBlockScalar}});var require_resolve_flow_scalar=__commonJS({"../../../../node_modules/yaml/dist/compose/resolve-flow-scalar.js"(exports2){"use strict";var Scalar=require_Scalar(),resolveEnd=require_resolve_end();function resolveFlowScalar(scalar,strict,onError){let{offset,type,source,end}=scalar,_type,value,_onError=(rel,code2,msg)=>onError(offset+rel,code2,msg);switch(type){case"scalar":_type=Scalar.Scalar.PLAIN,value=plainValue(source,_onError);break;case"single-quoted-scalar":_type=Scalar.Scalar.QUOTE_SINGLE,value=singleQuotedValue(source,_onError);break;case"double-quoted-scalar":_type=Scalar.Scalar.QUOTE_DOUBLE,value=doubleQuotedValue(source,_onError);break;default:return onError(scalar,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${type}`),{value:"",type:null,comment:"",range:[offset,offset+source.length,offset+source.length]}}let valueEnd=offset+source.length,re=resolveEnd.resolveEnd(end,valueEnd,strict,onError);return{value,type:_type,comment:re.comment,range:[offset,valueEnd,re.offset]}}function plainValue(source,onError){let badChar="";switch(source[0]){case"	":badChar="a tab character";break;case",":badChar="flow indicator character ,";break;case"%":badChar="directive indicator character %";break;case"|":case">":{badChar=`block scalar indicator ${source[0]}`;break}case"@":case"`":{badChar=`reserved character ${source[0]}`;break}}return badChar&&onError(0,"BAD_SCALAR_START",`Plain value cannot start with ${badChar}`),foldLines(source)}function singleQuotedValue(source,onError){return(source[source.length-1]!=="'"||source.length===1)&&onError(source.length,"MISSING_CHAR","Missing closing 'quote"),foldLines(source.slice(1,-1)).replace(/''/g,"'")}function foldLines(source){let first,line;try{first=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),line=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{first=/(.*?)[ \t]*\r?\n/sy,line=/[ \t]*(.*?)[ \t]*\r?\n/sy}let match2=first.exec(source);if(!match2)return source;let res=match2[1],sep=" ",pos=first.lastIndex;for(line.lastIndex=pos;match2=line.exec(source);)match2[1]===""?sep===`
`?res+=sep:sep=`
`:(res+=sep+match2[1],sep=" "),pos=line.lastIndex;let last=/[ \t]*(.*)/sy;return last.lastIndex=pos,match2=last.exec(source),res+sep+(match2?.[1]??"")}function doubleQuotedValue(source,onError){let res="";for(let i=1;i<source.length-1;++i){let ch=source[i];if(!(ch==="\r"&&source[i+1]===`
`))if(ch===`
`){let{fold,offset}=foldNewline(source,i);res+=fold,i=offset}else if(ch==="\\"){let next=source[++i],cc=escapeCodes[next];if(cc)res+=cc;else if(next===`
`)for(next=source[i+1];next===" "||next==="	";)next=source[++i+1];else if(next==="\r"&&source[i+1]===`
`)for(next=source[++i+1];next===" "||next==="	";)next=source[++i+1];else if(next==="x"||next==="u"||next==="U"){let length={x:2,u:4,U:8}[next];res+=parseCharCode(source,i+1,length,onError),i+=length}else{let raw=source.substr(i-1,2);onError(i-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${raw}`),res+=raw}}else if(ch===" "||ch==="	"){let wsStart=i,next=source[i+1];for(;next===" "||next==="	";)next=source[++i+1];next!==`
`&&!(next==="\r"&&source[i+2]===`
`)&&(res+=i>wsStart?source.slice(wsStart,i+1):ch)}else res+=ch}return(source[source.length-1]!=='"'||source.length===1)&&onError(source.length,"MISSING_CHAR",'Missing closing "quote'),res}function foldNewline(source,offset){let fold="",ch=source[offset+1];for(;(ch===" "||ch==="	"||ch===`
`||ch==="\r")&&!(ch==="\r"&&source[offset+2]!==`
`);)ch===`
`&&(fold+=`
`),offset+=1,ch=source[offset+1];return fold||(fold=" "),{fold,offset}}var escapeCodes={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function parseCharCode(source,offset,length,onError){let cc=source.substr(offset,length),code2=cc.length===length&&/^[0-9a-fA-F]+$/.test(cc)?parseInt(cc,16):NaN;if(isNaN(code2)){let raw=source.substr(offset-2,length+2);return onError(offset-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${raw}`),raw}return String.fromCodePoint(code2)}exports2.resolveFlowScalar=resolveFlowScalar}});var require_compose_scalar=__commonJS({"../../../../node_modules/yaml/dist/compose/compose-scalar.js"(exports2){"use strict";var identity=require_identity(),Scalar=require_Scalar(),resolveBlockScalar=require_resolve_block_scalar(),resolveFlowScalar=require_resolve_flow_scalar();function composeScalar(ctx,token,tagToken,onError){let{value,type,comment:comment2,range}=token.type==="block-scalar"?resolveBlockScalar.resolveBlockScalar(ctx,token,onError):resolveFlowScalar.resolveFlowScalar(token,ctx.options.strict,onError),tagName=tagToken?ctx.directives.tagName(tagToken.source,msg=>onError(tagToken,"TAG_RESOLVE_FAILED",msg)):null,tag;ctx.options.stringKeys&&ctx.atKey?tag=ctx.schema[identity.SCALAR]:tagName?tag=findScalarTagByName(ctx.schema,value,tagName,tagToken,onError):token.type==="scalar"?tag=findScalarTagByTest(ctx,value,token,onError):tag=ctx.schema[identity.SCALAR];let scalar;try{let res=tag.resolve(value,msg=>onError(tagToken??token,"TAG_RESOLVE_FAILED",msg),ctx.options);scalar=identity.isScalar(res)?res:new Scalar.Scalar(res)}catch(error){let msg=error instanceof Error?error.message:String(error);onError(tagToken??token,"TAG_RESOLVE_FAILED",msg),scalar=new Scalar.Scalar(value)}return scalar.range=range,scalar.source=value,type&&(scalar.type=type),tagName&&(scalar.tag=tagName),tag.format&&(scalar.format=tag.format),comment2&&(scalar.comment=comment2),scalar}function findScalarTagByName(schema,value,tagName,tagToken,onError){if(tagName==="!")return schema[identity.SCALAR];let matchWithTest=[];for(let tag of schema.tags)if(!tag.collection&&tag.tag===tagName)if(tag.default&&tag.test)matchWithTest.push(tag);else return tag;for(let tag of matchWithTest)if(tag.test?.test(value))return tag;let kt=schema.knownTags[tagName];return kt&&!kt.collection?(schema.tags.push(Object.assign({},kt,{default:!1,test:void 0})),kt):(onError(tagToken,"TAG_RESOLVE_FAILED",`Unresolved tag: ${tagName}`,tagName!=="tag:yaml.org,2002:str"),schema[identity.SCALAR])}function findScalarTagByTest({atKey,directives,schema},value,token,onError){let tag=schema.tags.find(tag2=>(tag2.default===!0||atKey&&tag2.default==="key")&&tag2.test?.test(value))||schema[identity.SCALAR];if(schema.compat){let compat=schema.compat.find(tag2=>tag2.default&&tag2.test?.test(value))??schema[identity.SCALAR];if(tag.tag!==compat.tag){let ts=directives.tagString(tag.tag),cs=directives.tagString(compat.tag),msg=`Value may be parsed as either ${ts} or ${cs}`;onError(token,"TAG_RESOLVE_FAILED",msg,!0)}}return tag}exports2.composeScalar=composeScalar}});var require_util_empty_scalar_position=__commonJS({"../../../../node_modules/yaml/dist/compose/util-empty-scalar-position.js"(exports2){"use strict";function emptyScalarPosition(offset,before,pos){if(before){pos??(pos=before.length);for(let i=pos-1;i>=0;--i){let st=before[i];switch(st.type){case"space":case"comment":case"newline":offset-=st.source.length;continue}for(st=before[++i];st?.type==="space";)offset+=st.source.length,st=before[++i];break}}return offset}exports2.emptyScalarPosition=emptyScalarPosition}});var require_compose_node=__commonJS({"../../../../node_modules/yaml/dist/compose/compose-node.js"(exports2){"use strict";var Alias=require_Alias(),identity=require_identity(),composeCollection=require_compose_collection(),composeScalar=require_compose_scalar(),resolveEnd=require_resolve_end(),utilEmptyScalarPosition=require_util_empty_scalar_position(),CN={composeNode,composeEmptyNode};function composeNode(ctx,token,props,onError){let atKey=ctx.atKey,{spaceBefore,comment:comment2,anchor,tag}=props,node,isSrcToken=!0;switch(token.type){case"alias":node=composeAlias(ctx,token,onError),(anchor||tag)&&onError(token,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":node=composeScalar.composeScalar(ctx,token,tag,onError),anchor&&(node.anchor=anchor.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":node=composeCollection.composeCollection(CN,ctx,token,props,onError),anchor&&(node.anchor=anchor.source.substring(1));break;default:{let message=token.type==="error"?token.message:`Unsupported token (type: ${token.type})`;onError(token,"UNEXPECTED_TOKEN",message),node=composeEmptyNode(ctx,token.offset,void 0,null,props,onError),isSrcToken=!1}}return anchor&&node.anchor===""&&onError(anchor,"BAD_ALIAS","Anchor cannot be an empty string"),atKey&&ctx.options.stringKeys&&(!identity.isScalar(node)||typeof node.value!="string"||node.tag&&node.tag!=="tag:yaml.org,2002:str")&&onError(tag??token,"NON_STRING_KEY","With stringKeys, all keys must be strings"),spaceBefore&&(node.spaceBefore=!0),comment2&&(token.type==="scalar"&&token.source===""?node.comment=comment2:node.commentBefore=comment2),ctx.options.keepSourceTokens&&isSrcToken&&(node.srcToken=token),node}function composeEmptyNode(ctx,offset,before,pos,{spaceBefore,comment:comment2,anchor,tag,end},onError){let token={type:"scalar",offset:utilEmptyScalarPosition.emptyScalarPosition(offset,before,pos),indent:-1,source:""},node=composeScalar.composeScalar(ctx,token,tag,onError);return anchor&&(node.anchor=anchor.source.substring(1),node.anchor===""&&onError(anchor,"BAD_ALIAS","Anchor cannot be an empty string")),spaceBefore&&(node.spaceBefore=!0),comment2&&(node.comment=comment2,node.range[2]=end),node}function composeAlias({options:options2},{offset,source,end},onError){let alias=new Alias.Alias(source.substring(1));alias.source===""&&onError(offset,"BAD_ALIAS","Alias cannot be an empty string"),alias.source.endsWith(":")&&onError(offset+source.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let valueEnd=offset+source.length,re=resolveEnd.resolveEnd(end,valueEnd,options2.strict,onError);return alias.range=[offset,valueEnd,re.offset],re.comment&&(alias.comment=re.comment),alias}exports2.composeEmptyNode=composeEmptyNode;exports2.composeNode=composeNode}});var require_compose_doc=__commonJS({"../../../../node_modules/yaml/dist/compose/compose-doc.js"(exports2){"use strict";var Document=require_Document(),composeNode=require_compose_node(),resolveEnd=require_resolve_end(),resolveProps=require_resolve_props();function composeDoc(options2,directives,{offset,start,value,end},onError){let opts=Object.assign({_directives:directives},options2),doc=new Document.Document(void 0,opts),ctx={atKey:!1,atRoot:!0,directives:doc.directives,options:doc.options,schema:doc.schema},props=resolveProps.resolveProps(start,{indicator:"doc-start",next:value??end?.[0],offset,onError,parentIndent:0,startOnNewline:!0});props.found&&(doc.directives.docStart=!0,value&&(value.type==="block-map"||value.type==="block-seq")&&!props.hasNewline&&onError(props.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),doc.contents=value?composeNode.composeNode(ctx,value,props,onError):composeNode.composeEmptyNode(ctx,props.end,start,null,props,onError);let contentEnd=doc.contents.range[2],re=resolveEnd.resolveEnd(end,contentEnd,!1,onError);return re.comment&&(doc.comment=re.comment),doc.range=[offset,contentEnd,re.offset],doc}exports2.composeDoc=composeDoc}});var require_composer=__commonJS({"../../../../node_modules/yaml/dist/compose/composer.js"(exports2){"use strict";var node_process=require("process"),directives=require_directives(),Document=require_Document(),errors=require_errors8(),identity=require_identity(),composeDoc=require_compose_doc(),resolveEnd=require_resolve_end();function getErrorPos(src){if(typeof src=="number")return[src,src+1];if(Array.isArray(src))return src.length===2?src:[src[0],src[1]];let{offset,source}=src;return[offset,offset+(typeof source=="string"?source.length:1)]}function parsePrelude(prelude){let comment2="",atComment=!1,afterEmptyLine=!1;for(let i=0;i<prelude.length;++i){let source=prelude[i];switch(source[0]){case"#":comment2+=(comment2===""?"":afterEmptyLine?`

`:`
`)+(source.substring(1)||" "),atComment=!0,afterEmptyLine=!1;break;case"%":prelude[i+1]?.[0]!=="#"&&(i+=1),atComment=!1;break;default:atComment||(afterEmptyLine=!0),atComment=!1}}return{comment:comment2,afterEmptyLine}}var Composer=class{constructor(options2={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(source,code2,message,warning)=>{let pos=getErrorPos(source);warning?this.warnings.push(new errors.YAMLWarning(pos,code2,message)):this.errors.push(new errors.YAMLParseError(pos,code2,message))},this.directives=new directives.Directives({version:options2.version||"1.2"}),this.options=options2}decorate(doc,afterDoc){let{comment:comment2,afterEmptyLine}=parsePrelude(this.prelude);if(comment2){let dc=doc.contents;if(afterDoc)doc.comment=doc.comment?`${doc.comment}
${comment2}`:comment2;else if(afterEmptyLine||doc.directives.docStart||!dc)doc.commentBefore=comment2;else if(identity.isCollection(dc)&&!dc.flow&&dc.items.length>0){let it=dc.items[0];identity.isPair(it)&&(it=it.key);let cb=it.commentBefore;it.commentBefore=cb?`${comment2}
${cb}`:comment2}else{let cb=dc.commentBefore;dc.commentBefore=cb?`${comment2}
${cb}`:comment2}}afterDoc?(Array.prototype.push.apply(doc.errors,this.errors),Array.prototype.push.apply(doc.warnings,this.warnings)):(doc.errors=this.errors,doc.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:parsePrelude(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(tokens,forceDoc=!1,endOffset=-1){for(let token of tokens)yield*this.next(token);yield*this.end(forceDoc,endOffset)}*next(token){switch(node_process.env.LOG_STREAM&&console.dir(token,{depth:null}),token.type){case"directive":this.directives.add(token.source,(offset,message,warning)=>{let pos=getErrorPos(token);pos[0]+=offset,this.onError(pos,"BAD_DIRECTIVE",message,warning)}),this.prelude.push(token.source),this.atDirectives=!0;break;case"document":{let doc=composeDoc.composeDoc(this.options,this.directives,token,this.onError);this.atDirectives&&!doc.directives.docStart&&this.onError(token,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(doc,!1),this.doc&&(yield this.doc),this.doc=doc,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(token.source);break;case"error":{let msg=token.source?`${token.message}: ${JSON.stringify(token.source)}`:token.message,error=new errors.YAMLParseError(getErrorPos(token),"UNEXPECTED_TOKEN",msg);this.atDirectives||!this.doc?this.errors.push(error):this.doc.errors.push(error);break}case"doc-end":{if(!this.doc){let msg="Unexpected doc-end without preceding document";this.errors.push(new errors.YAMLParseError(getErrorPos(token),"UNEXPECTED_TOKEN",msg));break}this.doc.directives.docEnd=!0;let end=resolveEnd.resolveEnd(token.end,token.offset+token.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),end.comment){let dc=this.doc.comment;this.doc.comment=dc?`${dc}
${end.comment}`:end.comment}this.doc.range[2]=end.offset;break}default:this.errors.push(new errors.YAMLParseError(getErrorPos(token),"UNEXPECTED_TOKEN",`Unsupported token ${token.type}`))}}*end(forceDoc=!1,endOffset=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(forceDoc){let opts=Object.assign({_directives:this.directives},this.options),doc=new Document.Document(void 0,opts);this.atDirectives&&this.onError(endOffset,"MISSING_CHAR","Missing directives-end indicator line"),doc.range=[0,endOffset,endOffset],this.decorate(doc,!1),yield doc}}};exports2.Composer=Composer}});var require_cst_scalar=__commonJS({"../../../../node_modules/yaml/dist/parse/cst-scalar.js"(exports2){"use strict";var resolveBlockScalar=require_resolve_block_scalar(),resolveFlowScalar=require_resolve_flow_scalar(),errors=require_errors8(),stringifyString=require_stringifyString();function resolveAsScalar(token,strict=!0,onError){if(token){let _onError=(pos,code2,message)=>{let offset=typeof pos=="number"?pos:Array.isArray(pos)?pos[0]:pos.offset;if(onError)onError(offset,code2,message);else throw new errors.YAMLParseError([offset,offset+1],code2,message)};switch(token.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return resolveFlowScalar.resolveFlowScalar(token,strict,_onError);case"block-scalar":return resolveBlockScalar.resolveBlockScalar({options:{strict}},token,_onError)}}return null}function createScalarToken(value,context){let{implicitKey=!1,indent,inFlow=!1,offset=-1,type="PLAIN"}=context,source=stringifyString.stringifyString({type,value},{implicitKey,indent:indent>0?" ".repeat(indent):"",inFlow,options:{blockQuote:!0,lineWidth:-1}}),end=context.end??[{type:"newline",offset:-1,indent,source:`
`}];switch(source[0]){case"|":case">":{let he=source.indexOf(`
`),head=source.substring(0,he),body=source.substring(he+1)+`
`,props=[{type:"block-scalar-header",offset,indent,source:head}];return addEndtoBlockProps(props,end)||props.push({type:"newline",offset:-1,indent,source:`
`}),{type:"block-scalar",offset,indent,props,source:body}}case'"':return{type:"double-quoted-scalar",offset,indent,source,end};case"'":return{type:"single-quoted-scalar",offset,indent,source,end};default:return{type:"scalar",offset,indent,source,end}}}function setScalarValue(token,value,context={}){let{afterKey=!1,implicitKey=!1,inFlow=!1,type}=context,indent="indent"in token?token.indent:null;if(afterKey&&typeof indent=="number"&&(indent+=2),!type)switch(token.type){case"single-quoted-scalar":type="QUOTE_SINGLE";break;case"double-quoted-scalar":type="QUOTE_DOUBLE";break;case"block-scalar":{let header=token.props[0];if(header.type!=="block-scalar-header")throw new Error("Invalid block scalar header");type=header.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:type="PLAIN"}let source=stringifyString.stringifyString({type,value},{implicitKey:implicitKey||indent===null,indent:indent!==null&&indent>0?" ".repeat(indent):"",inFlow,options:{blockQuote:!0,lineWidth:-1}});switch(source[0]){case"|":case">":setBlockScalarValue(token,source);break;case'"':setFlowScalarValue(token,source,"double-quoted-scalar");break;case"'":setFlowScalarValue(token,source,"single-quoted-scalar");break;default:setFlowScalarValue(token,source,"scalar")}}function setBlockScalarValue(token,source){let he=source.indexOf(`
`),head=source.substring(0,he),body=source.substring(he+1)+`
`;if(token.type==="block-scalar"){let header=token.props[0];if(header.type!=="block-scalar-header")throw new Error("Invalid block scalar header");header.source=head,token.source=body}else{let{offset}=token,indent="indent"in token?token.indent:-1,props=[{type:"block-scalar-header",offset,indent,source:head}];addEndtoBlockProps(props,"end"in token?token.end:void 0)||props.push({type:"newline",offset:-1,indent,source:`
`});for(let key of Object.keys(token))key!=="type"&&key!=="offset"&&delete token[key];Object.assign(token,{type:"block-scalar",indent,props,source:body})}}function addEndtoBlockProps(props,end){if(end)for(let st of end)switch(st.type){case"space":case"comment":props.push(st);break;case"newline":return props.push(st),!0}return!1}function setFlowScalarValue(token,source,type){switch(token.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":token.type=type,token.source=source;break;case"block-scalar":{let end=token.props.slice(1),oa=source.length;token.props[0].type==="block-scalar-header"&&(oa-=token.props[0].source.length);for(let tok of end)tok.offset+=oa;delete token.props,Object.assign(token,{type,source,end});break}case"block-map":case"block-seq":{let nl={type:"newline",offset:token.offset+source.length,indent:token.indent,source:`
`};delete token.items,Object.assign(token,{type,source,end:[nl]});break}default:{let indent="indent"in token?token.indent:-1,end="end"in token&&Array.isArray(token.end)?token.end.filter(st=>st.type==="space"||st.type==="comment"||st.type==="newline"):[];for(let key of Object.keys(token))key!=="type"&&key!=="offset"&&delete token[key];Object.assign(token,{type,indent,source,end})}}}exports2.createScalarToken=createScalarToken;exports2.resolveAsScalar=resolveAsScalar;exports2.setScalarValue=setScalarValue}});var require_cst_stringify=__commonJS({"../../../../node_modules/yaml/dist/parse/cst-stringify.js"(exports2){"use strict";var stringify2=cst=>"type"in cst?stringifyToken(cst):stringifyItem(cst);function stringifyToken(token){switch(token.type){case"block-scalar":{let res="";for(let tok of token.props)res+=stringifyToken(tok);return res+token.source}case"block-map":case"block-seq":{let res="";for(let item of token.items)res+=stringifyItem(item);return res}case"flow-collection":{let res=token.start.source;for(let item of token.items)res+=stringifyItem(item);for(let st of token.end)res+=st.source;return res}case"document":{let res=stringifyItem(token);if(token.end)for(let st of token.end)res+=st.source;return res}default:{let res=token.source;if("end"in token&&token.end)for(let st of token.end)res+=st.source;return res}}}function stringifyItem({start,key,sep,value}){let res="";for(let st of start)res+=st.source;if(key&&(res+=stringifyToken(key)),sep)for(let st of sep)res+=st.source;return value&&(res+=stringifyToken(value)),res}exports2.stringify=stringify2}});var require_cst_visit=__commonJS({"../../../../node_modules/yaml/dist/parse/cst-visit.js"(exports2){"use strict";var BREAK=Symbol("break visit"),SKIP=Symbol("skip children"),REMOVE=Symbol("remove item");function visit(cst,visitor){"type"in cst&&cst.type==="document"&&(cst={start:cst.start,value:cst.value}),_visit(Object.freeze([]),cst,visitor)}visit.BREAK=BREAK;visit.SKIP=SKIP;visit.REMOVE=REMOVE;visit.itemAtPath=(cst,path5)=>{let item=cst;for(let[field,index2]of path5){let tok=item?.[field];if(tok&&"items"in tok)item=tok.items[index2];else return}return item};visit.parentCollection=(cst,path5)=>{let parent=visit.itemAtPath(cst,path5.slice(0,-1)),field=path5[path5.length-1][0],coll=parent?.[field];if(coll&&"items"in coll)return coll;throw new Error("Parent collection not found")};function _visit(path5,item,visitor){let ctrl=visitor(item,path5);if(typeof ctrl=="symbol")return ctrl;for(let field of["key","value"]){let token=item[field];if(token&&"items"in token){for(let i=0;i<token.items.length;++i){let ci=_visit(Object.freeze(path5.concat([[field,i]])),token.items[i],visitor);if(typeof ci=="number")i=ci-1;else{if(ci===BREAK)return BREAK;ci===REMOVE&&(token.items.splice(i,1),i-=1)}}typeof ctrl=="function"&&field==="key"&&(ctrl=ctrl(item,path5))}}return typeof ctrl=="function"?ctrl(item,path5):ctrl}exports2.visit=visit}});var require_cst=__commonJS({"../../../../node_modules/yaml/dist/parse/cst.js"(exports2){"use strict";var cstScalar=require_cst_scalar(),cstStringify=require_cst_stringify(),cstVisit=require_cst_visit(),BOM="\uFEFF",DOCUMENT="",FLOW_END="",SCALAR="",isCollection=token=>!!token&&"items"in token,isScalar=token=>!!token&&(token.type==="scalar"||token.type==="single-quoted-scalar"||token.type==="double-quoted-scalar"||token.type==="block-scalar");function prettyToken(token){switch(token){case BOM:return"<BOM>";case DOCUMENT:return"<DOC>";case FLOW_END:return"<FLOW_END>";case SCALAR:return"<SCALAR>";default:return JSON.stringify(token)}}function tokenType(source){switch(source){case BOM:return"byte-order-mark";case DOCUMENT:return"doc-mode";case FLOW_END:return"flow-error-end";case SCALAR:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(source[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}exports2.createScalarToken=cstScalar.createScalarToken;exports2.resolveAsScalar=cstScalar.resolveAsScalar;exports2.setScalarValue=cstScalar.setScalarValue;exports2.stringify=cstStringify.stringify;exports2.visit=cstVisit.visit;exports2.BOM=BOM;exports2.DOCUMENT=DOCUMENT;exports2.FLOW_END=FLOW_END;exports2.SCALAR=SCALAR;exports2.isCollection=isCollection;exports2.isScalar=isScalar;exports2.prettyToken=prettyToken;exports2.tokenType=tokenType}});var require_lexer=__commonJS({"../../../../node_modules/yaml/dist/parse/lexer.js"(exports2){"use strict";var cst=require_cst();function isEmpty2(ch){switch(ch){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var hexDigits=new Set("0123456789ABCDEFabcdef"),tagChars=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),flowIndicatorChars=new Set(",[]{}"),invalidAnchorChars=new Set(` ,[]{}
\r	`),isNotAnchorChar=ch=>!ch||invalidAnchorChars.has(ch),Lexer=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(source,incomplete=!1){if(source){if(typeof source!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+source:source,this.lineEndPos=null}this.atEnd=!incomplete;let next=this.next??"stream";for(;next&&(incomplete||this.hasChars(1));)next=yield*this.parseNext(next)}atLineEnd(){let i=this.pos,ch=this.buffer[i];for(;ch===" "||ch==="	";)ch=this.buffer[++i];return!ch||ch==="#"||ch===`
`?!0:ch==="\r"?this.buffer[i+1]===`
`:!1}charAt(n){return this.buffer[this.pos+n]}continueScalar(offset){let ch=this.buffer[offset];if(this.indentNext>0){let indent=0;for(;ch===" ";)ch=this.buffer[++indent+offset];if(ch==="\r"){let next=this.buffer[indent+offset+1];if(next===`
`||!next&&!this.atEnd)return offset+indent+1}return ch===`
`||indent>=this.indentNext||!ch&&!this.atEnd?offset+indent:-1}if(ch==="-"||ch==="."){let dt=this.buffer.substr(offset,3);if((dt==="---"||dt==="...")&&isEmpty2(this.buffer[offset+3]))return-1}return offset}getLine(){let end=this.lineEndPos;return(typeof end!="number"||end!==-1&&end<this.pos)&&(end=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=end),end===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[end-1]==="\r"&&(end-=1),this.buffer.substring(this.pos,end))}hasChars(n){return this.pos+n<=this.buffer.length}setNext(state){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=state,null}peek(n){return this.buffer.substr(this.pos,n)}*parseNext(next){switch(next){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let line=this.getLine();if(line===null)return this.setNext("stream");if(line[0]===cst.BOM&&(yield*this.pushCount(1),line=line.substring(1)),line[0]==="%"){let dirEnd=line.length,cs=line.indexOf("#");for(;cs!==-1;){let ch=line[cs-1];if(ch===" "||ch==="	"){dirEnd=cs-1;break}else cs=line.indexOf("#",cs+1)}for(;;){let ch=line[dirEnd-1];if(ch===" "||ch==="	")dirEnd-=1;else break}let n=(yield*this.pushCount(dirEnd))+(yield*this.pushSpaces(!0));return yield*this.pushCount(line.length-n),this.pushNewline(),"stream"}if(this.atLineEnd()){let sp=yield*this.pushSpaces(!0);return yield*this.pushCount(line.length-sp),yield*this.pushNewline(),"stream"}return yield cst.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let ch=this.charAt(0);if(!ch&&!this.atEnd)return this.setNext("line-start");if(ch==="-"||ch==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let s=this.peek(3);if((s==="---"||s==="...")&&isEmpty2(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,s==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!isEmpty2(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[ch0,ch1]=this.peek(2);if(!ch1&&!this.atEnd)return this.setNext("block-start");if((ch0==="-"||ch0==="?"||ch0===":")&&isEmpty2(ch1)){let n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let line=this.getLine();if(line===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(line[n]){case"#":yield*this.pushCount(line.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(isNotAnchorChar),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(line.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let nl,sp,indent=-1;do nl=yield*this.pushNewline(),nl>0?(sp=yield*this.pushSpaces(!1),this.indentValue=indent=sp):sp=0,sp+=yield*this.pushSpaces(!0);while(nl+sp>0);let line=this.getLine();if(line===null)return this.setNext("flow");if((indent!==-1&&indent<this.indentNext&&line[0]!=="#"||indent===0&&(line.startsWith("---")||line.startsWith("..."))&&isEmpty2(line[3]))&&!(indent===this.indentNext-1&&this.flowLevel===1&&(line[0]==="]"||line[0]==="}")))return this.flowLevel=0,yield cst.FLOW_END,yield*this.parseLineStart();let n=0;for(;line[n]===",";)n+=yield*this.pushCount(1),n+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(n+=yield*this.pushIndicators(),line[n]){case void 0:return"flow";case"#":return yield*this.pushCount(line.length-n),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(isNotAnchorChar),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let next=this.charAt(1);if(this.flowKey||isEmpty2(next)||next===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let quote=this.charAt(0),end=this.buffer.indexOf(quote,this.pos+1);if(quote==="'")for(;end!==-1&&this.buffer[end+1]==="'";)end=this.buffer.indexOf("'",end+2);else for(;end!==-1;){let n=0;for(;this.buffer[end-1-n]==="\\";)n+=1;if(n%2===0)break;end=this.buffer.indexOf('"',end+1)}let qb=this.buffer.substring(0,end),nl=qb.indexOf(`
`,this.pos);if(nl!==-1){for(;nl!==-1;){let cs=this.continueScalar(nl+1);if(cs===-1)break;nl=qb.indexOf(`
`,cs)}nl!==-1&&(end=nl-(qb[nl-1]==="\r"?2:1))}if(end===-1){if(!this.atEnd)return this.setNext("quoted-scalar");end=this.buffer.length}return yield*this.pushToIndex(end+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let i=this.pos;for(;;){let ch=this.buffer[++i];if(ch==="+")this.blockScalarKeep=!0;else if(ch>"0"&&ch<="9")this.blockScalarIndent=Number(ch)-1;else if(ch!=="-")break}return yield*this.pushUntil(ch=>isEmpty2(ch)||ch==="#")}*parseBlockScalar(){let nl=this.pos-1,indent=0,ch;loop:for(let i2=this.pos;ch=this.buffer[i2];++i2)switch(ch){case" ":indent+=1;break;case`
`:nl=i2,indent=0;break;case"\r":{let next=this.buffer[i2+1];if(!next&&!this.atEnd)return this.setNext("block-scalar");if(next===`
`)break}default:break loop}if(!ch&&!this.atEnd)return this.setNext("block-scalar");if(indent>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=indent:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{let cs=this.continueScalar(nl+1);if(cs===-1)break;nl=this.buffer.indexOf(`
`,cs)}while(nl!==-1);if(nl===-1){if(!this.atEnd)return this.setNext("block-scalar");nl=this.buffer.length}}let i=nl+1;for(ch=this.buffer[i];ch===" ";)ch=this.buffer[++i];if(ch==="	"){for(;ch==="	"||ch===" "||ch==="\r"||ch===`
`;)ch=this.buffer[++i];nl=i-1}else if(!this.blockScalarKeep)do{let i2=nl-1,ch2=this.buffer[i2];ch2==="\r"&&(ch2=this.buffer[--i2]);let lastChar=i2;for(;ch2===" ";)ch2=this.buffer[--i2];if(ch2===`
`&&i2>=this.pos&&i2+1+indent>lastChar)nl=i2;else break}while(!0);return yield cst.SCALAR,yield*this.pushToIndex(nl+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let inFlow=this.flowLevel>0,end=this.pos-1,i=this.pos-1,ch;for(;ch=this.buffer[++i];)if(ch===":"){let next=this.buffer[i+1];if(isEmpty2(next)||inFlow&&flowIndicatorChars.has(next))break;end=i}else if(isEmpty2(ch)){let next=this.buffer[i+1];if(ch==="\r"&&(next===`
`?(i+=1,ch=`
`,next=this.buffer[i+1]):end=i),next==="#"||inFlow&&flowIndicatorChars.has(next))break;if(ch===`
`){let cs=this.continueScalar(i+1);if(cs===-1)break;i=Math.max(i,cs-2)}}else{if(inFlow&&flowIndicatorChars.has(ch))break;end=i}return!ch&&!this.atEnd?this.setNext("plain-scalar"):(yield cst.SCALAR,yield*this.pushToIndex(end+1,!0),inFlow?"flow":"doc")}*pushCount(n){return n>0?(yield this.buffer.substr(this.pos,n),this.pos+=n,n):0}*pushToIndex(i,allowEmpty){let s=this.buffer.slice(this.pos,i);return s?(yield s,this.pos+=s.length,s.length):(allowEmpty&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(isNotAnchorChar))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let inFlow=this.flowLevel>0,ch1=this.charAt(1);if(isEmpty2(ch1)||inFlow&&flowIndicatorChars.has(ch1))return inFlow?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let i=this.pos+2,ch=this.buffer[i];for(;!isEmpty2(ch)&&ch!==">";)ch=this.buffer[++i];return yield*this.pushToIndex(ch===">"?i+1:i,!1)}else{let i=this.pos+1,ch=this.buffer[i];for(;ch;)if(tagChars.has(ch))ch=this.buffer[++i];else if(ch==="%"&&hexDigits.has(this.buffer[i+1])&&hexDigits.has(this.buffer[i+2]))ch=this.buffer[i+=3];else break;return yield*this.pushToIndex(i,!1)}}*pushNewline(){let ch=this.buffer[this.pos];return ch===`
`?yield*this.pushCount(1):ch==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(allowTabs){let i=this.pos-1,ch;do ch=this.buffer[++i];while(ch===" "||allowTabs&&ch==="	");let n=i-this.pos;return n>0&&(yield this.buffer.substr(this.pos,n),this.pos=i),n}*pushUntil(test2){let i=this.pos,ch=this.buffer[i];for(;!test2(ch);)ch=this.buffer[++i];return yield*this.pushToIndex(i,!1)}};exports2.Lexer=Lexer}});var require_line_counter=__commonJS({"../../../../node_modules/yaml/dist/parse/line-counter.js"(exports2){"use strict";var LineCounter=class{constructor(){this.lineStarts=[],this.addNewLine=offset=>this.lineStarts.push(offset),this.linePos=offset=>{let low=0,high=this.lineStarts.length;for(;low<high;){let mid=low+high>>1;this.lineStarts[mid]<offset?low=mid+1:high=mid}if(this.lineStarts[low]===offset)return{line:low+1,col:1};if(low===0)return{line:0,col:offset};let start=this.lineStarts[low-1];return{line:low,col:offset-start+1}}}};exports2.LineCounter=LineCounter}});var require_parser=__commonJS({"../../../../node_modules/yaml/dist/parse/parser.js"(exports2){"use strict";var node_process=require("process"),cst=require_cst(),lexer=require_lexer();function includesToken(list2,type){for(let i=0;i<list2.length;++i)if(list2[i].type===type)return!0;return!1}function findNonEmptyIndex(list2){for(let i=0;i<list2.length;++i)switch(list2[i].type){case"space":case"comment":case"newline":break;default:return i}return-1}function isFlowToken(token){switch(token?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function getPrevProps(parent){switch(parent.type){case"document":return parent.start;case"block-map":{let it=parent.items[parent.items.length-1];return it.sep??it.start}case"block-seq":return parent.items[parent.items.length-1].start;default:return[]}}function getFirstKeyStartProps(prev){if(prev.length===0)return[];let i=prev.length;loop:for(;--i>=0;)switch(prev[i].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break loop}for(;prev[++i]?.type==="space";);return prev.splice(i,prev.length)}function fixFlowSeqItems(fc){if(fc.start.type==="flow-seq-start")for(let it of fc.items)it.sep&&!it.value&&!includesToken(it.start,"explicit-key-ind")&&!includesToken(it.sep,"map-value-ind")&&(it.key&&(it.value=it.key),delete it.key,isFlowToken(it.value)?it.value.end?Array.prototype.push.apply(it.value.end,it.sep):it.value.end=it.sep:Array.prototype.push.apply(it.start,it.sep),delete it.sep)}var Parser=class{constructor(onNewLine){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new lexer.Lexer,this.onNewLine=onNewLine}*parse(source,incomplete=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let lexeme of this.lexer.lex(source,incomplete))yield*this.next(lexeme);incomplete||(yield*this.end())}*next(source){if(this.source=source,node_process.env.LOG_TOKENS&&console.log("|",cst.prettyToken(source)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=source.length;return}let type=cst.tokenType(source);if(type)if(type==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=type,yield*this.step(),type){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+source.length);break;case"space":this.atNewLine&&source[0]===" "&&(this.indent+=source.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=source.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=source.length}else{let message=`Not a YAML token: ${source}`;yield*this.pop({type:"error",offset:this.offset,message,source}),this.offset+=source.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let top=this.peek(1);if(this.type==="doc-end"&&top?.type!=="doc-end"){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!top)return yield*this.stream();switch(top.type){case"document":return yield*this.document(top);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(top);case"block-scalar":return yield*this.blockScalar(top);case"block-map":return yield*this.blockMap(top);case"block-seq":return yield*this.blockSequence(top);case"flow-collection":return yield*this.flowCollection(top);case"doc-end":return yield*this.documentEnd(top)}yield*this.pop()}peek(n){return this.stack[this.stack.length-n]}*pop(error){let token=error??this.stack.pop();if(!token)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield token;else{let top=this.peek(1);switch(token.type==="block-scalar"?token.indent="indent"in top?top.indent:0:token.type==="flow-collection"&&top.type==="document"&&(token.indent=0),token.type==="flow-collection"&&fixFlowSeqItems(token),top.type){case"document":top.value=token;break;case"block-scalar":top.props.push(token);break;case"block-map":{let it=top.items[top.items.length-1];if(it.value){top.items.push({start:[],key:token,sep:[]}),this.onKeyLine=!0;return}else if(it.sep)it.value=token;else{Object.assign(it,{key:token,sep:[]}),this.onKeyLine=!it.explicitKey;return}break}case"block-seq":{let it=top.items[top.items.length-1];it.value?top.items.push({start:[],value:token}):it.value=token;break}case"flow-collection":{let it=top.items[top.items.length-1];!it||it.value?top.items.push({start:[],key:token,sep:[]}):it.sep?it.value=token:Object.assign(it,{key:token,sep:[]});return}default:yield*this.pop(),yield*this.pop(token)}if((top.type==="document"||top.type==="block-map"||top.type==="block-seq")&&(token.type==="block-map"||token.type==="block-seq")){let last=token.items[token.items.length-1];last&&!last.sep&&!last.value&&last.start.length>0&&findNonEmptyIndex(last.start)===-1&&(token.indent===0||last.start.every(st=>st.type!=="comment"||st.indent<token.indent))&&(top.type==="document"?top.end=last.start:top.items.push({start:last.start}),token.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let doc={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&doc.start.push(this.sourceToken),this.stack.push(doc);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(doc){if(doc.value)return yield*this.lineEnd(doc);switch(this.type){case"doc-start":{findNonEmptyIndex(doc.start)!==-1?(yield*this.pop(),yield*this.step()):doc.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":doc.start.push(this.sourceToken);return}let bv=this.startBlockValue(doc);bv?this.stack.push(bv):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(scalar){if(this.type==="map-value-ind"){let prev=getPrevProps(this.peek(2)),start=getFirstKeyStartProps(prev),sep;scalar.end?(sep=scalar.end,sep.push(this.sourceToken),delete scalar.end):sep=[this.sourceToken];let map={type:"block-map",offset:scalar.offset,indent:scalar.indent,items:[{start,key:scalar,sep}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=map}else yield*this.lineEnd(scalar)}*blockScalar(scalar){switch(this.type){case"space":case"comment":case"newline":scalar.props.push(this.sourceToken);return;case"scalar":if(scalar.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let nl=this.source.indexOf(`
`)+1;for(;nl!==0;)this.onNewLine(this.offset+nl),nl=this.source.indexOf(`
`,nl)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(map){let it=map.items[map.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,it.value){let end="end"in it.value?it.value.end:void 0;(Array.isArray(end)?end[end.length-1]:void 0)?.type==="comment"?end?.push(this.sourceToken):map.items.push({start:[this.sourceToken]})}else it.sep?it.sep.push(this.sourceToken):it.start.push(this.sourceToken);return;case"space":case"comment":if(it.value)map.items.push({start:[this.sourceToken]});else if(it.sep)it.sep.push(this.sourceToken);else{if(this.atIndentedComment(it.start,map.indent)){let end=map.items[map.items.length-2]?.value?.end;if(Array.isArray(end)){Array.prototype.push.apply(end,it.start),end.push(this.sourceToken),map.items.pop();return}}it.start.push(this.sourceToken)}return}if(this.indent>=map.indent){let atMapIndent=!this.onKeyLine&&this.indent===map.indent,atNextItem=atMapIndent&&(it.sep||it.explicitKey)&&this.type!=="seq-item-ind",start=[];if(atNextItem&&it.sep&&!it.value){let nl=[];for(let i=0;i<it.sep.length;++i){let st=it.sep[i];switch(st.type){case"newline":nl.push(i);break;case"space":break;case"comment":st.indent>map.indent&&(nl.length=0);break;default:nl.length=0}}nl.length>=2&&(start=it.sep.splice(nl[1]))}switch(this.type){case"anchor":case"tag":atNextItem||it.value?(start.push(this.sourceToken),map.items.push({start}),this.onKeyLine=!0):it.sep?it.sep.push(this.sourceToken):it.start.push(this.sourceToken);return;case"explicit-key-ind":!it.sep&&!it.explicitKey?(it.start.push(this.sourceToken),it.explicitKey=!0):atNextItem||it.value?(start.push(this.sourceToken),map.items.push({start,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(it.explicitKey)if(it.sep)if(it.value)map.items.push({start:[],key:null,sep:[this.sourceToken]});else if(includesToken(it.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start,key:null,sep:[this.sourceToken]}]});else if(isFlowToken(it.key)&&!includesToken(it.sep,"newline")){let start2=getFirstKeyStartProps(it.start),key=it.key,sep=it.sep;sep.push(this.sourceToken),delete it.key,delete it.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:start2,key,sep}]})}else start.length>0?it.sep=it.sep.concat(start,this.sourceToken):it.sep.push(this.sourceToken);else if(includesToken(it.start,"newline"))Object.assign(it,{key:null,sep:[this.sourceToken]});else{let start2=getFirstKeyStartProps(it.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:start2,key:null,sep:[this.sourceToken]}]})}else it.sep?it.value||atNextItem?map.items.push({start,key:null,sep:[this.sourceToken]}):includesToken(it.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):it.sep.push(this.sourceToken):Object.assign(it,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let fs3=this.flowScalar(this.type);atNextItem||it.value?(map.items.push({start,key:fs3,sep:[]}),this.onKeyLine=!0):it.sep?this.stack.push(fs3):(Object.assign(it,{key:fs3,sep:[]}),this.onKeyLine=!0);return}default:{let bv=this.startBlockValue(map);if(bv){if(bv.type==="block-seq"){if(!it.explicitKey&&it.sep&&!includesToken(it.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else atMapIndent&&map.items.push({start});this.stack.push(bv);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(seq){let it=seq.items[seq.items.length-1];switch(this.type){case"newline":if(it.value){let end="end"in it.value?it.value.end:void 0;(Array.isArray(end)?end[end.length-1]:void 0)?.type==="comment"?end?.push(this.sourceToken):seq.items.push({start:[this.sourceToken]})}else it.start.push(this.sourceToken);return;case"space":case"comment":if(it.value)seq.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(it.start,seq.indent)){let end=seq.items[seq.items.length-2]?.value?.end;if(Array.isArray(end)){Array.prototype.push.apply(end,it.start),end.push(this.sourceToken),seq.items.pop();return}}it.start.push(this.sourceToken)}return;case"anchor":case"tag":if(it.value||this.indent<=seq.indent)break;it.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==seq.indent)break;it.value||includesToken(it.start,"seq-item-ind")?seq.items.push({start:[this.sourceToken]}):it.start.push(this.sourceToken);return}if(this.indent>seq.indent){let bv=this.startBlockValue(seq);if(bv){this.stack.push(bv);return}}yield*this.pop(),yield*this.step()}*flowCollection(fc){let it=fc.items[fc.items.length-1];if(this.type==="flow-error-end"){let top;do yield*this.pop(),top=this.peek(1);while(top?.type==="flow-collection")}else if(fc.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!it||it.sep?fc.items.push({start:[this.sourceToken]}):it.start.push(this.sourceToken);return;case"map-value-ind":!it||it.value?fc.items.push({start:[],key:null,sep:[this.sourceToken]}):it.sep?it.sep.push(this.sourceToken):Object.assign(it,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!it||it.value?fc.items.push({start:[this.sourceToken]}):it.sep?it.sep.push(this.sourceToken):it.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let fs3=this.flowScalar(this.type);!it||it.value?fc.items.push({start:[],key:fs3,sep:[]}):it.sep?this.stack.push(fs3):Object.assign(it,{key:fs3,sep:[]});return}case"flow-map-end":case"flow-seq-end":fc.end.push(this.sourceToken);return}let bv=this.startBlockValue(fc);bv?this.stack.push(bv):(yield*this.pop(),yield*this.step())}else{let parent=this.peek(2);if(parent.type==="block-map"&&(this.type==="map-value-ind"&&parent.indent===fc.indent||this.type==="newline"&&!parent.items[parent.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&parent.type!=="flow-collection"){let prev=getPrevProps(parent),start=getFirstKeyStartProps(prev);fixFlowSeqItems(fc);let sep=fc.end.splice(1,fc.end.length);sep.push(this.sourceToken);let map={type:"block-map",offset:fc.offset,indent:fc.indent,items:[{start,key:fc,sep}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=map}else yield*this.lineEnd(fc)}}flowScalar(type){if(this.onNewLine){let nl=this.source.indexOf(`
`)+1;for(;nl!==0;)this.onNewLine(this.offset+nl),nl=this.source.indexOf(`
`,nl)+1}return{type,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(parent){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let prev=getPrevProps(parent),start=getFirstKeyStartProps(prev);return start.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let prev=getPrevProps(parent),start=getFirstKeyStartProps(prev);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(start,indent){return this.type!=="comment"||this.indent<=indent?!1:start.every(st=>st.type==="newline"||st.type==="space")}*documentEnd(docEnd){this.type!=="doc-mode"&&(docEnd.end?docEnd.end.push(this.sourceToken):docEnd.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(token){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:token.end?token.end.push(this.sourceToken):token.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};exports2.Parser=Parser}});var require_public_api=__commonJS({"../../../../node_modules/yaml/dist/public-api.js"(exports2){"use strict";var composer=require_composer(),Document=require_Document(),errors=require_errors8(),log=require_log(),identity=require_identity(),lineCounter=require_line_counter(),parser=require_parser();function parseOptions(options2){let prettyErrors=options2.prettyErrors!==!1;return{lineCounter:options2.lineCounter||prettyErrors&&new lineCounter.LineCounter||null,prettyErrors}}function parseAllDocuments(source,options2={}){let{lineCounter:lineCounter2,prettyErrors}=parseOptions(options2),parser$1=new parser.Parser(lineCounter2?.addNewLine),composer$1=new composer.Composer(options2),docs=Array.from(composer$1.compose(parser$1.parse(source)));if(prettyErrors&&lineCounter2)for(let doc of docs)doc.errors.forEach(errors.prettifyError(source,lineCounter2)),doc.warnings.forEach(errors.prettifyError(source,lineCounter2));return docs.length>0?docs:Object.assign([],{empty:!0},composer$1.streamInfo())}function parseDocument(source,options2={}){let{lineCounter:lineCounter2,prettyErrors}=parseOptions(options2),parser$1=new parser.Parser(lineCounter2?.addNewLine),composer$1=new composer.Composer(options2),doc=null;for(let _doc of composer$1.compose(parser$1.parse(source),!0,source.length))if(!doc)doc=_doc;else if(doc.options.logLevel!=="silent"){doc.errors.push(new errors.YAMLParseError(_doc.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return prettyErrors&&lineCounter2&&(doc.errors.forEach(errors.prettifyError(source,lineCounter2)),doc.warnings.forEach(errors.prettifyError(source,lineCounter2))),doc}function parse2(src,reviver,options2){let _reviver;typeof reviver=="function"?_reviver=reviver:options2===void 0&&reviver&&typeof reviver=="object"&&(options2=reviver);let doc=parseDocument(src,options2);if(!doc)return null;if(doc.warnings.forEach(warning=>log.warn(doc.options.logLevel,warning)),doc.errors.length>0){if(doc.options.logLevel!=="silent")throw doc.errors[0];doc.errors=[]}return doc.toJS(Object.assign({reviver:_reviver},options2))}function stringify2(value,replacer,options2){let _replacer=null;if(typeof replacer=="function"||Array.isArray(replacer)?_replacer=replacer:options2===void 0&&replacer&&(options2=replacer),typeof options2=="string"&&(options2=options2.length),typeof options2=="number"){let indent=Math.round(options2);options2=indent<1?void 0:indent>8?{indent:8}:{indent}}if(value===void 0){let{keepUndefined}=options2??replacer??{};if(!keepUndefined)return}return identity.isDocument(value)&&!_replacer?value.toString(options2):new Document.Document(value,_replacer,options2).toString(options2)}exports2.parse=parse2;exports2.parseAllDocuments=parseAllDocuments;exports2.parseDocument=parseDocument;exports2.stringify=stringify2}});var require_dist6=__commonJS({"../../../../node_modules/yaml/dist/index.js"(exports2){"use strict";var composer=require_composer(),Document=require_Document(),Schema=require_Schema(),errors=require_errors8(),Alias=require_Alias(),identity=require_identity(),Pair=require_Pair(),Scalar=require_Scalar(),YAMLMap=require_YAMLMap(),YAMLSeq=require_YAMLSeq(),cst=require_cst(),lexer=require_lexer(),lineCounter=require_line_counter(),parser=require_parser(),publicApi=require_public_api(),visit=require_visit();exports2.Composer=composer.Composer;exports2.Document=Document.Document;exports2.Schema=Schema.Schema;exports2.YAMLError=errors.YAMLError;exports2.YAMLParseError=errors.YAMLParseError;exports2.YAMLWarning=errors.YAMLWarning;exports2.Alias=Alias.Alias;exports2.isAlias=identity.isAlias;exports2.isCollection=identity.isCollection;exports2.isDocument=identity.isDocument;exports2.isMap=identity.isMap;exports2.isNode=identity.isNode;exports2.isPair=identity.isPair;exports2.isScalar=identity.isScalar;exports2.isSeq=identity.isSeq;exports2.Pair=Pair.Pair;exports2.Scalar=Scalar.Scalar;exports2.YAMLMap=YAMLMap.YAMLMap;exports2.YAMLSeq=YAMLSeq.YAMLSeq;exports2.CST=cst;exports2.Lexer=lexer.Lexer;exports2.LineCounter=lineCounter.LineCounter;exports2.Parser=parser.Parser;exports2.parse=publicApi.parse;exports2.parseAllDocuments=publicApi.parseAllDocuments;exports2.parseDocument=publicApi.parseDocument;exports2.stringify=publicApi.stringify;exports2.visit=visit.visit;exports2.visitAsync=visit.visitAsync}});var require_punycode=__commonJS({"../../../../node_modules/punycode.js/punycode.js"(exports2,module2){"use strict";var regexPunycode=/^xn--/,regexNonASCII=/[^\0-\x7F]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=35,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(type){throw new RangeError(errors[type])}function map(array,callback){let result=[],length=array.length;for(;length--;)result[length]=callback(array[length]);return result}function mapDomain(domain,callback){let parts=domain.split("@"),result="";parts.length>1&&(result=parts[0]+"@",domain=parts[1]),domain=domain.replace(regexSeparators,".");let labels=domain.split("."),encoded=map(labels,callback).join(".");return result+encoded}function ucs2decode(string){let output=[],counter=0,length=string.length;for(;counter<length;){let value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){let extra=string.charCodeAt(counter++);(extra&64512)==56320?output.push(((value&1023)<<10)+(extra&1023)+65536):(output.push(value),counter--)}else output.push(value)}return output}var ucs2encode=codePoints=>String.fromCodePoint(...codePoints),basicToDigit=function(codePoint){return codePoint>=48&&codePoint<58?26+(codePoint-48):codePoint>=65&&codePoint<91?codePoint-65:codePoint>=97&&codePoint<123?codePoint-97:36},digitToBasic=function(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5)},adapt=function(delta,numPoints,firstTime){let k=0;for(delta=firstTime?floor(delta/700):delta>>1,delta+=floor(delta/numPoints);delta>baseMinusTMin*26>>1;k+=36)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+38))},decode2=function(input){let output=[],inputLength=input.length,i=0,n=128,bias=72,basic=input.lastIndexOf("-");basic<0&&(basic=0);for(let j=0;j<basic;++j)input.charCodeAt(j)>=128&&error("not-basic"),output.push(input.charCodeAt(j));for(let index2=basic>0?basic+1:0;index2<inputLength;){let oldi=i;for(let w=1,k=36;;k+=36){index2>=inputLength&&error("invalid-input");let digit=basicToDigit(input.charCodeAt(index2++));digit>=36&&error("invalid-input"),digit>floor((2147483647-i)/w)&&error("overflow"),i+=digit*w;let t=k<=bias?1:k>=bias+26?26:k-bias;if(digit<t)break;let baseMinusT=36-t;w>floor(2147483647/baseMinusT)&&error("overflow"),w*=baseMinusT}let out=output.length+1;bias=adapt(i-oldi,out,oldi==0),floor(i/out)>2147483647-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return String.fromCodePoint(...output)},encode2=function(input){let output=[];input=ucs2decode(input);let inputLength=input.length,n=128,delta=0,bias=72;for(let currentValue of input)currentValue<128&&output.push(stringFromCharCode(currentValue));let basicLength=output.length,handledCPCount=basicLength;for(basicLength&&output.push("-");handledCPCount<inputLength;){let m=2147483647;for(let currentValue of input)currentValue>=n&&currentValue<m&&(m=currentValue);let handledCPCountPlusOne=handledCPCount+1;m-n>floor((2147483647-delta)/handledCPCountPlusOne)&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m;for(let currentValue of input)if(currentValue<n&&++delta>2147483647&&error("overflow"),currentValue===n){let q=delta;for(let k=36;;k+=36){let t=k<=bias?1:k>=bias+26?26:k-bias;if(q<t)break;let qMinusT=q-t,baseMinusT=36-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount===basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")},toUnicode=function(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode2(string.slice(4).toLowerCase()):string})},toASCII=function(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode2(string):string})},punycode2={version:"2.3.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode2,encode:encode2,toASCII,toUnicode};module2.exports=punycode2}});var require_lib12=__commonJS({"../../../../node_modules/async-lock/lib/index.js"(exports2,module2){"use strict";var AsyncLock=function(opts){if(opts=opts||{},this.Promise=opts.Promise||Promise,this.queues=Object.create(null),this.domainReentrant=opts.domainReentrant||!1,this.domainReentrant){if(typeof process>"u"||typeof process.domain>"u")throw new Error("Domain-reentrant locks require `process.domain` to exist. Please flip `opts.domainReentrant = false`, use a NodeJS version that still implements Domain, or install a browser polyfill.");this.domains=Object.create(null)}this.timeout=opts.timeout||AsyncLock.DEFAULT_TIMEOUT,this.maxOccupationTime=opts.maxOccupationTime||AsyncLock.DEFAULT_MAX_OCCUPATION_TIME,this.maxExecutionTime=opts.maxExecutionTime||AsyncLock.DEFAULT_MAX_EXECUTION_TIME,opts.maxPending===1/0||Number.isInteger(opts.maxPending)&&opts.maxPending>=0?this.maxPending=opts.maxPending:this.maxPending=AsyncLock.DEFAULT_MAX_PENDING};AsyncLock.DEFAULT_TIMEOUT=0;AsyncLock.DEFAULT_MAX_OCCUPATION_TIME=0;AsyncLock.DEFAULT_MAX_EXECUTION_TIME=0;AsyncLock.DEFAULT_MAX_PENDING=1e3;AsyncLock.prototype.acquire=function(key,fn,cb,opts){if(Array.isArray(key))return this._acquireBatch(key,fn,cb,opts);if(typeof fn!="function")throw new Error("You must pass a function to execute");var deferredResolve=null,deferredReject=null,deferred=null;typeof cb!="function"&&(opts=cb,cb=null,deferred=new this.Promise(function(resolve,reject){deferredResolve=resolve,deferredReject=reject})),opts=opts||{};var resolved=!1,timer=null,occupationTimer=null,executionTimer=null,self2=this,done=function(locked,err,ret){occupationTimer&&(clearTimeout(occupationTimer),occupationTimer=null),executionTimer&&(clearTimeout(executionTimer),executionTimer=null),locked&&(self2.queues[key]&&self2.queues[key].length===0&&delete self2.queues[key],self2.domainReentrant&&delete self2.domains[key]),resolved||(deferred?err?deferredReject(err):deferredResolve(ret):typeof cb=="function"&&cb(err,ret),resolved=!0),locked&&self2.queues[key]&&self2.queues[key].length>0&&self2.queues[key].shift()()},exec=function(locked){if(resolved)return done(locked);timer&&(clearTimeout(timer),timer=null),self2.domainReentrant&&locked&&(self2.domains[key]=process.domain);var maxExecutionTime=opts.maxExecutionTime||self2.maxExecutionTime;if(maxExecutionTime&&(executionTimer=setTimeout(function(){self2.queues[key]&&done(locked,new Error("Maximum execution time is exceeded "+key))},maxExecutionTime)),fn.length===1){var called=!1;try{fn(function(err,ret){called||(called=!0,done(locked,err,ret))})}catch(err){called||(called=!0,done(locked,err))}}else self2._promiseTry(function(){return fn()}).then(function(ret){done(locked,void 0,ret)},function(error){done(locked,error)})};self2.domainReentrant&&process.domain&&(exec=process.domain.bind(exec));var maxPending=opts.maxPending||self2.maxPending;if(!self2.queues[key])self2.queues[key]=[],exec(!0);else if(self2.domainReentrant&&process.domain&&process.domain===self2.domains[key])exec(!1);else if(self2.queues[key].length>=maxPending)done(!1,new Error("Too many pending tasks in queue "+key));else{var taskFn=function(){exec(!0)};opts.skipQueue?self2.queues[key].unshift(taskFn):self2.queues[key].push(taskFn);var timeout=opts.timeout||self2.timeout;timeout&&(timer=setTimeout(function(){timer=null,done(!1,new Error("async-lock timed out in queue "+key))},timeout))}var maxOccupationTime=opts.maxOccupationTime||self2.maxOccupationTime;if(maxOccupationTime&&(occupationTimer=setTimeout(function(){self2.queues[key]&&done(!1,new Error("Maximum occupation time is exceeded in queue "+key))},maxOccupationTime)),deferred)return deferred};AsyncLock.prototype._acquireBatch=function(keys2,fn,cb,opts){typeof cb!="function"&&(opts=cb,cb=null);var self2=this,getFn=function(key,fn2){return function(cb2){self2.acquire(key,fn2,cb2,opts)}},fnx=keys2.reduceRight(function(prev,key){return getFn(key,prev)},fn);if(typeof cb=="function")fnx(cb);else return new this.Promise(function(resolve,reject){fnx.length===1?fnx(function(err,ret){err?reject(err):resolve(ret)}):resolve(fnx())})};AsyncLock.prototype.isBusy=function(key){return key?!!this.queues[key]:Object.keys(this.queues).length>0};AsyncLock.prototype._promiseTry=function(fn){try{return this.Promise.resolve(fn())}catch(e){return this.Promise.reject(e)}};module2.exports=AsyncLock}});var require_async_lock=__commonJS({"../../../../node_modules/async-lock/index.js"(exports2,module2){"use strict";module2.exports=require_lib12()}});var require_safe_buffer=__commonJS({"../../../../node_modules/safe-buffer/index.js"(exports2,module2){var buffer=require("buffer"),Buffer2=buffer.Buffer;function copyProps(src,dst){for(var key in src)dst[key]=src[key]}Buffer2.from&&Buffer2.alloc&&Buffer2.allocUnsafe&&Buffer2.allocUnsafeSlow?module2.exports=buffer:(copyProps(buffer,exports2),exports2.Buffer=SafeBuffer);function SafeBuffer(arg,encodingOrOffset,length){return Buffer2(arg,encodingOrOffset,length)}SafeBuffer.prototype=Object.create(Buffer2.prototype);copyProps(Buffer2,SafeBuffer);SafeBuffer.from=function(arg,encodingOrOffset,length){if(typeof arg=="number")throw new TypeError("Argument must not be a number");return Buffer2(arg,encodingOrOffset,length)};SafeBuffer.alloc=function(size,fill,encoding){if(typeof size!="number")throw new TypeError("Argument must be a number");var buf=Buffer2(size);return fill!==void 0?typeof encoding=="string"?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf};SafeBuffer.allocUnsafe=function(size){if(typeof size!="number")throw new TypeError("Argument must be a number");return Buffer2(size)};SafeBuffer.allocUnsafeSlow=function(size){if(typeof size!="number")throw new TypeError("Argument must be a number");return buffer.SlowBuffer(size)}}});var require_isarray=__commonJS({"../../../../node_modules/isarray/index.js"(exports2,module2){var toString2={}.toString;module2.exports=Array.isArray||function(arr){return toString2.call(arr)=="[object Array]"}}});var require_call_bound=__commonJS({"../../../../node_modules/call-bound/index.js"(exports2,module2){"use strict";var GetIntrinsic=require_get_intrinsic(),callBindBasic=require_call_bind_apply_helpers(),$indexOf=callBindBasic([GetIntrinsic("%String.prototype.indexOf%")]);module2.exports=function(name,allowMissing){var intrinsic=GetIntrinsic(name,!!allowMissing);return typeof intrinsic=="function"&&$indexOf(name,".prototype.")>-1?callBindBasic([intrinsic]):intrinsic}}});var require_is_callable=__commonJS({"../../../../node_modules/is-callable/index.js"(exports2,module2){"use strict";var fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(_){_!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function(value){try{var fnStr=fnToStr.call(value);return constructorRegex.test(fnStr)}catch{return!1}},tryFunctionObject=function(value){try{return isES6ClassFn(value)?!1:(fnToStr.call(value),!0)}catch{return!1}},toStr=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function(){return!1};typeof document=="object"&&(all=document.all,toStr.call(all)===toStr.call(document.all)&&(isDDA=function(value){if((isIE68||!value)&&(typeof value>"u"||typeof value=="object"))try{var str=toStr.call(value);return(str===ddaClass||str===ddaClass2||str===ddaClass3||str===objectClass)&&value("")==null}catch{}return!1}));var all;module2.exports=reflectApply?function(value){if(isDDA(value))return!0;if(!value||typeof value!="function"&&typeof value!="object")return!1;try{reflectApply(value,null,badArrayLike)}catch(e){if(e!==isCallableMarker)return!1}return!isES6ClassFn(value)&&tryFunctionObject(value)}:function(value){if(isDDA(value))return!0;if(!value||typeof value!="function"&&typeof value!="object")return!1;if(hasToStringTag)return tryFunctionObject(value);if(isES6ClassFn(value))return!1;var strClass=toStr.call(value);return strClass!==fnClass&&strClass!==genClass&&!/^\[object HTML/.test(strClass)?!1:tryFunctionObject(value)}}});var require_for_each=__commonJS({"../../../../node_modules/for-each/index.js"(exports2,module2){"use strict";var isCallable=require_is_callable(),toStr=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,forEachArray=function(array,iterator,receiver){for(var i=0,len=array.length;i<len;i++)hasOwnProperty.call(array,i)&&(receiver==null?iterator(array[i],i,array):iterator.call(receiver,array[i],i,array))},forEachString=function(string,iterator,receiver){for(var i=0,len=string.length;i<len;i++)receiver==null?iterator(string.charAt(i),i,string):iterator.call(receiver,string.charAt(i),i,string)},forEachObject=function(object,iterator,receiver){for(var k in object)hasOwnProperty.call(object,k)&&(receiver==null?iterator(object[k],k,object):iterator.call(receiver,object[k],k,object))};function isArray(x){return toStr.call(x)==="[object Array]"}module2.exports=function(list2,iterator,thisArg){if(!isCallable(iterator))throw new TypeError("iterator must be a function");var receiver;arguments.length>=3&&(receiver=thisArg),isArray(list2)?forEachArray(list2,iterator,receiver):typeof list2=="string"?forEachString(list2,iterator,receiver):forEachObject(list2,iterator,receiver)}}});var require_possible_typed_array_names=__commonJS({"../../../../node_modules/possible-typed-array-names/index.js"(exports2,module2){"use strict";module2.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]}});var require_available_typed_arrays=__commonJS({"../../../../node_modules/available-typed-arrays/index.js"(exports2,module2){"use strict";var possibleNames=require_possible_typed_array_names(),g=typeof globalThis>"u"?global:globalThis;module2.exports=function(){for(var out=[],i=0;i<possibleNames.length;i++)typeof g[possibleNames[i]]=="function"&&(out[out.length]=possibleNames[i]);return out}}});var require_define_data_property=__commonJS({"../../../../node_modules/define-data-property/index.js"(exports2,module2){"use strict";var $defineProperty=require_es_define_property(),$SyntaxError=require_syntax(),$TypeError=require_type2(),gopd=require_gopd();module2.exports=function(obj,property,value){if(!obj||typeof obj!="object"&&typeof obj!="function")throw new $TypeError("`obj` must be an object or a function`");if(typeof property!="string"&&typeof property!="symbol")throw new $TypeError("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError("`loose`, if provided, must be a boolean");var nonEnumerable=arguments.length>3?arguments[3]:null,nonWritable=arguments.length>4?arguments[4]:null,nonConfigurable=arguments.length>5?arguments[5]:null,loose=arguments.length>6?arguments[6]:!1,desc=!!gopd&&gopd(obj,property);if($defineProperty)$defineProperty(obj,property,{configurable:nonConfigurable===null&&desc?desc.configurable:!nonConfigurable,enumerable:nonEnumerable===null&&desc?desc.enumerable:!nonEnumerable,value,writable:nonWritable===null&&desc?desc.writable:!nonWritable});else if(loose||!nonEnumerable&&!nonWritable&&!nonConfigurable)obj[property]=value;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}}});var require_has_property_descriptors=__commonJS({"../../../../node_modules/has-property-descriptors/index.js"(exports2,module2){"use strict";var $defineProperty=require_es_define_property(),hasPropertyDescriptors=function(){return!!$defineProperty};hasPropertyDescriptors.hasArrayLengthDefineBug=function(){if(!$defineProperty)return null;try{return $defineProperty([],"length",{value:1}).length!==1}catch{return!0}};module2.exports=hasPropertyDescriptors}});var require_set_function_length=__commonJS({"../../../../node_modules/set-function-length/index.js"(exports2,module2){"use strict";var GetIntrinsic=require_get_intrinsic(),define2=require_define_data_property(),hasDescriptors=require_has_property_descriptors()(),gOPD=require_gopd(),$TypeError=require_type2(),$floor=GetIntrinsic("%Math.floor%");module2.exports=function(fn,length){if(typeof fn!="function")throw new $TypeError("`fn` is not a function");if(typeof length!="number"||length<0||length>4294967295||$floor(length)!==length)throw new $TypeError("`length` must be a positive 32-bit integer");var loose=arguments.length>2&&!!arguments[2],functionLengthIsConfigurable=!0,functionLengthIsWritable=!0;if("length"in fn&&gOPD){var desc=gOPD(fn,"length");desc&&!desc.configurable&&(functionLengthIsConfigurable=!1),desc&&!desc.writable&&(functionLengthIsWritable=!1)}return(functionLengthIsConfigurable||functionLengthIsWritable||!loose)&&(hasDescriptors?define2(fn,"length",length,!0,!0):define2(fn,"length",length)),fn}}});var require_applyBind=__commonJS({"../../../../node_modules/call-bind-apply-helpers/applyBind.js"(exports2,module2){"use strict";var bind=require_function_bind(),$apply=require_functionApply(),actualApply=require_actualApply();module2.exports=function(){return actualApply(bind,$apply,arguments)}}});var require_call_bind=__commonJS({"../../../../node_modules/call-bind/index.js"(exports2,module2){"use strict";var setFunctionLength=require_set_function_length(),$defineProperty=require_es_define_property(),callBindBasic=require_call_bind_apply_helpers(),applyBind=require_applyBind();module2.exports=function(originalFunction){var func=callBindBasic(arguments),adjustedLength=originalFunction.length-(arguments.length-1);return setFunctionLength(func,1+(adjustedLength>0?adjustedLength:0),!0)};$defineProperty?$defineProperty(module2.exports,"apply",{value:applyBind}):module2.exports.apply=applyBind}});var require_which_typed_array=__commonJS({"../../../../node_modules/which-typed-array/index.js"(exports2,module2){"use strict";var forEach=require_for_each(),availableTypedArrays=require_available_typed_arrays(),callBind=require_call_bind(),callBound=require_call_bound(),gOPD=require_gopd(),getProto=require_get_proto(),$toString=callBound("Object.prototype.toString"),hasToStringTag=require_shams2()(),g=typeof globalThis>"u"?global:globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),$indexOf=callBound("Array.prototype.indexOf",!0)||function(array,value){for(var i=0;i<array.length;i+=1)if(array[i]===value)return i;return-1},cache={__proto__:null};hasToStringTag&&gOPD&&getProto?forEach(typedArrays,function(typedArray){var arr=new g[typedArray];if(Symbol.toStringTag in arr&&getProto){var proto=getProto(arr),descriptor=gOPD(proto,Symbol.toStringTag);if(!descriptor&&proto){var superProto=getProto(proto);descriptor=gOPD(superProto,Symbol.toStringTag)}cache["$"+typedArray]=callBind(descriptor.get)}}):forEach(typedArrays,function(typedArray){var arr=new g[typedArray],fn=arr.slice||arr.set;fn&&(cache["$"+typedArray]=callBind(fn))});var tryTypedArrays=function(value){var found=!1;return forEach(cache,function(getter,typedArray){if(!found)try{"$"+getter(value)===typedArray&&(found=$slice(typedArray,1))}catch{}}),found},trySlices=function(value){var found=!1;return forEach(cache,function(getter,name){if(!found)try{getter(value),found=$slice(name,1)}catch{}}),found};module2.exports=function(value){if(!value||typeof value!="object")return!1;if(!hasToStringTag){var tag=$slice($toString(value),8,-1);return $indexOf(typedArrays,tag)>-1?tag:tag!=="Object"?!1:trySlices(value)}return gOPD?tryTypedArrays(value):null}}});var require_is_typed_array=__commonJS({"../../../../node_modules/is-typed-array/index.js"(exports2,module2){"use strict";var whichTypedArray=require_which_typed_array();module2.exports=function(value){return!!whichTypedArray(value)}}});var require_typed_array_buffer=__commonJS({"../../../../node_modules/typed-array-buffer/index.js"(exports2,module2){"use strict";var $TypeError=require_type2(),callBound=require_call_bound(),$typedArrayBuffer=callBound("TypedArray.prototype.buffer",!0),isTypedArray3=require_is_typed_array();module2.exports=$typedArrayBuffer||function(x){if(!isTypedArray3(x))throw new $TypeError("Not a Typed Array");return x.buffer}}});var require_to_buffer=__commonJS({"../../../../node_modules/to-buffer/index.js"(exports2,module2){"use strict";var Buffer2=require_safe_buffer().Buffer,isArray=require_isarray(),typedArrayBuffer=require_typed_array_buffer(),isView=ArrayBuffer.isView||function(obj){try{return typedArrayBuffer(obj),!0}catch{return!1}},useUint8Array=typeof Uint8Array<"u",useArrayBuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",useFromArrayBuffer=useArrayBuffer&&(Buffer2.prototype instanceof Uint8Array||Buffer2.TYPED_ARRAY_SUPPORT);module2.exports=function(data,encoding){if(Buffer2.isBuffer(data))return data.constructor&&!("isBuffer"in data)?Buffer2.from(data):data;if(typeof data=="string")return Buffer2.from(data,encoding);if(useArrayBuffer&&isView(data)){if(data.byteLength===0)return Buffer2.alloc(0);if(useFromArrayBuffer){var res=Buffer2.from(data.buffer,data.byteOffset,data.byteLength);if(res.byteLength===data.byteLength)return res}var uint8=data instanceof Uint8Array?data:new Uint8Array(data.buffer,data.byteOffset,data.byteLength),result=Buffer2.from(uint8);if(result.length===data.byteLength)return result}if(useUint8Array&&data instanceof Uint8Array)return Buffer2.from(data);var isArr=isArray(data);if(isArr)for(var i=0;i<data.length;i+=1){var x=data[i];if(typeof x!="number"||x<0||x>255||~~x!==x)throw new RangeError("Array items must be numbers in the range 0-255.")}if(isArr||Buffer2.isBuffer(data)&&data.constructor&&typeof data.constructor.isBuffer=="function"&&data.constructor.isBuffer(data))return Buffer2.from(data);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')}}});var require_hash=__commonJS({"../../../../node_modules/sha.js/hash.js"(exports2,module2){"use strict";var Buffer2=require_safe_buffer().Buffer,toBuffer=require_to_buffer();function Hash(blockSize,finalSize){this._block=Buffer2.alloc(blockSize),this._finalSize=finalSize,this._blockSize=blockSize,this._len=0}Hash.prototype.update=function(data,enc){data=toBuffer(data,enc||"utf8");for(var block2=this._block,blockSize=this._blockSize,length=data.length,accum=this._len,offset=0;offset<length;){for(var assigned=accum%blockSize,remainder=Math.min(length-offset,blockSize-assigned),i=0;i<remainder;i++)block2[assigned+i]=data[offset+i];accum+=remainder,offset+=remainder,accum%blockSize===0&&this._update(block2)}return this._len+=length,this};Hash.prototype.digest=function(enc){var rem=this._len%this._blockSize;this._block[rem]=128,this._block.fill(0,rem+1),rem>=this._finalSize&&(this._update(this._block),this._block.fill(0));var bits=this._len*8;if(bits<=4294967295)this._block.writeUInt32BE(bits,this._blockSize-4);else{var lowBits=(bits&4294967295)>>>0,highBits=(bits-lowBits)/4294967296;this._block.writeUInt32BE(highBits,this._blockSize-8),this._block.writeUInt32BE(lowBits,this._blockSize-4)}this._update(this._block);var hash=this._hash();return enc?hash.toString(enc):hash};Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")};module2.exports=Hash}});var require_sha1=__commonJS({"../../../../node_modules/sha.js/sha1.js"(exports2,module2){"use strict";var inherits=require_inherits(),Hash=require_hash(),Buffer2=require_safe_buffer().Buffer,K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);function Sha1(){this.init(),this._w=W,Hash.call(this,64,56)}inherits(Sha1,Hash);Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl1(num){return num<<1|num>>>31}function rotl5(num){return num<<5|num>>>27}function rotl30(num){return num<<30|num>>>2}function ft(s,b,c,d){return s===0?b&c|~b&d:s===2?b&c|b&d|c&d:b^c^d}Sha1.prototype._update=function(M){for(var w=this._w,a=this._a|0,b=this._b|0,c=this._c|0,d=this._d|0,e=this._e|0,i=0;i<16;++i)w[i]=M.readInt32BE(i*4);for(;i<80;++i)w[i]=rotl1(w[i-3]^w[i-8]^w[i-14]^w[i-16]);for(var j=0;j<80;++j){var s=~~(j/20),t=rotl5(a)+ft(s,b,c,d)+e+w[j]+K[s]|0;e=d,d=c,c=rotl30(b),b=a,a=t}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0};Sha1.prototype._hash=function(){var H=Buffer2.allocUnsafe(20);return H.writeInt32BE(this._a|0,0),H.writeInt32BE(this._b|0,4),H.writeInt32BE(this._c|0,8),H.writeInt32BE(this._d|0,12),H.writeInt32BE(this._e|0,16),H};module2.exports=Sha1}});var require_crc32=__commonJS({"../../../../node_modules/crc-32/crc32.js"(exports2){var CRC32;(function(factory){typeof DO_NOT_EXPORT_CRC>"u"?typeof exports2=="object"?factory(exports2):typeof define=="function"&&define.amd?define(function(){var module3={};return factory(module3),module3}):factory(CRC32={}):factory(CRC32={})})(function(CRC322){CRC322.version="1.2.2";function signed_crc_table(){for(var c=0,table2=new Array(256),n=0;n!=256;++n)c=n,c=c&1?-306674912^c>>>1:c>>>1,c=c&1?-306674912^c>>>1:c>>>1,c=c&1?-306674912^c>>>1:c>>>1,c=c&1?-306674912^c>>>1:c>>>1,c=c&1?-306674912^c>>>1:c>>>1,c=c&1?-306674912^c>>>1:c>>>1,c=c&1?-306674912^c>>>1:c>>>1,c=c&1?-306674912^c>>>1:c>>>1,table2[n]=c;return typeof Int32Array<"u"?new Int32Array(table2):table2}var T0=signed_crc_table();function slice_by_16_tables(T){var c=0,v=0,n=0,table2=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(n=0;n!=256;++n)table2[n]=T[n];for(n=0;n!=256;++n)for(v=T[n],c=256+n;c<4096;c+=256)v=table2[c]=v>>>8^T[v&255];var out=[];for(n=1;n!=16;++n)out[n-1]=typeof Int32Array<"u"?table2.subarray(n*256,n*256+256):table2.slice(n*256,n*256+256);return out}var TT=slice_by_16_tables(T0),T1=TT[0],T2=TT[1],T3=TT[2],T4=TT[3],T5=TT[4],T6=TT[5],T7=TT[6],T8=TT[7],T9=TT[8],Ta=TT[9],Tb=TT[10],Tc=TT[11],Td=TT[12],Te=TT[13],Tf=TT[14];function crc32_bstr(bstr,seed){for(var C=seed^-1,i=0,L=bstr.length;i<L;)C=C>>>8^T0[(C^bstr.charCodeAt(i++))&255];return~C}function crc32_buf(B,seed){for(var C=seed^-1,L=B.length-15,i=0;i<L;)C=Tf[B[i++]^C&255]^Te[B[i++]^C>>8&255]^Td[B[i++]^C>>16&255]^Tc[B[i++]^C>>>24]^Tb[B[i++]]^Ta[B[i++]]^T9[B[i++]]^T8[B[i++]]^T7[B[i++]]^T6[B[i++]]^T5[B[i++]]^T4[B[i++]]^T3[B[i++]]^T2[B[i++]]^T1[B[i++]]^T0[B[i++]];for(L+=15;i<L;)C=C>>>8^T0[(C^B[i++])&255];return~C}function crc32_str(str,seed){for(var C=seed^-1,i=0,L=str.length,c=0,d=0;i<L;)c=str.charCodeAt(i++),c<128?C=C>>>8^T0[(C^c)&255]:c<2048?(C=C>>>8^T0[(C^(192|c>>6&31))&255],C=C>>>8^T0[(C^(128|c&63))&255]):c>=55296&&c<57344?(c=(c&1023)+64,d=str.charCodeAt(i++)&1023,C=C>>>8^T0[(C^(240|c>>8&7))&255],C=C>>>8^T0[(C^(128|c>>2&63))&255],C=C>>>8^T0[(C^(128|d>>6&15|(c&3)<<4))&255],C=C>>>8^T0[(C^(128|d&63))&255]):(C=C>>>8^T0[(C^(224|c>>12&15))&255],C=C>>>8^T0[(C^(128|c>>6&63))&255],C=C>>>8^T0[(C^(128|c&63))&255]);return~C}CRC322.table=T0,CRC322.bstr=crc32_bstr,CRC322.buf=crc32_buf,CRC322.str=crc32_str})}});var require_common2=__commonJS({"../../../../node_modules/pako/lib/utils/common.js"(exports2){"use strict";var TYPED_OK=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function _has(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)}exports2.assign=function(obj){for(var sources=Array.prototype.slice.call(arguments,1);sources.length;){var source=sources.shift();if(source){if(typeof source!="object")throw new TypeError(source+"must be non-object");for(var p in source)_has(source,p)&&(obj[p]=source[p])}}return obj};exports2.shrinkBuf=function(buf,size){return buf.length===size?buf:buf.subarray?buf.subarray(0,size):(buf.length=size,buf)};var fnTyped={arraySet:function(dest,src,src_offs,len,dest_offs){if(src.subarray&&dest.subarray){dest.set(src.subarray(src_offs,src_offs+len),dest_offs);return}for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){var i,l,len,pos,chunk,result;for(len=0,i=0,l=chunks.length;i<l;i++)len+=chunks[i].length;for(result=new Uint8Array(len),pos=0,i=0,l=chunks.length;i<l;i++)chunk=chunks[i],result.set(chunk,pos),pos+=chunk.length;return result}},fnUntyped={arraySet:function(dest,src,src_offs,len,dest_offs){for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){return[].concat.apply([],chunks)}};exports2.setTyped=function(on){on?(exports2.Buf8=Uint8Array,exports2.Buf16=Uint16Array,exports2.Buf32=Int32Array,exports2.assign(exports2,fnTyped)):(exports2.Buf8=Array,exports2.Buf16=Array,exports2.Buf32=Array,exports2.assign(exports2,fnUntyped))};exports2.setTyped(TYPED_OK)}});var require_trees=__commonJS({"../../../../node_modules/pako/lib/zlib/trees.js"(exports2){"use strict";var utils=require_common2(),Z_FIXED=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN=2;function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH=3,MAX_MATCH=258,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array((L_CODES+2)*2);zero(static_ltree);var static_dtree=new Array(D_CODES*2);zero(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero(_dist_code);var _length_code=new Array(MAX_MATCH-MIN_MATCH+1);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var base_dist=new Array(D_CODES);zero(base_dist);function StaticTreeDesc(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree,this.extra_bits=extra_bits,this.extra_base=extra_base,this.elems=elems,this.max_length=max_length,this.has_stree=static_tree&&static_tree.length}var static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(dyn_tree,stat_desc){this.dyn_tree=dyn_tree,this.max_code=0,this.stat_desc=stat_desc}function d_code(dist){return dist<256?_dist_code[dist]:_dist_code[256+(dist>>>7)]}function put_short(s,w){s.pending_buf[s.pending++]=w&255,s.pending_buf[s.pending++]=w>>>8&255}function send_bits(s,value,length){s.bi_valid>Buf_size-length?(s.bi_buf|=value<<s.bi_valid&65535,put_short(s,s.bi_buf),s.bi_buf=value>>Buf_size-s.bi_valid,s.bi_valid+=length-Buf_size):(s.bi_buf|=value<<s.bi_valid&65535,s.bi_valid+=length)}function send_code(s,c,tree){send_bits(s,tree[c*2],tree[c*2+1])}function bi_reverse(code2,len){var res=0;do res|=code2&1,code2>>>=1,res<<=1;while(--len>0);return res>>>1}function bi_flush(s){s.bi_valid===16?(put_short(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):s.bi_valid>=8&&(s.pending_buf[s.pending++]=s.bi_buf&255,s.bi_buf>>=8,s.bi_valid-=8)}function gen_bitlen(s,desc){var tree=desc.dyn_tree,max_code=desc.max_code,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,extra=desc.stat_desc.extra_bits,base=desc.stat_desc.extra_base,max_length=desc.stat_desc.max_length,h,n,m,bits,xbits,f,overflow=0;for(bits=0;bits<=MAX_BITS;bits++)s.bl_count[bits]=0;for(tree[s.heap[s.heap_max]*2+1]=0,h=s.heap_max+1;h<HEAP_SIZE;h++)n=s.heap[h],bits=tree[tree[n*2+1]*2+1]+1,bits>max_length&&(bits=max_length,overflow++),tree[n*2+1]=bits,!(n>max_code)&&(s.bl_count[bits]++,xbits=0,n>=base&&(xbits=extra[n-base]),f=tree[n*2],s.opt_len+=f*(bits+xbits),has_stree&&(s.static_len+=f*(stree[n*2+1]+xbits)));if(overflow!==0){do{for(bits=max_length-1;s.bl_count[bits]===0;)bits--;s.bl_count[bits]--,s.bl_count[bits+1]+=2,s.bl_count[max_length]--,overflow-=2}while(overflow>0);for(bits=max_length;bits!==0;bits--)for(n=s.bl_count[bits];n!==0;)m=s.heap[--h],!(m>max_code)&&(tree[m*2+1]!==bits&&(s.opt_len+=(bits-tree[m*2+1])*tree[m*2],tree[m*2+1]=bits),n--)}}function gen_codes(tree,max_code,bl_count){var next_code=new Array(MAX_BITS+1),code2=0,bits,n;for(bits=1;bits<=MAX_BITS;bits++)next_code[bits]=code2=code2+bl_count[bits-1]<<1;for(n=0;n<=max_code;n++){var len=tree[n*2+1];len!==0&&(tree[n*2]=bi_reverse(next_code[len]++,len))}}function tr_static_init(){var n,bits,length,code2,dist,bl_count=new Array(MAX_BITS+1);for(length=0,code2=0;code2<LENGTH_CODES-1;code2++)for(base_length[code2]=length,n=0;n<1<<extra_lbits[code2];n++)_length_code[length++]=code2;for(_length_code[length-1]=code2,dist=0,code2=0;code2<16;code2++)for(base_dist[code2]=dist,n=0;n<1<<extra_dbits[code2];n++)_dist_code[dist++]=code2;for(dist>>=7;code2<D_CODES;code2++)for(base_dist[code2]=dist<<7,n=0;n<1<<extra_dbits[code2]-7;n++)_dist_code[256+dist++]=code2;for(bits=0;bits<=MAX_BITS;bits++)bl_count[bits]=0;for(n=0;n<=143;)static_ltree[n*2+1]=8,n++,bl_count[8]++;for(;n<=255;)static_ltree[n*2+1]=9,n++,bl_count[9]++;for(;n<=279;)static_ltree[n*2+1]=7,n++,bl_count[7]++;for(;n<=287;)static_ltree[n*2+1]=8,n++,bl_count[8]++;for(gen_codes(static_ltree,L_CODES+1,bl_count),n=0;n<D_CODES;n++)static_dtree[n*2+1]=5,static_dtree[n*2]=bi_reverse(n,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}function init_block(s){var n;for(n=0;n<L_CODES;n++)s.dyn_ltree[n*2]=0;for(n=0;n<D_CODES;n++)s.dyn_dtree[n*2]=0;for(n=0;n<BL_CODES;n++)s.bl_tree[n*2]=0;s.dyn_ltree[END_BLOCK*2]=1,s.opt_len=s.static_len=0,s.last_lit=s.matches=0}function bi_windup(s){s.bi_valid>8?put_short(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0}function copy_block(s,buf,len,header){bi_windup(s),header&&(put_short(s,len),put_short(s,~len)),utils.arraySet(s.pending_buf,s.window,buf,len,s.pending),s.pending+=len}function smaller(tree,n,m,depth){var _n2=n*2,_m2=m*2;return tree[_n2]<tree[_m2]||tree[_n2]===tree[_m2]&&depth[n]<=depth[m]}function pqdownheap(s,tree,k){for(var v=s.heap[k],j=k<<1;j<=s.heap_len&&(j<s.heap_len&&smaller(tree,s.heap[j+1],s.heap[j],s.depth)&&j++,!smaller(tree,v,s.heap[j],s.depth));)s.heap[k]=s.heap[j],k=j,j<<=1;s.heap[k]=v}function compress_block(s,ltree,dtree){var dist,lc,lx=0,code2,extra;if(s.last_lit!==0)do dist=s.pending_buf[s.d_buf+lx*2]<<8|s.pending_buf[s.d_buf+lx*2+1],lc=s.pending_buf[s.l_buf+lx],lx++,dist===0?send_code(s,lc,ltree):(code2=_length_code[lc],send_code(s,code2+LITERALS+1,ltree),extra=extra_lbits[code2],extra!==0&&(lc-=base_length[code2],send_bits(s,lc,extra)),dist--,code2=d_code(dist),send_code(s,code2,dtree),extra=extra_dbits[code2],extra!==0&&(dist-=base_dist[code2],send_bits(s,dist,extra)));while(lx<s.last_lit);send_code(s,END_BLOCK,ltree)}function build_tree(s,desc){var tree=desc.dyn_tree,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,elems=desc.stat_desc.elems,n,m,max_code=-1,node;for(s.heap_len=0,s.heap_max=HEAP_SIZE,n=0;n<elems;n++)tree[n*2]!==0?(s.heap[++s.heap_len]=max_code=n,s.depth[n]=0):tree[n*2+1]=0;for(;s.heap_len<2;)node=s.heap[++s.heap_len]=max_code<2?++max_code:0,tree[node*2]=1,s.depth[node]=0,s.opt_len--,has_stree&&(s.static_len-=stree[node*2+1]);for(desc.max_code=max_code,n=s.heap_len>>1;n>=1;n--)pqdownheap(s,tree,n);node=elems;do n=s.heap[1],s.heap[1]=s.heap[s.heap_len--],pqdownheap(s,tree,1),m=s.heap[1],s.heap[--s.heap_max]=n,s.heap[--s.heap_max]=m,tree[node*2]=tree[n*2]+tree[m*2],s.depth[node]=(s.depth[n]>=s.depth[m]?s.depth[n]:s.depth[m])+1,tree[n*2+1]=tree[m*2+1]=node,s.heap[1]=node++,pqdownheap(s,tree,1);while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],gen_bitlen(s,desc),gen_codes(tree,max_code,s.bl_count)}function scan_tree(s,tree,max_code){var n,prevlen=-1,curlen,nextlen=tree[1],count=0,max_count=7,min_count=4;for(nextlen===0&&(max_count=138,min_count=3),tree[(max_code+1)*2+1]=65535,n=0;n<=max_code;n++)curlen=nextlen,nextlen=tree[(n+1)*2+1],!(++count<max_count&&curlen===nextlen)&&(count<min_count?s.bl_tree[curlen*2]+=count:curlen!==0?(curlen!==prevlen&&s.bl_tree[curlen*2]++,s.bl_tree[REP_3_6*2]++):count<=10?s.bl_tree[REPZ_3_10*2]++:s.bl_tree[REPZ_11_138*2]++,count=0,prevlen=curlen,nextlen===0?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4))}function send_tree(s,tree,max_code){var n,prevlen=-1,curlen,nextlen=tree[1],count=0,max_count=7,min_count=4;for(nextlen===0&&(max_count=138,min_count=3),n=0;n<=max_code;n++)if(curlen=nextlen,nextlen=tree[(n+1)*2+1],!(++count<max_count&&curlen===nextlen)){if(count<min_count)do send_code(s,curlen,s.bl_tree);while(--count!==0);else curlen!==0?(curlen!==prevlen&&(send_code(s,curlen,s.bl_tree),count--),send_code(s,REP_3_6,s.bl_tree),send_bits(s,count-3,2)):count<=10?(send_code(s,REPZ_3_10,s.bl_tree),send_bits(s,count-3,3)):(send_code(s,REPZ_11_138,s.bl_tree),send_bits(s,count-11,7));count=0,prevlen=curlen,nextlen===0?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4)}}function build_bl_tree(s){var max_blindex;for(scan_tree(s,s.dyn_ltree,s.l_desc.max_code),scan_tree(s,s.dyn_dtree,s.d_desc.max_code),build_tree(s,s.bl_desc),max_blindex=BL_CODES-1;max_blindex>=3&&s.bl_tree[bl_order[max_blindex]*2+1]===0;max_blindex--);return s.opt_len+=3*(max_blindex+1)+5+5+4,max_blindex}function send_all_trees(s,lcodes,dcodes,blcodes){var rank;for(send_bits(s,lcodes-257,5),send_bits(s,dcodes-1,5),send_bits(s,blcodes-4,4),rank=0;rank<blcodes;rank++)send_bits(s,s.bl_tree[bl_order[rank]*2+1],3);send_tree(s,s.dyn_ltree,lcodes-1),send_tree(s,s.dyn_dtree,dcodes-1)}function detect_data_type(s){var black_mask=4093624447,n;for(n=0;n<=31;n++,black_mask>>>=1)if(black_mask&1&&s.dyn_ltree[n*2]!==0)return Z_BINARY;if(s.dyn_ltree[18]!==0||s.dyn_ltree[20]!==0||s.dyn_ltree[26]!==0)return Z_TEXT;for(n=32;n<LITERALS;n++)if(s.dyn_ltree[n*2]!==0)return Z_TEXT;return Z_BINARY}var static_init_done=!1;function _tr_init(s){static_init_done||(tr_static_init(),static_init_done=!0),s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc),s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc),s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc),s.bi_buf=0,s.bi_valid=0,init_block(s)}function _tr_stored_block(s,buf,stored_len,last){send_bits(s,(STORED_BLOCK<<1)+(last?1:0),3),copy_block(s,buf,stored_len,!0)}function _tr_align(s){send_bits(s,STATIC_TREES<<1,3),send_code(s,END_BLOCK,static_ltree),bi_flush(s)}function _tr_flush_block(s,buf,stored_len,last){var opt_lenb,static_lenb,max_blindex=0;s.level>0?(s.strm.data_type===Z_UNKNOWN&&(s.strm.data_type=detect_data_type(s)),build_tree(s,s.l_desc),build_tree(s,s.d_desc),max_blindex=build_bl_tree(s),opt_lenb=s.opt_len+3+7>>>3,static_lenb=s.static_len+3+7>>>3,static_lenb<=opt_lenb&&(opt_lenb=static_lenb)):opt_lenb=static_lenb=stored_len+5,stored_len+4<=opt_lenb&&buf!==-1?_tr_stored_block(s,buf,stored_len,last):s.strategy===Z_FIXED||static_lenb===opt_lenb?(send_bits(s,(STATIC_TREES<<1)+(last?1:0),3),compress_block(s,static_ltree,static_dtree)):(send_bits(s,(DYN_TREES<<1)+(last?1:0),3),send_all_trees(s,s.l_desc.max_code+1,s.d_desc.max_code+1,max_blindex+1),compress_block(s,s.dyn_ltree,s.dyn_dtree)),init_block(s),last&&bi_windup(s)}function _tr_tally(s,dist,lc){return s.pending_buf[s.d_buf+s.last_lit*2]=dist>>>8&255,s.pending_buf[s.d_buf+s.last_lit*2+1]=dist&255,s.pending_buf[s.l_buf+s.last_lit]=lc&255,s.last_lit++,dist===0?s.dyn_ltree[lc*2]++:(s.matches++,dist--,s.dyn_ltree[(_length_code[lc]+LITERALS+1)*2]++,s.dyn_dtree[d_code(dist)*2]++),s.last_lit===s.lit_bufsize-1}exports2._tr_init=_tr_init;exports2._tr_stored_block=_tr_stored_block;exports2._tr_flush_block=_tr_flush_block;exports2._tr_tally=_tr_tally;exports2._tr_align=_tr_align}});var require_adler32=__commonJS({"../../../../node_modules/pako/lib/zlib/adler32.js"(exports2,module2){"use strict";function adler32(adler,buf,len,pos){for(var s1=adler&65535|0,s2=adler>>>16&65535|0,n=0;len!==0;){n=len>2e3?2e3:len,len-=n;do s1=s1+buf[pos++]|0,s2=s2+s1|0;while(--n);s1%=65521,s2%=65521}return s1|s2<<16|0}module2.exports=adler32}});var require_crc322=__commonJS({"../../../../node_modules/pako/lib/zlib/crc32.js"(exports2,module2){"use strict";function makeTable(){for(var c,table2=[],n=0;n<256;n++){c=n;for(var k=0;k<8;k++)c=c&1?3988292384^c>>>1:c>>>1;table2[n]=c}return table2}var crcTable=makeTable();function crc32(crc,buf,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[(crc^buf[i])&255];return crc^-1}module2.exports=crc32}});var require_messages=__commonJS({"../../../../node_modules/pako/lib/zlib/messages.js"(exports2,module2){"use strict";module2.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}}});var require_deflate=__commonJS({"../../../../node_modules/pako/lib/zlib/deflate.js"(exports2){"use strict";var utils=require_common2(),trees=require_trees(),adler32=require_adler32(),crc32=require_crc322(),msg=require_messages(),Z_NO_FLUSH=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH=4,Z_BLOCK=5,Z_OK=0,Z_STREAM_END=1,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_BUF_ERROR=-5,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY=0,Z_UNKNOWN=2,Z_DEFLATED=8,MAX_MEM_LEVEL=9,MAX_WBITS=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;function err(strm,errorCode){return strm.msg=msg[errorCode],errorCode}function rank(f){return(f<<1)-(f>4?9:0)}function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}function flush_pending(strm){var s=strm.state,len=s.pending;len>strm.avail_out&&(len=strm.avail_out),len!==0&&(utils.arraySet(strm.output,s.pending_buf,s.pending_out,len,strm.next_out),strm.next_out+=len,s.pending_out+=len,strm.total_out+=len,strm.avail_out-=len,s.pending-=len,s.pending===0&&(s.pending_out=0))}function flush_block_only(s,last){trees._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,last),s.block_start=s.strstart,flush_pending(s.strm)}function put_byte(s,b){s.pending_buf[s.pending++]=b}function putShortMSB(s,b){s.pending_buf[s.pending++]=b>>>8&255,s.pending_buf[s.pending++]=b&255}function read_buf(strm,buf,start,size){var len=strm.avail_in;return len>size&&(len=size),len===0?0:(strm.avail_in-=len,utils.arraySet(buf,strm.input,strm.next_in,len,start),strm.state.wrap===1?strm.adler=adler32(strm.adler,buf,len,start):strm.state.wrap===2&&(strm.adler=crc32(strm.adler,buf,len,start)),strm.next_in+=len,strm.total_in+=len,len)}function longest_match(s,cur_match){var chain_length=s.max_chain_length,scan=s.strstart,match2,len,best_len=s.prev_length,nice_match=s.nice_match,limit=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0,_win=s.window,wmask=s.w_mask,prev=s.prev,strend=s.strstart+MAX_MATCH,scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len];s.prev_length>=s.good_match&&(chain_length>>=2),nice_match>s.lookahead&&(nice_match=s.lookahead);do if(match2=cur_match,!(_win[match2+best_len]!==scan_end||_win[match2+best_len-1]!==scan_end1||_win[match2]!==_win[scan]||_win[++match2]!==_win[scan+1])){scan+=2,match2++;do;while(_win[++scan]===_win[++match2]&&_win[++scan]===_win[++match2]&&_win[++scan]===_win[++match2]&&_win[++scan]===_win[++match2]&&_win[++scan]===_win[++match2]&&_win[++scan]===_win[++match2]&&_win[++scan]===_win[++match2]&&_win[++scan]===_win[++match2]&&scan<strend);if(len=MAX_MATCH-(strend-scan),scan=strend-MAX_MATCH,len>best_len){if(s.match_start=cur_match,best_len=len,len>=nice_match)break;scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len]}}while((cur_match=prev[cur_match&wmask])>limit&&--chain_length!==0);return best_len<=s.lookahead?best_len:s.lookahead}function fill_window(s){var _w_size=s.w_size,p,n,m,more,str;do{if(more=s.window_size-s.lookahead-s.strstart,s.strstart>=_w_size+(_w_size-MIN_LOOKAHEAD)){utils.arraySet(s.window,s.window,_w_size,_w_size,0),s.match_start-=_w_size,s.strstart-=_w_size,s.block_start-=_w_size,n=s.hash_size,p=n;do m=s.head[--p],s.head[p]=m>=_w_size?m-_w_size:0;while(--n);n=_w_size,p=n;do m=s.prev[--p],s.prev[p]=m>=_w_size?m-_w_size:0;while(--n);more+=_w_size}if(s.strm.avail_in===0)break;if(n=read_buf(s.strm,s.window,s.strstart+s.lookahead,more),s.lookahead+=n,s.lookahead+s.insert>=MIN_MATCH)for(str=s.strstart-s.insert,s.ins_h=s.window[str],s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++,s.insert--,!(s.lookahead+s.insert<MIN_MATCH)););}while(s.lookahead<MIN_LOOKAHEAD&&s.strm.avail_in!==0)}function deflate_stored(s,flush){var max_block_size=65535;for(max_block_size>s.pending_buf_size-5&&(max_block_size=s.pending_buf_size-5);;){if(s.lookahead<=1){if(fill_window(s),s.lookahead===0&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(s.lookahead===0)break}s.strstart+=s.lookahead,s.lookahead=0;var max_start=s.block_start+max_block_size;if((s.strstart===0||s.strstart>=max_start)&&(s.lookahead=s.strstart-max_start,s.strstart=max_start,flush_block_only(s,!1),s.strm.avail_out===0)||s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD&&(flush_block_only(s,!1),s.strm.avail_out===0))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):(s.strstart>s.block_start&&(flush_block_only(s,!1),s.strm.avail_out===0),BS_NEED_MORE)}function deflate_fast(s,flush){for(var hash_head,bflush;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(s.lookahead===0)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),hash_head!==0&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head)),s.match_length>=MIN_MATCH)if(bflush=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart;while(--s.match_length!==0);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(bflush&&(flush_block_only(s,!1),s.strm.avail_out===0))return BS_NEED_MORE}return s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),s.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(s,flush){for(var hash_head,bflush,max_insert;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(s.lookahead===0)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=MIN_MATCH-1,hash_head!==0&&s.prev_length<s.max_lazy_match&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head),s.match_length<=5&&(s.strategy===Z_FILTERED||s.match_length===MIN_MATCH&&s.strstart-s.match_start>4096)&&(s.match_length=MIN_MATCH-1)),s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){max_insert=s.strstart+s.lookahead-MIN_MATCH,bflush=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH),s.lookahead-=s.prev_length-1,s.prev_length-=2;do++s.strstart<=max_insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart);while(--s.prev_length!==0);if(s.match_available=0,s.match_length=MIN_MATCH-1,s.strstart++,bflush&&(flush_block_only(s,!1),s.strm.avail_out===0))return BS_NEED_MORE}else if(s.match_available){if(bflush=trees._tr_tally(s,0,s.window[s.strstart-1]),bflush&&flush_block_only(s,!1),s.strstart++,s.lookahead--,s.strm.avail_out===0)return BS_NEED_MORE}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(bflush=trees._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),s.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(s,flush){for(var bflush,prev,scan,strend,_win=s.window;;){if(s.lookahead<=MAX_MATCH){if(fill_window(s),s.lookahead<=MAX_MATCH&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(s.lookahead===0)break}if(s.match_length=0,s.lookahead>=MIN_MATCH&&s.strstart>0&&(scan=s.strstart-1,prev=_win[scan],prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan])){strend=s.strstart+MAX_MATCH;do;while(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&scan<strend);s.match_length=MAX_MATCH-(strend-scan),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=MIN_MATCH?(bflush=trees._tr_tally(s,1,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),bflush&&(flush_block_only(s,!1),s.strm.avail_out===0))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),s.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(s,flush){for(var bflush;;){if(s.lookahead===0&&(fill_window(s),s.lookahead===0)){if(flush===Z_NO_FLUSH)return BS_NEED_MORE;break}if(s.match_length=0,bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,bflush&&(flush_block_only(s,!1),s.strm.avail_out===0))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),s.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),s.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length,this.max_lazy=max_lazy,this.nice_length=nice_length,this.max_chain=max_chain,this.func=func}var configuration_table;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];function lm_init(s){s.window_size=2*s.w_size,zero(s.head),s.max_lazy_match=configuration_table[s.level].max_lazy,s.good_match=configuration_table[s.level].good_length,s.nice_match=configuration_table[s.level].nice_length,s.max_chain_length=configuration_table[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,s.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils.Buf16(HEAP_SIZE*2),this.dyn_dtree=new utils.Buf16((2*D_CODES+1)*2),this.bl_tree=new utils.Buf16((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils.Buf16(MAX_BITS+1),this.heap=new utils.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(strm){var s;return!strm||!strm.state?err(strm,Z_STREAM_ERROR):(strm.total_in=strm.total_out=0,strm.data_type=Z_UNKNOWN,s=strm.state,s.pending=0,s.pending_out=0,s.wrap<0&&(s.wrap=-s.wrap),s.status=s.wrap?INIT_STATE:BUSY_STATE,strm.adler=s.wrap===2?0:1,s.last_flush=Z_NO_FLUSH,trees._tr_init(s),Z_OK)}function deflateReset(strm){var ret=deflateResetKeep(strm);return ret===Z_OK&&lm_init(strm.state),ret}function deflateSetHeader(strm,head){return!strm||!strm.state||strm.state.wrap!==2?Z_STREAM_ERROR:(strm.state.gzhead=head,Z_OK)}function deflateInit2(strm,level,method,windowBits,memLevel,strategy){if(!strm)return Z_STREAM_ERROR;var wrap=1;if(level===Z_DEFAULT_COMPRESSION&&(level=6),windowBits<0?(wrap=0,windowBits=-windowBits):windowBits>15&&(wrap=2,windowBits-=16),memLevel<1||memLevel>MAX_MEM_LEVEL||method!==Z_DEFLATED||windowBits<8||windowBits>15||level<0||level>9||strategy<0||strategy>Z_FIXED)return err(strm,Z_STREAM_ERROR);windowBits===8&&(windowBits=9);var s=new DeflateState;return strm.state=s,s.strm=strm,s.wrap=wrap,s.gzhead=null,s.w_bits=windowBits,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=memLevel+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH),s.window=new utils.Buf8(s.w_size*2),s.head=new utils.Buf16(s.hash_size),s.prev=new utils.Buf16(s.w_size),s.lit_bufsize=1<<memLevel+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new utils.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=level,s.strategy=strategy,s.method=method,deflateReset(strm)}function deflateInit(strm,level){return deflateInit2(strm,level,Z_DEFLATED,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)}function deflate(strm,flush){var old_flush,s,beg,val;if(!strm||!strm.state||flush>Z_BLOCK||flush<0)return strm?err(strm,Z_STREAM_ERROR):Z_STREAM_ERROR;if(s=strm.state,!strm.output||!strm.input&&strm.avail_in!==0||s.status===FINISH_STATE&&flush!==Z_FINISH)return err(strm,strm.avail_out===0?Z_BUF_ERROR:Z_STREAM_ERROR);if(s.strm=strm,old_flush=s.last_flush,s.last_flush=flush,s.status===INIT_STATE)if(s.wrap===2)strm.adler=0,put_byte(s,31),put_byte(s,139),put_byte(s,8),s.gzhead?(put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),put_byte(s,s.gzhead.time&255),put_byte(s,s.gzhead.time>>8&255),put_byte(s,s.gzhead.time>>16&255),put_byte(s,s.gzhead.time>>24&255),put_byte(s,s.level===9?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,s.gzhead.os&255),s.gzhead.extra&&s.gzhead.extra.length&&(put_byte(s,s.gzhead.extra.length&255),put_byte(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=EXTRA_STATE):(put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,s.level===9?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,OS_CODE),s.status=BUSY_STATE);else{var header=Z_DEFLATED+(s.w_bits-8<<4)<<8,level_flags=-1;s.strategy>=Z_HUFFMAN_ONLY||s.level<2?level_flags=0:s.level<6?level_flags=1:s.level===6?level_flags=2:level_flags=3,header|=level_flags<<6,s.strstart!==0&&(header|=PRESET_DICT),header+=31-header%31,s.status=BUSY_STATE,putShortMSB(s,header),s.strstart!==0&&(putShortMSB(s,strm.adler>>>16),putShortMSB(s,strm.adler&65535)),strm.adler=1}if(s.status===EXTRA_STATE)if(s.gzhead.extra){for(beg=s.pending;s.gzindex<(s.gzhead.extra.length&65535)&&!(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size));)put_byte(s,s.gzhead.extra[s.gzindex]&255),s.gzindex++;s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=NAME_STATE)}else s.status=NAME_STATE;if(s.status===NAME_STATE)if(s.gzhead.name){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}s.gzindex<s.gzhead.name.length?val=s.gzhead.name.charCodeAt(s.gzindex++)&255:val=0,put_byte(s,val)}while(val!==0);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),val===0&&(s.gzindex=0,s.status=COMMENT_STATE)}else s.status=COMMENT_STATE;if(s.status===COMMENT_STATE)if(s.gzhead.comment){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}s.gzindex<s.gzhead.comment.length?val=s.gzhead.comment.charCodeAt(s.gzindex++)&255:val=0,put_byte(s,val)}while(val!==0);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),val===0&&(s.status=HCRC_STATE)}else s.status=HCRC_STATE;if(s.status===HCRC_STATE&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&flush_pending(strm),s.pending+2<=s.pending_buf_size&&(put_byte(s,strm.adler&255),put_byte(s,strm.adler>>8&255),strm.adler=0,s.status=BUSY_STATE)):s.status=BUSY_STATE),s.pending!==0){if(flush_pending(strm),strm.avail_out===0)return s.last_flush=-1,Z_OK}else if(strm.avail_in===0&&rank(flush)<=rank(old_flush)&&flush!==Z_FINISH)return err(strm,Z_BUF_ERROR);if(s.status===FINISH_STATE&&strm.avail_in!==0)return err(strm,Z_BUF_ERROR);if(strm.avail_in!==0||s.lookahead!==0||flush!==Z_NO_FLUSH&&s.status!==FINISH_STATE){var bstate=s.strategy===Z_HUFFMAN_ONLY?deflate_huff(s,flush):s.strategy===Z_RLE?deflate_rle(s,flush):configuration_table[s.level].func(s,flush);if((bstate===BS_FINISH_STARTED||bstate===BS_FINISH_DONE)&&(s.status=FINISH_STATE),bstate===BS_NEED_MORE||bstate===BS_FINISH_STARTED)return strm.avail_out===0&&(s.last_flush=-1),Z_OK;if(bstate===BS_BLOCK_DONE&&(flush===Z_PARTIAL_FLUSH?trees._tr_align(s):flush!==Z_BLOCK&&(trees._tr_stored_block(s,0,0,!1),flush===Z_FULL_FLUSH&&(zero(s.head),s.lookahead===0&&(s.strstart=0,s.block_start=0,s.insert=0))),flush_pending(strm),strm.avail_out===0))return s.last_flush=-1,Z_OK}return flush!==Z_FINISH?Z_OK:s.wrap<=0?Z_STREAM_END:(s.wrap===2?(put_byte(s,strm.adler&255),put_byte(s,strm.adler>>8&255),put_byte(s,strm.adler>>16&255),put_byte(s,strm.adler>>24&255),put_byte(s,strm.total_in&255),put_byte(s,strm.total_in>>8&255),put_byte(s,strm.total_in>>16&255),put_byte(s,strm.total_in>>24&255)):(putShortMSB(s,strm.adler>>>16),putShortMSB(s,strm.adler&65535)),flush_pending(strm),s.wrap>0&&(s.wrap=-s.wrap),s.pending!==0?Z_OK:Z_STREAM_END)}function deflateEnd(strm){var status;return!strm||!strm.state?Z_STREAM_ERROR:(status=strm.state.status,status!==INIT_STATE&&status!==EXTRA_STATE&&status!==NAME_STATE&&status!==COMMENT_STATE&&status!==HCRC_STATE&&status!==BUSY_STATE&&status!==FINISH_STATE?err(strm,Z_STREAM_ERROR):(strm.state=null,status===BUSY_STATE?err(strm,Z_DATA_ERROR):Z_OK))}function deflateSetDictionary(strm,dictionary){var dictLength=dictionary.length,s,str,n,wrap,avail,next,input,tmpDict;if(!strm||!strm.state||(s=strm.state,wrap=s.wrap,wrap===2||wrap===1&&s.status!==INIT_STATE||s.lookahead))return Z_STREAM_ERROR;for(wrap===1&&(strm.adler=adler32(strm.adler,dictionary,dictLength,0)),s.wrap=0,dictLength>=s.w_size&&(wrap===0&&(zero(s.head),s.strstart=0,s.block_start=0,s.insert=0),tmpDict=new utils.Buf8(s.w_size),utils.arraySet(tmpDict,dictionary,dictLength-s.w_size,s.w_size,0),dictionary=tmpDict,dictLength=s.w_size),avail=strm.avail_in,next=strm.next_in,input=strm.input,strm.avail_in=dictLength,strm.next_in=0,strm.input=dictionary,fill_window(s);s.lookahead>=MIN_MATCH;){str=s.strstart,n=s.lookahead-(MIN_MATCH-1);do s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++;while(--n);s.strstart=str,s.lookahead=MIN_MATCH-1,fill_window(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,strm.next_in=next,strm.input=input,strm.avail_in=avail,s.wrap=wrap,Z_OK}exports2.deflateInit=deflateInit;exports2.deflateInit2=deflateInit2;exports2.deflateReset=deflateReset;exports2.deflateResetKeep=deflateResetKeep;exports2.deflateSetHeader=deflateSetHeader;exports2.deflate=deflate;exports2.deflateEnd=deflateEnd;exports2.deflateSetDictionary=deflateSetDictionary;exports2.deflateInfo="pako deflate (from Nodeca project)"}});var require_strings=__commonJS({"../../../../node_modules/pako/lib/utils/strings.js"(exports2){"use strict";var utils=require_common2(),STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch{STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}var _utf8len=new utils.Buf8(256);for(q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;var q;_utf8len[254]=_utf8len[254]=1;exports2.string2buf=function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++)c=str.charCodeAt(m_pos),(c&64512)===55296&&m_pos+1<str_len&&(c2=str.charCodeAt(m_pos+1),(c2&64512)===56320&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++)),buf_len+=c<128?1:c<2048?2:c<65536?3:4;for(buf=new utils.Buf8(buf_len),i=0,m_pos=0;i<buf_len;m_pos++)c=str.charCodeAt(m_pos),(c&64512)===55296&&m_pos+1<str_len&&(c2=str.charCodeAt(m_pos+1),(c2&64512)===56320&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++)),c<128?buf[i++]=c:c<2048?(buf[i++]=192|c>>>6,buf[i++]=128|c&63):c<65536?(buf[i++]=224|c>>>12,buf[i++]=128|c>>>6&63,buf[i++]=128|c&63):(buf[i++]=240|c>>>18,buf[i++]=128|c>>>12&63,buf[i++]=128|c>>>6&63,buf[i++]=128|c&63);return buf};function buf2binstring(buf,len){if(len<65534&&(buf.subarray&&STR_APPLY_UIA_OK||!buf.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils.shrinkBuf(buf,len));for(var result="",i=0;i<len;i++)result+=String.fromCharCode(buf[i]);return result}exports2.buf2binstring=function(buf){return buf2binstring(buf,buf.length)};exports2.binstring2buf=function(str){for(var buf=new utils.Buf8(str.length),i=0,len=buf.length;i<len;i++)buf[i]=str.charCodeAt(i);return buf};exports2.buf2string=function(buf,max){var i,out,c,c_len,len=max||buf.length,utf16buf=new Array(len*2);for(out=0,i=0;i<len;){if(c=buf[i++],c<128){utf16buf[out++]=c;continue}if(c_len=_utf8len[c],c_len>4){utf16buf[out++]=65533,i+=c_len-1;continue}for(c&=c_len===2?31:c_len===3?15:7;c_len>1&&i<len;)c=c<<6|buf[i++]&63,c_len--;if(c_len>1){utf16buf[out++]=65533;continue}c<65536?utf16buf[out++]=c:(c-=65536,utf16buf[out++]=55296|c>>10&1023,utf16buf[out++]=56320|c&1023)}return buf2binstring(utf16buf,out)};exports2.utf8border=function(buf,max){var pos;for(max=max||buf.length,max>buf.length&&(max=buf.length),pos=max-1;pos>=0&&(buf[pos]&192)===128;)pos--;return pos<0||pos===0?max:pos+_utf8len[buf[pos]]>max?pos:max}}});var require_zstream=__commonJS({"../../../../node_modules/pako/lib/zlib/zstream.js"(exports2,module2){"use strict";function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}module2.exports=ZStream}});var require_deflate2=__commonJS({"../../../../node_modules/pako/lib/deflate.js"(exports2){"use strict";var zlib_deflate=require_deflate(),utils=require_common2(),strings=require_strings(),msg=require_messages(),ZStream=require_zstream(),toString2=Object.prototype.toString,Z_NO_FLUSH=0,Z_FINISH=4,Z_OK=0,Z_STREAM_END=1,Z_SYNC_FLUSH=2,Z_DEFAULT_COMPRESSION=-1,Z_DEFAULT_STRATEGY=0,Z_DEFLATED=8;function Deflate(options2){if(!(this instanceof Deflate))return new Deflate(options2);this.options=utils.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:""},options2||{});var opt=this.options;opt.raw&&opt.windowBits>0?opt.windowBits=-opt.windowBits:opt.gzip&&opt.windowBits>0&&opt.windowBits<16&&(opt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var status=zlib_deflate.deflateInit2(this.strm,opt.level,opt.method,opt.windowBits,opt.memLevel,opt.strategy);if(status!==Z_OK)throw new Error(msg[status]);if(opt.header&&zlib_deflate.deflateSetHeader(this.strm,opt.header),opt.dictionary){var dict;if(typeof opt.dictionary=="string"?dict=strings.string2buf(opt.dictionary):toString2.call(opt.dictionary)==="[object ArrayBuffer]"?dict=new Uint8Array(opt.dictionary):dict=opt.dictionary,status=zlib_deflate.deflateSetDictionary(this.strm,dict),status!==Z_OK)throw new Error(msg[status]);this._dict_set=!0}}Deflate.prototype.push=function(data,mode){var strm=this.strm,chunkSize=this.options.chunkSize,status,_mode;if(this.ended)return!1;_mode=mode===~~mode?mode:mode===!0?Z_FINISH:Z_NO_FLUSH,typeof data=="string"?strm.input=strings.string2buf(data):toString2.call(data)==="[object ArrayBuffer]"?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;do{if(strm.avail_out===0&&(strm.output=new utils.Buf8(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),status=zlib_deflate.deflate(strm,_mode),status!==Z_STREAM_END&&status!==Z_OK)return this.onEnd(status),this.ended=!0,!1;(strm.avail_out===0||strm.avail_in===0&&(_mode===Z_FINISH||_mode===Z_SYNC_FLUSH))&&(this.options.to==="string"?this.onData(strings.buf2binstring(utils.shrinkBuf(strm.output,strm.next_out))):this.onData(utils.shrinkBuf(strm.output,strm.next_out)))}while((strm.avail_in>0||strm.avail_out===0)&&status!==Z_STREAM_END);return _mode===Z_FINISH?(status=zlib_deflate.deflateEnd(this.strm),this.onEnd(status),this.ended=!0,status===Z_OK):(_mode===Z_SYNC_FLUSH&&(this.onEnd(Z_OK),strm.avail_out=0),!0)};Deflate.prototype.onData=function(chunk){this.chunks.push(chunk)};Deflate.prototype.onEnd=function(status){status===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg};function deflate(input,options2){var deflator=new Deflate(options2);if(deflator.push(input,!0),deflator.err)throw deflator.msg||msg[deflator.err];return deflator.result}function deflateRaw(input,options2){return options2=options2||{},options2.raw=!0,deflate(input,options2)}function gzip3(input,options2){return options2=options2||{},options2.gzip=!0,deflate(input,options2)}exports2.Deflate=Deflate;exports2.deflate=deflate;exports2.deflateRaw=deflateRaw;exports2.gzip=gzip3}});var require_inffast=__commonJS({"../../../../node_modules/pako/lib/zlib/inffast.js"(exports2,module2){"use strict";var BAD=30,TYPE=12;module2.exports=function(strm,start){var state,_in,last,_out,beg,end,dmax,wsize,whave,wnext,s_window,hold,bits,lcode,dcode,lmask,dmask,here,op,len,dist,from,from_source,input,output;state=strm.state,_in=strm.next_in,input=strm.input,last=_in+(strm.avail_in-5),_out=strm.next_out,output=strm.output,beg=_out-(start-strm.avail_out),end=_out+(strm.avail_out-257),dmax=state.dmax,wsize=state.wsize,whave=state.whave,wnext=state.wnext,s_window=state.window,hold=state.hold,bits=state.bits,lcode=state.lencode,dcode=state.distcode,lmask=(1<<state.lenbits)-1,dmask=(1<<state.distbits)-1;top:do{bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=lcode[hold&lmask];dolen:for(;;){if(op=here>>>24,hold>>>=op,bits-=op,op=here>>>16&255,op===0)output[_out++]=here&65535;else if(op&16){len=here&65535,op&=15,op&&(bits<op&&(hold+=input[_in++]<<bits,bits+=8),len+=hold&(1<<op)-1,hold>>>=op,bits-=op),bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=dcode[hold&dmask];dodist:for(;;){if(op=here>>>24,hold>>>=op,bits-=op,op=here>>>16&255,op&16){if(dist=here&65535,op&=15,bits<op&&(hold+=input[_in++]<<bits,bits+=8,bits<op&&(hold+=input[_in++]<<bits,bits+=8)),dist+=hold&(1<<op)-1,dist>dmax){strm.msg="invalid distance too far back",state.mode=BAD;break top}if(hold>>>=op,bits-=op,op=_out-beg,dist>op){if(op=dist-op,op>whave&&state.sane){strm.msg="invalid distance too far back",state.mode=BAD;break top}if(from=0,from_source=s_window,wnext===0){if(from+=wsize-op,op<len){len-=op;do output[_out++]=s_window[from++];while(--op);from=_out-dist,from_source=output}}else if(wnext<op){if(from+=wsize+wnext-op,op-=wnext,op<len){len-=op;do output[_out++]=s_window[from++];while(--op);if(from=0,wnext<len){op=wnext,len-=op;do output[_out++]=s_window[from++];while(--op);from=_out-dist,from_source=output}}}else if(from+=wnext-op,op<len){len-=op;do output[_out++]=s_window[from++];while(--op);from=_out-dist,from_source=output}for(;len>2;)output[_out++]=from_source[from++],output[_out++]=from_source[from++],output[_out++]=from_source[from++],len-=3;len&&(output[_out++]=from_source[from++],len>1&&(output[_out++]=from_source[from++]))}else{from=_out-dist;do output[_out++]=output[from++],output[_out++]=output[from++],output[_out++]=output[from++],len-=3;while(len>2);len&&(output[_out++]=output[from++],len>1&&(output[_out++]=output[from++]))}}else if((op&64)===0){here=dcode[(here&65535)+(hold&(1<<op)-1)];continue dodist}else{strm.msg="invalid distance code",state.mode=BAD;break top}break}}else if((op&64)===0){here=lcode[(here&65535)+(hold&(1<<op)-1)];continue dolen}else if(op&32){state.mode=TYPE;break top}else{strm.msg="invalid literal/length code",state.mode=BAD;break top}break}}while(_in<last&&_out<end);len=bits>>3,_in-=len,bits-=len<<3,hold&=(1<<bits)-1,strm.next_in=_in,strm.next_out=_out,strm.avail_in=_in<last?5+(last-_in):5-(_in-last),strm.avail_out=_out<end?257+(end-_out):257-(_out-end),state.hold=hold,state.bits=bits}}});var require_inftrees=__commonJS({"../../../../node_modules/pako/lib/zlib/inftrees.js"(exports2,module2){"use strict";var utils=require_common2(),MAXBITS=15,ENOUGH_LENS=852,ENOUGH_DISTS=592,CODES=0,LENS=1,DISTS=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module2.exports=function(type,lens,lens_index,codes,table2,table_index,work,opts){var bits=opts.bits,len=0,sym=0,min=0,max=0,root=0,curr=0,drop=0,left=0,used=0,huff=0,incr,fill,low,mask,next,base=null,base_index=0,end,count=new utils.Buf16(MAXBITS+1),offs=new utils.Buf16(MAXBITS+1),extra=null,extra_index=0,here_bits,here_op,here_val;for(len=0;len<=MAXBITS;len++)count[len]=0;for(sym=0;sym<codes;sym++)count[lens[lens_index+sym]]++;for(root=bits,max=MAXBITS;max>=1&&count[max]===0;max--);if(root>max&&(root=max),max===0)return table2[table_index++]=1<<24|64<<16|0,table2[table_index++]=1<<24|64<<16|0,opts.bits=1,0;for(min=1;min<max&&count[min]===0;min++);for(root<min&&(root=min),left=1,len=1;len<=MAXBITS;len++)if(left<<=1,left-=count[len],left<0)return-1;if(left>0&&(type===CODES||max!==1))return-1;for(offs[1]=0,len=1;len<MAXBITS;len++)offs[len+1]=offs[len]+count[len];for(sym=0;sym<codes;sym++)lens[lens_index+sym]!==0&&(work[offs[lens[lens_index+sym]]++]=sym);if(type===CODES?(base=extra=work,end=19):type===LENS?(base=lbase,base_index-=257,extra=lext,extra_index-=257,end=256):(base=dbase,extra=dext,end=-1),huff=0,sym=0,len=min,next=table_index,curr=root,drop=0,low=-1,used=1<<root,mask=used-1,type===LENS&&used>ENOUGH_LENS||type===DISTS&&used>ENOUGH_DISTS)return 1;for(;;){here_bits=len-drop,work[sym]<end?(here_op=0,here_val=work[sym]):work[sym]>end?(here_op=extra[extra_index+work[sym]],here_val=base[base_index+work[sym]]):(here_op=96,here_val=0),incr=1<<len-drop,fill=1<<curr,min=fill;do fill-=incr,table2[next+(huff>>drop)+fill]=here_bits<<24|here_op<<16|here_val|0;while(fill!==0);for(incr=1<<len-1;huff&incr;)incr>>=1;if(incr!==0?(huff&=incr-1,huff+=incr):huff=0,sym++,--count[len]===0){if(len===max)break;len=lens[lens_index+work[sym]]}if(len>root&&(huff&mask)!==low){for(drop===0&&(drop=root),next+=min,curr=len-drop,left=1<<curr;curr+drop<max&&(left-=count[curr+drop],!(left<=0));)curr++,left<<=1;if(used+=1<<curr,type===LENS&&used>ENOUGH_LENS||type===DISTS&&used>ENOUGH_DISTS)return 1;low=huff&mask,table2[low]=root<<24|curr<<16|next-table_index|0}}return huff!==0&&(table2[next+huff]=len-drop<<24|64<<16|0),opts.bits=root,0}}});var require_inflate=__commonJS({"../../../../node_modules/pako/lib/zlib/inflate.js"(exports2){"use strict";var utils=require_common2(),adler32=require_adler32(),crc32=require_crc322(),inflate_fast=require_inffast(),inflate_table=require_inftrees(),CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS;function zswap32(q){return(q>>>24&255)+(q>>>8&65280)+((q&65280)<<8)+((q&255)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils.Buf16(320),this.work=new utils.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(strm){var state;return!strm||!strm.state?Z_STREAM_ERROR:(state=strm.state,strm.total_in=strm.total_out=state.total=0,strm.msg="",state.wrap&&(strm.adler=state.wrap&1),state.mode=HEAD,state.last=0,state.havedict=0,state.dmax=32768,state.head=null,state.hold=0,state.bits=0,state.lencode=state.lendyn=new utils.Buf32(ENOUGH_LENS),state.distcode=state.distdyn=new utils.Buf32(ENOUGH_DISTS),state.sane=1,state.back=-1,Z_OK)}function inflateReset(strm){var state;return!strm||!strm.state?Z_STREAM_ERROR:(state=strm.state,state.wsize=0,state.whave=0,state.wnext=0,inflateResetKeep(strm))}function inflateReset2(strm,windowBits){var wrap,state;return!strm||!strm.state||(state=strm.state,windowBits<0?(wrap=0,windowBits=-windowBits):(wrap=(windowBits>>4)+1,windowBits<48&&(windowBits&=15)),windowBits&&(windowBits<8||windowBits>15))?Z_STREAM_ERROR:(state.window!==null&&state.wbits!==windowBits&&(state.window=null),state.wrap=wrap,state.wbits=windowBits,inflateReset(strm))}function inflateInit2(strm,windowBits){var ret,state;return strm?(state=new InflateState,strm.state=state,state.window=null,ret=inflateReset2(strm,windowBits),ret!==Z_OK&&(strm.state=null),ret):Z_STREAM_ERROR}function inflateInit(strm){return inflateInit2(strm,DEF_WBITS)}var virgin=!0,lenfix,distfix;function fixedtables(state){if(virgin){var sym;for(lenfix=new utils.Buf32(512),distfix=new utils.Buf32(32),sym=0;sym<144;)state.lens[sym++]=8;for(;sym<256;)state.lens[sym++]=9;for(;sym<280;)state.lens[sym++]=7;for(;sym<288;)state.lens[sym++]=8;for(inflate_table(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9}),sym=0;sym<32;)state.lens[sym++]=5;inflate_table(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5}),virgin=!1}state.lencode=lenfix,state.lenbits=9,state.distcode=distfix,state.distbits=5}function updatewindow(strm,src,end,copy){var dist,state=strm.state;return state.window===null&&(state.wsize=1<<state.wbits,state.wnext=0,state.whave=0,state.window=new utils.Buf8(state.wsize)),copy>=state.wsize?(utils.arraySet(state.window,src,end-state.wsize,state.wsize,0),state.wnext=0,state.whave=state.wsize):(dist=state.wsize-state.wnext,dist>copy&&(dist=copy),utils.arraySet(state.window,src,end-copy,dist,state.wnext),copy-=dist,copy?(utils.arraySet(state.window,src,end-copy,copy,0),state.wnext=copy,state.whave=state.wsize):(state.wnext+=dist,state.wnext===state.wsize&&(state.wnext=0),state.whave<state.wsize&&(state.whave+=dist))),0}function inflate(strm,flush){var state,input,output,next,put,have,left,hold,bits,_in,_out,copy,from,from_source,here=0,here_bits,here_op,here_val,last_bits,last_op,last_val,len,ret,hbuf=new utils.Buf8(4),opts,n,order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!strm||!strm.state||!strm.output||!strm.input&&strm.avail_in!==0)return Z_STREAM_ERROR;state=strm.state,state.mode===TYPE&&(state.mode=TYPEDO),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,_in=have,_out=left,ret=Z_OK;inf_leave:for(;;)switch(state.mode){case HEAD:if(state.wrap===0){state.mode=TYPEDO;break}for(;bits<16;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.wrap&2&&hold===35615){state.check=0,hbuf[0]=hold&255,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0),hold=0,bits=0,state.mode=FLAGS;break}if(state.flags=0,state.head&&(state.head.done=!1),!(state.wrap&1)||(((hold&255)<<8)+(hold>>8))%31){strm.msg="incorrect header check",state.mode=BAD;break}if((hold&15)!==Z_DEFLATED){strm.msg="unknown compression method",state.mode=BAD;break}if(hold>>>=4,bits-=4,len=(hold&15)+8,state.wbits===0)state.wbits=len;else if(len>state.wbits){strm.msg="invalid window size",state.mode=BAD;break}state.dmax=1<<len,strm.adler=state.check=1,state.mode=hold&512?DICTID:TYPE,hold=0,bits=0;break;case FLAGS:for(;bits<16;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.flags=hold,(state.flags&255)!==Z_DEFLATED){strm.msg="unknown compression method",state.mode=BAD;break}if(state.flags&57344){strm.msg="unknown header flags set",state.mode=BAD;break}state.head&&(state.head.text=hold>>8&1),state.flags&512&&(hbuf[0]=hold&255,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=TIME;case TIME:for(;bits<32;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.time=hold),state.flags&512&&(hbuf[0]=hold&255,hbuf[1]=hold>>>8&255,hbuf[2]=hold>>>16&255,hbuf[3]=hold>>>24&255,state.check=crc32(state.check,hbuf,4,0)),hold=0,bits=0,state.mode=OS;case OS:for(;bits<16;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.xflags=hold&255,state.head.os=hold>>8),state.flags&512&&(hbuf[0]=hold&255,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=EXLEN;case EXLEN:if(state.flags&1024){for(;bits<16;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length=hold,state.head&&(state.head.extra_len=hold),state.flags&512&&(hbuf[0]=hold&255,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0}else state.head&&(state.head.extra=null);state.mode=EXTRA;case EXTRA:if(state.flags&1024&&(copy=state.length,copy>have&&(copy=have),copy&&(state.head&&(len=state.head.extra_len-state.length,state.head.extra||(state.head.extra=new Array(state.head.extra_len)),utils.arraySet(state.head.extra,input,next,copy,len)),state.flags&512&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,state.length-=copy),state.length))break inf_leave;state.length=0,state.mode=NAME;case NAME:if(state.flags&2048){if(have===0)break inf_leave;copy=0;do len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.name+=String.fromCharCode(len));while(len&&copy<have);if(state.flags&512&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.name=null);state.length=0,state.mode=COMMENT;case COMMENT:if(state.flags&4096){if(have===0)break inf_leave;copy=0;do len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.comment+=String.fromCharCode(len));while(len&&copy<have);if(state.flags&512&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.comment=null);state.mode=HCRC;case HCRC:if(state.flags&512){for(;bits<16;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(state.check&65535)){strm.msg="header crc mismatch",state.mode=BAD;break}hold=0,bits=0}state.head&&(state.head.hcrc=state.flags>>9&1,state.head.done=!0),strm.adler=state.check=0,state.mode=TYPE;break;case DICTID:for(;bits<32;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}strm.adler=state.check=zswap32(hold),hold=0,bits=0,state.mode=DICT;case DICT:if(state.havedict===0)return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,Z_NEED_DICT;strm.adler=state.check=1,state.mode=TYPE;case TYPE:if(flush===Z_BLOCK||flush===Z_TREES)break inf_leave;case TYPEDO:if(state.last){hold>>>=bits&7,bits-=bits&7,state.mode=CHECK;break}for(;bits<3;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}switch(state.last=hold&1,hold>>>=1,bits-=1,hold&3){case 0:state.mode=STORED;break;case 1:if(fixedtables(state),state.mode=LEN_,flush===Z_TREES){hold>>>=2,bits-=2;break inf_leave}break;case 2:state.mode=TABLE;break;case 3:strm.msg="invalid block type",state.mode=BAD}hold>>>=2,bits-=2;break;case STORED:for(hold>>>=bits&7,bits-=bits&7;bits<32;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if((hold&65535)!==(hold>>>16^65535)){strm.msg="invalid stored block lengths",state.mode=BAD;break}if(state.length=hold&65535,hold=0,bits=0,state.mode=COPY_,flush===Z_TREES)break inf_leave;case COPY_:state.mode=COPY;case COPY:if(copy=state.length,copy){if(copy>have&&(copy=have),copy>left&&(copy=left),copy===0)break inf_leave;utils.arraySet(output,input,next,copy,put),have-=copy,next+=copy,left-=copy,put+=copy,state.length-=copy;break}state.mode=TYPE;break;case TABLE:for(;bits<14;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.nlen=(hold&31)+257,hold>>>=5,bits-=5,state.ndist=(hold&31)+1,hold>>>=5,bits-=5,state.ncode=(hold&15)+4,hold>>>=4,bits-=4,state.nlen>286||state.ndist>30){strm.msg="too many length or distance symbols",state.mode=BAD;break}state.have=0,state.mode=LENLENS;case LENLENS:for(;state.have<state.ncode;){for(;bits<3;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.lens[order[state.have++]]=hold&7,hold>>>=3,bits-=3}for(;state.have<19;)state.lens[order[state.have++]]=0;if(state.lencode=state.lendyn,state.lenbits=7,opts={bits:state.lenbits},ret=inflate_table(CODES,state.lens,0,19,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg="invalid code lengths set",state.mode=BAD;break}state.have=0,state.mode=CODELENS;case CODELENS:for(;state.have<state.nlen+state.ndist;){for(;here=state.lencode[hold&(1<<state.lenbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=here&65535,!(here_bits<=bits);){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_val<16)hold>>>=here_bits,bits-=here_bits,state.lens[state.have++]=here_val;else{if(here_val===16){for(n=here_bits+2;bits<n;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold>>>=here_bits,bits-=here_bits,state.have===0){strm.msg="invalid bit length repeat",state.mode=BAD;break}len=state.lens[state.have-1],copy=3+(hold&3),hold>>>=2,bits-=2}else if(here_val===17){for(n=here_bits+3;bits<n;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=here_bits,bits-=here_bits,len=0,copy=3+(hold&7),hold>>>=3,bits-=3}else{for(n=here_bits+7;bits<n;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=here_bits,bits-=here_bits,len=0,copy=11+(hold&127),hold>>>=7,bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg="invalid bit length repeat",state.mode=BAD;break}for(;copy--;)state.lens[state.have++]=len}}if(state.mode===BAD)break;if(state.lens[256]===0){strm.msg="invalid code -- missing end-of-block",state.mode=BAD;break}if(state.lenbits=9,opts={bits:state.lenbits},ret=inflate_table(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg="invalid literal/lengths set",state.mode=BAD;break}if(state.distbits=6,state.distcode=state.distdyn,opts={bits:state.distbits},ret=inflate_table(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts),state.distbits=opts.bits,ret){strm.msg="invalid distances set",state.mode=BAD;break}if(state.mode=LEN_,flush===Z_TREES)break inf_leave;case LEN_:state.mode=LEN;case LEN:if(have>=6&&left>=258){strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,inflate_fast(strm,_out),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,state.mode===TYPE&&(state.back=-1);break}for(state.back=0;here=state.lencode[hold&(1<<state.lenbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=here&65535,!(here_bits<=bits);){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_op&&(here_op&240)===0){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)],here_bits=here>>>24,here_op=here>>>16&255,here_val=here&65535,!(last_bits+here_bits<=bits);){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,state.length=here_val,here_op===0){state.mode=LIT;break}if(here_op&32){state.back=-1,state.mode=TYPE;break}if(here_op&64){strm.msg="invalid literal/length code",state.mode=BAD;break}state.extra=here_op&15,state.mode=LENEXT;case LENEXT:if(state.extra){for(n=state.extra;bits<n;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}state.was=state.length,state.mode=DIST;case DIST:for(;here=state.distcode[hold&(1<<state.distbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=here&65535,!(here_bits<=bits);){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if((here_op&240)===0){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)],here_bits=here>>>24,here_op=here>>>16&255,here_val=here&65535,!(last_bits+here_bits<=bits);){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,here_op&64){strm.msg="invalid distance code",state.mode=BAD;break}state.offset=here_val,state.extra=here_op&15,state.mode=DISTEXT;case DISTEXT:if(state.extra){for(n=state.extra;bits<n;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.offset+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}if(state.offset>state.dmax){strm.msg="invalid distance too far back",state.mode=BAD;break}state.mode=MATCH;case MATCH:if(left===0)break inf_leave;if(copy=_out-left,state.offset>copy){if(copy=state.offset-copy,copy>state.whave&&state.sane){strm.msg="invalid distance too far back",state.mode=BAD;break}copy>state.wnext?(copy-=state.wnext,from=state.wsize-copy):from=state.wnext-copy,copy>state.length&&(copy=state.length),from_source=state.window}else from_source=output,from=put-state.offset,copy=state.length;copy>left&&(copy=left),left-=copy,state.length-=copy;do output[put++]=from_source[from++];while(--copy);state.length===0&&(state.mode=LEN);break;case LIT:if(left===0)break inf_leave;output[put++]=state.length,left--,state.mode=LEN;break;case CHECK:if(state.wrap){for(;bits<32;){if(have===0)break inf_leave;have--,hold|=input[next++]<<bits,bits+=8}if(_out-=left,strm.total_out+=_out,state.total+=_out,_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,put-_out):adler32(state.check,output,_out,put-_out)),_out=left,(state.flags?hold:zswap32(hold))!==state.check){strm.msg="incorrect data check",state.mode=BAD;break}hold=0,bits=0}state.mode=LENGTH;case LENGTH:if(state.wrap&&state.flags){for(;bits<32;){if(have===0)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(state.total&4294967295)){strm.msg="incorrect length check",state.mode=BAD;break}hold=0,bits=0}state.mode=DONE;case DONE:ret=Z_STREAM_END;break inf_leave;case BAD:ret=Z_DATA_ERROR;break inf_leave;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,(state.wsize||_out!==strm.avail_out&&state.mode<BAD&&(state.mode<CHECK||flush!==Z_FINISH))&&updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)?(state.mode=MEM,Z_MEM_ERROR):(_in-=strm.avail_in,_out-=strm.avail_out,strm.total_in+=_in,strm.total_out+=_out,state.total+=_out,state.wrap&&_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,strm.next_out-_out):adler32(state.check,output,_out,strm.next_out-_out)),strm.data_type=state.bits+(state.last?64:0)+(state.mode===TYPE?128:0)+(state.mode===LEN_||state.mode===COPY_?256:0),(_in===0&&_out===0||flush===Z_FINISH)&&ret===Z_OK&&(ret=Z_BUF_ERROR),ret)}function inflateEnd(strm){if(!strm||!strm.state)return Z_STREAM_ERROR;var state=strm.state;return state.window&&(state.window=null),strm.state=null,Z_OK}function inflateGetHeader(strm,head){var state;return!strm||!strm.state||(state=strm.state,(state.wrap&2)===0)?Z_STREAM_ERROR:(state.head=head,head.done=!1,Z_OK)}function inflateSetDictionary(strm,dictionary){var dictLength=dictionary.length,state,dictid,ret;return!strm||!strm.state||(state=strm.state,state.wrap!==0&&state.mode!==DICT)?Z_STREAM_ERROR:state.mode===DICT&&(dictid=1,dictid=adler32(dictid,dictionary,dictLength,0),dictid!==state.check)?Z_DATA_ERROR:(ret=updatewindow(strm,dictionary,dictLength,dictLength),ret?(state.mode=MEM,Z_MEM_ERROR):(state.havedict=1,Z_OK))}exports2.inflateReset=inflateReset;exports2.inflateReset2=inflateReset2;exports2.inflateResetKeep=inflateResetKeep;exports2.inflateInit=inflateInit;exports2.inflateInit2=inflateInit2;exports2.inflate=inflate;exports2.inflateEnd=inflateEnd;exports2.inflateGetHeader=inflateGetHeader;exports2.inflateSetDictionary=inflateSetDictionary;exports2.inflateInfo="pako inflate (from Nodeca project)"}});var require_constants14=__commonJS({"../../../../node_modules/pako/lib/zlib/constants.js"(exports2,module2){"use strict";module2.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}}});var require_gzheader=__commonJS({"../../../../node_modules/pako/lib/zlib/gzheader.js"(exports2,module2){"use strict";function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}module2.exports=GZheader}});var require_inflate2=__commonJS({"../../../../node_modules/pako/lib/inflate.js"(exports2){"use strict";var zlib_inflate=require_inflate(),utils=require_common2(),strings=require_strings(),c=require_constants14(),msg=require_messages(),ZStream=require_zstream(),GZheader=require_gzheader(),toString2=Object.prototype.toString;function Inflate(options2){if(!(this instanceof Inflate))return new Inflate(options2);this.options=utils.assign({chunkSize:16384,windowBits:0,to:""},options2||{});var opt=this.options;opt.raw&&opt.windowBits>=0&&opt.windowBits<16&&(opt.windowBits=-opt.windowBits,opt.windowBits===0&&(opt.windowBits=-15)),opt.windowBits>=0&&opt.windowBits<16&&!(options2&&options2.windowBits)&&(opt.windowBits+=32),opt.windowBits>15&&opt.windowBits<48&&(opt.windowBits&15)===0&&(opt.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var status=zlib_inflate.inflateInit2(this.strm,opt.windowBits);if(status!==c.Z_OK)throw new Error(msg[status]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),opt.dictionary&&(typeof opt.dictionary=="string"?opt.dictionary=strings.string2buf(opt.dictionary):toString2.call(opt.dictionary)==="[object ArrayBuffer]"&&(opt.dictionary=new Uint8Array(opt.dictionary)),opt.raw&&(status=zlib_inflate.inflateSetDictionary(this.strm,opt.dictionary),status!==c.Z_OK)))throw new Error(msg[status])}Inflate.prototype.push=function(data,mode){var strm=this.strm,chunkSize=this.options.chunkSize,dictionary=this.options.dictionary,status,_mode,next_out_utf8,tail,utf8str,allowBufError=!1;if(this.ended)return!1;_mode=mode===~~mode?mode:mode===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof data=="string"?strm.input=strings.binstring2buf(data):toString2.call(data)==="[object ArrayBuffer]"?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;do{if(strm.avail_out===0&&(strm.output=new utils.Buf8(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),status=zlib_inflate.inflate(strm,c.Z_NO_FLUSH),status===c.Z_NEED_DICT&&dictionary&&(status=zlib_inflate.inflateSetDictionary(this.strm,dictionary)),status===c.Z_BUF_ERROR&&allowBufError===!0&&(status=c.Z_OK,allowBufError=!1),status!==c.Z_STREAM_END&&status!==c.Z_OK)return this.onEnd(status),this.ended=!0,!1;strm.next_out&&(strm.avail_out===0||status===c.Z_STREAM_END||strm.avail_in===0&&(_mode===c.Z_FINISH||_mode===c.Z_SYNC_FLUSH))&&(this.options.to==="string"?(next_out_utf8=strings.utf8border(strm.output,strm.next_out),tail=strm.next_out-next_out_utf8,utf8str=strings.buf2string(strm.output,next_out_utf8),strm.next_out=tail,strm.avail_out=chunkSize-tail,tail&&utils.arraySet(strm.output,strm.output,next_out_utf8,tail,0),this.onData(utf8str)):this.onData(utils.shrinkBuf(strm.output,strm.next_out))),strm.avail_in===0&&strm.avail_out===0&&(allowBufError=!0)}while((strm.avail_in>0||strm.avail_out===0)&&status!==c.Z_STREAM_END);return status===c.Z_STREAM_END&&(_mode=c.Z_FINISH),_mode===c.Z_FINISH?(status=zlib_inflate.inflateEnd(this.strm),this.onEnd(status),this.ended=!0,status===c.Z_OK):(_mode===c.Z_SYNC_FLUSH&&(this.onEnd(c.Z_OK),strm.avail_out=0),!0)};Inflate.prototype.onData=function(chunk){this.chunks.push(chunk)};Inflate.prototype.onEnd=function(status){status===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg};function inflate(input,options2){var inflator=new Inflate(options2);if(inflator.push(input,!0),inflator.err)throw inflator.msg||msg[inflator.err];return inflator.result}function inflateRaw(input,options2){return options2=options2||{},options2.raw=!0,inflate(input,options2)}exports2.Inflate=Inflate;exports2.inflate=inflate;exports2.inflateRaw=inflateRaw;exports2.ungzip=inflate}});var require_pako=__commonJS({"../../../../node_modules/pako/index.js"(exports2,module2){"use strict";var assign4=require_common2().assign,deflate=require_deflate2(),inflate=require_inflate2(),constants=require_constants14(),pako={};assign4(pako,deflate,inflate,constants);module2.exports=pako}});var require_pify=__commonJS({"../../../../node_modules/pify/index.js"(exports2,module2){"use strict";var processFn=(fn,options2)=>function(...args){let P=options2.promiseModule;return new P((resolve,reject)=>{options2.multiArgs?args.push((...result)=>{options2.errorFirst?result[0]?reject(result):(result.shift(),resolve(result)):resolve(result)}):options2.errorFirst?args.push((error,result)=>{error?reject(error):resolve(result)}):args.push(resolve),fn.apply(this,args)})};module2.exports=(input,options2)=>{options2=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},options2);let objType=typeof input;if(!(input!==null&&(objType==="object"||objType==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${input===null?"null":objType}\``);let filter=key=>{let match2=pattern=>typeof pattern=="string"?key===pattern:pattern.test(key);return options2.include?options2.include.some(match2):!options2.exclude.some(match2)},ret;objType==="function"?ret=function(...args){return options2.excludeMain?input(...args):processFn(input,options2).apply(this,args)}:ret=Object.create(Object.getPrototypeOf(input));for(let key in input){let property=input[key];ret[key]=typeof property=="function"&&filter(key)?processFn(property,options2):property}return ret}}});var require_ignore2=__commonJS({"../../../../node_modules/ignore/index.js"(exports2,module2){function makeArray(subject){return Array.isArray(subject)?subject:[subject]}var EMPTY="",SPACE=" ",ESCAPE="\\",REGEX_TEST_BLANK_LINE=/^\s+$/,REGEX_INVALID_TRAILING_BACKSLASH=/(?:[^\\]|^)\\$/,REGEX_REPLACE_LEADING_EXCAPED_EXCLAMATION=/^\\!/,REGEX_REPLACE_LEADING_EXCAPED_HASH=/^\\#/,REGEX_SPLITALL_CRLF=/\r?\n/g,REGEX_TEST_INVALID_PATH=/^\.*\/|^\.+$/,SLASH="/",TMP_KEY_IGNORE="node-ignore";typeof Symbol<"u"&&(TMP_KEY_IGNORE=Symbol.for("node-ignore"));var KEY_IGNORE=TMP_KEY_IGNORE,define2=(object,key,value)=>Object.defineProperty(object,key,{value}),REGEX_REGEXP_RANGE=/([0-z])-([0-z])/g,RETURN_FALSE=()=>!1,sanitizeRange=range=>range.replace(REGEX_REGEXP_RANGE,(match2,from,to)=>from.charCodeAt(0)<=to.charCodeAt(0)?match2:EMPTY),cleanRangeBackSlash=slashes=>{let{length}=slashes;return slashes.slice(0,length-length%2)},REPLACERS=[[/^\uFEFF/,()=>EMPTY],[/((?:\\\\)*?)(\\?\s+)$/,(_,m1,m2)=>m1+(m2.indexOf("\\")===0?SPACE:EMPTY)],[/(\\+?)\s/g,(_,m1)=>{let{length}=m1;return m1.slice(0,length-length%2)+SPACE}],[/[\\$.|*+(){^]/g,match2=>`\\${match2}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(_,index2,str)=>index2+6<str.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(_,p1,p2)=>{let unescaped=p2.replace(/\\\*/g,"[^\\/]*");return p1+unescaped}],[/\\\\\\(?=[$.|*+(){^])/g,()=>ESCAPE],[/\\\\/g,()=>ESCAPE],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(match2,leadEscape,range,endEscape,close)=>leadEscape===ESCAPE?`\\[${range}${cleanRangeBackSlash(endEscape)}${close}`:close==="]"&&endEscape.length%2===0?`[${sanitizeRange(range)}${endEscape}]`:"[]"],[/(?:[^*])$/,match2=>/\/$/.test(match2)?`${match2}$`:`${match2}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(_,p1)=>`${p1?`${p1}[^/]+`:"[^/]*"}(?=$|\\/$)`]],regexCache=Object.create(null),makeRegex=(pattern,ignoreCase)=>{let source=regexCache[pattern];return source||(source=REPLACERS.reduce((prev,[matcher,replacer])=>prev.replace(matcher,replacer.bind(pattern)),pattern),regexCache[pattern]=source),ignoreCase?new RegExp(source,"i"):new RegExp(source)},isString4=subject=>typeof subject=="string",checkPattern=pattern=>pattern&&isString4(pattern)&&!REGEX_TEST_BLANK_LINE.test(pattern)&&!REGEX_INVALID_TRAILING_BACKSLASH.test(pattern)&&pattern.indexOf("#")!==0,splitPattern=pattern=>pattern.split(REGEX_SPLITALL_CRLF),IgnoreRule=class{constructor(origin,pattern,negative,regex){this.origin=origin,this.pattern=pattern,this.negative=negative,this.regex=regex}},createRule=(pattern,ignoreCase)=>{let origin=pattern,negative=!1;pattern.indexOf("!")===0&&(negative=!0,pattern=pattern.substr(1)),pattern=pattern.replace(REGEX_REPLACE_LEADING_EXCAPED_EXCLAMATION,"!").replace(REGEX_REPLACE_LEADING_EXCAPED_HASH,"#");let regex=makeRegex(pattern,ignoreCase);return new IgnoreRule(origin,pattern,negative,regex)},throwError=(message,Ctor)=>{throw new Ctor(message)},checkPath=(path5,originalPath,doThrow)=>isString4(path5)?path5?checkPath.isNotRelative(path5)?doThrow(`path should be a \`path.relative()\`d string, but got "${originalPath}"`,RangeError):!0:doThrow("path must not be empty",TypeError):doThrow(`path must be a string, but got \`${originalPath}\``,TypeError),isNotRelative=path5=>REGEX_TEST_INVALID_PATH.test(path5);checkPath.isNotRelative=isNotRelative;checkPath.convert=p=>p;var Ignore=class{constructor({ignorecase=!0,ignoreCase=ignorecase,allowRelativePaths=!1}={}){define2(this,KEY_IGNORE,!0),this._rules=[],this._ignoreCase=ignoreCase,this._allowRelativePaths=allowRelativePaths,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(pattern){if(pattern&&pattern[KEY_IGNORE]){this._rules=this._rules.concat(pattern._rules),this._added=!0;return}if(checkPattern(pattern)){let rule=createRule(pattern,this._ignoreCase);this._added=!0,this._rules.push(rule)}}add(pattern){return this._added=!1,makeArray(isString4(pattern)?splitPattern(pattern):pattern).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(pattern){return this.add(pattern)}_testOne(path5,checkUnignored){let ignored=!1,unignored=!1;return this._rules.forEach(rule=>{let{negative}=rule;if(unignored===negative&&ignored!==unignored||negative&&!ignored&&!unignored&&!checkUnignored)return;rule.regex.test(path5)&&(ignored=!negative,unignored=negative)}),{ignored,unignored}}_test(originalPath,cache,checkUnignored,slices){let path5=originalPath&&checkPath.convert(originalPath);return checkPath(path5,originalPath,this._allowRelativePaths?RETURN_FALSE:throwError),this._t(path5,cache,checkUnignored,slices)}_t(path5,cache,checkUnignored,slices){if(path5 in cache)return cache[path5];if(slices||(slices=path5.split(SLASH)),slices.pop(),!slices.length)return cache[path5]=this._testOne(path5,checkUnignored);let parent=this._t(slices.join(SLASH)+SLASH,cache,checkUnignored,slices);return cache[path5]=parent.ignored?parent:this._testOne(path5,checkUnignored)}ignores(path5){return this._test(path5,this._ignoreCache,!1).ignored}createFilter(){return path5=>!this.ignores(path5)}filter(paths){return makeArray(paths).filter(this.createFilter())}test(path5){return this._test(path5,this._testCache,!0)}},factory=options2=>new Ignore(options2),isPathValid=path5=>checkPath(path5&&checkPath.convert(path5),path5,RETURN_FALSE);factory.isPathValid=isPathValid;factory.default=factory;module2.exports=factory;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let makePosix=str=>/^\\\\\?\\/.test(str)||/["<>|\u0000-\u001F]+/u.test(str)?str:str.replace(/\\/g,"/");checkPath.convert=makePosix;let REGIX_IS_WINDOWS_PATH_ABSOLUTE=/^[a-z]:\//i;checkPath.isNotRelative=path5=>REGIX_IS_WINDOWS_PATH_ABSOLUTE.test(path5)||isNotRelative(path5)}}});var require_lib13=__commonJS({"../../../../node_modules/clean-git-ref/lib/index.js"(exports2,module2){"use strict";function escapeRegExp(string){return string.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function replaceAll(str,search,replacement){return search=search instanceof RegExp?search:new RegExp(escapeRegExp(search),"g"),str.replace(search,replacement)}var CleanGitRef={clean:function(value){if(typeof value!="string")throw new Error("Expected a string, received: "+value);return value=replaceAll(value,"./","/"),value=replaceAll(value,"..","."),value=replaceAll(value," ","-"),value=replaceAll(value,/^[~^:?*\\\-]/g,""),value=replaceAll(value,/[~^:?*\\]/g,"-"),value=replaceAll(value,/[~^:?*\\\-]$/g,""),value=replaceAll(value,"@{","-"),value=replaceAll(value,/\.$/g,""),value=replaceAll(value,/\/$/g,""),value=replaceAll(value,/\.lock$/g,""),value}};module2.exports=CleanGitRef}});var require_onp=__commonJS({"../../../../node_modules/diff3/onp.js"(exports2,module2){module2.exports=function(a_,b_){var a=a_,b=b_,m=a.length,n=b.length,reverse=!1,ed=null,offset=m+1,path5=[],pathposi=[],ses=[],lcs="",SES_DELETE=-1,SES_COMMON=0,SES_ADD=1,tmp1,tmp2,init=function(){m>=n&&(tmp1=a,tmp2=m,a=b,b=tmp1,m=n,n=tmp2,reverse=!0,offset=m+1)},P=function(x,y,k){return{x,y,k}},seselem=function(elem,t){return{elem,t}},snake=function(k,p,pp){var r,x,y;for(p>pp?r=path5[k-1+offset]:r=path5[k+1+offset],y=Math.max(p,pp),x=y-k;x<m&&y<n&&a[x]===b[y];)++x,++y;return path5[k+offset]=pathposi.length,pathposi[pathposi.length]=new P(x,y,r),y},recordseq=function(epc){var x_idx,y_idx,px_idx,py_idx,i;for(x_idx=y_idx=1,px_idx=py_idx=0,i=epc.length-1;i>=0;--i)for(;px_idx<epc[i].x||py_idx<epc[i].y;)epc[i].y-epc[i].x>py_idx-px_idx?(reverse?ses[ses.length]=new seselem(b[py_idx],SES_DELETE):ses[ses.length]=new seselem(b[py_idx],SES_ADD),++y_idx,++py_idx):epc[i].y-epc[i].x<py_idx-px_idx?(reverse?ses[ses.length]=new seselem(a[px_idx],SES_ADD):ses[ses.length]=new seselem(a[px_idx],SES_DELETE),++x_idx,++px_idx):(ses[ses.length]=new seselem(a[px_idx],SES_COMMON),lcs+=a[px_idx],++x_idx,++y_idx,++px_idx,++py_idx)};return init(),{SES_DELETE:-1,SES_COMMON:0,SES_ADD:1,editdistance:function(){return ed},getlcs:function(){return lcs},getses:function(){return ses},compose:function(){var delta,size,fp,p,r,epc,i,k;for(delta=n-m,size=m+n+3,fp={},i=0;i<size;++i)fp[i]=-1,path5[i]=-1;p=-1;do{for(++p,k=-p;k<=delta-1;++k)fp[k+offset]=snake(k,fp[k-1+offset]+1,fp[k+1+offset]);for(k=delta+p;k>=delta+1;--k)fp[k+offset]=snake(k,fp[k-1+offset]+1,fp[k+1+offset]);fp[delta+offset]=snake(delta,fp[delta-1+offset]+1,fp[delta+1+offset])}while(fp[delta+offset]!==n);for(ed=delta+2*p,r=path5[delta+offset],epc=[];r!==-1;)epc[epc.length]=new P(pathposi[r].x,pathposi[r].y,null),r=pathposi[r].k;recordseq(epc)}}}}});var require_diff3=__commonJS({"../../../../node_modules/diff3/diff3.js"(exports2,module2){var onp=require_onp();function longestCommonSubsequence(file1,file2){var diff=new onp(file1,file2);diff.compose();for(var ses=diff.getses(),root,prev,file1RevIdx=file1.length-1,file2RevIdx=file2.length-1,i=ses.length-1;i>=0;--i)ses[i].t===diff.SES_COMMON?(prev?(prev.chain={file1index:file1RevIdx,file2index:file2RevIdx,chain:null},prev=prev.chain):(root={file1index:file1RevIdx,file2index:file2RevIdx,chain:null},prev=root),file1RevIdx--,file2RevIdx--):ses[i].t===diff.SES_DELETE?file1RevIdx--:ses[i].t===diff.SES_ADD&&file2RevIdx--;var tail={file1index:-1,file2index:-1,chain:null};return prev?(prev.chain=tail,root):tail}function diffIndices(file1,file2){for(var result=[],tail1=file1.length,tail2=file2.length,candidate=longestCommonSubsequence(file1,file2);candidate!==null;candidate=candidate.chain){var mismatchLength1=tail1-candidate.file1index-1,mismatchLength2=tail2-candidate.file2index-1;tail1=candidate.file1index,tail2=candidate.file2index,(mismatchLength1||mismatchLength2)&&result.push({file1:[tail1+1,mismatchLength1],file2:[tail2+1,mismatchLength2]})}return result.reverse(),result}function diff3MergeIndices(a,o,b){var i,m1=diffIndices(o,a),m2=diffIndices(o,b),hunks=[];function addHunk(h,side2){hunks.push([h.file1[0],side2,h.file1[1],h.file2[0],h.file2[1]])}for(i=0;i<m1.length;i++)addHunk(m1[i],0);for(i=0;i<m2.length;i++)addHunk(m2[i],2);hunks.sort(function(x,y){return x[0]-y[0]});var result=[],commonOffset=0;function copyCommon(targetOffset){targetOffset>commonOffset&&(result.push([1,commonOffset,targetOffset-commonOffset]),commonOffset=targetOffset)}for(var hunkIndex=0;hunkIndex<hunks.length;hunkIndex++){for(var firstHunkIndex=hunkIndex,hunk=hunks[hunkIndex],regionLhs=hunk[0],regionRhs=regionLhs+hunk[2];hunkIndex<hunks.length-1;){var maybeOverlapping=hunks[hunkIndex+1],maybeLhs=maybeOverlapping[0];if(maybeLhs>regionRhs)break;regionRhs=Math.max(regionRhs,maybeLhs+maybeOverlapping[2]),hunkIndex++}if(copyCommon(regionLhs),firstHunkIndex==hunkIndex)hunk[4]>0&&result.push([hunk[1],hunk[3],hunk[4]]);else{var regions={0:[a.length,-1,o.length,-1],2:[b.length,-1,o.length,-1]};for(i=firstHunkIndex;i<=hunkIndex;i++){hunk=hunks[i];var side=hunk[1],r=regions[side],oLhs=hunk[0],oRhs=oLhs+hunk[2],abLhs=hunk[3],abRhs=abLhs+hunk[4];r[0]=Math.min(abLhs,r[0]),r[1]=Math.max(abRhs,r[1]),r[2]=Math.min(oLhs,r[2]),r[3]=Math.max(oRhs,r[3])}var aLhs=regions[0][0]+(regionLhs-regions[0][2]),aRhs=regions[0][1]+(regionRhs-regions[0][3]),bLhs=regions[2][0]+(regionLhs-regions[2][2]),bRhs=regions[2][1]+(regionRhs-regions[2][3]);result.push([-1,aLhs,aRhs-aLhs,regionLhs,regionRhs-regionLhs,bLhs,bRhs-bLhs])}commonOffset=regionRhs}return copyCommon(o.length),result}function diff3Merge(a,o,b){var result=[],files=[a,o,b],indices=diff3MergeIndices(a,o,b),okLines=[];function flushOk(){okLines.length&&result.push({ok:okLines}),okLines=[]}function pushOk(xs){for(var j=0;j<xs.length;j++)okLines.push(xs[j])}function isTrueConflict(rec){if(rec[2]!=rec[6])return!0;for(var aoff=rec[1],boff=rec[5],j=0;j<rec[2];j++)if(a[j+aoff]!=b[j+boff])return!0;return!1}for(var i=0;i<indices.length;i++){var x=indices[i],side=x[0];side==-1?isTrueConflict(x)?(flushOk(),result.push({conflict:{a:a.slice(x[1],x[1]+x[2]),aIndex:x[1],o:o.slice(x[3],x[3]+x[4]),oIndex:x[3],b:b.slice(x[5],x[5]+x[6]),bIndex:x[5]}})):pushOk(files[0].slice(x[1],x[1]+x[2])):pushOk(files[side].slice(x[1],x[1]+x[2]))}return flushOk(),result}module2.exports=diff3Merge}});var require_isomorphic_git=__commonJS({"../../../../node_modules/isomorphic-git/index.cjs"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});function _interopDefault(ex){return ex&&typeof ex=="object"&&"default"in ex?ex.default:ex}var AsyncLock=_interopDefault(require_async_lock()),Hash=_interopDefault(require_sha1()),crc32=_interopDefault(require_crc32()),pako=_interopDefault(require_pako()),pify=_interopDefault(require_pify()),ignore=_interopDefault(require_ignore2()),cleanGitRef=_interopDefault(require_lib13()),diff3Merge=_interopDefault(require_diff3()),BaseError=class _BaseError extends Error{constructor(message){super(message),this.caller=""}toJSON(){return{code:this.code,data:this.data,caller:this.caller,message:this.message,stack:this.stack}}fromJSON(json){let e=new _BaseError(json.message);return e.code=json.code,e.data=json.data,e.caller=json.caller,e.stack=json.stack,e}get isIsomorphicGitError(){return!0}},UnmergedPathsError=class _UnmergedPathsError extends BaseError{constructor(filepaths){super(`Modifying the index is not possible because you have unmerged files: ${filepaths.toString}. Fix them up in the work tree, and then use 'git add/rm as appropriate to mark resolution and make a commit.`),this.code=this.name=_UnmergedPathsError.code,this.data={filepaths}}};UnmergedPathsError.code="UnmergedPathsError";var InternalError=class _InternalError extends BaseError{constructor(message){super(`An internal error caused this command to fail.

If you're not a developer, report the bug to the developers of the application you're using. If this is a bug in isomorphic-git then you should create a proper bug yourselves. The bug should include a minimal reproduction and details about the version and environment.

Please file a bug report at https://github.com/isomorphic-git/isomorphic-git/issues with this error message: ${message}`),this.code=this.name=_InternalError.code,this.data={message}}};InternalError.code="InternalError";var UnsafeFilepathError=class _UnsafeFilepathError extends BaseError{constructor(filepath){super(`The filepath "${filepath}" contains unsafe character sequences`),this.code=this.name=_UnsafeFilepathError.code,this.data={filepath}}};UnsafeFilepathError.code="UnsafeFilepathError";var BufferCursor=class{constructor(buffer){this.buffer=buffer,this._start=0}eof(){return this._start>=this.buffer.length}tell(){return this._start}seek(n){this._start=n}slice(n){let r=this.buffer.slice(this._start,this._start+n);return this._start+=n,r}toString(enc,length){let r=this.buffer.toString(enc,this._start,this._start+length);return this._start+=length,r}write(value,length,enc){let r=this.buffer.write(value,this._start,length,enc);return this._start+=length,r}copy(source,start,end){let r=source.copy(this.buffer,this._start,start,end);return this._start+=r,r}readUInt8(){let r=this.buffer.readUInt8(this._start);return this._start+=1,r}writeUInt8(value){let r=this.buffer.writeUInt8(value,this._start);return this._start+=1,r}readUInt16BE(){let r=this.buffer.readUInt16BE(this._start);return this._start+=2,r}writeUInt16BE(value){let r=this.buffer.writeUInt16BE(value,this._start);return this._start+=2,r}readUInt32BE(){let r=this.buffer.readUInt32BE(this._start);return this._start+=4,r}writeUInt32BE(value){let r=this.buffer.writeUInt32BE(value,this._start);return this._start+=4,r}};function compareStrings(a,b){return-(a<b)||+(a>b)}function comparePath(a,b){return compareStrings(a.path,b.path)}function normalizeMode(mode){let type=mode>0?mode>>12:0;type!==4&&type!==8&&type!==10&&type!==14&&(type=8);let permissions=mode&511;return permissions&73?permissions=493:permissions=420,type!==8&&(permissions=0),(type<<12)+permissions}var MAX_UINT32=2**32;function SecondsNanoseconds(givenSeconds,givenNanoseconds,milliseconds,date){if(givenSeconds!==void 0&&givenNanoseconds!==void 0)return[givenSeconds,givenNanoseconds];milliseconds===void 0&&(milliseconds=date.valueOf());let seconds=Math.floor(milliseconds/1e3),nanoseconds=(milliseconds-seconds*1e3)*1e6;return[seconds,nanoseconds]}function normalizeStats(e){let[ctimeSeconds,ctimeNanoseconds]=SecondsNanoseconds(e.ctimeSeconds,e.ctimeNanoseconds,e.ctimeMs,e.ctime),[mtimeSeconds,mtimeNanoseconds]=SecondsNanoseconds(e.mtimeSeconds,e.mtimeNanoseconds,e.mtimeMs,e.mtime);return{ctimeSeconds:ctimeSeconds%MAX_UINT32,ctimeNanoseconds:ctimeNanoseconds%MAX_UINT32,mtimeSeconds:mtimeSeconds%MAX_UINT32,mtimeNanoseconds:mtimeNanoseconds%MAX_UINT32,dev:e.dev%MAX_UINT32,ino:e.ino%MAX_UINT32,mode:normalizeMode(e.mode%MAX_UINT32),uid:e.uid%MAX_UINT32,gid:e.gid%MAX_UINT32,size:e.size>-1?e.size%MAX_UINT32:0}}function toHex(buffer){let hex="";for(let byte of new Uint8Array(buffer))byte<16&&(hex+="0"),hex+=byte.toString(16);return hex}var supportsSubtleSHA1=null;async function shasum(buffer){return supportsSubtleSHA1===null&&(supportsSubtleSHA1=await testSubtleSHA1()),supportsSubtleSHA1?subtleSHA1(buffer):shasumSync(buffer)}function shasumSync(buffer){return new Hash().update(buffer).digest("hex")}async function subtleSHA1(buffer){let hash=await crypto.subtle.digest("SHA-1",buffer);return toHex(hash)}async function testSubtleSHA1(){try{return await subtleSHA1(new Uint8Array([]))==="da39a3ee5e6b4b0d3255bfef95601890afd80709"}catch{}return!1}function parseCacheEntryFlags(bits){return{assumeValid:!!(bits&32768),extended:!!(bits&16384),stage:(bits&12288)>>12,nameLength:bits&4095}}function renderCacheEntryFlags(entry){let flags=entry.flags;return flags.extended=!1,flags.nameLength=Math.min(Buffer.from(entry.path).length,4095),(flags.assumeValid?32768:0)+(flags.extended?16384:0)+((flags.stage&3)<<12)+(flags.nameLength&4095)}var GitIndex=class _GitIndex{constructor(entries,unmergedPaths){this._dirty=!1,this._unmergedPaths=unmergedPaths||new Set,this._entries=entries||new Map}_addEntry(entry){if(entry.flags.stage===0)entry.stages=[entry],this._entries.set(entry.path,entry),this._unmergedPaths.delete(entry.path);else{let existingEntry=this._entries.get(entry.path);existingEntry||(this._entries.set(entry.path,entry),existingEntry=entry),existingEntry.stages[entry.flags.stage]=entry,this._unmergedPaths.add(entry.path)}}static async from(buffer){if(Buffer.isBuffer(buffer))return _GitIndex.fromBuffer(buffer);if(buffer===null)return new _GitIndex(null);throw new InternalError("invalid type passed to GitIndex.from")}static async fromBuffer(buffer){if(buffer.length===0)throw new InternalError("Index file is empty (.git/index)");let index3=new _GitIndex,reader=new BufferCursor(buffer),magic=reader.toString("utf8",4);if(magic!=="DIRC")throw new InternalError(`Invalid dircache magic file number: ${magic}`);let shaComputed=await shasum(buffer.slice(0,-20)),shaClaimed=buffer.slice(-20).toString("hex");if(shaClaimed!==shaComputed)throw new InternalError(`Invalid checksum in GitIndex buffer: expected ${shaClaimed} but saw ${shaComputed}`);let version2=reader.readUInt32BE();if(version2!==2)throw new InternalError(`Unsupported dircache version: ${version2}`);let numEntries=reader.readUInt32BE(),i=0;for(;!reader.eof()&&i<numEntries;){let entry={};entry.ctimeSeconds=reader.readUInt32BE(),entry.ctimeNanoseconds=reader.readUInt32BE(),entry.mtimeSeconds=reader.readUInt32BE(),entry.mtimeNanoseconds=reader.readUInt32BE(),entry.dev=reader.readUInt32BE(),entry.ino=reader.readUInt32BE(),entry.mode=reader.readUInt32BE(),entry.uid=reader.readUInt32BE(),entry.gid=reader.readUInt32BE(),entry.size=reader.readUInt32BE(),entry.oid=reader.slice(20).toString("hex");let flags=reader.readUInt16BE();entry.flags=parseCacheEntryFlags(flags);let pathlength=buffer.indexOf(0,reader.tell()+1)-reader.tell();if(pathlength<1)throw new InternalError(`Got a path length of: ${pathlength}`);if(entry.path=reader.toString("utf8",pathlength),entry.path.includes("..\\")||entry.path.includes("../"))throw new UnsafeFilepathError(entry.path);let padding=8-(reader.tell()-12)%8;for(padding===0&&(padding=8);padding--;){let tmp=reader.readUInt8();if(tmp!==0)throw new InternalError(`Expected 1-8 null characters but got '${tmp}' after ${entry.path}`);if(reader.eof())throw new InternalError("Unexpected end of file")}entry.stages=[],index3._addEntry(entry),i++}return index3}get unmergedPaths(){return[...this._unmergedPaths]}get entries(){return[...this._entries.values()].sort(comparePath)}get entriesMap(){return this._entries}get entriesFlat(){return[...this.entries].flatMap(entry=>entry.stages.length>1?entry.stages.filter(x=>x):entry)}*[Symbol.iterator](){for(let entry of this.entries)yield entry}insert({filepath,stats,oid,stage=0}){stats||(stats={ctimeSeconds:0,ctimeNanoseconds:0,mtimeSeconds:0,mtimeNanoseconds:0,dev:0,ino:0,mode:0,uid:0,gid:0,size:0}),stats=normalizeStats(stats);let bfilepath=Buffer.from(filepath),entry={ctimeSeconds:stats.ctimeSeconds,ctimeNanoseconds:stats.ctimeNanoseconds,mtimeSeconds:stats.mtimeSeconds,mtimeNanoseconds:stats.mtimeNanoseconds,dev:stats.dev,ino:stats.ino,mode:stats.mode||33188,uid:stats.uid,gid:stats.gid,size:stats.size,path:filepath,oid,flags:{assumeValid:!1,extended:!1,stage,nameLength:bfilepath.length<4095?bfilepath.length:4095},stages:[]};this._addEntry(entry),this._dirty=!0}delete({filepath}){if(this._entries.has(filepath))this._entries.delete(filepath);else for(let key of this._entries.keys())key.startsWith(filepath+"/")&&this._entries.delete(key);this._unmergedPaths.has(filepath)&&this._unmergedPaths.delete(filepath),this._dirty=!0}clear(){this._entries.clear(),this._dirty=!0}has({filepath}){return this._entries.has(filepath)}render(){return this.entries.map(entry=>`${entry.mode.toString(8)} ${entry.oid}    ${entry.path}`).join(`
`)}static async _entryToBuffer(entry){let bpath=Buffer.from(entry.path),length=Math.ceil((62+bpath.length+1)/8)*8,written=Buffer.alloc(length),writer=new BufferCursor(written),stat=normalizeStats(entry);return writer.writeUInt32BE(stat.ctimeSeconds),writer.writeUInt32BE(stat.ctimeNanoseconds),writer.writeUInt32BE(stat.mtimeSeconds),writer.writeUInt32BE(stat.mtimeNanoseconds),writer.writeUInt32BE(stat.dev),writer.writeUInt32BE(stat.ino),writer.writeUInt32BE(stat.mode),writer.writeUInt32BE(stat.uid),writer.writeUInt32BE(stat.gid),writer.writeUInt32BE(stat.size),writer.write(entry.oid,20,"hex"),writer.writeUInt16BE(renderCacheEntryFlags(entry)),writer.write(entry.path,bpath.length,"utf8"),written}async toObject(){let header=Buffer.alloc(12),writer=new BufferCursor(header);writer.write("DIRC",4,"utf8"),writer.writeUInt32BE(2),writer.writeUInt32BE(this.entriesFlat.length);let entryBuffers=[];for(let entry of this.entries)if(entryBuffers.push(_GitIndex._entryToBuffer(entry)),entry.stages.length>1)for(let stage of entry.stages)stage&&stage!==entry&&entryBuffers.push(_GitIndex._entryToBuffer(stage));entryBuffers=await Promise.all(entryBuffers);let body=Buffer.concat(entryBuffers),main=Buffer.concat([header,body]),sum=await shasum(main);return Buffer.concat([main,Buffer.from(sum,"hex")])}};function compareStats(entry,stats,filemode=!0,trustino=!0){let e=normalizeStats(entry),s=normalizeStats(stats);return filemode&&e.mode!==s.mode||e.mtimeSeconds!==s.mtimeSeconds||e.ctimeSeconds!==s.ctimeSeconds||e.uid!==s.uid||e.gid!==s.gid||trustino&&e.ino!==s.ino||e.size!==s.size}var lock=null,IndexCache=Symbol("IndexCache");function createCache(){return{map:new Map,stats:new Map}}async function updateCachedIndexFile(fs3,filepath,cache){let[stat,rawIndexFile]=await Promise.all([fs3.lstat(filepath),fs3.read(filepath)]),index3=await GitIndex.from(rawIndexFile);cache.map.set(filepath,index3),cache.stats.set(filepath,stat)}async function isIndexStale(fs3,filepath,cache){let savedStats=cache.stats.get(filepath);if(savedStats===void 0)return!0;if(savedStats===null)return!1;let currStats=await fs3.lstat(filepath);return currStats===null?!1:compareStats(savedStats,currStats)}var GitIndexManager=class{static async acquire({fs:fs3,gitdir,cache,allowUnmerged=!0},closure){cache[IndexCache]||(cache[IndexCache]=createCache());let filepath=`${gitdir}/index`;lock===null&&(lock=new AsyncLock({maxPending:1/0}));let result,unmergedPaths=[];return await lock.acquire(filepath,async()=>{let theIndexCache=cache[IndexCache];await isIndexStale(fs3,filepath,theIndexCache)&&await updateCachedIndexFile(fs3,filepath,theIndexCache);let index3=theIndexCache.map.get(filepath);if(unmergedPaths=index3.unmergedPaths,unmergedPaths.length&&!allowUnmerged)throw new UnmergedPathsError(unmergedPaths);if(result=await closure(index3),index3._dirty){let buffer=await index3.toObject();await fs3.write(filepath,buffer),theIndexCache.stats.set(filepath,await fs3.lstat(filepath)),index3._dirty=!1}}),result}};function basename(path5){let last=Math.max(path5.lastIndexOf("/"),path5.lastIndexOf("\\"));return last>-1&&(path5=path5.slice(last+1)),path5}function dirname(path5){let last=Math.max(path5.lastIndexOf("/"),path5.lastIndexOf("\\"));return last===-1?".":last===0?"/":path5.slice(0,last)}function flatFileListToDirectoryStructure(files){let inodes=new Map,mkdir=function(name){if(!inodes.has(name)){let dir={type:"tree",fullpath:name,basename:basename(name),metadata:{},children:[]};inodes.set(name,dir),dir.parent=mkdir(dirname(name)),dir.parent&&dir.parent!==dir&&dir.parent.children.push(dir)}return inodes.get(name)},mkfile=function(name,metadata){if(!inodes.has(name)){let file={type:"blob",fullpath:name,basename:basename(name),metadata,parent:mkdir(dirname(name)),children:[]};file.parent&&file.parent.children.push(file),inodes.set(name,file)}return inodes.get(name)};mkdir(".");for(let file of files)mkfile(file.path,file);return inodes}function mode2type(mode){switch(mode){case 16384:return"tree";case 33188:return"blob";case 33261:return"blob";case 40960:return"blob";case 57344:return"commit"}throw new InternalError(`Unexpected GitTree entry mode: ${mode.toString(8)}`)}var GitWalkerIndex=class{constructor({fs:fs3,gitdir,cache}){this.treePromise=GitIndexManager.acquire({fs:fs3,gitdir,cache},async function(index3){return flatFileListToDirectoryStructure(index3.entries)});let walker=this;this.ConstructEntry=class{constructor(fullpath){this._fullpath=fullpath,this._type=!1,this._mode=!1,this._stat=!1,this._oid=!1}async type(){return walker.type(this)}async mode(){return walker.mode(this)}async stat(){return walker.stat(this)}async content(){return walker.content(this)}async oid(){return walker.oid(this)}}}async readdir(entry){let filepath=entry._fullpath,inode=(await this.treePromise).get(filepath);if(!inode||inode.type==="blob")return null;if(inode.type!=="tree")throw new Error(`ENOTDIR: not a directory, scandir '${filepath}'`);let names=inode.children.map(inode2=>inode2.fullpath);return names.sort(compareStrings),names}async type(entry){return entry._type===!1&&await entry.stat(),entry._type}async mode(entry){return entry._mode===!1&&await entry.stat(),entry._mode}async stat(entry){if(entry._stat===!1){let inode=(await this.treePromise).get(entry._fullpath);if(!inode)throw new Error(`ENOENT: no such file or directory, lstat '${entry._fullpath}'`);let stats=inode.type==="tree"?{}:normalizeStats(inode.metadata);entry._type=inode.type==="tree"?"tree":mode2type(stats.mode),entry._mode=stats.mode,inode.type==="tree"?entry._stat=void 0:entry._stat=stats}return entry._stat}async content(_entry){}async oid(entry){if(entry._oid===!1){let inode=(await this.treePromise).get(entry._fullpath);entry._oid=inode.metadata.oid}return entry._oid}},GitWalkSymbol=Symbol("GitWalkSymbol");function STAGE(){let o=Object.create(null);return Object.defineProperty(o,GitWalkSymbol,{value:function({fs:fs3,gitdir,cache}){return new GitWalkerIndex({fs:fs3,gitdir,cache})}}),Object.freeze(o),o}var NotFoundError=class _NotFoundError extends BaseError{constructor(what){super(`Could not find ${what}.`),this.code=this.name=_NotFoundError.code,this.data={what}}};NotFoundError.code="NotFoundError";var ObjectTypeError=class _ObjectTypeError extends BaseError{constructor(oid,actual,expected,filepath){super(`Object ${oid} ${filepath?`at ${filepath}`:""}was anticipated to be a ${expected} but it is a ${actual}.`),this.code=this.name=_ObjectTypeError.code,this.data={oid,actual,expected,filepath}}};ObjectTypeError.code="ObjectTypeError";var InvalidOidError=class _InvalidOidError extends BaseError{constructor(value){super(`Expected a 40-char hex object id but saw "${value}".`),this.code=this.name=_InvalidOidError.code,this.data={value}}};InvalidOidError.code="InvalidOidError";var NoRefspecError=class _NoRefspecError extends BaseError{constructor(remote){super(`Could not find a fetch refspec for remote "${remote}". Make sure the config file has an entry like the following:
[remote "${remote}"]
	fetch = +refs/heads/*:refs/remotes/origin/*
`),this.code=this.name=_NoRefspecError.code,this.data={remote}}};NoRefspecError.code="NoRefspecError";var GitPackedRefs=class _GitPackedRefs{constructor(text2){if(this.refs=new Map,this.parsedConfig=[],text2){let key=null;this.parsedConfig=text2.trim().split(`
`).map(line=>{if(/^\s*#/.test(line))return{line,comment:!0};let i=line.indexOf(" ");if(line.startsWith("^")){let value=line.slice(1);return this.refs.set(key+"^{}",value),{line,ref:key,peeled:value}}else{let value=line.slice(0,i);return key=line.slice(i+1),this.refs.set(key,value),{line,ref:key,oid:value}}})}return this}static from(text2){return new _GitPackedRefs(text2)}delete(ref){this.parsedConfig=this.parsedConfig.filter(entry=>entry.ref!==ref),this.refs.delete(ref)}toString(){return this.parsedConfig.map(({line})=>line).join(`
`)+`
`}},GitRefSpec=class _GitRefSpec{constructor({remotePath,localPath,force,matchPrefix}){Object.assign(this,{remotePath,localPath,force,matchPrefix})}static from(refspec){let[forceMatch,remotePath,remoteGlobMatch,localPath,localGlobMatch]=refspec.match(/^(\+?)(.*?)(\*?):(.*?)(\*?)$/).slice(1),force=forceMatch==="+",remoteIsGlob=remoteGlobMatch==="*";if(remoteIsGlob!==(localGlobMatch==="*"))throw new InternalError("Invalid refspec");return new _GitRefSpec({remotePath,localPath,force,matchPrefix:remoteIsGlob})}translate(remoteBranch){if(this.matchPrefix){if(remoteBranch.startsWith(this.remotePath))return this.localPath+remoteBranch.replace(this.remotePath,"")}else if(remoteBranch===this.remotePath)return this.localPath;return null}reverseTranslate(localBranch){if(this.matchPrefix){if(localBranch.startsWith(this.localPath))return this.remotePath+localBranch.replace(this.localPath,"")}else if(localBranch===this.localPath)return this.remotePath;return null}},GitRefSpecSet=class _GitRefSpecSet{constructor(rules=[]){this.rules=rules}static from(refspecs){let rules=[];for(let refspec of refspecs)rules.push(GitRefSpec.from(refspec));return new _GitRefSpecSet(rules)}add(refspec){let rule=GitRefSpec.from(refspec);this.rules.push(rule)}translate(remoteRefs){let result=[];for(let rule of this.rules)for(let remoteRef of remoteRefs){let localRef=rule.translate(remoteRef);localRef&&result.push([remoteRef,localRef])}return result}translateOne(remoteRef){let result=null;for(let rule of this.rules){let localRef=rule.translate(remoteRef);localRef&&(result=localRef)}return result}localNamespaces(){return this.rules.filter(rule=>rule.matchPrefix).map(rule=>rule.localPath.replace(/\/$/,""))}};function compareRefNames(a,b){let _a2=a.replace(/\^\{\}$/,""),_b=b.replace(/\^\{\}$/,""),tmp=-(_a2<_b)||+(_a2>_b);return tmp===0?a.endsWith("^{}")?1:-1:tmp}function normalizeString(path5,aar){let res="",lastSegmentLength=0,lastSlash=-1,dots=0,char="\0";for(let i=0;i<=path5.length;++i){if(i<path5.length)char=path5[i];else{if(char==="/")break;char="/"}if(char==="/"){if(!(lastSlash===i-1||dots===1))if(dots===2){if(res.length<2||lastSegmentLength!==2||res.at(-1)!=="."||res.at(-2)!=="."){if(res.length>2){let lastSlashIndex=res.lastIndexOf("/");lastSlashIndex===-1?(res="",lastSegmentLength=0):(res=res.slice(0,lastSlashIndex),lastSegmentLength=res.length-1-res.lastIndexOf("/")),lastSlash=i,dots=0;continue}else if(res.length!==0){res="",lastSegmentLength=0,lastSlash=i,dots=0;continue}}aar&&(res+=res.length>0?"/..":"..",lastSegmentLength=2)}else res.length>0?res+="/"+path5.slice(lastSlash+1,i):res=path5.slice(lastSlash+1,i),lastSegmentLength=i-lastSlash-1;lastSlash=i,dots=0}else char==="."&&dots!==-1?++dots:dots=-1}return res}function normalize4(path5){if(!path5.length)return".";let isAbsolute=path5[0]==="/",trailingSeparator=path5.at(-1)==="/";return path5=normalizeString(path5,!isAbsolute),path5.length?(trailingSeparator&&(path5+="/"),isAbsolute?`/${path5}`:path5):isAbsolute?"/":trailingSeparator?"./":"."}function join(...args){if(args.length===0)return".";let joined;for(let i=0;i<args.length;++i){let arg=args[i];arg.length>0&&(joined===void 0?joined=arg:joined+="/"+arg)}return joined===void 0?".":normalize4(joined)}var num=val=>{if(typeof val=="number")return val;val=val.toLowerCase();let n=parseInt(val);return val.endsWith("k")&&(n*=1024),val.endsWith("m")&&(n*=1024*1024),val.endsWith("g")&&(n*=1024*1024*1024),n},bool=val=>{if(typeof val=="boolean")return val;if(val=val.trim().toLowerCase(),val==="true"||val==="yes"||val==="on")return!0;if(val==="false"||val==="no"||val==="off")return!1;throw Error(`Expected 'true', 'false', 'yes', 'no', 'on', or 'off', but got ${val}`)},schema={core:{filemode:bool,bare:bool,logallrefupdates:bool,symlinks:bool,ignorecase:bool,bigFileThreshold:num}},SECTION_LINE_REGEX=/^\[([A-Za-z0-9-.]+)(?: "(.*)")?\]$/,SECTION_REGEX=/^[A-Za-z0-9-.]+$/,VARIABLE_LINE_REGEX=/^([A-Za-z][A-Za-z-]*)(?: *= *(.*))?$/,VARIABLE_NAME_REGEX=/^[A-Za-z][A-Za-z-]*$/,VARIABLE_VALUE_COMMENT_REGEX=/^(.*?)( *[#;].*)$/,extractSectionLine=line=>{let matches=SECTION_LINE_REGEX.exec(line);if(matches!=null){let[section,subsection]=matches.slice(1);return[section,subsection]}return null},extractVariableLine=line=>{let matches=VARIABLE_LINE_REGEX.exec(line);if(matches!=null){let[name,rawValue="true"]=matches.slice(1),valueWithoutComments=removeComments(rawValue),valueWithoutQuotes=removeQuotes(valueWithoutComments);return[name,valueWithoutQuotes]}return null},removeComments=rawValue=>{let commentMatches=VARIABLE_VALUE_COMMENT_REGEX.exec(rawValue);if(commentMatches==null)return rawValue;let[valueWithoutComment,comment2]=commentMatches.slice(1);return hasOddNumberOfQuotes(valueWithoutComment)&&hasOddNumberOfQuotes(comment2)?`${valueWithoutComment}${comment2}`:valueWithoutComment},hasOddNumberOfQuotes=text2=>(text2.match(/(?:^|[^\\])"/g)||[]).length%2!==0,removeQuotes=text2=>text2.split("").reduce((newText,c,idx,text3)=>{let isQuote=c==='"'&&text3[idx-1]!=="\\",isEscapeForQuote=c==="\\"&&text3[idx+1]==='"';return isQuote||isEscapeForQuote?newText:newText+c},""),lower=text2=>text2!=null?text2.toLowerCase():null,getPath=(section,subsection,name)=>[lower(section),subsection,lower(name)].filter(a=>a!=null).join("."),normalizePath=path5=>{let pathSegments=path5.split("."),section=pathSegments.shift(),name=pathSegments.pop(),subsection=pathSegments.length?pathSegments.join("."):void 0;return{section,subsection,name,path:getPath(section,subsection,name),sectionPath:getPath(section,subsection,null),isSection:!!section}},findLastIndex=(array,callback)=>array.reduce((lastIndex,item,index3)=>callback(item)?index3:lastIndex,-1),GitConfig=class _GitConfig{constructor(text2){let section=null,subsection=null;this.parsedConfig=text2?text2.split(`
`).map(line=>{let name=null,value=null,trimmedLine=line.trim(),extractedSection=extractSectionLine(trimmedLine),isSection=extractedSection!=null;if(isSection)[section,subsection]=extractedSection;else{let extractedVariable=extractVariableLine(trimmedLine);extractedVariable!=null&&([name,value]=extractedVariable)}let path5=getPath(section,subsection,name);return{line,isSection,section,subsection,name,value,path:path5}}):[]}static from(text2){return new _GitConfig(text2)}async get(path5,getall=!1){let normalizedPath=normalizePath(path5).path,allValues=this.parsedConfig.filter(config3=>config3.path===normalizedPath).map(({section,name,value})=>{let fn=schema[section]&&schema[section][name];return fn?fn(value):value});return getall?allValues:allValues.pop()}async getall(path5){return this.get(path5,!0)}async getSubsections(section){return this.parsedConfig.filter(config3=>config3.isSection&&config3.section===section).map(config3=>config3.subsection)}async deleteSection(section,subsection){this.parsedConfig=this.parsedConfig.filter(config3=>!(config3.section===section&&config3.subsection===subsection))}async append(path5,value){return this.set(path5,value,!0)}async set(path5,value,append=!1){let{section,subsection,name,path:normalizedPath,sectionPath,isSection}=normalizePath(path5),configIndex=findLastIndex(this.parsedConfig,config3=>config3.path===normalizedPath);if(value==null)configIndex!==-1&&this.parsedConfig.splice(configIndex,1);else if(configIndex!==-1){let config3=this.parsedConfig[configIndex],modifiedConfig=Object.assign({},config3,{name,value,modified:!0});append?this.parsedConfig.splice(configIndex+1,0,modifiedConfig):this.parsedConfig[configIndex]=modifiedConfig}else{let sectionIndex=this.parsedConfig.findIndex(config3=>config3.path===sectionPath),newConfig={section,subsection,name,value,modified:!0,path:normalizedPath};if(SECTION_REGEX.test(section)&&VARIABLE_NAME_REGEX.test(name))if(sectionIndex>=0)this.parsedConfig.splice(sectionIndex+1,0,newConfig);else{let newSection={isSection,section,subsection,modified:!0,path:sectionPath};this.parsedConfig.push(newSection,newConfig)}}}toString(){return this.parsedConfig.map(({line,section,subsection,name,value,modified:modified2=!1})=>modified2?name!=null&&value!=null?typeof value=="string"&&/[#;]/.test(value)?`	${name} = "${value}"`:`	${name} = ${value}`:subsection!=null?`[${section} "${subsection}"]`:`[${section}]`:line).join(`
`)}},GitConfigManager=class{static async get({fs:fs3,gitdir}){let text2=await fs3.read(`${gitdir}/config`,{encoding:"utf8"});return GitConfig.from(text2)}static async save({fs:fs3,gitdir,config:config3}){await fs3.write(`${gitdir}/config`,config3.toString(),{encoding:"utf8"})}},refpaths=ref=>[`${ref}`,`refs/${ref}`,`refs/tags/${ref}`,`refs/heads/${ref}`,`refs/remotes/${ref}`,`refs/remotes/${ref}/HEAD`],GIT_FILES=["config","description","index","shallow","commondir"],lock$1;async function acquireLock(ref,callback){return lock$1===void 0&&(lock$1=new AsyncLock),lock$1.acquire(ref,callback)}var GitRefManager=class _GitRefManager{static async updateRemoteRefs({fs:fs3,gitdir,remote,refs,symrefs,tags,refspecs=void 0,prune=!1,pruneTags=!1}){for(let value of refs.values())if(!value.match(/[0-9a-f]{40}/))throw new InvalidOidError(value);let config3=await GitConfigManager.get({fs:fs3,gitdir});if(!refspecs){if(refspecs=await config3.getall(`remote.${remote}.fetch`),refspecs.length===0)throw new NoRefspecError(remote);refspecs.unshift(`+HEAD:refs/remotes/${remote}/HEAD`)}let refspec=GitRefSpecSet.from(refspecs),actualRefsToWrite=new Map;if(pruneTags){let tags2=await _GitRefManager.listRefs({fs:fs3,gitdir,filepath:"refs/tags"});await _GitRefManager.deleteRefs({fs:fs3,gitdir,refs:tags2.map(tag2=>`refs/tags/${tag2}`)})}if(tags){for(let serverRef of refs.keys())if(serverRef.startsWith("refs/tags")&&!serverRef.endsWith("^{}")&&!await _GitRefManager.exists({fs:fs3,gitdir,ref:serverRef})){let oid=refs.get(serverRef);actualRefsToWrite.set(serverRef,oid)}}let refTranslations=refspec.translate([...refs.keys()]);for(let[serverRef,translatedRef]of refTranslations){let value=refs.get(serverRef);actualRefsToWrite.set(translatedRef,value)}let symrefTranslations=refspec.translate([...symrefs.keys()]);for(let[serverRef,translatedRef]of symrefTranslations){let value=symrefs.get(serverRef),symtarget=refspec.translateOne(value);symtarget&&actualRefsToWrite.set(translatedRef,`ref: ${symtarget}`)}let pruned=[];if(prune){for(let filepath of refspec.localNamespaces()){let refs2=(await _GitRefManager.listRefs({fs:fs3,gitdir,filepath})).map(file=>`${filepath}/${file}`);for(let ref of refs2)actualRefsToWrite.has(ref)||pruned.push(ref)}pruned.length>0&&await _GitRefManager.deleteRefs({fs:fs3,gitdir,refs:pruned})}for(let[key,value]of actualRefsToWrite)await acquireLock(key,async()=>fs3.write(join(gitdir,key),`${value.trim()}
`,"utf8"));return{pruned}}static async writeRef({fs:fs3,gitdir,ref,value}){if(!value.match(/[0-9a-f]{40}/))throw new InvalidOidError(value);await acquireLock(ref,async()=>fs3.write(join(gitdir,ref),`${value.trim()}
`,"utf8"))}static async writeSymbolicRef({fs:fs3,gitdir,ref,value}){await acquireLock(ref,async()=>fs3.write(join(gitdir,ref),`ref: ${value.trim()}
`,"utf8"))}static async deleteRef({fs:fs3,gitdir,ref}){return _GitRefManager.deleteRefs({fs:fs3,gitdir,refs:[ref]})}static async deleteRefs({fs:fs3,gitdir,refs}){await Promise.all(refs.map(ref=>fs3.rm(join(gitdir,ref))));let text2=await acquireLock("packed-refs",async()=>fs3.read(`${gitdir}/packed-refs`,{encoding:"utf8"})),packed=GitPackedRefs.from(text2),beforeSize=packed.refs.size;for(let ref of refs)packed.refs.has(ref)&&packed.delete(ref);packed.refs.size<beforeSize&&(text2=packed.toString(),await acquireLock("packed-refs",async()=>fs3.write(`${gitdir}/packed-refs`,text2,{encoding:"utf8"})))}static async resolve({fs:fs3,gitdir,ref,depth=void 0}){if(depth!==void 0&&(depth--,depth===-1))return ref;if(ref.startsWith("ref: "))return ref=ref.slice(5),_GitRefManager.resolve({fs:fs3,gitdir,ref,depth});if(ref.length===40&&/[0-9a-f]{40}/.test(ref))return ref;let packedMap=await _GitRefManager.packedRefs({fs:fs3,gitdir}),allpaths=refpaths(ref).filter(p=>!GIT_FILES.includes(p));for(let ref2 of allpaths){let sha=await acquireLock(ref2,async()=>await fs3.read(`${gitdir}/${ref2}`,{encoding:"utf8"})||packedMap.get(ref2));if(sha)return _GitRefManager.resolve({fs:fs3,gitdir,ref:sha.trim(),depth})}throw new NotFoundError(ref)}static async exists({fs:fs3,gitdir,ref}){try{return await _GitRefManager.expand({fs:fs3,gitdir,ref}),!0}catch{return!1}}static async expand({fs:fs3,gitdir,ref}){if(ref.length===40&&/[0-9a-f]{40}/.test(ref))return ref;let packedMap=await _GitRefManager.packedRefs({fs:fs3,gitdir}),allpaths=refpaths(ref);for(let ref2 of allpaths)if(await acquireLock(ref2,async()=>fs3.exists(`${gitdir}/${ref2}`))||packedMap.has(ref2))return ref2;throw new NotFoundError(ref)}static async expandAgainstMap({ref,map}){let allpaths=refpaths(ref);for(let ref2 of allpaths)if(await map.has(ref2))return ref2;throw new NotFoundError(ref)}static resolveAgainstMap({ref,fullref=ref,depth=void 0,map}){if(depth!==void 0&&(depth--,depth===-1))return{fullref,oid:ref};if(ref.startsWith("ref: "))return ref=ref.slice(5),_GitRefManager.resolveAgainstMap({ref,fullref,depth,map});if(ref.length===40&&/[0-9a-f]{40}/.test(ref))return{fullref,oid:ref};let allpaths=refpaths(ref);for(let ref2 of allpaths){let sha=map.get(ref2);if(sha)return _GitRefManager.resolveAgainstMap({ref:sha.trim(),fullref:ref2,depth,map})}throw new NotFoundError(ref)}static async packedRefs({fs:fs3,gitdir}){let text2=await acquireLock("packed-refs",async()=>fs3.read(`${gitdir}/packed-refs`,{encoding:"utf8"}));return GitPackedRefs.from(text2).refs}static async listRefs({fs:fs3,gitdir,filepath}){let packedMap=_GitRefManager.packedRefs({fs:fs3,gitdir}),files=null;try{files=await fs3.readdirDeep(`${gitdir}/${filepath}`),files=files.map(x=>x.replace(`${gitdir}/${filepath}/`,""))}catch{files=[]}for(let key of(await packedMap).keys())key.startsWith(filepath)&&(key=key.replace(filepath+"/",""),files.includes(key)||files.push(key));return files.sort(compareRefNames),files}static async listBranches({fs:fs3,gitdir,remote}){return remote?_GitRefManager.listRefs({fs:fs3,gitdir,filepath:`refs/remotes/${remote}`}):_GitRefManager.listRefs({fs:fs3,gitdir,filepath:"refs/heads"})}static async listTags({fs:fs3,gitdir}){return(await _GitRefManager.listRefs({fs:fs3,gitdir,filepath:"refs/tags"})).filter(x=>!x.endsWith("^{}"))}};function compareTreeEntryPath(a,b){return compareStrings(appendSlashIfDir(a),appendSlashIfDir(b))}function appendSlashIfDir(entry){return entry.mode==="040000"?entry.path+"/":entry.path}function mode2type$1(mode){switch(mode){case"040000":return"tree";case"100644":return"blob";case"100755":return"blob";case"120000":return"blob";case"160000":return"commit"}throw new InternalError(`Unexpected GitTree entry mode: ${mode}`)}function parseBuffer(buffer){let _entries=[],cursor=0;for(;cursor<buffer.length;){let space=buffer.indexOf(32,cursor);if(space===-1)throw new InternalError(`GitTree: Error parsing buffer at byte location ${cursor}: Could not find the next space character.`);let nullchar=buffer.indexOf(0,cursor);if(nullchar===-1)throw new InternalError(`GitTree: Error parsing buffer at byte location ${cursor}: Could not find the next null character.`);let mode=buffer.slice(cursor,space).toString("utf8");mode==="40000"&&(mode="040000");let type=mode2type$1(mode),path5=buffer.slice(space+1,nullchar).toString("utf8");if(path5.includes("\\")||path5.includes("/"))throw new UnsafeFilepathError(path5);let oid=buffer.slice(nullchar+1,nullchar+21).toString("hex");cursor=nullchar+21,_entries.push({mode,path:path5,oid,type})}return _entries}function limitModeToAllowed(mode){if(typeof mode=="number"&&(mode=mode.toString(8)),mode.match(/^0?4.*/))return"040000";if(mode.match(/^1006.*/))return"100644";if(mode.match(/^1007.*/))return"100755";if(mode.match(/^120.*/))return"120000";if(mode.match(/^160.*/))return"160000";throw new InternalError(`Could not understand file mode: ${mode}`)}function nudgeIntoShape(entry){return!entry.oid&&entry.sha&&(entry.oid=entry.sha),entry.mode=limitModeToAllowed(entry.mode),entry.type||(entry.type=mode2type$1(entry.mode)),entry}var GitTree=class _GitTree{constructor(entries){if(Buffer.isBuffer(entries))this._entries=parseBuffer(entries);else if(Array.isArray(entries))this._entries=entries.map(nudgeIntoShape);else throw new InternalError("invalid type passed to GitTree constructor");this._entries.sort(comparePath)}static from(tree){return new _GitTree(tree)}render(){return this._entries.map(entry=>`${entry.mode} ${entry.type} ${entry.oid}    ${entry.path}`).join(`
`)}toObject(){let entries=[...this._entries];return entries.sort(compareTreeEntryPath),Buffer.concat(entries.map(entry=>{let mode=Buffer.from(entry.mode.replace(/^0/,"")),space=Buffer.from(" "),path5=Buffer.from(entry.path,"utf8"),nullchar=Buffer.from([0]),oid=Buffer.from(entry.oid,"hex");return Buffer.concat([mode,space,path5,nullchar,oid])}))}entries(){return this._entries}*[Symbol.iterator](){for(let entry of this._entries)yield entry}},GitObject=class{static wrap({type,object}){let header=`${type} ${object.length}\0`,headerLen=header.length,totalLength=headerLen+object.length,wrappedObject=new Uint8Array(totalLength);for(let i=0;i<headerLen;i++)wrappedObject[i]=header.charCodeAt(i);return wrappedObject.set(object,headerLen),wrappedObject}static unwrap(buffer){let s=buffer.indexOf(32),i=buffer.indexOf(0),type=buffer.slice(0,s).toString("utf8"),length=buffer.slice(s+1,i).toString("utf8"),actualLength=buffer.length-(i+1);if(parseInt(length)!==actualLength)throw new InternalError(`Length mismatch: expected ${length} bytes but got ${actualLength} instead.`);return{type,object:Buffer.from(buffer.slice(i+1))}}};async function readObjectLoose({fs:fs3,gitdir,oid}){let source=`objects/${oid.slice(0,2)}/${oid.slice(2)}`,file=await fs3.read(`${gitdir}/${source}`);return file?{object:file,format:"deflated",source}:null}function applyDelta(delta,source){let reader=new BufferCursor(delta),sourceSize=readVarIntLE(reader);if(sourceSize!==source.byteLength)throw new InternalError(`applyDelta expected source buffer to be ${sourceSize} bytes but the provided buffer was ${source.length} bytes`);let targetSize=readVarIntLE(reader),target,firstOp=readOp(reader,source);if(firstOp.byteLength===targetSize)target=firstOp;else{target=Buffer.alloc(targetSize);let writer=new BufferCursor(target);for(writer.copy(firstOp);!reader.eof();)writer.copy(readOp(reader,source));let tell=writer.tell();if(targetSize!==tell)throw new InternalError(`applyDelta expected target buffer to be ${targetSize} bytes but the resulting buffer was ${tell} bytes`)}return target}function readVarIntLE(reader){let result=0,shift=0,byte=null;do byte=reader.readUInt8(),result|=(byte&127)<<shift,shift+=7;while(byte&128);return result}function readCompactLE(reader,flags,size){let result=0,shift=0;for(;size--;)flags&1&&(result|=reader.readUInt8()<<shift),flags>>=1,shift+=8;return result}function readOp(reader,source){let byte=reader.readUInt8(),COPY=128,OFFS=15,SIZE=112;if(byte&COPY){let offset=readCompactLE(reader,byte&OFFS,4),size=readCompactLE(reader,(byte&SIZE)>>4,3);return size===0&&(size=65536),source.slice(offset,offset+size)}else return reader.slice(byte)}function fromValue2(value){let queue=[value];return{next(){return Promise.resolve({done:queue.length===0,value:queue.pop()})},return(){return queue=[],{}},[Symbol.asyncIterator](){return this}}}function getIterator2(iterable){return iterable[Symbol.asyncIterator]?iterable[Symbol.asyncIterator]():iterable[Symbol.iterator]?iterable[Symbol.iterator]():iterable.next?iterable:fromValue2(iterable)}var StreamReader=class{constructor(stream){if(typeof Buffer>"u")throw new Error("Missing Buffer dependency");this.stream=getIterator2(stream),this.buffer=null,this.cursor=0,this.undoCursor=0,this.started=!1,this._ended=!1,this._discardedBytes=0}eof(){return this._ended&&this.cursor===this.buffer.length}tell(){return this._discardedBytes+this.cursor}async byte(){if(!this.eof()&&(this.started||await this._init(),!(this.cursor===this.buffer.length&&(await this._loadnext(),this._ended))))return this._moveCursor(1),this.buffer[this.undoCursor]}async chunk(){if(!this.eof()&&(this.started||await this._init(),!(this.cursor===this.buffer.length&&(await this._loadnext(),this._ended))))return this._moveCursor(this.buffer.length),this.buffer.slice(this.undoCursor,this.cursor)}async read(n){if(!this.eof())return this.started||await this._init(),this.cursor+n>this.buffer.length&&(this._trim(),await this._accumulate(n)),this._moveCursor(n),this.buffer.slice(this.undoCursor,this.cursor)}async skip(n){this.eof()||(this.started||await this._init(),this.cursor+n>this.buffer.length&&(this._trim(),await this._accumulate(n)),this._moveCursor(n))}async undo(){this.cursor=this.undoCursor}async _next(){this.started=!0;let{done,value}=await this.stream.next();return done&&(this._ended=!0,!value)?Buffer.alloc(0):(value&&(value=Buffer.from(value)),value)}_trim(){this.buffer=this.buffer.slice(this.undoCursor),this.cursor-=this.undoCursor,this._discardedBytes+=this.undoCursor,this.undoCursor=0}_moveCursor(n){this.undoCursor=this.cursor,this.cursor+=n,this.cursor>this.buffer.length&&(this.cursor=this.buffer.length)}async _accumulate(n){if(this._ended)return;let buffers=[this.buffer];for(;this.cursor+n>lengthBuffers(buffers);){let nextbuffer=await this._next();if(this._ended)break;buffers.push(nextbuffer)}this.buffer=Buffer.concat(buffers)}async _loadnext(){this._discardedBytes+=this.buffer.length,this.undoCursor=0,this.cursor=0,this.buffer=await this._next()}async _init(){this.buffer=await this._next()}};function lengthBuffers(buffers){return buffers.reduce((acc,buffer)=>acc+buffer.length,0)}async function listpack(stream,onData){let reader=new StreamReader(stream),PACK=await reader.read(4);if(PACK=PACK.toString("utf8"),PACK!=="PACK")throw new InternalError(`Invalid PACK header '${PACK}'`);let version2=await reader.read(4);if(version2=version2.readUInt32BE(0),version2!==2)throw new InternalError(`Invalid packfile version: ${version2}`);let numObjects=await reader.read(4);if(numObjects=numObjects.readUInt32BE(0),!(numObjects<1))for(;!reader.eof()&&numObjects--;){let offset=reader.tell(),{type,length,ofs,reference:reference2}=await parseHeader(reader),inflator=new pako.Inflate;for(;!inflator.result;){let chunk=await reader.chunk();if(!chunk)break;if(inflator.push(chunk,!1),inflator.err)throw new InternalError(`Pako error: ${inflator.msg}`);if(inflator.result){if(inflator.result.length!==length)throw new InternalError("Inflated object size is different from that stated in packfile.");await reader.undo(),await reader.read(chunk.length-inflator.strm.avail_in);let end=reader.tell();await onData({data:inflator.result,type,num:numObjects,offset,end,reference:reference2,ofs})}}}}async function parseHeader(reader){let byte=await reader.byte(),type=byte>>4&7,length=byte&15;if(byte&128){let shift=4;do byte=await reader.byte(),length|=(byte&127)<<shift,shift+=7;while(byte&128)}let ofs,reference2;if(type===6){let shift=0;ofs=0;let bytes=[];do byte=await reader.byte(),ofs|=(byte&127)<<shift,shift+=7,bytes.push(byte);while(byte&128);reference2=Buffer.from(bytes)}return type===7&&(reference2=await reader.read(20)),{type,length,ofs,reference:reference2}}var supportsDecompressionStream=!1;async function inflate(buffer){return supportsDecompressionStream===null&&(supportsDecompressionStream=testDecompressionStream()),supportsDecompressionStream?browserInflate(buffer):pako.inflate(buffer)}async function browserInflate(buffer){let ds=new DecompressionStream("deflate"),d=new Blob([buffer]).stream().pipeThrough(ds);return new Uint8Array(await new Response(d).arrayBuffer())}function testDecompressionStream(){try{if(new DecompressionStream("deflate"))return!0}catch{}return!1}function decodeVarInt(reader){let bytes=[],byte=0,multibyte=0;do{byte=reader.readUInt8();let lastSeven=byte&127;bytes.push(lastSeven),multibyte=byte&128}while(multibyte);return bytes.reduce((a,b)=>a+1<<7|b,-1)}function otherVarIntDecode(reader,startWith){let result=startWith,shift=4,byte=null;do byte=reader.readUInt8(),result|=(byte&127)<<shift,shift+=7;while(byte&128);return result}var GitPackIndex=class _GitPackIndex{constructor(stuff){Object.assign(this,stuff),this.offsetCache={}}static async fromIdx({idx,getExternalRefDelta}){let reader=new BufferCursor(idx);if(reader.slice(4).toString("hex")!=="ff744f63")return;let version2=reader.readUInt32BE();if(version2!==2)throw new InternalError(`Unable to read version ${version2} packfile IDX. (Only version 2 supported)`);if(idx.byteLength>2048*1024*1024)throw new InternalError("To keep implementation simple, I haven't implemented the layer 5 feature needed to support packfiles > 2GB in size.");reader.seek(reader.tell()+1020);let size=reader.readUInt32BE(),hashes=[];for(let i=0;i<size;i++){let hash=reader.slice(20).toString("hex");hashes[i]=hash}reader.seek(reader.tell()+4*size);let offsets=new Map;for(let i=0;i<size;i++)offsets.set(hashes[i],reader.readUInt32BE());let packfileSha=reader.slice(20).toString("hex");return new _GitPackIndex({hashes,crcs:{},offsets,packfileSha,getExternalRefDelta})}static async fromPack({pack,getExternalRefDelta,onProgress}){let listpackTypes={1:"commit",2:"tree",3:"blob",4:"tag",6:"ofs-delta",7:"ref-delta"},offsetToObject={},packfileSha=pack.slice(-20).toString("hex"),hashes=[],crcs={},offsets=new Map,totalObjectCount=null,lastPercent=null;await listpack([pack],async({data,type,reference:reference2,offset,num:num2})=>{totalObjectCount===null&&(totalObjectCount=num2);let percent=Math.floor((totalObjectCount-num2)*100/totalObjectCount);percent!==lastPercent&&onProgress&&await onProgress({phase:"Receiving objects",loaded:totalObjectCount-num2,total:totalObjectCount}),lastPercent=percent,type=listpackTypes[type],["commit","tree","blob","tag"].includes(type)?offsetToObject[offset]={type,offset}:type==="ofs-delta"?offsetToObject[offset]={type,offset}:type==="ref-delta"&&(offsetToObject[offset]={type,offset})});let offsetArray=Object.keys(offsetToObject).map(Number);for(let[i,start]of offsetArray.entries()){let end=i+1===offsetArray.length?pack.byteLength-20:offsetArray[i+1],o=offsetToObject[start],crc=crc32.buf(pack.slice(start,end))>>>0;o.end=end,o.crc=crc}let p=new _GitPackIndex({pack:Promise.resolve(pack),packfileSha,crcs,hashes,offsets,getExternalRefDelta});lastPercent=null;let count=0,objectsByDepth=[0,0,0,0,0,0,0,0,0,0,0,0];for(let offset in offsetToObject){offset=Number(offset);let percent=Math.floor(count*100/totalObjectCount);percent!==lastPercent&&onProgress&&await onProgress({phase:"Resolving deltas",loaded:count,total:totalObjectCount}),count++,lastPercent=percent;let o=offsetToObject[offset];if(!o.oid)try{p.readDepth=0,p.externalReadDepth=0;let{type,object}=await p.readSlice({start:offset});objectsByDepth[p.readDepth]+=1;let oid=await shasum(GitObject.wrap({type,object}));o.oid=oid,hashes.push(oid),offsets.set(oid,offset),crcs[oid]=o.crc}catch{continue}}return hashes.sort(),p}async toBuffer(){let buffers=[],write2=(str,encoding)=>{buffers.push(Buffer.from(str,encoding))};write2("ff744f63","hex"),write2("00000002","hex");let fanoutBuffer=new BufferCursor(Buffer.alloc(256*4));for(let i=0;i<256;i++){let count=0;for(let hash of this.hashes)parseInt(hash.slice(0,2),16)<=i&&count++;fanoutBuffer.writeUInt32BE(count)}buffers.push(fanoutBuffer.buffer);for(let hash of this.hashes)write2(hash,"hex");let crcsBuffer=new BufferCursor(Buffer.alloc(this.hashes.length*4));for(let hash of this.hashes)crcsBuffer.writeUInt32BE(this.crcs[hash]);buffers.push(crcsBuffer.buffer);let offsetsBuffer=new BufferCursor(Buffer.alloc(this.hashes.length*4));for(let hash of this.hashes)offsetsBuffer.writeUInt32BE(this.offsets.get(hash));buffers.push(offsetsBuffer.buffer),write2(this.packfileSha,"hex");let totalBuffer=Buffer.concat(buffers),sha=await shasum(totalBuffer),shaBuffer=Buffer.alloc(20);return shaBuffer.write(sha,"hex"),Buffer.concat([totalBuffer,shaBuffer])}async load({pack}){this.pack=pack}async unload(){this.pack=null}async read({oid}){if(!this.offsets.get(oid)){if(this.getExternalRefDelta)return this.externalReadDepth++,this.getExternalRefDelta(oid);throw new InternalError(`Could not read object ${oid} from packfile`)}let start=this.offsets.get(oid);return this.readSlice({start})}async readSlice({start}){if(this.offsetCache[start])return Object.assign({},this.offsetCache[start]);this.readDepth++;let types2={16:"commit",32:"tree",48:"blob",64:"tag",96:"ofs_delta",112:"ref_delta"};if(!this.pack)throw new InternalError("Tried to read from a GitPackIndex with no packfile loaded into memory");let raw=(await this.pack).slice(start),reader=new BufferCursor(raw),byte=reader.readUInt8(),btype=byte&112,type=types2[btype];if(type===void 0)throw new InternalError("Unrecognized type: 0b"+btype.toString(2));let lastFour=byte&15,length=lastFour;byte&128&&(length=otherVarIntDecode(reader,lastFour));let base=null,object=null;if(type==="ofs_delta"){let offset=decodeVarInt(reader),baseOffset=start-offset;({object:base,type}=await this.readSlice({start:baseOffset}))}if(type==="ref_delta"){let oid=reader.slice(20).toString("hex");({object:base,type}=await this.read({oid}))}let buffer=raw.slice(reader.tell());if(object=Buffer.from(await inflate(buffer)),object.byteLength!==length)throw new InternalError(`Packfile told us object would have length ${length} but it had length ${object.byteLength}`);return base&&(object=Buffer.from(applyDelta(object,base))),this.readDepth>3&&(this.offsetCache[start]={type,object}),{type,format:"content",object}}},PackfileCache=Symbol("PackfileCache");async function loadPackIndex({fs:fs3,filename,getExternalRefDelta,emitter,emitterPrefix}){let idx=await fs3.read(filename);return GitPackIndex.fromIdx({idx,getExternalRefDelta})}function readPackIndex({fs:fs3,cache,filename,getExternalRefDelta,emitter,emitterPrefix}){cache[PackfileCache]||(cache[PackfileCache]=new Map);let p=cache[PackfileCache].get(filename);return p||(p=loadPackIndex({fs:fs3,filename,getExternalRefDelta,emitter,emitterPrefix}),cache[PackfileCache].set(filename,p)),p}async function readObjectPacked({fs:fs3,cache,gitdir,oid,format:format2="content",getExternalRefDelta}){let list2=await fs3.readdir(join(gitdir,"objects/pack"));list2=list2.filter(x=>x.endsWith(".idx"));for(let filename of list2){let indexFile=`${gitdir}/objects/pack/${filename}`,p=await readPackIndex({fs:fs3,cache,filename:indexFile,getExternalRefDelta});if(p.error)throw new InternalError(p.error);if(p.offsets.has(oid)){if(!p.pack){let packFile=indexFile.replace(/idx$/,"pack");p.pack=fs3.read(packFile)}let result=await p.read({oid,getExternalRefDelta});return result.format="content",result.source=`objects/pack/${filename.replace(/idx$/,"pack")}`,result}}return null}async function _readObject({fs:fs3,cache,gitdir,oid,format:format2="content"}){let getExternalRefDelta=oid2=>_readObject({fs:fs3,cache,gitdir,oid:oid2}),result;if(oid==="4b825dc642cb6eb9a060e54bf8d69288fbee4904"&&(result={format:"wrapped",object:Buffer.from("tree 0\0")}),result||(result=await readObjectLoose({fs:fs3,gitdir,oid})),!result){if(result=await readObjectPacked({fs:fs3,cache,gitdir,oid,getExternalRefDelta}),!result)throw new NotFoundError(oid);return result}if(format2==="deflated"||(result.format==="deflated"&&(result.object=Buffer.from(await inflate(result.object)),result.format="wrapped"),format2==="wrapped"))return result;let sha=await shasum(result.object);if(sha!==oid)throw new InternalError(`SHA check failed! Expected ${oid}, computed ${sha}`);let{object,type}=GitObject.unwrap(result.object);if(result.type=type,result.object=object,result.format="content",format2==="content")return result;throw new InternalError(`invalid requested format "${format2}"`)}var AlreadyExistsError=class _AlreadyExistsError extends BaseError{constructor(noun,where,canForce=!0){super(`Failed to create ${noun} at ${where} because it already exists.${canForce?` (Hint: use 'force: true' parameter to overwrite existing ${noun}.)`:""}`),this.code=this.name=_AlreadyExistsError.code,this.data={noun,where,canForce}}};AlreadyExistsError.code="AlreadyExistsError";var AmbiguousError=class _AmbiguousError extends BaseError{constructor(nouns,short,matches){super(`Found multiple ${nouns} matching "${short}" (${matches.join(", ")}). Use a longer abbreviation length to disambiguate them.`),this.code=this.name=_AmbiguousError.code,this.data={nouns,short,matches}}};AmbiguousError.code="AmbiguousError";var CheckoutConflictError=class _CheckoutConflictError extends BaseError{constructor(filepaths){super(`Your local changes to the following files would be overwritten by checkout: ${filepaths.join(", ")}`),this.code=this.name=_CheckoutConflictError.code,this.data={filepaths}}};CheckoutConflictError.code="CheckoutConflictError";var CommitNotFetchedError=class _CommitNotFetchedError extends BaseError{constructor(ref,oid){super(`Failed to checkout "${ref}" because commit ${oid} is not available locally. Do a git fetch to make the branch available locally.`),this.code=this.name=_CommitNotFetchedError.code,this.data={ref,oid}}};CommitNotFetchedError.code="CommitNotFetchedError";var EmptyServerResponseError=class _EmptyServerResponseError extends BaseError{constructor(){super("Empty response from git server."),this.code=this.name=_EmptyServerResponseError.code,this.data={}}};EmptyServerResponseError.code="EmptyServerResponseError";var FastForwardError=class _FastForwardError extends BaseError{constructor(){super("A simple fast-forward merge was not possible."),this.code=this.name=_FastForwardError.code,this.data={}}};FastForwardError.code="FastForwardError";var GitPushError=class _GitPushError extends BaseError{constructor(prettyDetails,result){super(`One or more branches were not updated: ${prettyDetails}`),this.code=this.name=_GitPushError.code,this.data={prettyDetails,result}}};GitPushError.code="GitPushError";var HttpError=class _HttpError extends BaseError{constructor(statusCode,statusMessage,response){super(`HTTP Error: ${statusCode} ${statusMessage}`),this.code=this.name=_HttpError.code,this.data={statusCode,statusMessage,response}}};HttpError.code="HttpError";var InvalidFilepathError=class _InvalidFilepathError extends BaseError{constructor(reason){let message="invalid filepath";reason==="leading-slash"||reason==="trailing-slash"?message='"filepath" parameter should not include leading or trailing directory separators because these can cause problems on some platforms.':reason==="directory"&&(message='"filepath" should not be a directory.'),super(message),this.code=this.name=_InvalidFilepathError.code,this.data={reason}}};InvalidFilepathError.code="InvalidFilepathError";var InvalidRefNameError=class _InvalidRefNameError extends BaseError{constructor(ref,suggestion){super(`"${ref}" would be an invalid git reference. (Hint: a valid alternative would be "${suggestion}".)`),this.code=this.name=_InvalidRefNameError.code,this.data={ref,suggestion}}};InvalidRefNameError.code="InvalidRefNameError";var MaxDepthError=class _MaxDepthError extends BaseError{constructor(depth){super(`Maximum search depth of ${depth} exceeded.`),this.code=this.name=_MaxDepthError.code,this.data={depth}}};MaxDepthError.code="MaxDepthError";var MergeNotSupportedError=class _MergeNotSupportedError extends BaseError{constructor(){super("Merges with conflicts are not supported yet."),this.code=this.name=_MergeNotSupportedError.code,this.data={}}};MergeNotSupportedError.code="MergeNotSupportedError";var MergeConflictError=class _MergeConflictError extends BaseError{constructor(filepaths,bothModified,deleteByUs,deleteByTheirs){super(`Automatic merge failed with one or more merge conflicts in the following files: ${filepaths.toString()}. Fix conflicts then commit the result.`),this.code=this.name=_MergeConflictError.code,this.data={filepaths,bothModified,deleteByUs,deleteByTheirs}}};MergeConflictError.code="MergeConflictError";var MissingNameError=class _MissingNameError extends BaseError{constructor(role){super(`No name was provided for ${role} in the argument or in the .git/config file.`),this.code=this.name=_MissingNameError.code,this.data={role}}};MissingNameError.code="MissingNameError";var MissingParameterError=class _MissingParameterError extends BaseError{constructor(parameter){super(`The function requires a "${parameter}" parameter but none was provided.`),this.code=this.name=_MissingParameterError.code,this.data={parameter}}};MissingParameterError.code="MissingParameterError";var MultipleGitError=class _MultipleGitError extends BaseError{constructor(errors){super('There are multiple errors that were thrown by the method. Please refer to the "errors" property to see more'),this.code=this.name=_MultipleGitError.code,this.data={errors},this.errors=errors}};MultipleGitError.code="MultipleGitError";var ParseError=class _ParseError extends BaseError{constructor(expected,actual){super(`Expected "${expected}" but received "${actual}".`),this.code=this.name=_ParseError.code,this.data={expected,actual}}};ParseError.code="ParseError";var PushRejectedError=class _PushRejectedError extends BaseError{constructor(reason){let message="";reason==="not-fast-forward"?message=" because it was not a simple fast-forward":reason==="tag-exists"&&(message=" because tag already exists"),super(`Push rejected${message}. Use "force: true" to override.`),this.code=this.name=_PushRejectedError.code,this.data={reason}}};PushRejectedError.code="PushRejectedError";var RemoteCapabilityError=class _RemoteCapabilityError extends BaseError{constructor(capability,parameter){super(`Remote does not support the "${capability}" so the "${parameter}" parameter cannot be used.`),this.code=this.name=_RemoteCapabilityError.code,this.data={capability,parameter}}};RemoteCapabilityError.code="RemoteCapabilityError";var SmartHttpError=class _SmartHttpError extends BaseError{constructor(preview,response){super(`Remote did not reply using the "smart" HTTP protocol. Expected "001e# service=git-upload-pack" but received: ${preview}`),this.code=this.name=_SmartHttpError.code,this.data={preview,response}}};SmartHttpError.code="SmartHttpError";var UnknownTransportError=class _UnknownTransportError extends BaseError{constructor(url,transport,suggestion){super(`Git remote "${url}" uses an unrecognized transport protocol: "${transport}"`),this.code=this.name=_UnknownTransportError.code,this.data={url,transport,suggestion}}};UnknownTransportError.code="UnknownTransportError";var UrlParseError=class _UrlParseError extends BaseError{constructor(url){super(`Cannot parse remote URL: "${url}"`),this.code=this.name=_UrlParseError.code,this.data={url}}};UrlParseError.code="UrlParseError";var UserCanceledError=class _UserCanceledError extends BaseError{constructor(){super("The operation was canceled."),this.code=this.name=_UserCanceledError.code,this.data={}}};UserCanceledError.code="UserCanceledError";var IndexResetError=class _IndexResetError extends BaseError{constructor(filepath){super(`Could not merge index: Entry for '${filepath}' is not up to date. Either reset the index entry to HEAD, or stage your unstaged changes.`),this.code=this.name=_IndexResetError.code,this.data={filepath}}};IndexResetError.code="IndexResetError";var NoCommitError=class _NoCommitError extends BaseError{constructor(ref){super(`"${ref}" does not point to any commit. You're maybe working on a repository with no commits yet. `),this.code=this.name=_NoCommitError.code,this.data={ref}}};NoCommitError.code="NoCommitError";var Errors=Object.freeze({__proto__:null,AlreadyExistsError,AmbiguousError,CheckoutConflictError,CommitNotFetchedError,EmptyServerResponseError,FastForwardError,GitPushError,HttpError,InternalError,InvalidFilepathError,InvalidOidError,InvalidRefNameError,MaxDepthError,MergeNotSupportedError,MergeConflictError,MissingNameError,MissingParameterError,MultipleGitError,NoRefspecError,NotFoundError,ObjectTypeError,ParseError,PushRejectedError,RemoteCapabilityError,SmartHttpError,UnknownTransportError,UnsafeFilepathError,UrlParseError,UserCanceledError,UnmergedPathsError,IndexResetError,NoCommitError});function formatAuthor({name,email,timestamp,timezoneOffset}){return timezoneOffset=formatTimezoneOffset(timezoneOffset),`${name} <${email}> ${timestamp} ${timezoneOffset}`}function formatTimezoneOffset(minutes){let sign=simpleSign(negateExceptForZero(minutes));minutes=Math.abs(minutes);let hours=Math.floor(minutes/60);minutes-=hours*60;let strHours=String(hours),strMinutes=String(minutes);return strHours.length<2&&(strHours="0"+strHours),strMinutes.length<2&&(strMinutes="0"+strMinutes),(sign===-1?"-":"+")+strHours+strMinutes}function simpleSign(n){return Math.sign(n)||(Object.is(n,-0)?-1:1)}function negateExceptForZero(n){return n===0?n:-n}function normalizeNewlines(str){return str=str.replace(/\r/g,""),str=str.replace(/^\n+/,""),str=str.replace(/\n+$/,"")+`
`,str}function parseAuthor(author){let[,name,email,timestamp,offset]=author.match(/^(.*) <(.*)> (.*) (.*)$/);return{name,email,timestamp:Number(timestamp),timezoneOffset:parseTimezoneOffset(offset)}}function parseTimezoneOffset(offset){let[,sign,hours,minutes]=offset.match(/(\+|-)(\d\d)(\d\d)/);return minutes=(sign==="+"?1:-1)*(Number(hours)*60+Number(minutes)),negateExceptForZero$1(minutes)}function negateExceptForZero$1(n){return n===0?n:-n}var GitAnnotatedTag=class _GitAnnotatedTag{constructor(tag2){if(typeof tag2=="string")this._tag=tag2;else if(Buffer.isBuffer(tag2))this._tag=tag2.toString("utf8");else if(typeof tag2=="object")this._tag=_GitAnnotatedTag.render(tag2);else throw new InternalError("invalid type passed to GitAnnotatedTag constructor")}static from(tag2){return new _GitAnnotatedTag(tag2)}static render(obj){return`object ${obj.object}
type ${obj.type}
tag ${obj.tag}
tagger ${formatAuthor(obj.tagger)}

${obj.message}
${obj.gpgsig?obj.gpgsig:""}`}justHeaders(){return this._tag.slice(0,this._tag.indexOf(`

`))}message(){let tag2=this.withoutSignature();return tag2.slice(tag2.indexOf(`

`)+2)}parse(){return Object.assign(this.headers(),{message:this.message(),gpgsig:this.gpgsig()})}render(){return this._tag}headers(){let headers=this.justHeaders().split(`
`),hs=[];for(let h of headers)h[0]===" "?hs[hs.length-1]+=`
`+h.slice(1):hs.push(h);let obj={};for(let h of hs){let key=h.slice(0,h.indexOf(" ")),value=h.slice(h.indexOf(" ")+1);Array.isArray(obj[key])?obj[key].push(value):obj[key]=value}return obj.tagger&&(obj.tagger=parseAuthor(obj.tagger)),obj.committer&&(obj.committer=parseAuthor(obj.committer)),obj}withoutSignature(){let tag2=normalizeNewlines(this._tag);return tag2.indexOf(`
-----BEGIN PGP SIGNATURE-----`)===-1?tag2:tag2.slice(0,tag2.lastIndexOf(`
-----BEGIN PGP SIGNATURE-----`))}gpgsig(){if(this._tag.indexOf(`
-----BEGIN PGP SIGNATURE-----`)===-1)return;let signature=this._tag.slice(this._tag.indexOf("-----BEGIN PGP SIGNATURE-----"),this._tag.indexOf("-----END PGP SIGNATURE-----")+27);return normalizeNewlines(signature)}payload(){return this.withoutSignature()+`
`}toObject(){return Buffer.from(this._tag,"utf8")}static async sign(tag2,sign,secretKey){let payload=tag2.payload(),{signature}=await sign({payload,secretKey});signature=normalizeNewlines(signature);let signedTag=payload+signature;return _GitAnnotatedTag.from(signedTag)}};function indent(str){return str.trim().split(`
`).map(x=>" "+x).join(`
`)+`
`}function outdent(str){return str.split(`
`).map(x=>x.replace(/^ /,"")).join(`
`)}var GitCommit=class _GitCommit{constructor(commit2){if(typeof commit2=="string")this._commit=commit2;else if(Buffer.isBuffer(commit2))this._commit=commit2.toString("utf8");else if(typeof commit2=="object")this._commit=_GitCommit.render(commit2);else throw new InternalError("invalid type passed to GitCommit constructor")}static fromPayloadSignature({payload,signature}){let headers=_GitCommit.justHeaders(payload),message=_GitCommit.justMessage(payload),commit2=normalizeNewlines(headers+`
gpgsig`+indent(signature)+`
`+message);return new _GitCommit(commit2)}static from(commit2){return new _GitCommit(commit2)}toObject(){return Buffer.from(this._commit,"utf8")}headers(){return this.parseHeaders()}message(){return _GitCommit.justMessage(this._commit)}parse(){return Object.assign({message:this.message()},this.headers())}static justMessage(commit2){return normalizeNewlines(commit2.slice(commit2.indexOf(`

`)+2))}static justHeaders(commit2){return commit2.slice(0,commit2.indexOf(`

`))}parseHeaders(){let headers=_GitCommit.justHeaders(this._commit).split(`
`),hs=[];for(let h of headers)h[0]===" "?hs[hs.length-1]+=`
`+h.slice(1):hs.push(h);let obj={parent:[]};for(let h of hs){let key=h.slice(0,h.indexOf(" ")),value=h.slice(h.indexOf(" ")+1);Array.isArray(obj[key])?obj[key].push(value):obj[key]=value}return obj.author&&(obj.author=parseAuthor(obj.author)),obj.committer&&(obj.committer=parseAuthor(obj.committer)),obj}static renderHeaders(obj){let headers="";if(obj.tree?headers+=`tree ${obj.tree}
`:headers+=`tree 4b825dc642cb6eb9a060e54bf8d69288fbee4904
`,obj.parent){if(obj.parent.length===void 0)throw new InternalError("commit 'parent' property should be an array");for(let p of obj.parent)headers+=`parent ${p}
`}let author=obj.author;headers+=`author ${formatAuthor(author)}
`;let committer=obj.committer||obj.author;return headers+=`committer ${formatAuthor(committer)}
`,obj.gpgsig&&(headers+="gpgsig"+indent(obj.gpgsig)),headers}static render(obj){return _GitCommit.renderHeaders(obj)+`
`+normalizeNewlines(obj.message)}render(){return this._commit}withoutSignature(){let commit2=normalizeNewlines(this._commit);if(commit2.indexOf(`
gpgsig`)===-1)return commit2;let headers=commit2.slice(0,commit2.indexOf(`
gpgsig`)),message=commit2.slice(commit2.indexOf(`-----END PGP SIGNATURE-----
`)+28);return normalizeNewlines(headers+`
`+message)}isolateSignature(){let signature=this._commit.slice(this._commit.indexOf("-----BEGIN PGP SIGNATURE-----"),this._commit.indexOf("-----END PGP SIGNATURE-----")+27);return outdent(signature)}static async sign(commit2,sign,secretKey){let payload=commit2.withoutSignature(),message=_GitCommit.justMessage(commit2._commit),{signature}=await sign({payload,secretKey});signature=normalizeNewlines(signature);let signedCommit=_GitCommit.justHeaders(commit2._commit)+`
gpgsig`+indent(signature)+`
`+message;return _GitCommit.from(signedCommit)}};async function resolveTree({fs:fs3,cache,gitdir,oid}){if(oid==="4b825dc642cb6eb9a060e54bf8d69288fbee4904")return{tree:GitTree.from([]),oid};let{type,object}=await _readObject({fs:fs3,cache,gitdir,oid});if(type==="tag")return oid=GitAnnotatedTag.from(object).parse().object,resolveTree({fs:fs3,cache,gitdir,oid});if(type==="commit")return oid=GitCommit.from(object).parse().tree,resolveTree({fs:fs3,cache,gitdir,oid});if(type!=="tree")throw new ObjectTypeError(oid,type,"tree");return{tree:GitTree.from(object),oid}}var GitWalkerRepo=class{constructor({fs:fs3,gitdir,ref,cache}){this.fs=fs3,this.cache=cache,this.gitdir=gitdir,this.mapPromise=(async()=>{let map=new Map,oid;try{oid=await GitRefManager.resolve({fs:fs3,gitdir,ref})}catch(e){e instanceof NotFoundError&&(oid="4b825dc642cb6eb9a060e54bf8d69288fbee4904")}let tree=await resolveTree({fs:fs3,cache:this.cache,gitdir,oid});return tree.type="tree",tree.mode="40000",map.set(".",tree),map})();let walker=this;this.ConstructEntry=class{constructor(fullpath){this._fullpath=fullpath,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}async type(){return walker.type(this)}async mode(){return walker.mode(this)}async stat(){return walker.stat(this)}async content(){return walker.content(this)}async oid(){return walker.oid(this)}}}async readdir(entry){let filepath=entry._fullpath,{fs:fs3,cache,gitdir}=this,map=await this.mapPromise,obj=map.get(filepath);if(!obj)throw new Error(`No obj for ${filepath}`);let oid=obj.oid;if(!oid)throw new Error(`No oid for obj ${JSON.stringify(obj)}`);if(obj.type!=="tree")return null;let{type,object}=await _readObject({fs:fs3,cache,gitdir,oid});if(type!==obj.type)throw new ObjectTypeError(oid,type,obj.type);let tree=GitTree.from(object);for(let entry2 of tree)map.set(join(filepath,entry2.path),entry2);return tree.entries().map(entry2=>join(filepath,entry2.path))}async type(entry){if(entry._type===!1){let map=await this.mapPromise,{type}=map.get(entry._fullpath);entry._type=type}return entry._type}async mode(entry){if(entry._mode===!1){let map=await this.mapPromise,{mode}=map.get(entry._fullpath);entry._mode=normalizeMode(parseInt(mode,8))}return entry._mode}async stat(_entry){}async content(entry){if(entry._content===!1){let map=await this.mapPromise,{fs:fs3,cache,gitdir}=this,oid=map.get(entry._fullpath).oid,{type,object}=await _readObject({fs:fs3,cache,gitdir,oid});type!=="blob"?entry._content=void 0:entry._content=new Uint8Array(object)}return entry._content}async oid(entry){if(entry._oid===!1){let obj=(await this.mapPromise).get(entry._fullpath);entry._oid=obj.oid}return entry._oid}};function TREE({ref="HEAD"}={}){let o=Object.create(null);return Object.defineProperty(o,GitWalkSymbol,{value:function({fs:fs3,gitdir,cache}){return new GitWalkerRepo({fs:fs3,gitdir,ref,cache})}}),Object.freeze(o),o}var GitWalkerFs=class{constructor({fs:fs3,dir,gitdir,cache}){this.fs=fs3,this.cache=cache,this.dir=dir,this.gitdir=gitdir,this.config=null;let walker=this;this.ConstructEntry=class{constructor(fullpath){this._fullpath=fullpath,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}async type(){return walker.type(this)}async mode(){return walker.mode(this)}async stat(){return walker.stat(this)}async content(){return walker.content(this)}async oid(){return walker.oid(this)}}}async readdir(entry){let filepath=entry._fullpath,{fs:fs3,dir}=this,names=await fs3.readdir(join(dir,filepath));return names===null?null:names.map(name=>join(filepath,name))}async type(entry){return entry._type===!1&&await entry.stat(),entry._type}async mode(entry){return entry._mode===!1&&await entry.stat(),entry._mode}async stat(entry){if(entry._stat===!1){let{fs:fs3,dir}=this,stat=await fs3.lstat(`${dir}/${entry._fullpath}`);if(!stat)throw new Error(`ENOENT: no such file or directory, lstat '${entry._fullpath}'`);let type=stat.isDirectory()?"tree":"blob";type==="blob"&&!stat.isFile()&&!stat.isSymbolicLink()&&(type="special"),entry._type=type,stat=normalizeStats(stat),entry._mode=stat.mode,stat.size===-1&&entry._actualSize&&(stat.size=entry._actualSize),entry._stat=stat}return entry._stat}async content(entry){if(entry._content===!1){let{fs:fs3,dir,gitdir}=this;if(await entry.type()==="tree")entry._content=void 0;else{let content;if(await entry.mode()>>12===10)content=await fs3.readlink(`${dir}/${entry._fullpath}`);else{let autocrlf=await(await this._getGitConfig(fs3,gitdir)).get("core.autocrlf");content=await fs3.read(`${dir}/${entry._fullpath}`,{autocrlf})}entry._actualSize=content.length,entry._stat&&entry._stat.size===-1&&(entry._stat.size=entry._actualSize),entry._content=new Uint8Array(content)}}return entry._content}async oid(entry){if(entry._oid===!1){let self2=this,{fs:fs3,gitdir,cache}=this,oid;await GitIndexManager.acquire({fs:fs3,gitdir,cache},async function(index3){let stage=index3.entriesMap.get(entry._fullpath),stats=await entry.stat(),filemode=await(await self2._getGitConfig(fs3,gitdir)).get("core.filemode"),trustino=typeof process<"u"?process.platform!=="win32":!0;if(!stage||compareStats(stats,stage,filemode,trustino)){let content=await entry.content();content===void 0?oid=void 0:(oid=await shasum(GitObject.wrap({type:"blob",object:content})),stage&&oid===stage.oid&&(!filemode||stats.mode===stage.mode)&&compareStats(stats,stage,filemode,trustino)&&index3.insert({filepath:entry._fullpath,stats,oid}))}else oid=stage.oid}),entry._oid=oid}return entry._oid}async _getGitConfig(fs3,gitdir){return this.config?this.config:(this.config=await GitConfigManager.get({fs:fs3,gitdir}),this.config)}};function WORKDIR(){let o=Object.create(null);return Object.defineProperty(o,GitWalkSymbol,{value:function({fs:fs3,dir,gitdir,cache}){return new GitWalkerFs({fs:fs3,dir,gitdir,cache})}}),Object.freeze(o),o}function arrayRange(start,end){let length=end-start;return Array.from({length},(_,i)=>start+i)}var flat=typeof Array.prototype.flat>"u"?entries=>entries.reduce((acc,x)=>acc.concat(x),[]):entries=>entries.flat(),RunningMinimum=class{constructor(){this.value=null}consider(value){value!=null&&(this.value===null?this.value=value:value<this.value&&(this.value=value))}reset(){this.value=null}};function*unionOfIterators(sets){let min=new RunningMinimum,minimum,heads=[],numsets=sets.length;for(let i=0;i<numsets;i++)heads[i]=sets[i].next().value,heads[i]!==void 0&&min.consider(heads[i]);if(min.value!==null)for(;;){let result=[];minimum=min.value,min.reset();for(let i=0;i<numsets;i++)heads[i]!==void 0&&heads[i]===minimum?(result[i]=heads[i],heads[i]=sets[i].next().value):result[i]=null,heads[i]!==void 0&&min.consider(heads[i]);if(yield result,min.value===null)return}}async function _walk({fs:fs3,cache,dir,gitdir,trees,map=async(_,entry)=>entry,reduce=async(parent,children)=>{let flatten=flat(children);return parent!==void 0&&flatten.unshift(parent),flatten},iterate=(walk2,children)=>Promise.all([...children].map(walk2))}){let walkers=trees.map(proxy2=>proxy2[GitWalkSymbol]({fs:fs3,dir,gitdir,cache})),root=new Array(walkers.length).fill("."),range=arrayRange(0,walkers.length),unionWalkerFromReaddir=async entries=>{range.forEach(i=>{let entry=entries[i];entries[i]=entry&&new walkers[i].ConstructEntry(entry)});let iterators=(await Promise.all(range.map(i=>{let entry=entries[i];return entry?walkers[i].readdir(entry):[]}))).map(array=>(array===null?[]:array)[Symbol.iterator]());return{entries,children:unionOfIterators(iterators)}},walk2=async root2=>{let{entries,children}=await unionWalkerFromReaddir(root2),fullpath=entries.find(entry=>entry&&entry._fullpath)._fullpath,parent=await map(fullpath,entries);if(parent!==null){let walkedChildren=await iterate(walk2,children);return walkedChildren=walkedChildren.filter(x=>x!==void 0),reduce(parent,walkedChildren)}};return walk2(root)}async function rmRecursive(fs3,filepath){let entries=await fs3.readdir(filepath);entries==null?await fs3.rm(filepath):entries.length?await Promise.all(entries.map(entry=>{let subpath=join(filepath,entry);return fs3.lstat(subpath).then(stat=>{if(stat)return stat.isDirectory()?rmRecursive(fs3,subpath):fs3.rm(subpath)})})).then(()=>fs3.rmdir(filepath)):await fs3.rmdir(filepath)}function isPromiseLike(obj){return isObject4(obj)&&isFunction2(obj.then)&&isFunction2(obj.catch)}function isObject4(obj){return obj&&typeof obj=="object"}function isFunction2(obj){return typeof obj=="function"}function isPromiseFs(fs3){return isPromiseLike((targetFs=>{try{return targetFs.readFile().catch(e=>e)}catch(e){return e}})(fs3))}var commands=["readFile","writeFile","mkdir","rmdir","unlink","stat","lstat","readdir","readlink","symlink"];function bindFs(target,fs3){if(isPromiseFs(fs3))for(let command of commands)target[`_${command}`]=fs3[command].bind(fs3);else for(let command of commands)target[`_${command}`]=pify(fs3[command].bind(fs3));isPromiseFs(fs3)?(fs3.cp&&(target._cp=fs3.cp.bind(fs3)),fs3.rm?target._rm=fs3.rm.bind(fs3):fs3.rmdir.length>1?target._rm=fs3.rmdir.bind(fs3):target._rm=rmRecursive.bind(null,target)):(fs3.cp&&(target._cp=pify(fs3.cp.bind(fs3))),fs3.rm?target._rm=pify(fs3.rm.bind(fs3)):fs3.rmdir.length>2?target._rm=pify(fs3.rmdir.bind(fs3)):target._rm=rmRecursive.bind(null,target))}var FileSystem=class{constructor(fs3){if(typeof fs3._original_unwrapped_fs<"u")return fs3;let promises=Object.getOwnPropertyDescriptor(fs3,"promises");promises&&promises.enumerable?bindFs(this,fs3.promises):bindFs(this,fs3),this._original_unwrapped_fs=fs3}async exists(filepath,options2={}){try{return await this._stat(filepath),!0}catch(err){if(err.code==="ENOENT"||err.code==="ENOTDIR"||(err.code||"").includes("ENS"))return!1;throw console.log('Unhandled error in "FileSystem.exists()" function',err),err}}async read(filepath,options2={}){try{let buffer=await this._readFile(filepath,options2);if(options2.autocrlf==="true")try{buffer=new TextDecoder("utf8",{fatal:!0}).decode(buffer),buffer=buffer.replace(/\r\n/g,`
`),buffer=new TextEncoder().encode(buffer)}catch{}return typeof buffer!="string"&&(buffer=Buffer.from(buffer)),buffer}catch{return null}}async write(filepath,contents,options2={}){try{await this._writeFile(filepath,contents,options2)}catch{await this.mkdir(dirname(filepath)),await this._writeFile(filepath,contents,options2)}}async mkdir(filepath,_selfCall=!1){try{await this._mkdir(filepath)}catch(err){if(err===null||err.code==="EEXIST")return;if(_selfCall)throw err;if(err.code==="ENOENT"){let parent=dirname(filepath);if(parent==="."||parent==="/"||parent===filepath)throw err;await this.mkdir(parent),await this.mkdir(filepath,!0)}}}async rm(filepath){try{await this._unlink(filepath)}catch(err){if(err.code!=="ENOENT")throw err}}async rmdir(filepath,opts){try{opts&&opts.recursive?await this._rm(filepath,opts):await this._rmdir(filepath)}catch(err){if(err.code!=="ENOENT")throw err}}async readdir(filepath){try{let names=await this._readdir(filepath);return names.sort(compareStrings),names}catch(err){return err.code==="ENOTDIR"?null:[]}}async readdirDeep(dir){let subdirs=await this._readdir(dir);return(await Promise.all(subdirs.map(async subdir=>{let res=dir+"/"+subdir;return(await this._stat(res)).isDirectory()?this.readdirDeep(res):res}))).reduce((a,f)=>a.concat(f),[])}async lstat(filename){try{return await this._lstat(filename)}catch(err){if(err.code==="ENOENT"||(err.code||"").includes("ENS"))return null;throw err}}async readlink(filename,opts={encoding:"buffer"}){try{let link3=await this._readlink(filename,opts);return Buffer.isBuffer(link3)?link3:Buffer.from(link3)}catch(err){if(err.code==="ENOENT"||(err.code||"").includes("ENS"))return null;throw err}}async writelink(filename,buffer){return this._symlink(buffer.toString("utf8"),filename)}};function assertParameter(name,value){if(value===void 0)throw new MissingParameterError(name)}async function discoverGitdir({fsp,dotgit}){assertParameter("fsp",fsp),assertParameter("dotgit",dotgit);let dotgitStat=await fsp._stat(dotgit).catch(()=>({isFile:()=>!1,isDirectory:()=>!1}));return dotgitStat.isDirectory()?dotgit:dotgitStat.isFile()?fsp._readFile(dotgit,"utf8").then(contents=>contents.trimRight().substr(8)).then(submoduleGitdir=>join(dirname(dotgit),submoduleGitdir)):dotgit}async function modified(entry,base){return!entry&&!base?!1:entry&&!base||!entry&&base?!0:!(await entry.type()==="tree"&&await base.type()==="tree"||await entry.type()===await base.type()&&await entry.mode()===await base.mode()&&await entry.oid()===await base.oid())}async function abortMerge({fs:_fs,dir,gitdir=join(dir,".git"),commit:commit2="HEAD",cache={}}){try{assertParameter("fs",_fs),assertParameter("dir",dir),assertParameter("gitdir",gitdir);let fs3=new FileSystem(_fs),trees=[TREE({ref:commit2}),WORKDIR(),STAGE()],unmergedPaths=[],updatedGitdir=await discoverGitdir({fsp:fs3,dotgit:gitdir});await GitIndexManager.acquire({fs:fs3,gitdir:updatedGitdir,cache},async function(index3){unmergedPaths=index3.unmergedPaths});let results=await _walk({fs:fs3,cache,dir,gitdir:updatedGitdir,trees,map:async function(path5,[head,workdir,index3]){let staged=!await modified(workdir,index3),unmerged=unmergedPaths.includes(path5),unmodified=!await modified(index3,head);if(staged||unmerged)return head?{path:path5,mode:await head.mode(),oid:await head.oid(),type:await head.type(),content:await head.content()}:void 0;if(unmodified)return!1;throw new IndexResetError(path5)}});await GitIndexManager.acquire({fs:fs3,gitdir:updatedGitdir,cache},async function(index3){for(let entry of results)if(entry!==!1){if(!entry){await fs3.rmdir(`${dir}/${entry.path}`,{recursive:!0}),index3.delete({filepath:entry.path});continue}if(entry.type==="blob"){let content=new TextDecoder().decode(entry.content);await fs3.write(`${dir}/${entry.path}`,content,{mode:entry.mode}),index3.insert({filepath:entry.path,oid:entry.oid,stage:0})}}})}catch(err){throw err.caller="git.abortMerge",err}}var GitIgnoreManager=class{static async isIgnored({fs:fs3,dir,gitdir=join(dir,".git"),filepath}){if(basename(filepath)===".git")return!0;if(filepath===".")return!1;let excludes="",excludesFile=join(gitdir,"info","exclude");await fs3.exists(excludesFile)&&(excludes=await fs3.read(excludesFile,"utf8"));let pairs=[{gitignore:join(dir,".gitignore"),filepath}],pieces=filepath.split("/").filter(Boolean);for(let i=1;i<pieces.length;i++){let folder=pieces.slice(0,i).join("/"),file=pieces.slice(i).join("/");pairs.push({gitignore:join(dir,folder,".gitignore"),filepath:file})}let ignoredStatus=!1;for(let p of pairs){let file;try{file=await fs3.read(p.gitignore,"utf8")}catch(err){if(err.code==="NOENT")continue}let ign=ignore().add(excludes);ign.add(file);let parentdir=dirname(p.filepath);if(parentdir!=="."&&ign.ignores(parentdir))return!0;ignoredStatus?ignoredStatus=!ign.test(p.filepath).unignored:ignoredStatus=ign.test(p.filepath).ignored}return ignoredStatus}};async function writeObjectLoose({fs:fs3,gitdir,object,format:format2,oid}){if(format2!=="deflated")throw new InternalError("GitObjectStoreLoose expects objects to write to be in deflated format");let source=`objects/${oid.slice(0,2)}/${oid.slice(2)}`,filepath=`${gitdir}/${source}`;await fs3.exists(filepath)||await fs3.write(filepath,object)}var supportsCompressionStream=null;async function deflate(buffer){return supportsCompressionStream===null&&(supportsCompressionStream=testCompressionStream()),supportsCompressionStream?browserDeflate(buffer):pako.deflate(buffer)}async function browserDeflate(buffer){let cs=new CompressionStream("deflate"),c=new Blob([buffer]).stream().pipeThrough(cs);return new Uint8Array(await new Response(c).arrayBuffer())}function testCompressionStream(){try{return new CompressionStream("deflate").writable.close(),new Blob([]).stream().cancel(),!0}catch{return!1}}async function _writeObject({fs:fs3,gitdir,type,object,format:format2="content",oid=void 0,dryRun=!1}){return format2!=="deflated"&&(format2!=="wrapped"&&(object=GitObject.wrap({type,object})),oid=await shasum(object),object=Buffer.from(await deflate(object))),dryRun||await writeObjectLoose({fs:fs3,gitdir,object,format:"deflated",oid}),oid}function posixifyPathBuffer(buffer){let idx;for(;~(idx=buffer.indexOf(92));)buffer[idx]=47;return buffer}async function add2({fs:_fs,dir,gitdir=join(dir,".git"),filepath,cache={},force=!1,parallel=!0}){try{assertParameter("fs",_fs),assertParameter("dir",dir),assertParameter("gitdir",gitdir),assertParameter("filepath",filepath);let fs3=new FileSystem(_fs),updatedGitdir=await discoverGitdir({fsp:fs3,dotgit:gitdir});await GitIndexManager.acquire({fs:fs3,gitdir:updatedGitdir,cache},async index3=>{let autocrlf=await(await GitConfigManager.get({fs:fs3,gitdir:updatedGitdir})).get("core.autocrlf");return addToIndex({dir,gitdir:updatedGitdir,fs:fs3,filepath,index:index3,force,parallel,autocrlf})})}catch(err){throw err.caller="git.add",err}}async function addToIndex({dir,gitdir,fs:fs3,filepath,index:index3,force,parallel,autocrlf}){filepath=Array.isArray(filepath)?filepath:[filepath];let promises=filepath.map(async currentFilepath=>{if(!force&&await GitIgnoreManager.isIgnored({fs:fs3,dir,gitdir,filepath:currentFilepath}))return;let stats=await fs3.lstat(join(dir,currentFilepath));if(!stats)throw new NotFoundError(currentFilepath);if(stats.isDirectory()){let children=await fs3.readdir(join(dir,currentFilepath));if(parallel){let promises2=children.map(child=>addToIndex({dir,gitdir,fs:fs3,filepath:[join(currentFilepath,child)],index:index3,force,parallel,autocrlf}));await Promise.all(promises2)}else for(let child of children)await addToIndex({dir,gitdir,fs:fs3,filepath:[join(currentFilepath,child)],index:index3,force,parallel,autocrlf})}else{let object=stats.isSymbolicLink()?await fs3.readlink(join(dir,currentFilepath)).then(posixifyPathBuffer):await fs3.read(join(dir,currentFilepath),{autocrlf});if(object===null)throw new NotFoundError(currentFilepath);let oid=await _writeObject({fs:fs3,gitdir,type:"blob",object});index3.insert({filepath:currentFilepath,stats,oid})}}),settledPromises=await Promise.allSettled(promises),rejectedPromises=settledPromises.filter(settle=>settle.status==="rejected").map(settle=>settle.reason);if(rejectedPromises.length>1)throw new MultipleGitError(rejectedPromises);if(rejectedPromises.length===1)throw rejectedPromises[0];return settledPromises.filter(settle=>settle.status==="fulfilled"&&settle.value).map(settle=>settle.value)}async function _getConfig({fs:fs3,gitdir,path:path5}){return(await GitConfigManager.get({fs:fs3,gitdir})).get(path5)}function assignDefined(target,...sources){for(let source of sources)if(source)for(let key of Object.keys(source)){let val=source[key];val!==void 0&&(target[key]=val)}return target}async function normalizeAuthorObject({fs:fs3,gitdir,author,commit:commit2}){let timestamp=Math.floor(Date.now()/1e3),defaultAuthor={name:await _getConfig({fs:fs3,gitdir,path:"user.name"}),email:await _getConfig({fs:fs3,gitdir,path:"user.email"})||"",timestamp,timezoneOffset:new Date(timestamp*1e3).getTimezoneOffset()},normalizedAuthor=assignDefined({},defaultAuthor,commit2?commit2.author:void 0,author);if(normalizedAuthor.name!==void 0)return normalizedAuthor}async function normalizeCommitterObject({fs:fs3,gitdir,author,committer,commit:commit2}){let timestamp=Math.floor(Date.now()/1e3),defaultCommitter={name:await _getConfig({fs:fs3,gitdir,path:"user.name"}),email:await _getConfig({fs:fs3,gitdir,path:"user.email"})||"",timestamp,timezoneOffset:new Date(timestamp*1e3).getTimezoneOffset()},normalizedCommitter=assignDefined({},defaultCommitter,commit2?commit2.committer:void 0,author,committer);if(normalizedCommitter.name!==void 0)return normalizedCommitter}async function resolveCommit({fs:fs3,cache,gitdir,oid}){let{type,object}=await _readObject({fs:fs3,cache,gitdir,oid});if(type==="tag")return oid=GitAnnotatedTag.from(object).parse().object,resolveCommit({fs:fs3,cache,gitdir,oid});if(type!=="commit")throw new ObjectTypeError(oid,type,"commit");return{commit:GitCommit.from(object),oid}}async function _readCommit({fs:fs3,cache,gitdir,oid}){let{commit:commit2,oid:commitOid}=await resolveCommit({fs:fs3,cache,gitdir,oid});return{oid:commitOid,commit:commit2.parse(),payload:commit2.withoutSignature()}}async function _commit({fs:fs3,cache,onSign,gitdir,message,author:_author,committer:_committer,signingKey,amend=!1,dryRun=!1,noUpdateBranch=!1,ref,parent,tree}){let initialCommit=!1,detachedHead=!1;ref||(detachedHead=!(await fs3.read(`${gitdir}/HEAD`,{encoding:"utf8"})).startsWith("ref:"),ref=await GitRefManager.resolve({fs:fs3,gitdir,ref:"HEAD",depth:2}));let refOid,refCommit;try{refOid=await GitRefManager.resolve({fs:fs3,gitdir,ref}),refCommit=await _readCommit({fs:fs3,gitdir,oid:refOid,cache:{}})}catch{initialCommit=!0}if(amend&&initialCommit)throw new NoCommitError(ref);let author=amend?await normalizeAuthorObject({fs:fs3,gitdir,author:_author,commit:refCommit.commit}):await normalizeAuthorObject({fs:fs3,gitdir,author:_author});if(!author)throw new MissingNameError("author");let committer=amend?await normalizeCommitterObject({fs:fs3,gitdir,author,committer:_committer,commit:refCommit.commit}):await normalizeCommitterObject({fs:fs3,gitdir,author,committer:_committer});if(!committer)throw new MissingNameError("committer");return GitIndexManager.acquire({fs:fs3,gitdir,cache,allowUnmerged:!1},async function(index3){let inode=flatFileListToDirectoryStructure(index3.entries).get(".");if(tree||(tree=await constructTree({fs:fs3,gitdir,inode,dryRun})),parent?parent=await Promise.all(parent.map(p=>GitRefManager.resolve({fs:fs3,gitdir,ref:p}))):amend?parent=refCommit.commit.parent:parent=refOid?[refOid]:[],!message)if(amend)message=refCommit.commit.message;else throw new MissingParameterError("message");let comm=GitCommit.from({tree,parent,author,committer,message});signingKey&&(comm=await GitCommit.sign(comm,onSign,signingKey));let oid=await _writeObject({fs:fs3,gitdir,type:"commit",object:comm.toObject(),dryRun});return!noUpdateBranch&&!dryRun&&await GitRefManager.writeRef({fs:fs3,gitdir,ref:detachedHead?"HEAD":ref,value:oid}),oid})}async function constructTree({fs:fs3,gitdir,inode,dryRun}){let children=inode.children;for(let inode2 of children)inode2.type==="tree"&&(inode2.metadata.mode="040000",inode2.metadata.oid=await constructTree({fs:fs3,gitdir,inode:inode2,dryRun}));let entries=children.map(inode2=>({mode:inode2.metadata.mode,path:inode2.basename,oid:inode2.metadata.oid,type:inode2.type})),tree=GitTree.from(entries);return await _writeObject({fs:fs3,gitdir,type:"tree",object:tree.toObject(),dryRun})}async function resolveFilepath({fs:fs3,cache,gitdir,oid,filepath}){if(filepath.startsWith("/"))throw new InvalidFilepathError("leading-slash");if(filepath.endsWith("/"))throw new InvalidFilepathError("trailing-slash");let _oid=oid,result=await resolveTree({fs:fs3,cache,gitdir,oid}),tree=result.tree;if(filepath==="")oid=result.oid;else{let pathArray=filepath.split("/");oid=await _resolveFilepath({fs:fs3,cache,gitdir,tree,pathArray,oid:_oid,filepath})}return oid}async function _resolveFilepath({fs:fs3,cache,gitdir,tree,pathArray,oid,filepath}){let name=pathArray.shift();for(let entry of tree)if(entry.path===name){if(pathArray.length===0)return entry.oid;{let{type,object}=await _readObject({fs:fs3,cache,gitdir,oid:entry.oid});if(type!=="tree")throw new ObjectTypeError(oid,type,"tree",filepath);return tree=GitTree.from(object),_resolveFilepath({fs:fs3,cache,gitdir,tree,pathArray,oid,filepath})}}throw new NotFoundError(`file or directory found at "${oid}:${filepath}"`)}async function _readTree({fs:fs3,cache,gitdir,oid,filepath=void 0}){filepath!==void 0&&(oid=await resolveFilepath({fs:fs3,cache,gitdir,oid,filepath}));let{tree,oid:treeOid}=await resolveTree({fs:fs3,cache,gitdir,oid});return{oid:treeOid,tree:tree.entries()}}async function _writeTree({fs:fs3,gitdir,tree}){let object=GitTree.from(tree).toObject();return await _writeObject({fs:fs3,gitdir,type:"tree",object,format:"content"})}async function _addNote({fs:fs3,cache,onSign,gitdir,ref,oid,note,force,author,committer,signingKey}){let parent;try{parent=await GitRefManager.resolve({gitdir,fs:fs3,ref})}catch(err){if(!(err instanceof NotFoundError))throw err}let tree=(await _readTree({fs:fs3,cache,gitdir,oid:parent||"4b825dc642cb6eb9a060e54bf8d69288fbee4904"})).tree;if(force)tree=tree.filter(entry=>entry.path!==oid);else for(let entry of tree)if(entry.path===oid)throw new AlreadyExistsError("note",oid);typeof note=="string"&&(note=Buffer.from(note,"utf8"));let noteOid=await _writeObject({fs:fs3,gitdir,type:"blob",object:note,format:"content"});tree.push({mode:"100644",path:oid,oid:noteOid,type:"blob"});let treeOid=await _writeTree({fs:fs3,gitdir,tree});return await _commit({fs:fs3,cache,onSign,gitdir,ref,tree:treeOid,parent:parent&&[parent],message:`Note added by 'isomorphic-git addNote'
`,author,committer,signingKey})}async function addNote({fs:_fs,onSign,dir,gitdir=join(dir,".git"),ref="refs/notes/commits",oid,note,force,author:_author,committer:_committer,signingKey,cache={}}){try{assertParameter("fs",_fs),assertParameter("gitdir",gitdir),assertParameter("oid",oid),assertParameter("note",note),signingKey&&assertParameter("onSign",onSign);let fs3=new FileSystem(_fs),author=await normalizeAuthorObject({fs:fs3,gitdir,author:_author});if(!author)throw new MissingNameError("author");let committer=await normalizeCommitterObject({fs:fs3,gitdir,author,committer:_committer});if(!committer)throw new MissingNameError("committer");let updatedGitdir=await discoverGitdir({fsp:fs3,dotgit:gitdir});return await _addNote({fs:fs3,cache,onSign,gitdir:updatedGitdir,ref,oid,note,force,author,committer,signingKey})}catch(err){throw err.caller="git.addNote",err}}var bad=/(^|[/.])([/.]|$)|^@$|@{|[\x00-\x20\x7f~^:?*[\\]|\.lock(\/|$)/;function isValidRef(name,onelevel){if(typeof name!="string")throw new TypeError("Reference name must be a string");return!bad.test(name)&&(!!onelevel||name.includes("/"))}async function _addRemote({fs:fs3,gitdir,remote,url,force}){if(!isValidRef(remote,!0))throw new InvalidRefNameError(remote,cleanGitRef.clean(remote));let config3=await GitConfigManager.get({fs:fs3,gitdir});if(!force&&(await config3.getSubsections("remote")).includes(remote)&&url!==await config3.get(`remote.${remote}.url`))throw new AlreadyExistsError("remote",remote);await config3.set(`remote.${remote}.url`,url),await config3.set(`remote.${remote}.fetch`,`+refs/heads/*:refs/remotes/${remote}/*`),await GitConfigManager.save({fs:fs3,gitdir,config:config3})}async function addRemote({fs:fs3,dir,gitdir=join(dir,".git"),remote,url,force=!1}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("remote",remote),assertParameter("url",url);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _addRemote({fs:fsp,gitdir:updatedGitdir,remote,url,force})}catch(err){throw err.caller="git.addRemote",err}}async function _annotatedTag({fs:fs3,cache,onSign,gitdir,ref,tagger,message=ref,gpgsig,object,signingKey,force=!1}){if(ref=ref.startsWith("refs/tags/")?ref:`refs/tags/${ref}`,!force&&await GitRefManager.exists({fs:fs3,gitdir,ref}))throw new AlreadyExistsError("tag",ref);let oid=await GitRefManager.resolve({fs:fs3,gitdir,ref:object||"HEAD"}),{type}=await _readObject({fs:fs3,cache,gitdir,oid}),tagObject=GitAnnotatedTag.from({object:oid,type,tag:ref.replace("refs/tags/",""),tagger,message,gpgsig});signingKey&&(tagObject=await GitAnnotatedTag.sign(tagObject,onSign,signingKey));let value=await _writeObject({fs:fs3,gitdir,type:"tag",object:tagObject.toObject()});await GitRefManager.writeRef({fs:fs3,gitdir,ref,value})}async function annotatedTag({fs:_fs,onSign,dir,gitdir=join(dir,".git"),ref,tagger:_tagger,message=ref,gpgsig,object,signingKey,force=!1,cache={}}){try{assertParameter("fs",_fs),assertParameter("gitdir",gitdir),assertParameter("ref",ref),signingKey&&assertParameter("onSign",onSign);let fs3=new FileSystem(_fs),updatedGitdir=await discoverGitdir({fsp:fs3,dotgit:gitdir}),tagger=await normalizeAuthorObject({fs:fs3,gitdir:updatedGitdir,author:_tagger});if(!tagger)throw new MissingNameError("tagger");return await _annotatedTag({fs:fs3,cache,onSign,gitdir:updatedGitdir,ref,tagger,message,gpgsig,object,signingKey,force})}catch(err){throw err.caller="git.annotatedTag",err}}async function _branch({fs:fs3,gitdir,ref,object,checkout:checkout2=!1,force=!1}){if(!isValidRef(ref,!0))throw new InvalidRefNameError(ref,cleanGitRef.clean(ref));let fullref=`refs/heads/${ref}`;if(!force&&await GitRefManager.exists({fs:fs3,gitdir,ref:fullref}))throw new AlreadyExistsError("branch",ref,!1);let oid;try{oid=await GitRefManager.resolve({fs:fs3,gitdir,ref:object||"HEAD"})}catch{}oid&&await GitRefManager.writeRef({fs:fs3,gitdir,ref:fullref,value:oid}),checkout2&&await GitRefManager.writeSymbolicRef({fs:fs3,gitdir,ref:"HEAD",value:fullref})}async function branch({fs:fs3,dir,gitdir=join(dir,".git"),ref,object,checkout:checkout2=!1,force=!1}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("ref",ref);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _branch({fs:fsp,gitdir:updatedGitdir,ref,object,checkout:checkout2,force})}catch(err){throw err.caller="git.branch",err}}var worthWalking=(filepath,root)=>filepath==="."||root==null||root.length===0||root==="."?!0:root.length>=filepath.length?root.startsWith(filepath):filepath.startsWith(root);async function _checkout({fs:fs3,cache,onProgress,onPostCheckout,dir,gitdir,remote,ref,filepaths,noCheckout,noUpdateHead,dryRun,force,track=!0,nonBlocking=!1,batchSize=100}){let oldOid;if(onPostCheckout)try{oldOid=await GitRefManager.resolve({fs:fs3,gitdir,ref:"HEAD"})}catch{oldOid="0000000000000000000000000000000000000000"}let oid;try{oid=await GitRefManager.resolve({fs:fs3,gitdir,ref})}catch(err){if(ref==="HEAD")throw err;let remoteRef=`${remote}/${ref}`;if(oid=await GitRefManager.resolve({fs:fs3,gitdir,ref:remoteRef}),track){let config3=await GitConfigManager.get({fs:fs3,gitdir});await config3.set(`branch.${ref}.remote`,remote),await config3.set(`branch.${ref}.merge`,`refs/heads/${ref}`),await GitConfigManager.save({fs:fs3,gitdir,config:config3})}await GitRefManager.writeRef({fs:fs3,gitdir,ref:`refs/heads/${ref}`,value:oid})}if(!noCheckout){let ops;try{ops=await analyze({fs:fs3,cache,onProgress,dir,gitdir,ref,force,filepaths})}catch(err){throw err instanceof NotFoundError&&err.data.what===oid?new CommitNotFetchedError(ref,oid):err}let conflicts=ops.filter(([method])=>method==="conflict").map(([method,fullpath])=>fullpath);if(conflicts.length>0)throw new CheckoutConflictError(conflicts);let errors=ops.filter(([method])=>method==="error").map(([method,fullpath])=>fullpath);if(errors.length>0)throw new InternalError(errors.join(", "));if(dryRun){onPostCheckout&&await onPostCheckout({previousHead:oldOid,newHead:oid,type:filepaths!=null&&filepaths.length>0?"file":"branch"});return}let count=0,total=ops.length;if(await GitIndexManager.acquire({fs:fs3,gitdir,cache},async function(index3){await Promise.all(ops.filter(([method])=>method==="delete"||method==="delete-index").map(async function([method,fullpath]){let filepath=`${dir}/${fullpath}`;method==="delete"&&await fs3.rm(filepath),index3.delete({filepath:fullpath}),onProgress&&await onProgress({phase:"Updating workdir",loaded:++count,total})}))}),await GitIndexManager.acquire({fs:fs3,gitdir,cache},async function(index3){for(let[method,fullpath]of ops)if(method==="rmdir"||method==="rmdir-index"){let filepath=`${dir}/${fullpath}`;try{method==="rmdir"&&await fs3.rmdir(filepath),index3.delete({filepath:fullpath}),onProgress&&await onProgress({phase:"Updating workdir",loaded:++count,total})}catch(e){if(e.code==="ENOTEMPTY")console.log(`Did not delete ${fullpath} because directory is not empty`);else throw e}}}),await Promise.all(ops.filter(([method])=>method==="mkdir"||method==="mkdir-index").map(async function([_,fullpath]){let filepath=`${dir}/${fullpath}`;await fs3.mkdir(filepath),onProgress&&await onProgress({phase:"Updating workdir",loaded:++count,total})})),nonBlocking){let eligibleOps=ops.filter(([method])=>method==="create"||method==="create-index"||method==="update"||method==="mkdir-index"),updateWorkingDirResults=await batchAllSettled("Update Working Dir",eligibleOps.map(([method,fullpath,oid2,mode,chmod])=>()=>updateWorkingDir({fs:fs3,cache,gitdir,dir},[method,fullpath,oid2,mode,chmod])),onProgress,batchSize);await GitIndexManager.acquire({fs:fs3,gitdir,cache,allowUnmerged:!0},async function(index3){await batchAllSettled("Update Index",updateWorkingDirResults.map(([fullpath,oid2,stats])=>()=>updateIndex({index:index3,fullpath,oid:oid2,stats})),onProgress,batchSize)})}else await GitIndexManager.acquire({fs:fs3,gitdir,cache,allowUnmerged:!0},async function(index3){await Promise.all(ops.filter(([method])=>method==="create"||method==="create-index"||method==="update"||method==="mkdir-index").map(async function([method,fullpath,oid2,mode,chmod]){let filepath=`${dir}/${fullpath}`;try{if(method!=="create-index"&&method!=="mkdir-index"){let{object}=await _readObject({fs:fs3,cache,gitdir,oid:oid2});if(chmod&&await fs3.rm(filepath),mode===33188)await fs3.write(filepath,object);else if(mode===33261)await fs3.write(filepath,object,{mode:511});else if(mode===40960)await fs3.writelink(filepath,object);else throw new InternalError(`Invalid mode 0o${mode.toString(8)} detected in blob ${oid2}`)}let stats=await fs3.lstat(filepath);mode===33261&&(stats.mode=493),method==="mkdir-index"&&(stats.mode=57344),index3.insert({filepath:fullpath,stats,oid:oid2}),onProgress&&await onProgress({phase:"Updating workdir",loaded:++count,total})}catch(e){console.log(e)}}))});onPostCheckout&&await onPostCheckout({previousHead:oldOid,newHead:oid,type:filepaths!=null&&filepaths.length>0?"file":"branch"})}if(!noUpdateHead){let fullRef=await GitRefManager.expand({fs:fs3,gitdir,ref});fullRef.startsWith("refs/heads")?await GitRefManager.writeSymbolicRef({fs:fs3,gitdir,ref:"HEAD",value:fullRef}):await GitRefManager.writeRef({fs:fs3,gitdir,ref:"HEAD",value:oid})}}async function analyze({fs:fs3,cache,onProgress,dir,gitdir,ref,force,filepaths}){let count=0;return _walk({fs:fs3,cache,dir,gitdir,trees:[TREE({ref}),WORKDIR(),STAGE()],map:async function(fullpath,[commit2,workdir,stage]){if(fullpath===".")return;if(filepaths&&!filepaths.some(base=>worthWalking(fullpath,base)))return null;switch(onProgress&&await onProgress({phase:"Analyzing workdir",loaded:++count}),[!!stage,!!commit2,!!workdir].map(Number).join("")){case"000":return;case"001":return force&&filepaths&&filepaths.includes(fullpath)?["delete",fullpath]:void 0;case"010":switch(await commit2.type()){case"tree":return["mkdir",fullpath];case"blob":return["create",fullpath,await commit2.oid(),await commit2.mode()];case"commit":return["mkdir-index",fullpath,await commit2.oid(),await commit2.mode()];default:return["error",`new entry Unhandled type ${await commit2.type()}`]}case"011":switch(`${await commit2.type()}-${await workdir.type()}`){case"tree-tree":return;case"tree-blob":case"blob-tree":return["conflict",fullpath];case"blob-blob":return await commit2.oid()!==await workdir.oid()?force?["update",fullpath,await commit2.oid(),await commit2.mode(),await commit2.mode()!==await workdir.mode()]:["conflict",fullpath]:await commit2.mode()!==await workdir.mode()?force?["update",fullpath,await commit2.oid(),await commit2.mode(),!0]:["conflict",fullpath]:["create-index",fullpath,await commit2.oid(),await commit2.mode()];case"commit-tree":return;case"commit-blob":return["conflict",fullpath];default:return["error",`new entry Unhandled type ${commit2.type}`]}case"100":return["delete-index",fullpath];case"101":switch(await stage.type()){case"tree":return["rmdir-index",fullpath];case"blob":return await stage.oid()!==await workdir.oid()?force?["delete",fullpath]:["conflict",fullpath]:["delete",fullpath];case"commit":return["rmdir-index",fullpath];default:return["error",`delete entry Unhandled type ${await stage.type()}`]}case"110":case"111":switch(`${await stage.type()}-${await commit2.type()}`){case"tree-tree":return;case"blob-blob":{if(await stage.oid()===await commit2.oid()&&await stage.mode()===await commit2.mode()&&!force)return;if(workdir){if(await workdir.oid()!==await stage.oid()&&await workdir.oid()!==await commit2.oid())return force?["update",fullpath,await commit2.oid(),await commit2.mode(),await commit2.mode()!==await workdir.mode()]:["conflict",fullpath]}else if(force)return["update",fullpath,await commit2.oid(),await commit2.mode(),await commit2.mode()!==await stage.mode()];return await commit2.mode()!==await stage.mode()?["update",fullpath,await commit2.oid(),await commit2.mode(),!0]:await commit2.oid()!==await stage.oid()?["update",fullpath,await commit2.oid(),await commit2.mode(),!1]:void 0}case"tree-blob":return["update-dir-to-blob",fullpath,await commit2.oid()];case"blob-tree":return["update-blob-to-tree",fullpath];case"commit-commit":return["mkdir-index",fullpath,await commit2.oid(),await commit2.mode()];default:return["error",`update entry Unhandled type ${await stage.type()}-${await commit2.type()}`]}}},reduce:async function(parent,children){return children=flat(children),parent?parent&&parent[0]==="rmdir"?(children.push(parent),children):(children.unshift(parent),children):children}})}async function updateIndex({index:index3,fullpath,stats,oid}){try{index3.insert({filepath:fullpath,stats,oid})}catch(e){console.warn(`Error inserting ${fullpath} into index:`,e)}}async function updateWorkingDir({fs:fs3,cache,gitdir,dir},[method,fullpath,oid,mode,chmod]){let filepath=`${dir}/${fullpath}`;if(method!=="create-index"&&method!=="mkdir-index"){let{object}=await _readObject({fs:fs3,cache,gitdir,oid});if(chmod&&await fs3.rm(filepath),mode===33188)await fs3.write(filepath,object);else if(mode===33261)await fs3.write(filepath,object,{mode:511});else if(mode===40960)await fs3.writelink(filepath,object);else throw new InternalError(`Invalid mode 0o${mode.toString(8)} detected in blob ${oid}`)}let stats=await fs3.lstat(filepath);return mode===33261&&(stats.mode=493),method==="mkdir-index"&&(stats.mode=57344),[fullpath,oid,stats]}async function batchAllSettled(operationName,tasks,onProgress,batchSize){let results=[];try{for(let i=0;i<tasks.length;i+=batchSize){let batch=tasks.slice(i,i+batchSize).map(task=>task());(await Promise.allSettled(batch)).forEach(result=>{result.status==="fulfilled"&&results.push(result.value)}),onProgress&&await onProgress({phase:"Updating workdir",loaded:i+batch.length,total:tasks.length})}return results}catch(error){console.error(`Error during ${operationName}: ${error}`)}return results}async function checkout({fs:fs3,onProgress,onPostCheckout,dir,gitdir=join(dir,".git"),remote="origin",ref:_ref,filepaths,noCheckout=!1,noUpdateHead=_ref===void 0,dryRun=!1,force=!1,track=!0,cache={},nonBlocking=!1,batchSize=100}){try{assertParameter("fs",fs3),assertParameter("dir",dir),assertParameter("gitdir",gitdir);let ref=_ref||"HEAD",fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _checkout({fs:fsp,cache,onProgress,onPostCheckout,dir,gitdir:updatedGitdir,remote,ref,filepaths,noCheckout,noUpdateHead,dryRun,force,track,nonBlocking,batchSize})}catch(err){throw err.caller="git.checkout",err}}var abbreviateRx=/^refs\/(heads\/|tags\/|remotes\/)?(.*)/;function abbreviateRef(ref){let match2=abbreviateRx.exec(ref);return match2?match2[1]==="remotes/"&&ref.endsWith("/HEAD")?match2[2].slice(0,-5):match2[2]:ref}async function _currentBranch({fs:fs3,gitdir,fullname=!1,test:test2=!1}){let ref=await GitRefManager.resolve({fs:fs3,gitdir,ref:"HEAD",depth:2});if(test2)try{await GitRefManager.resolve({fs:fs3,gitdir,ref})}catch{return}if(ref.startsWith("refs/"))return fullname?ref:abbreviateRef(ref)}function translateSSHtoHTTP(url){return url=url.replace(/^git@([^:]+):/,"https://$1/"),url=url.replace(/^ssh:\/\//,"https://"),url}function calculateBasicAuthHeader({username="",password=""}){return`Basic ${Buffer.from(`${username}:${password}`).toString("base64")}`}async function forAwait2(iterable,cb){let iter=getIterator2(iterable);for(;;){let{value,done}=await iter.next();if(value&&await cb(value),done)break}iter.return&&iter.return()}async function collect2(iterable){let size=0,buffers=[];await forAwait2(iterable,value=>{buffers.push(value),size+=value.byteLength});let result=new Uint8Array(size),nextIndex=0;for(let buffer of buffers)result.set(buffer,nextIndex),nextIndex+=buffer.byteLength;return result}function extractAuthFromUrl(url){let userpass=url.match(/^https?:\/\/([^/]+)@/);if(userpass==null)return{url,auth:{}};userpass=userpass[1];let[username,password]=userpass.split(":");return url=url.replace(`${userpass}@`,""),{url,auth:{username,password}}}function padHex(b,n){let s=n.toString(16);return"0".repeat(b-s.length)+s}var GitPktLine=class{static flush(){return Buffer.from("0000","utf8")}static delim(){return Buffer.from("0001","utf8")}static encode(line){typeof line=="string"&&(line=Buffer.from(line));let length=line.length+4,hexlength=padHex(4,length);return Buffer.concat([Buffer.from(hexlength,"utf8"),line])}static streamReader(stream){let reader=new StreamReader(stream);return async function(){try{let length=await reader.read(4);if(length==null)return!0;if(length=parseInt(length.toString("utf8"),16),length===0||length===1)return null;let buffer=await reader.read(length-4);return buffer??!0}catch(err){return stream.error=err,!0}}}};async function parseCapabilitiesV2(read){let capabilities2={},line;for(;line=await read(),line!==!0;){if(line===null)continue;line=line.toString("utf8").replace(/\n$/,"");let i=line.indexOf("=");if(i>-1){let key=line.slice(0,i),value=line.slice(i+1);capabilities2[key]=value}else capabilities2[line]=!0}return{protocolVersion:2,capabilities2}}async function parseRefsAdResponse(stream,{service}){let capabilities=new Set,refs=new Map,symrefs=new Map,read=GitPktLine.streamReader(stream),lineOne=await read();for(;lineOne===null;)lineOne=await read();if(lineOne===!0)throw new EmptyServerResponseError;if(lineOne.includes("version 2"))return parseCapabilitiesV2(read);if(lineOne.toString("utf8").replace(/\n$/,"")!==`# service=${service}`)throw new ParseError(`# service=${service}\\n`,lineOne.toString("utf8"));let lineTwo=await read();for(;lineTwo===null;)lineTwo=await read();if(lineTwo===!0)return{capabilities,refs,symrefs};if(lineTwo=lineTwo.toString("utf8"),lineTwo.includes("version 2"))return parseCapabilitiesV2(read);let[firstRef,capabilitiesLine]=splitAndAssert(lineTwo,"\0","\\x00");if(capabilitiesLine.split(" ").map(x=>capabilities.add(x)),firstRef!=="0000000000000000000000000000000000000000 capabilities^{}"){let[ref,name]=splitAndAssert(firstRef," "," ");for(refs.set(name,ref);;){let line=await read();if(line===!0)break;if(line!==null){let[ref2,name2]=splitAndAssert(line.toString("utf8")," "," ");refs.set(name2,ref2)}}}for(let cap of capabilities)if(cap.startsWith("symref=")){let m=cap.match(/symref=([^:]+):(.*)/);m.length===3&&symrefs.set(m[1],m[2])}return{protocolVersion:1,capabilities,refs,symrefs}}function splitAndAssert(line,sep,expected){let split=line.trim().split(sep);if(split.length!==2)throw new ParseError(`Two strings separated by '${expected}'`,line.toString("utf8"));return split}var corsProxify=(corsProxy,url)=>corsProxy.endsWith("?")?`${corsProxy}${url}`:`${corsProxy}/${url.replace(/^https?:\/\//,"")}`,updateHeaders=(headers,auth)=>{(auth.username||auth.password)&&(headers.Authorization=calculateBasicAuthHeader(auth)),auth.headers&&Object.assign(headers,auth.headers)},stringifyBody=async res=>{try{let data=Buffer.from(await collect2(res.body)),response=data.toString("utf8");return{preview:response.length<256?response:response.slice(0,256)+"...",response,data}}catch{return{}}},GitRemoteHTTP=class{static async capabilities(){return["discover","connect"]}static async discover({http,onProgress,onAuth,onAuthSuccess,onAuthFailure,corsProxy,service,url:_origUrl,headers,protocolVersion:protocolVersion2}){let{url,auth}=extractAuthFromUrl(_origUrl),proxifiedURL=corsProxy?corsProxify(corsProxy,url):url;(auth.username||auth.password)&&(headers.Authorization=calculateBasicAuthHeader(auth)),protocolVersion2===2&&(headers["Git-Protocol"]="version=2");let res,tryAgain,providedAuthBefore=!1;do if(res=await http.request({onProgress,method:"GET",url:`${proxifiedURL}/info/refs?service=${service}`,headers}),tryAgain=!1,res.statusCode===401||res.statusCode===203){let getAuth=providedAuthBefore?onAuthFailure:onAuth;if(getAuth){if(auth=await getAuth(url,{...auth,headers:{...headers}}),auth&&auth.cancel)throw new UserCanceledError;auth&&(updateHeaders(headers,auth),providedAuthBefore=!0,tryAgain=!0)}}else res.statusCode===200&&providedAuthBefore&&onAuthSuccess&&await onAuthSuccess(url,auth);while(tryAgain);if(res.statusCode!==200){let{response}=await stringifyBody(res);throw new HttpError(res.statusCode,res.statusMessage,response)}if(res.headers["content-type"]===`application/x-${service}-advertisement`){let remoteHTTP=await parseRefsAdResponse(res.body,{service});return remoteHTTP.auth=auth,remoteHTTP}else{let{preview,response,data}=await stringifyBody(res);try{let remoteHTTP=await parseRefsAdResponse([data],{service});return remoteHTTP.auth=auth,remoteHTTP}catch{throw new SmartHttpError(preview,response)}}}static async connect({http,onProgress,corsProxy,service,url,auth,body,headers}){let urlAuth=extractAuthFromUrl(url);urlAuth&&(url=urlAuth.url),corsProxy&&(url=corsProxify(corsProxy,url)),headers["content-type"]=`application/x-${service}-request`,headers.accept=`application/x-${service}-result`,updateHeaders(headers,auth);let res=await http.request({onProgress,method:"POST",url:`${url}/${service}`,body,headers});if(res.statusCode!==200){let{response}=stringifyBody(res);throw new HttpError(res.statusCode,res.statusMessage,response)}return res}},GitRemoteManager=class{static getRemoteHelperFor({url}){let remoteHelpers=new Map;remoteHelpers.set("http",GitRemoteHTTP),remoteHelpers.set("https",GitRemoteHTTP);let parts=parseRemoteUrl({url});if(!parts)throw new UrlParseError(url);if(remoteHelpers.has(parts.transport))return remoteHelpers.get(parts.transport);throw new UnknownTransportError(url,parts.transport,parts.transport==="ssh"?translateSSHtoHTTP(url):void 0)}};function parseRemoteUrl({url}){if(url.startsWith("git@"))return{transport:"ssh",address:url};let matches=url.match(/(\w+)(:\/\/|::)(.*)/);if(matches!==null){if(matches[2]==="://")return{transport:matches[1],address:matches[0]};if(matches[2]==="::")return{transport:matches[1],address:matches[3]}}}var lock$2=null,GitShallowManager=class{static async read({fs:fs3,gitdir}){lock$2===null&&(lock$2=new AsyncLock);let filepath=join(gitdir,"shallow"),oids=new Set;return await lock$2.acquire(filepath,async function(){let text2=await fs3.read(filepath,{encoding:"utf8"});if(text2===null||text2.trim()==="")return oids;text2.trim().split(`
`).map(oid=>oids.add(oid))}),oids}static async write({fs:fs3,gitdir,oids}){lock$2===null&&(lock$2=new AsyncLock);let filepath=join(gitdir,"shallow");if(oids.size>0){let text2=[...oids].join(`
`)+`
`;await lock$2.acquire(filepath,async function(){await fs3.write(filepath,text2,{encoding:"utf8"})})}else await lock$2.acquire(filepath,async function(){await fs3.rm(filepath)})}};async function hasObjectLoose({fs:fs3,gitdir,oid}){let source=`objects/${oid.slice(0,2)}/${oid.slice(2)}`;return fs3.exists(`${gitdir}/${source}`)}async function hasObjectPacked({fs:fs3,cache,gitdir,oid,getExternalRefDelta}){let list2=await fs3.readdir(join(gitdir,"objects/pack"));list2=list2.filter(x=>x.endsWith(".idx"));for(let filename of list2){let indexFile=`${gitdir}/objects/pack/${filename}`,p=await readPackIndex({fs:fs3,cache,filename:indexFile,getExternalRefDelta});if(p.error)throw new InternalError(p.error);if(p.offsets.has(oid))return!0}return!1}async function hasObject({fs:fs3,cache,gitdir,oid,format:format2="content"}){let getExternalRefDelta=oid2=>_readObject({fs:fs3,cache,gitdir,oid:oid2}),result=await hasObjectLoose({fs:fs3,gitdir,oid});return result||(result=await hasObjectPacked({fs:fs3,cache,gitdir,oid,getExternalRefDelta})),result}function emptyPackfile(pack){let header="5041434b"+"00000002"+"00000000";return pack.slice(0,12).toString("hex")===header}function filterCapabilities(server,client){let serverNames=server.map(cap=>cap.split("=",1)[0]);return client.filter(cap=>{let name=cap.split("=",1)[0];return serverNames.includes(name)})}var pkg={name:"isomorphic-git",version:"1.36.3",agent:"git/isomorphic-git@1.36.3"},FIFO=class{constructor(){this._queue=[]}write(chunk){if(this._ended)throw Error("You cannot write to a FIFO that has already been ended!");if(this._waiting){let resolve=this._waiting;this._waiting=null,resolve({value:chunk})}else this._queue.push(chunk)}end(){if(this._ended=!0,this._waiting){let resolve=this._waiting;this._waiting=null,resolve({done:!0})}}destroy(err){this.error=err,this.end()}async next(){if(this._queue.length>0)return{value:this._queue.shift()};if(this._ended)return{done:!0};if(this._waiting)throw Error("You cannot call read until the previous call to read has returned!");return new Promise(resolve=>{this._waiting=resolve})}};function findSplit(str){let r=str.indexOf("\r"),n=str.indexOf(`
`);return r===-1&&n===-1?-1:r===-1?n+1:n===-1?r+1:n===r+1?n+1:Math.min(r,n)+1}function splitLines(input){let output=new FIFO,tmp="";return(async()=>(await forAwait2(input,chunk=>{for(chunk=chunk.toString("utf8"),tmp+=chunk;;){let i=findSplit(tmp);if(i===-1)break;output.write(tmp.slice(0,i)),tmp=tmp.slice(i)}}),tmp.length>0&&output.write(tmp),output.end()))(),output}var GitSideBand=class{static demux(input){let read=GitPktLine.streamReader(input),packetlines=new FIFO,packfile=new FIFO,progress=new FIFO,nextBit=async function(){let line=await read();if(line===null)return nextBit();if(line===!0){packetlines.end(),progress.end(),input.error?packfile.destroy(input.error):packfile.end();return}switch(line[0]){case 1:{packfile.write(line.slice(1));break}case 2:{progress.write(line.slice(1));break}case 3:{let error=line.slice(1);progress.write(error),packetlines.end(),progress.end(),packfile.destroy(new Error(error.toString("utf8")));return}default:packetlines.write(line)}nextBit()};return nextBit(),{packetlines,packfile,progress}}};async function parseUploadPackResponse(stream){let{packetlines,packfile,progress}=GitSideBand.demux(stream),shallows=[],unshallows=[],acks=[],nak=!1,done=!1;return new Promise((resolve,reject)=>{forAwait2(packetlines,data=>{let line=data.toString("utf8").trim();if(line.startsWith("shallow")){let oid=line.slice(-41).trim();oid.length!==40&&reject(new InvalidOidError(oid)),shallows.push(oid)}else if(line.startsWith("unshallow")){let oid=line.slice(-41).trim();oid.length!==40&&reject(new InvalidOidError(oid)),unshallows.push(oid)}else if(line.startsWith("ACK")){let[,oid,status2]=line.split(" ");acks.push({oid,status:status2}),status2||(done=!0)}else line.startsWith("NAK")?(nak=!0,done=!0):(done=!0,nak=!0);done&&(stream.error?reject(stream.error):resolve({shallows,unshallows,acks,nak,packfile,progress}))}).finally(()=>{done||(stream.error?reject(stream.error):resolve({shallows,unshallows,acks,nak,packfile,progress}))})})}function writeUploadPackRequest({capabilities=[],wants=[],haves=[],shallows=[],depth=null,since=null,exclude=[]}){let packstream=[];wants=[...new Set(wants)];let firstLineCapabilities=` ${capabilities.join(" ")}`;for(let oid of wants)packstream.push(GitPktLine.encode(`want ${oid}${firstLineCapabilities}
`)),firstLineCapabilities="";for(let oid of shallows)packstream.push(GitPktLine.encode(`shallow ${oid}
`));depth!==null&&packstream.push(GitPktLine.encode(`deepen ${depth}
`)),since!==null&&packstream.push(GitPktLine.encode(`deepen-since ${Math.floor(since.valueOf()/1e3)}
`));for(let oid of exclude)packstream.push(GitPktLine.encode(`deepen-not ${oid}
`));packstream.push(GitPktLine.flush());for(let oid of haves)packstream.push(GitPktLine.encode(`have ${oid}
`));return packstream.push(GitPktLine.encode(`done
`)),packstream}async function _fetch({fs:fs3,cache,http,onProgress,onMessage,onAuth,onAuthSuccess,onAuthFailure,gitdir,ref:_ref,remoteRef:_remoteRef,remote:_remote,url:_url,corsProxy,depth=null,since=null,exclude=[],relative=!1,tags=!1,singleBranch=!1,headers={},prune=!1,pruneTags=!1}){let ref=_ref||await _currentBranch({fs:fs3,gitdir,test:!0}),config3=await GitConfigManager.get({fs:fs3,gitdir}),remote=_remote||ref&&await config3.get(`branch.${ref}.remote`)||"origin",url=_url||await config3.get(`remote.${remote}.url`);if(typeof url>"u")throw new MissingParameterError("remote OR url");let remoteRef=_remoteRef||ref&&await config3.get(`branch.${ref}.merge`)||_ref||"HEAD";corsProxy===void 0&&(corsProxy=await config3.get("http.corsProxy"));let GitRemoteHTTP2=GitRemoteManager.getRemoteHelperFor({url}),remoteHTTP=await GitRemoteHTTP2.discover({http,onAuth,onAuthSuccess,onAuthFailure,corsProxy,service:"git-upload-pack",url,headers,protocolVersion:1}),auth=remoteHTTP.auth,remoteRefs=remoteHTTP.refs;if(remoteRefs.size===0)return{defaultBranch:null,fetchHead:null,fetchHeadDescription:null};if(depth!==null&&!remoteHTTP.capabilities.has("shallow"))throw new RemoteCapabilityError("shallow","depth");if(since!==null&&!remoteHTTP.capabilities.has("deepen-since"))throw new RemoteCapabilityError("deepen-since","since");if(exclude.length>0&&!remoteHTTP.capabilities.has("deepen-not"))throw new RemoteCapabilityError("deepen-not","exclude");if(relative===!0&&!remoteHTTP.capabilities.has("deepen-relative"))throw new RemoteCapabilityError("deepen-relative","relative");let{oid,fullref}=GitRefManager.resolveAgainstMap({ref:remoteRef,map:remoteRefs});for(let remoteRef2 of remoteRefs.keys())remoteRef2===fullref||remoteRef2==="HEAD"||remoteRef2.startsWith("refs/heads/")||tags&&remoteRef2.startsWith("refs/tags/")||remoteRefs.delete(remoteRef2);let capabilities=filterCapabilities([...remoteHTTP.capabilities],["multi_ack_detailed","no-done","side-band-64k","ofs-delta",`agent=${pkg.agent}`]);relative&&capabilities.push("deepen-relative");let wants=singleBranch?[oid]:remoteRefs.values(),haveRefs=singleBranch?[ref]:await GitRefManager.listRefs({fs:fs3,gitdir,filepath:"refs"}),haves=[];for(let ref2 of haveRefs)try{ref2=await GitRefManager.expand({fs:fs3,gitdir,ref:ref2});let oid2=await GitRefManager.resolve({fs:fs3,gitdir,ref:ref2});await hasObject({fs:fs3,cache,gitdir,oid:oid2})&&haves.push(oid2)}catch{}haves=[...new Set(haves)];let oids=await GitShallowManager.read({fs:fs3,gitdir}),shallows=remoteHTTP.capabilities.has("shallow")?[...oids]:[],packstream=writeUploadPackRequest({capabilities,wants,haves,shallows,depth,since,exclude}),packbuffer=Buffer.from(await collect2(packstream)),raw=await GitRemoteHTTP2.connect({http,onProgress,corsProxy,service:"git-upload-pack",url,auth,body:[packbuffer],headers}),response=await parseUploadPackResponse(raw.body);raw.headers&&(response.headers=raw.headers);for(let oid2 of response.shallows)if(!oids.has(oid2))try{let{object}=await _readObject({fs:fs3,cache,gitdir,oid:oid2}),commit2=new GitCommit(object),hasParents=await Promise.all(commit2.headers().parent.map(oid3=>hasObject({fs:fs3,cache,gitdir,oid:oid3})));hasParents.length===0||hasParents.every(has2=>has2)||oids.add(oid2)}catch{oids.add(oid2)}for(let oid2 of response.unshallows)oids.delete(oid2);if(await GitShallowManager.write({fs:fs3,gitdir,oids}),singleBranch){let refs=new Map([[fullref,oid]]),symrefs=new Map,bail=10,key=fullref;for(;bail--;){let value=remoteHTTP.symrefs.get(key);if(value===void 0)break;symrefs.set(key,value),key=value}let realRef=remoteRefs.get(key);realRef&&refs.set(key,realRef);let{pruned}=await GitRefManager.updateRemoteRefs({fs:fs3,gitdir,remote,refs,symrefs,tags,prune});prune&&(response.pruned=pruned)}else{let{pruned}=await GitRefManager.updateRemoteRefs({fs:fs3,gitdir,remote,refs:remoteRefs,symrefs:remoteHTTP.symrefs,tags,prune,pruneTags});prune&&(response.pruned=pruned)}if(response.HEAD=remoteHTTP.symrefs.get("HEAD"),response.HEAD===void 0){let{oid:oid2}=GitRefManager.resolveAgainstMap({ref:"HEAD",map:remoteRefs});for(let[key,value]of remoteRefs.entries())if(key!=="HEAD"&&value===oid2){response.HEAD=key;break}}let noun=fullref.startsWith("refs/tags")?"tag":"branch";if(response.FETCH_HEAD={oid,description:`${noun} '${abbreviateRef(fullref)}' of ${url}`},onProgress||onMessage){let lines=splitLines(response.progress);forAwait2(lines,async line=>{if(onMessage&&await onMessage(line),onProgress){let matches=line.match(/([^:]*).*\((\d+?)\/(\d+?)\)/);matches&&await onProgress({phase:matches[1].trim(),loaded:parseInt(matches[2],10),total:parseInt(matches[3],10)})}})}let packfile=Buffer.from(await collect2(response.packfile));if(raw.body.error)throw raw.body.error;let packfileSha=packfile.slice(-20).toString("hex"),res={defaultBranch:response.HEAD,fetchHead:response.FETCH_HEAD.oid,fetchHeadDescription:response.FETCH_HEAD.description};if(response.headers&&(res.headers=response.headers),prune&&(res.pruned=response.pruned),packfileSha!==""&&!emptyPackfile(packfile)){res.packfile=`objects/pack/pack-${packfileSha}.pack`;let fullpath=join(gitdir,res.packfile);await fs3.write(fullpath,packfile);let getExternalRefDelta=oid2=>_readObject({fs:fs3,cache,gitdir,oid:oid2}),idx=await GitPackIndex.fromPack({pack:packfile,getExternalRefDelta,onProgress});await fs3.write(fullpath.replace(/\.pack$/,".idx"),await idx.toBuffer())}return res}async function _init({fs:fs3,bare=!1,dir,gitdir=bare?dir:join(dir,".git"),defaultBranch="master"}){if(await fs3.exists(gitdir+"/config"))return;let folders=["hooks","info","objects/info","objects/pack","refs/heads","refs/tags"];folders=folders.map(dir2=>gitdir+"/"+dir2);for(let folder of folders)await fs3.mkdir(folder);await fs3.write(gitdir+"/config",`[core]
	repositoryformatversion = 0
	filemode = false
	bare = ${bare}
`+(bare?"":`	logallrefupdates = true
`)+`	symlinks = false
	ignorecase = true
`),await fs3.write(gitdir+"/HEAD",`ref: refs/heads/${defaultBranch}
`)}async function _clone({fs:fs3,cache,http,onProgress,onMessage,onAuth,onAuthSuccess,onAuthFailure,onPostCheckout,dir,gitdir,url,corsProxy,ref,remote,depth,since,exclude,relative,singleBranch,noCheckout,noTags,headers,nonBlocking,batchSize=100}){try{if(await _init({fs:fs3,gitdir}),await _addRemote({fs:fs3,gitdir,remote,url,force:!1}),corsProxy){let config3=await GitConfigManager.get({fs:fs3,gitdir});await config3.set("http.corsProxy",corsProxy),await GitConfigManager.save({fs:fs3,gitdir,config:config3})}let{defaultBranch,fetchHead}=await _fetch({fs:fs3,cache,http,onProgress,onMessage,onAuth,onAuthSuccess,onAuthFailure,gitdir,ref,remote,corsProxy,depth,since,exclude,relative,singleBranch,headers,tags:!noTags});if(fetchHead===null)return;ref=ref||defaultBranch,ref=ref.replace("refs/heads/",""),await _checkout({fs:fs3,cache,onProgress,onPostCheckout,dir,gitdir,ref,remote,noCheckout,nonBlocking,batchSize})}catch(err){throw await fs3.rmdir(gitdir,{recursive:!0,maxRetries:10}).catch(()=>{}),err}}async function clone({fs:fs3,http,onProgress,onMessage,onAuth,onAuthSuccess,onAuthFailure,onPostCheckout,dir,gitdir=join(dir,".git"),url,corsProxy=void 0,ref=void 0,remote="origin",depth=void 0,since=void 0,exclude=[],relative=!1,singleBranch=!1,noCheckout=!1,noTags=!1,headers={},cache={},nonBlocking=!1,batchSize=100}){try{assertParameter("fs",fs3),assertParameter("http",http),assertParameter("gitdir",gitdir),noCheckout||assertParameter("dir",dir),assertParameter("url",url);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _clone({fs:fsp,cache,http,onProgress,onMessage,onAuth,onAuthSuccess,onAuthFailure,onPostCheckout,dir,gitdir:updatedGitdir,url,corsProxy,ref,remote,depth,since,exclude,relative,singleBranch,noCheckout,noTags,headers,nonBlocking,batchSize})}catch(err){throw err.caller="git.clone",err}}async function commit({fs:_fs,onSign,dir,gitdir=join(dir,".git"),message,author,committer,signingKey,amend=!1,dryRun=!1,noUpdateBranch=!1,ref,parent,tree,cache={}}){try{assertParameter("fs",_fs),amend||assertParameter("message",message),signingKey&&assertParameter("onSign",onSign);let fs3=new FileSystem(_fs),updatedGitdir=await discoverGitdir({fsp:fs3,dotgit:gitdir});return await _commit({fs:fs3,cache,onSign,gitdir:updatedGitdir,message,author,committer,signingKey,amend,dryRun,noUpdateBranch,ref,parent,tree})}catch(err){throw err.caller="git.commit",err}}async function currentBranch({fs:fs3,dir,gitdir=join(dir,".git"),fullname=!1,test:test2=!1}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _currentBranch({fs:fsp,gitdir:updatedGitdir,fullname,test:test2})}catch(err){throw err.caller="git.currentBranch",err}}async function _deleteBranch({fs:fs3,gitdir,ref}){if(ref=ref.startsWith("refs/heads/")?ref:`refs/heads/${ref}`,!await GitRefManager.exists({fs:fs3,gitdir,ref}))throw new NotFoundError(ref);let fullRef=await GitRefManager.expand({fs:fs3,gitdir,ref}),currentRef=await _currentBranch({fs:fs3,gitdir,fullname:!0});if(fullRef===currentRef){let value=await GitRefManager.resolve({fs:fs3,gitdir,ref:fullRef});await GitRefManager.writeRef({fs:fs3,gitdir,ref:"HEAD",value})}await GitRefManager.deleteRef({fs:fs3,gitdir,ref:fullRef});let abbrevRef=abbreviateRef(ref),config3=await GitConfigManager.get({fs:fs3,gitdir});await config3.deleteSection("branch",abbrevRef),await GitConfigManager.save({fs:fs3,gitdir,config:config3})}async function deleteBranch({fs:fs3,dir,gitdir=join(dir,".git"),ref}){try{assertParameter("fs",fs3),assertParameter("ref",ref);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _deleteBranch({fs:fsp,gitdir:updatedGitdir,ref})}catch(err){throw err.caller="git.deleteBranch",err}}async function deleteRef({fs:fs3,dir,gitdir=join(dir,".git"),ref}){try{assertParameter("fs",fs3),assertParameter("ref",ref);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});await GitRefManager.deleteRef({fs:fsp,gitdir:updatedGitdir,ref})}catch(err){throw err.caller="git.deleteRef",err}}async function _deleteRemote({fs:fs3,gitdir,remote}){let config3=await GitConfigManager.get({fs:fs3,gitdir});await config3.deleteSection("remote",remote),await GitConfigManager.save({fs:fs3,gitdir,config:config3})}async function deleteRemote({fs:fs3,dir,gitdir=join(dir,".git"),remote}){try{assertParameter("fs",fs3),assertParameter("remote",remote);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _deleteRemote({fs:fsp,gitdir:updatedGitdir,remote})}catch(err){throw err.caller="git.deleteRemote",err}}async function _deleteTag({fs:fs3,gitdir,ref}){ref=ref.startsWith("refs/tags/")?ref:`refs/tags/${ref}`,await GitRefManager.deleteRef({fs:fs3,gitdir,ref})}async function deleteTag({fs:fs3,dir,gitdir=join(dir,".git"),ref}){try{assertParameter("fs",fs3),assertParameter("ref",ref);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _deleteTag({fs:fsp,gitdir:updatedGitdir,ref})}catch(err){throw err.caller="git.deleteTag",err}}async function expandOidLoose({fs:fs3,gitdir,oid:short}){let prefix=short.slice(0,2);return(await fs3.readdir(`${gitdir}/objects/${prefix}`)).map(suffix=>`${prefix}${suffix}`).filter(_oid=>_oid.startsWith(short))}async function expandOidPacked({fs:fs3,cache,gitdir,oid:short,getExternalRefDelta}){let results=[],list2=await fs3.readdir(join(gitdir,"objects/pack"));list2=list2.filter(x=>x.endsWith(".idx"));for(let filename of list2){let indexFile=`${gitdir}/objects/pack/${filename}`,p=await readPackIndex({fs:fs3,cache,filename:indexFile,getExternalRefDelta});if(p.error)throw new InternalError(p.error);for(let oid of p.offsets.keys())oid.startsWith(short)&&results.push(oid)}return results}async function _expandOid({fs:fs3,cache,gitdir,oid:short}){let getExternalRefDelta=oid=>_readObject({fs:fs3,cache,gitdir,oid}),results=await expandOidLoose({fs:fs3,gitdir,oid:short}),packedOids=await expandOidPacked({fs:fs3,cache,gitdir,oid:short,getExternalRefDelta});for(let packedOid of packedOids)results.indexOf(packedOid)===-1&&results.push(packedOid);if(results.length===1)return results[0];throw results.length>1?new AmbiguousError("oids",short,results):new NotFoundError(`an object matching "${short}"`)}async function expandOid({fs:fs3,dir,gitdir=join(dir,".git"),oid,cache={}}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("oid",oid);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _expandOid({fs:fsp,cache,gitdir:updatedGitdir,oid})}catch(err){throw err.caller="git.expandOid",err}}async function expandRef({fs:fs3,dir,gitdir=join(dir,".git"),ref}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("ref",ref);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await GitRefManager.expand({fs:fsp,gitdir:updatedGitdir,ref})}catch(err){throw err.caller="git.expandRef",err}}async function _findMergeBase({fs:fs3,cache,gitdir,oids}){let visits={},passes=oids.length,heads=oids.map((oid,index3)=>({index:index3,oid}));for(;heads.length;){let result=new Set;for(let{oid,index:index3}of heads)visits[oid]||(visits[oid]=new Set),visits[oid].add(index3),visits[oid].size===passes&&result.add(oid);if(result.size>0)return[...result];let newheads=new Map;for(let{oid,index:index3}of heads)try{let{object}=await _readObject({fs:fs3,cache,gitdir,oid}),commit2=GitCommit.from(object),{parent}=commit2.parseHeaders();for(let oid2 of parent)(!visits[oid2]||!visits[oid2].has(index3))&&newheads.set(oid2+":"+index3,{oid:oid2,index:index3})}catch{}heads=Array.from(newheads.values())}return[]}var LINEBREAKS=/^.*(\r?\n|$)/gm;function mergeFile({branches,contents}){let ourName=branches[1],theirName=branches[2],baseContent=contents[0],ourContent=contents[1],theirContent=contents[2],ours=ourContent.match(LINEBREAKS),base=baseContent.match(LINEBREAKS),theirs=theirContent.match(LINEBREAKS),result=diff3Merge(ours,base,theirs),markerSize=7,mergedText="",cleanMerge=!0;for(let item of result)item.ok&&(mergedText+=item.ok.join("")),item.conflict&&(cleanMerge=!1,mergedText+=`${"<".repeat(markerSize)} ${ourName}
`,mergedText+=item.conflict.a.join(""),mergedText+=`${"=".repeat(markerSize)}
`,mergedText+=item.conflict.b.join(""),mergedText+=`${">".repeat(markerSize)} ${theirName}
`);return{cleanMerge,mergedText}}async function mergeTree({fs:fs3,cache,dir,gitdir=join(dir,".git"),index:index3,ourOid,baseOid,theirOid,ourName="ours",baseName="base",theirName="theirs",dryRun=!1,abortOnConflict=!0,mergeDriver}){let ourTree=TREE({ref:ourOid}),baseTree=TREE({ref:baseOid}),theirTree=TREE({ref:theirOid}),unmergedFiles=[],bothModified=[],deleteByUs=[],deleteByTheirs=[],results=await _walk({fs:fs3,cache,dir,gitdir,trees:[ourTree,baseTree,theirTree],map:async function(filepath,[ours,base,theirs]){let path5=basename(filepath),ourChange=await modified(ours,base),theirChange=await modified(theirs,base);switch(`${ourChange}-${theirChange}`){case"false-false":return{mode:await base.mode(),path:path5,oid:await base.oid(),type:await base.type()};case"false-true":return!theirs&&await ours.type()==="tree"?{mode:await ours.mode(),path:path5,oid:await ours.oid(),type:await ours.type()}:theirs?{mode:await theirs.mode(),path:path5,oid:await theirs.oid(),type:await theirs.type()}:void 0;case"true-false":return!ours&&await theirs.type()==="tree"?{mode:await theirs.mode(),path:path5,oid:await theirs.oid(),type:await theirs.type()}:ours?{mode:await ours.mode(),path:path5,oid:await ours.oid(),type:await ours.type()}:void 0;case"true-true":{if(ours&&theirs&&await ours.type()==="tree"&&await theirs.type()==="tree")return{mode:await ours.mode(),path:path5,oid:await ours.oid(),type:"tree"};if(ours&&theirs&&await ours.type()==="blob"&&await theirs.type()==="blob")return mergeBlobs({fs:fs3,gitdir,path:path5,ours,base,theirs,ourName,baseName,theirName,mergeDriver}).then(async r=>{if(r.cleanMerge)abortOnConflict||index3.insert({filepath,oid:r.mergeResult.oid,stage:0});else if(unmergedFiles.push(filepath),bothModified.push(filepath),!abortOnConflict){let baseOid2="";base&&await base.type()==="blob"&&(baseOid2=await base.oid());let ourOid2=await ours.oid(),theirOid2=await theirs.oid();index3.delete({filepath}),baseOid2&&index3.insert({filepath,oid:baseOid2,stage:1}),index3.insert({filepath,oid:ourOid2,stage:2}),index3.insert({filepath,oid:theirOid2,stage:3})}return r.mergeResult});if(base&&!ours&&theirs&&await base.type()==="blob"&&await theirs.type()==="blob"){if(unmergedFiles.push(filepath),deleteByUs.push(filepath),!abortOnConflict){let baseOid2=await base.oid(),theirOid2=await theirs.oid();index3.delete({filepath}),index3.insert({filepath,oid:baseOid2,stage:1}),index3.insert({filepath,oid:theirOid2,stage:3})}return{mode:await theirs.mode(),oid:await theirs.oid(),type:"blob",path:path5}}if(base&&ours&&!theirs&&await base.type()==="blob"&&await ours.type()==="blob"){if(unmergedFiles.push(filepath),deleteByTheirs.push(filepath),!abortOnConflict){let baseOid2=await base.oid(),ourOid2=await ours.oid();index3.delete({filepath}),index3.insert({filepath,oid:baseOid2,stage:1}),index3.insert({filepath,oid:ourOid2,stage:2})}return{mode:await ours.mode(),oid:await ours.oid(),type:"blob",path:path5}}if(base&&!ours&&!theirs&&(await base.type()==="blob"||await base.type()==="tree"))return;throw new MergeNotSupportedError}}},reduce:unmergedFiles.length!==0&&(!dir||abortOnConflict)?void 0:async(parent,children)=>{let entries=children.filter(Boolean);if(parent&&!(parent&&parent.type==="tree"&&entries.length===0&&parent.path!==".")){if(entries.length>0||parent.path==="."&&entries.length===0){let object=new GitTree(entries).toObject(),oid=await _writeObject({fs:fs3,gitdir,type:"tree",object,dryRun});parent.oid=oid}return parent}}});return unmergedFiles.length!==0?(dir&&!abortOnConflict&&await _walk({fs:fs3,cache,dir,gitdir,trees:[TREE({ref:results.oid})],map:async function(filepath,[entry]){let path5=`${dir}/${filepath}`;if(await entry.type()==="blob"){let mode=await entry.mode(),content=new TextDecoder().decode(await entry.content());await fs3.write(path5,content,{mode})}return!0}}),new MergeConflictError(unmergedFiles,bothModified,deleteByUs,deleteByTheirs)):results.oid}async function mergeBlobs({fs:fs3,gitdir,path:path5,ours,base,theirs,ourName,theirName,baseName,dryRun,mergeDriver=mergeFile}){let type="blob",baseMode="100755",baseOid="",baseContent="";base&&await base.type()==="blob"&&(baseMode=await base.mode(),baseOid=await base.oid(),baseContent=Buffer.from(await base.content()).toString("utf8"));let mode=baseMode===await ours.mode()?await theirs.mode():await ours.mode();if(await ours.oid()===await theirs.oid())return{cleanMerge:!0,mergeResult:{mode,path:path5,oid:await ours.oid(),type}};if(await ours.oid()===baseOid)return{cleanMerge:!0,mergeResult:{mode,path:path5,oid:await theirs.oid(),type}};if(await theirs.oid()===baseOid)return{cleanMerge:!0,mergeResult:{mode,path:path5,oid:await ours.oid(),type}};let ourContent=Buffer.from(await ours.content()).toString("utf8"),theirContent=Buffer.from(await theirs.content()).toString("utf8"),{mergedText,cleanMerge}=await mergeDriver({branches:[baseName,ourName,theirName],contents:[baseContent,ourContent,theirContent],path:path5}),oid=await _writeObject({fs:fs3,gitdir,type:"blob",object:Buffer.from(mergedText,"utf8"),dryRun});return{cleanMerge,mergeResult:{mode,path:path5,oid,type}}}async function _merge({fs:fs3,cache,dir,gitdir,ours,theirs,fastForward:fastForward2=!0,fastForwardOnly=!1,dryRun=!1,noUpdateBranch=!1,abortOnConflict=!0,message,author,committer,signingKey,onSign,mergeDriver,allowUnrelatedHistories=!1}){ours===void 0&&(ours=await _currentBranch({fs:fs3,gitdir,fullname:!0})),ours=await GitRefManager.expand({fs:fs3,gitdir,ref:ours}),theirs=await GitRefManager.expand({fs:fs3,gitdir,ref:theirs});let ourOid=await GitRefManager.resolve({fs:fs3,gitdir,ref:ours}),theirOid=await GitRefManager.resolve({fs:fs3,gitdir,ref:theirs}),baseOids=await _findMergeBase({fs:fs3,cache,gitdir,oids:[ourOid,theirOid]});if(baseOids.length!==1)if(baseOids.length===0&&allowUnrelatedHistories)baseOids.push("4b825dc642cb6eb9a060e54bf8d69288fbee4904");else throw new MergeNotSupportedError;let baseOid=baseOids[0];if(baseOid===theirOid)return{oid:ourOid,alreadyMerged:!0};if(fastForward2&&baseOid===ourOid)return!dryRun&&!noUpdateBranch&&await GitRefManager.writeRef({fs:fs3,gitdir,ref:ours,value:theirOid}),{oid:theirOid,fastForward:!0};{if(fastForwardOnly)throw new FastForwardError;let tree=await GitIndexManager.acquire({fs:fs3,gitdir,cache,allowUnmerged:!1},async index3=>mergeTree({fs:fs3,cache,dir,gitdir,index:index3,ourOid,theirOid,baseOid,ourName:abbreviateRef(ours),baseName:"base",theirName:abbreviateRef(theirs),dryRun,abortOnConflict,mergeDriver}));if(tree instanceof MergeConflictError)throw tree;return message||(message=`Merge branch '${abbreviateRef(theirs)}' into ${abbreviateRef(ours)}`),{oid:await _commit({fs:fs3,cache,gitdir,message,ref:ours,tree,parent:[ourOid,theirOid],author,committer,signingKey,onSign,dryRun,noUpdateBranch}),tree,mergeCommit:!0}}}async function _pull({fs:fs3,cache,http,onProgress,onMessage,onAuth,onAuthSuccess,onAuthFailure,dir,gitdir,ref,url,remote,remoteRef,prune,pruneTags,fastForward:fastForward2,fastForwardOnly,corsProxy,singleBranch,headers,author,committer,signingKey}){try{if(!ref){let head=await _currentBranch({fs:fs3,gitdir});if(!head)throw new MissingParameterError("ref");ref=head}let{fetchHead,fetchHeadDescription}=await _fetch({fs:fs3,cache,http,onProgress,onMessage,onAuth,onAuthSuccess,onAuthFailure,gitdir,corsProxy,ref,url,remote,remoteRef,singleBranch,headers,prune,pruneTags});await _merge({fs:fs3,cache,gitdir,ours:ref,theirs:fetchHead,fastForward:fastForward2,fastForwardOnly,message:`Merge ${fetchHeadDescription}`,author,committer,signingKey,dryRun:!1,noUpdateBranch:!1}),await _checkout({fs:fs3,cache,onProgress,dir,gitdir,ref,remote,noCheckout:!1})}catch(err){throw err.caller="git.pull",err}}async function fastForward({fs:fs3,http,onProgress,onMessage,onAuth,onAuthSuccess,onAuthFailure,dir,gitdir=join(dir,".git"),ref,url,remote,remoteRef,corsProxy,singleBranch,headers={},cache={}}){try{assertParameter("fs",fs3),assertParameter("http",http),assertParameter("gitdir",gitdir);let thisWillNotBeUsed={name:"",email:"",timestamp:Date.now(),timezoneOffset:0},fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _pull({fs:fsp,cache,http,onProgress,onMessage,onAuth,onAuthSuccess,onAuthFailure,dir,gitdir:updatedGitdir,ref,url,remote,remoteRef,fastForwardOnly:!0,corsProxy,singleBranch,headers,author:thisWillNotBeUsed,committer:thisWillNotBeUsed})}catch(err){throw err.caller="git.fastForward",err}}async function fetch2({fs:fs3,http,onProgress,onMessage,onAuth,onAuthSuccess,onAuthFailure,dir,gitdir=join(dir,".git"),ref,remote,remoteRef,url,corsProxy,depth=null,since=null,exclude=[],relative=!1,tags=!1,singleBranch=!1,headers={},prune=!1,pruneTags=!1,cache={}}){try{assertParameter("fs",fs3),assertParameter("http",http),assertParameter("gitdir",gitdir);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _fetch({fs:fsp,cache,http,onProgress,onMessage,onAuth,onAuthSuccess,onAuthFailure,gitdir:updatedGitdir,ref,remote,remoteRef,url,corsProxy,depth,since,exclude,relative,tags,singleBranch,headers,prune,pruneTags})}catch(err){throw err.caller="git.fetch",err}}async function findMergeBase({fs:fs3,dir,gitdir=join(dir,".git"),oids,cache={}}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("oids",oids);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _findMergeBase({fs:fsp,cache,gitdir:updatedGitdir,oids})}catch(err){throw err.caller="git.findMergeBase",err}}async function _findRoot({fs:fs3,filepath}){if(await fs3.exists(join(filepath,".git")))return filepath;{let parent=dirname(filepath);if(parent===filepath)throw new NotFoundError(`git root for ${filepath}`);return _findRoot({fs:fs3,filepath:parent})}}async function findRoot({fs:fs3,filepath}){try{return assertParameter("fs",fs3),assertParameter("filepath",filepath),await _findRoot({fs:new FileSystem(fs3),filepath})}catch(err){throw err.caller="git.findRoot",err}}async function getConfig({fs:fs3,dir,gitdir=join(dir,".git"),path:path5}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("path",path5);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _getConfig({fs:fsp,gitdir:updatedGitdir,path:path5})}catch(err){throw err.caller="git.getConfig",err}}async function _getConfigAll({fs:fs3,gitdir,path:path5}){return(await GitConfigManager.get({fs:fs3,gitdir})).getall(path5)}async function getConfigAll({fs:fs3,dir,gitdir=join(dir,".git"),path:path5}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("path",path5);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _getConfigAll({fs:fsp,gitdir:updatedGitdir,path:path5})}catch(err){throw err.caller="git.getConfigAll",err}}async function getRemoteInfo({http,onAuth,onAuthSuccess,onAuthFailure,corsProxy,url,headers={},forPush=!1}){try{assertParameter("http",http),assertParameter("url",url);let remote=await GitRemoteManager.getRemoteHelperFor({url}).discover({http,onAuth,onAuthSuccess,onAuthFailure,corsProxy,service:forPush?"git-receive-pack":"git-upload-pack",url,headers,protocolVersion:1}),result={capabilities:[...remote.capabilities]};for(let[ref,oid]of remote.refs){let parts=ref.split("/"),last=parts.pop(),o=result;for(let part of parts)o[part]=o[part]||{},o=o[part];o[last]=oid}for(let[symref,ref]of remote.symrefs){let parts=symref.split("/"),last=parts.pop(),o=result;for(let part of parts)o[part]=o[part]||{},o=o[part];o[last]=ref}return result}catch(err){throw err.caller="git.getRemoteInfo",err}}function formatInfoRefs(remote,prefix,symrefs,peelTags){let refs=[];for(let[key,value]of remote.refs){if(prefix&&!key.startsWith(prefix))continue;if(key.endsWith("^{}")){if(peelTags){let _key=key.replace("^{}",""),last=refs[refs.length-1],r=last.ref===_key?last:refs.find(x=>x.ref===_key);if(r===void 0)throw new Error("I did not expect this to happen");r.peeled=value}continue}let ref={ref:key,oid:value};symrefs&&remote.symrefs.has(key)&&(ref.target=remote.symrefs.get(key)),refs.push(ref)}return refs}async function getRemoteInfo2({http,onAuth,onAuthSuccess,onAuthFailure,corsProxy,url,headers={},forPush=!1,protocolVersion:protocolVersion2=2}){try{assertParameter("http",http),assertParameter("url",url);let remote=await GitRemoteManager.getRemoteHelperFor({url}).discover({http,onAuth,onAuthSuccess,onAuthFailure,corsProxy,service:forPush?"git-receive-pack":"git-upload-pack",url,headers,protocolVersion:protocolVersion2});if(remote.protocolVersion===2)return{protocolVersion:remote.protocolVersion,capabilities:remote.capabilities2};let capabilities={};for(let cap of remote.capabilities){let[key,value]=cap.split("=");value?capabilities[key]=value:capabilities[key]=!0}return{protocolVersion:1,capabilities,refs:formatInfoRefs(remote,void 0,!0,!0)}}catch(err){throw err.caller="git.getRemoteInfo2",err}}async function hashObject({type,object,format:format2="content",oid=void 0}){return format2!=="deflated"&&(format2!=="wrapped"&&(object=GitObject.wrap({type,object})),oid=await shasum(object)),{oid,object}}async function hashBlob({object}){try{assertParameter("object",object),typeof object=="string"?object=Buffer.from(object,"utf8"):object instanceof Uint8Array||(object=new Uint8Array(object));let type="blob",{oid,object:_object}=await hashObject({type,format:"content",object});return{oid,type,object:_object,format:"wrapped"}}catch(err){throw err.caller="git.hashBlob",err}}async function _indexPack({fs:fs3,cache,onProgress,dir,gitdir,filepath}){try{filepath=join(dir,filepath);let pack=await fs3.read(filepath),getExternalRefDelta=oid=>_readObject({fs:fs3,cache,gitdir,oid}),idx=await GitPackIndex.fromPack({pack,getExternalRefDelta,onProgress});return await fs3.write(filepath.replace(/\.pack$/,".idx"),await idx.toBuffer()),{oids:[...idx.hashes]}}catch(err){throw err.caller="git.indexPack",err}}async function indexPack({fs:fs3,onProgress,dir,gitdir=join(dir,".git"),filepath,cache={}}){try{assertParameter("fs",fs3),assertParameter("dir",dir),assertParameter("gitdir",dir),assertParameter("filepath",filepath);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _indexPack({fs:fsp,cache,onProgress,dir,gitdir:updatedGitdir,filepath})}catch(err){throw err.caller="git.indexPack",err}}async function init({fs:fs3,bare=!1,dir,gitdir=bare?dir:join(dir,".git"),defaultBranch="master"}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),bare||assertParameter("dir",dir);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _init({fs:fsp,bare,dir,gitdir:updatedGitdir,defaultBranch})}catch(err){throw err.caller="git.init",err}}async function _isDescendent({fs:fs3,cache,gitdir,oid,ancestor,depth}){let shallows=await GitShallowManager.read({fs:fs3,gitdir});if(!oid)throw new MissingParameterError("oid");if(!ancestor)throw new MissingParameterError("ancestor");if(oid===ancestor)return!1;let queue=[oid],visited=new Set,searchdepth=0;for(;queue.length;){if(searchdepth++===depth)throw new MaxDepthError(depth);let oid2=queue.shift(),{type,object}=await _readObject({fs:fs3,cache,gitdir,oid:oid2});if(type!=="commit")throw new ObjectTypeError(oid2,type,"commit");let commit2=GitCommit.from(object).parse();for(let parent of commit2.parent)if(parent===ancestor)return!0;if(!shallows.has(oid2))for(let parent of commit2.parent)visited.has(parent)||(queue.push(parent),visited.add(parent))}return!1}async function isDescendent({fs:fs3,dir,gitdir=join(dir,".git"),oid,ancestor,depth=-1,cache={}}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("oid",oid),assertParameter("ancestor",ancestor);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _isDescendent({fs:fsp,cache,gitdir:updatedGitdir,oid,ancestor,depth})}catch(err){throw err.caller="git.isDescendent",err}}async function isIgnored({fs:fs3,dir,gitdir=join(dir,".git"),filepath}){try{assertParameter("fs",fs3),assertParameter("dir",dir),assertParameter("gitdir",gitdir),assertParameter("filepath",filepath);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return GitIgnoreManager.isIgnored({fs:fsp,dir,gitdir:updatedGitdir,filepath})}catch(err){throw err.caller="git.isIgnored",err}}async function listBranches({fs:fs3,dir,gitdir=join(dir,".git"),remote}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return GitRefManager.listBranches({fs:fsp,gitdir:updatedGitdir,remote})}catch(err){throw err.caller="git.listBranches",err}}async function _listFiles({fs:fs3,gitdir,ref,cache}){if(ref){let oid=await GitRefManager.resolve({gitdir,fs:fs3,ref}),filenames=[];return await accumulateFilesFromOid({fs:fs3,cache,gitdir,oid,filenames,prefix:""}),filenames}else return GitIndexManager.acquire({fs:fs3,gitdir,cache},async function(index3){return index3.entries.map(x=>x.path)})}async function accumulateFilesFromOid({fs:fs3,cache,gitdir,oid,filenames,prefix}){let{tree}=await _readTree({fs:fs3,cache,gitdir,oid});for(let entry of tree)entry.type==="tree"?await accumulateFilesFromOid({fs:fs3,cache,gitdir,oid:entry.oid,filenames,prefix:join(prefix,entry.path)}):filenames.push(join(prefix,entry.path))}async function listFiles({fs:fs3,dir,gitdir=join(dir,".git"),ref,cache={}}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _listFiles({fs:fsp,cache,gitdir:updatedGitdir,ref})}catch(err){throw err.caller="git.listFiles",err}}async function _listNotes({fs:fs3,cache,gitdir,ref}){let parent;try{parent=await GitRefManager.resolve({gitdir,fs:fs3,ref})}catch(err){if(err instanceof NotFoundError)return[]}return(await _readTree({fs:fs3,cache,gitdir,oid:parent})).tree.map(entry=>({target:entry.path,note:entry.oid}))}async function listNotes({fs:fs3,dir,gitdir=join(dir,".git"),ref="refs/notes/commits",cache={}}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("ref",ref);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _listNotes({fs:fsp,cache,gitdir:updatedGitdir,ref})}catch(err){throw err.caller="git.listNotes",err}}async function listRefs({fs:fs3,dir,gitdir=join(dir,".git"),filepath}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return GitRefManager.listRefs({fs:fsp,gitdir:updatedGitdir,filepath})}catch(err){throw err.caller="git.listRefs",err}}async function _listRemotes({fs:fs3,gitdir}){let config3=await GitConfigManager.get({fs:fs3,gitdir}),remoteNames=await config3.getSubsections("remote");return Promise.all(remoteNames.map(async remote=>{let url=await config3.get(`remote.${remote}.url`);return{remote,url}}))}async function listRemotes({fs:fs3,dir,gitdir=join(dir,".git")}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _listRemotes({fs:fsp,gitdir:updatedGitdir})}catch(err){throw err.caller="git.listRemotes",err}}async function parseListRefsResponse(stream){let read=GitPktLine.streamReader(stream),refs=[],line;for(;line=await read(),line!==!0;){if(line===null)continue;line=line.toString("utf8").replace(/\n$/,"");let[oid,ref,...attrs]=line.split(" "),r={ref,oid};for(let attr of attrs){let[name,value]=attr.split(":");name==="symref-target"?r.target=value:name==="peeled"&&(r.peeled=value)}refs.push(r)}return refs}async function writeListRefsRequest({prefix,symrefs,peelTags}){let packstream=[];return packstream.push(GitPktLine.encode(`command=ls-refs
`)),packstream.push(GitPktLine.encode(`agent=${pkg.agent}
`)),(peelTags||symrefs||prefix)&&packstream.push(GitPktLine.delim()),peelTags&&packstream.push(GitPktLine.encode("peel")),symrefs&&packstream.push(GitPktLine.encode("symrefs")),prefix&&packstream.push(GitPktLine.encode(`ref-prefix ${prefix}`)),packstream.push(GitPktLine.flush()),packstream}async function listServerRefs({http,onAuth,onAuthSuccess,onAuthFailure,corsProxy,url,headers={},forPush=!1,protocolVersion:protocolVersion2=2,prefix,symrefs,peelTags}){try{assertParameter("http",http),assertParameter("url",url);let remote=await GitRemoteHTTP.discover({http,onAuth,onAuthSuccess,onAuthFailure,corsProxy,service:forPush?"git-receive-pack":"git-upload-pack",url,headers,protocolVersion:protocolVersion2});if(remote.protocolVersion===1)return formatInfoRefs(remote,prefix,symrefs,peelTags);let body=await writeListRefsRequest({prefix,symrefs,peelTags}),res=await GitRemoteHTTP.connect({http,auth:remote.auth,headers,corsProxy,service:forPush?"git-receive-pack":"git-upload-pack",url,body});return parseListRefsResponse(res.body)}catch(err){throw err.caller="git.listServerRefs",err}}async function listTags({fs:fs3,dir,gitdir=join(dir,".git")}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return GitRefManager.listTags({fs:fsp,gitdir:updatedGitdir})}catch(err){throw err.caller="git.listTags",err}}function compareAge(a,b){return a.committer.timestamp-b.committer.timestamp}var EMPTY_OID="e69de29bb2d1d6434b8b29ae775ad8c2e48c5391";async function resolveFileIdInTree({fs:fs3,cache,gitdir,oid,fileId}){if(fileId===EMPTY_OID)return;let _oid=oid,filepath,result=await resolveTree({fs:fs3,cache,gitdir,oid}),tree=result.tree;return fileId===result.oid?filepath=result.path:(filepath=await _resolveFileId({fs:fs3,cache,gitdir,tree,fileId,oid:_oid}),Array.isArray(filepath)&&(filepath.length===0?filepath=void 0:filepath.length===1&&(filepath=filepath[0]))),filepath}async function _resolveFileId({fs:fs3,cache,gitdir,tree,fileId,oid,filepaths=[],parentPath=""}){let walks=tree.entries().map(function(entry){let result;return entry.oid===fileId?(result=join(parentPath,entry.path),filepaths.push(result)):entry.type==="tree"&&(result=_readObject({fs:fs3,cache,gitdir,oid:entry.oid}).then(function({object}){return _resolveFileId({fs:fs3,cache,gitdir,tree:GitTree.from(object),fileId,oid,filepaths,parentPath:join(parentPath,entry.path)})})),result});return await Promise.all(walks),filepaths}async function _log({fs:fs3,cache,gitdir,filepath,ref,depth,since,force,follow}){let sinceTimestamp=typeof since>"u"?void 0:Math.floor(since.valueOf()/1e3),commits=[],shallowCommits=await GitShallowManager.read({fs:fs3,gitdir}),oid=await GitRefManager.resolve({fs:fs3,gitdir,ref}),tips=[await _readCommit({fs:fs3,cache,gitdir,oid})],lastFileOid,lastCommit,isOk;function endCommit(commit2){isOk&&filepath&&commits.push(commit2)}for(;tips.length>0;){let commit2=tips.pop();if(sinceTimestamp!==void 0&&commit2.commit.committer.timestamp<=sinceTimestamp)break;if(filepath){let vFileOid;try{vFileOid=await resolveFilepath({fs:fs3,cache,gitdir,oid:commit2.commit.tree,filepath}),lastCommit&&lastFileOid!==vFileOid&&commits.push(lastCommit),lastFileOid=vFileOid,lastCommit=commit2,isOk=!0}catch(e){if(e instanceof NotFoundError){let found=follow&&lastFileOid;if(found&&(found=await resolveFileIdInTree({fs:fs3,cache,gitdir,oid:commit2.commit.tree,fileId:lastFileOid}),found))if(Array.isArray(found)){if(lastCommit){let lastFound=await resolveFileIdInTree({fs:fs3,cache,gitdir,oid:lastCommit.commit.tree,fileId:lastFileOid});if(Array.isArray(lastFound))if(found=found.filter(p=>lastFound.indexOf(p)===-1),found.length===1)found=found[0],filepath=found,lastCommit&&commits.push(lastCommit);else{found=!1,lastCommit&&commits.push(lastCommit);break}}}else filepath=found,lastCommit&&commits.push(lastCommit);if(!found){if(isOk&&lastFileOid&&(commits.push(lastCommit),!force))break;if(!force&&!follow)throw e}lastCommit=commit2,isOk=!1}else throw e}}else commits.push(commit2);if(depth!==void 0&&commits.length===depth){endCommit(commit2);break}if(!shallowCommits.has(commit2.oid))for(let oid2 of commit2.commit.parent){let commit3=await _readCommit({fs:fs3,cache,gitdir,oid:oid2});tips.map(commit4=>commit4.oid).includes(commit3.oid)||tips.push(commit3)}tips.length===0&&endCommit(commit2),tips.sort((a,b)=>compareAge(a.commit,b.commit))}return commits}async function log({fs:fs3,dir,gitdir=join(dir,".git"),filepath,ref="HEAD",depth,since,force,follow,cache={}}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("ref",ref);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _log({fs:fsp,cache,gitdir:updatedGitdir,filepath,ref,depth,since,force,follow})}catch(err){throw err.caller="git.log",err}}async function merge({fs:_fs,onSign,dir,gitdir=join(dir,".git"),ours,theirs,fastForward:fastForward2=!0,fastForwardOnly=!1,dryRun=!1,noUpdateBranch=!1,abortOnConflict=!0,message,author:_author,committer:_committer,signingKey,cache={},mergeDriver,allowUnrelatedHistories=!1}){try{assertParameter("fs",_fs),signingKey&&assertParameter("onSign",onSign);let fs3=new FileSystem(_fs),updatedGitdir=await discoverGitdir({fsp:fs3,dotgit:gitdir}),author=await normalizeAuthorObject({fs:fs3,gitdir:updatedGitdir,author:_author});if(!author&&(!fastForwardOnly||!fastForward2))throw new MissingNameError("author");let committer=await normalizeCommitterObject({fs:fs3,gitdir:updatedGitdir,author,committer:_committer});if(!committer&&(!fastForwardOnly||!fastForward2))throw new MissingNameError("committer");return await _merge({fs:fs3,cache,dir,gitdir:updatedGitdir,ours,theirs,fastForward:fastForward2,fastForwardOnly,dryRun,noUpdateBranch,abortOnConflict,message,author,committer,signingKey,onSign,mergeDriver,allowUnrelatedHistories})}catch(err){throw err.caller="git.merge",err}}var types={commit:16,tree:32,blob:48,tag:64,ofs_delta:96,ref_delta:112};async function _pack({fs:fs3,cache,dir,gitdir=join(dir,".git"),oids}){let hash=new Hash,outputStream=[];function write2(chunk,enc){let buff=Buffer.from(chunk,enc);outputStream.push(buff),hash.update(buff)}async function writeObject2({stype,object}){let type=types[stype],length=object.length,multibyte=length>15?128:0,lastFour=length&15;length=length>>>4;let byte=(multibyte|type|lastFour).toString(16);for(write2(byte,"hex");multibyte;)multibyte=length>127?128:0,byte=multibyte|length&127,write2(padHex(2,byte),"hex"),length=length>>>7;write2(Buffer.from(await deflate(object)))}write2("PACK"),write2("00000002","hex"),write2(padHex(8,oids.length),"hex");for(let oid of oids){let{type,object}=await _readObject({fs:fs3,cache,gitdir,oid});await writeObject2({write:write2,object,stype:type})}let digest=hash.digest();return outputStream.push(digest),outputStream}async function _packObjects({fs:fs3,cache,gitdir,oids,write:write2}){let buffers=await _pack({fs:fs3,cache,gitdir,oids}),packfile=Buffer.from(await collect2(buffers)),filename=`pack-${packfile.slice(-20).toString("hex")}.pack`;return write2?(await fs3.write(join(gitdir,`objects/pack/${filename}`),packfile),{filename}):{filename,packfile:new Uint8Array(packfile)}}async function packObjects({fs:fs3,dir,gitdir=join(dir,".git"),oids,write:write2=!1,cache={}}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("oids",oids);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _packObjects({fs:fsp,cache,gitdir:updatedGitdir,oids,write:write2})}catch(err){throw err.caller="git.packObjects",err}}async function pull({fs:_fs,http,onProgress,onMessage,onAuth,onAuthSuccess,onAuthFailure,dir,gitdir=join(dir,".git"),ref,url,remote,remoteRef,prune=!1,pruneTags=!1,fastForward:fastForward2=!0,fastForwardOnly=!1,corsProxy,singleBranch,headers={},author:_author,committer:_committer,signingKey,cache={}}){try{assertParameter("fs",_fs),assertParameter("gitdir",gitdir);let fs3=new FileSystem(_fs),updatedGitdir=await discoverGitdir({fsp:fs3,dotgit:gitdir}),author=await normalizeAuthorObject({fs:fs3,gitdir:updatedGitdir,author:_author});if(!author)throw new MissingNameError("author");let committer=await normalizeCommitterObject({fs:fs3,gitdir:updatedGitdir,author,committer:_committer});if(!committer)throw new MissingNameError("committer");return await _pull({fs:fs3,cache,http,onProgress,onMessage,onAuth,onAuthSuccess,onAuthFailure,dir,gitdir:updatedGitdir,ref,url,remote,remoteRef,fastForward:fastForward2,fastForwardOnly,corsProxy,singleBranch,headers,author,committer,signingKey,prune,pruneTags})}catch(err){throw err.caller="git.pull",err}}async function listCommitsAndTags({fs:fs3,cache,dir,gitdir=join(dir,".git"),start,finish}){let shallows=await GitShallowManager.read({fs:fs3,gitdir}),startingSet=new Set,finishingSet=new Set;for(let ref of start)startingSet.add(await GitRefManager.resolve({fs:fs3,gitdir,ref}));for(let ref of finish)try{let oid=await GitRefManager.resolve({fs:fs3,gitdir,ref});finishingSet.add(oid)}catch{}let visited=new Set;async function walk2(oid){visited.add(oid);let{type,object}=await _readObject({fs:fs3,cache,gitdir,oid});if(type==="tag"){let commit2=GitAnnotatedTag.from(object).headers().object;return walk2(commit2)}if(type!=="commit")throw new ObjectTypeError(oid,type,"commit");if(!shallows.has(oid)){let parents=GitCommit.from(object).headers().parent;for(oid of parents)!finishingSet.has(oid)&&!visited.has(oid)&&await walk2(oid)}}for(let oid of startingSet)await walk2(oid);return visited}async function listObjects({fs:fs3,cache,dir,gitdir=join(dir,".git"),oids}){let visited=new Set;async function walk2(oid){if(visited.has(oid))return;visited.add(oid);let{type,object}=await _readObject({fs:fs3,cache,gitdir,oid});if(type==="tag"){let obj=GitAnnotatedTag.from(object).headers().object;await walk2(obj)}else if(type==="commit"){let tree=GitCommit.from(object).headers().tree;await walk2(tree)}else if(type==="tree"){let tree=GitTree.from(object);for(let entry of tree)entry.type==="blob"&&visited.add(entry.oid),entry.type==="tree"&&await walk2(entry.oid)}}for(let oid of oids)await walk2(oid);return visited}async function parseReceivePackResponse(packfile){let result={},response="",read=GitPktLine.streamReader(packfile),line=await read();for(;line!==!0;)line!==null&&(response+=line.toString("utf8")+`
`),line=await read();let lines=response.toString("utf8").split(`
`);if(line=lines.shift(),!line.startsWith("unpack "))throw new ParseError('unpack ok" or "unpack [error message]',line);result.ok=line==="unpack ok",result.ok||(result.error=line.slice(7)),result.refs={};for(let line2 of lines){if(line2.trim()==="")continue;let status2=line2.slice(0,2),refAndMessage=line2.slice(3),space=refAndMessage.indexOf(" ");space===-1&&(space=refAndMessage.length);let ref=refAndMessage.slice(0,space),error=refAndMessage.slice(space+1);result.refs[ref]={ok:status2==="ok",error}}return result}async function writeReceivePackRequest({capabilities=[],triplets=[]}){let packstream=[],capsFirstLine=`\0 ${capabilities.join(" ")}`;for(let trip of triplets)packstream.push(GitPktLine.encode(`${trip.oldoid} ${trip.oid} ${trip.fullRef}${capsFirstLine}
`)),capsFirstLine="";return packstream.push(GitPktLine.flush()),packstream}async function _push({fs:fs3,cache,http,onProgress,onMessage,onAuth,onAuthSuccess,onAuthFailure,onPrePush,gitdir,ref:_ref,remoteRef:_remoteRef,remote,url:_url,force=!1,delete:_delete=!1,corsProxy,headers={}}){let ref=_ref||await _currentBranch({fs:fs3,gitdir});if(typeof ref>"u")throw new MissingParameterError("ref");let config3=await GitConfigManager.get({fs:fs3,gitdir});remote=remote||await config3.get(`branch.${ref}.pushRemote`)||await config3.get("remote.pushDefault")||await config3.get(`branch.${ref}.remote`)||"origin";let url=_url||await config3.get(`remote.${remote}.pushurl`)||await config3.get(`remote.${remote}.url`);if(typeof url>"u")throw new MissingParameterError("remote OR url");let remoteRef=_remoteRef||await config3.get(`branch.${ref}.merge`);if(typeof url>"u")throw new MissingParameterError("remoteRef");corsProxy===void 0&&(corsProxy=await config3.get("http.corsProxy"));let fullRef=await GitRefManager.expand({fs:fs3,gitdir,ref}),oid=_delete?"0000000000000000000000000000000000000000":await GitRefManager.resolve({fs:fs3,gitdir,ref:fullRef}),GitRemoteHTTP2=GitRemoteManager.getRemoteHelperFor({url}),httpRemote=await GitRemoteHTTP2.discover({http,onAuth,onAuthSuccess,onAuthFailure,corsProxy,service:"git-receive-pack",url,headers,protocolVersion:1}),auth=httpRemote.auth,fullRemoteRef;if(!remoteRef)fullRemoteRef=fullRef;else try{fullRemoteRef=await GitRefManager.expandAgainstMap({ref:remoteRef,map:httpRemote.refs})}catch(err){if(err instanceof NotFoundError)fullRemoteRef=remoteRef.startsWith("refs/")?remoteRef:`refs/heads/${remoteRef}`;else throw err}let oldoid=httpRemote.refs.get(fullRemoteRef)||"0000000000000000000000000000000000000000";if(onPrePush&&!await onPrePush({remote,url,localRef:{ref:_delete?"(delete)":fullRef,oid},remoteRef:{ref:fullRemoteRef,oid:oldoid}}))throw new UserCanceledError;let thinPack=!httpRemote.capabilities.has("no-thin"),objects=new Set;if(!_delete){let finish=[...httpRemote.refs.values()],skipObjects=new Set;if(oldoid!=="0000000000000000000000000000000000000000"){let mergebase=await _findMergeBase({fs:fs3,cache,gitdir,oids:[oid,oldoid]});for(let oid2 of mergebase)finish.push(oid2);thinPack&&(skipObjects=await listObjects({fs:fs3,cache,gitdir,oids:mergebase}))}if(!finish.includes(oid)){let commits=await listCommitsAndTags({fs:fs3,cache,gitdir,start:[oid],finish});objects=await listObjects({fs:fs3,cache,gitdir,oids:commits})}if(thinPack){try{let ref2=await GitRefManager.resolve({fs:fs3,gitdir,ref:`refs/remotes/${remote}/HEAD`,depth:2}),{oid:oid2}=await GitRefManager.resolveAgainstMap({ref:ref2.replace(`refs/remotes/${remote}/`,""),fullref:ref2,map:httpRemote.refs}),oids=[oid2];for(let oid3 of await listObjects({fs:fs3,cache,gitdir,oids}))skipObjects.add(oid3)}catch{}for(let oid2 of skipObjects)objects.delete(oid2)}if(oid===oldoid&&(force=!0),!force){if(fullRef.startsWith("refs/tags")&&oldoid!=="0000000000000000000000000000000000000000")throw new PushRejectedError("tag-exists");if(oid!=="0000000000000000000000000000000000000000"&&oldoid!=="0000000000000000000000000000000000000000"&&!await _isDescendent({fs:fs3,cache,gitdir,oid,ancestor:oldoid,depth:-1}))throw new PushRejectedError("not-fast-forward")}}let capabilities=filterCapabilities([...httpRemote.capabilities],["report-status","side-band-64k",`agent=${pkg.agent}`]),packstream1=await writeReceivePackRequest({capabilities,triplets:[{oldoid,oid,fullRef:fullRemoteRef}]}),packstream2=_delete?[]:await _pack({fs:fs3,cache,gitdir,oids:[...objects]}),res=await GitRemoteHTTP2.connect({http,onProgress,corsProxy,service:"git-receive-pack",url,auth,headers,body:[...packstream1,...packstream2]}),{packfile,progress}=await GitSideBand.demux(res.body);if(onMessage){let lines=splitLines(progress);forAwait2(lines,async line=>{await onMessage(line)})}let result=await parseReceivePackResponse(packfile);if(res.headers&&(result.headers=res.headers),remote&&result.ok&&result.refs[fullRemoteRef].ok&&!fullRef.startsWith("refs/tags")){let ref2=`refs/remotes/${remote}/${fullRemoteRef.replace("refs/heads","")}`;_delete?await GitRefManager.deleteRef({fs:fs3,gitdir,ref:ref2}):await GitRefManager.writeRef({fs:fs3,gitdir,ref:ref2,value:oid})}if(result.ok&&Object.values(result.refs).every(result2=>result2.ok))return result;{let prettyDetails=Object.entries(result.refs).filter(([k,v])=>!v.ok).map(([k,v])=>`
  - ${k}: ${v.error}`).join("");throw new GitPushError(prettyDetails,result)}}async function push({fs:fs3,http,onProgress,onMessage,onAuth,onAuthSuccess,onAuthFailure,onPrePush,dir,gitdir=join(dir,".git"),ref,remoteRef,remote="origin",url,force=!1,delete:_delete=!1,corsProxy,headers={},cache={}}){try{assertParameter("fs",fs3),assertParameter("http",http),assertParameter("gitdir",gitdir);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _push({fs:fsp,cache,http,onProgress,onMessage,onAuth,onAuthSuccess,onAuthFailure,onPrePush,gitdir:updatedGitdir,ref,remoteRef,remote,url,force,delete:_delete,corsProxy,headers})}catch(err){throw err.caller="git.push",err}}async function resolveBlob({fs:fs3,cache,gitdir,oid}){let{type,object}=await _readObject({fs:fs3,cache,gitdir,oid});if(type==="tag")return oid=GitAnnotatedTag.from(object).parse().object,resolveBlob({fs:fs3,cache,gitdir,oid});if(type!=="blob")throw new ObjectTypeError(oid,type,"blob");return{oid,blob:new Uint8Array(object)}}async function _readBlob({fs:fs3,cache,gitdir,oid,filepath=void 0}){return filepath!==void 0&&(oid=await resolveFilepath({fs:fs3,cache,gitdir,oid,filepath})),await resolveBlob({fs:fs3,cache,gitdir,oid})}async function readBlob({fs:fs3,dir,gitdir=join(dir,".git"),oid,filepath,cache={}}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("oid",oid);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _readBlob({fs:fsp,cache,gitdir:updatedGitdir,oid,filepath})}catch(err){throw err.caller="git.readBlob",err}}async function readCommit({fs:fs3,dir,gitdir=join(dir,".git"),oid,cache={}}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("oid",oid);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _readCommit({fs:fsp,cache,gitdir:updatedGitdir,oid})}catch(err){throw err.caller="git.readCommit",err}}async function _readNote({fs:fs3,cache,gitdir,ref="refs/notes/commits",oid}){let parent=await GitRefManager.resolve({gitdir,fs:fs3,ref}),{blob}=await _readBlob({fs:fs3,cache,gitdir,oid:parent,filepath:oid});return blob}async function readNote({fs:fs3,dir,gitdir=join(dir,".git"),ref="refs/notes/commits",oid,cache={}}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("ref",ref),assertParameter("oid",oid);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _readNote({fs:fsp,cache,gitdir:updatedGitdir,ref,oid})}catch(err){throw err.caller="git.readNote",err}}async function readObject({fs:_fs,dir,gitdir=join(dir,".git"),oid,format:format2="parsed",filepath=void 0,encoding=void 0,cache={}}){try{assertParameter("fs",_fs),assertParameter("gitdir",gitdir),assertParameter("oid",oid);let fs3=new FileSystem(_fs),updatedGitdir=await discoverGitdir({fsp:fs3,dotgit:gitdir});filepath!==void 0&&(oid=await resolveFilepath({fs:fs3,cache,gitdir:updatedGitdir,oid,filepath}));let result=await _readObject({fs:fs3,cache,gitdir:updatedGitdir,oid,format:format2==="parsed"?"content":format2});if(result.oid=oid,format2==="parsed")switch(result.format="parsed",result.type){case"commit":result.object=GitCommit.from(result.object).parse();break;case"tree":result.object=GitTree.from(result.object).entries();break;case"blob":encoding?result.object=result.object.toString(encoding):(result.object=new Uint8Array(result.object),result.format="content");break;case"tag":result.object=GitAnnotatedTag.from(result.object).parse();break;default:throw new ObjectTypeError(result.oid,result.type,"blob|commit|tag|tree")}else(result.format==="deflated"||result.format==="wrapped")&&(result.type=result.format);return result}catch(err){throw err.caller="git.readObject",err}}async function _readTag({fs:fs3,cache,gitdir,oid}){let{type,object}=await _readObject({fs:fs3,cache,gitdir,oid,format:"content"});if(type!=="tag")throw new ObjectTypeError(oid,type,"tag");let tag2=GitAnnotatedTag.from(object);return{oid,tag:tag2.parse(),payload:tag2.payload()}}async function readTag({fs:fs3,dir,gitdir=join(dir,".git"),oid,cache={}}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("oid",oid);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _readTag({fs:fsp,cache,gitdir:updatedGitdir,oid})}catch(err){throw err.caller="git.readTag",err}}async function readTree({fs:fs3,dir,gitdir=join(dir,".git"),oid,filepath=void 0,cache={}}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("oid",oid);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _readTree({fs:fsp,cache,gitdir:updatedGitdir,oid,filepath})}catch(err){throw err.caller="git.readTree",err}}async function remove({fs:_fs,dir,gitdir=join(dir,".git"),filepath,cache={}}){try{assertParameter("fs",_fs),assertParameter("gitdir",gitdir),assertParameter("filepath",filepath);let fsp=new FileSystem(_fs),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});await GitIndexManager.acquire({fs:fsp,gitdir:updatedGitdir,cache},async function(index3){index3.delete({filepath})})}catch(err){throw err.caller="git.remove",err}}async function _removeNote({fs:fs3,cache,onSign,gitdir,ref="refs/notes/commits",oid,author,committer,signingKey}){let parent;try{parent=await GitRefManager.resolve({gitdir,fs:fs3,ref})}catch(err){if(!(err instanceof NotFoundError))throw err}let tree=(await _readTree({fs:fs3,cache,gitdir,oid:parent||"4b825dc642cb6eb9a060e54bf8d69288fbee4904"})).tree;tree=tree.filter(entry=>entry.path!==oid);let treeOid=await _writeTree({fs:fs3,gitdir,tree});return await _commit({fs:fs3,cache,onSign,gitdir,ref,tree:treeOid,parent:parent&&[parent],message:`Note removed by 'isomorphic-git removeNote'
`,author,committer,signingKey})}async function removeNote({fs:_fs,onSign,dir,gitdir=join(dir,".git"),ref="refs/notes/commits",oid,author:_author,committer:_committer,signingKey,cache={}}){try{assertParameter("fs",_fs),assertParameter("gitdir",gitdir),assertParameter("oid",oid);let fs3=new FileSystem(_fs),updatedGitdir=await discoverGitdir({fsp:fs3,dotgit:gitdir}),author=await normalizeAuthorObject({fs:fs3,gitdir:updatedGitdir,author:_author});if(!author)throw new MissingNameError("author");let committer=await normalizeCommitterObject({fs:fs3,gitdir:updatedGitdir,author,committer:_committer});if(!committer)throw new MissingNameError("committer");return await _removeNote({fs:fs3,cache,onSign,gitdir:updatedGitdir,ref,oid,author,committer,signingKey})}catch(err){throw err.caller="git.removeNote",err}}async function _renameBranch({fs:fs3,gitdir,oldref,ref,checkout:checkout2=!1}){if(!isValidRef(ref,!0))throw new InvalidRefNameError(ref,cleanGitRef.clean(ref));if(!isValidRef(oldref,!0))throw new InvalidRefNameError(oldref,cleanGitRef.clean(oldref));let fulloldref=`refs/heads/${oldref}`,fullnewref=`refs/heads/${ref}`;if(await GitRefManager.exists({fs:fs3,gitdir,ref:fullnewref}))throw new AlreadyExistsError("branch",ref,!1);let value=await GitRefManager.resolve({fs:fs3,gitdir,ref:fulloldref,depth:1});await GitRefManager.writeRef({fs:fs3,gitdir,ref:fullnewref,value}),await GitRefManager.deleteRef({fs:fs3,gitdir,ref:fulloldref});let isCurrentBranch=await _currentBranch({fs:fs3,gitdir,fullname:!0})===fulloldref;(checkout2||isCurrentBranch)&&await GitRefManager.writeSymbolicRef({fs:fs3,gitdir,ref:"HEAD",value:fullnewref})}async function renameBranch({fs:fs3,dir,gitdir=join(dir,".git"),ref,oldref,checkout:checkout2=!1}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("ref",ref),assertParameter("oldref",oldref);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _renameBranch({fs:fsp,gitdir:updatedGitdir,ref,oldref,checkout:checkout2})}catch(err){throw err.caller="git.renameBranch",err}}async function hashObject$1({gitdir,type,object}){return shasum(GitObject.wrap({type,object}))}async function resetIndex({fs:_fs,dir,gitdir=join(dir,".git"),filepath,ref,cache={}}){try{assertParameter("fs",_fs),assertParameter("gitdir",gitdir),assertParameter("filepath",filepath);let fs3=new FileSystem(_fs),updatedGitdir=await discoverGitdir({fsp:fs3,dotgit:gitdir}),oid,workdirOid;try{oid=await GitRefManager.resolve({fs:fs3,gitdir:updatedGitdir,ref:ref||"HEAD"})}catch(e){if(ref)throw e}if(oid)try{oid=await resolveFilepath({fs:fs3,cache,gitdir:updatedGitdir,oid,filepath})}catch{oid=null}let stats={ctime:new Date(0),mtime:new Date(0),dev:0,ino:0,mode:0,uid:0,gid:0,size:0},object=dir&&await fs3.read(join(dir,filepath));object&&(workdirOid=await hashObject$1({gitdir:updatedGitdir,type:"blob",object}),oid===workdirOid&&(stats=await fs3.lstat(join(dir,filepath)))),await GitIndexManager.acquire({fs:fs3,gitdir:updatedGitdir,cache},async function(index3){index3.delete({filepath}),oid&&index3.insert({filepath,stats,oid})})}catch(err){throw err.caller="git.reset",err}}async function resolveRef({fs:fs3,dir,gitdir=join(dir,".git"),ref,depth}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("ref",ref);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await GitRefManager.resolve({fs:fsp,gitdir:updatedGitdir,ref,depth})}catch(err){throw err.caller="git.resolveRef",err}}async function setConfig({fs:_fs,dir,gitdir=join(dir,".git"),path:path5,value,append=!1}){try{assertParameter("fs",_fs),assertParameter("gitdir",gitdir),assertParameter("path",path5);let fs3=new FileSystem(_fs),updatedGitdir=await discoverGitdir({fsp:fs3,dotgit:gitdir}),config3=await GitConfigManager.get({fs:fs3,gitdir:updatedGitdir});append?await config3.append(path5,value):await config3.set(path5,value),await GitConfigManager.save({fs:fs3,gitdir:updatedGitdir,config:config3})}catch(err){throw err.caller="git.setConfig",err}}async function _writeCommit({fs:fs3,gitdir,commit:commit2}){let object=GitCommit.from(commit2).toObject();return await _writeObject({fs:fs3,gitdir,type:"commit",object,format:"content"})}var GitRefStash=class _GitRefStash{static get timezoneOffsetForRefLogEntry(){let offsetMinutes=new Date().getTimezoneOffset(),offsetHours=Math.abs(Math.floor(offsetMinutes/60)),offsetMinutesFormatted=Math.abs(offsetMinutes%60).toString().padStart(2,"0");return`${offsetMinutes>0?"-":"+"}${offsetHours.toString().padStart(2,"0")}${offsetMinutesFormatted}`}static createStashReflogEntry(author,stashCommit,message){let nameNoSpace=author.name.replace(/\s/g,""),z40="0000000000000000000000000000000000000000",timestamp=Math.floor(Date.now()/1e3),timezoneOffset=_GitRefStash.timezoneOffsetForRefLogEntry;return`${z40} ${stashCommit} ${nameNoSpace} ${author.email} ${timestamp} ${timezoneOffset}	${message}
`}static getStashReflogEntry(reflogString,parsed=!1){return reflogString.split(`
`).filter(l=>l).reverse().map((line,idx)=>parsed?`stash@{${idx}}: ${line.split("	")[1]}`:line)}},_TreeMap={stage:STAGE,workdir:WORKDIR},lock$3;async function acquireLock$1(ref,callback){return lock$3===void 0&&(lock$3=new AsyncLock),lock$3.acquire(ref,callback)}async function checkAndWriteBlob(fs3,gitdir,dir,filepath,oid=null){let currentFilepath=join(dir,filepath),stats=await fs3.lstat(currentFilepath);if(!stats)throw new NotFoundError(currentFilepath);if(stats.isDirectory())throw new InternalError(`${currentFilepath}: file expected, but found directory`);let objContent=oid?await readObjectLoose({fs:fs3,gitdir,oid}):void 0,retOid=objContent?oid:void 0;return objContent||await acquireLock$1({fs:fs3,gitdir,currentFilepath},async()=>{let object=stats.isSymbolicLink()?await fs3.readlink(currentFilepath).then(posixifyPathBuffer):await fs3.read(currentFilepath);if(object===null)throw new NotFoundError(currentFilepath);retOid=await _writeObject({fs:fs3,gitdir,type:"blob",object})}),retOid}async function processTreeEntries({fs:fs3,dir,gitdir,entries}){async function processTreeEntry(entry){if(entry.type==="tree"){if(!entry.oid){let children=await Promise.all(entry.children.map(processTreeEntry));entry.oid=await _writeTree({fs:fs3,gitdir,tree:children}),entry.mode=16384}}else entry.type==="blob"&&(entry.oid=await checkAndWriteBlob(fs3,gitdir,dir,entry.path,entry.oid),entry.mode=33188);return entry.path=entry.path.split("/").pop(),entry}return Promise.all(entries.map(processTreeEntry))}async function writeTreeChanges({fs:fs3,dir,gitdir,treePair}){let isStage=treePair[1]==="stage",trees=treePair.map(t=>typeof t=="string"?_TreeMap[t]():t),changedEntries=[],entries=await _walk({fs:fs3,cache:{},dir,gitdir,trees,map:async(filepath,[head,stage])=>{if(!(filepath==="."||await GitIgnoreManager.isIgnored({fs:fs3,dir,gitdir,filepath}))&&stage)return(!head||await head.oid()!==await stage.oid()&&await stage.oid()!==void 0)&&changedEntries.push([head,stage]),{mode:await stage.mode(),path:filepath,oid:await stage.oid(),type:await stage.type()}},reduce:async(parent,children)=>(children=children.filter(Boolean),parent?(parent.children=children,parent):children.length>0?children:void 0),iterate:async(walk2,children)=>{let filtered=[];for(let child of children){let[head,stage]=child;isStage?stage&&(await fs3.exists(`${dir}/${stage.toString()}`)?filtered.push(child):changedEntries.push([null,stage])):head&&(stage?filtered.push(child):changedEntries.push([head,null]))}return filtered.length?Promise.all(filtered.map(walk2)):[]}});if(changedEntries.length===0||entries.length===0)return null;let treeEntries=(await processTreeEntries({fs:fs3,dir,gitdir,entries})).filter(Boolean).map(entry=>({mode:entry.mode,path:entry.path,oid:entry.oid,type:entry.type}));return _writeTree({fs:fs3,gitdir,tree:treeEntries})}async function applyTreeChanges({fs:fs3,dir,gitdir,stashCommit,parentCommit,wasStaged}){let dirRemoved=[],stageUpdated=[],ops=await _walk({fs:fs3,cache:{},dir,gitdir,trees:[TREE({ref:parentCommit}),TREE({ref:stashCommit})],map:async(filepath,[parent,stash2])=>{if(filepath==="."||await GitIgnoreManager.isIgnored({fs:fs3,dir,gitdir,filepath}))return;let type=stash2?await stash2.type():await parent.type();if(type!=="tree"&&type!=="blob")return;if(!stash2&&parent){let method=type==="tree"?"rmdir":"rm";return type==="tree"&&dirRemoved.push(filepath),type==="blob"&&wasStaged&&stageUpdated.push({filepath,oid:await parent.oid()}),{method,filepath}}let oid=await stash2.oid();if(!parent||await parent.oid()!==oid)return type==="tree"?{method:"mkdir",filepath}:(wasStaged&&stageUpdated.push({filepath,oid,stats:await fs3.lstat(join(dir,filepath))}),{method:"write",filepath,oid})}});await acquireLock$1({fs:fs3,gitdir,dirRemoved,ops},async()=>{for(let op of ops){let currentFilepath=join(dir,op.filepath);switch(op.method){case"rmdir":await fs3.rmdir(currentFilepath);break;case"mkdir":await fs3.mkdir(currentFilepath);break;case"rm":await fs3.rm(currentFilepath);break;case"write":if(!dirRemoved.some(removedDir=>currentFilepath.startsWith(removedDir))){let{object}=await _readObject({fs:fs3,cache:{},gitdir,oid:op.oid});await fs3.exists(currentFilepath)&&await fs3.rm(currentFilepath),await fs3.write(currentFilepath,object)}break}}}),await GitIndexManager.acquire({fs:fs3,gitdir,cache:{}},async index3=>{stageUpdated.forEach(({filepath,stats,oid})=>{index3.insert({filepath,stats,oid})})})}var GitStashManager=class _GitStashManager{constructor({fs:fs3,dir,gitdir=join(dir,".git")}){Object.assign(this,{fs:fs3,dir,gitdir,_author:null})}static get refStash(){return"refs/stash"}static get refLogsStash(){return"logs/refs/stash"}get refStashPath(){return join(this.gitdir,_GitStashManager.refStash)}get refLogsStashPath(){return join(this.gitdir,_GitStashManager.refLogsStash)}async getAuthor(){if(!this._author&&(this._author=await normalizeAuthorObject({fs:this.fs,gitdir:this.gitdir,author:{}}),!this._author))throw new MissingNameError("author");return this._author}async getStashSHA(refIdx,stashEntries){return await this.fs.exists(this.refStashPath)?(stashEntries||await this.readStashReflogs({parsed:!1}))[refIdx].split(" ")[1]:null}async writeStashCommit({message,tree,parent}){return _writeCommit({fs:this.fs,gitdir:this.gitdir,commit:{message,tree,parent,author:await this.getAuthor(),committer:await this.getAuthor()}})}async readStashCommit(refIdx){let stashEntries=await this.readStashReflogs({parsed:!1});if(refIdx!==0&&(refIdx<0||refIdx>stashEntries.length-1))throw new InvalidRefNameError(`stash@${refIdx}`,"number that is in range of [0, num of stash pushed]");let stashSHA=await this.getStashSHA(refIdx,stashEntries);return stashSHA?_readCommit({fs:this.fs,cache:{},gitdir:this.gitdir,oid:stashSHA}):{}}async writeStashRef(stashCommit){return GitRefManager.writeRef({fs:this.fs,gitdir:this.gitdir,ref:_GitStashManager.refStash,value:stashCommit})}async writeStashReflogEntry({stashCommit,message}){let author=await this.getAuthor(),entry=GitRefStash.createStashReflogEntry(author,stashCommit,message),filepath=this.refLogsStashPath;await acquireLock$1({filepath,entry},async()=>{let appendTo=await this.fs.exists(filepath)?await this.fs.read(filepath,"utf8"):"";await this.fs.write(filepath,appendTo+entry,"utf8")})}async readStashReflogs({parsed=!1}){if(!await this.fs.exists(this.refLogsStashPath))return[];let reflogString=await this.fs.read(this.refLogsStashPath,"utf8");return GitRefStash.getStashReflogEntry(reflogString,parsed)}};async function _createStashCommit({fs:fs3,dir,gitdir,message=""}){let stashMgr=new GitStashManager({fs:fs3,dir,gitdir});await stashMgr.getAuthor();let branch2=await _currentBranch({fs:fs3,gitdir,fullname:!1}),headCommit=await GitRefManager.resolve({fs:fs3,gitdir,ref:"HEAD"}),headMsg=(await readCommit({fs:fs3,dir,gitdir,oid:headCommit})).commit.message,stashCommitParents=[headCommit],stashCommitTree=null,workDirCompareBase=TREE({ref:"HEAD"}),indexTree=await writeTreeChanges({fs:fs3,dir,gitdir,treePair:[TREE({ref:"HEAD"}),"stage"]});if(indexTree){let stashCommitOne=await stashMgr.writeStashCommit({message:`stash-Index: WIP on ${branch2} - ${new Date().toISOString()}`,tree:indexTree,parent:stashCommitParents});stashCommitParents.push(stashCommitOne),stashCommitTree=indexTree,workDirCompareBase=STAGE()}let workingTree=await writeTreeChanges({fs:fs3,dir,gitdir,treePair:[workDirCompareBase,"workdir"]});if(workingTree){let workingHeadCommit=await stashMgr.writeStashCommit({message:`stash-WorkDir: WIP on ${branch2} - ${new Date().toISOString()}`,tree:workingTree,parent:[stashCommitParents[stashCommitParents.length-1]]});stashCommitParents.push(workingHeadCommit),stashCommitTree=workingTree}if(!stashCommitTree||!indexTree&&!workingTree)throw new NotFoundError("changes, nothing to stash");let stashMsg=(message.trim()||`WIP on ${branch2}`)+`: ${headCommit.substring(0,7)} ${headMsg}`;return{stashCommit:await stashMgr.writeStashCommit({message:stashMsg,tree:stashCommitTree,parent:stashCommitParents}),stashMsg,branch:branch2,stashMgr}}async function _stashPush({fs:fs3,dir,gitdir,message=""}){let{stashCommit,stashMsg,branch:branch2,stashMgr}=await _createStashCommit({fs:fs3,dir,gitdir,message});return await stashMgr.writeStashRef(stashCommit),await stashMgr.writeStashReflogEntry({stashCommit,message:stashMsg}),await checkout({fs:fs3,dir,gitdir,ref:branch2,track:!1,force:!0}),stashCommit}async function _stashCreate({fs:fs3,dir,gitdir,message=""}){let{stashCommit}=await _createStashCommit({fs:fs3,dir,gitdir,message});return stashCommit}async function _stashApply({fs:fs3,dir,gitdir,refIdx=0}){let stashCommit=await new GitStashManager({fs:fs3,dir,gitdir}).readStashCommit(refIdx),{parent:stashParents=null}=stashCommit.commit?stashCommit.commit:{};if(!(!stashParents||!Array.isArray(stashParents)))for(let i=0;i<stashParents.length-1;i++){let wasStaged=(await _readCommit({fs:fs3,cache:{},gitdir,oid:stashParents[i+1]})).commit.message.startsWith("stash-Index");await applyTreeChanges({fs:fs3,dir,gitdir,stashCommit:stashParents[i+1],parentCommit:stashParents[i],wasStaged})}}async function _stashDrop({fs:fs3,dir,gitdir,refIdx=0}){let stashMgr=new GitStashManager({fs:fs3,dir,gitdir});if(!(await stashMgr.readStashCommit(refIdx)).commit)return;let stashRefPath=stashMgr.refStashPath;await acquireLock$1(stashRefPath,async()=>{await fs3.exists(stashRefPath)&&await fs3.rm(stashRefPath)});let reflogEntries=await stashMgr.readStashReflogs({parsed:!1});if(!reflogEntries.length)return;reflogEntries.splice(refIdx,1);let stashReflogPath=stashMgr.refLogsStashPath;await acquireLock$1({reflogEntries,stashReflogPath,stashMgr},async()=>{if(reflogEntries.length){await fs3.write(stashReflogPath,reflogEntries.reverse().join(`
`)+`
`,"utf8");let lastStashCommit=reflogEntries[reflogEntries.length-1].split(" ")[1];await stashMgr.writeStashRef(lastStashCommit)}else await fs3.rm(stashReflogPath)})}async function _stashList({fs:fs3,dir,gitdir}){return new GitStashManager({fs:fs3,dir,gitdir}).readStashReflogs({parsed:!0})}async function _stashClear({fs:fs3,dir,gitdir}){let stashMgr=new GitStashManager({fs:fs3,dir,gitdir}),stashRefPath=[stashMgr.refStashPath,stashMgr.refLogsStashPath];await acquireLock$1(stashRefPath,async()=>{await Promise.all(stashRefPath.map(async path5=>{if(await fs3.exists(path5))return fs3.rm(path5)}))})}async function _stashPop({fs:fs3,dir,gitdir,refIdx=0}){await _stashApply({fs:fs3,dir,gitdir,refIdx}),await _stashDrop({fs:fs3,dir,gitdir,refIdx})}async function stash({fs:fs3,dir,gitdir=join(dir,".git"),op="push",message="",refIdx=0}){assertParameter("fs",fs3),assertParameter("dir",dir),assertParameter("gitdir",gitdir),assertParameter("op",op);let stashMap={push:_stashPush,apply:_stashApply,drop:_stashDrop,list:_stashList,clear:_stashClear,pop:_stashPop,create:_stashCreate},opsNeedRefIdx=["apply","drop","pop"];try{let _fs=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp:_fs,dotgit:gitdir});["refs","logs","logs/refs"].map(f=>join(updatedGitdir,f)).forEach(async folder=>{await _fs.exists(folder)||await _fs.mkdir(folder)});let opFunc=stashMap[op];if(opFunc){if(opsNeedRefIdx.includes(op)&&refIdx<0)throw new InvalidRefNameError(`stash@${refIdx}`,"number that is in range of [0, num of stash pushed]");return await opFunc({fs:_fs,dir,gitdir:updatedGitdir,message,refIdx})}throw new Error(`To be implemented: ${op}`)}catch(err){throw err.caller="git.stash",err}}async function status({fs:_fs,dir,gitdir=join(dir,".git"),filepath,cache={}}){try{assertParameter("fs",_fs),assertParameter("gitdir",gitdir),assertParameter("filepath",filepath);let fs3=new FileSystem(_fs),updatedGitdir=await discoverGitdir({fsp:fs3,dotgit:gitdir});if(await GitIgnoreManager.isIgnored({fs:fs3,gitdir:updatedGitdir,dir,filepath}))return"ignored";let headTree=await getHeadTree({fs:fs3,cache,gitdir:updatedGitdir}),treeOid=await getOidAtPath({fs:fs3,cache,gitdir:updatedGitdir,tree:headTree,path:filepath}),indexEntry=await GitIndexManager.acquire({fs:fs3,gitdir:updatedGitdir,cache},async function(index3){for(let entry of index3)if(entry.path===filepath)return entry;return null}),stats=await fs3.lstat(join(dir,filepath)),H=treeOid!==null,I=indexEntry!==null,W=stats!==null,getWorkdirOid=async()=>{if(I&&!compareStats(indexEntry,stats))return indexEntry.oid;{let object=await fs3.read(join(dir,filepath)),workdirOid=await hashObject$1({gitdir:updatedGitdir,type:"blob",object});return I&&indexEntry.oid===workdirOid&&stats.size!==-1&&GitIndexManager.acquire({fs:fs3,gitdir:updatedGitdir,cache},async function(index3){index3.insert({filepath,stats,oid:workdirOid})}),workdirOid}};if(!H&&!W&&!I)return"absent";if(!H&&!W&&I)return"*absent";if(!H&&W&&!I)return"*added";if(!H&&W&&I)return await getWorkdirOid()===indexEntry.oid?"added":"*added";if(H&&!W&&!I)return"deleted";if(H&&!W&&I)return treeOid===indexEntry.oid,"*deleted";if(H&&W&&!I)return await getWorkdirOid()===treeOid?"*undeleted":"*undeletemodified";if(H&&W&&I){let workdirOid=await getWorkdirOid();return workdirOid===treeOid?workdirOid===indexEntry.oid?"unmodified":"*unmodified":workdirOid===indexEntry.oid?"modified":"*modified"}}catch(err){throw err.caller="git.status",err}}async function getOidAtPath({fs:fs3,cache,gitdir:updatedGitdir,tree,path:path5}){typeof path5=="string"&&(path5=path5.split("/"));let dirname2=path5.shift();for(let entry of tree)if(entry.path===dirname2){if(path5.length===0)return entry.oid;let{type,object}=await _readObject({fs:fs3,cache,gitdir:updatedGitdir,oid:entry.oid});if(type==="tree"){let tree2=GitTree.from(object);return getOidAtPath({fs:fs3,cache,gitdir:updatedGitdir,tree:tree2,path:path5})}if(type==="blob")throw new ObjectTypeError(entry.oid,type,"blob",path5.join("/"))}return null}async function getHeadTree({fs:fs3,cache,gitdir:updatedGitdir}){let oid;try{oid=await GitRefManager.resolve({fs:fs3,gitdir:updatedGitdir,ref:"HEAD"})}catch(e){if(e instanceof NotFoundError)return[]}let{tree}=await _readTree({fs:fs3,cache,gitdir:updatedGitdir,oid});return tree}async function statusMatrix({fs:_fs,dir,gitdir=join(dir,".git"),ref="HEAD",filepaths=["."],filter,cache={},ignored:shouldIgnore=!1}){try{assertParameter("fs",_fs),assertParameter("gitdir",gitdir),assertParameter("ref",ref);let fs3=new FileSystem(_fs),updatedGitdir=await discoverGitdir({fsp:fs3,dotgit:gitdir});return await _walk({fs:fs3,cache,dir,gitdir:updatedGitdir,trees:[TREE({ref}),WORKDIR(),STAGE()],map:async function(filepath,[head,workdir,stage]){if(!head&&!stage&&workdir&&!shouldIgnore&&await GitIgnoreManager.isIgnored({fs:fs3,dir,filepath})||!filepaths.some(base=>worthWalking(filepath,base)))return null;if(filter&&!filter(filepath))return;let[headType,workdirType,stageType]=await Promise.all([head&&head.type(),workdir&&workdir.type(),stage&&stage.type()]),isBlob=[headType,workdirType,stageType].includes("blob");if((headType==="tree"||headType==="special")&&!isBlob)return;if(headType==="commit")return null;if((workdirType==="tree"||workdirType==="special")&&!isBlob)return;if(stageType==="commit")return null;if((stageType==="tree"||stageType==="special")&&!isBlob)return;let headOid=headType==="blob"?await head.oid():void 0,stageOid=stageType==="blob"?await stage.oid():void 0,workdirOid;headType!=="blob"&&workdirType==="blob"&&stageType!=="blob"?workdirOid="42":workdirType==="blob"&&(workdirOid=await workdir.oid());let entry=[void 0,headOid,workdirOid,stageOid],result=entry.map(value=>entry.indexOf(value));return result.shift(),[filepath,...result]}})}catch(err){throw err.caller="git.statusMatrix",err}}async function tag({fs:_fs,dir,gitdir=join(dir,".git"),ref,object,force=!1}){try{assertParameter("fs",_fs),assertParameter("gitdir",gitdir),assertParameter("ref",ref);let fs3=new FileSystem(_fs);if(ref===void 0)throw new MissingParameterError("ref");ref=ref.startsWith("refs/tags/")?ref:`refs/tags/${ref}`;let updatedGitdir=await discoverGitdir({fsp:fs3,dotgit:gitdir}),value=await GitRefManager.resolve({fs:fs3,gitdir:updatedGitdir,ref:object||"HEAD"});if(!force&&await GitRefManager.exists({fs:fs3,gitdir:updatedGitdir,ref}))throw new AlreadyExistsError("tag",ref);await GitRefManager.writeRef({fs:fs3,gitdir:updatedGitdir,ref,value})}catch(err){throw err.caller="git.tag",err}}async function updateIndex$1({fs:_fs,dir,gitdir=join(dir,".git"),cache={},filepath,oid,mode,add:add3,remove:remove2,force}){try{assertParameter("fs",_fs),assertParameter("gitdir",gitdir),assertParameter("filepath",filepath);let fs3=new FileSystem(_fs),updatedGitdir=await discoverGitdir({fsp:fs3,dotgit:gitdir});if(remove2)return await GitIndexManager.acquire({fs:fs3,gitdir:updatedGitdir,cache},async function(index3){if(!force){let fileStats2=await fs3.lstat(join(dir,filepath));if(fileStats2){if(fileStats2.isDirectory())throw new InvalidFilepathError("directory");return}}index3.has({filepath})&&index3.delete({filepath})});let fileStats;if(!oid){if(fileStats=await fs3.lstat(join(dir,filepath)),!fileStats)throw new NotFoundError(`file at "${filepath}" on disk and "remove" not set`);if(fileStats.isDirectory())throw new InvalidFilepathError("directory")}return await GitIndexManager.acquire({fs:fs3,gitdir:updatedGitdir,cache},async function(index3){if(!add3&&!index3.has({filepath}))throw new NotFoundError(`file at "${filepath}" in index and "add" not set`);let stats;if(oid)stats={ctime:new Date(0),mtime:new Date(0),dev:0,ino:0,mode,uid:0,gid:0,size:0};else{stats=fileStats;let object=stats.isSymbolicLink()?await fs3.readlink(join(dir,filepath)):await fs3.read(join(dir,filepath));oid=await _writeObject({fs:fs3,gitdir:updatedGitdir,type:"blob",format:"content",object})}return index3.insert({filepath,oid,stats}),oid})}catch(err){throw err.caller="git.updateIndex",err}}function version(){try{return pkg.version}catch(err){throw err.caller="git.version",err}}async function walk({fs:fs3,dir,gitdir=join(dir,".git"),trees,map,reduce,iterate,cache={}}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("trees",trees);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _walk({fs:fsp,cache,dir,gitdir:updatedGitdir,trees,map,reduce,iterate})}catch(err){throw err.caller="git.walk",err}}async function writeBlob({fs:fs3,dir,gitdir=join(dir,".git"),blob}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("blob",blob);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _writeObject({fs:fsp,gitdir:updatedGitdir,type:"blob",object:blob,format:"content"})}catch(err){throw err.caller="git.writeBlob",err}}async function writeCommit({fs:fs3,dir,gitdir=join(dir,".git"),commit:commit2}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("commit",commit2);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _writeCommit({fs:fsp,gitdir:updatedGitdir,commit:commit2})}catch(err){throw err.caller="git.writeCommit",err}}async function writeObject({fs:_fs,dir,gitdir=join(dir,".git"),type,object,format:format2="parsed",oid,encoding=void 0}){try{let fs3=new FileSystem(_fs),updatedGitdir=await discoverGitdir({fsp:fs3,dotgit:gitdir});if(format2==="parsed"){switch(type){case"commit":object=GitCommit.from(object).toObject();break;case"tree":object=GitTree.from(object).toObject();break;case"blob":object=Buffer.from(object,encoding);break;case"tag":object=GitAnnotatedTag.from(object).toObject();break;default:throw new ObjectTypeError(oid||"",type,"blob|commit|tag|tree")}format2="content"}return oid=await _writeObject({fs:fs3,gitdir:updatedGitdir,type,object,oid,format:format2}),oid}catch(err){throw err.caller="git.writeObject",err}}async function writeRef({fs:_fs,dir,gitdir=join(dir,".git"),ref,value,force=!1,symbolic=!1}){try{assertParameter("fs",_fs),assertParameter("gitdir",gitdir),assertParameter("ref",ref),assertParameter("value",value);let fs3=new FileSystem(_fs);if(!isValidRef(ref,!0))throw new InvalidRefNameError(ref,cleanGitRef.clean(ref));let updatedGitdir=await discoverGitdir({fsp:fs3,dotgit:gitdir});if(!force&&await GitRefManager.exists({fs:fs3,gitdir:updatedGitdir,ref}))throw new AlreadyExistsError("ref",ref);symbolic?await GitRefManager.writeSymbolicRef({fs:fs3,gitdir:updatedGitdir,ref,value}):(value=await GitRefManager.resolve({fs:fs3,gitdir:updatedGitdir,ref:value}),await GitRefManager.writeRef({fs:fs3,gitdir:updatedGitdir,ref,value}))}catch(err){throw err.caller="git.writeRef",err}}async function _writeTag({fs:fs3,gitdir,tag:tag2}){let object=GitAnnotatedTag.from(tag2).toObject();return await _writeObject({fs:fs3,gitdir,type:"tag",object,format:"content"})}async function writeTag({fs:fs3,dir,gitdir=join(dir,".git"),tag:tag2}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("tag",tag2);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _writeTag({fs:fsp,gitdir:updatedGitdir,tag:tag2})}catch(err){throw err.caller="git.writeTag",err}}async function writeTree({fs:fs3,dir,gitdir=join(dir,".git"),tree}){try{assertParameter("fs",fs3),assertParameter("gitdir",gitdir),assertParameter("tree",tree);let fsp=new FileSystem(fs3),updatedGitdir=await discoverGitdir({fsp,dotgit:gitdir});return await _writeTree({fs:fsp,gitdir:updatedGitdir,tree})}catch(err){throw err.caller="git.writeTree",err}}var index2={Errors,STAGE,TREE,WORKDIR,add:add2,abortMerge,addNote,addRemote,annotatedTag,branch,checkout,clone,commit,getConfig,getConfigAll,setConfig,currentBranch,deleteBranch,deleteRef,deleteRemote,deleteTag,expandOid,expandRef,fastForward,fetch:fetch2,findMergeBase,findRoot,getRemoteInfo,getRemoteInfo2,hashBlob,indexPack,init,isDescendent,isIgnored,listBranches,listFiles,listNotes,listRefs,listRemotes,listServerRefs,listTags,log,merge,packObjects,pull,push,readBlob,readCommit,readNote,readObject,readTag,readTree,remove,removeNote,renameBranch,resetIndex,updateIndex:updateIndex$1,resolveRef,status,statusMatrix,tag,version,walk,writeBlob,writeCommit,writeObject,writeRef,writeTag,writeTree,stash};exports2.Errors=Errors;exports2.STAGE=STAGE;exports2.TREE=TREE;exports2.WORKDIR=WORKDIR;exports2.abortMerge=abortMerge;exports2.add=add2;exports2.addNote=addNote;exports2.addRemote=addRemote;exports2.annotatedTag=annotatedTag;exports2.branch=branch;exports2.checkout=checkout;exports2.clone=clone;exports2.commit=commit;exports2.currentBranch=currentBranch;exports2.default=index2;exports2.deleteBranch=deleteBranch;exports2.deleteRef=deleteRef;exports2.deleteRemote=deleteRemote;exports2.deleteTag=deleteTag;exports2.expandOid=expandOid;exports2.expandRef=expandRef;exports2.fastForward=fastForward;exports2.fetch=fetch2;exports2.findMergeBase=findMergeBase;exports2.findRoot=findRoot;exports2.getConfig=getConfig;exports2.getConfigAll=getConfigAll;exports2.getRemoteInfo=getRemoteInfo;exports2.getRemoteInfo2=getRemoteInfo2;exports2.hashBlob=hashBlob;exports2.indexPack=indexPack;exports2.init=init;exports2.isDescendent=isDescendent;exports2.isIgnored=isIgnored;exports2.listBranches=listBranches;exports2.listFiles=listFiles;exports2.listNotes=listNotes;exports2.listRefs=listRefs;exports2.listRemotes=listRemotes;exports2.listServerRefs=listServerRefs;exports2.listTags=listTags;exports2.log=log;exports2.merge=merge;exports2.packObjects=packObjects;exports2.pull=pull;exports2.push=push;exports2.readBlob=readBlob;exports2.readCommit=readCommit;exports2.readNote=readNote;exports2.readObject=readObject;exports2.readTag=readTag;exports2.readTree=readTree;exports2.remove=remove;exports2.removeNote=removeNote;exports2.renameBranch=renameBranch;exports2.resetIndex=resetIndex;exports2.resolveRef=resolveRef;exports2.setConfig=setConfig;exports2.stash=stash;exports2.status=status;exports2.statusMatrix=statusMatrix;exports2.tag=tag;exports2.updateIndex=updateIndex$1;exports2.version=version;exports2.walk=walk;exports2.writeBlob=writeBlob;exports2.writeCommit=writeCommit;exports2.writeObject=writeObject;exports2.writeRef=writeRef;exports2.writeTag=writeTag;exports2.writeTree=writeTree}});var require_simple_concat=__commonJS({"../../../../node_modules/simple-concat/index.js"(exports2,module2){module2.exports=function(stream,cb){var chunks=[];stream.on("data",function(chunk){chunks.push(chunk)}),stream.once("end",function(){cb&&cb(null,Buffer.concat(chunks)),cb=null}),stream.once("error",function(err){cb&&cb(err),cb=null})}}});var require_mimic_response=__commonJS({"../../../../node_modules/mimic-response/index.js"(exports2,module2){"use strict";var knownProperties=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];module2.exports=(fromStream,toStream)=>{if(toStream._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let fromProperties=new Set(Object.keys(fromStream).concat(knownProperties)),properties={};for(let property of fromProperties)property in toStream||(properties[property]={get(){let value=fromStream[property];return typeof value=="function"?value.bind(fromStream):value},set(value){fromStream[property]=value},enumerable:!0,configurable:!1});return Object.defineProperties(toStream,properties),fromStream.once("aborted",()=>{toStream.destroy(),toStream.emit("aborted")}),fromStream.once("close",()=>{fromStream.complete&&toStream.readable?toStream.once("end",()=>{toStream.emit("close")}):toStream.emit("close")}),toStream}}});var require_decompress_response=__commonJS({"../../../../node_modules/decompress-response/index.js"(exports2,module2){"use strict";var{Transform,PassThrough}=require("stream"),zlib2=require("zlib"),mimicResponse=require_mimic_response();module2.exports=response=>{let contentEncoding=(response.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(contentEncoding))return response;let isBrotli=contentEncoding==="br";if(isBrotli&&typeof zlib2.createBrotliDecompress!="function")return response.destroy(new Error("Brotli is not supported on Node.js < 12")),response;let isEmpty2=!0,checker=new Transform({transform(data,_encoding,callback){isEmpty2=!1,callback(null,data)},flush(callback){callback()}}),finalStream=new PassThrough({autoDestroy:!1,destroy(error,callback){response.destroy(),callback(error)}}),decompressStream=isBrotli?zlib2.createBrotliDecompress():zlib2.createUnzip();return decompressStream.once("error",error=>{if(isEmpty2&&!response.readable){finalStream.end();return}finalStream.destroy(error)}),mimicResponse(response,finalStream),response.pipe(checker).pipe(decompressStream).pipe(finalStream),finalStream}}});var require_simple_get=__commonJS({"../../../../node_modules/simple-get/index.js"(exports2,module2){module2.exports=simpleGet;var concat=require_simple_concat(),decompressResponse=require_decompress_response(),http=require("http"),https=require("https"),once=require_once(),querystring=require("querystring"),url=require("url"),isStream=o=>o!==null&&typeof o=="object"&&typeof o.pipe=="function";function simpleGet(opts,cb){if(opts=Object.assign({maxRedirects:10},typeof opts=="string"?{url:opts}:opts),cb=once(cb),opts.url){let{hostname,port,protocol:protocol2,auth,path:path5}=url.parse(opts.url);delete opts.url,!hostname&&!port&&!protocol2&&!auth?opts.path=path5:Object.assign(opts,{hostname,port,protocol:protocol2,auth,path:path5})}let headers={"accept-encoding":"gzip, deflate"};opts.headers&&Object.keys(opts.headers).forEach(k=>headers[k.toLowerCase()]=opts.headers[k]),opts.headers=headers;let body;opts.body?body=opts.json&&!isStream(opts.body)?JSON.stringify(opts.body):opts.body:opts.form&&(body=typeof opts.form=="string"?opts.form:querystring.stringify(opts.form),opts.headers["content-type"]="application/x-www-form-urlencoded"),body&&(opts.method||(opts.method="POST"),isStream(body)||(opts.headers["content-length"]=Buffer.byteLength(body)),opts.json&&!opts.form&&(opts.headers["content-type"]="application/json")),delete opts.body,delete opts.form,opts.json&&(opts.headers.accept="application/json"),opts.method&&(opts.method=opts.method.toUpperCase());let originalHost=opts.hostname,req=(opts.protocol==="https:"?https:http).request(opts,res=>{if(opts.followRedirects!==!1&&res.statusCode>=300&&res.statusCode<400&&res.headers.location){opts.url=res.headers.location,delete opts.headers.host,res.resume();let redirectHost=url.parse(opts.url).hostname;return redirectHost!==null&&redirectHost!==originalHost&&(delete opts.headers.cookie,delete opts.headers.authorization),opts.method==="POST"&&[301,302].includes(res.statusCode)&&(opts.method="GET",delete opts.headers["content-length"],delete opts.headers["content-type"]),opts.maxRedirects--===0?cb(new Error("too many redirects")):simpleGet(opts,cb)}let tryUnzip=typeof decompressResponse=="function"&&opts.method!=="HEAD";cb(null,tryUnzip?decompressResponse(res):res)});return req.on("timeout",()=>{req.abort(),cb(new Error("Request timed out"))}),req.on("error",cb),isStream(body)?body.on("error",cb).pipe(req):req.end(body),req}simpleGet.concat=(opts,cb)=>simpleGet(opts,(err,res)=>{if(err)return cb(err);concat(res,(err2,data)=>{if(err2)return cb(err2);if(opts.json)try{data=JSON.parse(data.toString())}catch(err3){return cb(err3,res,data)}cb(null,res,data)})});["get","post","put","patch","head","delete"].forEach(method=>{simpleGet[method]=(opts,cb)=>(typeof opts=="string"&&(opts={url:opts}),simpleGet(Object.assign({method:method.toUpperCase()},opts),cb))})}});var require_primordials=__commonJS({"../../../../node_modules/readable-stream/lib/ours/primordials.js"(exports2,module2){"use strict";var AggregateError2=class extends Error{constructor(errors){if(!Array.isArray(errors))throw new TypeError(`Expected input to be an Array, got ${typeof errors}`);let message="";for(let i=0;i<errors.length;i++)message+=`    ${errors[i].stack}
`;super(message),this.name="AggregateError",this.errors=errors}};module2.exports={AggregateError:AggregateError2,ArrayIsArray(self2){return Array.isArray(self2)},ArrayPrototypeIncludes(self2,el){return self2.includes(el)},ArrayPrototypeIndexOf(self2,el){return self2.indexOf(el)},ArrayPrototypeJoin(self2,sep){return self2.join(sep)},ArrayPrototypeMap(self2,fn){return self2.map(fn)},ArrayPrototypePop(self2,el){return self2.pop(el)},ArrayPrototypePush(self2,el){return self2.push(el)},ArrayPrototypeSlice(self2,start,end){return self2.slice(start,end)},Error,FunctionPrototypeCall(fn,thisArgs,...args){return fn.call(thisArgs,...args)},FunctionPrototypeSymbolHasInstance(self2,instance){return Function.prototype[Symbol.hasInstance].call(self2,instance)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(self2,props){return Object.defineProperties(self2,props)},ObjectDefineProperty(self2,name,prop){return Object.defineProperty(self2,name,prop)},ObjectGetOwnPropertyDescriptor(self2,name){return Object.getOwnPropertyDescriptor(self2,name)},ObjectKeys(obj){return Object.keys(obj)},ObjectSetPrototypeOf(target,proto){return Object.setPrototypeOf(target,proto)},Promise,PromisePrototypeCatch(self2,fn){return self2.catch(fn)},PromisePrototypeThen(self2,thenFn,catchFn){return self2.then(thenFn,catchFn)},PromiseReject(err){return Promise.reject(err)},PromiseResolve(val){return Promise.resolve(val)},ReflectApply:Reflect.apply,RegExpPrototypeTest(self2,value){return self2.test(value)},SafeSet:Set,String,StringPrototypeSlice(self2,start,end){return self2.slice(start,end)},StringPrototypeToLowerCase(self2){return self2.toLowerCase()},StringPrototypeToUpperCase(self2){return self2.toUpperCase()},StringPrototypeTrim(self2){return self2.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(self2,buf,len){return self2.set(buf,len)},Boolean,Uint8Array}}});var require_inspect=__commonJS({"../../../../node_modules/readable-stream/lib/ours/util/inspect.js"(exports2,module2){"use strict";module2.exports={format(format2,...args){return format2.replace(/%([sdifj])/g,function(...[_unused,type]){let replacement=args.shift();return type==="f"?replacement.toFixed(6):type==="j"?JSON.stringify(replacement):type==="s"&&typeof replacement=="object"?`${replacement.constructor!==Object?replacement.constructor.name:""} {}`.trim():replacement.toString()})},inspect(value){switch(typeof value){case"string":if(value.includes("'"))if(value.includes('"')){if(!value.includes("`")&&!value.includes("${"))return`\`${value}\``}else return`"${value}"`;return`'${value}'`;case"number":return isNaN(value)?"NaN":Object.is(value,-0)?String(value):value;case"bigint":return`${String(value)}n`;case"boolean":case"undefined":return String(value);case"object":return"{}"}}}}});var require_errors9=__commonJS({"../../../../node_modules/readable-stream/lib/ours/errors.js"(exports2,module2){"use strict";var{format:format2,inspect}=require_inspect(),{AggregateError:CustomAggregateError}=require_primordials(),AggregateError2=globalThis.AggregateError||CustomAggregateError,kIsNodeError=Symbol("kIsNodeError"),kTypes=["string","function","number","object","Function","Object","boolean","bigint","symbol"],classRegExp=/^([A-Z][a-z0-9]*)+$/,nodeInternalPrefix="__node_internal_",codes={};function assert2(value,message){if(!value)throw new codes.ERR_INTERNAL_ASSERTION(message)}function addNumericalSeparator(val){let res="",i=val.length,start=val[0]==="-"?1:0;for(;i>=start+4;i-=3)res=`_${val.slice(i-3,i)}${res}`;return`${val.slice(0,i)}${res}`}function getMessage(key,msg,args){if(typeof msg=="function")return assert2(msg.length<=args.length,`Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${msg.length}).`),msg(...args);let expectedLength=(msg.match(/%[dfijoOs]/g)||[]).length;return assert2(expectedLength===args.length,`Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${expectedLength}).`),args.length===0?msg:format2(msg,...args)}function E(code2,message,Base){Base||(Base=Error);class NodeError extends Base{constructor(...args){super(getMessage(code2,message,args))}toString(){return`${this.name} [${code2}]: ${this.message}`}}Object.defineProperties(NodeError.prototype,{name:{value:Base.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${code2}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),NodeError.prototype.code=code2,NodeError.prototype[kIsNodeError]=!0,codes[code2]=NodeError}function hideStackFrames(fn){let hidden2=nodeInternalPrefix+fn.name;return Object.defineProperty(fn,"name",{value:hidden2}),fn}function aggregateTwoErrors(innerError,outerError){if(innerError&&outerError&&innerError!==outerError){if(Array.isArray(outerError.errors))return outerError.errors.push(innerError),outerError;let err=new AggregateError2([outerError,innerError],outerError.message);return err.code=outerError.code,err}return innerError||outerError}var AbortError=class extends Error{constructor(message="The operation was aborted",options2=void 0){if(options2!==void 0&&typeof options2!="object")throw new codes.ERR_INVALID_ARG_TYPE("options","Object",options2);super(message,options2),this.code="ABORT_ERR",this.name="AbortError"}};E("ERR_ASSERTION","%s",Error);E("ERR_INVALID_ARG_TYPE",(name,expected,actual)=>{assert2(typeof name=="string","'name' must be a string"),Array.isArray(expected)||(expected=[expected]);let msg="The ";name.endsWith(" argument")?msg+=`${name} `:msg+=`"${name}" ${name.includes(".")?"property":"argument"} `,msg+="must be ";let types=[],instances=[],other=[];for(let value of expected)assert2(typeof value=="string","All expected entries have to be of type string"),kTypes.includes(value)?types.push(value.toLowerCase()):classRegExp.test(value)?instances.push(value):(assert2(value!=="object",'The value "object" should be written as "Object"'),other.push(value));if(instances.length>0){let pos=types.indexOf("object");pos!==-1&&(types.splice(types,pos,1),instances.push("Object"))}if(types.length>0){switch(types.length){case 1:msg+=`of type ${types[0]}`;break;case 2:msg+=`one of type ${types[0]} or ${types[1]}`;break;default:{let last=types.pop();msg+=`one of type ${types.join(", ")}, or ${last}`}}(instances.length>0||other.length>0)&&(msg+=" or ")}if(instances.length>0){switch(instances.length){case 1:msg+=`an instance of ${instances[0]}`;break;case 2:msg+=`an instance of ${instances[0]} or ${instances[1]}`;break;default:{let last=instances.pop();msg+=`an instance of ${instances.join(", ")}, or ${last}`}}other.length>0&&(msg+=" or ")}switch(other.length){case 0:break;case 1:other[0].toLowerCase()!==other[0]&&(msg+="an "),msg+=`${other[0]}`;break;case 2:msg+=`one of ${other[0]} or ${other[1]}`;break;default:{let last=other.pop();msg+=`one of ${other.join(", ")}, or ${last}`}}if(actual==null)msg+=`. Received ${actual}`;else if(typeof actual=="function"&&actual.name)msg+=`. Received function ${actual.name}`;else if(typeof actual=="object"){var _actual$constructor;if((_actual$constructor=actual.constructor)!==null&&_actual$constructor!==void 0&&_actual$constructor.name)msg+=`. Received an instance of ${actual.constructor.name}`;else{let inspected=inspect(actual,{depth:-1});msg+=`. Received ${inspected}`}}else{let inspected=inspect(actual,{colors:!1});inspected.length>25&&(inspected=`${inspected.slice(0,25)}...`),msg+=`. Received type ${typeof actual} (${inspected})`}return msg},TypeError);E("ERR_INVALID_ARG_VALUE",(name,value,reason="is invalid")=>{let inspected=inspect(value);return inspected.length>128&&(inspected=inspected.slice(0,128)+"..."),`The ${name.includes(".")?"property":"argument"} '${name}' ${reason}. Received ${inspected}`},TypeError);E("ERR_INVALID_RETURN_VALUE",(input,name,value)=>{var _value$constructor;let type=value!=null&&(_value$constructor=value.constructor)!==null&&_value$constructor!==void 0&&_value$constructor.name?`instance of ${value.constructor.name}`:`type ${typeof value}`;return`Expected ${input} to be returned from the "${name}" function but got ${type}.`},TypeError);E("ERR_MISSING_ARGS",(...args)=>{assert2(args.length>0,"At least one arg needs to be specified");let msg,len=args.length;switch(args=(Array.isArray(args)?args:[args]).map(a=>`"${a}"`).join(" or "),len){case 1:msg+=`The ${args[0]} argument`;break;case 2:msg+=`The ${args[0]} and ${args[1]} arguments`;break;default:{let last=args.pop();msg+=`The ${args.join(", ")}, and ${last} arguments`}break}return`${msg} must be specified`},TypeError);E("ERR_OUT_OF_RANGE",(str,range,input)=>{assert2(range,'Missing "range" argument');let received;if(Number.isInteger(input)&&Math.abs(input)>2**32)received=addNumericalSeparator(String(input));else if(typeof input=="bigint"){received=String(input);let limit=BigInt(2)**BigInt(32);(input>limit||input<-limit)&&(received=addNumericalSeparator(received)),received+="n"}else received=inspect(input);return`The value of "${str}" is out of range. It must be ${range}. Received ${received}`},RangeError);E("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);E("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);E("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);E("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);E("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);E("ERR_STREAM_WRITE_AFTER_END","write after end",Error);E("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);module2.exports={AbortError,aggregateTwoErrors:hideStackFrames(aggregateTwoErrors),hideStackFrames,codes}}});var require_event_target_shim=__commonJS({"../../../../node_modules/event-target-shim/dist/event-target-shim.js"(exports2,module2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var privateData=new WeakMap,wrappers=new WeakMap;function pd(event){let retv=privateData.get(event);return console.assert(retv!=null,"'this' is expected an Event object, but got",event),retv}function setCancelFlag(data){if(data.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",data.passiveListener);return}data.event.cancelable&&(data.canceled=!0,typeof data.event.preventDefault=="function"&&data.event.preventDefault())}function Event2(eventTarget,event){privateData.set(this,{eventTarget,event,eventPhase:2,currentTarget:eventTarget,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:event.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let keys2=Object.keys(event);for(let i=0;i<keys2.length;++i){let key=keys2[i];key in this||Object.defineProperty(this,key,defineRedirectDescriptor(key))}}Event2.prototype={get type(){return pd(this).event.type},get target(){return pd(this).eventTarget},get currentTarget(){return pd(this).currentTarget},composedPath(){let currentTarget=pd(this).currentTarget;return currentTarget==null?[]:[currentTarget]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return pd(this).eventPhase},stopPropagation(){let data=pd(this);data.stopped=!0,typeof data.event.stopPropagation=="function"&&data.event.stopPropagation()},stopImmediatePropagation(){let data=pd(this);data.stopped=!0,data.immediateStopped=!0,typeof data.event.stopImmediatePropagation=="function"&&data.event.stopImmediatePropagation()},get bubbles(){return!!pd(this).event.bubbles},get cancelable(){return!!pd(this).event.cancelable},preventDefault(){setCancelFlag(pd(this))},get defaultPrevented(){return pd(this).canceled},get composed(){return!!pd(this).event.composed},get timeStamp(){return pd(this).timeStamp},get srcElement(){return pd(this).eventTarget},get cancelBubble(){return pd(this).stopped},set cancelBubble(value){if(!value)return;let data=pd(this);data.stopped=!0,typeof data.event.cancelBubble=="boolean"&&(data.event.cancelBubble=!0)},get returnValue(){return!pd(this).canceled},set returnValue(value){value||setCancelFlag(pd(this))},initEvent(){}};Object.defineProperty(Event2.prototype,"constructor",{value:Event2,configurable:!0,writable:!0});typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(Event2.prototype,window.Event.prototype),wrappers.set(window.Event.prototype,Event2));function defineRedirectDescriptor(key){return{get(){return pd(this).event[key]},set(value){pd(this).event[key]=value},configurable:!0,enumerable:!0}}function defineCallDescriptor(key){return{value(){let event=pd(this).event;return event[key].apply(event,arguments)},configurable:!0,enumerable:!0}}function defineWrapper(BaseEvent,proto){let keys2=Object.keys(proto);if(keys2.length===0)return BaseEvent;function CustomEvent(eventTarget,event){BaseEvent.call(this,eventTarget,event)}CustomEvent.prototype=Object.create(BaseEvent.prototype,{constructor:{value:CustomEvent,configurable:!0,writable:!0}});for(let i=0;i<keys2.length;++i){let key=keys2[i];if(!(key in BaseEvent.prototype)){let isFunc=typeof Object.getOwnPropertyDescriptor(proto,key).value=="function";Object.defineProperty(CustomEvent.prototype,key,isFunc?defineCallDescriptor(key):defineRedirectDescriptor(key))}}return CustomEvent}function getWrapper(proto){if(proto==null||proto===Object.prototype)return Event2;let wrapper=wrappers.get(proto);return wrapper==null&&(wrapper=defineWrapper(getWrapper(Object.getPrototypeOf(proto)),proto),wrappers.set(proto,wrapper)),wrapper}function wrapEvent(eventTarget,event){let Wrapper=getWrapper(Object.getPrototypeOf(event));return new Wrapper(eventTarget,event)}function isStopped(event){return pd(event).immediateStopped}function setEventPhase(event,eventPhase){pd(event).eventPhase=eventPhase}function setCurrentTarget(event,currentTarget){pd(event).currentTarget=currentTarget}function setPassiveListener(event,passiveListener){pd(event).passiveListener=passiveListener}var listenersMap=new WeakMap,CAPTURE=1,BUBBLE=2,ATTRIBUTE=3;function isObject4(x){return x!==null&&typeof x=="object"}function getListeners(eventTarget){let listeners=listenersMap.get(eventTarget);if(listeners==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return listeners}function defineEventAttributeDescriptor(eventName){return{get(){let node=getListeners(this).get(eventName);for(;node!=null;){if(node.listenerType===ATTRIBUTE)return node.listener;node=node.next}return null},set(listener){typeof listener!="function"&&!isObject4(listener)&&(listener=null);let listeners=getListeners(this),prev=null,node=listeners.get(eventName);for(;node!=null;)node.listenerType===ATTRIBUTE?prev!==null?prev.next=node.next:node.next!==null?listeners.set(eventName,node.next):listeners.delete(eventName):prev=node,node=node.next;if(listener!==null){let newNode={listener,listenerType:ATTRIBUTE,passive:!1,once:!1,next:null};prev===null?listeners.set(eventName,newNode):prev.next=newNode}},configurable:!0,enumerable:!0}}function defineEventAttribute(eventTargetPrototype,eventName){Object.defineProperty(eventTargetPrototype,`on${eventName}`,defineEventAttributeDescriptor(eventName))}function defineCustomEventTarget(eventNames){function CustomEventTarget(){EventTarget2.call(this)}CustomEventTarget.prototype=Object.create(EventTarget2.prototype,{constructor:{value:CustomEventTarget,configurable:!0,writable:!0}});for(let i=0;i<eventNames.length;++i)defineEventAttribute(CustomEventTarget.prototype,eventNames[i]);return CustomEventTarget}function EventTarget2(){if(this instanceof EventTarget2){listenersMap.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return defineCustomEventTarget(arguments[0]);if(arguments.length>0){let types=new Array(arguments.length);for(let i=0;i<arguments.length;++i)types[i]=arguments[i];return defineCustomEventTarget(types)}throw new TypeError("Cannot call a class as a function")}EventTarget2.prototype={addEventListener(eventName,listener,options2){if(listener==null)return;if(typeof listener!="function"&&!isObject4(listener))throw new TypeError("'listener' should be a function or an object.");let listeners=getListeners(this),optionsIsObj=isObject4(options2),listenerType=(optionsIsObj?!!options2.capture:!!options2)?CAPTURE:BUBBLE,newNode={listener,listenerType,passive:optionsIsObj&&!!options2.passive,once:optionsIsObj&&!!options2.once,next:null},node=listeners.get(eventName);if(node===void 0){listeners.set(eventName,newNode);return}let prev=null;for(;node!=null;){if(node.listener===listener&&node.listenerType===listenerType)return;prev=node,node=node.next}prev.next=newNode},removeEventListener(eventName,listener,options2){if(listener==null)return;let listeners=getListeners(this),listenerType=(isObject4(options2)?!!options2.capture:!!options2)?CAPTURE:BUBBLE,prev=null,node=listeners.get(eventName);for(;node!=null;){if(node.listener===listener&&node.listenerType===listenerType){prev!==null?prev.next=node.next:node.next!==null?listeners.set(eventName,node.next):listeners.delete(eventName);return}prev=node,node=node.next}},dispatchEvent(event){if(event==null||typeof event.type!="string")throw new TypeError('"event.type" should be a string.');let listeners=getListeners(this),eventName=event.type,node=listeners.get(eventName);if(node==null)return!0;let wrappedEvent=wrapEvent(this,event),prev=null;for(;node!=null;){if(node.once?prev!==null?prev.next=node.next:node.next!==null?listeners.set(eventName,node.next):listeners.delete(eventName):prev=node,setPassiveListener(wrappedEvent,node.passive?node.listener:null),typeof node.listener=="function")try{node.listener.call(this,wrappedEvent)}catch(err){typeof console<"u"&&typeof console.error=="function"&&console.error(err)}else node.listenerType!==ATTRIBUTE&&typeof node.listener.handleEvent=="function"&&node.listener.handleEvent(wrappedEvent);if(isStopped(wrappedEvent))break;node=node.next}return setPassiveListener(wrappedEvent,null),setEventPhase(wrappedEvent,0),setCurrentTarget(wrappedEvent,null),!wrappedEvent.defaultPrevented}};Object.defineProperty(EventTarget2.prototype,"constructor",{value:EventTarget2,configurable:!0,writable:!0});typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(EventTarget2.prototype,window.EventTarget.prototype);exports2.defineEventAttribute=defineEventAttribute;exports2.EventTarget=EventTarget2;exports2.default=EventTarget2;module2.exports=EventTarget2;module2.exports.EventTarget=module2.exports.default=EventTarget2;module2.exports.defineEventAttribute=defineEventAttribute}});var require_abort_controller=__commonJS({"../../../../node_modules/abort-controller/dist/abort-controller.js"(exports2,module2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var eventTargetShim=require_event_target_shim(),AbortSignal2=class extends eventTargetShim.EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let aborted=abortedFlags.get(this);if(typeof aborted!="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return aborted}};eventTargetShim.defineEventAttribute(AbortSignal2.prototype,"abort");function createAbortSignal(){let signal=Object.create(AbortSignal2.prototype);return eventTargetShim.EventTarget.call(signal),abortedFlags.set(signal,!1),signal}function abortSignal(signal){abortedFlags.get(signal)===!1&&(abortedFlags.set(signal,!0),signal.dispatchEvent({type:"abort"}))}var abortedFlags=new WeakMap;Object.defineProperties(AbortSignal2.prototype,{aborted:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(AbortSignal2.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});var AbortController2=class{constructor(){signals.set(this,createAbortSignal())}get signal(){return getSignal(this)}abort(){abortSignal(getSignal(this))}},signals=new WeakMap;function getSignal(controller){let signal=signals.get(controller);if(signal==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${controller===null?"null":typeof controller}`);return signal}Object.defineProperties(AbortController2.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(AbortController2.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});exports2.AbortController=AbortController2;exports2.AbortSignal=AbortSignal2;exports2.default=AbortController2;module2.exports=AbortController2;module2.exports.AbortController=module2.exports.default=AbortController2;module2.exports.AbortSignal=AbortSignal2}});var require_util13=__commonJS({"../../../../node_modules/readable-stream/lib/ours/util.js"(exports2,module2){"use strict";var bufferModule=require("buffer"),{format:format2,inspect}=require_inspect(),{codes:{ERR_INVALID_ARG_TYPE}}=require_errors9(),{kResistStopPropagation,AggregateError:AggregateError2,SymbolDispose}=require_primordials(),AbortSignal2=globalThis.AbortSignal||require_abort_controller().AbortSignal,AbortController2=globalThis.AbortController||require_abort_controller().AbortController,AsyncFunction=Object.getPrototypeOf(async function(){}).constructor,Blob2=globalThis.Blob||bufferModule.Blob,isBlob=typeof Blob2<"u"?function(b){return b instanceof Blob2}:function(b){return!1},validateAbortSignal=(signal,name)=>{if(signal!==void 0&&(signal===null||typeof signal!="object"||!("aborted"in signal)))throw new ERR_INVALID_ARG_TYPE(name,"AbortSignal",signal)},validateFunction=(value,name)=>{if(typeof value!="function")throw new ERR_INVALID_ARG_TYPE(name,"Function",value)};module2.exports={AggregateError:AggregateError2,kEmptyObject:Object.freeze({}),once(callback){let called=!1;return function(...args){called||(called=!0,callback.apply(this,args))}},createDeferredPromise:function(){let resolve,reject;return{promise:new Promise((res,rej)=>{resolve=res,reject=rej}),resolve,reject}},promisify(fn){return new Promise((resolve,reject)=>{fn((err,...args)=>err?reject(err):resolve(...args))})},debuglog(){return function(){}},format:format2,inspect,types:{isAsyncFunction(fn){return fn instanceof AsyncFunction},isArrayBufferView(arr){return ArrayBuffer.isView(arr)}},isBlob,deprecate(fn,message){return fn},addAbortListener:require("events").addAbortListener||function(signal,listener){if(signal===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",signal);validateAbortSignal(signal,"signal"),validateFunction(listener,"listener");let removeEventListener;return signal.aborted?queueMicrotask(()=>listener()):(signal.addEventListener("abort",listener,{__proto__:null,once:!0,[kResistStopPropagation]:!0}),removeEventListener=()=>{signal.removeEventListener("abort",listener)}),{__proto__:null,[SymbolDispose](){var _removeEventListener;(_removeEventListener=removeEventListener)===null||_removeEventListener===void 0||_removeEventListener()}}},AbortSignalAny:AbortSignal2.any||function(signals){if(signals.length===1)return signals[0];let ac=new AbortController2,abort=()=>ac.abort();return signals.forEach(signal=>{validateAbortSignal(signal,"signals"),signal.addEventListener("abort",abort,{once:!0})}),ac.signal.addEventListener("abort",()=>{signals.forEach(signal=>signal.removeEventListener("abort",abort))},{once:!0}),ac.signal}};module2.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}});var require_validators=__commonJS({"../../../../node_modules/readable-stream/lib/internal/validators.js"(exports2,module2){"use strict";var{ArrayIsArray,ArrayPrototypeIncludes,ArrayPrototypeJoin,ArrayPrototypeMap,NumberIsInteger,NumberIsNaN,NumberMAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER,NumberParseInt,ObjectPrototypeHasOwnProperty,RegExpPrototypeExec,String:String2,StringPrototypeToUpperCase,StringPrototypeTrim}=require_primordials(),{hideStackFrames,codes:{ERR_SOCKET_BAD_PORT,ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE,ERR_OUT_OF_RANGE,ERR_UNKNOWN_SIGNAL}}=require_errors9(),{normalizeEncoding}=require_util13(),{isAsyncFunction,isArrayBufferView}=require_util13().types,signals={};function isInt32(value){return value===(value|0)}function isUint32(value){return value===value>>>0}var octalReg=/^[0-7]+$/,modeDesc="must be a 32-bit unsigned integer or an octal string";function parseFileMode(value,name,def){if(typeof value>"u"&&(value=def),typeof value=="string"){if(RegExpPrototypeExec(octalReg,value)===null)throw new ERR_INVALID_ARG_VALUE(name,value,modeDesc);value=NumberParseInt(value,8)}return validateUint32(value,name),value}var validateInteger=hideStackFrames((value,name,min=NumberMIN_SAFE_INTEGER,max=NumberMAX_SAFE_INTEGER)=>{if(typeof value!="number")throw new ERR_INVALID_ARG_TYPE(name,"number",value);if(!NumberIsInteger(value))throw new ERR_OUT_OF_RANGE(name,"an integer",value);if(value<min||value>max)throw new ERR_OUT_OF_RANGE(name,`>= ${min} && <= ${max}`,value)}),validateInt32=hideStackFrames((value,name,min=-2147483648,max=2147483647)=>{if(typeof value!="number")throw new ERR_INVALID_ARG_TYPE(name,"number",value);if(!NumberIsInteger(value))throw new ERR_OUT_OF_RANGE(name,"an integer",value);if(value<min||value>max)throw new ERR_OUT_OF_RANGE(name,`>= ${min} && <= ${max}`,value)}),validateUint32=hideStackFrames((value,name,positive=!1)=>{if(typeof value!="number")throw new ERR_INVALID_ARG_TYPE(name,"number",value);if(!NumberIsInteger(value))throw new ERR_OUT_OF_RANGE(name,"an integer",value);let min=positive?1:0,max=4294967295;if(value<min||value>max)throw new ERR_OUT_OF_RANGE(name,`>= ${min} && <= ${max}`,value)});function validateString(value,name){if(typeof value!="string")throw new ERR_INVALID_ARG_TYPE(name,"string",value)}function validateNumber(value,name,min=void 0,max){if(typeof value!="number")throw new ERR_INVALID_ARG_TYPE(name,"number",value);if(min!=null&&value<min||max!=null&&value>max||(min!=null||max!=null)&&NumberIsNaN(value))throw new ERR_OUT_OF_RANGE(name,`${min!=null?`>= ${min}`:""}${min!=null&&max!=null?" && ":""}${max!=null?`<= ${max}`:""}`,value)}var validateOneOf=hideStackFrames((value,name,oneOf)=>{if(!ArrayPrototypeIncludes(oneOf,value)){let reason="must be one of: "+ArrayPrototypeJoin(ArrayPrototypeMap(oneOf,v=>typeof v=="string"?`'${v}'`:String2(v)),", ");throw new ERR_INVALID_ARG_VALUE(name,value,reason)}});function validateBoolean(value,name){if(typeof value!="boolean")throw new ERR_INVALID_ARG_TYPE(name,"boolean",value)}function getOwnPropertyValueOrDefault(options2,key,defaultValue){return options2==null||!ObjectPrototypeHasOwnProperty(options2,key)?defaultValue:options2[key]}var validateObject=hideStackFrames((value,name,options2=null)=>{let allowArray=getOwnPropertyValueOrDefault(options2,"allowArray",!1),allowFunction=getOwnPropertyValueOrDefault(options2,"allowFunction",!1);if(!getOwnPropertyValueOrDefault(options2,"nullable",!1)&&value===null||!allowArray&&ArrayIsArray(value)||typeof value!="object"&&(!allowFunction||typeof value!="function"))throw new ERR_INVALID_ARG_TYPE(name,"Object",value)}),validateDictionary=hideStackFrames((value,name)=>{if(value!=null&&typeof value!="object"&&typeof value!="function")throw new ERR_INVALID_ARG_TYPE(name,"a dictionary",value)}),validateArray=hideStackFrames((value,name,minLength=0)=>{if(!ArrayIsArray(value))throw new ERR_INVALID_ARG_TYPE(name,"Array",value);if(value.length<minLength){let reason=`must be longer than ${minLength}`;throw new ERR_INVALID_ARG_VALUE(name,value,reason)}});function validateStringArray(value,name){validateArray(value,name);for(let i=0;i<value.length;i++)validateString(value[i],`${name}[${i}]`)}function validateBooleanArray(value,name){validateArray(value,name);for(let i=0;i<value.length;i++)validateBoolean(value[i],`${name}[${i}]`)}function validateAbortSignalArray(value,name){validateArray(value,name);for(let i=0;i<value.length;i++){let signal=value[i],indexedName=`${name}[${i}]`;if(signal==null)throw new ERR_INVALID_ARG_TYPE(indexedName,"AbortSignal",signal);validateAbortSignal(signal,indexedName)}}function validateSignalName(signal,name="signal"){if(validateString(signal,name),signals[signal]===void 0)throw signals[StringPrototypeToUpperCase(signal)]!==void 0?new ERR_UNKNOWN_SIGNAL(signal+" (signals must use all capital letters)"):new ERR_UNKNOWN_SIGNAL(signal)}var validateBuffer=hideStackFrames((buffer,name="buffer")=>{if(!isArrayBufferView(buffer))throw new ERR_INVALID_ARG_TYPE(name,["Buffer","TypedArray","DataView"],buffer)});function validateEncoding(data,encoding){let normalizedEncoding=normalizeEncoding(encoding),length=data.length;if(normalizedEncoding==="hex"&&length%2!==0)throw new ERR_INVALID_ARG_VALUE("encoding",encoding,`is invalid for data of length ${length}`)}function validatePort(port,name="Port",allowZero=!0){if(typeof port!="number"&&typeof port!="string"||typeof port=="string"&&StringPrototypeTrim(port).length===0||+port!==+port>>>0||port>65535||port===0&&!allowZero)throw new ERR_SOCKET_BAD_PORT(name,port,allowZero);return port|0}var validateAbortSignal=hideStackFrames((signal,name)=>{if(signal!==void 0&&(signal===null||typeof signal!="object"||!("aborted"in signal)))throw new ERR_INVALID_ARG_TYPE(name,"AbortSignal",signal)}),validateFunction=hideStackFrames((value,name)=>{if(typeof value!="function")throw new ERR_INVALID_ARG_TYPE(name,"Function",value)}),validatePlainFunction=hideStackFrames((value,name)=>{if(typeof value!="function"||isAsyncFunction(value))throw new ERR_INVALID_ARG_TYPE(name,"Function",value)}),validateUndefined=hideStackFrames((value,name)=>{if(value!==void 0)throw new ERR_INVALID_ARG_TYPE(name,"undefined",value)});function validateUnion(value,name,union){if(!ArrayPrototypeIncludes(union,value))throw new ERR_INVALID_ARG_TYPE(name,`('${ArrayPrototypeJoin(union,"|")}')`,value)}var linkValueRegExp=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function validateLinkHeaderFormat(value,name){if(typeof value>"u"||!RegExpPrototypeExec(linkValueRegExp,value))throw new ERR_INVALID_ARG_VALUE(name,value,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function validateLinkHeaderValue(hints){if(typeof hints=="string")return validateLinkHeaderFormat(hints,"hints"),hints;if(ArrayIsArray(hints)){let hintsLength=hints.length,result="";if(hintsLength===0)return result;for(let i=0;i<hintsLength;i++){let link3=hints[i];validateLinkHeaderFormat(link3,"hints"),result+=link3,i!==hintsLength-1&&(result+=", ")}return result}throw new ERR_INVALID_ARG_VALUE("hints",hints,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}module2.exports={isInt32,isUint32,parseFileMode,validateArray,validateStringArray,validateBooleanArray,validateAbortSignalArray,validateBoolean,validateBuffer,validateDictionary,validateEncoding,validateFunction,validateInt32,validateInteger,validateNumber,validateObject,validateOneOf,validatePlainFunction,validatePort,validateSignalName,validateString,validateUint32,validateUndefined,validateUnion,validateAbortSignal,validateLinkHeaderValue}}});var require_process2=__commonJS({"../../../../node_modules/process/index.js"(exports2,module2){module2.exports=global.process}});var require_utils6=__commonJS({"../../../../node_modules/readable-stream/lib/internal/streams/utils.js"(exports2,module2){"use strict";var{SymbolAsyncIterator,SymbolIterator,SymbolFor}=require_primordials(),kIsDestroyed=SymbolFor("nodejs.stream.destroyed"),kIsErrored=SymbolFor("nodejs.stream.errored"),kIsReadable=SymbolFor("nodejs.stream.readable"),kIsWritable=SymbolFor("nodejs.stream.writable"),kIsDisturbed=SymbolFor("nodejs.stream.disturbed"),kIsClosedPromise=SymbolFor("nodejs.webstream.isClosedPromise"),kControllerErrorFunction=SymbolFor("nodejs.webstream.controllerErrorFunction");function isReadableNodeStream(obj,strict=!1){var _obj$_readableState;return!!(obj&&typeof obj.pipe=="function"&&typeof obj.on=="function"&&(!strict||typeof obj.pause=="function"&&typeof obj.resume=="function")&&(!obj._writableState||((_obj$_readableState=obj._readableState)===null||_obj$_readableState===void 0?void 0:_obj$_readableState.readable)!==!1)&&(!obj._writableState||obj._readableState))}function isWritableNodeStream(obj){var _obj$_writableState;return!!(obj&&typeof obj.write=="function"&&typeof obj.on=="function"&&(!obj._readableState||((_obj$_writableState=obj._writableState)===null||_obj$_writableState===void 0?void 0:_obj$_writableState.writable)!==!1))}function isDuplexNodeStream(obj){return!!(obj&&typeof obj.pipe=="function"&&obj._readableState&&typeof obj.on=="function"&&typeof obj.write=="function")}function isNodeStream(obj){return obj&&(obj._readableState||obj._writableState||typeof obj.write=="function"&&typeof obj.on=="function"||typeof obj.pipe=="function"&&typeof obj.on=="function")}function isReadableStream(obj){return!!(obj&&!isNodeStream(obj)&&typeof obj.pipeThrough=="function"&&typeof obj.getReader=="function"&&typeof obj.cancel=="function")}function isWritableStream(obj){return!!(obj&&!isNodeStream(obj)&&typeof obj.getWriter=="function"&&typeof obj.abort=="function")}function isTransformStream(obj){return!!(obj&&!isNodeStream(obj)&&typeof obj.readable=="object"&&typeof obj.writable=="object")}function isWebStream(obj){return isReadableStream(obj)||isWritableStream(obj)||isTransformStream(obj)}function isIterable(obj,isAsync2){return obj==null?!1:isAsync2===!0?typeof obj[SymbolAsyncIterator]=="function":isAsync2===!1?typeof obj[SymbolIterator]=="function":typeof obj[SymbolAsyncIterator]=="function"||typeof obj[SymbolIterator]=="function"}function isDestroyed(stream){if(!isNodeStream(stream))return null;let wState=stream._writableState,rState=stream._readableState,state=wState||rState;return!!(stream.destroyed||stream[kIsDestroyed]||state!=null&&state.destroyed)}function isWritableEnded(stream){if(!isWritableNodeStream(stream))return null;if(stream.writableEnded===!0)return!0;let wState=stream._writableState;return wState!=null&&wState.errored?!1:typeof wState?.ended!="boolean"?null:wState.ended}function isWritableFinished(stream,strict){if(!isWritableNodeStream(stream))return null;if(stream.writableFinished===!0)return!0;let wState=stream._writableState;return wState!=null&&wState.errored?!1:typeof wState?.finished!="boolean"?null:!!(wState.finished||strict===!1&&wState.ended===!0&&wState.length===0)}function isReadableEnded(stream){if(!isReadableNodeStream(stream))return null;if(stream.readableEnded===!0)return!0;let rState=stream._readableState;return!rState||rState.errored?!1:typeof rState?.ended!="boolean"?null:rState.ended}function isReadableFinished(stream,strict){if(!isReadableNodeStream(stream))return null;let rState=stream._readableState;return rState!=null&&rState.errored?!1:typeof rState?.endEmitted!="boolean"?null:!!(rState.endEmitted||strict===!1&&rState.ended===!0&&rState.length===0)}function isReadable(stream){return stream&&stream[kIsReadable]!=null?stream[kIsReadable]:typeof stream?.readable!="boolean"?null:isDestroyed(stream)?!1:isReadableNodeStream(stream)&&stream.readable&&!isReadableFinished(stream)}function isWritable(stream){return stream&&stream[kIsWritable]!=null?stream[kIsWritable]:typeof stream?.writable!="boolean"?null:isDestroyed(stream)?!1:isWritableNodeStream(stream)&&stream.writable&&!isWritableEnded(stream)}function isFinished(stream,opts){return isNodeStream(stream)?isDestroyed(stream)?!0:!(opts?.readable!==!1&&isReadable(stream)||opts?.writable!==!1&&isWritable(stream)):null}function isWritableErrored(stream){var _stream$_writableStat,_stream$_writableStat2;return isNodeStream(stream)?stream.writableErrored?stream.writableErrored:(_stream$_writableStat=(_stream$_writableStat2=stream._writableState)===null||_stream$_writableStat2===void 0?void 0:_stream$_writableStat2.errored)!==null&&_stream$_writableStat!==void 0?_stream$_writableStat:null:null}function isReadableErrored(stream){var _stream$_readableStat,_stream$_readableStat2;return isNodeStream(stream)?stream.readableErrored?stream.readableErrored:(_stream$_readableStat=(_stream$_readableStat2=stream._readableState)===null||_stream$_readableStat2===void 0?void 0:_stream$_readableStat2.errored)!==null&&_stream$_readableStat!==void 0?_stream$_readableStat:null:null}function isClosed(stream){if(!isNodeStream(stream))return null;if(typeof stream.closed=="boolean")return stream.closed;let wState=stream._writableState,rState=stream._readableState;return typeof wState?.closed=="boolean"||typeof rState?.closed=="boolean"?wState?.closed||rState?.closed:typeof stream._closed=="boolean"&&isOutgoingMessage(stream)?stream._closed:null}function isOutgoingMessage(stream){return typeof stream._closed=="boolean"&&typeof stream._defaultKeepAlive=="boolean"&&typeof stream._removedConnection=="boolean"&&typeof stream._removedContLen=="boolean"}function isServerResponse(stream){return typeof stream._sent100=="boolean"&&isOutgoingMessage(stream)}function isServerRequest(stream){var _stream$req;return typeof stream._consuming=="boolean"&&typeof stream._dumped=="boolean"&&((_stream$req=stream.req)===null||_stream$req===void 0?void 0:_stream$req.upgradeOrConnect)===void 0}function willEmitClose(stream){if(!isNodeStream(stream))return null;let wState=stream._writableState,rState=stream._readableState,state=wState||rState;return!state&&isServerResponse(stream)||!!(state&&state.autoDestroy&&state.emitClose&&state.closed===!1)}function isDisturbed(stream){var _stream$kIsDisturbed;return!!(stream&&((_stream$kIsDisturbed=stream[kIsDisturbed])!==null&&_stream$kIsDisturbed!==void 0?_stream$kIsDisturbed:stream.readableDidRead||stream.readableAborted))}function isErrored(stream){var _ref,_ref2,_ref3,_ref4,_ref5,_stream$kIsErrored,_stream$_readableStat3,_stream$_writableStat3,_stream$_readableStat4,_stream$_writableStat4;return!!(stream&&((_ref=(_ref2=(_ref3=(_ref4=(_ref5=(_stream$kIsErrored=stream[kIsErrored])!==null&&_stream$kIsErrored!==void 0?_stream$kIsErrored:stream.readableErrored)!==null&&_ref5!==void 0?_ref5:stream.writableErrored)!==null&&_ref4!==void 0?_ref4:(_stream$_readableStat3=stream._readableState)===null||_stream$_readableStat3===void 0?void 0:_stream$_readableStat3.errorEmitted)!==null&&_ref3!==void 0?_ref3:(_stream$_writableStat3=stream._writableState)===null||_stream$_writableStat3===void 0?void 0:_stream$_writableStat3.errorEmitted)!==null&&_ref2!==void 0?_ref2:(_stream$_readableStat4=stream._readableState)===null||_stream$_readableStat4===void 0?void 0:_stream$_readableStat4.errored)!==null&&_ref!==void 0?_ref:!((_stream$_writableStat4=stream._writableState)===null||_stream$_writableStat4===void 0)&&_stream$_writableStat4.errored))}module2.exports={isDestroyed,kIsDestroyed,isDisturbed,kIsDisturbed,isErrored,kIsErrored,isReadable,kIsReadable,kIsClosedPromise,kControllerErrorFunction,kIsWritable,isClosed,isDuplexNodeStream,isFinished,isIterable,isReadableNodeStream,isReadableStream,isReadableEnded,isReadableFinished,isReadableErrored,isNodeStream,isWebStream,isWritable,isWritableNodeStream,isWritableStream,isWritableEnded,isWritableFinished,isWritableErrored,isServerRequest,isServerResponse,willEmitClose,isTransformStream}}});var require_end_of_stream2=__commonJS({"../../../../node_modules/readable-stream/lib/internal/streams/end-of-stream.js"(exports2,module2){"use strict";var process4=require_process2(),{AbortError,codes}=require_errors9(),{ERR_INVALID_ARG_TYPE,ERR_STREAM_PREMATURE_CLOSE}=codes,{kEmptyObject,once}=require_util13(),{validateAbortSignal,validateFunction,validateObject,validateBoolean}=require_validators(),{Promise:Promise2,PromisePrototypeThen,SymbolDispose}=require_primordials(),{isClosed,isReadable,isReadableNodeStream,isReadableStream,isReadableFinished,isReadableErrored,isWritable,isWritableNodeStream,isWritableStream,isWritableFinished,isWritableErrored,isNodeStream,willEmitClose:_willEmitClose,kIsClosedPromise}=require_utils6(),addAbortListener;function isRequest(stream){return stream.setHeader&&typeof stream.abort=="function"}var nop=()=>{};function eos(stream,options2,callback){var _options$readable,_options$writable;if(arguments.length===2?(callback=options2,options2=kEmptyObject):options2==null?options2=kEmptyObject:validateObject(options2,"options"),validateFunction(callback,"callback"),validateAbortSignal(options2.signal,"options.signal"),callback=once(callback),isReadableStream(stream)||isWritableStream(stream))return eosWeb(stream,options2,callback);if(!isNodeStream(stream))throw new ERR_INVALID_ARG_TYPE("stream",["ReadableStream","WritableStream","Stream"],stream);let readable=(_options$readable=options2.readable)!==null&&_options$readable!==void 0?_options$readable:isReadableNodeStream(stream),writable=(_options$writable=options2.writable)!==null&&_options$writable!==void 0?_options$writable:isWritableNodeStream(stream),wState=stream._writableState,rState=stream._readableState,onlegacyfinish=()=>{stream.writable||onfinish()},willEmitClose=_willEmitClose(stream)&&isReadableNodeStream(stream)===readable&&isWritableNodeStream(stream)===writable,writableFinished=isWritableFinished(stream,!1),onfinish=()=>{writableFinished=!0,stream.destroyed&&(willEmitClose=!1),!(willEmitClose&&(!stream.readable||readable))&&(!readable||readableFinished)&&callback.call(stream)},readableFinished=isReadableFinished(stream,!1),onend=()=>{readableFinished=!0,stream.destroyed&&(willEmitClose=!1),!(willEmitClose&&(!stream.writable||writable))&&(!writable||writableFinished)&&callback.call(stream)},onerror=err=>{callback.call(stream,err)},closed=isClosed(stream),onclose=()=>{closed=!0;let errored=isWritableErrored(stream)||isReadableErrored(stream);if(errored&&typeof errored!="boolean")return callback.call(stream,errored);if(readable&&!readableFinished&&isReadableNodeStream(stream,!0)&&!isReadableFinished(stream,!1))return callback.call(stream,new ERR_STREAM_PREMATURE_CLOSE);if(writable&&!writableFinished&&!isWritableFinished(stream,!1))return callback.call(stream,new ERR_STREAM_PREMATURE_CLOSE);callback.call(stream)},onclosed=()=>{closed=!0;let errored=isWritableErrored(stream)||isReadableErrored(stream);if(errored&&typeof errored!="boolean")return callback.call(stream,errored);callback.call(stream)},onrequest=()=>{stream.req.on("finish",onfinish)};isRequest(stream)?(stream.on("complete",onfinish),willEmitClose||stream.on("abort",onclose),stream.req?onrequest():stream.on("request",onrequest)):writable&&!wState&&(stream.on("end",onlegacyfinish),stream.on("close",onlegacyfinish)),!willEmitClose&&typeof stream.aborted=="boolean"&&stream.on("aborted",onclose),stream.on("end",onend),stream.on("finish",onfinish),options2.error!==!1&&stream.on("error",onerror),stream.on("close",onclose),closed?process4.nextTick(onclose):wState!=null&&wState.errorEmitted||rState!=null&&rState.errorEmitted?willEmitClose||process4.nextTick(onclosed):(!readable&&(!willEmitClose||isReadable(stream))&&(writableFinished||isWritable(stream)===!1)||!writable&&(!willEmitClose||isWritable(stream))&&(readableFinished||isReadable(stream)===!1)||rState&&stream.req&&stream.aborted)&&process4.nextTick(onclosed);let cleanup=()=>{callback=nop,stream.removeListener("aborted",onclose),stream.removeListener("complete",onfinish),stream.removeListener("abort",onclose),stream.removeListener("request",onrequest),stream.req&&stream.req.removeListener("finish",onfinish),stream.removeListener("end",onlegacyfinish),stream.removeListener("close",onlegacyfinish),stream.removeListener("finish",onfinish),stream.removeListener("end",onend),stream.removeListener("error",onerror),stream.removeListener("close",onclose)};if(options2.signal&&!closed){let abort=()=>{let endCallback=callback;cleanup(),endCallback.call(stream,new AbortError(void 0,{cause:options2.signal.reason}))};if(options2.signal.aborted)process4.nextTick(abort);else{addAbortListener=addAbortListener||require_util13().addAbortListener;let disposable=addAbortListener(options2.signal,abort),originalCallback=callback;callback=once((...args)=>{disposable[SymbolDispose](),originalCallback.apply(stream,args)})}}return cleanup}function eosWeb(stream,options2,callback){let isAborted2=!1,abort=nop;if(options2.signal)if(abort=()=>{isAborted2=!0,callback.call(stream,new AbortError(void 0,{cause:options2.signal.reason}))},options2.signal.aborted)process4.nextTick(abort);else{addAbortListener=addAbortListener||require_util13().addAbortListener;let disposable=addAbortListener(options2.signal,abort),originalCallback=callback;callback=once((...args)=>{disposable[SymbolDispose](),originalCallback.apply(stream,args)})}let resolverFn=(...args)=>{isAborted2||process4.nextTick(()=>callback.apply(stream,args))};return PromisePrototypeThen(stream[kIsClosedPromise].promise,resolverFn,resolverFn),nop}function finished(stream,opts){var _opts;let autoCleanup=!1;return opts===null&&(opts=kEmptyObject),(_opts=opts)!==null&&_opts!==void 0&&_opts.cleanup&&(validateBoolean(opts.cleanup,"cleanup"),autoCleanup=opts.cleanup),new Promise2((resolve,reject)=>{let cleanup=eos(stream,opts,err=>{autoCleanup&&cleanup(),err?reject(err):resolve()})})}module2.exports=eos;module2.exports.finished=finished}});var require_destroy=__commonJS({"../../../../node_modules/readable-stream/lib/internal/streams/destroy.js"(exports2,module2){"use strict";var process4=require_process2(),{aggregateTwoErrors,codes:{ERR_MULTIPLE_CALLBACK},AbortError}=require_errors9(),{Symbol:Symbol2}=require_primordials(),{kIsDestroyed,isDestroyed,isFinished,isServerRequest}=require_utils6(),kDestroy=Symbol2("kDestroy"),kConstruct=Symbol2("kConstruct");function checkError(err,w,r){err&&(err.stack,w&&!w.errored&&(w.errored=err),r&&!r.errored&&(r.errored=err))}function destroy(err,cb){let r=this._readableState,w=this._writableState,s=w||r;return w!=null&&w.destroyed||r!=null&&r.destroyed?(typeof cb=="function"&&cb(),this):(checkError(err,w,r),w&&(w.destroyed=!0),r&&(r.destroyed=!0),s.constructed?_destroy(this,err,cb):this.once(kDestroy,function(er){_destroy(this,aggregateTwoErrors(er,err),cb)}),this)}function _destroy(self2,err,cb){let called=!1;function onDestroy(err2){if(called)return;called=!0;let r=self2._readableState,w=self2._writableState;checkError(err2,w,r),w&&(w.closed=!0),r&&(r.closed=!0),typeof cb=="function"&&cb(err2),err2?process4.nextTick(emitErrorCloseNT,self2,err2):process4.nextTick(emitCloseNT,self2)}try{self2._destroy(err||null,onDestroy)}catch(err2){onDestroy(err2)}}function emitErrorCloseNT(self2,err){emitErrorNT(self2,err),emitCloseNT(self2)}function emitCloseNT(self2){let r=self2._readableState,w=self2._writableState;w&&(w.closeEmitted=!0),r&&(r.closeEmitted=!0),(w!=null&&w.emitClose||r!=null&&r.emitClose)&&self2.emit("close")}function emitErrorNT(self2,err){let r=self2._readableState,w=self2._writableState;w!=null&&w.errorEmitted||r!=null&&r.errorEmitted||(w&&(w.errorEmitted=!0),r&&(r.errorEmitted=!0),self2.emit("error",err))}function undestroy(){let r=this._readableState,w=this._writableState;r&&(r.constructed=!0,r.closed=!1,r.closeEmitted=!1,r.destroyed=!1,r.errored=null,r.errorEmitted=!1,r.reading=!1,r.ended=r.readable===!1,r.endEmitted=r.readable===!1),w&&(w.constructed=!0,w.destroyed=!1,w.closed=!1,w.closeEmitted=!1,w.errored=null,w.errorEmitted=!1,w.finalCalled=!1,w.prefinished=!1,w.ended=w.writable===!1,w.ending=w.writable===!1,w.finished=w.writable===!1)}function errorOrDestroy(stream,err,sync){let r=stream._readableState,w=stream._writableState;if(w!=null&&w.destroyed||r!=null&&r.destroyed)return this;r!=null&&r.autoDestroy||w!=null&&w.autoDestroy?stream.destroy(err):err&&(err.stack,w&&!w.errored&&(w.errored=err),r&&!r.errored&&(r.errored=err),sync?process4.nextTick(emitErrorNT,stream,err):emitErrorNT(stream,err))}function construct(stream,cb){if(typeof stream._construct!="function")return;let r=stream._readableState,w=stream._writableState;r&&(r.constructed=!1),w&&(w.constructed=!1),stream.once(kConstruct,cb),!(stream.listenerCount(kConstruct)>1)&&process4.nextTick(constructNT,stream)}function constructNT(stream){let called=!1;function onConstruct(err){if(called){errorOrDestroy(stream,err??new ERR_MULTIPLE_CALLBACK);return}called=!0;let r=stream._readableState,w=stream._writableState,s=w||r;r&&(r.constructed=!0),w&&(w.constructed=!0),s.destroyed?stream.emit(kDestroy,err):err?errorOrDestroy(stream,err,!0):process4.nextTick(emitConstructNT,stream)}try{stream._construct(err=>{process4.nextTick(onConstruct,err)})}catch(err){process4.nextTick(onConstruct,err)}}function emitConstructNT(stream){stream.emit(kConstruct)}function isRequest(stream){return stream?.setHeader&&typeof stream.abort=="function"}function emitCloseLegacy(stream){stream.emit("close")}function emitErrorCloseLegacy(stream,err){stream.emit("error",err),process4.nextTick(emitCloseLegacy,stream)}function destroyer(stream,err){!stream||isDestroyed(stream)||(!err&&!isFinished(stream)&&(err=new AbortError),isServerRequest(stream)?(stream.socket=null,stream.destroy(err)):isRequest(stream)?stream.abort():isRequest(stream.req)?stream.req.abort():typeof stream.destroy=="function"?stream.destroy(err):typeof stream.close=="function"?stream.close():err?process4.nextTick(emitErrorCloseLegacy,stream,err):process4.nextTick(emitCloseLegacy,stream),stream.destroyed||(stream[kIsDestroyed]=!0))}module2.exports={construct,destroyer,destroy,undestroy,errorOrDestroy}}});var require_legacy=__commonJS({"../../../../node_modules/readable-stream/lib/internal/streams/legacy.js"(exports2,module2){"use strict";var{ArrayIsArray,ObjectSetPrototypeOf}=require_primordials(),{EventEmitter:EE}=require("events");function Stream(opts){EE.call(this,opts)}ObjectSetPrototypeOf(Stream.prototype,EE.prototype);ObjectSetPrototypeOf(Stream,EE);Stream.prototype.pipe=function(dest,options2){let source=this;function ondata(chunk){dest.writable&&dest.write(chunk)===!1&&source.pause&&source.pause()}source.on("data",ondata);function ondrain(){source.readable&&source.resume&&source.resume()}dest.on("drain",ondrain),!dest._isStdio&&(!options2||options2.end!==!1)&&(source.on("end",onend),source.on("close",onclose));let didOnEnd=!1;function onend(){didOnEnd||(didOnEnd=!0,dest.end())}function onclose(){didOnEnd||(didOnEnd=!0,typeof dest.destroy=="function"&&dest.destroy())}function onerror(er){cleanup(),EE.listenerCount(this,"error")===0&&this.emit("error",er)}prependListener(source,"error",onerror),prependListener(dest,"error",onerror);function cleanup(){source.removeListener("data",ondata),dest.removeListener("drain",ondrain),source.removeListener("end",onend),source.removeListener("close",onclose),source.removeListener("error",onerror),dest.removeListener("error",onerror),source.removeListener("end",cleanup),source.removeListener("close",cleanup),dest.removeListener("close",cleanup)}return source.on("end",cleanup),source.on("close",cleanup),dest.on("close",cleanup),dest.emit("pipe",source),dest};function prependListener(emitter,event,fn){if(typeof emitter.prependListener=="function")return emitter.prependListener(event,fn);!emitter._events||!emitter._events[event]?emitter.on(event,fn):ArrayIsArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]}module2.exports={Stream,prependListener}}});var require_add_abort_signal=__commonJS({"../../../../node_modules/readable-stream/lib/internal/streams/add-abort-signal.js"(exports2,module2){"use strict";var{SymbolDispose}=require_primordials(),{AbortError,codes}=require_errors9(),{isNodeStream,isWebStream,kControllerErrorFunction}=require_utils6(),eos=require_end_of_stream2(),{ERR_INVALID_ARG_TYPE}=codes,addAbortListener,validateAbortSignal=(signal,name)=>{if(typeof signal!="object"||!("aborted"in signal))throw new ERR_INVALID_ARG_TYPE(name,"AbortSignal",signal)};module2.exports.addAbortSignal=function(signal,stream){if(validateAbortSignal(signal,"signal"),!isNodeStream(stream)&&!isWebStream(stream))throw new ERR_INVALID_ARG_TYPE("stream",["ReadableStream","WritableStream","Stream"],stream);return module2.exports.addAbortSignalNoValidate(signal,stream)};module2.exports.addAbortSignalNoValidate=function(signal,stream){if(typeof signal!="object"||!("aborted"in signal))return stream;let onAbort=isNodeStream(stream)?()=>{stream.destroy(new AbortError(void 0,{cause:signal.reason}))}:()=>{stream[kControllerErrorFunction](new AbortError(void 0,{cause:signal.reason}))};if(signal.aborted)onAbort();else{addAbortListener=addAbortListener||require_util13().addAbortListener;let disposable=addAbortListener(signal,onAbort);eos(stream,disposable[SymbolDispose])}return stream}}});var require_buffer_list=__commonJS({"../../../../node_modules/readable-stream/lib/internal/streams/buffer_list.js"(exports2,module2){"use strict";var{StringPrototypeSlice,SymbolIterator,TypedArrayPrototypeSet,Uint8Array:Uint8Array2}=require_primordials(),{Buffer:Buffer2}=require("buffer"),{inspect}=require_util13();module2.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(v){let entry={data:v,next:null};this.length>0?this.tail.next=entry:this.head=entry,this.tail=entry,++this.length}unshift(v){let entry={data:v,next:this.head};this.length===0&&(this.tail=entry),this.head=entry,++this.length}shift(){if(this.length===0)return;let ret=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,ret}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let p=this.head,ret=""+p.data;for(;(p=p.next)!==null;)ret+=s+p.data;return ret}concat(n){if(this.length===0)return Buffer2.alloc(0);let ret=Buffer2.allocUnsafe(n>>>0),p=this.head,i=0;for(;p;)TypedArrayPrototypeSet(ret,p.data,i),i+=p.data.length,p=p.next;return ret}consume(n,hasStrings){let data=this.head.data;if(n<data.length){let slice=data.slice(0,n);return this.head.data=data.slice(n),slice}return n===data.length?this.shift():hasStrings?this._getString(n):this._getBuffer(n)}first(){return this.head.data}*[SymbolIterator](){for(let p=this.head;p;p=p.next)yield p.data}_getString(n){let ret="",p=this.head,c=0;do{let str=p.data;if(n>str.length)ret+=str,n-=str.length;else{n===str.length?(ret+=str,++c,p.next?this.head=p.next:this.head=this.tail=null):(ret+=StringPrototypeSlice(str,0,n),this.head=p,p.data=StringPrototypeSlice(str,n));break}++c}while((p=p.next)!==null);return this.length-=c,ret}_getBuffer(n){let ret=Buffer2.allocUnsafe(n),retLen=n,p=this.head,c=0;do{let buf=p.data;if(n>buf.length)TypedArrayPrototypeSet(ret,buf,retLen-n),n-=buf.length;else{n===buf.length?(TypedArrayPrototypeSet(ret,buf,retLen-n),++c,p.next?this.head=p.next:this.head=this.tail=null):(TypedArrayPrototypeSet(ret,new Uint8Array2(buf.buffer,buf.byteOffset,n),retLen-n),this.head=p,p.data=buf.slice(n));break}++c}while((p=p.next)!==null);return this.length-=c,ret}[Symbol.for("nodejs.util.inspect.custom")](_,options2){return inspect(this,{...options2,depth:0,customInspect:!1})}}}});var require_state2=__commonJS({"../../../../node_modules/readable-stream/lib/internal/streams/state.js"(exports2,module2){"use strict";var{MathFloor,NumberIsInteger}=require_primordials(),{validateInteger}=require_validators(),{ERR_INVALID_ARG_VALUE}=require_errors9().codes,defaultHighWaterMarkBytes=16*1024,defaultHighWaterMarkObjectMode=16;function highWaterMarkFrom(options2,isDuplex,duplexKey){return options2.highWaterMark!=null?options2.highWaterMark:isDuplex?options2[duplexKey]:null}function getDefaultHighWaterMark(objectMode){return objectMode?defaultHighWaterMarkObjectMode:defaultHighWaterMarkBytes}function setDefaultHighWaterMark(objectMode,value){validateInteger(value,"value",0),objectMode?defaultHighWaterMarkObjectMode=value:defaultHighWaterMarkBytes=value}function getHighWaterMark(state,options2,duplexKey,isDuplex){let hwm=highWaterMarkFrom(options2,isDuplex,duplexKey);if(hwm!=null){if(!NumberIsInteger(hwm)||hwm<0){let name=isDuplex?`options.${duplexKey}`:"options.highWaterMark";throw new ERR_INVALID_ARG_VALUE(name,hwm)}return MathFloor(hwm)}return getDefaultHighWaterMark(state.objectMode)}module2.exports={getHighWaterMark,getDefaultHighWaterMark,setDefaultHighWaterMark}}});var require_string_decoder=__commonJS({"../../../../node_modules/string_decoder/lib/string_decoder.js"(exports2){"use strict";var Buffer2=require_safe_buffer().Buffer,isEncoding=Buffer2.isEncoding||function(encoding){switch(encoding=""+encoding,encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(enc){if(!enc)return"utf8";for(var retried;;)switch(enc){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return enc;default:if(retried)return;enc=(""+enc).toLowerCase(),retried=!0}}function normalizeEncoding(enc){var nenc=_normalizeEncoding(enc);if(typeof nenc!="string"&&(Buffer2.isEncoding===isEncoding||!isEncoding(enc)))throw new Error("Unknown encoding: "+enc);return nenc||enc}exports2.StringDecoder=StringDecoder;function StringDecoder(encoding){this.encoding=normalizeEncoding(encoding);var nb;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,nb=4;break;case"utf8":this.fillLast=utf8FillLast,nb=4;break;case"base64":this.text=base64Text,this.end=base64End,nb=3;break;default:this.write=simpleWrite,this.end=simpleEnd;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer2.allocUnsafe(nb)}StringDecoder.prototype.write=function(buf){if(buf.length===0)return"";var r,i;if(this.lastNeed){if(r=this.fillLast(buf),r===void 0)return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<buf.length?r?r+this.text(buf,i):this.text(buf,i):r||""};StringDecoder.prototype.end=utf8End;StringDecoder.prototype.text=utf8Text;StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length)return buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length),this.lastNeed-=buf.length};function utf8CheckByte(byte){return byte<=127?0:byte>>5===6?2:byte>>4===14?3:byte>>3===30?4:byte>>6===2?-1:-2}function utf8CheckIncomplete(self2,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);return nb>=0?(nb>0&&(self2.lastNeed=nb-1),nb):--j<i||nb===-2?0:(nb=utf8CheckByte(buf[j]),nb>=0?(nb>0&&(self2.lastNeed=nb-2),nb):--j<i||nb===-2?0:(nb=utf8CheckByte(buf[j]),nb>=0?(nb>0&&(nb===2?nb=0:self2.lastNeed=nb-3),nb):0))}function utf8CheckExtraBytes(self2,buf,p){if((buf[0]&192)!==128)return self2.lastNeed=0,"\uFFFD";if(self2.lastNeed>1&&buf.length>1){if((buf[1]&192)!==128)return self2.lastNeed=1,"\uFFFD";if(self2.lastNeed>2&&buf.length>2&&(buf[2]&192)!==128)return self2.lastNeed=2,"\uFFFD"}}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed,r=utf8CheckExtraBytes(this,buf,p);if(r!==void 0)return r;if(this.lastNeed<=buf.length)return buf.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);buf.copy(this.lastChar,p,0,buf.length),this.lastNeed-=buf.length}function utf8Text(buf,i){var total=utf8CheckIncomplete(this,buf,i);if(!this.lastNeed)return buf.toString("utf8",i);this.lastTotal=total;var end=buf.length-(total-this.lastNeed);return buf.copy(this.lastChar,0,end),buf.toString("utf8",i,end)}function utf8End(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+"\uFFFD":r}function utf16Text(buf,i){if((buf.length-i)%2===0){var r=buf.toString("utf16le",i);if(r){var c=r.charCodeAt(r.length-1);if(c>=55296&&c<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=buf[buf.length-1],buf.toString("utf16le",i,buf.length-1)}function utf16End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed){var end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;return n===0?buf.toString("base64",i):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=buf[buf.length-1]:(this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1]),buf.toString("base64",i,buf.length-n))}function base64End(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+this.lastChar.toString("base64",0,3-this.lastNeed):r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):""}}});var require_from=__commonJS({"../../../../node_modules/readable-stream/lib/internal/streams/from.js"(exports2,module2){"use strict";var process4=require_process2(),{PromisePrototypeThen,SymbolAsyncIterator,SymbolIterator}=require_primordials(),{Buffer:Buffer2}=require("buffer"),{ERR_INVALID_ARG_TYPE,ERR_STREAM_NULL_VALUES}=require_errors9().codes;function from(Readable,iterable,opts){let iterator;if(typeof iterable=="string"||iterable instanceof Buffer2)return new Readable({objectMode:!0,...opts,read(){this.push(iterable),this.push(null)}});let isAsync2;if(iterable&&iterable[SymbolAsyncIterator])isAsync2=!0,iterator=iterable[SymbolAsyncIterator]();else if(iterable&&iterable[SymbolIterator])isAsync2=!1,iterator=iterable[SymbolIterator]();else throw new ERR_INVALID_ARG_TYPE("iterable",["Iterable"],iterable);let readable=new Readable({objectMode:!0,highWaterMark:1,...opts}),reading=!1;readable._read=function(){reading||(reading=!0,next())},readable._destroy=function(error,cb){PromisePrototypeThen(close(error),()=>process4.nextTick(cb,error),e=>process4.nextTick(cb,e||error))};async function close(error){let hadError=error!=null,hasThrow=typeof iterator.throw=="function";if(hadError&&hasThrow){let{value,done}=await iterator.throw(error);if(await value,done)return}if(typeof iterator.return=="function"){let{value}=await iterator.return();await value}}async function next(){for(;;){try{let{value,done}=isAsync2?await iterator.next():iterator.next();if(done)readable.push(null);else{let res=value&&typeof value.then=="function"?await value:value;if(res===null)throw reading=!1,new ERR_STREAM_NULL_VALUES;if(readable.push(res))continue;reading=!1}}catch(err){readable.destroy(err)}break}}return readable}module2.exports=from}});var require_readable2=__commonJS({"../../../../node_modules/readable-stream/lib/internal/streams/readable.js"(exports2,module2){"use strict";var process4=require_process2(),{ArrayPrototypeIndexOf,NumberIsInteger,NumberIsNaN,NumberParseInt,ObjectDefineProperties,ObjectKeys,ObjectSetPrototypeOf,Promise:Promise2,SafeSet,SymbolAsyncDispose,SymbolAsyncIterator,Symbol:Symbol2}=require_primordials();module2.exports=Readable;Readable.ReadableState=ReadableState;var{EventEmitter:EE}=require("events"),{Stream,prependListener}=require_legacy(),{Buffer:Buffer2}=require("buffer"),{addAbortSignal}=require_add_abort_signal(),eos=require_end_of_stream2(),debug=require_util13().debuglog("stream",fn=>{debug=fn}),BufferList=require_buffer_list(),destroyImpl=require_destroy(),{getHighWaterMark,getDefaultHighWaterMark}=require_state2(),{aggregateTwoErrors,codes:{ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED,ERR_OUT_OF_RANGE,ERR_STREAM_PUSH_AFTER_EOF,ERR_STREAM_UNSHIFT_AFTER_END_EVENT},AbortError}=require_errors9(),{validateObject}=require_validators(),kPaused=Symbol2("kPaused"),{StringDecoder}=require_string_decoder(),from=require_from();ObjectSetPrototypeOf(Readable.prototype,Stream.prototype);ObjectSetPrototypeOf(Readable,Stream);var nop=()=>{},{errorOrDestroy}=destroyImpl,kObjectMode=1,kEnded=2,kEndEmitted=4,kReading=8,kConstructed=16,kSync=32,kNeedReadable=64,kEmittedReadable=128,kReadableListening=256,kResumeScheduled=512,kErrorEmitted=1024,kEmitClose=2048,kAutoDestroy=4096,kDestroyed=8192,kClosed=16384,kCloseEmitted=32768,kMultiAwaitDrain=65536,kReadingMore=1<<17,kDataEmitted=1<<18;function makeBitMapDescriptor(bit){return{enumerable:!1,get(){return(this.state&bit)!==0},set(value){value?this.state|=bit:this.state&=~bit}}}ObjectDefineProperties(ReadableState.prototype,{objectMode:makeBitMapDescriptor(kObjectMode),ended:makeBitMapDescriptor(kEnded),endEmitted:makeBitMapDescriptor(kEndEmitted),reading:makeBitMapDescriptor(kReading),constructed:makeBitMapDescriptor(kConstructed),sync:makeBitMapDescriptor(kSync),needReadable:makeBitMapDescriptor(kNeedReadable),emittedReadable:makeBitMapDescriptor(kEmittedReadable),readableListening:makeBitMapDescriptor(kReadableListening),resumeScheduled:makeBitMapDescriptor(kResumeScheduled),errorEmitted:makeBitMapDescriptor(kErrorEmitted),emitClose:makeBitMapDescriptor(kEmitClose),autoDestroy:makeBitMapDescriptor(kAutoDestroy),destroyed:makeBitMapDescriptor(kDestroyed),closed:makeBitMapDescriptor(kClosed),closeEmitted:makeBitMapDescriptor(kCloseEmitted),multiAwaitDrain:makeBitMapDescriptor(kMultiAwaitDrain),readingMore:makeBitMapDescriptor(kReadingMore),dataEmitted:makeBitMapDescriptor(kDataEmitted)});function ReadableState(options2,stream,isDuplex){typeof isDuplex!="boolean"&&(isDuplex=stream instanceof require_duplex()),this.state=kEmitClose|kAutoDestroy|kConstructed|kSync,options2&&options2.objectMode&&(this.state|=kObjectMode),isDuplex&&options2&&options2.readableObjectMode&&(this.state|=kObjectMode),this.highWaterMark=options2?getHighWaterMark(this,options2,"readableHighWaterMark",isDuplex):getDefaultHighWaterMark(!1),this.buffer=new BufferList,this.length=0,this.pipes=[],this.flowing=null,this[kPaused]=null,options2&&options2.emitClose===!1&&(this.state&=~kEmitClose),options2&&options2.autoDestroy===!1&&(this.state&=~kAutoDestroy),this.errored=null,this.defaultEncoding=options2&&options2.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,options2&&options2.encoding&&(this.decoder=new StringDecoder(options2.encoding),this.encoding=options2.encoding)}function Readable(options2){if(!(this instanceof Readable))return new Readable(options2);let isDuplex=this instanceof require_duplex();this._readableState=new ReadableState(options2,this,isDuplex),options2&&(typeof options2.read=="function"&&(this._read=options2.read),typeof options2.destroy=="function"&&(this._destroy=options2.destroy),typeof options2.construct=="function"&&(this._construct=options2.construct),options2.signal&&!isDuplex&&addAbortSignal(options2.signal,this)),Stream.call(this,options2),destroyImpl.construct(this,()=>{this._readableState.needReadable&&maybeReadMore(this,this._readableState)})}Readable.prototype.destroy=destroyImpl.destroy;Readable.prototype._undestroy=destroyImpl.undestroy;Readable.prototype._destroy=function(err,cb){cb(err)};Readable.prototype[EE.captureRejectionSymbol]=function(err){this.destroy(err)};Readable.prototype[SymbolAsyncDispose]=function(){let error;return this.destroyed||(error=this.readableEnded?null:new AbortError,this.destroy(error)),new Promise2((resolve,reject)=>eos(this,err=>err&&err!==error?reject(err):resolve(null)))};Readable.prototype.push=function(chunk,encoding){return readableAddChunk(this,chunk,encoding,!1)};Readable.prototype.unshift=function(chunk,encoding){return readableAddChunk(this,chunk,encoding,!0)};function readableAddChunk(stream,chunk,encoding,addToFront){debug("readableAddChunk",chunk);let state=stream._readableState,err;if((state.state&kObjectMode)===0&&(typeof chunk=="string"?(encoding=encoding||state.defaultEncoding,state.encoding!==encoding&&(addToFront&&state.encoding?chunk=Buffer2.from(chunk,encoding).toString(state.encoding):(chunk=Buffer2.from(chunk,encoding),encoding=""))):chunk instanceof Buffer2?encoding="":Stream._isUint8Array(chunk)?(chunk=Stream._uint8ArrayToBuffer(chunk),encoding=""):chunk!=null&&(err=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],chunk))),err)errorOrDestroy(stream,err);else if(chunk===null)state.state&=~kReading,onEofChunk(stream,state);else if((state.state&kObjectMode)!==0||chunk&&chunk.length>0)if(addToFront)if((state.state&kEndEmitted)!==0)errorOrDestroy(stream,new ERR_STREAM_UNSHIFT_AFTER_END_EVENT);else{if(state.destroyed||state.errored)return!1;addChunk(stream,state,chunk,!0)}else if(state.ended)errorOrDestroy(stream,new ERR_STREAM_PUSH_AFTER_EOF);else{if(state.destroyed||state.errored)return!1;state.state&=~kReading,state.decoder&&!encoding?(chunk=state.decoder.write(chunk),state.objectMode||chunk.length!==0?addChunk(stream,state,chunk,!1):maybeReadMore(stream,state)):addChunk(stream,state,chunk,!1)}else addToFront||(state.state&=~kReading,maybeReadMore(stream,state));return!state.ended&&(state.length<state.highWaterMark||state.length===0)}function addChunk(stream,state,chunk,addToFront){state.flowing&&state.length===0&&!state.sync&&stream.listenerCount("data")>0?((state.state&kMultiAwaitDrain)!==0?state.awaitDrainWriters.clear():state.awaitDrainWriters=null,state.dataEmitted=!0,stream.emit("data",chunk)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),(state.state&kNeedReadable)!==0&&emitReadable(stream)),maybeReadMore(stream,state)}Readable.prototype.isPaused=function(){let state=this._readableState;return state[kPaused]===!0||state.flowing===!1};Readable.prototype.setEncoding=function(enc){let decoder=new StringDecoder(enc);this._readableState.decoder=decoder,this._readableState.encoding=this._readableState.decoder.encoding;let buffer=this._readableState.buffer,content="";for(let data of buffer)content+=decoder.write(data);return buffer.clear(),content!==""&&buffer.push(content),this._readableState.length=content.length,this};var MAX_HWM=1073741824;function computeNewHighWaterMark(n){if(n>MAX_HWM)throw new ERR_OUT_OF_RANGE("size","<= 1GiB",n);return n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++,n}function howMuchToRead(n,state){return n<=0||state.length===0&&state.ended?0:(state.state&kObjectMode)!==0?1:NumberIsNaN(n)?state.flowing&&state.length?state.buffer.first().length:state.length:n<=state.length?n:state.ended?state.length:0}Readable.prototype.read=function(n){debug("read",n),n===void 0?n=NaN:NumberIsInteger(n)||(n=NumberParseInt(n,10));let state=this._readableState,nOrig=n;if(n>state.highWaterMark&&(state.highWaterMark=computeNewHighWaterMark(n)),n!==0&&(state.state&=~kEmittedReadable),n===0&&state.needReadable&&((state.highWaterMark!==0?state.length>=state.highWaterMark:state.length>0)||state.ended))return debug("read: emitReadable",state.length,state.ended),state.length===0&&state.ended?endReadable(this):emitReadable(this),null;if(n=howMuchToRead(n,state),n===0&&state.ended)return state.length===0&&endReadable(this),null;let doRead=(state.state&kNeedReadable)!==0;if(debug("need readable",doRead),(state.length===0||state.length-n<state.highWaterMark)&&(doRead=!0,debug("length less than watermark",doRead)),state.ended||state.reading||state.destroyed||state.errored||!state.constructed)doRead=!1,debug("reading, ended or constructing",doRead);else if(doRead){debug("do read"),state.state|=kReading|kSync,state.length===0&&(state.state|=kNeedReadable);try{this._read(state.highWaterMark)}catch(err){errorOrDestroy(this,err)}state.state&=~kSync,state.reading||(n=howMuchToRead(nOrig,state))}let ret;return n>0?ret=fromList(n,state):ret=null,ret===null?(state.needReadable=state.length<=state.highWaterMark,n=0):(state.length-=n,state.multiAwaitDrain?state.awaitDrainWriters.clear():state.awaitDrainWriters=null),state.length===0&&(state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&endReadable(this)),ret!==null&&!state.errorEmitted&&!state.closeEmitted&&(state.dataEmitted=!0,this.emit("data",ret)),ret};function onEofChunk(stream,state){if(debug("onEofChunk"),!state.ended){if(state.decoder){let chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,state.sync?emitReadable(stream):(state.needReadable=!1,state.emittedReadable=!0,emitReadable_(stream))}}function emitReadable(stream){let state=stream._readableState;debug("emitReadable",state.needReadable,state.emittedReadable),state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,process4.nextTick(emitReadable_,stream))}function emitReadable_(stream){let state=stream._readableState;debug("emitReadable_",state.destroyed,state.length,state.ended),!state.destroyed&&!state.errored&&(state.length||state.ended)&&(stream.emit("readable"),state.emittedReadable=!1),state.needReadable=!state.flowing&&!state.ended&&state.length<=state.highWaterMark,flow(stream)}function maybeReadMore(stream,state){!state.readingMore&&state.constructed&&(state.readingMore=!0,process4.nextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(;!state.reading&&!state.ended&&(state.length<state.highWaterMark||state.flowing&&state.length===0);){let len=state.length;if(debug("maybeReadMore read 0"),stream.read(0),len===state.length)break}state.readingMore=!1}Readable.prototype._read=function(n){throw new ERR_METHOD_NOT_IMPLEMENTED("_read()")};Readable.prototype.pipe=function(dest,pipeOpts){let src=this,state=this._readableState;state.pipes.length===1&&(state.multiAwaitDrain||(state.multiAwaitDrain=!0,state.awaitDrainWriters=new SafeSet(state.awaitDrainWriters?[state.awaitDrainWriters]:[]))),state.pipes.push(dest),debug("pipe count=%d opts=%j",state.pipes.length,pipeOpts);let endFn=(!pipeOpts||pipeOpts.end!==!1)&&dest!==process4.stdout&&dest!==process4.stderr?onend:unpipe;state.endEmitted?process4.nextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);function onunpipe(readable,unpipeInfo){debug("onunpipe"),readable===src&&unpipeInfo&&unpipeInfo.hasUnpiped===!1&&(unpipeInfo.hasUnpiped=!0,cleanup())}function onend(){debug("onend"),dest.end()}let ondrain,cleanedUp=!1;function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),ondrain&&dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",unpipe),src.removeListener("data",ondata),cleanedUp=!0,ondrain&&state.awaitDrainWriters&&(!dest._writableState||dest._writableState.needDrain)&&ondrain()}function pause(){cleanedUp||(state.pipes.length===1&&state.pipes[0]===dest?(debug("false write response, pause",0),state.awaitDrainWriters=dest,state.multiAwaitDrain=!1):state.pipes.length>1&&state.pipes.includes(dest)&&(debug("false write response, pause",state.awaitDrainWriters.size),state.awaitDrainWriters.add(dest)),src.pause()),ondrain||(ondrain=pipeOnDrain(src,dest),dest.on("drain",ondrain))}src.on("data",ondata);function ondata(chunk){debug("ondata");let ret=dest.write(chunk);debug("dest.write",ret),ret===!1&&pause()}function onerror(er){if(debug("onerror",er),unpipe(),dest.removeListener("error",onerror),dest.listenerCount("error")===0){let s=dest._writableState||dest._readableState;s&&!s.errorEmitted?errorOrDestroy(dest,er):dest.emit("error",er)}}prependListener(dest,"error",onerror);function onclose(){dest.removeListener("finish",onfinish),unpipe()}dest.once("close",onclose);function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}dest.once("finish",onfinish);function unpipe(){debug("unpipe"),src.unpipe(dest)}return dest.emit("pipe",src),dest.writableNeedDrain===!0?pause():state.flowing||(debug("pipe resume"),src.resume()),dest};function pipeOnDrain(src,dest){return function(){let state=src._readableState;state.awaitDrainWriters===dest?(debug("pipeOnDrain",1),state.awaitDrainWriters=null):state.multiAwaitDrain&&(debug("pipeOnDrain",state.awaitDrainWriters.size),state.awaitDrainWriters.delete(dest)),(!state.awaitDrainWriters||state.awaitDrainWriters.size===0)&&src.listenerCount("data")&&src.resume()}}Readable.prototype.unpipe=function(dest){let state=this._readableState,unpipeInfo={hasUnpiped:!1};if(state.pipes.length===0)return this;if(!dest){let dests=state.pipes;state.pipes=[],this.pause();for(let i=0;i<dests.length;i++)dests[i].emit("unpipe",this,{hasUnpiped:!1});return this}let index2=ArrayPrototypeIndexOf(state.pipes,dest);return index2===-1?this:(state.pipes.splice(index2,1),state.pipes.length===0&&this.pause(),dest.emit("unpipe",this,unpipeInfo),this)};Readable.prototype.on=function(ev,fn){let res=Stream.prototype.on.call(this,ev,fn),state=this._readableState;return ev==="data"?(state.readableListening=this.listenerCount("readable")>0,state.flowing!==!1&&this.resume()):ev==="readable"&&!state.endEmitted&&!state.readableListening&&(state.readableListening=state.needReadable=!0,state.flowing=!1,state.emittedReadable=!1,debug("on readable",state.length,state.reading),state.length?emitReadable(this):state.reading||process4.nextTick(nReadingNextTick,this)),res};Readable.prototype.addListener=Readable.prototype.on;Readable.prototype.removeListener=function(ev,fn){let res=Stream.prototype.removeListener.call(this,ev,fn);return ev==="readable"&&process4.nextTick(updateReadableListening,this),res};Readable.prototype.off=Readable.prototype.removeListener;Readable.prototype.removeAllListeners=function(ev){let res=Stream.prototype.removeAllListeners.apply(this,arguments);return(ev==="readable"||ev===void 0)&&process4.nextTick(updateReadableListening,this),res};function updateReadableListening(self2){let state=self2._readableState;state.readableListening=self2.listenerCount("readable")>0,state.resumeScheduled&&state[kPaused]===!1?state.flowing=!0:self2.listenerCount("data")>0?self2.resume():state.readableListening||(state.flowing=null)}function nReadingNextTick(self2){debug("readable nexttick read 0"),self2.read(0)}Readable.prototype.resume=function(){let state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!state.readableListening,resume(this,state)),state[kPaused]=!1,this};function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,process4.nextTick(resume_,stream,state))}function resume_(stream,state){debug("resume",state.reading),state.reading||stream.read(0),state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[kPaused]=!0,this};function flow(stream){let state=stream._readableState;for(debug("flow",state.flowing);state.flowing&&stream.read()!==null;);}Readable.prototype.wrap=function(stream){let paused=!1;stream.on("data",chunk=>{!this.push(chunk)&&stream.pause&&(paused=!0,stream.pause())}),stream.on("end",()=>{this.push(null)}),stream.on("error",err=>{errorOrDestroy(this,err)}),stream.on("close",()=>{this.destroy()}),stream.on("destroy",()=>{this.destroy()}),this._read=()=>{paused&&stream.resume&&(paused=!1,stream.resume())};let streamKeys=ObjectKeys(stream);for(let j=1;j<streamKeys.length;j++){let i=streamKeys[j];this[i]===void 0&&typeof stream[i]=="function"&&(this[i]=stream[i].bind(stream))}return this};Readable.prototype[SymbolAsyncIterator]=function(){return streamToAsyncIterator(this)};Readable.prototype.iterator=function(options2){return options2!==void 0&&validateObject(options2,"options"),streamToAsyncIterator(this,options2)};function streamToAsyncIterator(stream,options2){typeof stream.read!="function"&&(stream=Readable.wrap(stream,{objectMode:!0}));let iter=createAsyncIterator(stream,options2);return iter.stream=stream,iter}async function*createAsyncIterator(stream,options2){let callback=nop;function next(resolve){this===stream?(callback(),callback=nop):callback=resolve}stream.on("readable",next);let error,cleanup=eos(stream,{writable:!1},err=>{error=err?aggregateTwoErrors(error,err):null,callback(),callback=nop});try{for(;;){let chunk=stream.destroyed?null:stream.read();if(chunk!==null)yield chunk;else{if(error)throw error;if(error===null)return;await new Promise2(next)}}}catch(err){throw error=aggregateTwoErrors(error,err),error}finally{(error||options2?.destroyOnReturn!==!1)&&(error===void 0||stream._readableState.autoDestroy)?destroyImpl.destroyer(stream,null):(stream.off("readable",next),cleanup())}}ObjectDefineProperties(Readable.prototype,{readable:{__proto__:null,get(){let r=this._readableState;return!!r&&r.readable!==!1&&!r.destroyed&&!r.errorEmitted&&!r.endEmitted},set(val){this._readableState&&(this._readableState.readable=!!val)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(state){this._readableState&&(this._readableState.flowing=state)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(value){this._readableState&&(this._readableState.destroyed=value)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});ObjectDefineProperties(ReadableState.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[kPaused]!==!1},set(value){this[kPaused]=!!value}}});Readable._fromList=fromList;function fromList(n,state){if(state.length===0)return null;let ret;return state.objectMode?ret=state.buffer.shift():!n||n>=state.length?(state.decoder?ret=state.buffer.join(""):state.buffer.length===1?ret=state.buffer.first():ret=state.buffer.concat(state.length),state.buffer.clear()):ret=state.buffer.consume(n,state.decoder),ret}function endReadable(stream){let state=stream._readableState;debug("endReadable",state.endEmitted),state.endEmitted||(state.ended=!0,process4.nextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){if(debug("endReadableNT",state.endEmitted,state.length),!state.errored&&!state.closeEmitted&&!state.endEmitted&&state.length===0){if(state.endEmitted=!0,stream.emit("end"),stream.writable&&stream.allowHalfOpen===!1)process4.nextTick(endWritableNT,stream);else if(state.autoDestroy){let wState=stream._writableState;(!wState||wState.autoDestroy&&(wState.finished||wState.writable===!1))&&stream.destroy()}}}function endWritableNT(stream){stream.writable&&!stream.writableEnded&&!stream.destroyed&&stream.end()}Readable.from=function(iterable,opts){return from(Readable,iterable,opts)};var webStreamsAdapters;function lazyWebStreams(){return webStreamsAdapters===void 0&&(webStreamsAdapters={}),webStreamsAdapters}Readable.fromWeb=function(readableStream,options2){return lazyWebStreams().newStreamReadableFromReadableStream(readableStream,options2)};Readable.toWeb=function(streamReadable,options2){return lazyWebStreams().newReadableStreamFromStreamReadable(streamReadable,options2)};Readable.wrap=function(src,options2){var _ref,_src$readableObjectMo;return new Readable({objectMode:(_ref=(_src$readableObjectMo=src.readableObjectMode)!==null&&_src$readableObjectMo!==void 0?_src$readableObjectMo:src.objectMode)!==null&&_ref!==void 0?_ref:!0,...options2,destroy(err,callback){destroyImpl.destroyer(src,err),callback(err)}}).wrap(src)}}});var require_writable=__commonJS({"../../../../node_modules/readable-stream/lib/internal/streams/writable.js"(exports2,module2){"use strict";var process4=require_process2(),{ArrayPrototypeSlice,Error:Error3,FunctionPrototypeSymbolHasInstance,ObjectDefineProperty,ObjectDefineProperties,ObjectSetPrototypeOf,StringPrototypeToLowerCase,Symbol:Symbol2,SymbolHasInstance}=require_primordials();module2.exports=Writable;Writable.WritableState=WritableState;var{EventEmitter:EE}=require("events"),Stream=require_legacy().Stream,{Buffer:Buffer2}=require("buffer"),destroyImpl=require_destroy(),{addAbortSignal}=require_add_abort_signal(),{getHighWaterMark,getDefaultHighWaterMark}=require_state2(),{ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK,ERR_STREAM_CANNOT_PIPE,ERR_STREAM_DESTROYED,ERR_STREAM_ALREADY_FINISHED,ERR_STREAM_NULL_VALUES,ERR_STREAM_WRITE_AFTER_END,ERR_UNKNOWN_ENCODING}=require_errors9().codes,{errorOrDestroy}=destroyImpl;ObjectSetPrototypeOf(Writable.prototype,Stream.prototype);ObjectSetPrototypeOf(Writable,Stream);function nop(){}var kOnFinished=Symbol2("kOnFinished");function WritableState(options2,stream,isDuplex){typeof isDuplex!="boolean"&&(isDuplex=stream instanceof require_duplex()),this.objectMode=!!(options2&&options2.objectMode),isDuplex&&(this.objectMode=this.objectMode||!!(options2&&options2.writableObjectMode)),this.highWaterMark=options2?getHighWaterMark(this,options2,"writableHighWaterMark",isDuplex):getDefaultHighWaterMark(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let noDecode=!!(options2&&options2.decodeStrings===!1);this.decodeStrings=!noDecode,this.defaultEncoding=options2&&options2.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=onwrite.bind(void 0,stream),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,resetBuffer(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!options2||options2.emitClose!==!1,this.autoDestroy=!options2||options2.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[kOnFinished]=[]}function resetBuffer(state){state.buffered=[],state.bufferedIndex=0,state.allBuffers=!0,state.allNoop=!0}WritableState.prototype.getBuffer=function(){return ArrayPrototypeSlice(this.buffered,this.bufferedIndex)};ObjectDefineProperty(WritableState.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Writable(options2){let isDuplex=this instanceof require_duplex();if(!isDuplex&&!FunctionPrototypeSymbolHasInstance(Writable,this))return new Writable(options2);this._writableState=new WritableState(options2,this,isDuplex),options2&&(typeof options2.write=="function"&&(this._write=options2.write),typeof options2.writev=="function"&&(this._writev=options2.writev),typeof options2.destroy=="function"&&(this._destroy=options2.destroy),typeof options2.final=="function"&&(this._final=options2.final),typeof options2.construct=="function"&&(this._construct=options2.construct),options2.signal&&addAbortSignal(options2.signal,this)),Stream.call(this,options2),destroyImpl.construct(this,()=>{let state=this._writableState;state.writing||clearBuffer(this,state),finishMaybe(this,state)})}ObjectDefineProperty(Writable,SymbolHasInstance,{__proto__:null,value:function(object){return FunctionPrototypeSymbolHasInstance(this,object)?!0:this!==Writable?!1:object&&object._writableState instanceof WritableState}});Writable.prototype.pipe=function(){errorOrDestroy(this,new ERR_STREAM_CANNOT_PIPE)};function _write(stream,chunk,encoding,cb){let state=stream._writableState;if(typeof encoding=="function")cb=encoding,encoding=state.defaultEncoding;else{if(!encoding)encoding=state.defaultEncoding;else if(encoding!=="buffer"&&!Buffer2.isEncoding(encoding))throw new ERR_UNKNOWN_ENCODING(encoding);typeof cb!="function"&&(cb=nop)}if(chunk===null)throw new ERR_STREAM_NULL_VALUES;if(!state.objectMode)if(typeof chunk=="string")state.decodeStrings!==!1&&(chunk=Buffer2.from(chunk,encoding),encoding="buffer");else if(chunk instanceof Buffer2)encoding="buffer";else if(Stream._isUint8Array(chunk))chunk=Stream._uint8ArrayToBuffer(chunk),encoding="buffer";else throw new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],chunk);let err;return state.ending?err=new ERR_STREAM_WRITE_AFTER_END:state.destroyed&&(err=new ERR_STREAM_DESTROYED("write")),err?(process4.nextTick(cb,err),errorOrDestroy(stream,err,!0),err):(state.pendingcb++,writeOrBuffer(stream,state,chunk,encoding,cb))}Writable.prototype.write=function(chunk,encoding,cb){return _write(this,chunk,encoding,cb)===!0};Writable.prototype.cork=function(){this._writableState.corked++};Writable.prototype.uncork=function(){let state=this._writableState;state.corked&&(state.corked--,state.writing||clearBuffer(this,state))};Writable.prototype.setDefaultEncoding=function(encoding){if(typeof encoding=="string"&&(encoding=StringPrototypeToLowerCase(encoding)),!Buffer2.isEncoding(encoding))throw new ERR_UNKNOWN_ENCODING(encoding);return this._writableState.defaultEncoding=encoding,this};function writeOrBuffer(stream,state,chunk,encoding,callback){let len=state.objectMode?1:chunk.length;state.length+=len;let ret=state.length<state.highWaterMark;return ret||(state.needDrain=!0),state.writing||state.corked||state.errored||!state.constructed?(state.buffered.push({chunk,encoding,callback}),state.allBuffers&&encoding!=="buffer"&&(state.allBuffers=!1),state.allNoop&&callback!==nop&&(state.allNoop=!1)):(state.writelen=len,state.writecb=callback,state.writing=!0,state.sync=!0,stream._write(chunk,encoding,state.onwrite),state.sync=!1),ret&&!state.errored&&!state.destroyed}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,state.destroyed?state.onwrite(new ERR_STREAM_DESTROYED("write")):writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,er,cb){--state.pendingcb,cb(er),errorBuffer(state),errorOrDestroy(stream,er)}function onwrite(stream,er){let state=stream._writableState,sync=state.sync,cb=state.writecb;if(typeof cb!="function"){errorOrDestroy(stream,new ERR_MULTIPLE_CALLBACK);return}state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0,er?(er.stack,state.errored||(state.errored=er),stream._readableState&&!stream._readableState.errored&&(stream._readableState.errored=er),sync?process4.nextTick(onwriteError,stream,state,er,cb):onwriteError(stream,state,er,cb)):(state.buffered.length>state.bufferedIndex&&clearBuffer(stream,state),sync?state.afterWriteTickInfo!==null&&state.afterWriteTickInfo.cb===cb?state.afterWriteTickInfo.count++:(state.afterWriteTickInfo={count:1,cb,stream,state},process4.nextTick(afterWriteTick,state.afterWriteTickInfo)):afterWrite(stream,state,1,cb))}function afterWriteTick({stream,state,count,cb}){return state.afterWriteTickInfo=null,afterWrite(stream,state,count,cb)}function afterWrite(stream,state,count,cb){for(!state.ending&&!stream.destroyed&&state.length===0&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"));count-- >0;)state.pendingcb--,cb();state.destroyed&&errorBuffer(state),finishMaybe(stream,state)}function errorBuffer(state){if(state.writing)return;for(let n=state.bufferedIndex;n<state.buffered.length;++n){var _state$errored;let{chunk,callback}=state.buffered[n],len=state.objectMode?1:chunk.length;state.length-=len,callback((_state$errored=state.errored)!==null&&_state$errored!==void 0?_state$errored:new ERR_STREAM_DESTROYED("write"))}let onfinishCallbacks=state[kOnFinished].splice(0);for(let i=0;i<onfinishCallbacks.length;i++){var _state$errored2;onfinishCallbacks[i]((_state$errored2=state.errored)!==null&&_state$errored2!==void 0?_state$errored2:new ERR_STREAM_DESTROYED("end"))}resetBuffer(state)}function clearBuffer(stream,state){if(state.corked||state.bufferProcessing||state.destroyed||!state.constructed)return;let{buffered,bufferedIndex,objectMode}=state,bufferedLength=buffered.length-bufferedIndex;if(!bufferedLength)return;let i=bufferedIndex;if(state.bufferProcessing=!0,bufferedLength>1&&stream._writev){state.pendingcb-=bufferedLength-1;let callback=state.allNoop?nop:err=>{for(let n=i;n<buffered.length;++n)buffered[n].callback(err)},chunks=state.allNoop&&i===0?buffered:ArrayPrototypeSlice(buffered,i);chunks.allBuffers=state.allBuffers,doWrite(stream,state,!0,state.length,chunks,"",callback),resetBuffer(state)}else{do{let{chunk,encoding,callback}=buffered[i];buffered[i++]=null;let len=objectMode?1:chunk.length;doWrite(stream,state,!1,len,chunk,encoding,callback)}while(i<buffered.length&&!state.writing);i===buffered.length?resetBuffer(state):i>256?(buffered.splice(0,i),state.bufferedIndex=0):state.bufferedIndex=i}state.bufferProcessing=!1}Writable.prototype._write=function(chunk,encoding,cb){if(this._writev)this._writev([{chunk,encoding}],cb);else throw new ERR_METHOD_NOT_IMPLEMENTED("_write()")};Writable.prototype._writev=null;Writable.prototype.end=function(chunk,encoding,cb){let state=this._writableState;typeof chunk=="function"?(cb=chunk,chunk=null,encoding=null):typeof encoding=="function"&&(cb=encoding,encoding=null);let err;if(chunk!=null){let ret=_write(this,chunk,encoding);ret instanceof Error3&&(err=ret)}return state.corked&&(state.corked=1,this.uncork()),err||(!state.errored&&!state.ending?(state.ending=!0,finishMaybe(this,state,!0),state.ended=!0):state.finished?err=new ERR_STREAM_ALREADY_FINISHED("end"):state.destroyed&&(err=new ERR_STREAM_DESTROYED("end"))),typeof cb=="function"&&(err||state.finished?process4.nextTick(cb,err):state[kOnFinished].push(cb)),this};function needFinish(state){return state.ending&&!state.destroyed&&state.constructed&&state.length===0&&!state.errored&&state.buffered.length===0&&!state.finished&&!state.writing&&!state.errorEmitted&&!state.closeEmitted}function callFinal(stream,state){let called=!1;function onFinish(err){if(called){errorOrDestroy(stream,err??ERR_MULTIPLE_CALLBACK());return}if(called=!0,state.pendingcb--,err){let onfinishCallbacks=state[kOnFinished].splice(0);for(let i=0;i<onfinishCallbacks.length;i++)onfinishCallbacks[i](err);errorOrDestroy(stream,err,state.sync)}else needFinish(state)&&(state.prefinished=!0,stream.emit("prefinish"),state.pendingcb++,process4.nextTick(finish,stream,state))}state.sync=!0,state.pendingcb++;try{stream._final(onFinish)}catch(err){onFinish(err)}state.sync=!1}function prefinish(stream,state){!state.prefinished&&!state.finalCalled&&(typeof stream._final=="function"&&!state.destroyed?(state.finalCalled=!0,callFinal(stream,state)):(state.prefinished=!0,stream.emit("prefinish")))}function finishMaybe(stream,state,sync){needFinish(state)&&(prefinish(stream,state),state.pendingcb===0&&(sync?(state.pendingcb++,process4.nextTick((stream2,state2)=>{needFinish(state2)?finish(stream2,state2):state2.pendingcb--},stream,state)):needFinish(state)&&(state.pendingcb++,finish(stream,state))))}function finish(stream,state){state.pendingcb--,state.finished=!0;let onfinishCallbacks=state[kOnFinished].splice(0);for(let i=0;i<onfinishCallbacks.length;i++)onfinishCallbacks[i]();if(stream.emit("finish"),state.autoDestroy){let rState=stream._readableState;(!rState||rState.autoDestroy&&(rState.endEmitted||rState.readable===!1))&&stream.destroy()}}ObjectDefineProperties(Writable.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(value){this._writableState&&(this._writableState.destroyed=value)}},writable:{__proto__:null,get(){let w=this._writableState;return!!w&&w.writable!==!1&&!w.destroyed&&!w.errored&&!w.ending&&!w.ended},set(val){this._writableState&&(this._writableState.writable=!!val)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let wState=this._writableState;return wState?!wState.destroyed&&!wState.ending&&wState.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var destroy=destroyImpl.destroy;Writable.prototype.destroy=function(err,cb){let state=this._writableState;return!state.destroyed&&(state.bufferedIndex<state.buffered.length||state[kOnFinished].length)&&process4.nextTick(errorBuffer,state),destroy.call(this,err,cb),this};Writable.prototype._undestroy=destroyImpl.undestroy;Writable.prototype._destroy=function(err,cb){cb(err)};Writable.prototype[EE.captureRejectionSymbol]=function(err){this.destroy(err)};var webStreamsAdapters;function lazyWebStreams(){return webStreamsAdapters===void 0&&(webStreamsAdapters={}),webStreamsAdapters}Writable.fromWeb=function(writableStream,options2){return lazyWebStreams().newStreamWritableFromWritableStream(writableStream,options2)};Writable.toWeb=function(streamWritable){return lazyWebStreams().newWritableStreamFromStreamWritable(streamWritable)}}});var require_duplexify=__commonJS({"../../../../node_modules/readable-stream/lib/internal/streams/duplexify.js"(exports2,module2){var process4=require_process2(),bufferModule=require("buffer"),{isReadable,isWritable,isIterable,isNodeStream,isReadableNodeStream,isWritableNodeStream,isDuplexNodeStream,isReadableStream,isWritableStream}=require_utils6(),eos=require_end_of_stream2(),{AbortError,codes:{ERR_INVALID_ARG_TYPE,ERR_INVALID_RETURN_VALUE}}=require_errors9(),{destroyer}=require_destroy(),Duplex=require_duplex(),Readable=require_readable2(),Writable=require_writable(),{createDeferredPromise}=require_util13(),from=require_from(),Blob2=globalThis.Blob||bufferModule.Blob,isBlob=typeof Blob2<"u"?function(b){return b instanceof Blob2}:function(b){return!1},AbortController2=globalThis.AbortController||require_abort_controller().AbortController,{FunctionPrototypeCall}=require_primordials(),Duplexify=class extends Duplex{constructor(options2){super(options2),options2?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),options2?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};module2.exports=function duplexify(body,name){if(isDuplexNodeStream(body))return body;if(isReadableNodeStream(body))return _duplexify({readable:body});if(isWritableNodeStream(body))return _duplexify({writable:body});if(isNodeStream(body))return _duplexify({writable:!1,readable:!1});if(isReadableStream(body))return _duplexify({readable:Readable.fromWeb(body)});if(isWritableStream(body))return _duplexify({writable:Writable.fromWeb(body)});if(typeof body=="function"){let{value,write:write2,final,destroy}=fromAsyncGen(body);if(isIterable(value))return from(Duplexify,value,{objectMode:!0,write:write2,final,destroy});let then2=value?.then;if(typeof then2=="function"){let d,promise=FunctionPrototypeCall(then2,value,val=>{if(val!=null)throw new ERR_INVALID_RETURN_VALUE("nully","body",val)},err=>{destroyer(d,err)});return d=new Duplexify({objectMode:!0,readable:!1,write:write2,final(cb){final(async()=>{try{await promise,process4.nextTick(cb,null)}catch(err){process4.nextTick(cb,err)}})},destroy})}throw new ERR_INVALID_RETURN_VALUE("Iterable, AsyncIterable or AsyncFunction",name,value)}if(isBlob(body))return duplexify(body.arrayBuffer());if(isIterable(body))return from(Duplexify,body,{objectMode:!0,writable:!1});if(isReadableStream(body?.readable)&&isWritableStream(body?.writable))return Duplexify.fromWeb(body);if(typeof body?.writable=="object"||typeof body?.readable=="object"){let readable=body!=null&&body.readable?isReadableNodeStream(body?.readable)?body?.readable:duplexify(body.readable):void 0,writable=body!=null&&body.writable?isWritableNodeStream(body?.writable)?body?.writable:duplexify(body.writable):void 0;return _duplexify({readable,writable})}let then=body?.then;if(typeof then=="function"){let d;return FunctionPrototypeCall(then,body,val=>{val!=null&&d.push(val),d.push(null)},err=>{destroyer(d,err)}),d=new Duplexify({objectMode:!0,writable:!1,read(){}})}throw new ERR_INVALID_ARG_TYPE(name,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],body)};function fromAsyncGen(fn){let{promise,resolve}=createDeferredPromise(),ac=new AbortController2,signal=ac.signal;return{value:fn((async function*(){for(;;){let _promise=promise;promise=null;let{chunk,done,cb}=await _promise;if(process4.nextTick(cb),done)return;if(signal.aborted)throw new AbortError(void 0,{cause:signal.reason});({promise,resolve}=createDeferredPromise()),yield chunk}})(),{signal}),write(chunk,encoding,cb){let _resolve=resolve;resolve=null,_resolve({chunk,done:!1,cb})},final(cb){let _resolve=resolve;resolve=null,_resolve({done:!0,cb})},destroy(err,cb){ac.abort(),cb(err)}}}function _duplexify(pair){let r=pair.readable&&typeof pair.readable.read!="function"?Readable.wrap(pair.readable):pair.readable,w=pair.writable,readable=!!isReadable(r),writable=!!isWritable(w),ondrain,onfinish,onreadable,onclose,d;function onfinished(err){let cb=onclose;onclose=null,cb?cb(err):err&&d.destroy(err)}return d=new Duplexify({readableObjectMode:!!(r!=null&&r.readableObjectMode),writableObjectMode:!!(w!=null&&w.writableObjectMode),readable,writable}),writable&&(eos(w,err=>{writable=!1,err&&destroyer(r,err),onfinished(err)}),d._write=function(chunk,encoding,callback){w.write(chunk,encoding)?callback():ondrain=callback},d._final=function(callback){w.end(),onfinish=callback},w.on("drain",function(){if(ondrain){let cb=ondrain;ondrain=null,cb()}}),w.on("finish",function(){if(onfinish){let cb=onfinish;onfinish=null,cb()}})),readable&&(eos(r,err=>{readable=!1,err&&destroyer(r,err),onfinished(err)}),r.on("readable",function(){if(onreadable){let cb=onreadable;onreadable=null,cb()}}),r.on("end",function(){d.push(null)}),d._read=function(){for(;;){let buf=r.read();if(buf===null){onreadable=d._read;return}if(!d.push(buf))return}}),d._destroy=function(err,callback){!err&&onclose!==null&&(err=new AbortError),onreadable=null,ondrain=null,onfinish=null,onclose===null?callback(err):(onclose=callback,destroyer(w,err),destroyer(r,err))},d}}});var require_duplex=__commonJS({"../../../../node_modules/readable-stream/lib/internal/streams/duplex.js"(exports2,module2){"use strict";var{ObjectDefineProperties,ObjectGetOwnPropertyDescriptor,ObjectKeys,ObjectSetPrototypeOf}=require_primordials();module2.exports=Duplex;var Readable=require_readable2(),Writable=require_writable();ObjectSetPrototypeOf(Duplex.prototype,Readable.prototype);ObjectSetPrototypeOf(Duplex,Readable);{let keys2=ObjectKeys(Writable.prototype);for(let i=0;i<keys2.length;i++){let method=keys2[i];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}}function Duplex(options2){if(!(this instanceof Duplex))return new Duplex(options2);Readable.call(this,options2),Writable.call(this,options2),options2?(this.allowHalfOpen=options2.allowHalfOpen!==!1,options2.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),options2.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}ObjectDefineProperties(Duplex.prototype,{writable:{__proto__:null,...ObjectGetOwnPropertyDescriptor(Writable.prototype,"writable")},writableHighWaterMark:{__proto__:null,...ObjectGetOwnPropertyDescriptor(Writable.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...ObjectGetOwnPropertyDescriptor(Writable.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...ObjectGetOwnPropertyDescriptor(Writable.prototype,"writableBuffer")},writableLength:{__proto__:null,...ObjectGetOwnPropertyDescriptor(Writable.prototype,"writableLength")},writableFinished:{__proto__:null,...ObjectGetOwnPropertyDescriptor(Writable.prototype,"writableFinished")},writableCorked:{__proto__:null,...ObjectGetOwnPropertyDescriptor(Writable.prototype,"writableCorked")},writableEnded:{__proto__:null,...ObjectGetOwnPropertyDescriptor(Writable.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...ObjectGetOwnPropertyDescriptor(Writable.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(value){this._readableState&&this._writableState&&(this._readableState.destroyed=value,this._writableState.destroyed=value)}}});var webStreamsAdapters;function lazyWebStreams(){return webStreamsAdapters===void 0&&(webStreamsAdapters={}),webStreamsAdapters}Duplex.fromWeb=function(pair,options2){return lazyWebStreams().newStreamDuplexFromReadableWritablePair(pair,options2)};Duplex.toWeb=function(duplex){return lazyWebStreams().newReadableWritablePairFromDuplex(duplex)};var duplexify;Duplex.from=function(body){return duplexify||(duplexify=require_duplexify()),duplexify(body,"body")}}});var require_transform=__commonJS({"../../../../node_modules/readable-stream/lib/internal/streams/transform.js"(exports2,module2){"use strict";var{ObjectSetPrototypeOf,Symbol:Symbol2}=require_primordials();module2.exports=Transform;var{ERR_METHOD_NOT_IMPLEMENTED}=require_errors9().codes,Duplex=require_duplex(),{getHighWaterMark}=require_state2();ObjectSetPrototypeOf(Transform.prototype,Duplex.prototype);ObjectSetPrototypeOf(Transform,Duplex);var kCallback=Symbol2("kCallback");function Transform(options2){if(!(this instanceof Transform))return new Transform(options2);let readableHighWaterMark=options2?getHighWaterMark(this,options2,"readableHighWaterMark",!0):null;readableHighWaterMark===0&&(options2={...options2,highWaterMark:null,readableHighWaterMark,writableHighWaterMark:options2.writableHighWaterMark||0}),Duplex.call(this,options2),this._readableState.sync=!1,this[kCallback]=null,options2&&(typeof options2.transform=="function"&&(this._transform=options2.transform),typeof options2.flush=="function"&&(this._flush=options2.flush)),this.on("prefinish",prefinish)}function final(cb){typeof this._flush=="function"&&!this.destroyed?this._flush((er,data)=>{if(er){cb?cb(er):this.destroy(er);return}data!=null&&this.push(data),this.push(null),cb&&cb()}):(this.push(null),cb&&cb())}function prefinish(){this._final!==final&&final.call(this)}Transform.prototype._final=final;Transform.prototype._transform=function(chunk,encoding,callback){throw new ERR_METHOD_NOT_IMPLEMENTED("_transform()")};Transform.prototype._write=function(chunk,encoding,callback){let rState=this._readableState,wState=this._writableState,length=rState.length;this._transform(chunk,encoding,(err,val)=>{if(err){callback(err);return}val!=null&&this.push(val),wState.ended||length===rState.length||rState.length<rState.highWaterMark?callback():this[kCallback]=callback})};Transform.prototype._read=function(){if(this[kCallback]){let callback=this[kCallback];this[kCallback]=null,callback()}}}});var require_passthrough=__commonJS({"../../../../node_modules/readable-stream/lib/internal/streams/passthrough.js"(exports2,module2){"use strict";var{ObjectSetPrototypeOf}=require_primordials();module2.exports=PassThrough;var Transform=require_transform();ObjectSetPrototypeOf(PassThrough.prototype,Transform.prototype);ObjectSetPrototypeOf(PassThrough,Transform);function PassThrough(options2){if(!(this instanceof PassThrough))return new PassThrough(options2);Transform.call(this,options2)}PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}}});var require_pipeline=__commonJS({"../../../../node_modules/readable-stream/lib/internal/streams/pipeline.js"(exports2,module2){var process4=require_process2(),{ArrayIsArray,Promise:Promise2,SymbolAsyncIterator,SymbolDispose}=require_primordials(),eos=require_end_of_stream2(),{once}=require_util13(),destroyImpl=require_destroy(),Duplex=require_duplex(),{aggregateTwoErrors,codes:{ERR_INVALID_ARG_TYPE,ERR_INVALID_RETURN_VALUE,ERR_MISSING_ARGS,ERR_STREAM_DESTROYED,ERR_STREAM_PREMATURE_CLOSE},AbortError}=require_errors9(),{validateFunction,validateAbortSignal}=require_validators(),{isIterable,isReadable,isReadableNodeStream,isNodeStream,isTransformStream,isWebStream,isReadableStream,isReadableFinished}=require_utils6(),AbortController2=globalThis.AbortController||require_abort_controller().AbortController,PassThrough,Readable,addAbortListener;function destroyer(stream,reading,writing){let finished=!1;stream.on("close",()=>{finished=!0});let cleanup=eos(stream,{readable:reading,writable:writing},err=>{finished=!err});return{destroy:err=>{finished||(finished=!0,destroyImpl.destroyer(stream,err||new ERR_STREAM_DESTROYED("pipe")))},cleanup}}function popCallback(streams){return validateFunction(streams[streams.length-1],"streams[stream.length - 1]"),streams.pop()}function makeAsyncIterable(val){if(isIterable(val))return val;if(isReadableNodeStream(val))return fromReadable(val);throw new ERR_INVALID_ARG_TYPE("val",["Readable","Iterable","AsyncIterable"],val)}async function*fromReadable(val){Readable||(Readable=require_readable2()),yield*Readable.prototype[SymbolAsyncIterator].call(val)}async function pumpToNode(iterable,writable,finish,{end}){let error,onresolve=null,resume=err=>{if(err&&(error=err),onresolve){let callback=onresolve;onresolve=null,callback()}},wait=()=>new Promise2((resolve,reject)=>{error?reject(error):onresolve=()=>{error?reject(error):resolve()}});writable.on("drain",resume);let cleanup=eos(writable,{readable:!1},resume);try{writable.writableNeedDrain&&await wait();for await(let chunk of iterable)writable.write(chunk)||await wait();end&&(writable.end(),await wait()),finish()}catch(err){finish(error!==err?aggregateTwoErrors(error,err):err)}finally{cleanup(),writable.off("drain",resume)}}async function pumpToWeb(readable,writable,finish,{end}){isTransformStream(writable)&&(writable=writable.writable);let writer=writable.getWriter();try{for await(let chunk of readable)await writer.ready,writer.write(chunk).catch(()=>{});await writer.ready,end&&await writer.close(),finish()}catch(err){try{await writer.abort(err),finish(err)}catch(err2){finish(err2)}}}function pipeline(...streams){return pipelineImpl(streams,once(popCallback(streams)))}function pipelineImpl(streams,callback,opts){if(streams.length===1&&ArrayIsArray(streams[0])&&(streams=streams[0]),streams.length<2)throw new ERR_MISSING_ARGS("streams");let ac=new AbortController2,signal=ac.signal,outerSignal=opts?.signal,lastStreamCleanup=[];validateAbortSignal(outerSignal,"options.signal");function abort(){finishImpl(new AbortError)}addAbortListener=addAbortListener||require_util13().addAbortListener;let disposable;outerSignal&&(disposable=addAbortListener(outerSignal,abort));let error,value,destroys=[],finishCount=0;function finish(err){finishImpl(err,--finishCount===0)}function finishImpl(err,final){var _disposable;if(err&&(!error||error.code==="ERR_STREAM_PREMATURE_CLOSE")&&(error=err),!(!error&&!final)){for(;destroys.length;)destroys.shift()(error);(_disposable=disposable)===null||_disposable===void 0||_disposable[SymbolDispose](),ac.abort(),final&&(error||lastStreamCleanup.forEach(fn=>fn()),process4.nextTick(callback,error,value))}}let ret;for(let i=0;i<streams.length;i++){let stream=streams[i],reading=i<streams.length-1,writing=i>0,end=reading||opts?.end!==!1,isLastStream=i===streams.length-1;if(isNodeStream(stream)){let onError2=function(err){err&&err.name!=="AbortError"&&err.code!=="ERR_STREAM_PREMATURE_CLOSE"&&finish(err)};var onError=onError2;if(end){let{destroy,cleanup}=destroyer(stream,reading,writing);destroys.push(destroy),isReadable(stream)&&isLastStream&&lastStreamCleanup.push(cleanup)}stream.on("error",onError2),isReadable(stream)&&isLastStream&&lastStreamCleanup.push(()=>{stream.removeListener("error",onError2)})}if(i===0)if(typeof stream=="function"){if(ret=stream({signal}),!isIterable(ret))throw new ERR_INVALID_RETURN_VALUE("Iterable, AsyncIterable or Stream","source",ret)}else isIterable(stream)||isReadableNodeStream(stream)||isTransformStream(stream)?ret=stream:ret=Duplex.from(stream);else if(typeof stream=="function"){if(isTransformStream(ret)){var _ret;ret=makeAsyncIterable((_ret=ret)===null||_ret===void 0?void 0:_ret.readable)}else ret=makeAsyncIterable(ret);if(ret=stream(ret,{signal}),reading){if(!isIterable(ret,!0))throw new ERR_INVALID_RETURN_VALUE("AsyncIterable",`transform[${i-1}]`,ret)}else{var _ret2;PassThrough||(PassThrough=require_passthrough());let pt=new PassThrough({objectMode:!0}),then=(_ret2=ret)===null||_ret2===void 0?void 0:_ret2.then;if(typeof then=="function")finishCount++,then.call(ret,val=>{value=val,val!=null&&pt.write(val),end&&pt.end(),process4.nextTick(finish)},err=>{pt.destroy(err),process4.nextTick(finish,err)});else if(isIterable(ret,!0))finishCount++,pumpToNode(ret,pt,finish,{end});else if(isReadableStream(ret)||isTransformStream(ret)){let toRead=ret.readable||ret;finishCount++,pumpToNode(toRead,pt,finish,{end})}else throw new ERR_INVALID_RETURN_VALUE("AsyncIterable or Promise","destination",ret);ret=pt;let{destroy,cleanup}=destroyer(ret,!1,!0);destroys.push(destroy),isLastStream&&lastStreamCleanup.push(cleanup)}}else if(isNodeStream(stream)){if(isReadableNodeStream(ret)){finishCount+=2;let cleanup=pipe2(ret,stream,finish,{end});isReadable(stream)&&isLastStream&&lastStreamCleanup.push(cleanup)}else if(isTransformStream(ret)||isReadableStream(ret)){let toRead=ret.readable||ret;finishCount++,pumpToNode(toRead,stream,finish,{end})}else if(isIterable(ret))finishCount++,pumpToNode(ret,stream,finish,{end});else throw new ERR_INVALID_ARG_TYPE("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ret);ret=stream}else if(isWebStream(stream)){if(isReadableNodeStream(ret))finishCount++,pumpToWeb(makeAsyncIterable(ret),stream,finish,{end});else if(isReadableStream(ret)||isIterable(ret))finishCount++,pumpToWeb(ret,stream,finish,{end});else if(isTransformStream(ret))finishCount++,pumpToWeb(ret.readable,stream,finish,{end});else throw new ERR_INVALID_ARG_TYPE("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ret);ret=stream}else ret=Duplex.from(stream)}return(signal!=null&&signal.aborted||outerSignal!=null&&outerSignal.aborted)&&process4.nextTick(abort),ret}function pipe2(src,dst,finish,{end}){let ended=!1;if(dst.on("close",()=>{ended||finish(new ERR_STREAM_PREMATURE_CLOSE)}),src.pipe(dst,{end:!1}),end){let endFn2=function(){ended=!0,dst.end()};var endFn=endFn2;isReadableFinished(src)?process4.nextTick(endFn2):src.once("end",endFn2)}else finish();return eos(src,{readable:!0,writable:!1},err=>{let rState=src._readableState;err&&err.code==="ERR_STREAM_PREMATURE_CLOSE"&&rState&&rState.ended&&!rState.errored&&!rState.errorEmitted?src.once("end",finish).once("error",finish):finish(err)}),eos(dst,{readable:!1,writable:!0},finish)}module2.exports={pipelineImpl,pipeline}}});var require_compose=__commonJS({"../../../../node_modules/readable-stream/lib/internal/streams/compose.js"(exports2,module2){"use strict";var{pipeline}=require_pipeline(),Duplex=require_duplex(),{destroyer}=require_destroy(),{isNodeStream,isReadable,isWritable,isWebStream,isTransformStream,isWritableStream,isReadableStream}=require_utils6(),{AbortError,codes:{ERR_INVALID_ARG_VALUE,ERR_MISSING_ARGS}}=require_errors9(),eos=require_end_of_stream2();module2.exports=function(...streams){if(streams.length===0)throw new ERR_MISSING_ARGS("streams");if(streams.length===1)return Duplex.from(streams[0]);let orgStreams=[...streams];if(typeof streams[0]=="function"&&(streams[0]=Duplex.from(streams[0])),typeof streams[streams.length-1]=="function"){let idx=streams.length-1;streams[idx]=Duplex.from(streams[idx])}for(let n=0;n<streams.length;++n)if(!(!isNodeStream(streams[n])&&!isWebStream(streams[n]))){if(n<streams.length-1&&!(isReadable(streams[n])||isReadableStream(streams[n])||isTransformStream(streams[n])))throw new ERR_INVALID_ARG_VALUE(`streams[${n}]`,orgStreams[n],"must be readable");if(n>0&&!(isWritable(streams[n])||isWritableStream(streams[n])||isTransformStream(streams[n])))throw new ERR_INVALID_ARG_VALUE(`streams[${n}]`,orgStreams[n],"must be writable")}let ondrain,onfinish,onreadable,onclose,d;function onfinished(err){let cb=onclose;onclose=null,cb?cb(err):err?d.destroy(err):!readable&&!writable&&d.destroy()}let head=streams[0],tail=pipeline(streams,onfinished),writable=!!(isWritable(head)||isWritableStream(head)||isTransformStream(head)),readable=!!(isReadable(tail)||isReadableStream(tail)||isTransformStream(tail));if(d=new Duplex({writableObjectMode:!!(head!=null&&head.writableObjectMode),readableObjectMode:!!(tail!=null&&tail.readableObjectMode),writable,readable}),writable){if(isNodeStream(head))d._write=function(chunk,encoding,callback){head.write(chunk,encoding)?callback():ondrain=callback},d._final=function(callback){head.end(),onfinish=callback},head.on("drain",function(){if(ondrain){let cb=ondrain;ondrain=null,cb()}});else if(isWebStream(head)){let writer=(isTransformStream(head)?head.writable:head).getWriter();d._write=async function(chunk,encoding,callback){try{await writer.ready,writer.write(chunk).catch(()=>{}),callback()}catch(err){callback(err)}},d._final=async function(callback){try{await writer.ready,writer.close().catch(()=>{}),onfinish=callback}catch(err){callback(err)}}}let toRead=isTransformStream(tail)?tail.readable:tail;eos(toRead,()=>{if(onfinish){let cb=onfinish;onfinish=null,cb()}})}if(readable){if(isNodeStream(tail))tail.on("readable",function(){if(onreadable){let cb=onreadable;onreadable=null,cb()}}),tail.on("end",function(){d.push(null)}),d._read=function(){for(;;){let buf=tail.read();if(buf===null){onreadable=d._read;return}if(!d.push(buf))return}};else if(isWebStream(tail)){let reader=(isTransformStream(tail)?tail.readable:tail).getReader();d._read=async function(){for(;;)try{let{value,done}=await reader.read();if(!d.push(value))return;if(done){d.push(null);return}}catch{return}}}}return d._destroy=function(err,callback){!err&&onclose!==null&&(err=new AbortError),onreadable=null,ondrain=null,onfinish=null,onclose===null?callback(err):(onclose=callback,isNodeStream(tail)&&destroyer(tail,err))},d}}});var require_operators=__commonJS({"../../../../node_modules/readable-stream/lib/internal/streams/operators.js"(exports2,module2){"use strict";var AbortController2=globalThis.AbortController||require_abort_controller().AbortController,{codes:{ERR_INVALID_ARG_VALUE,ERR_INVALID_ARG_TYPE,ERR_MISSING_ARGS,ERR_OUT_OF_RANGE},AbortError}=require_errors9(),{validateAbortSignal,validateInteger,validateObject}=require_validators(),kWeakHandler=require_primordials().Symbol("kWeak"),kResistStopPropagation=require_primordials().Symbol("kResistStopPropagation"),{finished}=require_end_of_stream2(),staticCompose=require_compose(),{addAbortSignalNoValidate}=require_add_abort_signal(),{isWritable,isNodeStream}=require_utils6(),{deprecate}=require_util13(),{ArrayPrototypePush,Boolean:Boolean2,MathFloor,Number:Number2,NumberIsNaN,Promise:Promise2,PromiseReject,PromiseResolve,PromisePrototypeThen,Symbol:Symbol2}=require_primordials(),kEmpty=Symbol2("kEmpty"),kEof=Symbol2("kEof");function compose(stream,options2){if(options2!=null&&validateObject(options2,"options"),options2?.signal!=null&&validateAbortSignal(options2.signal,"options.signal"),isNodeStream(stream)&&!isWritable(stream))throw new ERR_INVALID_ARG_VALUE("stream",stream,"must be writable");let composedStream=staticCompose(this,stream);return options2!=null&&options2.signal&&addAbortSignalNoValidate(options2.signal,composedStream),composedStream}function map(fn,options2){if(typeof fn!="function")throw new ERR_INVALID_ARG_TYPE("fn",["Function","AsyncFunction"],fn);options2!=null&&validateObject(options2,"options"),options2?.signal!=null&&validateAbortSignal(options2.signal,"options.signal");let concurrency=1;options2?.concurrency!=null&&(concurrency=MathFloor(options2.concurrency));let highWaterMark=concurrency-1;return options2?.highWaterMark!=null&&(highWaterMark=MathFloor(options2.highWaterMark)),validateInteger(concurrency,"options.concurrency",1),validateInteger(highWaterMark,"options.highWaterMark",0),highWaterMark+=concurrency,async function*(){let signal=require_util13().AbortSignalAny([options2?.signal].filter(Boolean2)),stream=this,queue=[],signalOpt={signal},next,resume,done=!1,cnt=0;function onCatch(){done=!0,afterItemProcessed()}function afterItemProcessed(){cnt-=1,maybeResume()}function maybeResume(){resume&&!done&&cnt<concurrency&&queue.length<highWaterMark&&(resume(),resume=null)}async function pump(){try{for await(let val of stream){if(done)return;if(signal.aborted)throw new AbortError;try{if(val=fn(val,signalOpt),val===kEmpty)continue;val=PromiseResolve(val)}catch(err){val=PromiseReject(err)}cnt+=1,PromisePrototypeThen(val,afterItemProcessed,onCatch),queue.push(val),next&&(next(),next=null),!done&&(queue.length>=highWaterMark||cnt>=concurrency)&&await new Promise2(resolve=>{resume=resolve})}queue.push(kEof)}catch(err){let val=PromiseReject(err);PromisePrototypeThen(val,afterItemProcessed,onCatch),queue.push(val)}finally{done=!0,next&&(next(),next=null)}}pump();try{for(;;){for(;queue.length>0;){let val=await queue[0];if(val===kEof)return;if(signal.aborted)throw new AbortError;val!==kEmpty&&(yield val),queue.shift(),maybeResume()}await new Promise2(resolve=>{next=resolve})}}finally{done=!0,resume&&(resume(),resume=null)}}.call(this)}function asIndexedPairs(options2=void 0){return options2!=null&&validateObject(options2,"options"),options2?.signal!=null&&validateAbortSignal(options2.signal,"options.signal"),async function*(){let index2=0;for await(let val of this){var _options$signal;if(options2!=null&&(_options$signal=options2.signal)!==null&&_options$signal!==void 0&&_options$signal.aborted)throw new AbortError({cause:options2.signal.reason});yield[index2++,val]}}.call(this)}async function some(fn,options2=void 0){for await(let unused of filter.call(this,fn,options2))return!0;return!1}async function every(fn,options2=void 0){if(typeof fn!="function")throw new ERR_INVALID_ARG_TYPE("fn",["Function","AsyncFunction"],fn);return!await some.call(this,async(...args)=>!await fn(...args),options2)}async function find(fn,options2){for await(let result of filter.call(this,fn,options2))return result}async function forEach(fn,options2){if(typeof fn!="function")throw new ERR_INVALID_ARG_TYPE("fn",["Function","AsyncFunction"],fn);async function forEachFn(value,options3){return await fn(value,options3),kEmpty}for await(let unused of map.call(this,forEachFn,options2));}function filter(fn,options2){if(typeof fn!="function")throw new ERR_INVALID_ARG_TYPE("fn",["Function","AsyncFunction"],fn);async function filterFn(value,options3){return await fn(value,options3)?value:kEmpty}return map.call(this,filterFn,options2)}var ReduceAwareErrMissingArgs=class extends ERR_MISSING_ARGS{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function reduce(reducer,initialValue,options2){var _options$signal2;if(typeof reducer!="function")throw new ERR_INVALID_ARG_TYPE("reducer",["Function","AsyncFunction"],reducer);options2!=null&&validateObject(options2,"options"),options2?.signal!=null&&validateAbortSignal(options2.signal,"options.signal");let hasInitialValue=arguments.length>1;if(options2!=null&&(_options$signal2=options2.signal)!==null&&_options$signal2!==void 0&&_options$signal2.aborted){let err=new AbortError(void 0,{cause:options2.signal.reason});throw this.once("error",()=>{}),await finished(this.destroy(err)),err}let ac=new AbortController2,signal=ac.signal;if(options2!=null&&options2.signal){let opts={once:!0,[kWeakHandler]:this,[kResistStopPropagation]:!0};options2.signal.addEventListener("abort",()=>ac.abort(),opts)}let gotAnyItemFromStream=!1;try{for await(let value of this){var _options$signal3;if(gotAnyItemFromStream=!0,options2!=null&&(_options$signal3=options2.signal)!==null&&_options$signal3!==void 0&&_options$signal3.aborted)throw new AbortError;hasInitialValue?initialValue=await reducer(initialValue,value,{signal}):(initialValue=value,hasInitialValue=!0)}if(!gotAnyItemFromStream&&!hasInitialValue)throw new ReduceAwareErrMissingArgs}finally{ac.abort()}return initialValue}async function toArray(options2){options2!=null&&validateObject(options2,"options"),options2?.signal!=null&&validateAbortSignal(options2.signal,"options.signal");let result=[];for await(let val of this){var _options$signal4;if(options2!=null&&(_options$signal4=options2.signal)!==null&&_options$signal4!==void 0&&_options$signal4.aborted)throw new AbortError(void 0,{cause:options2.signal.reason});ArrayPrototypePush(result,val)}return result}function flatMap(fn,options2){let values2=map.call(this,fn,options2);return async function*(){for await(let val of values2)yield*val}.call(this)}function toIntegerOrInfinity(number){if(number=Number2(number),NumberIsNaN(number))return 0;if(number<0)throw new ERR_OUT_OF_RANGE("number",">= 0",number);return number}function drop(number,options2=void 0){return options2!=null&&validateObject(options2,"options"),options2?.signal!=null&&validateAbortSignal(options2.signal,"options.signal"),number=toIntegerOrInfinity(number),async function*(){var _options$signal5;if(options2!=null&&(_options$signal5=options2.signal)!==null&&_options$signal5!==void 0&&_options$signal5.aborted)throw new AbortError;for await(let val of this){var _options$signal6;if(options2!=null&&(_options$signal6=options2.signal)!==null&&_options$signal6!==void 0&&_options$signal6.aborted)throw new AbortError;number--<=0&&(yield val)}}.call(this)}function take(number,options2=void 0){return options2!=null&&validateObject(options2,"options"),options2?.signal!=null&&validateAbortSignal(options2.signal,"options.signal"),number=toIntegerOrInfinity(number),async function*(){var _options$signal7;if(options2!=null&&(_options$signal7=options2.signal)!==null&&_options$signal7!==void 0&&_options$signal7.aborted)throw new AbortError;for await(let val of this){var _options$signal8;if(options2!=null&&(_options$signal8=options2.signal)!==null&&_options$signal8!==void 0&&_options$signal8.aborted)throw new AbortError;if(number-- >0&&(yield val),number<=0)return}}.call(this)}module2.exports.streamReturningOperators={asIndexedPairs:deprecate(asIndexedPairs,"readable.asIndexedPairs will be removed in a future version."),drop,filter,flatMap,map,take,compose};module2.exports.promiseReturningOperators={every,forEach,reduce,toArray,some,find}}});var require_promises=__commonJS({"../../../../node_modules/readable-stream/lib/stream/promises.js"(exports2,module2){"use strict";var{ArrayPrototypePop,Promise:Promise2}=require_primordials(),{isIterable,isNodeStream,isWebStream}=require_utils6(),{pipelineImpl:pl}=require_pipeline(),{finished}=require_end_of_stream2();require_stream3();function pipeline(...streams){return new Promise2((resolve,reject)=>{let signal,end,lastArg=streams[streams.length-1];if(lastArg&&typeof lastArg=="object"&&!isNodeStream(lastArg)&&!isIterable(lastArg)&&!isWebStream(lastArg)){let options2=ArrayPrototypePop(streams);signal=options2.signal,end=options2.end}pl(streams,(err,value)=>{err?reject(err):resolve(value)},{signal,end})})}module2.exports={finished,pipeline}}});var require_stream3=__commonJS({"../../../../node_modules/readable-stream/lib/stream.js"(exports2,module2){"use strict";var{Buffer:Buffer2}=require("buffer"),{ObjectDefineProperty,ObjectKeys,ReflectApply}=require_primordials(),{promisify:{custom:customPromisify}}=require_util13(),{streamReturningOperators,promiseReturningOperators}=require_operators(),{codes:{ERR_ILLEGAL_CONSTRUCTOR}}=require_errors9(),compose=require_compose(),{setDefaultHighWaterMark,getDefaultHighWaterMark}=require_state2(),{pipeline}=require_pipeline(),{destroyer}=require_destroy(),eos=require_end_of_stream2(),promises=require_promises(),utils=require_utils6(),Stream=module2.exports=require_legacy().Stream;Stream.isDestroyed=utils.isDestroyed;Stream.isDisturbed=utils.isDisturbed;Stream.isErrored=utils.isErrored;Stream.isReadable=utils.isReadable;Stream.isWritable=utils.isWritable;Stream.Readable=require_readable2();for(let key of ObjectKeys(streamReturningOperators)){let fn=function(...args){if(new.target)throw ERR_ILLEGAL_CONSTRUCTOR();return Stream.Readable.from(ReflectApply(op,this,args))},op=streamReturningOperators[key];ObjectDefineProperty(fn,"name",{__proto__:null,value:op.name}),ObjectDefineProperty(fn,"length",{__proto__:null,value:op.length}),ObjectDefineProperty(Stream.Readable.prototype,key,{__proto__:null,value:fn,enumerable:!1,configurable:!0,writable:!0})}for(let key of ObjectKeys(promiseReturningOperators)){let fn=function(...args){if(new.target)throw ERR_ILLEGAL_CONSTRUCTOR();return ReflectApply(op,this,args)},op=promiseReturningOperators[key];ObjectDefineProperty(fn,"name",{__proto__:null,value:op.name}),ObjectDefineProperty(fn,"length",{__proto__:null,value:op.length}),ObjectDefineProperty(Stream.Readable.prototype,key,{__proto__:null,value:fn,enumerable:!1,configurable:!0,writable:!0})}Stream.Writable=require_writable();Stream.Duplex=require_duplex();Stream.Transform=require_transform();Stream.PassThrough=require_passthrough();Stream.pipeline=pipeline;var{addAbortSignal}=require_add_abort_signal();Stream.addAbortSignal=addAbortSignal;Stream.finished=eos;Stream.destroy=destroyer;Stream.compose=compose;Stream.setDefaultHighWaterMark=setDefaultHighWaterMark;Stream.getDefaultHighWaterMark=getDefaultHighWaterMark;ObjectDefineProperty(Stream,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return promises}});ObjectDefineProperty(pipeline,customPromisify,{__proto__:null,enumerable:!0,get(){return promises.pipeline}});ObjectDefineProperty(eos,customPromisify,{__proto__:null,enumerable:!0,get(){return promises.finished}});Stream.Stream=Stream;Stream._isUint8Array=function(value){return value instanceof Uint8Array};Stream._uint8ArrayToBuffer=function(chunk){return Buffer2.from(chunk.buffer,chunk.byteOffset,chunk.byteLength)}}});var require_ours=__commonJS({"../../../../node_modules/readable-stream/lib/ours/index.js"(exports2,module2){"use strict";var Stream=require("stream");if(Stream&&process.env.READABLE_STREAM==="disable"){let promises=Stream.promises;module2.exports._uint8ArrayToBuffer=Stream._uint8ArrayToBuffer,module2.exports._isUint8Array=Stream._isUint8Array,module2.exports.isDisturbed=Stream.isDisturbed,module2.exports.isErrored=Stream.isErrored,module2.exports.isReadable=Stream.isReadable,module2.exports.Readable=Stream.Readable,module2.exports.Writable=Stream.Writable,module2.exports.Duplex=Stream.Duplex,module2.exports.Transform=Stream.Transform,module2.exports.PassThrough=Stream.PassThrough,module2.exports.addAbortSignal=Stream.addAbortSignal,module2.exports.finished=Stream.finished,module2.exports.destroy=Stream.destroy,module2.exports.pipeline=Stream.pipeline,module2.exports.compose=Stream.compose,Object.defineProperty(Stream,"promises",{configurable:!0,enumerable:!0,get(){return promises}}),module2.exports.Stream=Stream.Stream}else{let CustomStream=require_stream3(),promises=require_promises(),originalDestroy=CustomStream.Readable.destroy;module2.exports=CustomStream.Readable,module2.exports._uint8ArrayToBuffer=CustomStream._uint8ArrayToBuffer,module2.exports._isUint8Array=CustomStream._isUint8Array,module2.exports.isDisturbed=CustomStream.isDisturbed,module2.exports.isErrored=CustomStream.isErrored,module2.exports.isReadable=CustomStream.isReadable,module2.exports.Readable=CustomStream.Readable,module2.exports.Writable=CustomStream.Writable,module2.exports.Duplex=CustomStream.Duplex,module2.exports.Transform=CustomStream.Transform,module2.exports.PassThrough=CustomStream.PassThrough,module2.exports.addAbortSignal=CustomStream.addAbortSignal,module2.exports.finished=CustomStream.finished,module2.exports.destroy=CustomStream.destroy,module2.exports.destroy=originalDestroy,module2.exports.pipeline=CustomStream.pipeline,module2.exports.compose=CustomStream.compose,Object.defineProperty(CustomStream,"promises",{configurable:!0,enumerable:!0,get(){return promises}}),module2.exports.Stream=CustomStream.Stream}module2.exports.default=module2.exports}});var src_exports={};module.exports=__toCommonJS(src_exports);var import_node_fs3=__toESM(require("node:fs")),import_node_path4=__toESM(require("node:path")),import_node_process2=__toESM(require("node:process")),import_node_util3=require("node:util"),import_fastify=__toESM(require_fastify()),import_static=__toESM(require_static());var import_fastify_plugin=__toESM(require_plugin2(),1);var esm_exports={};__export(esm_exports,{ansi256:()=>ansi256,ansi256Bg:()=>ansi256Bg,bgBlack:()=>bgBlack,bgBlue:()=>bgBlue,bgCyan:()=>bgCyan,bgGray:()=>bgGray,bgGreen:()=>bgGreen,bgLightBlue:()=>bgLightBlue,bgLightCyan:()=>bgLightCyan,bgLightGray:()=>bgLightGray,bgLightGreen:()=>bgLightGreen,bgLightMagenta:()=>bgLightMagenta,bgLightRed:()=>bgLightRed,bgLightYellow:()=>bgLightYellow,bgMagenta:()=>bgMagenta,bgRed:()=>bgRed,bgWhite:()=>bgWhite,bgYellow:()=>bgYellow,black:()=>black,blue:()=>blue,bold:()=>bold,cyan:()=>cyan,dim:()=>dim,gray:()=>gray,green:()=>green,hidden:()=>hidden,inverse:()=>inverse,italic:()=>italic,lightBlue:()=>lightBlue,lightCyan:()=>lightCyan,lightGray:()=>lightGray,lightGreen:()=>lightGreen,lightMagenta:()=>lightMagenta,lightRed:()=>lightRed,lightYellow:()=>lightYellow,link:()=>link,magenta:()=>magenta,options:()=>options,red:()=>red,reset:()=>reset,strikethrough:()=>strikethrough,stripColors:()=>stripColors,trueColor:()=>trueColor,trueColorBg:()=>trueColorBg,underline:()=>underline,white:()=>white,yellow:()=>yellow});var enabled=!0,globalVar=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{},supportLevel=0;if(globalVar.process&&globalVar.process.env&&globalVar.process.stdout){let{FORCE_COLOR,NODE_DISABLE_COLORS,NO_COLOR,TERM,COLORTERM}=globalVar.process.env;NODE_DISABLE_COLORS||NO_COLOR||FORCE_COLOR==="0"?enabled=!1:FORCE_COLOR==="1"||FORCE_COLOR==="2"||FORCE_COLOR==="3"?enabled=!0:TERM==="dumb"?enabled=!1:"CI"in globalVar.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(vendor=>vendor in globalVar.process.env)?enabled=!0:enabled=process.stdout.isTTY,enabled&&(process.platform==="win32"||COLORTERM&&(COLORTERM==="truecolor"||COLORTERM==="24bit")?supportLevel=3:TERM&&(TERM.endsWith("-256color")||TERM.endsWith("256"))?supportLevel=2:supportLevel=1)}var options={enabled,supportLevel};function kolorist(start,end,level=1){let open=`\x1B[${start}m`,close=`\x1B[${end}m`,regex=new RegExp(`\\x1b\\[${end}m`,"g");return str=>options.enabled&&options.supportLevel>=level?open+(""+str).replace(regex,open)+close:""+str}function rgbToAnsi256(r,g,b){return r>>4===g>>4&&g>>4===b>>4?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(g/255*5)+Math.round(b/255*5)}function stripColors(str){return(""+str).replace(/\x1b\[[0-9;]+m/g,"").replace(/\x1b\]8;;.*?\x07(.*?)\x1b\]8;;\x07/g,(_,group)=>group)}var reset=kolorist(0,0),bold=kolorist(1,22),dim=kolorist(2,22),italic=kolorist(3,23),underline=kolorist(4,24),inverse=kolorist(7,27),hidden=kolorist(8,28),strikethrough=kolorist(9,29),black=kolorist(30,39),red=kolorist(31,39),green=kolorist(32,39),yellow=kolorist(33,39),blue=kolorist(34,39),magenta=kolorist(35,39),cyan=kolorist(36,39),white=kolorist(97,39),gray=kolorist(90,39),lightGray=kolorist(37,39),lightRed=kolorist(91,39),lightGreen=kolorist(92,39),lightYellow=kolorist(93,39),lightBlue=kolorist(94,39),lightMagenta=kolorist(95,39),lightCyan=kolorist(96,39),bgBlack=kolorist(40,49),bgRed=kolorist(41,49),bgGreen=kolorist(42,49),bgYellow=kolorist(43,49),bgBlue=kolorist(44,49),bgMagenta=kolorist(45,49),bgCyan=kolorist(46,49),bgWhite=kolorist(107,49),bgGray=kolorist(100,49),bgLightRed=kolorist(101,49),bgLightGreen=kolorist(102,49),bgLightYellow=kolorist(103,49),bgLightBlue=kolorist(104,49),bgLightMagenta=kolorist(105,49),bgLightCyan=kolorist(106,49),bgLightGray=kolorist(47,49),ansi256=n=>kolorist("38;5;"+n,0,2),ansi256Bg=n=>kolorist("48;5;"+n,0,2),trueColor=(r,g,b)=>options.supportLevel===2?ansi256(rgbToAnsi256(r,g,b)):kolorist(`38;2;${r};${g};${b}`,0,3),trueColorBg=(r,g,b)=>options.supportLevel===2?ansi256Bg(rgbToAnsi256(r,g,b)):kolorist(`48;2;${r};${g};${b}`,0,3),OSC="\x1B]",BEL="\x07",SEP=";";function link(text2,url){return options.enabled?OSC+"8"+SEP+SEP+url+BEL+text2+OSC+"8"+SEP+SEP+BEL:`${text2} (\u200B${url}\u200B)`}var IS_WINDOWS=process.platform==="win32",IS_POWERSHELL=IS_WINDOWS&&!!(process.env.PSModulePath??process.env.PSHOME),plugin=async(fastify2,options2={})=>{let{logBody=!0,logResponseTime=!0,logBindings={plugin:"fastify-request-logger"},ignoredPaths=[],ignore,ignoredBindings,supportsArt=!IS_POWERSHELL&&options.supportLevel>=2}=options2,icons={req:supportsArt?"\u2190":"<",res:supportsArt?"\u2192":">"},isIgnoredRequest=request2=>{let{url}=request2.routeOptions;return ignoredPaths.some(ignoredPath=>typeof ignoredPath=="string"?ignoredPath===url:ignoredPath instanceof RegExp?ignoredPath.test(url??""):!1)?!0:ignore?ignore(request2):!1};fastify2.addHook("onRequest",async request2=>{if(isIgnoredRequest(request2)){ignoredBindings&&request2.log.setBindings(ignoredBindings);return}let contentLength=request2.headers["content-length"];request2.log.info(logBindings,`${bold(yellow(icons.req))}${yellow(request2.method)}:${green(request2.url)} request from ip ${blue(request2.ip)}${contentLength?` with a ${yellow(contentLength)}-length body`:""}`),request2.log.trace({...logBindings,req:request2},"Request trace")}),fastify2.addHook("preHandler",async request2=>{if(isIgnoredRequest(request2))return;let isJson=request2.headers["content-type"]?.includes("application/json");request2.body&&logBody&&(Buffer.isBuffer(request2.body)?request2.log.debug({...logBindings,body:`<Buffer ${request2.body.length} bytes>`},"Request body"):isJson&&request2.log.debug({...logBindings,body:request2.body},"Request body"))}),fastify2.addHook("onResponse",async(request2,reply)=>{if(isIgnoredRequest(request2))return;let message=`${bold(yellow(icons.res))}${yellow(request2.method)}:${green(request2.url)} response with a ${magenta(reply.statusCode)}-status${logResponseTime?` took ${magenta(reply.elapsedTime.toFixed(3))}ms`:""}`;reply.statusCode&&reply.statusCode>=500?request2.log.error(logBindings,message):reply.statusCode&&reply.statusCode>=400?request2.log.warn(logBindings,message):request2.log.info(logBindings,message)}),fastify2.addHook("onError",async(request2,reply,error)=>{isIgnoredRequest(request2)||(error.statusCode&&error.statusCode>=500?request2.log.error({...logBindings,req:request2,res:reply,err:error},error?.message):reply.statusCode&&reply.statusCode>=400?request2.log.warn({...logBindings,res:reply,err:error},error?.message):request2.log.info({...logBindings,res:reply,err:error},error?.message))})},src_default=(0,import_fastify_plugin.default)(plugin,{fastify:">=4",name:"fastify-request-logger"});var import_os=require("os"),import_pino_pretty=__toESM(require_pino_pretty(),1);var import_os2=require("os");var colorJson=s=>green(JSON.stringify(s));var isObject=maybeObject=>typeof maybeObject=="object"&&maybeObject!==null,isString=maybeString=>typeof maybeString=="string",isValidError=maybeError=>isObject(maybeError)&&"message"in maybeError&&isString(maybeError.message)&&"stack"in maybeError&&isString(maybeError.stack),isSerializedError=maybeError=>isObject(maybeError)&&"raw"in maybeError&&maybeError.raw instanceof Error,serializeError=maybeError=>{let raw=isValidError(maybeError)?maybeError:new Error(String(maybeError));return{type:"Error",message:raw.message,stack:String(raw.stack),raw}},{OS_HOSTNAME}=process.env,LOG_LEVEL_LABEL={10:"trace",20:"debug",30:" info",40:" warn",50:"error",60:"fatal"},CWD=process.cwd(),CWD_REGEX=new RegExp(CWD,"g"),colorForLevel=level=>{switch(level){case 10:return gray;case 20:return cyan;case 30:return green;case 40:return yellow;case 50:return(...args)=>bold(red(...args));case 60:return(...args)=>bold(bgRed(...args));default:return white}},colorMsgForLevel=level=>{switch(level){case 10:return gray;case 20:return white;case 30:return white;case 40:return yellow;case 50:return(...args)=>bold(red(...args));case 60:return(...args)=>bold(bgRed(...args));default:return white}},formatLevel=level=>colorForLevel(level)(LOG_LEVEL_LABEL[level]),formatProcessId=pid=>magenta(`*${pid}`),formatHostname=hostname=>gray(`@${hostname}`),formatSessionId=id=>magenta(`%${id}`),formatRequestId=id=>magenta(`#${id}`),formatPlugin=plugin2=>gray(`(${plugin2})`),formatErrorStack=stack=>gray(stack.replace(CWD_REGEX,".").split(import_os2.EOL).slice(1).join(import_os2.EOL)),formatError=(error,level)=>{let{statusCode=500,type=String(error.name),stack=`${import_os2.EOL}    at ???`}=error,icon=options.supportLevel===2?"\xD7":"x",isInternalError=!statusCode||statusCode>=500,output=[esm_exports[isInternalError?"red":"yellow"](`${icon}${type} `),magenta(Number(statusCode))];return isInternalError?output.push(colorForLevel(level)(`: ${error.message}`),import_os2.EOL,formatErrorStack(stack)):output.push(`: ${error.message}`),output.join("")},defaultOptions={ignore:"pid,hostname",colorize:options.enabled,errorLikeObjectKeys:["error","err"],singleLine:!0,hideObject:!0,translateTime:"yyyy-mm-dd'T'HH:MM:sso"},prettifyTime=inputData=>gray(String(inputData)),build=options3=>{let{errorLikeObjectKeys=defaultOptions.errorLikeObjectKeys,ignore=defaultOptions.ignore,colorize=defaultOptions.colorize}=options3,ignoredKeys=ignore.split(",");return colorize&&!options.enabled&&(options.enabled=!0,options.supportLevel=2),(0,import_pino_pretty.default)({...defaultOptions,customPrettifiers:{time:prettifyTime,level:formatLevel,hostname:formatHostname,pid:formatProcessId},messageFormat:(log,messageKey,_leveLabel)=>{let{level,time,msg,reqId,sessionId,plugin:plugin2,silent,...otherProps}=log;if(silent)return"";let output=[];!ignoredKeys.includes("reqId")&&reqId&&output.push(formatRequestId(reqId)," "),!ignoredKeys.includes("sessionId")&&sessionId&&output.push(formatSessionId(sessionId)," ");let firstErrorKey=errorLikeObjectKeys.find(key=>log[key]);if(firstErrorKey){let error=log[firstErrorKey],serializedError=isSerializedError(error)?error:serializeError(error);output.push(formatError(serializedError,level),import_os.EOL)}else{let formattedMsg=colorMsgForLevel(level)(String(log[messageKey]));output.push(formattedMsg)}!ignoredKeys.includes("plugin")&&plugin2&&output.push(" ",formatPlugin(plugin2));let outputProps=Object.keys(otherProps).reduce((soFar,key)=>(errorLikeObjectKeys.includes(key)||ignoredKeys.includes(key)||["req","res"].includes(key)||(soFar[key]=otherProps[key]),soFar),{});return Object.keys(outputProps).length>0&&output.push(" ",colorJson(outputProps)),output.concat(import_os.EOL).join("")},...options3,colorize:!1})},src_default2=build;var Code;(function(Code2){Code2[Code2.Canceled=1]="Canceled",Code2[Code2.Unknown=2]="Unknown",Code2[Code2.InvalidArgument=3]="InvalidArgument",Code2[Code2.DeadlineExceeded=4]="DeadlineExceeded",Code2[Code2.NotFound=5]="NotFound",Code2[Code2.AlreadyExists=6]="AlreadyExists",Code2[Code2.PermissionDenied=7]="PermissionDenied",Code2[Code2.ResourceExhausted=8]="ResourceExhausted",Code2[Code2.FailedPrecondition=9]="FailedPrecondition",Code2[Code2.Aborted=10]="Aborted",Code2[Code2.OutOfRange=11]="OutOfRange",Code2[Code2.Unimplemented=12]="Unimplemented",Code2[Code2.Internal=13]="Internal",Code2[Code2.Unavailable=14]="Unavailable",Code2[Code2.DataLoss=15]="DataLoss",Code2[Code2.Unauthenticated=16]="Unauthenticated"})(Code||(Code={}));function isMessage(arg,schema){return arg!==null&&typeof arg=="object"&&"$typeName"in arg&&typeof arg.$typeName=="string"?schema===void 0?!0:schema.typeName===arg.$typeName:!1}var ScalarType;(function(ScalarType2){ScalarType2[ScalarType2.DOUBLE=1]="DOUBLE",ScalarType2[ScalarType2.FLOAT=2]="FLOAT",ScalarType2[ScalarType2.INT64=3]="INT64",ScalarType2[ScalarType2.UINT64=4]="UINT64",ScalarType2[ScalarType2.INT32=5]="INT32",ScalarType2[ScalarType2.FIXED64=6]="FIXED64",ScalarType2[ScalarType2.FIXED32=7]="FIXED32",ScalarType2[ScalarType2.BOOL=8]="BOOL",ScalarType2[ScalarType2.STRING=9]="STRING",ScalarType2[ScalarType2.BYTES=12]="BYTES",ScalarType2[ScalarType2.UINT32=13]="UINT32",ScalarType2[ScalarType2.SFIXED32=15]="SFIXED32",ScalarType2[ScalarType2.SFIXED64=16]="SFIXED64",ScalarType2[ScalarType2.SINT32=17]="SINT32",ScalarType2[ScalarType2.SINT64=18]="SINT64"})(ScalarType||(ScalarType={}));function varint64read(){let lowBits=0,highBits=0;for(let shift=0;shift<28;shift+=7){let b=this.buf[this.pos++];if(lowBits|=(b&127)<<shift,(b&128)==0)return this.assertBounds(),[lowBits,highBits]}let middleByte=this.buf[this.pos++];if(lowBits|=(middleByte&15)<<28,highBits=(middleByte&112)>>4,(middleByte&128)==0)return this.assertBounds(),[lowBits,highBits];for(let shift=3;shift<=31;shift+=7){let b=this.buf[this.pos++];if(highBits|=(b&127)<<shift,(b&128)==0)return this.assertBounds(),[lowBits,highBits]}throw new Error("invalid varint")}function varint64write(lo,hi,bytes){for(let i=0;i<28;i=i+7){let shift=lo>>>i,hasNext=!(!(shift>>>7)&&hi==0),byte=(hasNext?shift|128:shift)&255;if(bytes.push(byte),!hasNext)return}let splitBits=lo>>>28&15|(hi&7)<<4,hasMoreBits=hi>>3!=0;if(bytes.push((hasMoreBits?splitBits|128:splitBits)&255),!!hasMoreBits){for(let i=3;i<31;i=i+7){let shift=hi>>>i,hasNext=!!(shift>>>7),byte=(hasNext?shift|128:shift)&255;if(bytes.push(byte),!hasNext)return}bytes.push(hi>>>31&1)}}var TWO_PWR_32_DBL=4294967296;function int64FromString(dec){let minus=dec[0]==="-";minus&&(dec=dec.slice(1));let base=1e6,lowBits=0,highBits=0;function add1e6digit(begin,end){let digit1e6=Number(dec.slice(begin,end));highBits*=base,lowBits=lowBits*base+digit1e6,lowBits>=TWO_PWR_32_DBL&&(highBits=highBits+(lowBits/TWO_PWR_32_DBL|0),lowBits=lowBits%TWO_PWR_32_DBL)}return add1e6digit(-24,-18),add1e6digit(-18,-12),add1e6digit(-12,-6),add1e6digit(-6),minus?negate(lowBits,highBits):newBits(lowBits,highBits)}function int64ToString(lo,hi){let bits=newBits(lo,hi),negative=bits.hi&2147483648;negative&&(bits=negate(bits.lo,bits.hi));let result=uInt64ToString(bits.lo,bits.hi);return negative?"-"+result:result}function uInt64ToString(lo,hi){if({lo,hi}=toUnsigned(lo,hi),hi<=2097151)return String(TWO_PWR_32_DBL*hi+lo);let low=lo&16777215,mid=(lo>>>24|hi<<8)&16777215,high=hi>>16&65535,digitA=low+mid*6777216+high*6710656,digitB=mid+high*8147497,digitC=high*2,base=1e7;return digitA>=base&&(digitB+=Math.floor(digitA/base),digitA%=base),digitB>=base&&(digitC+=Math.floor(digitB/base),digitB%=base),digitC.toString()+decimalFrom1e7WithLeadingZeros(digitB)+decimalFrom1e7WithLeadingZeros(digitA)}function toUnsigned(lo,hi){return{lo:lo>>>0,hi:hi>>>0}}function newBits(lo,hi){return{lo:lo|0,hi:hi|0}}function negate(lowBits,highBits){return highBits=~highBits,lowBits?lowBits=~lowBits+1:highBits+=1,newBits(lowBits,highBits)}var decimalFrom1e7WithLeadingZeros=digit1e7=>{let partial=String(digit1e7);return"0000000".slice(partial.length)+partial};function varint32write(value,bytes){if(value>=0){for(;value>127;)bytes.push(value&127|128),value=value>>>7;bytes.push(value)}else{for(let i=0;i<9;i++)bytes.push(value&127|128),value=value>>7;bytes.push(1)}}function varint32read(){let b=this.buf[this.pos++],result=b&127;if((b&128)==0)return this.assertBounds(),result;if(b=this.buf[this.pos++],result|=(b&127)<<7,(b&128)==0)return this.assertBounds(),result;if(b=this.buf[this.pos++],result|=(b&127)<<14,(b&128)==0)return this.assertBounds(),result;if(b=this.buf[this.pos++],result|=(b&127)<<21,(b&128)==0)return this.assertBounds(),result;b=this.buf[this.pos++],result|=(b&15)<<28;for(let readBytes=5;(b&128)!==0&&readBytes<10;readBytes++)b=this.buf[this.pos++];if((b&128)!=0)throw new Error("invalid varint");return this.assertBounds(),result>>>0}var protoInt64=makeInt64Support();function makeInt64Support(){let dv=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof dv.getBigInt64=="function"&&typeof dv.getBigUint64=="function"&&typeof dv.setBigInt64=="function"&&typeof dv.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof process.env!="object"||process.env.BUF_BIGINT_DISABLE!=="1")){let MIN=BigInt("-9223372036854775808"),MAX=BigInt("9223372036854775807"),UMIN=BigInt("0"),UMAX=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(value){let bi=typeof value=="bigint"?value:BigInt(value);if(bi>MAX||bi<MIN)throw new Error(`invalid int64: ${value}`);return bi},uParse(value){let bi=typeof value=="bigint"?value:BigInt(value);if(bi>UMAX||bi<UMIN)throw new Error(`invalid uint64: ${value}`);return bi},enc(value){return dv.setBigInt64(0,this.parse(value),!0),{lo:dv.getInt32(0,!0),hi:dv.getInt32(4,!0)}},uEnc(value){return dv.setBigInt64(0,this.uParse(value),!0),{lo:dv.getInt32(0,!0),hi:dv.getInt32(4,!0)}},dec(lo,hi){return dv.setInt32(0,lo,!0),dv.setInt32(4,hi,!0),dv.getBigInt64(0,!0)},uDec(lo,hi){return dv.setInt32(0,lo,!0),dv.setInt32(4,hi,!0),dv.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(value){return typeof value!="string"&&(value=value.toString()),assertInt64String(value),value},uParse(value){return typeof value!="string"&&(value=value.toString()),assertUInt64String(value),value},enc(value){return typeof value!="string"&&(value=value.toString()),assertInt64String(value),int64FromString(value)},uEnc(value){return typeof value!="string"&&(value=value.toString()),assertUInt64String(value),int64FromString(value)},dec(lo,hi){return int64ToString(lo,hi)},uDec(lo,hi){return uInt64ToString(lo,hi)}}}function assertInt64String(value){if(!/^-?[0-9]+$/.test(value))throw new Error("invalid int64: "+value)}function assertUInt64String(value){if(!/^[0-9]+$/.test(value))throw new Error("invalid uint64: "+value)}function scalarZeroValue(type,longAsString){switch(type){case ScalarType.STRING:return"";case ScalarType.BOOL:return!1;case ScalarType.DOUBLE:case ScalarType.FLOAT:return 0;case ScalarType.INT64:case ScalarType.UINT64:case ScalarType.SFIXED64:case ScalarType.FIXED64:case ScalarType.SINT64:return longAsString?"0":protoInt64.zero;case ScalarType.BYTES:return new Uint8Array(0);default:return 0}}function isScalarZeroValue(type,value){switch(type){case ScalarType.BOOL:return value===!1;case ScalarType.STRING:return value==="";case ScalarType.BYTES:return value instanceof Uint8Array&&!value.byteLength;default:return value==0}}var IMPLICIT=2,unsafeLocal=Symbol.for("reflect unsafe local");function unsafeOneofCase(target,oneof){let c=target[oneof.localName].case;return c===void 0?c:oneof.fields.find(f=>f.localName===c)}function unsafeIsSet(target,field){let name=field.localName;if(field.oneof)return target[field.oneof.localName].case===name;if(field.presence!=IMPLICIT)return target[name]!==void 0&&Object.prototype.hasOwnProperty.call(target,name);switch(field.fieldKind){case"list":return target[name].length>0;case"map":return Object.keys(target[name]).length>0;case"scalar":return!isScalarZeroValue(field.scalar,target[name]);case"enum":return target[name]!==field.enum.values[0].number}throw new Error("message field with implicit presence")}function unsafeIsSetExplicit(target,localName){return Object.prototype.hasOwnProperty.call(target,localName)&&target[localName]!==void 0}function unsafeGet(target,field){if(field.oneof){let oneof=target[field.oneof.localName];return oneof.case===field.localName?oneof.value:void 0}return target[field.localName]}function unsafeSet(target,field,value){field.oneof?target[field.oneof.localName]={case:field.localName,value}:target[field.localName]=value}function unsafeClear(target,field){let name=field.localName;if(field.oneof){let oneofLocalName=field.oneof.localName;target[oneofLocalName].case===name&&(target[oneofLocalName]={case:void 0})}else if(field.presence!=IMPLICIT)delete target[name];else switch(field.fieldKind){case"map":target[name]={};break;case"list":target[name]=[];break;case"enum":target[name]=field.enum.values[0].number;break;case"scalar":target[name]=scalarZeroValue(field.scalar,field.longAsString);break}}function isObject2(arg){return arg!==null&&typeof arg=="object"&&!Array.isArray(arg)}function isReflectList(arg,field){var _a2,_b,_c,_d;if(isObject2(arg)&&unsafeLocal in arg&&"add"in arg&&"field"in arg&&typeof arg.field=="function"){if(field!==void 0){let a=field,b=arg.field();return a.listKind==b.listKind&&a.scalar===b.scalar&&((_a2=a.message)===null||_a2===void 0?void 0:_a2.typeName)===((_b=b.message)===null||_b===void 0?void 0:_b.typeName)&&((_c=a.enum)===null||_c===void 0?void 0:_c.typeName)===((_d=b.enum)===null||_d===void 0?void 0:_d.typeName)}return!0}return!1}function isReflectMap(arg,field){var _a2,_b,_c,_d;if(isObject2(arg)&&unsafeLocal in arg&&"has"in arg&&"field"in arg&&typeof arg.field=="function"){if(field!==void 0){let a=field,b=arg.field();return a.mapKey===b.mapKey&&a.mapKind==b.mapKind&&a.scalar===b.scalar&&((_a2=a.message)===null||_a2===void 0?void 0:_a2.typeName)===((_b=b.message)===null||_b===void 0?void 0:_b.typeName)&&((_c=a.enum)===null||_c===void 0?void 0:_c.typeName)===((_d=b.enum)===null||_d===void 0?void 0:_d.typeName)}return!0}return!1}function isReflectMessage(arg,messageDesc2){return isObject2(arg)&&unsafeLocal in arg&&"desc"in arg&&isObject2(arg.desc)&&arg.desc.kind==="message"&&(messageDesc2===void 0||arg.desc.typeName==messageDesc2.typeName)}function isWrapper(arg){return isWrapperTypeName(arg.$typeName)}function isWrapperDesc(messageDesc2){let f=messageDesc2.fields[0];return isWrapperTypeName(messageDesc2.typeName)&&f!==void 0&&f.fieldKind=="scalar"&&f.name=="value"&&f.number==1}function isWrapperTypeName(name){return name.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(name.substring(16))}var EDITION_PROTO3=999,EDITION_PROTO2=998,IMPLICIT2=2;function create(schema,init){if(isMessage(init,schema))return init;let message=createZeroMessage(schema);return init!==void 0&&initMessage(schema,message,init),message}function initMessage(messageDesc2,message,init){for(let member of messageDesc2.members){let value=init[member.localName];if(value==null)continue;let field;if(member.kind=="oneof"){let oneofField=unsafeOneofCase(init,member);if(!oneofField)continue;field=oneofField,value=unsafeGet(init,oneofField)}else field=member;switch(field.fieldKind){case"message":value=toMessage(field,value);break;case"scalar":value=initScalar(field,value);break;case"list":value=initList(field,value);break;case"map":value=initMap(field,value);break}unsafeSet(message,field,value)}return message}function initScalar(field,value){return field.scalar==ScalarType.BYTES?toU8Arr(value):value}function initMap(field,value){if(isObject2(value)){if(field.scalar==ScalarType.BYTES)return convertObjectValues(value,toU8Arr);if(field.mapKind=="message")return convertObjectValues(value,val=>toMessage(field,val))}return value}function initList(field,value){if(Array.isArray(value)){if(field.scalar==ScalarType.BYTES)return value.map(toU8Arr);if(field.listKind=="message")return value.map(item=>toMessage(field,item))}return value}function toMessage(field,value){if(field.fieldKind=="message"&&!field.oneof&&isWrapperDesc(field.message))return initScalar(field.message.fields[0],value);if(isObject2(value)){if(field.message.typeName=="google.protobuf.Struct"&&field.parent.typeName!=="google.protobuf.Value")return value;if(!isMessage(value,field.message))return create(field.message,value)}return value}function toU8Arr(value){return Array.isArray(value)?new Uint8Array(value):value}function convertObjectValues(obj,fn){let ret={};for(let entry of Object.entries(obj))ret[entry[0]]=fn(entry[1]);return ret}var tokenZeroMessageField=Symbol(),messagePrototypes=new WeakMap;function createZeroMessage(desc){let msg;if(needsPrototypeChain(desc)){let cached=messagePrototypes.get(desc),prototype,members;if(cached)({prototype,members}=cached);else{prototype={},members=new Set;for(let member of desc.members)member.kind!="oneof"&&(member.fieldKind!="scalar"&&member.fieldKind!="enum"||member.presence!=IMPLICIT2&&(members.add(member),prototype[member.localName]=createZeroField(member)));messagePrototypes.set(desc,{prototype,members})}msg=Object.create(prototype),msg.$typeName=desc.typeName;for(let member of desc.members)members.has(member)||member.kind=="field"&&(member.fieldKind=="message"||(member.fieldKind=="scalar"||member.fieldKind=="enum")&&member.presence!=IMPLICIT2)||(msg[member.localName]=createZeroField(member))}else{msg={$typeName:desc.typeName};for(let member of desc.members)(member.kind=="oneof"||member.presence==IMPLICIT2)&&(msg[member.localName]=createZeroField(member))}return msg}function needsPrototypeChain(desc){switch(desc.file.edition){case EDITION_PROTO3:return!1;case EDITION_PROTO2:return!0;default:return desc.fields.some(f=>f.presence!=IMPLICIT2&&f.fieldKind!="message"&&!f.oneof)}}function createZeroField(field){if(field.kind=="oneof")return{case:void 0};if(field.fieldKind=="list")return[];if(field.fieldKind=="map")return{};if(field.fieldKind=="message")return tokenZeroMessageField;let defaultValue=field.getDefaultValue();return defaultValue!==void 0?field.fieldKind=="scalar"&&field.longAsString?defaultValue.toString():defaultValue:field.fieldKind=="scalar"?scalarZeroValue(field.scalar,field.longAsString):field.enum.values[0].number}var errorNames=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"],FieldError=class extends Error{constructor(fieldOrOneof,message,name="FieldValueInvalidError"){super(message),this.name=name,this.field=()=>fieldOrOneof}};function isFieldError(arg){return arg instanceof Error&&errorNames.includes(arg.name)&&"field"in arg&&typeof arg.field=="function"}var symbol=Symbol.for("@bufbuild/protobuf/text-encoding");function getTextEncoding(){if(globalThis[symbol]==null){let te=new globalThis.TextEncoder,td=new globalThis.TextDecoder;globalThis[symbol]={encodeUtf8(text2){return te.encode(text2)},decodeUtf8(bytes){return td.decode(bytes)},checkUtf8(text2){try{return encodeURIComponent(text2),!0}catch{return!1}}}}return globalThis[symbol]}var WireType;(function(WireType2){WireType2[WireType2.Varint=0]="Varint",WireType2[WireType2.Bit64=1]="Bit64",WireType2[WireType2.LengthDelimited=2]="LengthDelimited",WireType2[WireType2.StartGroup=3]="StartGroup",WireType2[WireType2.EndGroup=4]="EndGroup",WireType2[WireType2.Bit32=5]="Bit32"})(WireType||(WireType={}));var FLOAT32_MAX=34028234663852886e22,FLOAT32_MIN=-34028234663852886e22,UINT32_MAX=4294967295,INT32_MAX=2147483647,INT32_MIN=-2147483648,BinaryWriter=class{constructor(encodeUtf8=getTextEncoding().encodeUtf8){this.encodeUtf8=encodeUtf8,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let len=0;for(let i=0;i<this.chunks.length;i++)len+=this.chunks[i].length;let bytes=new Uint8Array(len),offset=0;for(let i=0;i<this.chunks.length;i++)bytes.set(this.chunks[i],offset),offset+=this.chunks[i].length;return this.chunks=[],bytes}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let chunk=this.finish(),prev=this.stack.pop();if(!prev)throw new Error("invalid state, fork stack empty");return this.chunks=prev.chunks,this.buf=prev.buf,this.uint32(chunk.byteLength),this.raw(chunk)}tag(fieldNo,type){return this.uint32((fieldNo<<3|type)>>>0)}raw(chunk){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(chunk),this}uint32(value){for(assertUInt32(value);value>127;)this.buf.push(value&127|128),value=value>>>7;return this.buf.push(value),this}int32(value){return assertInt32(value),varint32write(value,this.buf),this}bool(value){return this.buf.push(value?1:0),this}bytes(value){return this.uint32(value.byteLength),this.raw(value)}string(value){let chunk=this.encodeUtf8(value);return this.uint32(chunk.byteLength),this.raw(chunk)}float(value){assertFloat32(value);let chunk=new Uint8Array(4);return new DataView(chunk.buffer).setFloat32(0,value,!0),this.raw(chunk)}double(value){let chunk=new Uint8Array(8);return new DataView(chunk.buffer).setFloat64(0,value,!0),this.raw(chunk)}fixed32(value){assertUInt32(value);let chunk=new Uint8Array(4);return new DataView(chunk.buffer).setUint32(0,value,!0),this.raw(chunk)}sfixed32(value){assertInt32(value);let chunk=new Uint8Array(4);return new DataView(chunk.buffer).setInt32(0,value,!0),this.raw(chunk)}sint32(value){return assertInt32(value),value=(value<<1^value>>31)>>>0,varint32write(value,this.buf),this}sfixed64(value){let chunk=new Uint8Array(8),view=new DataView(chunk.buffer),tc=protoInt64.enc(value);return view.setInt32(0,tc.lo,!0),view.setInt32(4,tc.hi,!0),this.raw(chunk)}fixed64(value){let chunk=new Uint8Array(8),view=new DataView(chunk.buffer),tc=protoInt64.uEnc(value);return view.setInt32(0,tc.lo,!0),view.setInt32(4,tc.hi,!0),this.raw(chunk)}int64(value){let tc=protoInt64.enc(value);return varint64write(tc.lo,tc.hi,this.buf),this}sint64(value){let tc=protoInt64.enc(value),sign=tc.hi>>31,lo=tc.lo<<1^sign,hi=(tc.hi<<1|tc.lo>>>31)^sign;return varint64write(lo,hi,this.buf),this}uint64(value){let tc=protoInt64.uEnc(value);return varint64write(tc.lo,tc.hi,this.buf),this}},BinaryReader=class{constructor(buf,decodeUtf8=getTextEncoding().decodeUtf8){this.decodeUtf8=decodeUtf8,this.varint64=varint64read,this.uint32=varint32read,this.buf=buf,this.len=buf.length,this.pos=0,this.view=new DataView(buf.buffer,buf.byteOffset,buf.byteLength)}tag(){let tag=this.uint32(),fieldNo=tag>>>3,wireType=tag&7;if(fieldNo<=0||wireType<0||wireType>5)throw new Error("illegal tag: field no "+fieldNo+" wire type "+wireType);return[fieldNo,wireType]}skip(wireType,fieldNo){let start=this.pos;switch(wireType){case WireType.Varint:for(;this.buf[this.pos++]&128;);break;case WireType.Bit64:this.pos+=4;case WireType.Bit32:this.pos+=4;break;case WireType.LengthDelimited:let len=this.uint32();this.pos+=len;break;case WireType.StartGroup:for(;;){let[fn,wt]=this.tag();if(wt===WireType.EndGroup){if(fieldNo!==void 0&&fn!==fieldNo)throw new Error("invalid end group tag");break}this.skip(wt,fn)}break;default:throw new Error("cant skip wire type "+wireType)}return this.assertBounds(),this.buf.subarray(start,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let zze=this.uint32();return zze>>>1^-(zze&1)}int64(){return protoInt64.dec(...this.varint64())}uint64(){return protoInt64.uDec(...this.varint64())}sint64(){let[lo,hi]=this.varint64(),s=-(lo&1);return lo=(lo>>>1|(hi&1)<<31)^s,hi=hi>>>1^s,protoInt64.dec(lo,hi)}bool(){let[lo,hi]=this.varint64();return lo!==0||hi!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return protoInt64.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return protoInt64.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let len=this.uint32(),start=this.pos;return this.pos+=len,this.assertBounds(),this.buf.subarray(start,start+len)}string(){return this.decodeUtf8(this.bytes())}};function assertInt32(arg){if(typeof arg=="string")arg=Number(arg);else if(typeof arg!="number")throw new Error("invalid int32: "+typeof arg);if(!Number.isInteger(arg)||arg>INT32_MAX||arg<INT32_MIN)throw new Error("invalid int32: "+arg)}function assertUInt32(arg){if(typeof arg=="string")arg=Number(arg);else if(typeof arg!="number")throw new Error("invalid uint32: "+typeof arg);if(!Number.isInteger(arg)||arg>UINT32_MAX||arg<0)throw new Error("invalid uint32: "+arg)}function assertFloat32(arg){if(typeof arg=="string"){let o=arg;if(arg=Number(arg),Number.isNaN(arg)&&o!=="NaN")throw new Error("invalid float32: "+o)}else if(typeof arg!="number")throw new Error("invalid float32: "+typeof arg);if(Number.isFinite(arg)&&(arg>FLOAT32_MAX||arg<FLOAT32_MIN))throw new Error("invalid float32: "+arg)}function checkField(field,value){let check=field.fieldKind=="list"?isReflectList(value,field):field.fieldKind=="map"?isReflectMap(value,field):checkSingular(field,value);if(check===!0)return;let reason;switch(field.fieldKind){case"list":reason=`expected ${formatReflectList(field)}, got ${formatVal(value)}`;break;case"map":reason=`expected ${formatReflectMap(field)}, got ${formatVal(value)}`;break;default:reason=reasonSingular(field,value,check)}return new FieldError(field,reason)}function checkListItem(field,index2,value){let check=checkSingular(field,value);if(check!==!0)return new FieldError(field,`list item #${index2+1}: ${reasonSingular(field,value,check)}`)}function checkMapEntry(field,key,value){let checkKey=checkScalarValue(key,field.mapKey);if(checkKey!==!0)return new FieldError(field,`invalid map key: ${reasonSingular({scalar:field.mapKey},key,checkKey)}`);let checkVal=checkSingular(field,value);if(checkVal!==!0)return new FieldError(field,`map entry ${formatVal(key)}: ${reasonSingular(field,value,checkVal)}`)}function checkSingular(field,value){return field.scalar!==void 0?checkScalarValue(value,field.scalar):field.enum!==void 0?field.enum.open?Number.isInteger(value):field.enum.values.some(v=>v.number===value):isReflectMessage(value,field.message)}function checkScalarValue(value,scalar){switch(scalar){case ScalarType.DOUBLE:return typeof value=="number";case ScalarType.FLOAT:return typeof value!="number"?!1:Number.isNaN(value)||!Number.isFinite(value)?!0:value>FLOAT32_MAX||value<FLOAT32_MIN?`${value.toFixed()} out of range`:!0;case ScalarType.INT32:case ScalarType.SFIXED32:case ScalarType.SINT32:return typeof value!="number"||!Number.isInteger(value)?!1:value>INT32_MAX||value<INT32_MIN?`${value.toFixed()} out of range`:!0;case ScalarType.FIXED32:case ScalarType.UINT32:return typeof value!="number"||!Number.isInteger(value)?!1:value>UINT32_MAX||value<0?`${value.toFixed()} out of range`:!0;case ScalarType.BOOL:return typeof value=="boolean";case ScalarType.STRING:return typeof value!="string"?!1:getTextEncoding().checkUtf8(value)||"invalid UTF8";case ScalarType.BYTES:return value instanceof Uint8Array;case ScalarType.INT64:case ScalarType.SFIXED64:case ScalarType.SINT64:if(typeof value=="bigint"||typeof value=="number"||typeof value=="string"&&value.length>0)try{return protoInt64.parse(value),!0}catch{return`${value} out of range`}return!1;case ScalarType.FIXED64:case ScalarType.UINT64:if(typeof value=="bigint"||typeof value=="number"||typeof value=="string"&&value.length>0)try{return protoInt64.uParse(value),!0}catch{return`${value} out of range`}return!1}}function reasonSingular(field,val,details){return details=typeof details=="string"?`: ${details}`:`, got ${formatVal(val)}`,field.scalar!==void 0?`expected ${scalarTypeDescription(field.scalar)}`+details:field.enum!==void 0?`expected ${field.enum.toString()}`+details:`expected ${formatReflectMessage(field.message)}`+details}function formatVal(val){switch(typeof val){case"object":return val===null?"null":val instanceof Uint8Array?`Uint8Array(${val.length})`:Array.isArray(val)?`Array(${val.length})`:isReflectList(val)?formatReflectList(val.field()):isReflectMap(val)?formatReflectMap(val.field()):isReflectMessage(val)?formatReflectMessage(val.desc):isMessage(val)?`message ${val.$typeName}`:"object";case"string":return val.length>30?"string":`"${val.split('"').join('\\"')}"`;case"boolean":return String(val);case"number":return String(val);case"bigint":return String(val)+"n";default:return typeof val}}function formatReflectMessage(desc){return`ReflectMessage (${desc.typeName})`}function formatReflectList(field){switch(field.listKind){case"message":return`ReflectList (${field.message.toString()})`;case"enum":return`ReflectList (${field.enum.toString()})`;case"scalar":return`ReflectList (${ScalarType[field.scalar]})`}}function formatReflectMap(field){switch(field.mapKind){case"message":return`ReflectMap (${ScalarType[field.mapKey]}, ${field.message.toString()})`;case"enum":return`ReflectMap (${ScalarType[field.mapKey]}, ${field.enum.toString()})`;case"scalar":return`ReflectMap (${ScalarType[field.mapKey]}, ${ScalarType[field.scalar]})`}}function scalarTypeDescription(scalar){switch(scalar){case ScalarType.STRING:return"string";case ScalarType.BOOL:return"boolean";case ScalarType.INT64:case ScalarType.SINT64:case ScalarType.SFIXED64:return"bigint (int64)";case ScalarType.UINT64:case ScalarType.FIXED64:return"bigint (uint64)";case ScalarType.BYTES:return"Uint8Array";case ScalarType.DOUBLE:return"number (float64)";case ScalarType.FLOAT:return"number (float32)";case ScalarType.FIXED32:case ScalarType.UINT32:return"number (uint32)";case ScalarType.INT32:case ScalarType.SFIXED32:case ScalarType.SINT32:return"number (int32)"}}function reflect(messageDesc2,message,check=!0){return new ReflectMessageImpl(messageDesc2,message,check)}var messageSortedFields=new WeakMap,ReflectMessageImpl=class{get sortedFields(){let cached=messageSortedFields.get(this.desc);if(cached)return cached;let sortedFields=this.desc.fields.concat().sort((a,b)=>a.number-b.number);return messageSortedFields.set(this.desc,sortedFields),sortedFields}constructor(messageDesc2,message,check=!0){this.lists=new Map,this.maps=new Map,this.check=check,this.desc=messageDesc2,this.message=this[unsafeLocal]=message??create(messageDesc2),this.fields=messageDesc2.fields,this.oneofs=messageDesc2.oneofs,this.members=messageDesc2.members}findNumber(number){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(f=>[f.number,f]))),this._fieldsByNumber.get(number)}oneofCase(oneof){return assertOwn(this.message,oneof),unsafeOneofCase(this.message,oneof)}isSet(field){return assertOwn(this.message,field),unsafeIsSet(this.message,field)}clear(field){assertOwn(this.message,field),unsafeClear(this.message,field)}get(field){assertOwn(this.message,field);let value=unsafeGet(this.message,field);switch(field.fieldKind){case"list":let list2=this.lists.get(field);return(!list2||list2[unsafeLocal]!==value)&&this.lists.set(field,list2=new ReflectListImpl(field,value,this.check)),list2;case"map":let map=this.maps.get(field);return(!map||map[unsafeLocal]!==value)&&this.maps.set(field,map=new ReflectMapImpl(field,value,this.check)),map;case"message":return messageToReflect(field,value,this.check);case"scalar":return value===void 0?scalarZeroValue(field.scalar,!1):longToReflect(field,value);case"enum":return value??field.enum.values[0].number}}set(field,value){if(assertOwn(this.message,field),this.check){let err=checkField(field,value);if(err)throw err}let local;field.fieldKind=="message"?local=messageToLocal(field,value):isReflectMap(value)||isReflectList(value)?local=value[unsafeLocal]:local=longToLocal(field,value),unsafeSet(this.message,field,local)}getUnknown(){return this.message.$unknown}setUnknown(value){this.message.$unknown=value}};function assertOwn(owner,member){if(member.parent.typeName!==owner.$typeName)throw new FieldError(member,`cannot use ${member.toString()} with message ${owner.$typeName}`,"ForeignFieldError")}var ReflectListImpl=class{field(){return this._field}get size(){return this._arr.length}constructor(field,unsafeInput,check){this._field=field,this._arr=this[unsafeLocal]=unsafeInput,this.check=check}get(index2){let item=this._arr[index2];return item===void 0?void 0:listItemToReflect(this._field,item,this.check)}set(index2,item){if(index2<0||index2>=this._arr.length)throw new FieldError(this._field,`list item #${index2+1}: out of range`);if(this.check){let err=checkListItem(this._field,index2,item);if(err)throw err}this._arr[index2]=listItemToLocal(this._field,item)}add(item){if(this.check){let err=checkListItem(this._field,this._arr.length,item);if(err)throw err}this._arr.push(listItemToLocal(this._field,item))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(let item of this._arr)yield listItemToReflect(this._field,item,this.check)}*entries(){for(let i=0;i<this._arr.length;i++)yield[i,listItemToReflect(this._field,this._arr[i],this.check)]}};var ReflectMapImpl=class{constructor(field,unsafeInput,check=!0){this.obj=this[unsafeLocal]=unsafeInput??{},this.check=check,this._field=field}field(){return this._field}set(key,value){if(this.check){let err=checkMapEntry(this._field,key,value);if(err)throw err}return this.obj[mapKeyToLocal(key)]=mapValueToLocal(this._field,value),this}delete(key){let k=mapKeyToLocal(key),has2=Object.prototype.hasOwnProperty.call(this.obj,k);return has2&&delete this.obj[k],has2}clear(){for(let key of Object.keys(this.obj))delete this.obj[key]}get(key){let val=this.obj[mapKeyToLocal(key)];return val!==void 0&&(val=mapValueToReflect(this._field,val,this.check)),val}has(key){return Object.prototype.hasOwnProperty.call(this.obj,mapKeyToLocal(key))}*keys(){for(let objKey of Object.keys(this.obj))yield mapKeyToReflect(objKey,this._field.mapKey)}*entries(){for(let objEntry of Object.entries(this.obj))yield[mapKeyToReflect(objEntry[0],this._field.mapKey),mapValueToReflect(this._field,objEntry[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(let val of Object.values(this.obj))yield mapValueToReflect(this._field,val,this.check)}forEach(callbackfn,thisArg){for(let mapEntry of this.entries())callbackfn.call(thisArg,mapEntry[1],mapEntry[0],this)}};function messageToLocal(field,value){return isReflectMessage(value)?isWrapper(value.message)&&!field.oneof&&field.fieldKind=="message"?value.message.value:value.desc.typeName=="google.protobuf.Struct"&&field.parent.typeName!="google.protobuf.Value"?wktStructToLocal(value.message):value.message:value}function messageToReflect(field,value,check){return value!==void 0&&(isWrapperDesc(field.message)&&!field.oneof&&field.fieldKind=="message"?value={$typeName:field.message.typeName,value:longToReflect(field.message.fields[0],value)}:field.message.typeName=="google.protobuf.Struct"&&field.parent.typeName!="google.protobuf.Value"&&isObject2(value)&&(value=wktStructToReflect(value))),new ReflectMessageImpl(field.message,value,check)}function listItemToLocal(field,value){return field.listKind=="message"?messageToLocal(field,value):longToLocal(field,value)}function listItemToReflect(field,value,check){return field.listKind=="message"?messageToReflect(field,value,check):longToReflect(field,value)}function mapValueToLocal(field,value){return field.mapKind=="message"?messageToLocal(field,value):longToLocal(field,value)}function mapValueToReflect(field,value,check){return field.mapKind=="message"?messageToReflect(field,value,check):value}function mapKeyToLocal(key){return typeof key=="string"||typeof key=="number"?key:String(key)}function mapKeyToReflect(key,type){switch(type){case ScalarType.STRING:return key;case ScalarType.INT32:case ScalarType.FIXED32:case ScalarType.UINT32:case ScalarType.SFIXED32:case ScalarType.SINT32:{let n=Number.parseInt(key);if(Number.isFinite(n))return n;break}case ScalarType.BOOL:switch(key){case"true":return!0;case"false":return!1}break;case ScalarType.UINT64:case ScalarType.FIXED64:try{return protoInt64.uParse(key)}catch{}break;default:try{return protoInt64.parse(key)}catch{}break}return key}function longToReflect(field,value){switch(field.scalar){case ScalarType.INT64:case ScalarType.SFIXED64:case ScalarType.SINT64:"longAsString"in field&&field.longAsString&&typeof value=="string"&&(value=protoInt64.parse(value));break;case ScalarType.FIXED64:case ScalarType.UINT64:"longAsString"in field&&field.longAsString&&typeof value=="string"&&(value=protoInt64.uParse(value));break}return value}function longToLocal(field,value){switch(field.scalar){case ScalarType.INT64:case ScalarType.SFIXED64:case ScalarType.SINT64:"longAsString"in field&&field.longAsString?value=String(value):(typeof value=="string"||typeof value=="number")&&(value=protoInt64.parse(value));break;case ScalarType.FIXED64:case ScalarType.UINT64:"longAsString"in field&&field.longAsString?value=String(value):(typeof value=="string"||typeof value=="number")&&(value=protoInt64.uParse(value));break}return value}function wktStructToReflect(json){let struct={$typeName:"google.protobuf.Struct",fields:{}};if(isObject2(json))for(let[k,v]of Object.entries(json))struct.fields[k]=wktValueToReflect(v);return struct}function wktStructToLocal(val){let json={};for(let[k,v]of Object.entries(val.fields))json[k]=wktValueToLocal(v);return json}function wktValueToLocal(val){switch(val.kind.case){case"structValue":return wktStructToLocal(val.kind.value);case"listValue":return val.kind.value.values.map(wktValueToLocal);case"nullValue":case void 0:return null;default:return val.kind.value}}function wktValueToReflect(json){let value={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof json){case"number":value.kind={case:"numberValue",value:json};break;case"string":value.kind={case:"stringValue",value:json};break;case"boolean":value.kind={case:"boolValue",value:json};break;case"object":if(json===null)value.kind={case:"nullValue",value:0};else if(Array.isArray(json)){let listValue={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(json))for(let e of json)listValue.values.push(wktValueToReflect(e));value.kind={case:"listValue",value:listValue}}else value.kind={case:"structValue",value:wktStructToReflect(json)};break}return value}function base64Decode(base64Str){let table2=getDecodeTable(),es=base64Str.length*3/4;base64Str[base64Str.length-2]=="="?es-=2:base64Str[base64Str.length-1]=="="&&(es-=1);let bytes=new Uint8Array(es),bytePos=0,groupPos=0,b,p=0;for(let i=0;i<base64Str.length;i++){if(b=table2[base64Str.charCodeAt(i)],b===void 0)switch(base64Str[i]){case"=":groupPos=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(groupPos){case 0:p=b,groupPos=1;break;case 1:bytes[bytePos++]=p<<2|(b&48)>>4,p=b,groupPos=2;break;case 2:bytes[bytePos++]=(p&15)<<4|(b&60)>>2,p=b,groupPos=3;break;case 3:bytes[bytePos++]=(p&3)<<6|b,groupPos=0;break}}if(groupPos==1)throw Error("invalid base64 string");return bytes.subarray(0,bytePos)}function base64Encode(bytes,encoding="std"){let table2=getEncodeTable(encoding),pad=encoding=="std",base64="",groupPos=0,b,p=0;for(let i=0;i<bytes.length;i++)switch(b=bytes[i],groupPos){case 0:base64+=table2[b>>2],p=(b&3)<<4,groupPos=1;break;case 1:base64+=table2[p|b>>4],p=(b&15)<<2,groupPos=2;break;case 2:base64+=table2[p|b>>6],base64+=table2[b&63],groupPos=0;break}return groupPos&&(base64+=table2[p],pad&&(base64+="=",groupPos==1&&(base64+="="))),base64}var encodeTableStd,encodeTableUrl,decodeTable;function getEncodeTable(encoding){return encodeTableStd||(encodeTableStd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),encodeTableUrl=encodeTableStd.slice(0,-2).concat("-","_")),encoding=="url"?encodeTableUrl:encodeTableStd}function getDecodeTable(){if(!decodeTable){decodeTable=[];let encodeTable=getEncodeTable("std");for(let i=0;i<encodeTable.length;i++)decodeTable[encodeTable[i].charCodeAt(0)]=i;decodeTable[45]=encodeTable.indexOf("+"),decodeTable[95]=encodeTable.indexOf("/")}return decodeTable}function protoCamelCase(snakeCase){let capNext=!1,b=[];for(let i=0;i<snakeCase.length;i++){let c=snakeCase.charAt(i);switch(c){case"_":capNext=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":b.push(c),capNext=!1;break;default:capNext&&(capNext=!1,c=c.toUpperCase()),b.push(c);break}}return b.join("")}function protoSnakeCase(lowerCamelCase){return lowerCamelCase.replace(/[A-Z]/g,letter=>"_"+letter.toLowerCase())}var reservedObjectProperties=new Set(["constructor","toString","toJSON","valueOf"]);function safeObjectProperty(name){return reservedObjectProperties.has(name)?name+"$":name}function restoreJsonNames(message){for(let f of message.field)unsafeIsSetExplicit(f,"jsonName")||(f.jsonName=protoCamelCase(f.name));message.nestedType.forEach(restoreJsonNames)}function parseTextFormatEnumValue(descEnum,value){let enumValue=descEnum.values.find(v=>v.name===value);if(!enumValue)throw new Error(`cannot parse ${descEnum} default value: ${value}`);return enumValue.number}function parseTextFormatScalarValue(type,value){switch(type){case ScalarType.STRING:return value;case ScalarType.BYTES:{let u=unescapeBytesDefaultValue(value);if(u===!1)throw new Error(`cannot parse ${ScalarType[type]} default value: ${value}`);return u}case ScalarType.INT64:case ScalarType.SFIXED64:case ScalarType.SINT64:return protoInt64.parse(value);case ScalarType.UINT64:case ScalarType.FIXED64:return protoInt64.uParse(value);case ScalarType.DOUBLE:case ScalarType.FLOAT:switch(value){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(value)}case ScalarType.BOOL:return value==="true";case ScalarType.INT32:case ScalarType.UINT32:case ScalarType.SINT32:case ScalarType.FIXED32:case ScalarType.SFIXED32:return parseInt(value,10)}}function unescapeBytesDefaultValue(str){let b=[],input={tail:str,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(n){if(this.tail.length>=n){let r=this.tail.substring(0,n);return this.tail=this.tail.substring(n),r}return!1}};for(;input.next();)switch(input.c){case"\\":if(input.next())switch(input.c){case"\\":b.push(input.c.charCodeAt(0));break;case"b":b.push(8);break;case"f":b.push(12);break;case"n":b.push(10);break;case"r":b.push(13);break;case"t":b.push(9);break;case"v":b.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{let s=input.c,t=input.take(2);if(t===!1)return!1;let n=parseInt(s+t,8);if(Number.isNaN(n))return!1;b.push(n);break}case"x":{let s=input.c,t=input.take(2);if(t===!1)return!1;let n=parseInt(s+t,16);if(Number.isNaN(n))return!1;b.push(n);break}case"u":{let s=input.c,t=input.take(4);if(t===!1)return!1;let n=parseInt(s+t,16);if(Number.isNaN(n))return!1;let chunk=new Uint8Array(4);new DataView(chunk.buffer).setInt32(0,n,!0),b.push(chunk[0],chunk[1],chunk[2],chunk[3]);break}case"U":{let s=input.c,t=input.take(8);if(t===!1)return!1;let tc=protoInt64.uEnc(s+t),chunk=new Uint8Array(8),view=new DataView(chunk.buffer);view.setInt32(0,tc.lo,!0),view.setInt32(4,tc.hi,!0),b.push(chunk[0],chunk[1],chunk[2],chunk[3],chunk[4],chunk[5],chunk[6],chunk[7]);break}}break;default:b.push(input.c.charCodeAt(0))}return new Uint8Array(b)}function*nestedTypes(desc){switch(desc.kind){case"file":for(let message of desc.messages)yield message,yield*nestedTypes(message);yield*desc.enums,yield*desc.services,yield*desc.extensions;break;case"message":for(let message of desc.nestedMessages)yield message,yield*nestedTypes(message);yield*desc.nestedEnums,yield*desc.nestedExtensions;break}}function createFileRegistry(...args){let registry=createBaseRegistry();if(!args.length)return registry;if("$typeName"in args[0]&&args[0].$typeName=="google.protobuf.FileDescriptorSet"){for(let file of args[0].file)addFile(file,registry);return registry}if("$typeName"in args[0]){let recurseDeps=function(file){let deps=[];for(let protoFileName of file.dependency){if(registry.getFile(protoFileName)!=null||seen.has(protoFileName))continue;let dep=resolve(protoFileName);if(!dep)throw new Error(`Unable to resolve ${protoFileName}, imported by ${file.name}`);"kind"in dep?registry.addFile(dep,!1,!0):(seen.add(dep.name),deps.push(dep))}return deps.concat(...deps.map(recurseDeps))},input=args[0],resolve=args[1],seen=new Set;for(let file of[input,...recurseDeps(input)].reverse())addFile(file,registry)}else for(let fileReg of args)for(let file of fileReg.files)registry.addFile(file);return registry}function createBaseRegistry(){let types=new Map,extendees=new Map,files=new Map;return{kind:"registry",types,extendees,[Symbol.iterator](){return types.values()},get files(){return files.values()},addFile(file,skipTypes,withDeps){if(files.set(file.proto.name,file),!skipTypes)for(let type of nestedTypes(file))this.add(type);if(withDeps)for(let f of file.dependencies)this.addFile(f,skipTypes,withDeps)},add(desc){if(desc.kind=="extension"){let numberToExt=extendees.get(desc.extendee.typeName);numberToExt||extendees.set(desc.extendee.typeName,numberToExt=new Map),numberToExt.set(desc.number,desc)}types.set(desc.typeName,desc)},get(typeName){return types.get(typeName)},getFile(fileName){return files.get(fileName)},getMessage(typeName){let t=types.get(typeName);return t?.kind=="message"?t:void 0},getEnum(typeName){let t=types.get(typeName);return t?.kind=="enum"?t:void 0},getExtension(typeName){let t=types.get(typeName);return t?.kind=="extension"?t:void 0},getExtensionFor(extendee,no){var _a2;return(_a2=extendees.get(extendee.typeName))===null||_a2===void 0?void 0:_a2.get(no)},getService(typeName){let t=types.get(typeName);return t?.kind=="service"?t:void 0}}}var EDITION_PROTO22=998,EDITION_PROTO32=999,TYPE_STRING=9,TYPE_GROUP=10,TYPE_MESSAGE=11,TYPE_BYTES=12,TYPE_ENUM=14,LABEL_REPEATED=3,LABEL_REQUIRED=2,JS_STRING=1,IDEMPOTENCY_UNKNOWN=0,EXPLICIT=1,IMPLICIT3=2,LEGACY_REQUIRED=3,PACKED=1,DELIMITED=2,OPEN=1;var featureDefaults={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function addFile(proto,reg){var _a2,_b;let file={kind:"file",proto,deprecated:(_b=(_a2=proto.options)===null||_a2===void 0?void 0:_a2.deprecated)!==null&&_b!==void 0?_b:!1,edition:getFileEdition(proto),name:proto.name.replace(/\.proto$/,""),dependencies:findFileDependencies(proto,reg),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${proto.name}`}},mapEntriesStore=new Map,mapEntries={get(typeName){return mapEntriesStore.get(typeName)},add(desc){var _a3;assert(((_a3=desc.proto.options)===null||_a3===void 0?void 0:_a3.mapEntry)===!0),mapEntriesStore.set(desc.typeName,desc)}};for(let enumProto of proto.enumType)addEnum(enumProto,file,void 0,reg);for(let messageProto of proto.messageType)addMessage(messageProto,file,void 0,reg,mapEntries);for(let serviceProto of proto.service)addService(serviceProto,file,reg);addExtensions(file,reg);for(let mapEntry of mapEntriesStore.values())addFields(mapEntry,reg,mapEntries);for(let message of file.messages)addFields(message,reg,mapEntries),addExtensions(message,reg);reg.addFile(file,!0)}function addExtensions(desc,reg){switch(desc.kind){case"file":for(let proto of desc.proto.extension){let ext=newField(proto,desc,reg);desc.extensions.push(ext),reg.add(ext)}break;case"message":for(let proto of desc.proto.extension){let ext=newField(proto,desc,reg);desc.nestedExtensions.push(ext),reg.add(ext)}for(let message of desc.nestedMessages)addExtensions(message,reg);break}}function addFields(message,reg,mapEntries){let allOneofs=message.proto.oneofDecl.map(proto=>newOneof(proto,message)),oneofsSeen=new Set;for(let proto of message.proto.field){let oneof=findOneof(proto,allOneofs),field=newField(proto,message,reg,oneof,mapEntries);message.fields.push(field),message.field[field.localName]=field,oneof===void 0?message.members.push(field):(oneof.fields.push(field),oneofsSeen.has(oneof)||(oneofsSeen.add(oneof),message.members.push(oneof)))}for(let oneof of allOneofs.filter(o=>oneofsSeen.has(o)))message.oneofs.push(oneof);for(let child of message.nestedMessages)addFields(child,reg,mapEntries)}function addEnum(proto,file,parent,reg){var _a2,_b,_c,_d,_e;let sharedPrefix=findEnumSharedPrefix(proto.name,proto.value),desc={kind:"enum",proto,deprecated:(_b=(_a2=proto.options)===null||_a2===void 0?void 0:_a2.deprecated)!==null&&_b!==void 0?_b:!1,file,parent,open:!0,name:proto.name,typeName:makeTypeName(proto,parent,file),value:{},values:[],sharedPrefix,toString(){return`enum ${this.typeName}`}};desc.open=isEnumOpen(desc),reg.add(desc);for(let p of proto.value){let name=p.name;desc.values.push(desc.value[p.number]={kind:"enum_value",proto:p,deprecated:(_d=(_c=p.options)===null||_c===void 0?void 0:_c.deprecated)!==null&&_d!==void 0?_d:!1,parent:desc,name,localName:safeObjectProperty(sharedPrefix==null?name:name.substring(sharedPrefix.length)),number:p.number,toString(){return`enum value ${desc.typeName}.${name}`}})}((_e=parent?.nestedEnums)!==null&&_e!==void 0?_e:file.enums).push(desc)}function addMessage(proto,file,parent,reg,mapEntries){var _a2,_b,_c,_d;let desc={kind:"message",proto,deprecated:(_b=(_a2=proto.options)===null||_a2===void 0?void 0:_a2.deprecated)!==null&&_b!==void 0?_b:!1,file,parent,name:proto.name,typeName:makeTypeName(proto,parent,file),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((_c=proto.options)===null||_c===void 0?void 0:_c.mapEntry)===!0?mapEntries.add(desc):(((_d=parent?.nestedMessages)!==null&&_d!==void 0?_d:file.messages).push(desc),reg.add(desc));for(let enumProto of proto.enumType)addEnum(enumProto,file,desc,reg);for(let messageProto of proto.nestedType)addMessage(messageProto,file,desc,reg,mapEntries)}function addService(proto,file,reg){var _a2,_b;let desc={kind:"service",proto,deprecated:(_b=(_a2=proto.options)===null||_a2===void 0?void 0:_a2.deprecated)!==null&&_b!==void 0?_b:!1,file,name:proto.name,typeName:makeTypeName(proto,void 0,file),methods:[],method:{},toString(){return`service ${this.typeName}`}};file.services.push(desc),reg.add(desc);for(let methodProto of proto.method){let method=newMethod(methodProto,desc,reg);desc.methods.push(method),desc.method[method.localName]=method}}function newMethod(proto,parent,reg){var _a2,_b,_c,_d;let methodKind;proto.clientStreaming&&proto.serverStreaming?methodKind="bidi_streaming":proto.clientStreaming?methodKind="client_streaming":proto.serverStreaming?methodKind="server_streaming":methodKind="unary";let input=reg.getMessage(trimLeadingDot(proto.inputType)),output=reg.getMessage(trimLeadingDot(proto.outputType));assert(input,`invalid MethodDescriptorProto: input_type ${proto.inputType} not found`),assert(output,`invalid MethodDescriptorProto: output_type ${proto.inputType} not found`);let name=proto.name;return{kind:"rpc",proto,deprecated:(_b=(_a2=proto.options)===null||_a2===void 0?void 0:_a2.deprecated)!==null&&_b!==void 0?_b:!1,parent,name,localName:safeObjectProperty(name.length?safeObjectProperty(name[0].toLowerCase()+name.substring(1)):name),methodKind,input,output,idempotency:(_d=(_c=proto.options)===null||_c===void 0?void 0:_c.idempotencyLevel)!==null&&_d!==void 0?_d:IDEMPOTENCY_UNKNOWN,toString(){return`rpc ${parent.typeName}.${name}`}}}function newOneof(proto,parent){return{kind:"oneof",proto,deprecated:!1,parent,fields:[],name:proto.name,localName:safeObjectProperty(protoCamelCase(proto.name)),toString(){return`oneof ${parent.typeName}.${this.name}`}}}function newField(proto,parentOrFile,reg,oneof,mapEntries){var _a2,_b,_c;let isExtension=mapEntries===void 0,field={kind:"field",proto,deprecated:(_b=(_a2=proto.options)===null||_a2===void 0?void 0:_a2.deprecated)!==null&&_b!==void 0?_b:!1,name:proto.name,number:proto.number,scalar:void 0,message:void 0,enum:void 0,presence:getFieldPresence(proto,oneof,isExtension,parentOrFile),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(isExtension){let file=parentOrFile.kind=="file"?parentOrFile:parentOrFile.file,parent=parentOrFile.kind=="file"?void 0:parentOrFile,typeName=makeTypeName(proto,parent,file);field.kind="extension",field.file=file,field.parent=parent,field.oneof=void 0,field.typeName=typeName,field.jsonName=`[${typeName}]`,field.toString=()=>`extension ${typeName}`;let extendee=reg.getMessage(trimLeadingDot(proto.extendee));assert(extendee,`invalid FieldDescriptorProto: extendee ${proto.extendee} not found`),field.extendee=extendee}else{let parent=parentOrFile;assert(parent.kind=="message"),field.parent=parent,field.oneof=oneof,field.localName=oneof?protoCamelCase(proto.name):safeObjectProperty(protoCamelCase(proto.name)),field.jsonName=proto.jsonName,field.toString=()=>`field ${parent.typeName}.${proto.name}`}let label=proto.label,type=proto.type,jstype=(_c=proto.options)===null||_c===void 0?void 0:_c.jstype;if(label===LABEL_REPEATED){let mapEntry=type==TYPE_MESSAGE?mapEntries?.get(trimLeadingDot(proto.typeName)):void 0;if(mapEntry){field.fieldKind="map";let{key,value}=findMapEntryFields(mapEntry);return field.mapKey=key.scalar,field.mapKind=value.fieldKind,field.message=value.message,field.delimitedEncoding=!1,field.enum=value.enum,field.scalar=value.scalar,field}switch(field.fieldKind="list",type){case TYPE_MESSAGE:case TYPE_GROUP:field.listKind="message",field.message=reg.getMessage(trimLeadingDot(proto.typeName)),assert(field.message),field.delimitedEncoding=isDelimitedEncoding(proto,parentOrFile);break;case TYPE_ENUM:field.listKind="enum",field.enum=reg.getEnum(trimLeadingDot(proto.typeName)),assert(field.enum);break;default:field.listKind="scalar",field.scalar=type,field.longAsString=jstype==JS_STRING;break}return field.packed=isPackedField(proto,parentOrFile),field}switch(type){case TYPE_MESSAGE:case TYPE_GROUP:field.fieldKind="message",field.message=reg.getMessage(trimLeadingDot(proto.typeName)),assert(field.message,`invalid FieldDescriptorProto: type_name ${proto.typeName} not found`),field.delimitedEncoding=isDelimitedEncoding(proto,parentOrFile),field.getDefaultValue=()=>{};break;case TYPE_ENUM:{let enumeration=reg.getEnum(trimLeadingDot(proto.typeName));assert(enumeration!==void 0,`invalid FieldDescriptorProto: type_name ${proto.typeName} not found`),field.fieldKind="enum",field.enum=reg.getEnum(trimLeadingDot(proto.typeName)),field.getDefaultValue=()=>unsafeIsSetExplicit(proto,"defaultValue")?parseTextFormatEnumValue(enumeration,proto.defaultValue):void 0;break}default:{field.fieldKind="scalar",field.scalar=type,field.longAsString=jstype==JS_STRING,field.getDefaultValue=()=>unsafeIsSetExplicit(proto,"defaultValue")?parseTextFormatScalarValue(type,proto.defaultValue):void 0;break}}return field}function getFileEdition(proto){switch(proto.syntax){case"":case"proto2":return EDITION_PROTO22;case"proto3":return EDITION_PROTO32;case"editions":if(proto.edition in featureDefaults)return proto.edition;throw new Error(`${proto.name}: unsupported edition`);default:throw new Error(`${proto.name}: unsupported syntax "${proto.syntax}"`)}}function findFileDependencies(proto,reg){return proto.dependency.map(wantName=>{let dep=reg.getFile(wantName);if(!dep)throw new Error(`Cannot find ${wantName}, imported by ${proto.name}`);return dep})}function findEnumSharedPrefix(enumName,values2){let prefix=camelToSnakeCase(enumName)+"_";for(let value of values2){if(!value.name.toLowerCase().startsWith(prefix))return;let shortName=value.name.substring(prefix.length);if(shortName.length==0||/^\d/.test(shortName))return}return prefix}function camelToSnakeCase(camel){return(camel.substring(0,1)+camel.substring(1).replace(/[A-Z]/g,c=>"_"+c)).toLowerCase()}function makeTypeName(proto,parent,file){let typeName;return parent?typeName=`${parent.typeName}.${proto.name}`:file.proto.package.length>0?typeName=`${file.proto.package}.${proto.name}`:typeName=`${proto.name}`,typeName}function trimLeadingDot(typeName){return typeName.startsWith(".")?typeName.substring(1):typeName}function findOneof(proto,allOneofs){if(!unsafeIsSetExplicit(proto,"oneofIndex")||proto.proto3Optional)return;let oneof=allOneofs[proto.oneofIndex];return assert(oneof,`invalid FieldDescriptorProto: oneof #${proto.oneofIndex} for field #${proto.number} not found`),oneof}function getFieldPresence(proto,oneof,isExtension,parent){if(proto.label==LABEL_REQUIRED)return LEGACY_REQUIRED;if(proto.label==LABEL_REPEATED)return IMPLICIT3;if(oneof||proto.proto3Optional||isExtension)return EXPLICIT;let resolved=resolveFeature("fieldPresence",{proto,parent});return resolved==IMPLICIT3&&(proto.type==TYPE_MESSAGE||proto.type==TYPE_GROUP)?EXPLICIT:resolved}function isPackedField(proto,parent){if(proto.label!=LABEL_REPEATED)return!1;switch(proto.type){case TYPE_STRING:case TYPE_BYTES:case TYPE_GROUP:case TYPE_MESSAGE:return!1}let o=proto.options;return o&&unsafeIsSetExplicit(o,"packed")?o.packed:PACKED==resolveFeature("repeatedFieldEncoding",{proto,parent})}function findMapEntryFields(mapEntry){let key=mapEntry.fields.find(f=>f.number===1),value=mapEntry.fields.find(f=>f.number===2);return assert(key&&key.fieldKind=="scalar"&&key.scalar!=ScalarType.BYTES&&key.scalar!=ScalarType.FLOAT&&key.scalar!=ScalarType.DOUBLE&&value&&value.fieldKind!="list"&&value.fieldKind!="map"),{key,value}}function isEnumOpen(desc){var _a2;return OPEN==resolveFeature("enumType",{proto:desc.proto,parent:(_a2=desc.parent)!==null&&_a2!==void 0?_a2:desc.file})}function isDelimitedEncoding(proto,parent){return proto.type==TYPE_GROUP?!0:DELIMITED==resolveFeature("messageEncoding",{proto,parent})}function resolveFeature(name,ref){var _a2,_b;let featureSet=(_a2=ref.proto.options)===null||_a2===void 0?void 0:_a2.features;if(featureSet){let val=featureSet[name];if(val!=0)return val}if("kind"in ref){if(ref.kind=="message")return resolveFeature(name,(_b=ref.parent)!==null&&_b!==void 0?_b:ref.file);let editionDefaults=featureDefaults[ref.edition];if(!editionDefaults)throw new Error(`feature default for edition ${ref.edition} not found`);return editionDefaults[name]}return resolveFeature(name,ref.parent)}function assert(condition,msg){if(!condition)throw new Error(msg)}function boot(boot2){let root=bootFileDescriptorProto(boot2);return root.messageType.forEach(restoreJsonNames),createFileRegistry(root,()=>{}).getFile(root.name)}function bootFileDescriptorProto(init){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},init),{messageType:init.messageType.map(bootDescriptorProto),enumType:init.enumType.map(bootEnumDescriptorProto)}))}function bootDescriptorProto(init){var _a2,_b,_c,_d,_e,_f,_g,_h;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:init.name,field:(_b=(_a2=init.field)===null||_a2===void 0?void 0:_a2.map(bootFieldDescriptorProto))!==null&&_b!==void 0?_b:[],extension:[],nestedType:(_d=(_c=init.nestedType)===null||_c===void 0?void 0:_c.map(bootDescriptorProto))!==null&&_d!==void 0?_d:[],enumType:(_f=(_e=init.enumType)===null||_e===void 0?void 0:_e.map(bootEnumDescriptorProto))!==null&&_f!==void 0?_f:[],extensionRange:(_h=(_g=init.extensionRange)===null||_g===void 0?void 0:_g.map(e=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},e)))!==null&&_h!==void 0?_h:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function bootFieldDescriptorProto(init){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},init),{options:init.options?bootFieldOptions(init.options):void 0}))}function bootFieldOptions(init){var _a2,_b,_c;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},init),{targets:(_a2=init.targets)!==null&&_a2!==void 0?_a2:[],editionDefaults:(_c=(_b=init.editionDefaults)===null||_b===void 0?void 0:_b.map(e=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},e)))!==null&&_c!==void 0?_c:[],uninterpretedOption:[]}))}function bootEnumDescriptorProto(init){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:init.name,reservedName:[],reservedRange:[],value:init.value.map(e=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},e))})}function messageDesc(file,path5,...paths){return paths.reduce((acc,cur)=>acc.nestedMessages[cur],file.messages[path5])}var file_google_protobuf_descriptor=boot({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_UNSTABLE",number:9999},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]});var FileDescriptorProtoSchema=messageDesc(file_google_protobuf_descriptor,1);var ExtensionRangeOptions_VerificationState;(function(ExtensionRangeOptions_VerificationState2){ExtensionRangeOptions_VerificationState2[ExtensionRangeOptions_VerificationState2.DECLARATION=0]="DECLARATION",ExtensionRangeOptions_VerificationState2[ExtensionRangeOptions_VerificationState2.UNVERIFIED=1]="UNVERIFIED"})(ExtensionRangeOptions_VerificationState||(ExtensionRangeOptions_VerificationState={}));var FieldDescriptorProto_Type;(function(FieldDescriptorProto_Type2){FieldDescriptorProto_Type2[FieldDescriptorProto_Type2.DOUBLE=1]="DOUBLE",FieldDescriptorProto_Type2[FieldDescriptorProto_Type2.FLOAT=2]="FLOAT",FieldDescriptorProto_Type2[FieldDescriptorProto_Type2.INT64=3]="INT64",FieldDescriptorProto_Type2[FieldDescriptorProto_Type2.UINT64=4]="UINT64",FieldDescriptorProto_Type2[FieldDescriptorProto_Type2.INT32=5]="INT32",FieldDescriptorProto_Type2[FieldDescriptorProto_Type2.FIXED64=6]="FIXED64",FieldDescriptorProto_Type2[FieldDescriptorProto_Type2.FIXED32=7]="FIXED32",FieldDescriptorProto_Type2[FieldDescriptorProto_Type2.BOOL=8]="BOOL",FieldDescriptorProto_Type2[FieldDescriptorProto_Type2.STRING=9]="STRING",FieldDescriptorProto_Type2[FieldDescriptorProto_Type2.GROUP=10]="GROUP",FieldDescriptorProto_Type2[FieldDescriptorProto_Type2.MESSAGE=11]="MESSAGE",FieldDescriptorProto_Type2[FieldDescriptorProto_Type2.BYTES=12]="BYTES",FieldDescriptorProto_Type2[FieldDescriptorProto_Type2.UINT32=13]="UINT32",FieldDescriptorProto_Type2[FieldDescriptorProto_Type2.ENUM=14]="ENUM",FieldDescriptorProto_Type2[FieldDescriptorProto_Type2.SFIXED32=15]="SFIXED32",FieldDescriptorProto_Type2[FieldDescriptorProto_Type2.SFIXED64=16]="SFIXED64",FieldDescriptorProto_Type2[FieldDescriptorProto_Type2.SINT32=17]="SINT32",FieldDescriptorProto_Type2[FieldDescriptorProto_Type2.SINT64=18]="SINT64"})(FieldDescriptorProto_Type||(FieldDescriptorProto_Type={}));var FieldDescriptorProto_Label;(function(FieldDescriptorProto_Label2){FieldDescriptorProto_Label2[FieldDescriptorProto_Label2.OPTIONAL=1]="OPTIONAL",FieldDescriptorProto_Label2[FieldDescriptorProto_Label2.REPEATED=3]="REPEATED",FieldDescriptorProto_Label2[FieldDescriptorProto_Label2.REQUIRED=2]="REQUIRED"})(FieldDescriptorProto_Label||(FieldDescriptorProto_Label={}));var FileOptions_OptimizeMode;(function(FileOptions_OptimizeMode2){FileOptions_OptimizeMode2[FileOptions_OptimizeMode2.SPEED=1]="SPEED",FileOptions_OptimizeMode2[FileOptions_OptimizeMode2.CODE_SIZE=2]="CODE_SIZE",FileOptions_OptimizeMode2[FileOptions_OptimizeMode2.LITE_RUNTIME=3]="LITE_RUNTIME"})(FileOptions_OptimizeMode||(FileOptions_OptimizeMode={}));var FieldOptions_CType;(function(FieldOptions_CType2){FieldOptions_CType2[FieldOptions_CType2.STRING=0]="STRING",FieldOptions_CType2[FieldOptions_CType2.CORD=1]="CORD",FieldOptions_CType2[FieldOptions_CType2.STRING_PIECE=2]="STRING_PIECE"})(FieldOptions_CType||(FieldOptions_CType={}));var FieldOptions_JSType;(function(FieldOptions_JSType2){FieldOptions_JSType2[FieldOptions_JSType2.JS_NORMAL=0]="JS_NORMAL",FieldOptions_JSType2[FieldOptions_JSType2.JS_STRING=1]="JS_STRING",FieldOptions_JSType2[FieldOptions_JSType2.JS_NUMBER=2]="JS_NUMBER"})(FieldOptions_JSType||(FieldOptions_JSType={}));var FieldOptions_OptionRetention;(function(FieldOptions_OptionRetention2){FieldOptions_OptionRetention2[FieldOptions_OptionRetention2.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",FieldOptions_OptionRetention2[FieldOptions_OptionRetention2.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",FieldOptions_OptionRetention2[FieldOptions_OptionRetention2.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(FieldOptions_OptionRetention||(FieldOptions_OptionRetention={}));var FieldOptions_OptionTargetType;(function(FieldOptions_OptionTargetType2){FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",FieldOptions_OptionTargetType2[FieldOptions_OptionTargetType2.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(FieldOptions_OptionTargetType||(FieldOptions_OptionTargetType={}));var MethodOptions_IdempotencyLevel;(function(MethodOptions_IdempotencyLevel2){MethodOptions_IdempotencyLevel2[MethodOptions_IdempotencyLevel2.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",MethodOptions_IdempotencyLevel2[MethodOptions_IdempotencyLevel2.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",MethodOptions_IdempotencyLevel2[MethodOptions_IdempotencyLevel2.IDEMPOTENT=2]="IDEMPOTENT"})(MethodOptions_IdempotencyLevel||(MethodOptions_IdempotencyLevel={}));var FeatureSet_VisibilityFeature_DefaultSymbolVisibility;(function(FeatureSet_VisibilityFeature_DefaultSymbolVisibility2){FeatureSet_VisibilityFeature_DefaultSymbolVisibility2[FeatureSet_VisibilityFeature_DefaultSymbolVisibility2.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",FeatureSet_VisibilityFeature_DefaultSymbolVisibility2[FeatureSet_VisibilityFeature_DefaultSymbolVisibility2.EXPORT_ALL=1]="EXPORT_ALL",FeatureSet_VisibilityFeature_DefaultSymbolVisibility2[FeatureSet_VisibilityFeature_DefaultSymbolVisibility2.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",FeatureSet_VisibilityFeature_DefaultSymbolVisibility2[FeatureSet_VisibilityFeature_DefaultSymbolVisibility2.LOCAL_ALL=3]="LOCAL_ALL",FeatureSet_VisibilityFeature_DefaultSymbolVisibility2[FeatureSet_VisibilityFeature_DefaultSymbolVisibility2.STRICT=4]="STRICT"})(FeatureSet_VisibilityFeature_DefaultSymbolVisibility||(FeatureSet_VisibilityFeature_DefaultSymbolVisibility={}));var FeatureSet_FieldPresence;(function(FeatureSet_FieldPresence2){FeatureSet_FieldPresence2[FeatureSet_FieldPresence2.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",FeatureSet_FieldPresence2[FeatureSet_FieldPresence2.EXPLICIT=1]="EXPLICIT",FeatureSet_FieldPresence2[FeatureSet_FieldPresence2.IMPLICIT=2]="IMPLICIT",FeatureSet_FieldPresence2[FeatureSet_FieldPresence2.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(FeatureSet_FieldPresence||(FeatureSet_FieldPresence={}));var FeatureSet_EnumType;(function(FeatureSet_EnumType2){FeatureSet_EnumType2[FeatureSet_EnumType2.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",FeatureSet_EnumType2[FeatureSet_EnumType2.OPEN=1]="OPEN",FeatureSet_EnumType2[FeatureSet_EnumType2.CLOSED=2]="CLOSED"})(FeatureSet_EnumType||(FeatureSet_EnumType={}));var FeatureSet_RepeatedFieldEncoding;(function(FeatureSet_RepeatedFieldEncoding2){FeatureSet_RepeatedFieldEncoding2[FeatureSet_RepeatedFieldEncoding2.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",FeatureSet_RepeatedFieldEncoding2[FeatureSet_RepeatedFieldEncoding2.PACKED=1]="PACKED",FeatureSet_RepeatedFieldEncoding2[FeatureSet_RepeatedFieldEncoding2.EXPANDED=2]="EXPANDED"})(FeatureSet_RepeatedFieldEncoding||(FeatureSet_RepeatedFieldEncoding={}));var FeatureSet_Utf8Validation;(function(FeatureSet_Utf8Validation2){FeatureSet_Utf8Validation2[FeatureSet_Utf8Validation2.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",FeatureSet_Utf8Validation2[FeatureSet_Utf8Validation2.VERIFY=2]="VERIFY",FeatureSet_Utf8Validation2[FeatureSet_Utf8Validation2.NONE=3]="NONE"})(FeatureSet_Utf8Validation||(FeatureSet_Utf8Validation={}));var FeatureSet_MessageEncoding;(function(FeatureSet_MessageEncoding2){FeatureSet_MessageEncoding2[FeatureSet_MessageEncoding2.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",FeatureSet_MessageEncoding2[FeatureSet_MessageEncoding2.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",FeatureSet_MessageEncoding2[FeatureSet_MessageEncoding2.DELIMITED=2]="DELIMITED"})(FeatureSet_MessageEncoding||(FeatureSet_MessageEncoding={}));var FeatureSet_JsonFormat;(function(FeatureSet_JsonFormat2){FeatureSet_JsonFormat2[FeatureSet_JsonFormat2.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",FeatureSet_JsonFormat2[FeatureSet_JsonFormat2.ALLOW=1]="ALLOW",FeatureSet_JsonFormat2[FeatureSet_JsonFormat2.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(FeatureSet_JsonFormat||(FeatureSet_JsonFormat={}));var FeatureSet_EnforceNamingStyle;(function(FeatureSet_EnforceNamingStyle2){FeatureSet_EnforceNamingStyle2[FeatureSet_EnforceNamingStyle2.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",FeatureSet_EnforceNamingStyle2[FeatureSet_EnforceNamingStyle2.STYLE2024=1]="STYLE2024",FeatureSet_EnforceNamingStyle2[FeatureSet_EnforceNamingStyle2.STYLE_LEGACY=2]="STYLE_LEGACY"})(FeatureSet_EnforceNamingStyle||(FeatureSet_EnforceNamingStyle={}));var GeneratedCodeInfo_Annotation_Semantic;(function(GeneratedCodeInfo_Annotation_Semantic2){GeneratedCodeInfo_Annotation_Semantic2[GeneratedCodeInfo_Annotation_Semantic2.NONE=0]="NONE",GeneratedCodeInfo_Annotation_Semantic2[GeneratedCodeInfo_Annotation_Semantic2.SET=1]="SET",GeneratedCodeInfo_Annotation_Semantic2[GeneratedCodeInfo_Annotation_Semantic2.ALIAS=2]="ALIAS"})(GeneratedCodeInfo_Annotation_Semantic||(GeneratedCodeInfo_Annotation_Semantic={}));var Edition;(function(Edition2){Edition2[Edition2.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",Edition2[Edition2.EDITION_LEGACY=900]="EDITION_LEGACY",Edition2[Edition2.EDITION_PROTO2=998]="EDITION_PROTO2",Edition2[Edition2.EDITION_PROTO3=999]="EDITION_PROTO3",Edition2[Edition2.EDITION_2023=1e3]="EDITION_2023",Edition2[Edition2.EDITION_2024=1001]="EDITION_2024",Edition2[Edition2.EDITION_UNSTABLE=9999]="EDITION_UNSTABLE",Edition2[Edition2.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",Edition2[Edition2.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",Edition2[Edition2.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",Edition2[Edition2.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",Edition2[Edition2.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",Edition2[Edition2.EDITION_MAX=2147483647]="EDITION_MAX"})(Edition||(Edition={}));var SymbolVisibility;(function(SymbolVisibility2){SymbolVisibility2[SymbolVisibility2.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",SymbolVisibility2[SymbolVisibility2.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",SymbolVisibility2[SymbolVisibility2.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"})(SymbolVisibility||(SymbolVisibility={}));var readDefaults={readUnknownFields:!0};function makeReadOptions(options2){return options2?Object.assign(Object.assign({},readDefaults),options2):readDefaults}function fromBinary(schema,bytes,options2){let msg=reflect(schema,void 0,!1);return readMessage(msg,new BinaryReader(bytes),makeReadOptions(options2),!1,bytes.byteLength),msg.message}function readMessage(message,reader,options2,delimited,lengthOrDelimitedFieldNo){var _a2;let end=delimited?reader.len:reader.pos+lengthOrDelimitedFieldNo,fieldNo,wireType,unknownFields=(_a2=message.getUnknown())!==null&&_a2!==void 0?_a2:[];for(;reader.pos<end&&([fieldNo,wireType]=reader.tag(),!(delimited&&wireType==WireType.EndGroup));){let field=message.findNumber(fieldNo);if(!field){let data=reader.skip(wireType,fieldNo);options2.readUnknownFields&&unknownFields.push({no:fieldNo,wireType,data});continue}readField(message,reader,field,wireType,options2)}if(delimited&&(wireType!=WireType.EndGroup||fieldNo!==lengthOrDelimitedFieldNo))throw new Error("invalid end group tag");unknownFields.length>0&&message.setUnknown(unknownFields)}function readField(message,reader,field,wireType,options2){var _a2;switch(field.fieldKind){case"scalar":message.set(field,readScalar(reader,field.scalar));break;case"enum":let val=readScalar(reader,ScalarType.INT32);if(field.enum.open)message.set(field,val);else if(field.enum.values.some(v=>v.number===val))message.set(field,val);else if(options2.readUnknownFields){let bytes=[];varint32write(val,bytes);let unknownFields=(_a2=message.getUnknown())!==null&&_a2!==void 0?_a2:[];unknownFields.push({no:field.number,wireType,data:new Uint8Array(bytes)}),message.setUnknown(unknownFields)}break;case"message":message.set(field,readMessageField(reader,options2,field,message.get(field)));break;case"list":readListField(reader,wireType,message.get(field),options2);break;case"map":readMapEntry(reader,message.get(field),options2);break}}function readMapEntry(reader,map,options2){let field=map.field(),key,val,len=reader.uint32(),end=reader.pos+len;for(;reader.pos<end;){let[fieldNo]=reader.tag();switch(fieldNo){case 1:key=readScalar(reader,field.mapKey);break;case 2:switch(field.mapKind){case"scalar":val=readScalar(reader,field.scalar);break;case"enum":val=reader.int32();break;case"message":val=readMessageField(reader,options2,field);break}break}}if(key===void 0&&(key=scalarZeroValue(field.mapKey,!1)),val===void 0)switch(field.mapKind){case"scalar":val=scalarZeroValue(field.scalar,!1);break;case"enum":val=field.enum.values[0].number;break;case"message":val=reflect(field.message,void 0,!1);break}map.set(key,val)}function readListField(reader,wireType,list2,options2){var _a2;let field=list2.field();if(field.listKind==="message"){list2.add(readMessageField(reader,options2,field));return}let scalarType=(_a2=field.scalar)!==null&&_a2!==void 0?_a2:ScalarType.INT32;if(!(wireType==WireType.LengthDelimited&&scalarType!=ScalarType.STRING&&scalarType!=ScalarType.BYTES)){list2.add(readScalar(reader,scalarType));return}let e=reader.uint32()+reader.pos;for(;reader.pos<e;)list2.add(readScalar(reader,scalarType))}function readMessageField(reader,options2,field,mergeMessage){let delimited=field.delimitedEncoding,message=mergeMessage??reflect(field.message,void 0,!1);return readMessage(message,reader,options2,delimited,delimited?field.number:reader.uint32()),message}function readScalar(reader,type){switch(type){case ScalarType.STRING:return reader.string();case ScalarType.BOOL:return reader.bool();case ScalarType.DOUBLE:return reader.double();case ScalarType.FLOAT:return reader.float();case ScalarType.INT32:return reader.int32();case ScalarType.INT64:return reader.int64();case ScalarType.UINT64:return reader.uint64();case ScalarType.FIXED64:return reader.fixed64();case ScalarType.BYTES:return reader.bytes();case ScalarType.FIXED32:return reader.fixed32();case ScalarType.SFIXED32:return reader.sfixed32();case ScalarType.SFIXED64:return reader.sfixed64();case ScalarType.SINT64:return reader.sint64();case ScalarType.UINT32:return reader.uint32();case ScalarType.SINT32:return reader.sint32()}}function fileDesc(b64,imports){var _a2;let root=fromBinary(FileDescriptorProtoSchema,base64Decode(b64));return root.messageType.forEach(restoreJsonNames),root.dependency=(_a2=imports?.map(f=>f.proto.name))!==null&&_a2!==void 0?_a2:[],createFileRegistry(root,protoFileName=>imports?.find(f=>f.proto.name===protoFileName)).getFile(root.name)}var file_google_protobuf_timestamp=fileDesc("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),TimestampSchema=messageDesc(file_google_protobuf_timestamp,0);var file_google_protobuf_any=fileDesc("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),AnySchema=messageDesc(file_google_protobuf_any,0);var LEGACY_REQUIRED2=3,writeDefaults={writeUnknownFields:!0};function makeWriteOptions(options2){return options2?Object.assign(Object.assign({},writeDefaults),options2):writeDefaults}function toBinary(schema,message,options2){return writeFields(new BinaryWriter,makeWriteOptions(options2),reflect(schema,message)).finish()}function writeFields(writer,opts,msg){var _a2;for(let f of msg.sortedFields){if(!msg.isSet(f)){if(f.presence==LEGACY_REQUIRED2)throw new Error(`cannot encode ${f} to binary: required field not set`);continue}writeField(writer,opts,msg,f)}if(opts.writeUnknownFields)for(let{no,wireType,data}of(_a2=msg.getUnknown())!==null&&_a2!==void 0?_a2:[])writer.tag(no,wireType).raw(data);return writer}function writeField(writer,opts,msg,field){var _a2;switch(field.fieldKind){case"scalar":case"enum":writeScalar(writer,msg.desc.typeName,field.name,(_a2=field.scalar)!==null&&_a2!==void 0?_a2:ScalarType.INT32,field.number,msg.get(field));break;case"list":writeListField(writer,opts,field,msg.get(field));break;case"message":writeMessageField(writer,opts,field,msg.get(field));break;case"map":for(let[key,val]of msg.get(field))writeMapEntry(writer,opts,field,key,val);break}}function writeScalar(writer,msgName,fieldName,scalarType,fieldNo,value){writeScalarValue(writer.tag(fieldNo,writeTypeOfScalar(scalarType)),msgName,fieldName,scalarType,value)}function writeMessageField(writer,opts,field,message){field.delimitedEncoding?writeFields(writer.tag(field.number,WireType.StartGroup),opts,message).tag(field.number,WireType.EndGroup):writeFields(writer.tag(field.number,WireType.LengthDelimited).fork(),opts,message).join()}function writeListField(writer,opts,field,list2){var _a2;if(field.listKind=="message"){for(let item of list2)writeMessageField(writer,opts,field,item);return}let scalarType=(_a2=field.scalar)!==null&&_a2!==void 0?_a2:ScalarType.INT32;if(field.packed){if(!list2.size)return;writer.tag(field.number,WireType.LengthDelimited).fork();for(let item of list2)writeScalarValue(writer,field.parent.typeName,field.name,scalarType,item);writer.join();return}for(let item of list2)writeScalar(writer,field.parent.typeName,field.name,scalarType,field.number,item)}function writeMapEntry(writer,opts,field,key,value){var _a2;switch(writer.tag(field.number,WireType.LengthDelimited).fork(),writeScalar(writer,field.parent.typeName,field.name,field.mapKey,1,key),field.mapKind){case"scalar":case"enum":writeScalar(writer,field.parent.typeName,field.name,(_a2=field.scalar)!==null&&_a2!==void 0?_a2:ScalarType.INT32,2,value);break;case"message":writeFields(writer.tag(2,WireType.LengthDelimited).fork(),opts,value).join();break}writer.join()}function writeScalarValue(writer,msgName,fieldName,type,value){try{switch(type){case ScalarType.STRING:writer.string(value);break;case ScalarType.BOOL:writer.bool(value);break;case ScalarType.DOUBLE:writer.double(value);break;case ScalarType.FLOAT:writer.float(value);break;case ScalarType.INT32:writer.int32(value);break;case ScalarType.INT64:writer.int64(value);break;case ScalarType.UINT64:writer.uint64(value);break;case ScalarType.FIXED64:writer.fixed64(value);break;case ScalarType.BYTES:writer.bytes(value);break;case ScalarType.FIXED32:writer.fixed32(value);break;case ScalarType.SFIXED32:writer.sfixed32(value);break;case ScalarType.SFIXED64:writer.sfixed64(value);break;case ScalarType.SINT64:writer.sint64(value);break;case ScalarType.UINT32:writer.uint32(value);break;case ScalarType.SINT32:writer.sint32(value);break}}catch(e){throw e instanceof Error?new Error(`cannot encode field ${msgName}.${fieldName} to binary: ${e.message}`):e}}function writeTypeOfScalar(type){switch(type){case ScalarType.BYTES:case ScalarType.STRING:return WireType.LengthDelimited;case ScalarType.DOUBLE:case ScalarType.FIXED64:case ScalarType.SFIXED64:return WireType.Bit64;case ScalarType.FIXED32:case ScalarType.SFIXED32:case ScalarType.FLOAT:return WireType.Bit32;default:return WireType.Varint}}function anyPack(schema,message,into){let ret=!1;return into||(into=create(AnySchema),ret=!0),into.value=toBinary(schema,message),into.typeUrl=typeNameToUrl(message.$typeName),ret?into:void 0}function anyIs(any,descOrTypeName){if(any.typeUrl==="")return!1;let want=typeof descOrTypeName=="string"?descOrTypeName:descOrTypeName.typeName,got=typeUrlToName(any.typeUrl);return want===got}function anyUnpack(any,registryOrMessageDesc){if(any.typeUrl==="")return;let desc=registryOrMessageDesc.kind=="message"?registryOrMessageDesc:registryOrMessageDesc.getMessage(typeUrlToName(any.typeUrl));if(!(!desc||!anyIs(any,desc)))return fromBinary(desc,any.value)}function typeNameToUrl(name){return`type.googleapis.com/${name}`}function typeUrlToName(url){let slash=url.lastIndexOf("/"),name=slash>=0?url.substring(slash+1):url;if(!name.length)throw new Error(`invalid type url: ${url}`);return name}var file_google_protobuf_empty=fileDesc("Chtnb29nbGUvcHJvdG9idWYvZW1wdHkucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIHCgVFbXB0eUJ9ChNjb20uZ29vZ2xlLnByb3RvYnVmQgpFbXB0eVByb3RvUAFaLmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2VtcHR5cGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),EmptySchema=messageDesc(file_google_protobuf_empty,0);var file_google_protobuf_struct=fileDesc("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),StructSchema=messageDesc(file_google_protobuf_struct,0),ValueSchema=messageDesc(file_google_protobuf_struct,1),ListValueSchema=messageDesc(file_google_protobuf_struct,2),NullValue;(function(NullValue2){NullValue2[NullValue2.NULL_VALUE=0]="NULL_VALUE"})(NullValue||(NullValue={}));function getExtension(message,extension){assertExtendee(extension,message);let ufs=filterUnknownFields(message.$unknown,extension),[container,field,get2]=createExtensionContainer(extension);for(let uf of ufs)readField(container,new BinaryReader(uf.data),field,uf.wireType,{readUnknownFields:!0});return get2()}function setExtension(message,extension,value){var _a2;assertExtendee(extension,message);let ufs=((_a2=message.$unknown)!==null&&_a2!==void 0?_a2:[]).filter(uf=>uf.no!==extension.number),[container,field]=createExtensionContainer(extension,value),writer=new BinaryWriter;writeField(writer,{writeUnknownFields:!0},container,field);let reader=new BinaryReader(writer.finish());for(;reader.pos<reader.len;){let[no,wireType]=reader.tag(),data=reader.skip(wireType,no);ufs.push({no,wireType,data})}message.$unknown=ufs}function filterUnknownFields(unknownFields,extension){if(unknownFields===void 0)return[];if(extension.fieldKind==="enum"||extension.fieldKind==="scalar"){for(let i=unknownFields.length-1;i>=0;--i)if(unknownFields[i].no==extension.number)return[unknownFields[i]];return[]}return unknownFields.filter(uf=>uf.no===extension.number)}function createExtensionContainer(extension,value){let localName=extension.typeName,field=Object.assign(Object.assign({},extension),{kind:"field",parent:extension.extendee,localName}),desc=Object.assign(Object.assign({},extension.extendee),{fields:[field],members:[field],oneofs:[]}),container=create(desc,value!==void 0?{[localName]:value}:void 0);return[reflect(desc,container),field,()=>{let value2=container[localName];if(value2===void 0){let desc2=extension.message;return isWrapperDesc(desc2)?scalarZeroValue(desc2.fields[0].scalar,desc2.fields[0].longAsString):create(desc2)}return value2}]}function assertExtendee(extension,message){if(extension.extendee.typeName!=message.$typeName)throw new Error(`extension ${extension.typeName} can only be applied to message ${extension.extendee.typeName}`)}var LEGACY_REQUIRED3=3,IMPLICIT4=2,jsonWriteDefaults={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function makeWriteOptions2(options2){return options2?Object.assign(Object.assign({},jsonWriteDefaults),options2):jsonWriteDefaults}function toJson(schema,message,options2){return reflectToJson(reflect(schema,message),makeWriteOptions2(options2))}function toJsonString(schema,message,options2){var _a2;let jsonValue=toJson(schema,message,options2);return JSON.stringify(jsonValue,null,(_a2=options2?.prettySpaces)!==null&&_a2!==void 0?_a2:0)}function reflectToJson(msg,opts){var _a2;let wktJson=tryWktToJson(msg,opts);if(wktJson!==void 0)return wktJson;let json={};for(let f of msg.sortedFields){if(!msg.isSet(f)){if(f.presence==LEGACY_REQUIRED3)throw new Error(`cannot encode ${f} to JSON: required field not set`);if(!opts.alwaysEmitImplicit||f.presence!==IMPLICIT4)continue}let jsonValue=fieldToJson(f,msg.get(f),opts);jsonValue!==void 0&&(json[jsonName(f,opts)]=jsonValue)}if(opts.registry){let tagSeen=new Set;for(let{no}of(_a2=msg.getUnknown())!==null&&_a2!==void 0?_a2:[])if(!tagSeen.has(no)){tagSeen.add(no);let extension=opts.registry.getExtensionFor(msg.desc,no);if(!extension)continue;let value=getExtension(msg.message,extension),[container,field]=createExtensionContainer(extension,value),jsonValue=fieldToJson(field,container.get(field),opts);jsonValue!==void 0&&(json[extension.jsonName]=jsonValue)}}return json}function fieldToJson(f,val,opts){switch(f.fieldKind){case"scalar":return scalarToJson(f,val);case"message":return reflectToJson(val,opts);case"enum":return enumToJsonInternal(f.enum,val,opts.enumAsInteger);case"list":return listToJson(val,opts);case"map":return mapToJson(val,opts)}}function mapToJson(map,opts){let f=map.field(),jsonObj={};switch(f.mapKind){case"scalar":for(let[entryKey,entryValue]of map)jsonObj[entryKey]=scalarToJson(f,entryValue);break;case"message":for(let[entryKey,entryValue]of map)jsonObj[entryKey]=reflectToJson(entryValue,opts);break;case"enum":for(let[entryKey,entryValue]of map)jsonObj[entryKey]=enumToJsonInternal(f.enum,entryValue,opts.enumAsInteger);break}return opts.alwaysEmitImplicit||map.size>0?jsonObj:void 0}function listToJson(list2,opts){let f=list2.field(),jsonArr=[];switch(f.listKind){case"scalar":for(let item of list2)jsonArr.push(scalarToJson(f,item));break;case"enum":for(let item of list2)jsonArr.push(enumToJsonInternal(f.enum,item,opts.enumAsInteger));break;case"message":for(let item of list2)jsonArr.push(reflectToJson(item,opts));break}return opts.alwaysEmitImplicit||jsonArr.length>0?jsonArr:void 0}function enumToJsonInternal(desc,value,enumAsInteger){var _a2;if(typeof value!="number")throw new Error(`cannot encode ${desc} to JSON: expected number, got ${formatVal(value)}`);if(desc.typeName=="google.protobuf.NullValue")return null;if(enumAsInteger)return value;let val=desc.value[value];return(_a2=val?.name)!==null&&_a2!==void 0?_a2:value}function scalarToJson(field,value){var _a2,_b,_c,_d,_e,_f;switch(field.scalar){case ScalarType.INT32:case ScalarType.SFIXED32:case ScalarType.SINT32:case ScalarType.FIXED32:case ScalarType.UINT32:if(typeof value!="number")throw new Error(`cannot encode ${field} to JSON: ${(_a2=checkField(field,value))===null||_a2===void 0?void 0:_a2.message}`);return value;case ScalarType.FLOAT:case ScalarType.DOUBLE:if(typeof value!="number")throw new Error(`cannot encode ${field} to JSON: ${(_b=checkField(field,value))===null||_b===void 0?void 0:_b.message}`);return Number.isNaN(value)?"NaN":value===Number.POSITIVE_INFINITY?"Infinity":value===Number.NEGATIVE_INFINITY?"-Infinity":value;case ScalarType.STRING:if(typeof value!="string")throw new Error(`cannot encode ${field} to JSON: ${(_c=checkField(field,value))===null||_c===void 0?void 0:_c.message}`);return value;case ScalarType.BOOL:if(typeof value!="boolean")throw new Error(`cannot encode ${field} to JSON: ${(_d=checkField(field,value))===null||_d===void 0?void 0:_d.message}`);return value;case ScalarType.UINT64:case ScalarType.FIXED64:case ScalarType.INT64:case ScalarType.SFIXED64:case ScalarType.SINT64:if(typeof value!="bigint"&&typeof value!="string")throw new Error(`cannot encode ${field} to JSON: ${(_e=checkField(field,value))===null||_e===void 0?void 0:_e.message}`);return value.toString();case ScalarType.BYTES:if(value instanceof Uint8Array)return base64Encode(value);throw new Error(`cannot encode ${field} to JSON: ${(_f=checkField(field,value))===null||_f===void 0?void 0:_f.message}`)}}function jsonName(f,opts){return opts.useProtoFieldName?f.name:f.jsonName}function tryWktToJson(msg,opts){if(msg.desc.typeName.startsWith("google.protobuf."))switch(msg.desc.typeName){case"google.protobuf.Any":return anyToJson(msg.message,opts);case"google.protobuf.Timestamp":return timestampToJson(msg.message);case"google.protobuf.Duration":return durationToJson(msg.message);case"google.protobuf.FieldMask":return fieldMaskToJson(msg.message);case"google.protobuf.Struct":return structToJson(msg.message);case"google.protobuf.Value":return valueToJson(msg.message);case"google.protobuf.ListValue":return listValueToJson(msg.message);default:if(isWrapperDesc(msg.desc)){let valueField=msg.desc.fields[0];return scalarToJson(valueField,msg.get(valueField))}return}}function anyToJson(val,opts){if(val.typeUrl==="")return{};let{registry}=opts,message,desc;if(registry&&(message=anyUnpack(val,registry),message&&(desc=registry.getMessage(message.$typeName))),!desc||!message)throw new Error(`cannot encode message ${val.$typeName} to JSON: "${val.typeUrl}" is not in the type registry`);let json=reflectToJson(reflect(desc,message),opts);return(desc.typeName.startsWith("google.protobuf.")||json===null||Array.isArray(json)||typeof json!="object")&&(json={value:json}),json["@type"]=val.typeUrl,json}function durationToJson(val){let seconds=Number(val.seconds),nanos=val.nanos;if(seconds>315576e6||seconds<-315576e6)throw new Error(`cannot encode message ${val.$typeName} to JSON: value out of range`);if(seconds>0&&nanos<0||seconds<0&&nanos>0)throw new Error(`cannot encode message ${val.$typeName} to JSON: nanos sign must match seconds sign`);let text2=val.seconds.toString();if(nanos!==0){let nanosStr=Math.abs(nanos).toString();nanosStr="0".repeat(9-nanosStr.length)+nanosStr,nanosStr.substring(3)==="000000"?nanosStr=nanosStr.substring(0,3):nanosStr.substring(6)==="000"&&(nanosStr=nanosStr.substring(0,6)),text2+="."+nanosStr,nanos<0&&seconds==0&&(text2="-"+text2)}return text2+"s"}function fieldMaskToJson(val){return val.paths.map(p=>{if(protoSnakeCase(protoCamelCase(p))!==p)throw new Error(`cannot encode message ${val.$typeName} to JSON: lowerCamelCase of path name "${p}" is irreversible`);return protoCamelCase(p)}).join(",")}function structToJson(val){let json={};for(let[k,v]of Object.entries(val.fields))json[k]=valueToJson(v);return json}function valueToJson(val){switch(val.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(val.kind.value))throw new Error(`${val.$typeName} cannot be NaN or Infinity`);return val.kind.value;case"boolValue":return val.kind.value;case"stringValue":return val.kind.value;case"structValue":return structToJson(val.kind.value);case"listValue":return listValueToJson(val.kind.value);default:throw new Error(`${val.$typeName} must have a value`)}}function listValueToJson(val){return val.values.map(valueToJson)}function timestampToJson(val){let ms=Number(val.seconds)*1e3;if(ms<Date.parse("0001-01-01T00:00:00Z")||ms>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${val.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(val.nanos<0)throw new Error(`cannot encode message ${val.$typeName} to JSON: nanos must not be negative`);if(val.nanos>999999999)throw new Error(`cannot encode message ${val.$typeName} to JSON: nanos must not be greater than 99999999`);let z="Z";if(val.nanos>0){let nanosStr=(val.nanos+1e9).toString().substring(1);nanosStr.substring(3)==="000000"?z="."+nanosStr.substring(0,3)+"Z":nanosStr.substring(6)==="000"?z="."+nanosStr.substring(0,6)+"Z":z="."+nanosStr+"Z"}return new Date(ms).toISOString().replace(".000Z",z)}var jsonReadDefaults={ignoreUnknownFields:!1};function makeReadOptions2(options2){return options2?Object.assign(Object.assign({},jsonReadDefaults),options2):jsonReadDefaults}function fromJsonString(schema,json,options2){return fromJson(schema,parseJsonString(json,schema.typeName),options2)}function fromJson(schema,json,options2){let msg=reflect(schema);try{readMessage2(msg,json,makeReadOptions2(options2))}catch(e){throw isFieldError(e)?new Error(`cannot decode ${e.field()} from JSON: ${e.message}`,{cause:e}):e}return msg.message}var messageJsonFields=new WeakMap;function getJsonField(desc,jsonKey){var _a2;if(!messageJsonFields.has(desc)){let jsonNames=new Map;for(let field of desc.fields)jsonNames.set(field.name,field).set(field.jsonName,field);messageJsonFields.set(desc,jsonNames)}return(_a2=messageJsonFields.get(desc))===null||_a2===void 0?void 0:_a2.get(jsonKey)}function readMessage2(msg,json,opts){var _a2;if(tryWktFromJson(msg,json,opts))return;if(json==null||Array.isArray(json)||typeof json!="object")throw new Error(`cannot decode ${msg.desc} from JSON: ${formatVal(json)}`);let oneofSeen=new Map;for(let[jsonKey,jsonValue]of Object.entries(json)){let field=getJsonField(msg.desc,jsonKey);if(field){if(field.oneof){if(jsonValue===null&&field.fieldKind=="scalar")continue;let seen=oneofSeen.get(field.oneof);if(seen!==void 0)throw new FieldError(field.oneof,`oneof set multiple times by ${seen.name} and ${field.name}`);oneofSeen.set(field.oneof,field)}readField2(msg,field,jsonValue,opts)}else{let extension;if(jsonKey.startsWith("[")&&jsonKey.endsWith("]")&&(extension=(_a2=opts.registry)===null||_a2===void 0?void 0:_a2.getExtension(jsonKey.substring(1,jsonKey.length-1)))&&extension.extendee.typeName===msg.desc.typeName){let[container,field2,get2]=createExtensionContainer(extension);readField2(container,field2,jsonValue,opts),setExtension(msg.message,extension,get2())}if(!extension&&!opts.ignoreUnknownFields)throw new Error(`cannot decode ${msg.desc} from JSON: key "${jsonKey}" is unknown`)}}}function readField2(msg,field,json,opts){switch(field.fieldKind){case"scalar":readScalarField(msg,field,json);break;case"enum":readEnumField(msg,field,json,opts);break;case"message":readMessageField2(msg,field,json,opts);break;case"list":readListField2(msg.get(field),json,opts);break;case"map":readMapField(msg.get(field),json,opts);break}}function readListOrMapItem(field,json,opts){if(field.scalar&&json!==null)return scalarFromJson(field,json);if(field.message&&!isResetSentinelNullValue(field,json)){let msgValue=reflect(field.message);return readMessage2(msgValue,json,opts),msgValue}if(field.enum&&!isResetSentinelNullValue(field,json))return readEnum(field.enum,json,opts.ignoreUnknownFields);throw new FieldError(field,`${field.fieldKind==="list"?"list item":"map value"} must not be null`)}function readMapField(map,json,opts){if(json===null)return;let field=map.field();if(typeof json!="object"||Array.isArray(json))throw new FieldError(field,"expected object, got "+formatVal(json));for(let[jsonMapKey,jsonMapValue]of Object.entries(json)){let key=mapKeyFromJson(field.mapKey,jsonMapKey),value=readListOrMapItem(field,jsonMapValue,opts);value!==tokenIgnoredUnknownEnum&&map.set(key,value)}}function readListField2(list2,json,opts){if(json===null)return;let field=list2.field();if(!Array.isArray(json))throw new FieldError(field,"expected Array, got "+formatVal(json));for(let jsonItem of json){let value=readListOrMapItem(field,jsonItem,opts);value!==tokenIgnoredUnknownEnum&&list2.add(value)}}function readMessageField2(msg,field,json,opts){if(isResetSentinelNullValue(field,json)){msg.clear(field);return}let msgValue=msg.isSet(field)?msg.get(field):reflect(field.message);readMessage2(msgValue,json,opts),msg.set(field,msgValue)}function readEnumField(msg,field,json,opts){if(isResetSentinelNullValue(field,json)){msg.clear(field);return}let enumValue=readEnum(field.enum,json,opts.ignoreUnknownFields);enumValue!==tokenIgnoredUnknownEnum&&msg.set(field,enumValue)}function readScalarField(msg,field,json){json===null?msg.clear(field):msg.set(field,scalarFromJson(field,json))}function isResetSentinelNullValue(field,json){var _a2,_b;return json===null&&((_a2=field.message)===null||_a2===void 0?void 0:_a2.typeName)!="google.protobuf.Value"&&((_b=field.enum)===null||_b===void 0?void 0:_b.typeName)!="google.protobuf.NullValue"}var tokenIgnoredUnknownEnum=Symbol();function readEnum(desc,json,ignoreUnknownFields){if(json===null)return desc.values[0].number;switch(typeof json){case"number":if(Number.isInteger(json))return json;break;case"string":let value=desc.values.find(ev=>ev.name===json);if(value!==void 0)return value.number;if(ignoreUnknownFields)return tokenIgnoredUnknownEnum;break}throw new Error(`cannot decode ${desc} from JSON: ${formatVal(json)}`)}function scalarFromJson(field,json){switch(field.scalar){case ScalarType.DOUBLE:case ScalarType.FLOAT:if(json==="NaN")return NaN;if(json==="Infinity")return Number.POSITIVE_INFINITY;if(json==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof json=="number"){if(Number.isNaN(json))throw new FieldError(field,"unexpected NaN number");if(!Number.isFinite(json))throw new FieldError(field,"unexpected infinite number");break}if(typeof json=="string"){if(json===""||json.trim().length!==json.length)break;let float=Number(json);if(!Number.isFinite(float))break;return float}break;case ScalarType.INT32:case ScalarType.FIXED32:case ScalarType.SFIXED32:case ScalarType.SINT32:case ScalarType.UINT32:return int32FromJson(json);case ScalarType.BYTES:if(typeof json=="string"){if(json==="")return new Uint8Array(0);try{return base64Decode(json)}catch(e){let message=e instanceof Error?e.message:String(e);throw new FieldError(field,message)}}break}return json}function mapKeyFromJson(type,jsonString){switch(type){case ScalarType.BOOL:switch(jsonString){case"true":return!0;case"false":return!1}return jsonString;case ScalarType.INT32:case ScalarType.FIXED32:case ScalarType.UINT32:case ScalarType.SFIXED32:case ScalarType.SINT32:return int32FromJson(jsonString);default:return jsonString}}function int32FromJson(json){if(typeof json=="string"){if(json===""||json.trim().length!==json.length)return json;let num=Number(json);return Number.isNaN(num)?json:num}return json}function parseJsonString(jsonString,typeName){try{return JSON.parse(jsonString)}catch(e){let message=e instanceof Error?e.message:String(e);throw new Error(`cannot decode message ${typeName} from JSON: ${message}`,{cause:e})}}function tryWktFromJson(msg,jsonValue,opts){if(!msg.desc.typeName.startsWith("google.protobuf."))return!1;switch(msg.desc.typeName){case"google.protobuf.Any":return anyFromJson(msg.message,jsonValue,opts),!0;case"google.protobuf.Timestamp":return timestampFromJson(msg.message,jsonValue),!0;case"google.protobuf.Duration":return durationFromJson(msg.message,jsonValue),!0;case"google.protobuf.FieldMask":return fieldMaskFromJson(msg.message,jsonValue),!0;case"google.protobuf.Struct":return structFromJson(msg.message,jsonValue),!0;case"google.protobuf.Value":return valueFromJson(msg.message,jsonValue),!0;case"google.protobuf.ListValue":return listValueFromJson(msg.message,jsonValue),!0;default:if(isWrapperDesc(msg.desc)){let valueField=msg.desc.fields[0];return jsonValue===null?msg.clear(valueField):msg.set(valueField,scalarFromJson(valueField,jsonValue)),!0}return!1}}function anyFromJson(any,json,opts){var _a2;if(json===null||Array.isArray(json)||typeof json!="object")throw new Error(`cannot decode message ${any.$typeName} from JSON: expected object but got ${formatVal(json)}`);if(Object.keys(json).length==0)return;let typeUrl=json["@type"];if(typeof typeUrl!="string"||typeUrl=="")throw new Error(`cannot decode message ${any.$typeName} from JSON: "@type" is empty`);let typeName=typeUrl.includes("/")?typeUrl.substring(typeUrl.lastIndexOf("/")+1):typeUrl;if(!typeName.length)throw new Error(`cannot decode message ${any.$typeName} from JSON: "@type" is invalid`);let desc=(_a2=opts.registry)===null||_a2===void 0?void 0:_a2.getMessage(typeName);if(!desc)throw new Error(`cannot decode message ${any.$typeName} from JSON: ${typeUrl} is not in the type registry`);let msg=reflect(desc);if(typeName.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(json,"value")){let value=json.value;readMessage2(msg,value,opts)}else{let copy=Object.assign({},json);delete copy["@type"],readMessage2(msg,copy,opts)}anyPack(msg.desc,msg.message,any)}function timestampFromJson(timestamp,json){if(typeof json!="string")throw new Error(`cannot decode message ${timestamp.$typeName} from JSON: ${formatVal(json)}`);let matches=json.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!matches)throw new Error(`cannot decode message ${timestamp.$typeName} from JSON: invalid RFC 3339 string`);let ms=Date.parse(matches[1]+"-"+matches[2]+"-"+matches[3]+"T"+matches[4]+":"+matches[5]+":"+matches[6]+(matches[8]?matches[8]:"Z"));if(Number.isNaN(ms))throw new Error(`cannot decode message ${timestamp.$typeName} from JSON: invalid RFC 3339 string`);if(ms<Date.parse("0001-01-01T00:00:00Z")||ms>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${timestamp.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);timestamp.seconds=protoInt64.parse(ms/1e3),timestamp.nanos=0,matches[7]&&(timestamp.nanos=parseInt("1"+matches[7]+"0".repeat(9-matches[7].length))-1e9)}function durationFromJson(duration,json){if(typeof json!="string")throw new Error(`cannot decode message ${duration.$typeName} from JSON: ${formatVal(json)}`);let match2=json.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(match2===null)throw new Error(`cannot decode message ${duration.$typeName} from JSON: ${formatVal(json)}`);let longSeconds=Number(match2[1]);if(longSeconds>315576e6||longSeconds<-315576e6)throw new Error(`cannot decode message ${duration.$typeName} from JSON: ${formatVal(json)}`);if(duration.seconds=protoInt64.parse(longSeconds),typeof match2[2]!="string")return;let nanosStr=match2[2]+"0".repeat(9-match2[2].length);duration.nanos=parseInt(nanosStr),(longSeconds<0||Object.is(longSeconds,-0))&&(duration.nanos=-duration.nanos)}function fieldMaskFromJson(fieldMask,json){if(typeof json!="string")throw new Error(`cannot decode message ${fieldMask.$typeName} from JSON: ${formatVal(json)}`);json!==""&&(fieldMask.paths=json.split(",").map(path5=>{if(path5.includes("_"))throw new Error(`cannot decode message ${fieldMask.$typeName} from JSON: path names must be lowerCamelCase`);return protoSnakeCase(path5)}))}function structFromJson(struct,json){if(typeof json!="object"||json==null||Array.isArray(json))throw new Error(`cannot decode message ${struct.$typeName} from JSON ${formatVal(json)}`);for(let[k,v]of Object.entries(json)){let parsedV=create(ValueSchema);valueFromJson(parsedV,v),struct.fields[k]=parsedV}}function valueFromJson(value,json){switch(typeof json){case"number":value.kind={case:"numberValue",value:json};break;case"string":value.kind={case:"stringValue",value:json};break;case"boolean":value.kind={case:"boolValue",value:json};break;case"object":if(json===null)value.kind={case:"nullValue",value:NullValue.NULL_VALUE};else if(Array.isArray(json)){let listValue=create(ListValueSchema);listValueFromJson(listValue,json),value.kind={case:"listValue",value:listValue}}else{let struct=create(StructSchema);structFromJson(struct,json),value.kind={case:"structValue",value:struct}}break;default:throw new Error(`cannot decode message ${value.$typeName} from JSON ${formatVal(json)}`)}return value}function listValueFromJson(listValue,json){if(!Array.isArray(json))throw new Error(`cannot decode message ${listValue.$typeName} from JSON ${formatVal(json)}`);for(let e of json){let value=create(ValueSchema);valueFromJson(value,e),listValue.values.push(value)}}function codeToString(value){let name=Code[value];return typeof name!="string"?value.toString():name[0].toLowerCase()+name.substring(1).replace(/[A-Z]/g,c=>"_"+c.toLowerCase())}var stringToCode;function codeFromString(value){if(!stringToCode){stringToCode={};for(let value2 of Object.values(Code))typeof value2!="string"&&(stringToCode[codeToString(value2)]=value2)}return stringToCode[value]}var ConnectError=class _ConnectError extends Error{constructor(message,code2=Code.Unknown,metadata,outgoingDetails,cause){super(createMessage(message,code2)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=message,this.code=code2,this.metadata=new Headers(metadata??{}),this.details=outgoingDetails??[],this.cause=cause}static from(reason,code2=Code.Unknown){return reason instanceof _ConnectError?reason:reason instanceof Error?reason.name=="AbortError"||reason.name=="TimeoutError"?new _ConnectError(reason.message,Code.Canceled):new _ConnectError(reason.message,code2,void 0,void 0,reason):new _ConnectError(String(reason),code2,void 0,void 0,reason)}static[Symbol.hasInstance](v){return v instanceof Error?Object.getPrototypeOf(v)===_ConnectError.prototype?!0:v.name==="ConnectError"&&"code"in v&&typeof v.code=="number"&&"metadata"in v&&"details"in v&&Array.isArray(v.details)&&"rawMessage"in v&&typeof v.rawMessage=="string"&&"cause"in v:!1}findDetails(typeOrRegistry){let registry=typeOrRegistry.kind==="message"?{getMessage:typeName=>typeName===typeOrRegistry.typeName?typeOrRegistry:void 0}:typeOrRegistry,details=[];for(let data of this.details){if("desc"in data){registry.getMessage(data.desc.typeName)&&details.push(create(data.desc,data.value));continue}let desc=registry.getMessage(data.type);if(desc)try{details.push(fromBinary(desc,data.value))}catch{}}return details}};function createMessage(message,code2){return message.length?`[${codeToString(code2)}] ${message}`:`[${codeToString(code2)}]`}function encodeBinaryHeader(value,desc){let bytes;return desc!==void 0?bytes=toBinary(desc,value):typeof value=="string"?bytes=new TextEncoder().encode(value):bytes=value instanceof Uint8Array?value:new Uint8Array(value),base64Encode(bytes,"std_raw")}function appendHeaders(...headers){let h=new Headers;for(let e of headers)e.forEach((value,key)=>{h.append(key,value)});return h}var compressedFlag=1;function compressionNegotiate(available,requested,accepted,headerNameAcceptEncoding){let request2=null,response=null,error;if(requested!==null&&requested!=="identity"){let found=available.find(c=>c.name===requested);if(found)request2=found;else{let acceptable=available.map(c=>c.name).join(",");error=new ConnectError(`unknown compression "${requested}": supported encodings are ${acceptable}`,Code.Unimplemented,{[headerNameAcceptEncoding]:acceptable})}}if(accepted===null||accepted==="")response=request2;else{let acceptNames=accepted.split(",").map(n=>n.trim());for(let name of acceptNames){let found=available.find(c=>c.name===name);if(found){response=found;break}}}return{request:request2,response,error}}var maxReadMaxBytes=4294967295,maxWriteMaxBytes=maxReadMaxBytes,defaultCompressMinBytes=1024;function validateReadWriteMaxBytes(readMaxBytes,writeMaxBytes,compressMinBytes){if(writeMaxBytes??(writeMaxBytes=maxWriteMaxBytes),readMaxBytes??(readMaxBytes=maxReadMaxBytes),compressMinBytes??(compressMinBytes=defaultCompressMinBytes),writeMaxBytes<1||writeMaxBytes>maxWriteMaxBytes)throw new ConnectError(`writeMaxBytes ${writeMaxBytes} must be >= 1 and <= ${maxWriteMaxBytes}`,Code.Internal);if(readMaxBytes<1||readMaxBytes>maxReadMaxBytes)throw new ConnectError(`readMaxBytes ${readMaxBytes} must be >= 1 and <= ${maxReadMaxBytes}`,Code.Internal);return{readMaxBytes,writeMaxBytes,compressMinBytes}}function assertWriteMaxBytes(writeMaxBytes,bytesWritten){if(bytesWritten>writeMaxBytes)throw new ConnectError(`message size ${bytesWritten} is larger than configured writeMaxBytes ${writeMaxBytes}`,Code.ResourceExhausted)}function assertReadMaxBytes(readMaxBytes,bytesRead,totalSizeKnown=!1){if(bytesRead>readMaxBytes){let message=`message size is larger than configured readMaxBytes ${readMaxBytes}`;throw totalSizeKnown&&(message=`message size ${bytesRead} is larger than configured readMaxBytes ${readMaxBytes}`),new ConnectError(message,Code.ResourceExhausted)}}function createEnvelopeDecoder(readMaxBytes){return new EnvelopeDecoderImpl(readMaxBytes)}var EnvelopeDecoderImpl=class{constructor(readMaxBytes){this.readMaxBytes=readMaxBytes,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((a,b)=>a+b.byteLength,0)}decode(chunk){this.buf.push(chunk);let envs=[];for(;;){let env2=this.pop();if(!env2)break;envs.push(env2)}return envs}pop(){if(!(!this.env&&(this.env=this.head(),!this.env))&&this.cons(this.env.data)){let env2=this.env;return this.env=void 0,env2}}head(){if(!this.cons(this.header))return;let flags=this.headerView.getUint8(0),length=this.headerView.getUint32(1);return assertReadMaxBytes(this.readMaxBytes,length,!0),{flags,data:new Uint8Array(length)}}cons(target){let wantLength=target.byteLength;if(this.byteLength<wantLength)return!1;let offset=0;for(;offset<wantLength;){let chunk=this.buf.shift();chunk.byteLength>wantLength-offset?(target.set(chunk.subarray(0,wantLength-offset),offset),this.buf.unshift(chunk.subarray(wantLength-offset)),offset+=wantLength-offset):(target.set(chunk,offset),offset+=chunk.byteLength)}return!0}};async function envelopeCompress(envelope,compression,compressMinBytes){let{flags,data}=envelope;if((flags&compressedFlag)===compressedFlag)throw new ConnectError("invalid envelope, already compressed",Code.Internal);return compression&&data.byteLength>=compressMinBytes&&(data=await compression.compress(data),flags=flags|compressedFlag),{data,flags}}async function envelopeDecompress(envelope,compression,readMaxBytes){let{flags,data}=envelope;if((flags&compressedFlag)===compressedFlag){if(!compression)throw new ConnectError("received compressed envelope, but do not know how to decompress",Code.Internal);data=await compression.decompress(data,readMaxBytes),flags=flags^compressedFlag}return{data,flags}}function encodeEnvelope(flags,data){let bytes=new Uint8Array(data.length+5);bytes.set(data,5);let v=new DataView(bytes.buffer,bytes.byteOffset,bytes.byteLength);return v.setUint8(0,flags),v.setUint32(1,data.length),bytes}var __asyncValues=function(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m=o[Symbol.asyncIterator],i;return m?m.call(o):(o=typeof __values=="function"?__values(o):o[Symbol.iterator](),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise(function(resolve,reject){v=o[n](v),settle(resolve,reject,v.done,v.value)})}}function settle(resolve,reject,d,v){Promise.resolve(v).then(function(v2){resolve({value:v2,done:d})},reject)}},__await=function(v){return this instanceof __await?(this.v=v,this):new __await(v)},__asyncGenerator=function(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=generator.apply(thisArg,_arguments||[]),i,q=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),verb("next"),verb("throw"),verb("return",awaitReturn),i[Symbol.asyncIterator]=function(){return this},i;function awaitReturn(f){return function(v){return Promise.resolve(v).then(f,reject)}}function verb(n,f){g[n]&&(i[n]=function(v){return new Promise(function(a,b){q.push([n,v,a,b])>1||resume(n,v)})},f&&(i[n]=f(i[n])))}function resume(n,v){try{step(g[n](v))}catch(e){settle(q[0][3],e)}}function step(r){r.value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){f(v),q.shift(),q.length&&resume(q[0][0],q[0][1])}},__asyncDelegator=function(o){var i,p;return i={},verb("next"),verb("throw",function(e){throw e}),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await(o[n](v)),done:!1}:f?f(v):v}:f}};function pipe(source,...rest){return __asyncGenerator(this,arguments,function*(){var _a2;let[transforms,opt]=pickTransforms(rest),abortable,sourceIt=source[Symbol.asyncIterator](),iterable={[Symbol.asyncIterator](){return sourceIt}};opt?.propagateDownStreamError===!0&&(iterable=abortable=makeIterableAbortable(iterable));for(let t of transforms)iterable=t(iterable);let it=iterable[Symbol.asyncIterator]();try{for(;;){let r=yield __await(it.next());if(r.done===!0)break;if(!abortable){yield yield __await(r.value);continue}try{yield yield __await(r.value)}catch(e){throw yield __await(abortable.abort(e)),e}}}finally{opt?.propagateDownStreamError===!0&&((_a2=sourceIt.return)===null||_a2===void 0||_a2.call(sourceIt).catch(()=>{}))}})}function pickTransforms(rest){let opt;return typeof rest[rest.length-1]!="function"&&(opt=rest.pop()),[rest,opt]}function transformCatchFinally(catchFinally){return function(iterable){return __asyncGenerator(this,arguments,function*(){let err,it=iterable[Symbol.asyncIterator]();for(;;){let r;try{r=yield __await(it.next())}catch(e){err=e;break}if(r.done===!0)break;yield yield __await(r.value)}let caught=yield __await(catchFinally(err));caught!==void 0&&(yield yield __await(caught))})}}function transformPrepend(provide){return function(iterable){return __asyncGenerator(this,arguments,function*(){var _a2,e_3,_b,_c;let prepend=yield __await(provide());prepend!==void 0&&(yield yield __await(prepend));try{for(var _d=!0,iterable_3=__asyncValues(iterable),iterable_3_1;iterable_3_1=yield __await(iterable_3.next()),_a2=iterable_3_1.done,!_a2;_d=!0)_c=iterable_3_1.value,_d=!1,yield yield __await(_c)}catch(e_3_1){e_3={error:e_3_1}}finally{try{!_d&&!_a2&&(_b=iterable_3.return)&&(yield __await(_b.call(iterable_3)))}finally{if(e_3)throw e_3.error}}})}}function transformSerializeEnvelope(serialization,endStreamFlag2,endSerialization){return endStreamFlag2===void 0||endSerialization===void 0?function(iterable){return __asyncGenerator(this,arguments,function*(){var _a2,e_4,_b,_c;try{for(var _d=!0,iterable_4=__asyncValues(iterable),iterable_4_1;iterable_4_1=yield __await(iterable_4.next()),_a2=iterable_4_1.done,!_a2;_d=!0){_c=iterable_4_1.value,_d=!1;let chunk=_c,data=serialization.serialize(chunk);yield yield __await({flags:0,data})}}catch(e_4_1){e_4={error:e_4_1}}finally{try{!_d&&!_a2&&(_b=iterable_4.return)&&(yield __await(_b.call(iterable_4)))}finally{if(e_4)throw e_4.error}}})}:function(iterable){return __asyncGenerator(this,arguments,function*(){var _a2,e_5,_b,_c;try{for(var _d=!0,iterable_5=__asyncValues(iterable),iterable_5_1;iterable_5_1=yield __await(iterable_5.next()),_a2=iterable_5_1.done,!_a2;_d=!0){_c=iterable_5_1.value,_d=!1;let chunk=_c,data,flags=0;chunk.end?(flags=flags|endStreamFlag2,data=endSerialization.serialize(chunk.value)):data=serialization.serialize(chunk.value),yield yield __await({flags,data})}}catch(e_5_1){e_5={error:e_5_1}}finally{try{!_d&&!_a2&&(_b=iterable_5.return)&&(yield __await(_b.call(iterable_5)))}finally{if(e_5)throw e_5.error}}})}}function transformParseEnvelope(serialization,endStreamFlag2,endSerialization){return endSerialization&&endStreamFlag2!==void 0?function(iterable){return __asyncGenerator(this,arguments,function*(){var _a2,e_6,_b,_c;try{for(var _d=!0,iterable_6=__asyncValues(iterable),iterable_6_1;iterable_6_1=yield __await(iterable_6.next()),_a2=iterable_6_1.done,!_a2;_d=!0){_c=iterable_6_1.value,_d=!1;let{flags,data}=_c;(flags&endStreamFlag2)===endStreamFlag2?yield yield __await({value:endSerialization.parse(data),end:!0}):yield yield __await({value:serialization.parse(data),end:!1})}}catch(e_6_1){e_6={error:e_6_1}}finally{try{!_d&&!_a2&&(_b=iterable_6.return)&&(yield __await(_b.call(iterable_6)))}finally{if(e_6)throw e_6.error}}})}:function(iterable){return __asyncGenerator(this,arguments,function*(){var _a2,e_7,_b,_c;try{for(var _d=!0,iterable_7=__asyncValues(iterable),iterable_7_1;iterable_7_1=yield __await(iterable_7.next()),_a2=iterable_7_1.done,!_a2;_d=!0){_c=iterable_7_1.value,_d=!1;let{flags,data}=_c;if(endStreamFlag2!==void 0&&(flags&endStreamFlag2)===endStreamFlag2){if(endSerialization===null)throw new ConnectError("unexpected end flag",Code.InvalidArgument);continue}yield yield __await(serialization.parse(data))}}catch(e_7_1){e_7={error:e_7_1}}finally{try{!_d&&!_a2&&(_b=iterable_7.return)&&(yield __await(_b.call(iterable_7)))}finally{if(e_7)throw e_7.error}}})}}function transformCompressEnvelope(compression,compressMinBytes){return function(iterable){return __asyncGenerator(this,arguments,function*(){var _a2,e_8,_b,_c;try{for(var _d=!0,iterable_8=__asyncValues(iterable),iterable_8_1;iterable_8_1=yield __await(iterable_8.next()),_a2=iterable_8_1.done,!_a2;_d=!0)_c=iterable_8_1.value,_d=!1,yield yield __await(yield __await(envelopeCompress(_c,compression,compressMinBytes)))}catch(e_8_1){e_8={error:e_8_1}}finally{try{!_d&&!_a2&&(_b=iterable_8.return)&&(yield __await(_b.call(iterable_8)))}finally{if(e_8)throw e_8.error}}})}}function transformDecompressEnvelope(compression,readMaxBytes){return function(iterable){return __asyncGenerator(this,arguments,function*(){var _a2,e_9,_b,_c;try{for(var _d=!0,iterable_9=__asyncValues(iterable),iterable_9_1;iterable_9_1=yield __await(iterable_9.next()),_a2=iterable_9_1.done,!_a2;_d=!0)_c=iterable_9_1.value,_d=!1,yield yield __await(yield __await(envelopeDecompress(_c,compression,readMaxBytes)))}catch(e_9_1){e_9={error:e_9_1}}finally{try{!_d&&!_a2&&(_b=iterable_9.return)&&(yield __await(_b.call(iterable_9)))}finally{if(e_9)throw e_9.error}}})}}function transformJoinEnvelopes(){return function(iterable){return __asyncGenerator(this,arguments,function*(){var _a2,e_10,_b,_c;try{for(var _d=!0,iterable_10=__asyncValues(iterable),iterable_10_1;iterable_10_1=yield __await(iterable_10.next()),_a2=iterable_10_1.done,!_a2;_d=!0){_c=iterable_10_1.value,_d=!1;let{flags,data}=_c;yield yield __await(encodeEnvelope(flags,data))}}catch(e_10_1){e_10={error:e_10_1}}finally{try{!_d&&!_a2&&(_b=iterable_10.return)&&(yield __await(_b.call(iterable_10)))}finally{if(e_10)throw e_10.error}}})}}function transformSplitEnvelope(readMaxBytes){return function(iterable){return __asyncGenerator(this,arguments,function*(){var _a2,e_11,_b,_c;let buffer=createEnvelopeDecoder(readMaxBytes);try{for(var _d=!0,iterable_11=__asyncValues(iterable),iterable_11_1;iterable_11_1=yield __await(iterable_11.next()),_a2=iterable_11_1.done,!_a2;_d=!0){_c=iterable_11_1.value,_d=!1;let chunk=_c;for(let env2 of buffer.decode(chunk))yield yield __await(env2)}}catch(e_11_1){e_11={error:e_11_1}}finally{try{!_d&&!_a2&&(_b=iterable_11.return)&&(yield __await(_b.call(iterable_11)))}finally{if(e_11)throw e_11.error}}if(buffer.byteLength>0)throw new ConnectError("protocol error: incomplete envelope",Code.InvalidArgument)})}}async function readAllBytes(iterable,readMaxBytes,lengthHint){var _a2,e_12,_b,_c,_d,e_13,_e,_f;let[ok,hint]=parseLengthHint(lengthHint);if(ok){hint>readMaxBytes&&assertReadMaxBytes(readMaxBytes,hint,!0);let buffer=new Uint8Array(hint),offset2=0;try{for(var _g=!0,iterable_12=__asyncValues(iterable),iterable_12_1;iterable_12_1=await iterable_12.next(),_a2=iterable_12_1.done,!_a2;_g=!0){_c=iterable_12_1.value,_g=!1;let chunk=_c;if(offset2+chunk.byteLength>hint)throw new ConnectError(`protocol error: promised ${hint} bytes, received ${offset2+chunk.byteLength}`,Code.InvalidArgument);buffer.set(chunk,offset2),offset2+=chunk.byteLength}}catch(e_12_1){e_12={error:e_12_1}}finally{try{!_g&&!_a2&&(_b=iterable_12.return)&&await _b.call(iterable_12)}finally{if(e_12)throw e_12.error}}if(offset2<hint)throw new ConnectError(`protocol error: promised ${hint} bytes, received ${offset2}`,Code.InvalidArgument);return buffer}let chunks=[],count=0;try{for(var _h=!0,iterable_13=__asyncValues(iterable),iterable_13_1;iterable_13_1=await iterable_13.next(),_d=iterable_13_1.done,!_d;_h=!0){_f=iterable_13_1.value,_h=!1;let chunk=_f;count+=chunk.byteLength,assertReadMaxBytes(readMaxBytes,count),chunks.push(chunk)}}catch(e_13_1){e_13={error:e_13_1}}finally{try{!_h&&!_d&&(_e=iterable_13.return)&&await _e.call(iterable_13)}finally{if(e_13)throw e_13.error}}let all=new Uint8Array(count),offset=0;for(let chunk=chunks.shift();chunk;chunk=chunks.shift())all.set(chunk,offset),offset+=chunk.byteLength;return all}function parseLengthHint(lengthHint){if(lengthHint==null)return[!1,0];let n=typeof lengthHint=="string"?parseInt(lengthHint,10):lengthHint;return!Number.isSafeInteger(n)||n<0?[!1,n]:[!0,n]}async function untilFirst(iterable){let it=iterable[Symbol.asyncIterator](),first=await it.next();return{[Symbol.asyncIterator](){let w={async next(){if(first!==null){let n=first;return first=null,n}return await it.next()}};return it.throw!==void 0&&(w.throw=e=>it.throw(e)),it.return!==void 0&&(w.return=value=>it.return(value)),w}}}function makeIterableAbortable(iterable){let innerCandidate=iterable[Symbol.asyncIterator]();if(innerCandidate.throw===void 0)throw new Error("AsyncIterable does not implement throw");let inner=innerCandidate,aborted,resultPromise,it={next(){return resultPromise=inner.next().finally(()=>{resultPromise=void 0}),resultPromise},throw(e){return inner.throw(e)}};innerCandidate.return!==void 0&&(it=Object.assign(Object.assign({},it),{return(value){return inner.return(value)}}));let used=!1;return{abort(reason){if(aborted)return aborted.state;let f=()=>inner.throw(reason).then(r=>r.done===!0?"completed":"caught",()=>"rethrown");return resultPromise?(aborted={reason,state:resultPromise.then(f,f)},aborted.state):(aborted={reason,state:f()},aborted.state)},[Symbol.asyncIterator](){if(used)throw new Error("AsyncIterable cannot be re-used");return used=!0,it}}}function createAsyncIterable(items){return __asyncGenerator(this,arguments,function*(){yield __await(yield*__asyncDelegator(__asyncValues(items)))})}function createLinkedAbortController(...signals){let controller=new AbortController,sa=signals.filter(s=>s!==void 0).concat(controller.signal);for(let signal of sa){if(signal.aborted){onAbort.apply(signal);break}signal.addEventListener("abort",onAbort)}function onAbort(){controller.signal.aborted||controller.abort(getAbortSignalReason(this));for(let signal of sa)signal.removeEventListener("abort",onAbort)}return controller}function createDeadlineSignal(timeoutMs){let controller=new AbortController,listener=()=>{controller.abort(new ConnectError("the operation timed out",Code.DeadlineExceeded))},timeoutId;return timeoutMs!==void 0&&(timeoutMs<=0?listener():timeoutId=setTimeout(listener,timeoutMs)),{signal:controller.signal,cleanup:()=>clearTimeout(timeoutId)}}function getAbortSignalReason(signal){if(!signal.aborted)return;if(signal.reason!==void 0)return signal.reason;let e=new Error("This operation was aborted");return e.name="AbortError",e}function createContextValues(){return{get(key){return key.id in this?this[key.id]:key.defaultValue},set(key,value){return this[key.id]=value,this},delete(key){return delete this[key.id],this}}}function createHandlerContext(init){var _a2;let timeoutMs;if(init.timeoutMs!==void 0){let date=new Date(Date.now()+init.timeoutMs);timeoutMs=()=>date.getTime()-Date.now()}else timeoutMs=()=>{};let deadline=createDeadlineSignal(init.timeoutMs),abortController=createLinkedAbortController(deadline.signal,init.requestSignal,init.shutdownSignal);return Object.assign(Object.assign({},init),{signal:abortController.signal,timeoutMs,requestHeader:new Headers(init.requestHeader),responseHeader:new Headers(init.responseHeader),responseTrailer:new Headers(init.responseTrailer),abort(reason){deadline.cleanup(),abortController.abort(reason)},values:(_a2=init.contextValues)!==null&&_a2!==void 0?_a2:createContextValues()})}function createMethodImplSpec(method,impl){return{kind:method.methodKind,method,impl}}function createServiceImplSpec(service,impl){let s={service,methods:{}};for(let method of service.methods){let fn=impl[method.localName];if(typeof fn=="function")fn=fn.bind(impl);else{let message=`${service.typeName}.${method.name} is not implemented`;fn=function(){throw new ConnectError(message,Code.Unimplemented)}}s.methods[method.localName]=createMethodImplSpec(method,fn)}return s}function trailerParse(data){let headers=new Headers,lines=new TextDecoder().decode(data).split(`\r
`);for(let line of lines){if(line==="")continue;let i=line.indexOf(":");if(i>0){let name=line.substring(0,i).trim(),value=line.substring(i+1).trim();headers.append(name,value)}}return headers}function trailerSerialize(trailer){let lines=[];return trailer.forEach((value,key)=>{lines.push(`${key}: ${value}\r
`)}),new TextEncoder().encode(lines.join(""))}function createTrailerSerialization(){return{serialize:trailerSerialize,parse:trailerParse}}var headerContentType="Content-Type",headerEncoding="Grpc-Encoding",headerAcceptEncoding="Grpc-Accept-Encoding",headerTimeout="Grpc-Timeout",headerGrpcStatus="Grpc-Status",headerGrpcMessage="Grpc-Message",headerStatusDetailsBin="Grpc-Status-Details-Bin";var contentTypeRegExp=/^application\/grpc-web(-text)?(?:\+(?:(json)(?:; ?charset=utf-?8)?|proto))?$/i,contentTypeProto="application/grpc-web+proto",contentTypeJson="application/grpc-web+json";function parseContentType(contentType){let match2=contentType?.match(contentTypeRegExp);if(!match2)return;let text2=!!match2[1],binary=!match2[2];return{text:text2,binary}}function parseTimeout(value,maxTimeoutMs){if(value===null)return{};let results=/^(\d{1,8})([HMSmun])$/.exec(value);if(results===null)return{error:new ConnectError(`protocol error: invalid grpc timeout value: ${value}`,Code.InvalidArgument)};let timeoutMs={H:3600*1e3,M:60*1e3,S:1e3,m:1,u:.001,n:1e-6}[results[2]]*parseInt(results[1]);return timeoutMs>maxTimeoutMs?{timeoutMs,error:new ConnectError(`timeout ${timeoutMs}ms must be <= ${maxTimeoutMs}`,Code.InvalidArgument)}:{timeoutMs}}function serviceDesc(file,path5,...paths){if(paths.length>0)throw new Error;return file.services[path5]}var file_status=fileDesc("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[file_google_protobuf_any]),StatusSchema=messageDesc(file_status,0);var grpcStatusOk="0";function setTrailerStatus(target,error){if(error){if(error.metadata.forEach((value,key)=>{target.append(key,value)}),target.set(headerGrpcStatus,error.code.toString(10)),target.set(headerGrpcMessage,encodeURIComponent(error.rawMessage)),error.details.length>0){let status=create(StatusSchema,{code:error.code,message:error.rawMessage,details:error.details.map(detail=>"desc"in detail?anyPack(detail.desc,create(detail.desc,detail.value)):{typeUrl:`type.googleapis.com/${detail.type}`,value:detail.value})});target.set(headerStatusDetailsBin,encodeBinaryHeader(status,StatusSchema))}}else target.set(headerGrpcStatus,grpcStatusOk.toString());return target}function contentTypeMatcher(...supported){let cache=new Map,source=supported.reduce((previousValue,currentValue)=>previousValue.concat("supported"in currentValue?currentValue.supported:currentValue),[]);function match2(contentType){if(contentType===null||contentType.length==0)return!1;let cached=cache.get(contentType);if(cached!==void 0)return cached;let ok=source.some(re=>re.test(contentType));return cache.size<1024&&cache.set(contentType,ok),ok}return match2.supported=source,match2}function createMethodUrl(baseUrl,method){return baseUrl.toString().replace(/\/?$/,`/${method.parent.typeName}/${method.name}`)}function normalize(desc,message){return create(desc,message)}function normalizeIterable(desc,input){function transform(result){return result.done===!0?result:{done:result.done,value:normalize(desc,result.value)}}return{[Symbol.asyncIterator](){let it=input[Symbol.asyncIterator](),res={next:()=>it.next().then(transform)};return it.throw!==void 0&&(res.throw=e=>it.throw(e).then(transform)),it.return!==void 0&&(res.return=v=>it.return(v).then(transform)),res}}}function applyInterceptors(next,interceptors){if(!interceptors)return next;for(let i of interceptors.concat().reverse())next=i(next);return next}var __await2=function(v){return this instanceof __await2?(this.v=v,this):new __await2(v)},__asyncGenerator2=function(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=generator.apply(thisArg,_arguments||[]),i,q=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),verb("next"),verb("throw"),verb("return",awaitReturn),i[Symbol.asyncIterator]=function(){return this},i;function awaitReturn(f){return function(v){return Promise.resolve(v).then(f,reject)}}function verb(n,f){g[n]&&(i[n]=function(v){return new Promise(function(a,b){q.push([n,v,a,b])>1||resume(n,v)})},f&&(i[n]=f(i[n])))}function resume(n,v){try{step(g[n](v))}catch(e){settle(q[0][3],e)}}function step(r){r.value instanceof __await2?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){f(v),q.shift(),q.length&&resume(q[0][0],q[0][1])}},__asyncValues2=function(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m=o[Symbol.asyncIterator],i;return m?m.call(o):(o=typeof __values=="function"?__values(o):o[Symbol.iterator](),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise(function(resolve,reject){v=o[n](v),settle(resolve,reject,v.done,v.value)})}}function settle(resolve,reject,d,v){Promise.resolve(v).then(function(v2){resolve({value:v2,done:d})},reject)}},__asyncDelegator2=function(o){var i,p;return i={},verb("next"),verb("throw",function(e){throw e}),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await2(o[n](v)),done:!1}:f?f(v):v}:f}};async function invokeUnaryImplementation(spec,context,input,interceptors){let next=applyInterceptors(async req=>Object.assign({message:normalize(spec.method.output,await spec.impl(req.message,mergeRequest(context,req))),stream:!1,method:spec.method},responseCommon(context,spec)),interceptors),{message,header,trailer}=await next(Object.assign({stream:!1,message:input,method:spec.method},requestCommon(context,spec)));return copyHeaders(header,context.responseHeader),copyHeaders(trailer,context.responseTrailer),message}function transformInvokeImplementation(spec,context,interceptors){switch(spec.kind){case"unary":return function(input){return __asyncGenerator2(this,arguments,function*(){yield yield __await2(yield __await2(invokeUnaryImplementation(spec,context,yield __await2(ensureSingle(input,"unary")),interceptors)))})};case"server_streaming":return function(input){return invokeStreamImplementation(spec,context,input,interceptors,async req=>{let output=normalizeIterable(spec.method.output,spec.impl(await ensureSingle(req.message,"server-streaming"),mergeRequest(context,req)));return Object.assign({stream:!0,message:output,method:spec.method},responseCommon(context,spec))})};case"client_streaming":return function(input){return invokeStreamImplementation(spec,context,input,interceptors,async req=>Object.assign({message:createAsyncIterable([normalize(spec.method.output,await spec.impl(req.message,mergeRequest(context,req)))]),stream:!0,method:spec.method},responseCommon(context,spec)))};case"bidi_streaming":return function(input){return invokeStreamImplementation(spec,context,input,interceptors,req=>Promise.resolve(Object.assign({message:normalizeIterable(spec.method.output,spec.impl(req.message,mergeRequest(context,req))),stream:!0,method:spec.method},responseCommon(context,spec))))}}}function invokeStreamImplementation(spec,context,input,interceptors,anyFn){return __asyncGenerator2(this,arguments,function*(){let next=applyInterceptors(anyFn,interceptors),{message,header,trailer}=yield __await2(next(Object.assign({stream:!0,message:input,method:spec.method},requestCommon(context,spec))));copyHeaders(header,context.responseHeader),yield __await2(yield*__asyncDelegator2(__asyncValues2(message))),copyHeaders(trailer,context.responseTrailer)})}async function ensureSingle(iterable,method){let it=iterable[Symbol.asyncIterator](),first=await it.next();if(first.done===!0)throw new ConnectError(`protocol error: missing input message for ${method} method`,Code.Unimplemented);if((await it.next()).done!==!0)throw new ConnectError(`protocol error: received extra input message for ${method} method`,Code.Unimplemented);return first.value}function requestCommon(context,spec){return{requestMethod:context.requestMethod,url:context.url,signal:context.signal,header:context.requestHeader,service:spec.method.parent,contextValues:context.values}}function responseCommon(context,spec){return{service:spec.method.parent,header:context.responseHeader,trailer:context.responseTrailer}}function mergeRequest(context,req){return Object.assign(Object.assign({},context),{service:req.service,requestHeader:req.header,signal:req.signal,values:req.contextValues})}function copyHeaders(from,to){from!==to&&(to.forEach((_,key)=>{to.delete(key)}),from.forEach((value,key)=>{to.set(key,value)}))}function getJsonOptions(options2){var _a2;let o=Object.assign({},options2);return(_a2=o.ignoreUnknownFields)!==null&&_a2!==void 0||(o.ignoreUnknownFields=!0),o}function createMethodSerializationLookup(method,binaryOptions,jsonOptions,limitOptions){let inputBinary=limitSerialization(createBinarySerialization(method.input,binaryOptions),limitOptions),inputJson=limitSerialization(createJsonSerialization(method.input,jsonOptions),limitOptions),outputBinary=limitSerialization(createBinarySerialization(method.output,binaryOptions),limitOptions),outputJson=limitSerialization(createJsonSerialization(method.output,jsonOptions),limitOptions);return{getI(useBinaryFormat){return useBinaryFormat?inputBinary:inputJson},getO(useBinaryFormat){return useBinaryFormat?outputBinary:outputJson}}}function limitSerialization(serialization,limitOptions){return{serialize(data){let bytes=serialization.serialize(data);return assertWriteMaxBytes(limitOptions.writeMaxBytes,bytes.byteLength),bytes},parse(data){return assertReadMaxBytes(limitOptions.readMaxBytes,data.byteLength,!0),serialization.parse(data)}}}function createBinarySerialization(desc,options2){return{parse(data){try{return fromBinary(desc,data,options2)}catch(e){let m=e instanceof Error?e.message:String(e);throw new ConnectError(`parse binary: ${m}`,Code.Internal)}},serialize(data){try{return toBinary(desc,data,options2)}catch(e){let m=e instanceof Error?e.message:String(e);throw new ConnectError(`serialize binary: ${m}`,Code.Internal)}}}}function createJsonSerialization(desc,options2){var _a2,_b;let textEncoder=(_a2=options2?.textEncoder)!==null&&_a2!==void 0?_a2:new TextEncoder,textDecoder=(_b=options2?.textDecoder)!==null&&_b!==void 0?_b:new TextDecoder,o=getJsonOptions(options2);return{parse(data){try{let json=textDecoder.decode(data);return fromJsonString(desc,json,o)}catch(e){throw ConnectError.from(e,Code.InvalidArgument)}},serialize(data){try{let json=toJsonString(desc,data,o);return textEncoder.encode(json)}catch(e){throw ConnectError.from(e,Code.Internal)}}}}function assertByteStreamRequest(req){if(!(typeof req.body=="object"&&req.body!==null&&Symbol.asyncIterator in req.body))throw new Error("byte stream required, but received JSON")}var uResponseOk={status:200};var uResponseUnsupportedMediaType={status:415},uResponseMethodNotAllowed={status:405},uResponseVersionNotSupported={status:505};function validateUniversalHandlerOptions(opt){var _a2,_b,_c;opt??(opt={});let acceptCompression=opt.acceptCompression?[...opt.acceptCompression]:[],requireConnectProtocolHeader=(_a2=opt.requireConnectProtocolHeader)!==null&&_a2!==void 0?_a2:!1,maxTimeoutMs=(_b=opt.maxTimeoutMs)!==null&&_b!==void 0?_b:Number.MAX_SAFE_INTEGER;return Object.assign(Object.assign({acceptCompression},validateReadWriteMaxBytes(opt.readMaxBytes,opt.writeMaxBytes,opt.compressMinBytes)),{jsonOptions:opt.jsonOptions,binaryOptions:opt.binaryOptions,maxTimeoutMs,shutdownSignal:opt.shutdownSignal,requireConnectProtocolHeader,interceptors:(_c=opt.interceptors)!==null&&_c!==void 0?_c:[]})}function createUniversalServiceHandlers(spec,protocols){return Object.entries(spec.methods).map(([,implSpec])=>createUniversalMethodHandler(implSpec,protocols))}function createUniversalMethodHandler(spec,protocols){return negotiateProtocol(protocols.map(f=>f(spec)))}function negotiateProtocol(protocolHandlers){if(protocolHandlers.length==0)throw new ConnectError("at least one protocol is required",Code.Internal);let service=protocolHandlers[0].service,method=protocolHandlers[0].method,requestPath=protocolHandlers[0].requestPath;if(protocolHandlers.some(h=>h.service!==service||h.method!==method))throw new ConnectError("cannot negotiate protocol for different RPCs",Code.Internal);if(protocolHandlers.some(h=>h.requestPath!==requestPath))throw new ConnectError("cannot negotiate protocol for different requestPaths",Code.Internal);async function protocolNegotiatingHandler(request2){var _a2;if(method.methodKind=="bidi_streaming"&&request2.httpVersion.startsWith("1."))return Object.assign(Object.assign({},uResponseVersionNotSupported),{header:new Headers({Connection:"close"})});let contentType=(_a2=request2.header.get("Content-Type"))!==null&&_a2!==void 0?_a2:"",matchingMethod=protocolHandlers.filter(h=>h.allowedMethods.includes(request2.method));if(matchingMethod.length==0)return uResponseMethodNotAllowed;if(matchingMethod.length==1&&contentType===""){let onlyMatch=matchingMethod[0];return onlyMatch(request2)}let matchingContentTypes=matchingMethod.filter(h=>h.supportedContentType(contentType));if(matchingContentTypes.length==0)return uResponseUnsupportedMediaType;let firstMatch=matchingContentTypes[0];return firstMatch(request2)}return Object.assign(protocolNegotiatingHandler,{service,method,requestPath,supportedContentType:contentTypeMatcher(...protocolHandlers.map(h=>h.supportedContentType)),protocolNames:protocolHandlers.flatMap(h=>h.protocolNames).filter((value,index2,array)=>array.indexOf(value)===index2),allowedMethods:protocolHandlers.flatMap(h=>h.allowedMethods).filter((value,index2,array)=>array.indexOf(value)===index2)})}var protocolName="grpc-web",methodPost="POST";function createHandlerFactory(options2){let opt=validateUniversalHandlerOptions(options2),trailerSerialization=createTrailerSerialization();function fact(spec){let h=createHandler(opt,trailerSerialization,spec);return Object.assign(h,{protocolNames:[protocolName],allowedMethods:[methodPost],supportedContentType:contentTypeMatcher(contentTypeRegExp),requestPath:createMethodUrl("/",spec.method),service:spec.method.parent,method:spec.method})}return fact.protocolName=protocolName,fact}function createHandler(opt,trailerSerialization,spec){let serialization=createMethodSerializationLookup(spec.method,opt.binaryOptions,opt.jsonOptions,opt);return async function(req){assertByteStreamRequest(req);let type=parseContentType(req.header.get(headerContentType));if(type==null||type.text)return uResponseUnsupportedMediaType;if(req.method!==methodPost)return uResponseMethodNotAllowed;let timeout=parseTimeout(req.header.get(headerTimeout),opt.maxTimeoutMs),context=createHandlerContext(Object.assign(Object.assign({},spec),{service:spec.method.parent,requestMethod:req.method,protocolName,timeoutMs:timeout.timeoutMs,shutdownSignal:opt.shutdownSignal,requestSignal:req.signal,requestHeader:req.header,url:req.url,responseHeader:{[headerContentType]:type.binary?contentTypeProto:contentTypeJson},responseTrailer:{[headerGrpcStatus]:grpcStatusOk},contextValues:req.contextValues})),compression=compressionNegotiate(opt.acceptCompression,req.header.get(headerEncoding),req.header.get(headerAcceptEncoding),headerAcceptEncoding);compression.response&&context.responseHeader.set(headerEncoding,compression.response.name);let inputIt=pipe(req.body,transformPrepend(()=>{if(compression.error)throw compression.error;if(timeout.error)throw timeout.error}),transformSplitEnvelope(opt.readMaxBytes),transformDecompressEnvelope(compression.request,opt.readMaxBytes),transformParseEnvelope(serialization.getI(type.binary),128)),it=transformInvokeImplementation(spec,context,opt.interceptors)(inputIt)[Symbol.asyncIterator](),outputIt=pipe({[Symbol.asyncIterator](){return{next:()=>it.next(),throw:e=>{var _a2,_b;return context.abort(e),(_b=(_a2=it.throw)===null||_a2===void 0?void 0:_a2.call(it,e))!==null&&_b!==void 0?_b:Promise.reject({done:!0})},return:v=>{var _a2,_b;return context.abort(),(_b=(_a2=it.return)===null||_a2===void 0?void 0:_a2.call(it,v))!==null&&_b!==void 0?_b:Promise.resolve({done:!0,value:v})}}}},transformSerializeEnvelope(serialization.getO(type.binary)),transformCatchFinally(e=>(context.abort(e),e instanceof ConnectError?setTrailerStatus(context.responseTrailer,e):e!==void 0&&setTrailerStatus(context.responseTrailer,new ConnectError("internal error",Code.Internal,void 0,void 0,e)),{flags:128,data:trailerSerialization.serialize(context.responseTrailer)})),transformCompressEnvelope(compression.response,opt.compressMinBytes),transformJoinEnvelopes(),{propagateDownStreamError:!0});return Object.assign(Object.assign({},uResponseOk),{body:await untilFirst(outputIt),header:context.responseHeader})}}var contentTypeRegExp2=/^application\/grpc(?:\+(?:(json)(?:; ?charset=utf-?8)?|proto))?$/i,contentTypeProto2="application/grpc+proto",contentTypeJson2="application/grpc+json";function parseContentType2(contentType){let match2=contentType?.match(contentTypeRegExp2);return match2?{binary:!match2[1]}:void 0}var protocolName2="grpc",methodPost2="POST";function createHandlerFactory2(options2){let opt=validateUniversalHandlerOptions(options2);function fact(spec){let h=createHandler2(opt,spec);return Object.assign(h,{protocolNames:[protocolName2],allowedMethods:[methodPost2],supportedContentType:contentTypeMatcher(contentTypeRegExp2),requestPath:createMethodUrl("/",spec.method),service:spec.method.parent,method:spec.method})}return fact.protocolName=protocolName2,fact}function createHandler2(opt,spec){let serialization=createMethodSerializationLookup(spec.method,opt.binaryOptions,opt.jsonOptions,opt);return async function(req){assertByteStreamRequest(req);let type=parseContentType2(req.header.get(headerContentType));if(type==null)return uResponseUnsupportedMediaType;if(req.method!==methodPost2)return uResponseMethodNotAllowed;let timeout=parseTimeout(req.header.get(headerTimeout),opt.maxTimeoutMs),context=createHandlerContext(Object.assign(Object.assign({},spec),{service:spec.method.parent,requestMethod:req.method,protocolName:protocolName2,timeoutMs:timeout.timeoutMs,shutdownSignal:opt.shutdownSignal,requestSignal:req.signal,requestHeader:req.header,url:req.url,responseHeader:{[headerContentType]:type.binary?contentTypeProto2:contentTypeJson2},responseTrailer:{[headerGrpcStatus]:grpcStatusOk},contextValues:req.contextValues})),compression=compressionNegotiate(opt.acceptCompression,req.header.get(headerEncoding),req.header.get(headerAcceptEncoding),headerAcceptEncoding);compression.response&&context.responseHeader.set(headerEncoding,compression.response.name);let inputIt=pipe(req.body,transformPrepend(()=>{if(compression.error)throw compression.error;if(timeout.error)throw timeout.error}),transformSplitEnvelope(opt.readMaxBytes),transformDecompressEnvelope(compression.request,opt.readMaxBytes),transformParseEnvelope(serialization.getI(type.binary))),it=transformInvokeImplementation(spec,context,opt.interceptors)(inputIt)[Symbol.asyncIterator](),outputIt=pipe({[Symbol.asyncIterator](){return{next:()=>it.next(),throw:e=>{var _a2,_b;return context.abort(e),(_b=(_a2=it.throw)===null||_a2===void 0?void 0:_a2.call(it,e))!==null&&_b!==void 0?_b:Promise.reject({done:!0})},return:v=>{var _a2,_b;return context.abort(),(_b=(_a2=it.return)===null||_a2===void 0?void 0:_a2.call(it,v))!==null&&_b!==void 0?_b:Promise.resolve({done:!0,value:v})}}}},transformSerializeEnvelope(serialization.getO(type.binary)),transformCompressEnvelope(compression.response,opt.compressMinBytes),transformJoinEnvelopes(),transformCatchFinally(e=>{context.abort(e),e instanceof ConnectError?setTrailerStatus(context.responseTrailer,e):e!==void 0&&setTrailerStatus(context.responseTrailer,new ConnectError("internal error",Code.Internal,void 0,void 0,e))}),{propagateDownStreamError:!0});return Object.assign(Object.assign({},uResponseOk),{body:await untilFirst(outputIt),header:context.responseHeader,trailer:context.responseTrailer})}}var contentTypeRegExp3=/^application\/(connect\+)?(?:(json)(?:; ?charset=utf-?8)?|(proto))$/i,contentTypeUnaryRegExp=/^application\/(?:json(?:; ?charset=utf-?8)?|proto)$/i,contentTypeStreamRegExp=/^application\/connect\+?(?:json(?:; ?charset=utf-?8)?|proto)$/i,contentTypeUnaryProto="application/proto",contentTypeUnaryJson="application/json",contentTypeStreamProto="application/connect+proto",contentTypeStreamJson="application/connect+json",encodingProto="proto",encodingJson="json";function parseContentType3(contentType){let match2=contentType?.match(contentTypeRegExp3);if(!match2)return;let stream=!!match2[1],binary=!!match2[3];return{stream,binary}}function parseEncodingQuery(encoding){switch(encoding){case encodingProto:return{stream:!1,binary:!0};case encodingJson:return{stream:!1,binary:!1};default:return}}var __rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t};function errorFromJson(jsonValue,metadata,fallback){var _a2;if(metadata&&new Headers(metadata).forEach((value,key)=>fallback.metadata.append(key,value)),typeof jsonValue!="object"||jsonValue==null||Array.isArray(jsonValue))throw fallback;let code2=fallback.code;"code"in jsonValue&&typeof jsonValue.code=="string"&&(code2=(_a2=codeFromString(jsonValue.code))!==null&&_a2!==void 0?_a2:code2);let message=jsonValue.message;if(message!=null&&typeof message!="string")throw fallback;let error=new ConnectError(message??"",code2,metadata);if("details"in jsonValue&&Array.isArray(jsonValue.details))for(let detail of jsonValue.details){if(detail===null||typeof detail!="object"||Array.isArray(detail)||typeof detail.type!="string"||typeof detail.value!="string")throw fallback;try{error.details.push({type:detail.type,value:base64Decode(detail.value),debug:detail.debug})}catch{throw fallback}}return error}function errorToJson(error,jsonWriteOptions){let o={code:codeToString(error.code)};return error.rawMessage.length>0&&(o.message=error.rawMessage),error.details.length>0&&(o.details=error.details.map(detail=>{if("desc"in detail){let msg=create(detail.desc,detail.value),i={type:detail.desc.typeName,value:toBinary(detail.desc,msg)};try{i.debug=toJson(detail.desc,msg,jsonWriteOptions)}catch{}return i}return detail}).map(_a2=>{var{value}=_a2,rest=__rest(_a2,["value"]);return Object.assign(Object.assign({},rest),{value:base64Encode(value,"std_raw")})})),o}function errorToJsonBytes(error,jsonWriteOptions){let textEncoder=new TextEncoder;try{let jsonObject=errorToJson(error,jsonWriteOptions),jsonString=JSON.stringify(jsonObject);return textEncoder.encode(jsonString)}catch(e){let m=e instanceof Error?e.message:String(e);throw new ConnectError(`failed to serialize Connect Error: ${m}`,Code.Internal)}}var endStreamFlag=2;function endStreamFromJson(data){let parseErr=new ConnectError("invalid end stream",Code.Unknown),jsonValue;try{jsonValue=JSON.parse(typeof data=="string"?data:new TextDecoder().decode(data))}catch{throw parseErr}if(typeof jsonValue!="object"||jsonValue==null||Array.isArray(jsonValue))throw parseErr;let metadata=new Headers;if("metadata"in jsonValue){if(typeof jsonValue.metadata!="object"||jsonValue.metadata==null||Array.isArray(jsonValue.metadata))throw parseErr;for(let[key,values2]of Object.entries(jsonValue.metadata)){if(!Array.isArray(values2)||values2.some(value=>typeof value!="string"))throw parseErr;for(let value of values2)metadata.append(key,value)}}let error="error"in jsonValue&&jsonValue.error!=null?errorFromJson(jsonValue.error,metadata,parseErr):void 0;return{metadata,error}}function endStreamToJson(metadata,error,jsonWriteOptions){let es={};error!==void 0&&(es.error=errorToJson(error,jsonWriteOptions),metadata=appendHeaders(metadata,error.metadata));let hasMetadata=!1,md={};return metadata.forEach((value,key)=>{hasMetadata=!0,md[key]=[value]}),hasMetadata&&(es.metadata=md),es}function createEndStreamSerialization(options2){let textEncoder=new TextEncoder;return{serialize(data){try{let jsonObject=endStreamToJson(data.metadata,data.error,options2),jsonString=JSON.stringify(jsonObject);return textEncoder.encode(jsonString)}catch(e){let m=e instanceof Error?e.message:String(e);throw new ConnectError(`failed to serialize EndStreamResponse: ${m}`,Code.Internal)}},parse(data){try{return endStreamFromJson(data)}catch(e){let m=e instanceof Error?e.message:String(e);throw new ConnectError(`failed to parse EndStreamResponse: ${m}`,Code.InvalidArgument)}}}}var headerContentType2="Content-Type",headerUnaryContentLength="Content-Length",headerUnaryEncoding="Content-Encoding",headerStreamEncoding="Connect-Content-Encoding",headerUnaryAcceptEncoding="Accept-Encoding",headerStreamAcceptEncoding="Connect-Accept-Encoding",headerTimeout2="Connect-Timeout-Ms",headerProtocolVersion="Connect-Protocol-Version";function codeToHttpStatus(code2){switch(code2){case Code.Canceled:return 499;case Code.Unknown:return 500;case Code.InvalidArgument:return 400;case Code.DeadlineExceeded:return 504;case Code.NotFound:return 404;case Code.AlreadyExists:return 409;case Code.PermissionDenied:return 403;case Code.ResourceExhausted:return 429;case Code.FailedPrecondition:return 400;case Code.Aborted:return 409;case Code.OutOfRange:return 400;case Code.Unimplemented:return 501;case Code.Internal:return 500;case Code.Unavailable:return 503;case Code.DataLoss:return 500;case Code.Unauthenticated:return 401;default:return 500}}function parseTimeout2(value,maxTimeoutMs){if(value===null)return{};let results=/^\d{1,10}$/.exec(value);if(results===null)return{error:new ConnectError(`protocol error: invalid connect timeout value: ${value}`,Code.InvalidArgument)};let timeoutMs=parseInt(results[0]);return timeoutMs>maxTimeoutMs?{timeoutMs,error:new ConnectError(`timeout ${timeoutMs}ms must be <= ${maxTimeoutMs}`,Code.InvalidArgument)}:{timeoutMs:parseInt(results[0])}}var paramConnectVersion="connect",paramEncoding="encoding",paramCompression="compression",paramBase64="base64",paramMessage="message";function trailerMux(header,trailer){let h=new Headers(header);return trailer.forEach((value,key)=>{h.append(`trailer-${key}`,value)}),h}var protocolVersion="1";function requireProtocolVersionHeader(requestHeader){let v=requestHeader.get(headerProtocolVersion);if(v===null)throw new ConnectError(`missing required header: set ${headerProtocolVersion} to "${protocolVersion}"`,Code.InvalidArgument);if(v!==protocolVersion)throw new ConnectError(`${headerProtocolVersion} must be "${protocolVersion}": got "${v}"`,Code.InvalidArgument)}function requireProtocolVersionParam(queryParams){let v=queryParams.get(paramConnectVersion);if(v===null)throw new ConnectError(`missing required parameter: set ${paramConnectVersion} to "v${protocolVersion}"`,Code.InvalidArgument);if(v!==`v${protocolVersion}`)throw new ConnectError(`${paramConnectVersion} must be "v${protocolVersion}": got "${v}"`,Code.InvalidArgument)}var protocolName3="connect",methodPost3="POST",methodGet="GET";function createHandlerFactory3(options2){let opt=validateUniversalHandlerOptions(options2),endStreamSerialization=createEndStreamSerialization(opt.jsonOptions);function fact(spec){let h,contentTypeRegExp4,serialization=createMethodSerializationLookup(spec.method,opt.binaryOptions,opt.jsonOptions,opt);switch(spec.kind){case"unary":contentTypeRegExp4=contentTypeUnaryRegExp,h=createUnaryHandler(opt,spec,serialization);break;default:contentTypeRegExp4=contentTypeStreamRegExp,h=createStreamHandler(opt,spec,serialization,endStreamSerialization);break}let allowedMethods=[methodPost3];return spec.method.idempotency===MethodOptions_IdempotencyLevel.NO_SIDE_EFFECTS&&allowedMethods.push(methodGet),Object.assign(h,{protocolNames:[protocolName3],supportedContentType:contentTypeMatcher(contentTypeRegExp4),allowedMethods,requestPath:createMethodUrl("/",spec.method),service:spec.method.parent,method:spec.method})}return fact.protocolName=protocolName3,fact}function createUnaryHandler(opt,spec,serialization){return async function(req){let isGet=req.method==methodGet;if(isGet&&spec.method.idempotency!=MethodOptions_IdempotencyLevel.NO_SIDE_EFFECTS)return uResponseMethodNotAllowed;let queryParams=new URL(req.url).searchParams,compressionRequested=isGet?queryParams.get(paramCompression):req.header.get(headerUnaryEncoding),type=isGet?parseEncodingQuery(queryParams.get(paramEncoding)):parseContentType3(req.header.get(headerContentType2));if(type==null||type.stream)return uResponseUnsupportedMediaType;let timeout=parseTimeout2(req.header.get(headerTimeout2),opt.maxTimeoutMs),context=createHandlerContext(Object.assign(Object.assign({},spec),{service:spec.method.parent,requestMethod:req.method,protocolName:protocolName3,timeoutMs:timeout.timeoutMs,shutdownSignal:opt.shutdownSignal,requestSignal:req.signal,requestHeader:req.header,url:req.url,responseHeader:{[headerContentType2]:type.binary?contentTypeUnaryProto:contentTypeUnaryJson},contextValues:req.contextValues})),compression=compressionNegotiate(opt.acceptCompression,compressionRequested,req.header.get(headerUnaryAcceptEncoding),headerUnaryAcceptEncoding),status=uResponseOk.status,body;try{if(opt.requireConnectProtocolHeader&&(isGet?requireProtocolVersionParam(queryParams):requireProtocolVersionHeader(req.header)),compression.error)throw compression.error;if(timeout.error)throw timeout.error;let reqBody;isGet?reqBody=await readUnaryMessageFromQuery(opt.readMaxBytes,compression.request,queryParams):reqBody=await readUnaryMessageFromBody(opt.readMaxBytes,compression.request,req);let input=parseUnaryMessage(spec.method,type.binary,serialization,reqBody),output=await invokeUnaryImplementation(spec,context,input,opt.interceptors);body=serialization.getO(type.binary).serialize(output)}catch(e){context.abort(e);let error;e instanceof ConnectError?error=e:error=new ConnectError("internal error",Code.Internal,void 0,void 0,e),status=codeToHttpStatus(error.code),context.responseHeader.set(headerContentType2,contentTypeUnaryJson),error.metadata.forEach((value,key)=>{context.responseHeader.set(key,value)}),body=errorToJsonBytes(error,opt.jsonOptions)}finally{context.abort()}compression.response&&body.byteLength>=opt.compressMinBytes&&(body=await compression.response.compress(body),context.responseHeader.set(headerUnaryEncoding,compression.response.name));let header=trailerMux(context.responseHeader,context.responseTrailer);return header.set(headerUnaryContentLength,body.byteLength.toString(10)),{status,body:createAsyncIterable([body]),header}}}async function readUnaryMessageFromBody(readMaxBytes,compression,request2){if(typeof request2.body=="object"&&request2.body!==null&&Symbol.asyncIterator in request2.body){let reqBytes=await readAllBytes(request2.body,readMaxBytes,request2.header.get(headerUnaryContentLength));return compression&&(reqBytes=await compression.decompress(reqBytes,readMaxBytes)),reqBytes}return request2.body}async function readUnaryMessageFromQuery(readMaxBytes,compression,queryParams){var _a2;let base64=queryParams.get(paramBase64),message=(_a2=queryParams.get(paramMessage))!==null&&_a2!==void 0?_a2:"",decoded;return base64==="1"?decoded=base64Decode(message):decoded=new TextEncoder().encode(message),compression&&(decoded=await compression.decompress(decoded,readMaxBytes)),decoded}function parseUnaryMessage(method,useBinaryFormat,serialization,input){if(input instanceof Uint8Array)return serialization.getI(useBinaryFormat).parse(input);if(useBinaryFormat)throw new ConnectError("received parsed JSON request body, but content-type indicates binary format",Code.Internal);try{return fromJson(method.input,input)}catch(e){throw ConnectError.from(e,Code.InvalidArgument)}}function createStreamHandler(opt,spec,serialization,endStreamSerialization){return async function(req){assertByteStreamRequest(req);let type=parseContentType3(req.header.get(headerContentType2));if(type==null||!type.stream)return uResponseUnsupportedMediaType;if(req.method!==methodPost3)return uResponseMethodNotAllowed;let timeout=parseTimeout2(req.header.get(headerTimeout2),opt.maxTimeoutMs),context=createHandlerContext(Object.assign(Object.assign({},spec),{service:spec.method.parent,requestMethod:req.method,protocolName:protocolName3,timeoutMs:timeout.timeoutMs,shutdownSignal:opt.shutdownSignal,requestSignal:req.signal,requestHeader:req.header,url:req.url,responseHeader:{[headerContentType2]:type.binary?contentTypeStreamProto:contentTypeStreamJson},contextValues:req.contextValues})),compression=compressionNegotiate(opt.acceptCompression,req.header.get(headerStreamEncoding),req.header.get(headerStreamAcceptEncoding),headerStreamAcceptEncoding);compression.response&&context.responseHeader.set(headerStreamEncoding,compression.response.name);let inputIt=pipe(req.body,transformPrepend(()=>{if(opt.requireConnectProtocolHeader&&requireProtocolVersionHeader(req.header),compression.error)throw compression.error;if(timeout.error)throw timeout.error}),transformSplitEnvelope(opt.readMaxBytes),transformDecompressEnvelope(compression.request,opt.readMaxBytes),transformParseEnvelope(serialization.getI(type.binary),endStreamFlag)),it=transformInvokeImplementation(spec,context,opt.interceptors)(inputIt)[Symbol.asyncIterator](),outputIt=pipe({[Symbol.asyncIterator](){return{next:()=>it.next(),throw:e=>{var _a2,_b;return context.abort(e),(_b=(_a2=it.throw)===null||_a2===void 0?void 0:_a2.call(it,e))!==null&&_b!==void 0?_b:Promise.reject({done:!0})},return:v=>{var _a2,_b;return context.abort(),(_b=(_a2=it.return)===null||_a2===void 0?void 0:_a2.call(it,v))!==null&&_b!==void 0?_b:Promise.resolve({done:!0,value:v})}}}},transformSerializeEnvelope(serialization.getO(type.binary)),transformCatchFinally(e=>{context.abort(e);let end={metadata:context.responseTrailer};return e instanceof ConnectError?end.error=e:e!==void 0&&(end.error=new ConnectError("internal error",Code.Internal,void 0,void 0,e)),{flags:endStreamFlag,data:endStreamSerialization.serialize(end)}}),transformCompressEnvelope(compression.response,opt.compressMinBytes),transformJoinEnvelopes(),{propagateDownStreamError:!0});return Object.assign(Object.assign({},uResponseOk),{body:await untilFirst(outputIt),header:context.responseHeader})}}function createConnectRouter(routerOptions){let base=whichProtocols(routerOptions),handlers=[],router={handlers,service:(service,implementation,options2)=>{let{protocols}=whichProtocols(options2,base);return handlers.push(...createUniversalServiceHandlers(createServiceImplSpec(service,implementation),protocols)),router},rpc:(method,impl,opt)=>{let{protocols}=whichProtocols(opt,base);return handlers.push(createUniversalMethodHandler(createMethodImplSpec(method,impl),protocols)),router}};return router}function whichProtocols(options2,base){if(base&&!options2)return base;let opt=base?Object.assign(Object.assign({},validateUniversalHandlerOptions(base.options)),options2):Object.assign(Object.assign({},options2),validateUniversalHandlerOptions(options2??{})),protocols=[];if(options2?.grpc!==!1&&protocols.push(createHandlerFactory2(opt)),options2?.grpcWeb!==!1&&protocols.push(createHandlerFactory(opt)),options2?.connect!==!1&&protocols.push(createHandlerFactory3(opt)),protocols.length===0)throw new ConnectError("cannot create handler, all protocols are disabled",Code.InvalidArgument);return{options:opt,protocols}}var zlib=__toESM(require("node:zlib"),1),import_node_util=require("node:util");function connectErrorFromNodeReason(reason){let code2=Code.Internal,chain=unwrapNodeErrorChain(reason).map(getNodeErrorProps);chain.some(p=>p.code=="ERR_STREAM_WRITE_AFTER_END")?code2=Code.Aborted:chain.some(p=>p.code=="ERR_STREAM_DESTROYED"||p.code=="ERR_HTTP2_INVALID_STREAM"||p.code=="ECONNRESET")?code2=Code.Aborted:chain.some(p=>p.code=="ETIMEDOUT"||p.code=="ENOTFOUND"||p.code=="EAI_AGAIN"||p.code=="ECONNREFUSED")&&(code2=Code.Unavailable);let ce=ConnectError.from(reason,code2);return ce!==reason&&(ce.cause=reason),ce}function unwrapNodeErrorChain(reason){let chain=[];for(;!(!(reason instanceof Error)||chain.includes(reason)||(chain.push(reason),!("cause"in reason)));)reason=reason.cause;return chain}function getNodeErrorProps(reason){let props={};return reason instanceof Error&&("code"in reason&&typeof reason.code=="string"&&(props.code=reason.code),"syscall"in reason&&typeof reason.syscall=="string"&&(props.syscall=reason.syscall)),props}function connectErrorFromH2ResetCode(rstCode){switch(rstCode){case H2Code.PROTOCOL_ERROR:case H2Code.INTERNAL_ERROR:case H2Code.FLOW_CONTROL_ERROR:case H2Code.SETTINGS_TIMEOUT:case H2Code.FRAME_SIZE_ERROR:case H2Code.COMPRESSION_ERROR:case H2Code.CONNECT_ERROR:return new ConnectError(`http/2 stream closed with error code ${H2Code[rstCode]} (0x${rstCode.toString(16)})`,Code.Internal);case H2Code.REFUSED_STREAM:return new ConnectError(`http/2 stream closed with error code ${H2Code[rstCode]} (0x${rstCode.toString(16)})`,Code.Unavailable);case H2Code.CANCEL:return new ConnectError(`http/2 stream closed with error code ${H2Code[rstCode]} (0x${rstCode.toString(16)})`,Code.Canceled);case H2Code.ENHANCE_YOUR_CALM:return new ConnectError(`http/2 stream closed with error code ${H2Code[rstCode]} (0x${rstCode.toString(16)})`,Code.ResourceExhausted);case H2Code.INADEQUATE_SECURITY:return new ConnectError(`http/2 stream closed with error code ${H2Code[rstCode]} (0x${rstCode.toString(16)})`,Code.PermissionDenied);case H2Code.HTTP_1_1_REQUIRED:return new ConnectError(`http/2 stream closed with error code ${H2Code[rstCode]} (0x${rstCode.toString(16)})`,Code.PermissionDenied);default:break}}var H2Code;(function(H2Code2){H2Code2[H2Code2.PROTOCOL_ERROR=1]="PROTOCOL_ERROR",H2Code2[H2Code2.INTERNAL_ERROR=2]="INTERNAL_ERROR",H2Code2[H2Code2.FLOW_CONTROL_ERROR=3]="FLOW_CONTROL_ERROR",H2Code2[H2Code2.SETTINGS_TIMEOUT=4]="SETTINGS_TIMEOUT",H2Code2[H2Code2.STREAM_CLOSED=5]="STREAM_CLOSED",H2Code2[H2Code2.FRAME_SIZE_ERROR=6]="FRAME_SIZE_ERROR",H2Code2[H2Code2.REFUSED_STREAM=7]="REFUSED_STREAM",H2Code2[H2Code2.CANCEL=8]="CANCEL",H2Code2[H2Code2.COMPRESSION_ERROR=9]="COMPRESSION_ERROR",H2Code2[H2Code2.CONNECT_ERROR=10]="CONNECT_ERROR",H2Code2[H2Code2.ENHANCE_YOUR_CALM=11]="ENHANCE_YOUR_CALM",H2Code2[H2Code2.INADEQUATE_SECURITY=12]="INADEQUATE_SECURITY",H2Code2[H2Code2.HTTP_1_1_REQUIRED=13]="HTTP_1_1_REQUIRED"})(H2Code||(H2Code={}));var gzip2=(0,import_node_util.promisify)(zlib.gzip),gunzip2=(0,import_node_util.promisify)(zlib.gunzip),brotliCompress2=(0,import_node_util.promisify)(zlib.brotliCompress),brotliDecompress2=(0,import_node_util.promisify)(zlib.brotliDecompress),compressionGzip={name:"gzip",compress(bytes){return asUint8ArrayArrayBuffer(gzip2(bytes,{}))},decompress(bytes,readMaxBytes){return bytes.length==0?Promise.resolve(new Uint8Array(0)):asUint8ArrayArrayBuffer(wrapZLibErrors(gunzip2(bytes,{maxOutputLength:readMaxBytes}),readMaxBytes))}},compressionBrotli={name:"br",compress(bytes){return asUint8ArrayArrayBuffer(brotliCompress2(bytes,{}))},decompress(bytes,readMaxBytes){return bytes.length==0?Promise.resolve(new Uint8Array(0)):asUint8ArrayArrayBuffer(wrapZLibErrors(brotliDecompress2(bytes,{maxOutputLength:readMaxBytes}),readMaxBytes))}};function asUint8ArrayArrayBuffer(bytes){return bytes.then(b=>b.buffer instanceof ArrayBuffer?b:new Uint8Array(b))}function wrapZLibErrors(promise,readMaxBytes){return promise.catch(e=>{var _a2;let props=getNodeErrorProps(e),code2=Code.Internal,message="decompression failed";switch(props.code){case"ERR_BUFFER_TOO_LARGE":code2=Code.ResourceExhausted,message=`message is larger than configured readMaxBytes ${readMaxBytes} after decompression`;break;case"Z_DATA_ERROR":case"ERR_PADDING_2":code2=Code.InvalidArgument;break;default:!((_a2=props.code)===null||_a2===void 0)&&_a2.startsWith("ERR__ERROR_FORMAT_")&&(code2=Code.InvalidArgument);break}return Promise.reject(new ConnectError(message,code2,void 0,void 0,e))})}function nodeHeaderToWebHeader(nodeHeaders){let header=new Headers;for(let[k,v]of Object.entries(nodeHeaders))if(!k.startsWith(":")&&v!==void 0)if(typeof v=="string")header.append(k,v);else if(typeof v=="number")header.append(k,String(v));else for(let e of v)header.append(k,e);return header}function webHeaderToNodeHeaders(headersInit,defaultNodeHeaders){if(headersInit===void 0&&defaultNodeHeaders===void 0)return;let o=Object.create(null);if(defaultNodeHeaders!==void 0)if(Array.isArray(defaultNodeHeaders))for(let i=0;i+1<defaultNodeHeaders.length;i+=2){let key=defaultNodeHeaders[i],value=defaultNodeHeaders[i+1];Array.isArray(o[key])?o[key].push(value):typeof o[key]=="string"?o[key]=[o[key],value]:o[key]=value}else for(let[key,value]of Object.entries(defaultNodeHeaders))Array.isArray(value)?o[key]=value.concat():value!==void 0&&(o[key]=value);if(headersInit!==void 0)if(Array.isArray(headersInit))for(let[key,value]of headersInit)appendWebHeader(o,key,value);else if("forEach"in headersInit)typeof headersInit.forEach=="function"&&headersInit.forEach((value,key)=>{appendWebHeader(o,key,value)});else for(let[key,value]of Object.entries(headersInit))appendWebHeader(o,key,value);return o}function appendWebHeader(o,key,value){key=key.toLowerCase();let existing=o[key];Array.isArray(existing)?existing.push(value):existing===void 0?o[key]=value:o[key]=[existing.toString(),value]}var __asyncValues3=function(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m=o[Symbol.asyncIterator],i;return m?m.call(o):(o=typeof __values=="function"?__values(o):o[Symbol.iterator](),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise(function(resolve,reject){v=o[n](v),settle(resolve,reject,v.done,v.value)})}}function settle(resolve,reject,d,v){Promise.resolve(v).then(function(v2){resolve({value:v2,done:d})},reject)}},__await3=function(v){return this instanceof __await3?(this.v=v,this):new __await3(v)},__asyncGenerator3=function(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=generator.apply(thisArg,_arguments||[]),i,q=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),verb("next"),verb("throw"),verb("return",awaitReturn),i[Symbol.asyncIterator]=function(){return this},i;function awaitReturn(f){return function(v){return Promise.resolve(v).then(f,reject)}}function verb(n,f){g[n]&&(i[n]=function(v){return new Promise(function(a,b){q.push([n,v,a,b])>1||resume(n,v)})},f&&(i[n]=f(i[n])))}function resume(n,v){try{step(g[n](v))}catch(e){settle(q[0][3],e)}}function step(r){r.value instanceof __await3?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){f(v),q.shift(),q.length&&resume(q[0][0],q[0][1])}};function universalRequestFromNodeRequest(nodeRequest,...rest){var _a2,_b;let nodeResponse=rest.length===3?rest[0]:void 0,parsedJsonBody=rest.length===3?rest[1]:rest[0],contextValues=rest.length===3?rest[2]:rest[1],protocol="encrypted"in nodeRequest.socket&&nodeRequest.socket.encrypted?"https":"http",authority="authority"in nodeRequest?nodeRequest.authority:nodeRequest.headers.host,pathname=(_a2=nodeRequest.url)!==null&&_a2!==void 0?_a2:"";if(authority===void 0)throw new ConnectError("unable to determine request authority from Node.js server request",Code.Internal);let body=parsedJsonBody!==void 0?parsedJsonBody:asyncIterableFromNodeServerRequest(nodeRequest),abortController=new AbortController;if("stream"in nodeRequest)nodeRequest.once("close",()=>{let err=connectErrorFromH2ResetCode(nodeRequest.stream.rstCode);err!==void 0?abortController.abort(err):abortController.abort()});else{let nodeResponsOrRequest=nodeResponse??nodeRequest,onH1Error=e=>{nodeRequest.off("error",onH1Error),nodeResponsOrRequest.off("close",onH1Close),abortController.abort(connectErrorFromNodeReason(e))},onH1Close=()=>{nodeRequest.off("error",onH1Error),nodeResponsOrRequest.off("close",onH1Close),abortController.abort(nodeRequest.errored?connectErrorFromNodeReason(nodeRequest.errored):void 0)};nodeRequest.once("error",onH1Error),nodeResponsOrRequest.once("close",onH1Close)}return{httpVersion:nodeRequest.httpVersion,method:(_b=nodeRequest.method)!==null&&_b!==void 0?_b:"",url:new URL(pathname,`${protocol}://${authority}`).toString(),header:nodeHeaderToWebHeader(nodeRequest.headers),body,signal:abortController.signal,contextValues}}async function universalResponseToNodeResponse(universalResponse,nodeResponse){var _a2,_b,_c;let it=(_a2=universalResponse.body)===null||_a2===void 0?void 0:_a2[Symbol.asyncIterator](),isWriteError=!1;try{if(it!==void 0){let chunk=await it.next();for(isWriteError=!0,nodeResponse.writeHead(universalResponse.status,webHeaderToNodeHeaders(universalResponse.header)),isWriteError=!1;chunk.done!==!0;chunk=await it.next())isWriteError=!0,await write(nodeResponse,chunk.value),"flush"in nodeResponse&&typeof nodeResponse.flush=="function"&&nodeResponse.flush(),isWriteError=!1}nodeResponse.headersSent||nodeResponse.writeHead(universalResponse.status,webHeaderToNodeHeaders(universalResponse.header)),universalResponse.trailer&&nodeResponse.addTrailers(webHeaderToNodeHeaders(universalResponse.trailer)),await new Promise(resolve=>{nodeResponse.once("end",resolve),nodeResponse.end()})}catch(e){throw isWriteError&&((_b=it?.throw)===null||_b===void 0||_b.call(it,e).catch(()=>{})),connectErrorFromNodeReason(e)}finally{(_c=it?.return)===null||_c===void 0||_c.call(it).catch(()=>{})}}function asyncIterableFromNodeServerRequest(request2){return __asyncGenerator3(this,arguments,function*(){var _a2,e_1,_b,_c;try{for(var _d=!0,request_1=__asyncValues3(request2),request_1_1;request_1_1=yield __await3(request_1.next()),_a2=request_1_1.done,!_a2;_d=!0)_c=request_1_1.value,_d=!1,yield yield __await3(_c)}catch(e_1_1){e_1={error:e_1_1}}finally{try{!_d&&!_a2&&(_b=request_1.return)&&(yield __await3(_b.call(request_1)))}finally{if(e_1)throw e_1.error}}})}function write(stream,data){return new Promise((resolve,reject)=>{if(stream.errored)return error(stream.errored);stream.once("error",error),stream.once("drain",drain);let flushed=stream.write(data,"binary",err=>{err&&!flushed&&(error(err),stream.once("error",()=>{}))});flushed&&drain();function error(err){stream.off("error",error),stream.off("drain",drain),reject(err)}function drain(){stream.off("error",error),stream.off("drain",drain),resolve()}})}function fastifyConnectPlugin(instance,opts,done){if(opts.routes===void 0){done();return}if(opts.acceptCompression===void 0&&(opts.acceptCompression=[compressionGzip,compressionBrotli]),opts.shutdownTimeoutMs!==void 0){let shutdownController=createLinkedAbortController(opts.shutdownSignal);opts.shutdownSignal=shutdownController.signal,instance.addHook("preClose",done2=>{setTimeout(()=>{shutdownController.abort(opts.shutdownError)},opts.shutdownTimeoutMs),done2()})}let router=createConnectRouter(opts);opts.routes(router);let uHandlers=router.handlers;if(uHandlers.length==0){done();return}addNoopContentTypeParsers(instance);for(let uHandler of uHandlers)instance.all(uHandler.requestPath,{},async function(req,reply){var _a2;try{let uRes=await uHandler(universalRequestFromNodeRequest(req.raw,reply.raw,req.body,(_a2=opts.contextValues)===null||_a2===void 0?void 0:_a2.call(opts,req)));for(let[key,value]of Object.entries(reply.getHeaders()))value!==void 0&&reply.raw.setHeader(key,value);await universalResponseToNodeResponse(uRes,reply.raw)}catch(e){if(ConnectError.from(e).code==Code.Aborted)return;console.error(`handler for rpc ${uHandler.method.name} of ${uHandler.service.typeName} failed`,e)}});done()}function addNoopContentTypeParsers(instance){instance.addContentTypeParser([contentTypeUnaryJson,contentTypeStreamJson,contentTypeProto,contentTypeJson,contentTypeProto2,contentTypeJson2],noopContentTypeParser),instance.addContentTypeParser(contentTypeRegExp2,noopContentTypeParser),instance.addContentTypeParser(contentTypeRegExp,noopContentTypeParser),instance.addContentTypeParser(contentTypeRegExp3,noopContentTypeParser)}function noopContentTypeParser(_req,_payload,done){done(null,void 0)}var import_http_proxy=__toESM(require_http_proxy());var import_node_path3=__toESM(require("node:path")),import_node_process=__toESM(require("node:process")),import_line_diff=__toESM(require_lib2());function isLength(value){return Number.isSafeInteger(value)&&value>=0}function isArrayLike(value){return value!=null&&typeof value!="function"&&isLength(value.length)}function toString(value){if(value==null)return"";if(typeof value=="string")return value;if(Array.isArray(value))return value.map(toString).join(",");let result=String(value);return result==="0"&&Object.is(Number(value),-0)?"-0":result}function isPrimitive(value){return value==null||typeof value!="object"&&typeof value!="function"}function isEqualsSameValueZero(value,other){return value===other||Number.isNaN(value)&&Number.isNaN(other)}function getSymbols(object){return Object.getOwnPropertySymbols(object).filter(symbol2=>Object.prototype.propertyIsEnumerable.call(object,symbol2))}function getTag(value){return value==null?value===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(value)}var regexpTag="[object RegExp]",stringTag="[object String]",numberTag="[object Number]",booleanTag="[object Boolean]",argumentsTag="[object Arguments]",symbolTag="[object Symbol]",dateTag="[object Date]",mapTag="[object Map]",setTag="[object Set]",arrayTag="[object Array]";var arrayBufferTag="[object ArrayBuffer]",objectTag="[object Object]";var dataViewTag="[object DataView]",uint8ArrayTag="[object Uint8Array]",uint8ClampedArrayTag="[object Uint8ClampedArray]",uint16ArrayTag="[object Uint16Array]",uint32ArrayTag="[object Uint32Array]";var int8ArrayTag="[object Int8Array]",int16ArrayTag="[object Int16Array]",int32ArrayTag="[object Int32Array]";var float32ArrayTag="[object Float32Array]",float64ArrayTag="[object Float64Array]";function isTypedArray(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}function cloneDeepWith(obj,cloneValue){return cloneDeepWithImpl(obj,void 0,obj,new Map,cloneValue)}function cloneDeepWithImpl(valueToClone,keyToClone,objectToClone,stack=new Map,cloneValue=void 0){let cloned=cloneValue?.(valueToClone,keyToClone,objectToClone,stack);if(cloned!==void 0)return cloned;if(isPrimitive(valueToClone))return valueToClone;if(stack.has(valueToClone))return stack.get(valueToClone);if(Array.isArray(valueToClone)){let result=new Array(valueToClone.length);stack.set(valueToClone,result);for(let i=0;i<valueToClone.length;i++)result[i]=cloneDeepWithImpl(valueToClone[i],i,objectToClone,stack,cloneValue);return Object.hasOwn(valueToClone,"index")&&(result.index=valueToClone.index),Object.hasOwn(valueToClone,"input")&&(result.input=valueToClone.input),result}if(valueToClone instanceof Date)return new Date(valueToClone.getTime());if(valueToClone instanceof RegExp){let result=new RegExp(valueToClone.source,valueToClone.flags);return result.lastIndex=valueToClone.lastIndex,result}if(valueToClone instanceof Map){let result=new Map;stack.set(valueToClone,result);for(let[key,value]of valueToClone)result.set(key,cloneDeepWithImpl(value,key,objectToClone,stack,cloneValue));return result}if(valueToClone instanceof Set){let result=new Set;stack.set(valueToClone,result);for(let value of valueToClone)result.add(cloneDeepWithImpl(value,void 0,objectToClone,stack,cloneValue));return result}if(typeof Buffer<"u"&&Buffer.isBuffer(valueToClone))return valueToClone.subarray();if(isTypedArray(valueToClone)){let result=new(Object.getPrototypeOf(valueToClone)).constructor(valueToClone.length);stack.set(valueToClone,result);for(let i=0;i<valueToClone.length;i++)result[i]=cloneDeepWithImpl(valueToClone[i],i,objectToClone,stack,cloneValue);return result}if(valueToClone instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&valueToClone instanceof SharedArrayBuffer)return valueToClone.slice(0);if(valueToClone instanceof DataView){let result=new DataView(valueToClone.buffer.slice(0),valueToClone.byteOffset,valueToClone.byteLength);return stack.set(valueToClone,result),copyProperties(result,valueToClone,objectToClone,stack,cloneValue),result}if(typeof File<"u"&&valueToClone instanceof File){let result=new File([valueToClone],valueToClone.name,{type:valueToClone.type});return stack.set(valueToClone,result),copyProperties(result,valueToClone,objectToClone,stack,cloneValue),result}if(typeof Blob<"u"&&valueToClone instanceof Blob){let result=new Blob([valueToClone],{type:valueToClone.type});return stack.set(valueToClone,result),copyProperties(result,valueToClone,objectToClone,stack,cloneValue),result}if(valueToClone instanceof Error){let result=new valueToClone.constructor;return stack.set(valueToClone,result),result.message=valueToClone.message,result.name=valueToClone.name,result.stack=valueToClone.stack,result.cause=valueToClone.cause,copyProperties(result,valueToClone,objectToClone,stack,cloneValue),result}if(valueToClone instanceof Boolean){let result=new Boolean(valueToClone.valueOf());return stack.set(valueToClone,result),copyProperties(result,valueToClone,objectToClone,stack,cloneValue),result}if(valueToClone instanceof Number){let result=new Number(valueToClone.valueOf());return stack.set(valueToClone,result),copyProperties(result,valueToClone,objectToClone,stack,cloneValue),result}if(valueToClone instanceof String){let result=new String(valueToClone.valueOf());return stack.set(valueToClone,result),copyProperties(result,valueToClone,objectToClone,stack,cloneValue),result}if(typeof valueToClone=="object"&&isCloneableObject(valueToClone)){let result=Object.create(Object.getPrototypeOf(valueToClone));return stack.set(valueToClone,result),copyProperties(result,valueToClone,objectToClone,stack,cloneValue),result}return valueToClone}function copyProperties(target,source,objectToClone=target,stack,cloneValue){let keys2=[...Object.keys(source),...getSymbols(source)];for(let i=0;i<keys2.length;i++){let key=keys2[i],descriptor=Object.getOwnPropertyDescriptor(target,key);(descriptor==null||descriptor.writable)&&(target[key]=cloneDeepWithImpl(source[key],key,objectToClone,stack,cloneValue))}}function isCloneableObject(object){switch(getTag(object)){case argumentsTag:case arrayTag:case arrayBufferTag:case dataViewTag:case booleanTag:case dateTag:case float32ArrayTag:case float64ArrayTag:case int8ArrayTag:case int16ArrayTag:case int32ArrayTag:case mapTag:case numberTag:case objectTag:case regexpTag:case setTag:case stringTag:case symbolTag:case uint8ArrayTag:case uint8ClampedArrayTag:case uint16ArrayTag:case uint32ArrayTag:return!0;default:return!1}}function cloneDeepWith2(obj,customizer){return cloneDeepWith(obj,(value,key,object,stack)=>{let cloned=customizer?.(value,key,object,stack);if(cloned!==void 0)return cloned;if(typeof obj=="object"){if(getTag(obj)===objectTag&&typeof obj.constructor!="function"){let result={};return stack.set(obj,result),copyProperties(result,obj,object,stack),result}switch(Object.prototype.toString.call(obj)){case numberTag:case stringTag:case booleanTag:{let result=new obj.constructor(obj?.valueOf());return copyProperties(result,obj),result}case argumentsTag:{let result={};return copyProperties(result,obj),result.length=obj.length,result[Symbol.iterator]=obj[Symbol.iterator],result}default:return}}})}function cloneDeep(obj){return cloneDeepWith2(obj)}function isSymbol(value){return typeof value=="symbol"||value instanceof Symbol}function toNumber(value){return isSymbol(value)?NaN:Number(value)}function toFinite(value){return value?(value=toNumber(value),value===1/0||value===-1/0?(value<0?-1:1)*Number.MAX_VALUE:value===value?value:0):value===0?value:0}function toInteger(value){let finite=toFinite(value),remainder=finite%1;return remainder?finite-remainder:finite}function isBuffer(x){return typeof Buffer<"u"&&Buffer.isBuffer(x)}function isPrototype(value){let constructor=value?.constructor,prototype=typeof constructor=="function"?constructor.prototype:Object.prototype;return value===prototype}function isTypedArray2(x){return isTypedArray(x)}function times(n,getValue){if(n=toInteger(n),n<1||!Number.isSafeInteger(n))return[];let result=new Array(n);for(let i=0;i<n;i++)result[i]=typeof getValue=="function"?getValue(i):i;return result}function keys(object){if(isArrayLike(object))return arrayLikeKeys(object);let result=Object.keys(Object(object));return isPrototype(object)?result.filter(key=>key!=="constructor"):result}function arrayLikeKeys(object){let indices=times(object.length,index2=>`${index2}`),filteredKeys=new Set(indices);isBuffer(object)&&(filteredKeys.add("offset"),filteredKeys.add("parent")),isTypedArray2(object)&&(filteredKeys.add("buffer"),filteredKeys.add("byteLength"),filteredKeys.add("byteOffset"));let inheritedKeys=Object.keys(object).filter(key=>!filteredKeys.has(key));return Array.isArray(object)?[...indices,...inheritedKeys]:[...indices.filter(index2=>Object.hasOwn(object,index2)),...inheritedKeys]}function assign(object,...sources){for(let i=0;i<sources.length;i++)assignImpl(object,sources[i]);return object}function assignImpl(object,source){let keys$1=keys(source);for(let i=0;i<keys$1.length;i++){let key=keys$1[i];(!(key in object)||!isEqualsSameValueZero(object[key],source[key]))&&(object[key]=source[key])}}function padStart(str,length=0,chars=" "){return toString(str).padStart(length,chars)}var Error2=class extends ConnectError{constructor(code2,message){super(message,void 0,[],[{value:{code:code2,message},desc:RpcErrorDetailsSchema}])}},EmptyResponse=create(EmptySchema);var file_core_forms=fileDesc("ChBjb3JlL2Zvcm1zLnByb3RvEhJicmFpaW5zLmZyb3h5LmNvcmUikQEKEEZpZWxkRXJyb3JTdHJpbmcSLQoFZXJyb3IYASABKA4yHi5icmFpaW5zLmZyb3h5LmNvcmUuRmllbGRFcnJvchIXCgptaW5fbGVuZ3RoGAIgASgNSACIAQESFwoKbWF4X2xlbmd0aBgDIAEoDUgBiAEBQg0KC19taW5fbGVuZ3RoQg0KC19tYXhfbGVuZ3RoKr8BCgpGaWVsZEVycm9yEhsKF0ZJRUxEX0VSUk9SX1VOU1BFQ0lGSUVEEAASFwoTRklFTERfRVJST1JfTUlTU0lORxABEhcKE0ZJRUxEX0VSUk9SX1VOS05PV04QAhIbChdGSUVMRF9FUlJPUl9VTkFWQUlMQUJMRRADEhUKEUZJRUxEX0VSUk9SX1JBTkdFEAQSFgoSRklFTERfRVJST1JfRk9STUFUEAUSFgoSRklFTERfRVJST1JfQ1VTVE9NEAZiBnByb3RvMw");var file_config_service=fileDesc("ChRjb25maWdfc2VydmljZS5wcm90bxINYnJhaWlucy5mcm94eSIgCgtGaWxlQ29udGV4dBIRCglmaWxlX25hbWUYASABKAkiXgoPVmFsaWRhdGlvbkVycm9yEiwKBGNvZGUYASABKA4yHi5icmFpaW5zLmZyb3h5LmNvcmUuRmllbGRFcnJvchIMCgRwYXRoGAIgAygJEg8KB21lc3NhZ2UYAyABKAkiOAoYU2V0QWN0aXZlUHJvZmlsZVJlc3BvbnNlEhIKBWVycm9yGAEgASgJSACIAQFCCAoGX2Vycm9yIj0KFUFjdGl2ZVByb2ZpbGVSZXNwb25zZRIWCglmaWxlX25hbWUYASABKAlIAIgBAUIMCgpfZmlsZV9uYW1lIigKF0xpc3RDb25maWdGaWxlc1Jlc3BvbnNlEg0KBWZpbGVzGAEgAygJIjEKGVZhbGlkYXRlQ29uZmlnRmlsZVJlcXVlc3QSFAoMZmlsZV9jb250ZW50GAEgASgJIs4BChBWYWxpZGF0aW9uRXJyb3JzEjwKB3NlcnZlcnMYASABKAsyKy5icmFpaW5zLmZyb3h5LkFyZVNlcnZlcnNXZWxsRm9ybWVkUmVzcG9uc2USPAoHdGFyZ2V0cxgCIAEoCzIrLmJyYWlpbnMuZnJveHkuQXJlVGFyZ2V0c1dlbGxGb3JtZWRSZXNwb25zZRI+Cghyb3V0aW5ncxgDIAEoCzIsLmJyYWlpbnMuZnJveHkuQXJlUm91dGluZ3NXZWxsRm9ybWVkUmVzcG9uc2UiXwoaVmFsaWRhdGVDb25maWdGaWxlUmVzcG9uc2USEAoIaXNfdmFsaWQYASABKAgSLwoGZXJyb3JzGAIgASgLMh8uYnJhaWlucy5mcm94eS5WYWxpZGF0aW9uRXJyb3JzIlIKJ0NyZWF0ZUNvbmZpZ0ZpbGVGcm9tVXBsb2FkZWRGaWxlUmVxdWVzdBIRCglmaWxlX25hbWUYASABKAkSFAoMZmlsZV9jb250ZW50GAIgASgJIlMKKENyZWF0ZUNvbmZpZ0ZpbGVGcm9tVXBsb2FkZWRGaWxlUmVzcG9uc2USEQoJZmlsZV9uYW1lGAEgASgJEhQKDGZpbGVfY29udGVudBgCIAEoCSJDCghUZW1wbGF0ZRINCgV0aXRsZRgBIAEoCRIYCgtkZXNjcmlwdGlvbhgCIAEoCUgAiAEBQg4KDF9kZXNjcmlwdGlvbiJDChlMaXN0VGVtcGxhdGVGaWxlc1Jlc3BvbnNlEiYKBWZpbGVzGAEgAygLMhcuYnJhaWlucy5mcm94eS5UZW1wbGF0ZSJEChhDbG9uZVRlbXBsYXRlRmlsZVJlcXVlc3QSEwoLc291cmNlX25hbWUYASABKAkSEwoLdGFyZ2V0X25hbWUYAiABKAkiwgIKBlNlcnZlchIMCgRuYW1lGAEgASgJEgwKBHBvcnQYAiABKA0SHAoPZXh0cmFub25jZV9zaXplGAMgASgNSACIAQESIAoTdmFsaWRhdGVzX2hhc2hfcmF0ZRgEIAEoCEgBiAEBEiIKFXVzZV9lbXB0eV9leHRyYW5vbmNlMRgFIAEoCEgCiAEBEiIKFWJyYWlpbnNwb29sX2Jvc19ib251cxgHIAEoCUgDiAEBEh4KEWJvc19yZWZlcnJhbF9jb2RlGAggASgJSASIAQFCEgoQX2V4dHJhbm9uY2Vfc2l6ZUIWChRfdmFsaWRhdGVzX2hhc2hfcmF0ZUIYChZfdXNlX2VtcHR5X2V4dHJhbm9uY2UxQhgKFl9icmFpaW5zcG9vbF9ib3NfYm9udXNCFAoSX2Jvc19yZWZlcnJhbF9jb2RlIjUKC1NlcnZlcnNMaXN0EiYKB3NlcnZlcnMYASADKAsyFS5icmFpaW5zLmZyb3h5LlNlcnZlciJ/ChlJc1NlcnZlcldlbGxGb3JtZWRSZXF1ZXN0EhEKCWZpbGVfbmFtZRgBIAEoCRIlCgZzZXJ2ZXIYAiABKAsyFS5icmFpaW5zLmZyb3h5LlNlcnZlchIYCgtzZXJ2ZXJfbmFtZRgDIAEoCUgAiAEBQg4KDF9zZXJ2ZXJfbmFtZSJeChpJc1NlcnZlcldlbGxGb3JtZWRSZXNwb25zZRIQCghpc192YWxpZBgBIAEoCBIuCgZlcnJvcnMYAiADKAsyHi5icmFpaW5zLmZyb3h5LlZhbGlkYXRpb25FcnJvciJgChxBcmVTZXJ2ZXJzV2VsbEZvcm1lZFJlc3BvbnNlEhAKCGlzX3ZhbGlkGAEgASgIEi4KBmVycm9ycxgCIAMoCzIeLmJyYWlpbnMuZnJveHkuVmFsaWRhdGlvbkVycm9yIkwKEEFkZFNlcnZlclJlcXVlc3QSEQoJZmlsZV9uYW1lGAEgASgJEiUKBnNlcnZlchgCIAEoCzIVLmJyYWlpbnMuZnJveHkuU2VydmVyImQKE1VwZGF0ZVNlcnZlclJlcXVlc3QSEQoJZmlsZV9uYW1lGAEgASgJEhMKC3NlcnZlcl9uYW1lGAIgASgJEiUKBnNlcnZlchgDIAEoCzIVLmJyYWlpbnMuZnJveHkuU2VydmVyIj0KE0RlbGV0ZVNlcnZlclJlcXVlc3QSEQoJZmlsZV9uYW1lGAEgASgJEhMKC3NlcnZlcl9uYW1lGAIgASgJIkkKH0lzU2VydmVyRGVwZW5kc09uUm91dGluZ1JlcXVlc3QSEQoJZmlsZV9uYW1lGAEgASgJEhMKC3NlcnZlcl9uYW1lGAIgASgJIjYKIElzU2VydmVyRGVwZW5kc09uUm91dGluZ1Jlc3BvbnNlEhIKCmlzX2RlcGVuZHMYASABKAgihgIKBlRhcmdldBIMCgRuYW1lGAEgASgJEgsKA3VybBgCIAEoCRIVCg11c2VyX2lkZW50aXR5GAMgASgJEiIKFWlkZW50aXR5X3Bhc3NfdGhyb3VnaBgEIAEoCEgAiAEBEhwKD2V4dHJhbm9uY2Vfc2l6ZRgFIAEoDUgBiAEBEhgKC2FnZ3JlZ2F0aW9uGAYgASgNSAKIAQESHAoPd29ya2VyX3Bhc3N3b3JkGAcgASgJSAOIAQFCGAoWX2lkZW50aXR5X3Bhc3NfdGhyb3VnaEISChBfZXh0cmFub25jZV9zaXplQg4KDF9hZ2dyZWdhdGlvbkISChBfd29ya2VyX3Bhc3N3b3JkIjUKC1RhcmdldHNMaXN0EiYKB3RhcmdldHMYASADKAsyFS5icmFpaW5zLmZyb3h5LlRhcmdldCJ/ChlJc1RhcmdldFdlbGxGb3JtZWRSZXF1ZXN0EhEKCWZpbGVfbmFtZRgBIAEoCRIlCgZ0YXJnZXQYAiABKAsyFS5icmFpaW5zLmZyb3h5LlRhcmdldBIYCgt0YXJnZXRfbmFtZRgDIAEoCUgAiAEBQg4KDF90YXJnZXRfbmFtZSJeChpJc1RhcmdldFdlbGxGb3JtZWRSZXNwb25zZRIQCghpc192YWxpZBgBIAEoCBIuCgZlcnJvcnMYAiADKAsyHi5icmFpaW5zLmZyb3h5LlZhbGlkYXRpb25FcnJvciJgChxBcmVUYXJnZXRzV2VsbEZvcm1lZFJlc3BvbnNlEhAKCGlzX3ZhbGlkGAEgASgIEi4KBmVycm9ycxgCIAMoCzIeLmJyYWlpbnMuZnJveHkuVmFsaWRhdGlvbkVycm9yIkwKEEFkZFRhcmdldFJlcXVlc3QSEQoJZmlsZV9uYW1lGAEgASgJEiUKBnRhcmdldBgCIAEoCzIVLmJyYWlpbnMuZnJveHkuVGFyZ2V0ImQKE1VwZGF0ZVRhcmdldFJlcXVlc3QSEQoJZmlsZV9uYW1lGAEgASgJEhMKC3RhcmdldF9uYW1lGAIgASgJEiUKBnRhcmdldBgDIAEoCzIVLmJyYWlpbnMuZnJveHkuVGFyZ2V0Ij0KE0RlbGV0ZVRhcmdldFJlcXVlc3QSEQoJZmlsZV9uYW1lGAEgASgJEhMKC3RhcmdldF9uYW1lGAIgASgJIkkKH0lzVGFyZ2V0RGVwZW5kc09uUm91dGluZ1JlcXVlc3QSEQoJZmlsZV9uYW1lGAEgASgJEhMKC3RhcmdldF9uYW1lGAIgASgJIkoKIElzVGFyZ2V0RGVwZW5kc09uUm91dGluZ1Jlc3BvbnNlEhIKCmlzX2RlcGVuZHMYASABKAgSEgoKZGVwZW5kc19vbhgCIAMoCSIfCgxSb3V0aW5nTGV2ZWwSDwoHdGFyZ2V0cxgBIAMoCSJcChhJc1JvdXRpbmdMZXZlbFdlbGxGb3JtZWQSEAoIaXNfdmFsaWQYASABKAgSLgoGZXJyb3JzGAIgAygLMh4uYnJhaWlucy5mcm94eS5WYWxpZGF0aW9uRXJyb3IibQoLUm91dGluZ0dvYWwSDAoEbmFtZRgBIAEoCRIWCglocl93ZWlnaHQYAiABKA1IAIgBARIqCgVsZXZlbBgDIAMoCzIbLmJyYWlpbnMuZnJveHkuUm91dGluZ0xldmVsQgwKCl9ocl93ZWlnaHQiWwoXSXNSb3V0aW5nR29hbFdlbGxGb3JtZWQSEAoIaXNfdmFsaWQYASABKAgSLgoGZXJyb3JzGAIgAygLMh4uYnJhaWlucy5mcm94eS5WYWxpZGF0aW9uRXJyb3IiTwoHUm91dGluZxIMCgRuYW1lGAEgASgJEgwKBGZyb20YAiADKAkSKAoEZ29hbBgDIAMoCzIaLmJyYWlpbnMuZnJveHkuUm91dGluZ0dvYWwiOAoMUm91dGluZ3NMaXN0EigKCHJvdXRpbmdzGAEgAygLMhYuYnJhaWlucy5mcm94eS5Sb3V0aW5nIlcKE0lzUm91dGluZ1dlbGxGb3JtZWQSEAoIaXNfdmFsaWQYASABKAgSLgoGZXJyb3JzGAIgAygLMh4uYnJhaWlucy5mcm94eS5WYWxpZGF0aW9uRXJyb3IiWwocQXJlUm91dGluZ3NXZWxsRm9ybWVkUmVxdWVzdBIRCglmaWxlX25hbWUYASABKAkSKAoIcm91dGluZ3MYAiADKAsyFi5icmFpaW5zLmZyb3h5LlJvdXRpbmciYQodQXJlUm91dGluZ3NXZWxsRm9ybWVkUmVzcG9uc2USEAoIaXNfdmFsaWQYASABKAgSLgoGZXJyb3JzGAIgAygLMh4uYnJhaWlucy5mcm94eS5WYWxpZGF0aW9uRXJyb3IigwEKHklzUm91dGluZ0dvYWxXZWxsRm9ybWVkUmVxdWVzdBIRCglmaWxlX25hbWUYASABKAkSKAoEZ29hbBgCIAEoCzIaLmJyYWlpbnMuZnJveHkuUm91dGluZ0dvYWwSFgoJZ29hbF9uYW1lGAMgASgJSACIAQFCDAoKX2dvYWxfbmFtZSJjCh9Jc1JvdXRpbmdHb2FsV2VsbEZvcm1lZFJlc3BvbnNlEhAKCGlzX3ZhbGlkGAEgASgIEi4KBmVycm9ycxgCIAMoCzIeLmJyYWlpbnMuZnJveHkuVmFsaWRhdGlvbkVycm9yIlEKElNldFJvdXRpbmdzUmVxdWVzdBIRCglmaWxlX25hbWUYASABKAkSKAoIcm91dGluZ3MYAiADKAsyFi5icmFpaW5zLmZyb3h5LlJvdXRpbmciVAoVQWRkUm91dGluZ0dvYWxSZXF1ZXN0EhEKCWZpbGVfbmFtZRgBIAEoCRIoCgRnb2FsGAIgASgLMhouYnJhaWlucy5mcm94eS5Sb3V0aW5nR29hbCJqChhVcGRhdGVSb3V0aW5nR29hbFJlcXVlc3QSEQoJZmlsZV9uYW1lGAEgASgJEhEKCWdvYWxfbmFtZRgCIAEoCRIoCgRnb2FsGAMgASgLMhouYnJhaWlucy5mcm94eS5Sb3V0aW5nR29hbCJAChhEZWxldGVSb3V0aW5nR29hbFJlcXVlc3QSEQoJZmlsZV9uYW1lGAEgASgJEhEKCWdvYWxfbmFtZRgCIAEoCSKPAQoIVGVtcEZpbGUSEQoJZmlsZV9uYW1lGAEgASgJEi4KCmNyZWF0ZWRfYXQYAiABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi8KC21vZGlmaWVkX2F0GAMgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBIPCgdjb250ZW50GAUgASgJIkMKGUdldFBlbmRpbmdDaGFuZ2VzUmVzcG9uc2USJgoFZmlsZXMYASADKAsyFy5icmFpaW5zLmZyb3h5LlRlbXBGaWxlIl0KHENvbW1pdFBlbmRpbmdDaGFuZ2VzUmVzcG9uc2USGgoQYmFja3VwX2ZpbGVfbmFtZRgBIAEoCUgAEhcKDWVycm9yX21lc3NhZ2UYAiABKAlIAEIICgZyZXN1bHQiLQoYUmVsb2FkUHJveHlDb25maWdSZXF1ZXN0EhEKCWZpbGVfbmFtZRgBIAEoCSI5ChlSZWxvYWRQcm94eUNvbmZpZ1Jlc3BvbnNlEhIKBWVycm9yGAEgASgJSACIAQFCCAoGX2Vycm9yMq8WCg1Db25maWdTZXJ2aWNlElAKEEdldEFjdGl2ZVByb2ZpbGUSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaJC5icmFpaW5zLmZyb3h5LkFjdGl2ZVByb2ZpbGVSZXNwb25zZRJXChBTZXRBY3RpdmVQcm9maWxlEhouYnJhaWlucy5mcm94eS5GaWxlQ29udGV4dBonLmJyYWlpbnMuZnJveHkuU2V0QWN0aXZlUHJvZmlsZVJlc3BvbnNlElEKD0xpc3RDb25maWdGaWxlcxIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRomLmJyYWlpbnMuZnJveHkuTGlzdENvbmZpZ0ZpbGVzUmVzcG9uc2USVQoRTGlzdFRlbXBsYXRlRmlsZXMSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaKC5icmFpaW5zLmZyb3h5Lkxpc3RUZW1wbGF0ZUZpbGVzUmVzcG9uc2USVAoRQ2xvbmVUZW1wbGF0ZUZpbGUSJy5icmFpaW5zLmZyb3h5LkNsb25lVGVtcGxhdGVGaWxlUmVxdWVzdBoWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRJLChVDcmVhdGVCbGFua0NvbmZpZ0ZpbGUSGi5icmFpaW5zLmZyb3h5LkZpbGVDb250ZXh0GhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5EmkKElZhbGlkYXRlQ29uZmlnRmlsZRIoLmJyYWlpbnMuZnJveHkuVmFsaWRhdGVDb25maWdGaWxlUmVxdWVzdBopLmJyYWlpbnMuZnJveHkuVmFsaWRhdGVDb25maWdGaWxlUmVzcG9uc2UScgogQ3JlYXRlQ29uZmlnRmlsZUZyb21VcGxvYWRlZEZpbGUSNi5icmFpaW5zLmZyb3h5LkNyZWF0ZUNvbmZpZ0ZpbGVGcm9tVXBsb2FkZWRGaWxlUmVxdWVzdBoWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRJGChBEZWxldGVDb25maWdGaWxlEhouYnJhaWlucy5mcm94eS5GaWxlQ29udGV4dBoWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRJECgpHZXRTZXJ2ZXJzEhouYnJhaWlucy5mcm94eS5GaWxlQ29udGV4dBoaLmJyYWlpbnMuZnJveHkuU2VydmVyc0xpc3QSaQoSSXNTZXJ2ZXJXZWxsRm9ybWVkEiguYnJhaWlucy5mcm94eS5Jc1NlcnZlcldlbGxGb3JtZWRSZXF1ZXN0GikuYnJhaWlucy5mcm94eS5Jc1NlcnZlcldlbGxGb3JtZWRSZXNwb25zZRJ7ChhJc1NlcnZlckRlcGVuZHNPblJvdXRpbmcSLi5icmFpaW5zLmZyb3h5LklzU2VydmVyRGVwZW5kc09uUm91dGluZ1JlcXVlc3QaLy5icmFpaW5zLmZyb3h5LklzU2VydmVyRGVwZW5kc09uUm91dGluZ1Jlc3BvbnNlEkQKCUFkZFNlcnZlchIfLmJyYWlpbnMuZnJveHkuQWRkU2VydmVyUmVxdWVzdBoWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRJKCgxEZWxldGVTZXJ2ZXISIi5icmFpaW5zLmZyb3h5LkRlbGV0ZVNlcnZlclJlcXVlc3QaFi5nb29nbGUucHJvdG9idWYuRW1wdHkSSgoMVXBkYXRlU2VydmVyEiIuYnJhaWlucy5mcm94eS5VcGRhdGVTZXJ2ZXJSZXF1ZXN0GhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5EkQKCkdldFRhcmdldHMSGi5icmFpaW5zLmZyb3h5LkZpbGVDb250ZXh0GhouYnJhaWlucy5mcm94eS5UYXJnZXRzTGlzdBJpChJJc1RhcmdldFdlbGxGb3JtZWQSKC5icmFpaW5zLmZyb3h5LklzVGFyZ2V0V2VsbEZvcm1lZFJlcXVlc3QaKS5icmFpaW5zLmZyb3h5LklzVGFyZ2V0V2VsbEZvcm1lZFJlc3BvbnNlEnsKGElzVGFyZ2V0RGVwZW5kc09uUm91dGluZxIuLmJyYWlpbnMuZnJveHkuSXNUYXJnZXREZXBlbmRzT25Sb3V0aW5nUmVxdWVzdBovLmJyYWlpbnMuZnJveHkuSXNUYXJnZXREZXBlbmRzT25Sb3V0aW5nUmVzcG9uc2USRAoJQWRkVGFyZ2V0Eh8uYnJhaWlucy5mcm94eS5BZGRUYXJnZXRSZXF1ZXN0GhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5EkoKDERlbGV0ZVRhcmdldBIiLmJyYWlpbnMuZnJveHkuRGVsZXRlVGFyZ2V0UmVxdWVzdBoWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRJKCgxVcGRhdGVUYXJnZXQSIi5icmFpaW5zLmZyb3h5LlVwZGF0ZVRhcmdldFJlcXVlc3QaFi5nb29nbGUucHJvdG9idWYuRW1wdHkSRgoLR2V0Um91dGluZ3MSGi5icmFpaW5zLmZyb3h5LkZpbGVDb250ZXh0GhsuYnJhaWlucy5mcm94eS5Sb3V0aW5nc0xpc3QScgoVQXJlUm91dGluZ3NXZWxsRm9ybWVkEisuYnJhaWlucy5mcm94eS5BcmVSb3V0aW5nc1dlbGxGb3JtZWRSZXF1ZXN0GiwuYnJhaWlucy5mcm94eS5BcmVSb3V0aW5nc1dlbGxGb3JtZWRSZXNwb25zZRJ4ChdJc1JvdXRpbmdHb2FsV2VsbEZvcm1lZBItLmJyYWlpbnMuZnJveHkuSXNSb3V0aW5nR29hbFdlbGxGb3JtZWRSZXF1ZXN0Gi4uYnJhaWlucy5mcm94eS5Jc1JvdXRpbmdHb2FsV2VsbEZvcm1lZFJlc3BvbnNlEkgKC1NldFJvdXRpbmdzEiEuYnJhaWlucy5mcm94eS5TZXRSb3V0aW5nc1JlcXVlc3QaFi5nb29nbGUucHJvdG9idWYuRW1wdHkSTgoOQWRkUm91dGluZ0dvYWwSJC5icmFpaW5zLmZyb3h5LkFkZFJvdXRpbmdHb2FsUmVxdWVzdBoWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRJUChFEZWxldGVSb3V0aW5nR29hbBInLmJyYWlpbnMuZnJveHkuRGVsZXRlUm91dGluZ0dvYWxSZXF1ZXN0GhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5ElQKEVVwZGF0ZVJvdXRpbmdHb2FsEicuYnJhaWlucy5mcm94eS5VcGRhdGVSb3V0aW5nR29hbFJlcXVlc3QaFi5nb29nbGUucHJvdG9idWYuRW1wdHkSVQoRR2V0UGVuZGluZ0NoYW5nZXMSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaKC5icmFpaW5zLmZyb3h5LkdldFBlbmRpbmdDaGFuZ2VzUmVzcG9uc2USXwoUQ29tbWl0UGVuZGluZ0NoYW5nZXMSGi5icmFpaW5zLmZyb3h5LkZpbGVDb250ZXh0GisuYnJhaWlucy5mcm94eS5Db21taXRQZW5kaW5nQ2hhbmdlc1Jlc3BvbnNlEksKFURpc2NhcmRQZW5kaW5nQ2hhbmdlcxIaLmJyYWlpbnMuZnJveHkuRmlsZUNvbnRleHQaFi5nb29nbGUucHJvdG9idWYuRW1wdHkSZgoRUmVsb2FkUHJveHlDb25maWcSJy5icmFpaW5zLmZyb3h5LlJlbG9hZFByb3h5Q29uZmlnUmVxdWVzdBooLmJyYWlpbnMuZnJveHkuUmVsb2FkUHJveHlDb25maWdSZXNwb25zZWIGcHJvdG8z",[file_core_forms,file_google_protobuf_empty,file_google_protobuf_timestamp]);var ValidationErrorSchema=messageDesc(file_config_service,1),SetActiveProfileResponseSchema=messageDesc(file_config_service,2),ActiveProfileResponseSchema=messageDesc(file_config_service,3),ListConfigFilesResponseSchema=messageDesc(file_config_service,4);var ValidationErrorsSchema=messageDesc(file_config_service,6),ValidateConfigFileResponseSchema=messageDesc(file_config_service,7);var TemplateSchema=messageDesc(file_config_service,10),ListTemplateFilesResponseSchema=messageDesc(file_config_service,11);var ServerSchema=messageDesc(file_config_service,13),ServersListSchema=messageDesc(file_config_service,14);var IsServerWellFormedResponseSchema=messageDesc(file_config_service,16);var IsServerDependsOnRoutingResponseSchema=messageDesc(file_config_service,22),TargetSchema=messageDesc(file_config_service,23),TargetsListSchema=messageDesc(file_config_service,24);var IsTargetWellFormedResponseSchema=messageDesc(file_config_service,26);var IsTargetDependsOnRoutingResponseSchema=messageDesc(file_config_service,32);var RoutingGoalSchema=messageDesc(file_config_service,35);var RoutingSchema=messageDesc(file_config_service,37),RoutingsListSchema=messageDesc(file_config_service,38);var AreRoutingsWellFormedResponseSchema=messageDesc(file_config_service,41);var IsRoutingGoalWellFormedResponseSchema=messageDesc(file_config_service,43);var TempFileSchema=messageDesc(file_config_service,48),GetPendingChangesResponseSchema=messageDesc(file_config_service,49),CommitPendingChangesResponseSchema=messageDesc(file_config_service,50),ReloadProxyConfigRequestSchema=messageDesc(file_config_service,51),ReloadProxyConfigResponseSchema=messageDesc(file_config_service,52),ConfigService=serviceDesc(file_config_service,0);var file_core_net=fileDesc("Cg5jb3JlL25ldC5wcm90bxISYnJhaWlucy5mcm94eS5jb3JlIk8KD1JwY0Vycm9yRGV0YWlscxIrCgRjb2RlGAEgASgOMh0uYnJhaWlucy5mcm94eS5jb3JlLkVycm9yQ29kZRIPCgdtZXNzYWdlGAIgASgJKpQBCglFcnJvckNvZGUSGgoWRVJST1JfQ09ERV9VTlNQRUNJRklFRBAAEhcKE0VSUk9SX0NPREVfSU5URVJOQUwQARIYChRFUlJPUl9DT0RFX05PVF9GT1VORBBlEh0KGUVSUk9SX0NPREVfQUxSRUFEWV9FWElTVFMQZhIZChRFUlJPUl9DT0RFX0lOVEVHUklUWRDJAWIGcHJvdG8z"),RpcErrorDetailsSchema=messageDesc(file_core_net,0);var file_info_service=fileDesc("ChJpbmZvX3NlcnZpY2UucHJvdG8SDWJyYWlpbnMuZnJveHkiiwIKFExpc3RTZXJ2aWNlc1Jlc3BvbnNlEj4KBXByb3h5GAEgASgLMi8uYnJhaWlucy5mcm94eS5MaXN0U2VydmljZXNSZXNwb25zZS5TZXJ2aWNlSW5mbxJACgdncmFmYW5hGAIgASgLMi8uYnJhaWlucy5mcm94eS5MaXN0U2VydmljZXNSZXNwb25zZS5TZXJ2aWNlSW5mbxJDCgpwcm9tZXRoZXVzGAMgASgLMi8uYnJhaWlucy5mcm94eS5MaXN0U2VydmljZXNSZXNwb25zZS5TZXJ2aWNlSW5mbxosCgtTZXJ2aWNlSW5mbxIMCgRob3N0GAEgASgJEg8KB2lzX2xpdmUYAiABKAgifwoGQ29tbWl0EgwKBGhhc2gYASABKAkSDwoHc3ViamVjdBgCIAEoCRIMCgRocmVmGAMgASgJEi4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEhAKA3RhZxgFIAEoCUgAiAEBQgYKBF90YWcicQoHUmVsZWFzZRIMCgRuYW1lGAEgASgJEgwKBGJvZHkYAiABKAkSCwoDdXJsGAMgASgJEgsKA3RhZxgEIAEoCRIwCgxwdWJsaXNoZWRfYXQYBSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wInwKGUdldFJlcG9zaXRvcnlJbmZvUmVzcG9uc2USJgoHY29tbWl0cxgBIAMoCzIVLmJyYWlpbnMuZnJveHkuQ29tbWl0EigKCHJlbGVhc2VzGAIgAygLMhYuYnJhaWlucy5mcm94eS5SZWxlYXNlEg0KBWVycm9yGAMgASgJIpoBChhHZXREZWZhdWx0Q29uZmlnUmVzcG9uc2USJQoGc2VydmVyGAEgASgLMhUuYnJhaWlucy5mcm94eS5TZXJ2ZXISJQoGdGFyZ2V0GAIgASgLMhUuYnJhaWlucy5mcm94eS5UYXJnZXQSMAoMcm91dGluZ19nb2FsGAMgASgLMhouYnJhaWlucy5mcm94eS5Sb3V0aW5nR29hbCJLCg1SYW5nZU1ldGFkYXRhEgsKA21pbhgBIAEoBRILCgNtYXgYAiABKAUSFAoHZGVmYXVsdBgDIAEoBUgAiAEBQgoKCF9kZWZhdWx0InMKDlNlcnZlck1ldGFkYXRhEioKBHBvcnQYASABKAsyHC5icmFpaW5zLmZyb3h5LlJhbmdlTWV0YWRhdGESNQoPZXh0cmFub25jZV9zaXplGAIgASgLMhwuYnJhaWlucy5mcm94eS5SYW5nZU1ldGFkYXRhInoKDlRhcmdldE1ldGFkYXRhEjUKD2V4dHJhbm9uY2Vfc2l6ZRgBIAEoCzIcLmJyYWlpbnMuZnJveHkuUmFuZ2VNZXRhZGF0YRIxCgthZ2dyZWdhdGlvbhgCIAEoCzIcLmJyYWlpbnMuZnJveHkuUmFuZ2VNZXRhZGF0YSJGChNSb3V0aW5nR29hbE1ldGFkYXRhEi8KCWhyX3dlaWdodBgBIAEoCzIcLmJyYWlpbnMuZnJveHkuUmFuZ2VNZXRhZGF0YSKtAQoTR2V0TWV0YWRhdGFSZXNwb25zZRItCgZzZXJ2ZXIYASABKAsyHS5icmFpaW5zLmZyb3h5LlNlcnZlck1ldGFkYXRhEi0KBnRhcmdldBgCIAEoCzIdLmJyYWlpbnMuZnJveHkuVGFyZ2V0TWV0YWRhdGESOAoMcm91dGluZ19nb2FsGAMgASgLMiIuYnJhaWlucy5mcm94eS5Sb3V0aW5nR29hbE1ldGFkYXRhMtECCgtJbmZvU2VydmljZRJVChFHZXRSZXBvc2l0b3J5SW5mbxIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRooLmJyYWlpbnMuZnJveHkuR2V0UmVwb3NpdG9yeUluZm9SZXNwb25zZRJLCgxMaXN0U2VydmljZXMSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaIy5icmFpaW5zLmZyb3h5Lkxpc3RTZXJ2aWNlc1Jlc3BvbnNlEkkKC0dldE1ldGFkYXRhEhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5GiIuYnJhaWlucy5mcm94eS5HZXRNZXRhZGF0YVJlc3BvbnNlElMKEEdldERlZmF1bHRDb25maWcSFi5nb29nbGUucHJvdG9idWYuRW1wdHkaJy5icmFpaW5zLmZyb3h5LkdldERlZmF1bHRDb25maWdSZXNwb25zZWIGcHJvdG8z",[file_config_service,file_google_protobuf_empty,file_google_protobuf_timestamp]),ListServicesResponseSchema=messageDesc(file_info_service,0);var CommitSchema=messageDesc(file_info_service,1),ReleaseSchema=messageDesc(file_info_service,2);var GetDefaultConfigResponseSchema=messageDesc(file_info_service,4);var GetMetadataResponseSchema=messageDesc(file_info_service,9),InfoService=serviceDesc(file_info_service,0);var import_node_util2=__toESM(require("node:util"));var import_node_fs=__toESM(require("node:fs")),import_unionfs=__toESM(require_lib3()),import_memfs=__toESM(require_lib11());var import_node_path=__toESM(require("node:path"));var DEFAULT={GRAFANA_PORT:3e3,PROMETHEUS_PORT:9090,MINING_PORTS:"3333-3339",SERVER_NAME:"S1",SERVER_PORT:3333,TARGET_NAME:"T1",ROUTING_GOAL_NAME:"Goal 100%"},ACTIVE_PROFILE_NAME="active_profile",ACTIVE_PROFILE_FULL_NAME=`${ACTIVE_PROFILE_NAME}.toml`,RESERVED_FILE_NAMES=[ACTIVE_PROFILE_NAME],GENERATED_BY_HEADER="# Generated by the GUI configurator";var CONFIG_FULL_PATH=`/config/${ACTIVE_PROFILE_FULL_NAME}`,CONFIG_PATH=import_node_path.default.dirname(CONFIG_FULL_PATH),CONFIG_NAME=import_node_path.default.basename(CONFIG_FULL_PATH),FP_CONFIG_PROFILE=CONFIG_NAME,fullTemplate=`
# Full server configuration
description = "Full server configuration"
[[server]]
name = "S1"
port = 3336

[[server]]
name = "S2"
port = 3337

[[target]]
name = "SP-EU"
url = "stratum+tcp://eu.stratum.braiins.com/"
user_identity = "user.workerName"

[[target]]
name = "SP-GB"
url = "stratum+tcp://gb.stratum.braiins.com/"
user_identity = "user.workerName"

[[target]]
name = "SP-US"
url = "stratum+tcp://us-east.stratum.braiins.com/"
user_identity = "user.workerName"

[[routing]]
from = ["S1"]

[[routing.goal]]
hr_weight = 100
name = "Goal 100%"

[[routing.goal.level]]
targets = ["SP-US"]

# Will be used as fallback when the first "level" is not working
[[routing.goal.level]]
targets = ["SP-EU"]
`;var minimal=`
# Minimal configuration

[[server]]
name = "S1"
port = 3336

[[target]]
name = "BP"
url = "stratum+tcp://stratum.braiins.com:3333"
user_identity = "userName.workerName"

[[routing]]
from = ["S1"]

[[routing.goal]]
name = "Primary Goal"

[[routing.goal.level]]
targets = ["BP"]
`;var mockFSDataIntegrationTests={"./config/templates/full.toml":fullTemplate,"./config/templates/sample.toml":minimal,"./config/templates/minimal.toml":minimal,"./config/config_a.toml":fullTemplate,"./config/config_b.toml":minimal,"./config/config_c.toml":"# test","./config/tmp":null,"./config/bak":null,"./config/.profile":`ACTIVE_PROFILE=config_a
`,"./config/active_profile.toml":fullTemplate};var FSService=class{#instance;#isMocked;#cwd;#volume;constructor(isMocked=!1,cwd="/"){this.#isMocked=isMocked,this.#cwd=cwd,this.#instance=this.#getFS(isMocked)}getInstance(){return this.#instance}#getMockedFS(){console.info(`INFO: File system is mocked: CWD=${this.#cwd}`),process.env.FP_CONFIG_PROFILE=FP_CONFIG_PROFILE;let u=new import_unionfs.Union;return this.#volume=import_memfs.Volume.fromJSON(mockFSDataIntegrationTests,this.#cwd),u.use((0,import_memfs.createFsFromVolume)(this.#volume))}#getFS(isMocked){return isMocked?this.#getMockedFS():import_node_fs.default}getVolume(){if(this.#isMocked)return this.#volume}resetFs(){this.#isMocked&&(this.#volume?.reset(),this.#volume?.fromJSON(mockFSDataIntegrationTests,this.#cwd))}},IS_MOCKED_FS=!!process.env.IS_MOCKED_FS,FS=new FSService(IS_MOCKED_FS,process.cwd()),fs_default=FS.getInstance();var parse_exports={};__export(parse_exports,{env:()=>env,ini:()=>ini,omitUnwantedKeysFromConfig:()=>omitUnwantedKeysFromConfig,parsedConfig:()=>parsedConfig,promQuery:()=>promQuery,toml:()=>toml,yaml:()=>yaml});var import_prometheus_query=__toESM(require_prometheus_query_cjs()),import_config_ini_parser=__toESM(require_config_ini());function getLineColFromPtr(string,ptr){let lines=string.slice(0,ptr).split(/\r\n|\n|\r/g);return[lines.length,lines.pop().length+1]}function makeCodeBlock(string,line,column){let lines=string.split(/\r\n|\n|\r/g),codeblock="",numberLen=(Math.log10(line+1)|0)+1;for(let i=line-1;i<=line+1;i++){let l=lines[i-1];l&&(codeblock+=i.toString().padEnd(numberLen," "),codeblock+=":  ",codeblock+=l,codeblock+=`
`,i===line&&(codeblock+=" ".repeat(numberLen+column+2),codeblock+=`^
`))}return codeblock}var TomlError=class extends Error{line;column;codeblock;constructor(message,options2){let[line,column]=getLineColFromPtr(options2.toml,options2.ptr),codeblock=makeCodeBlock(options2.toml,line,column);super(`Invalid TOML document: ${message}

${codeblock}`,options2),this.line=line,this.column=column,this.codeblock=codeblock}};function isEscaped(str,ptr){let i=0;for(;str[ptr-++i]==="\\";);return--i&&i%2}function indexOfNewline(str,start=0,end=str.length){let idx=str.indexOf(`
`,start);return str[idx-1]==="\r"&&idx--,idx<=end?idx:-1}function skipComment(str,ptr){for(let i=ptr;i<str.length;i++){let c=str[i];if(c===`
`)return i;if(c==="\r"&&str[i+1]===`
`)return i+1;if(c<" "&&c!=="	"||c==="\x7F")throw new TomlError("control characters are not allowed in comments",{toml:str,ptr})}return str.length}function skipVoid(str,ptr,banNewLines,banComments){let c;for(;(c=str[ptr])===" "||c==="	"||!banNewLines&&(c===`
`||c==="\r"&&str[ptr+1]===`
`);)ptr++;return banComments||c!=="#"?ptr:skipVoid(str,skipComment(str,ptr),banNewLines)}function skipUntil(str,ptr,sep,end,banNewLines=!1){if(!end)return ptr=indexOfNewline(str,ptr),ptr<0?str.length:ptr;for(let i=ptr;i<str.length;i++){let c=str[i];if(c==="#")i=indexOfNewline(str,i);else{if(c===sep)return i+1;if(c===end||banNewLines&&(c===`
`||c==="\r"&&str[i+1]===`
`))return i}}throw new TomlError("cannot find end of structure",{toml:str,ptr})}function getStringEnd(str,seek){let first=str[seek],target=first===str[seek+1]&&str[seek+1]===str[seek+2]?str.slice(seek,seek+3):first;seek+=target.length-1;do seek=str.indexOf(target,++seek);while(seek>-1&&first!=="'"&&isEscaped(str,seek));return seek>-1&&(seek+=target.length,target.length>1&&(str[seek]===first&&seek++,str[seek]===first&&seek++)),seek}var DATE_TIME_RE=/^(\d{4}-\d{2}-\d{2})?[T ]?(?:(\d{2}):\d{2}(?::\d{2}(?:\.\d+)?)?)?(Z|[-+]\d{2}:\d{2})?$/i,TomlDate=class _TomlDate extends Date{#hasDate=!1;#hasTime=!1;#offset=null;constructor(date){let hasDate=!0,hasTime=!0,offset="Z";if(typeof date=="string"){let match2=date.match(DATE_TIME_RE);match2?(match2[1]||(hasDate=!1,date=`0000-01-01T${date}`),hasTime=!!match2[2],hasTime&&date[10]===" "&&(date=date.replace(" ","T")),match2[2]&&+match2[2]>23?date="":(offset=match2[3]||null,date=date.toUpperCase(),!offset&&hasTime&&(date+="Z"))):date=""}super(date),isNaN(this.getTime())||(this.#hasDate=hasDate,this.#hasTime=hasTime,this.#offset=offset)}isDateTime(){return this.#hasDate&&this.#hasTime}isLocal(){return!this.#hasDate||!this.#hasTime||!this.#offset}isDate(){return this.#hasDate&&!this.#hasTime}isTime(){return this.#hasTime&&!this.#hasDate}isValid(){return this.#hasDate||this.#hasTime}toISOString(){let iso=super.toISOString();if(this.isDate())return iso.slice(0,10);if(this.isTime())return iso.slice(11,23);if(this.#offset===null)return iso.slice(0,-1);if(this.#offset==="Z")return iso;let offset=+this.#offset.slice(1,3)*60+ +this.#offset.slice(4,6);return offset=this.#offset[0]==="-"?offset:-offset,new Date(this.getTime()-offset*6e4).toISOString().slice(0,-1)+this.#offset}static wrapAsOffsetDateTime(jsDate,offset="Z"){let date=new _TomlDate(jsDate);return date.#offset=offset,date}static wrapAsLocalDateTime(jsDate){let date=new _TomlDate(jsDate);return date.#offset=null,date}static wrapAsLocalDate(jsDate){let date=new _TomlDate(jsDate);return date.#hasTime=!1,date.#offset=null,date}static wrapAsLocalTime(jsDate){let date=new _TomlDate(jsDate);return date.#hasDate=!1,date.#offset=null,date}};var INT_REGEX=/^((0x[0-9a-fA-F](_?[0-9a-fA-F])*)|(([+-]|0[ob])?\d(_?\d)*))$/,FLOAT_REGEX=/^[+-]?\d(_?\d)*(\.\d(_?\d)*)?([eE][+-]?\d(_?\d)*)?$/,LEADING_ZERO=/^[+-]?0[0-9_]/,ESCAPE_REGEX=/^[0-9a-f]{2,8}$/i,ESC_MAP={b:"\b",t:"	",n:`
`,f:"\f",r:"\r",e:"\x1B",'"':'"',"\\":"\\"};function parseString(str,ptr=0,endPtr=str.length){let isLiteral=str[ptr]==="'",isMultiline=str[ptr++]===str[ptr]&&str[ptr]===str[ptr+1];isMultiline&&(endPtr-=2,str[ptr+=2]==="\r"&&ptr++,str[ptr]===`
`&&ptr++);let tmp=0,isEscape,parsed="",sliceStart=ptr;for(;ptr<endPtr-1;){let c=str[ptr++];if(c===`
`||c==="\r"&&str[ptr]===`
`){if(!isMultiline)throw new TomlError("newlines are not allowed in strings",{toml:str,ptr:ptr-1})}else if(c<" "&&c!=="	"||c==="\x7F")throw new TomlError("control characters are not allowed in strings",{toml:str,ptr:ptr-1});if(isEscape){if(isEscape=!1,c==="x"||c==="u"||c==="U"){let code2=str.slice(ptr,ptr+=c==="x"?2:c==="u"?4:8);if(!ESCAPE_REGEX.test(code2))throw new TomlError("invalid unicode escape",{toml:str,ptr:tmp});try{parsed+=String.fromCodePoint(parseInt(code2,16))}catch{throw new TomlError("invalid unicode escape",{toml:str,ptr:tmp})}}else if(isMultiline&&(c===`
`||c===" "||c==="	"||c==="\r")){if(ptr=skipVoid(str,ptr-1,!0),str[ptr]!==`
`&&str[ptr]!=="\r")throw new TomlError("invalid escape: only line-ending whitespace may be escaped",{toml:str,ptr:tmp});ptr=skipVoid(str,ptr)}else if(c in ESC_MAP)parsed+=ESC_MAP[c];else throw new TomlError("unrecognized escape sequence",{toml:str,ptr:tmp});sliceStart=ptr}else!isLiteral&&c==="\\"&&(tmp=ptr-1,isEscape=!0,parsed+=str.slice(sliceStart,tmp))}return parsed+str.slice(sliceStart,endPtr-1)}function parseValue(value,toml2,ptr,integersAsBigInt){if(value==="true")return!0;if(value==="false")return!1;if(value==="-inf")return-1/0;if(value==="inf"||value==="+inf")return 1/0;if(value==="nan"||value==="+nan"||value==="-nan")return NaN;if(value==="-0")return integersAsBigInt?0n:0;let isInt=INT_REGEX.test(value);if(isInt||FLOAT_REGEX.test(value)){if(LEADING_ZERO.test(value))throw new TomlError("leading zeroes are not allowed",{toml:toml2,ptr});value=value.replace(/_/g,"");let numeric=+value;if(isNaN(numeric))throw new TomlError("invalid number",{toml:toml2,ptr});if(isInt){if((isInt=!Number.isSafeInteger(numeric))&&!integersAsBigInt)throw new TomlError("integer value cannot be represented losslessly",{toml:toml2,ptr});(isInt||integersAsBigInt===!0)&&(numeric=BigInt(value))}return numeric}let date=new TomlDate(value);if(!date.isValid())throw new TomlError("invalid value",{toml:toml2,ptr});return date}function sliceAndTrimEndOf(str,startPtr,endPtr){let value=str.slice(startPtr,endPtr),commentIdx=value.indexOf("#");return commentIdx>-1&&(skipComment(str,commentIdx),value=value.slice(0,commentIdx)),[value.trimEnd(),commentIdx]}function extractValue(str,ptr,end,depth,integersAsBigInt){if(depth===0)throw new TomlError("document contains excessively nested structures. aborting.",{toml:str,ptr});let c=str[ptr];if(c==="["||c==="{"){let[value,endPtr2]=c==="["?parseArray(str,ptr,depth,integersAsBigInt):parseInlineTable(str,ptr,depth,integersAsBigInt);if(end){if(endPtr2=skipVoid(str,endPtr2),str[endPtr2]===",")endPtr2++;else if(str[endPtr2]!==end)throw new TomlError("expected comma or end of structure",{toml:str,ptr:endPtr2})}return[value,endPtr2]}let endPtr;if(c==='"'||c==="'"){endPtr=getStringEnd(str,ptr);let parsed=parseString(str,ptr,endPtr);if(end){if(endPtr=skipVoid(str,endPtr),str[endPtr]&&str[endPtr]!==","&&str[endPtr]!==end&&str[endPtr]!==`
`&&str[endPtr]!=="\r")throw new TomlError("unexpected character encountered",{toml:str,ptr:endPtr});endPtr+=+(str[endPtr]===",")}return[parsed,endPtr]}endPtr=skipUntil(str,ptr,",",end);let slice=sliceAndTrimEndOf(str,ptr,endPtr-+(str[endPtr-1]===","));if(!slice[0])throw new TomlError("incomplete key-value declaration: no value specified",{toml:str,ptr});return end&&slice[1]>-1&&(endPtr=skipVoid(str,ptr+slice[1]),endPtr+=+(str[endPtr]===",")),[parseValue(slice[0],str,ptr,integersAsBigInt),endPtr]}var KEY_PART_RE=/^[a-zA-Z0-9-_]+[ \t]*$/;function parseKey(str,ptr,end="="){let dot=ptr-1,parsed=[],endPtr=str.indexOf(end,ptr);if(endPtr<0)throw new TomlError("incomplete key-value: cannot find end of key",{toml:str,ptr});do{let c=str[ptr=++dot];if(c!==" "&&c!=="	")if(c==='"'||c==="'"){if(c===str[ptr+1]&&c===str[ptr+2])throw new TomlError("multiline strings are not allowed in keys",{toml:str,ptr});let eos=getStringEnd(str,ptr);if(eos<0)throw new TomlError("unfinished string encountered",{toml:str,ptr});dot=str.indexOf(".",eos);let strEnd=str.slice(eos,dot<0||dot>endPtr?endPtr:dot),newLine=indexOfNewline(strEnd);if(newLine>-1)throw new TomlError("newlines are not allowed in keys",{toml:str,ptr:ptr+dot+newLine});if(strEnd.trimStart())throw new TomlError("found extra tokens after the string part",{toml:str,ptr:eos});if(endPtr<eos&&(endPtr=str.indexOf(end,eos),endPtr<0))throw new TomlError("incomplete key-value: cannot find end of key",{toml:str,ptr});parsed.push(parseString(str,ptr,eos))}else{dot=str.indexOf(".",ptr);let part=str.slice(ptr,dot<0||dot>endPtr?endPtr:dot);if(!KEY_PART_RE.test(part))throw new TomlError("only letter, numbers, dashes and underscores are allowed in keys",{toml:str,ptr});parsed.push(part.trimEnd())}}while(dot+1&&dot<endPtr);return[parsed,skipVoid(str,endPtr+1,!0,!0)]}function parseInlineTable(str,ptr,depth,integersAsBigInt){let res={},seen=new Set,c;for(ptr++;(c=str[ptr++])!=="}"&&c;){if(c===",")throw new TomlError("expected value, found comma",{toml:str,ptr:ptr-1});if(c==="#")ptr=skipComment(str,ptr);else if(c!==" "&&c!=="	"&&c!==`
`&&c!=="\r"){let k,t=res,hasOwn=!1,[key,keyEndPtr]=parseKey(str,ptr-1);for(let i=0;i<key.length;i++){if(i&&(t=hasOwn?t[k]:t[k]={}),k=key[i],(hasOwn=Object.hasOwn(t,k))&&(typeof t[k]!="object"||seen.has(t[k])))throw new TomlError("trying to redefine an already defined value",{toml:str,ptr});!hasOwn&&k==="__proto__"&&Object.defineProperty(t,k,{enumerable:!0,configurable:!0,writable:!0})}if(hasOwn)throw new TomlError("trying to redefine an already defined value",{toml:str,ptr});let[value,valueEndPtr]=extractValue(str,keyEndPtr,"}",depth-1,integersAsBigInt);seen.add(value),t[k]=value,ptr=valueEndPtr}}if(!c)throw new TomlError("unfinished table encountered",{toml:str,ptr});return[res,ptr]}function parseArray(str,ptr,depth,integersAsBigInt){let res=[],c;for(ptr++;(c=str[ptr++])!=="]"&&c;){if(c===",")throw new TomlError("expected value, found comma",{toml:str,ptr:ptr-1});if(c==="#")ptr=skipComment(str,ptr);else if(c!==" "&&c!=="	"&&c!==`
`&&c!=="\r"){let e=extractValue(str,ptr-1,"]",depth-1,integersAsBigInt);res.push(e[0]),ptr=e[1]}}if(!c)throw new TomlError("unfinished array encountered",{toml:str,ptr});return[res,ptr]}function peekTable(key,table2,meta,type){let t=table2,m=meta,k,hasOwn=!1,state;for(let i=0;i<key.length;i++){if(i){if(t=hasOwn?t[k]:t[k]={},m=(state=m[k]).c,type===0&&(state.t===1||state.t===2))return null;if(state.t===2){let l=t.length-1;t=t[l],m=m[l].c}}if(k=key[i],(hasOwn=Object.hasOwn(t,k))&&m[k]?.t===0&&m[k]?.d)return null;hasOwn||(k==="__proto__"&&(Object.defineProperty(t,k,{enumerable:!0,configurable:!0,writable:!0}),Object.defineProperty(m,k,{enumerable:!0,configurable:!0,writable:!0})),m[k]={t:i<key.length-1&&type===2?3:type,d:!1,i:0,c:{}})}if(state=m[k],state.t!==type&&!(type===1&&state.t===3)||(type===2&&(state.d||(state.d=!0,t[k]=[]),t[k].push(t={}),state.c[state.i++]=state={t:1,d:!1,i:0,c:{}}),state.d))return null;if(state.d=!0,type===1)t=hasOwn?t[k]:t[k]={};else if(type===0&&hasOwn)return null;return[k,t,state.c]}function parse(toml2,{maxDepth=1e3,integersAsBigInt}={}){let res={},meta={},tbl=res,m=meta;for(let ptr=skipVoid(toml2,0);ptr<toml2.length;){if(toml2[ptr]==="["){let isTableArray=toml2[++ptr]==="[",k=parseKey(toml2,ptr+=+isTableArray,"]");if(isTableArray){if(toml2[k[1]-1]!=="]")throw new TomlError("expected end of table declaration",{toml:toml2,ptr:k[1]-1});k[1]++}let p=peekTable(k[0],res,meta,isTableArray?2:1);if(!p)throw new TomlError("trying to redefine an already defined table or value",{toml:toml2,ptr});m=p[2],tbl=p[1],ptr=k[1]}else{let k=parseKey(toml2,ptr),p=peekTable(k[0],tbl,m,0);if(!p)throw new TomlError("trying to redefine an already defined table or value",{toml:toml2,ptr});let v=extractValue(toml2,k[1],void 0,maxDepth,integersAsBigInt);p[1][p[0]]=v[0],ptr=v[1]}if(ptr=skipVoid(toml2,ptr,!0),toml2[ptr]&&toml2[ptr]!==`
`&&toml2[ptr]!=="\r")throw new TomlError("each key-value declaration must be followed by an end-of-line",{toml:toml2,ptr});ptr=skipVoid(toml2,ptr)}return res}var BARE_KEY=/^[a-z0-9-_]+$/i;function extendedTypeOf(obj){let type=typeof obj;if(type==="object"){if(Array.isArray(obj))return"array";if(obj instanceof Date)return"date"}return type}function isArrayOfTables(obj){for(let i=0;i<obj.length;i++)if(extendedTypeOf(obj[i])!=="object")return!1;return obj.length!=0}function formatString(s){return JSON.stringify(s).replace(/\x7f/g,"\\u007f")}function stringifyValue(val,type,depth,numberAsFloat){if(depth===0)throw new Error("Could not stringify the object: maximum object depth exceeded");if(type==="number")return isNaN(val)?"nan":val===1/0?"inf":val===-1/0?"-inf":numberAsFloat&&Number.isInteger(val)?val.toFixed(1):val.toString();if(type==="bigint"||type==="boolean")return val.toString();if(type==="string")return formatString(val);if(type==="date"){if(isNaN(val.getTime()))throw new TypeError("cannot serialize invalid date");return val.toISOString()}if(type==="object")return stringifyInlineTable(val,depth,numberAsFloat);if(type==="array")return stringifyArray(val,depth,numberAsFloat)}function stringifyInlineTable(obj,depth,numberAsFloat){let keys2=Object.keys(obj);if(keys2.length===0)return"{}";let res="{ ";for(let i=0;i<keys2.length;i++){let k=keys2[i];i&&(res+=", "),res+=BARE_KEY.test(k)?k:formatString(k),res+=" = ",res+=stringifyValue(obj[k],extendedTypeOf(obj[k]),depth-1,numberAsFloat)}return res+" }"}function stringifyArray(array,depth,numberAsFloat){if(array.length===0)return"[]";let res="[ ";for(let i=0;i<array.length;i++){if(i&&(res+=", "),array[i]===null||array[i]===void 0)throw new TypeError("arrays cannot contain null or undefined values");res+=stringifyValue(array[i],extendedTypeOf(array[i]),depth-1,numberAsFloat)}return res+" ]"}function stringifyArrayTable(array,key,depth,numberAsFloat){if(depth===0)throw new Error("Could not stringify the object: maximum object depth exceeded");let res="";for(let i=0;i<array.length;i++)res+=`${res&&`
`}[[${key}]]
`,res+=stringifyTable(0,array[i],key,depth,numberAsFloat);return res}function stringifyTable(tableKey,obj,prefix,depth,numberAsFloat){if(depth===0)throw new Error("Could not stringify the object: maximum object depth exceeded");let preamble="",tables="",keys2=Object.keys(obj);for(let i=0;i<keys2.length;i++){let k=keys2[i];if(obj[k]!==null&&obj[k]!==void 0){let type=extendedTypeOf(obj[k]);if(type==="symbol"||type==="function")throw new TypeError(`cannot serialize values of type '${type}'`);let key=BARE_KEY.test(k)?k:formatString(k);if(type==="array"&&isArrayOfTables(obj[k]))tables+=(tables&&`
`)+stringifyArrayTable(obj[k],prefix?`${prefix}.${key}`:key,depth-1,numberAsFloat);else if(type==="object"){let tblKey=prefix?`${prefix}.${key}`:key;tables+=(tables&&`
`)+stringifyTable(tblKey,obj[k],tblKey,depth-1,numberAsFloat)}else preamble+=key,preamble+=" = ",preamble+=stringifyValue(obj[k],type,depth,numberAsFloat),preamble+=`
`}}return tableKey&&(preamble||!tables)&&(preamble=preamble?`[${tableKey}]
${preamble}`:`[${tableKey}]`),preamble&&tables?`${preamble}
${tables}`:preamble||tables}function stringify(obj,{maxDepth=1e3,numbersAsFloat=!1}={}){if(extendedTypeOf(obj)!=="object")throw new TypeError("stringify can only be called with an object");let str=stringifyTable(0,obj,"",maxDepth,numbersAsFloat);return str[str.length-1]!==`
`?str+`
`:str}var import_yaml=__toESM(require_dist6());var convert_exports={};__export(convert_exports,{bak2conf:()=>bak2conf,conf2bak:()=>conf2bak,date2timestamp:()=>date2timestamp,prependStratumV1Protocol:()=>prependStratumV1Protocol,tsToTimestamp:()=>tsToTimestamp});var import_node_path2=__toESM(require("node:path"));function tsToTimestamp(input){let ts=typeof input=="number"?input:Math.floor(input.getTime()/1e3);return create(TimestampSchema,{seconds:BigInt(ts),nanos:0})}function conf2bak(configPath){let d=new Date,$=n=>padStart(String(n),2,"0"),YYYY=d.getUTCFullYear(),MM=$(d.getUTCMonth()+1),DD=$(d.getUTCDate()),hh=d.getUTCHours(),mm=$(d.getUTCMinutes()),ss=$(d.getUTCSeconds());return`${[import_node_path2.default.basename(configPath,".toml"),[YYYY,MM,DD].join("-"),[hh,mm,ss].join("-")].join("_")}.toml`}function bak2conf(bakPath){return`${import_node_path2.default.basename(bakPath,".toml").split("_").slice(0,-2).join("_")}.toml`}function date2timestamp(date){return create(TimestampSchema,{seconds:BigInt(Math.floor(date.getTime()/1e3)),nanos:0})}function prependStratumV1Protocol(input){return input.startsWith("stratum+tcp://")||input.startsWith("stratum2+tcp://")?input:`stratum+tcp://${input}`}var ini={load(from){let content=fs_default.readFileSync(from,"utf8");return new import_config_ini_parser.default.ConfigIniParser().parse(content)}},yaml={load(from){let content=fs_default.readFileSync(from,"utf8");return import_yaml.default.parse(content)}},toml={parse(str){return parse(str)},load(from){let content=fs_default.readFileSync(from,"utf8");return parse(content)},stringify(data){return stringify(data).trim().split(`
`).map(line=>line.trimStart()).join(`
`)},write(data,to){let content=toml.stringify(data);fs_default.writeFileSync(to,content,"utf8")}},env={parse(src){let result={},lines=src.toString().split(`
`);for(let line of lines){let match2=line.match(/^([^=:#]+?)[=:](.*)/);if(match2){let key=match2[1].trim(),value=match2[2].trim().replace(/['"]+/g,"");result[key]=value}}return result},stringify(obj){let result="";for(let[key,value]of Object.entries(obj))if(key){let line=`${key}=${String(value)}`;result+=`${line}
`}return result},load(from){try{let data=fs_default.readFileSync(from,"utf8");return this.parse(data)}catch{throw new Error(`Failed to read the file: "${from}"`)}},write(data,to,comments){try{let content=[this.stringify(data)];comments&&content.unshift(comments),fs_default.writeFileSync(to,content.join(`
`),"utf8")}catch{throw new Error(`Failed to write the file: "${to}"`)}}};async function promQuery(endpoint,query){return new import_prometheus_query.PrometheusDriver({endpoint,baseURL:"/api/v1"}).instantQuery(query)}var parsedConfig={normalize(config3,isTemp=!1){let emptyValue=isTemp?void 0:[];return Object.assign({},config3,{description:config3.description,server:config3.server?.map(s=>{let{name,port,extranonce_size,validates_hash_rate,use_empty_extranonce1,...rest}=s;return{name,port,extranonceSize:extranonce_size,useEmptyExtranonce1:use_empty_extranonce1,validatesHashRate:validates_hash_rate,...rest}})??emptyValue,target:config3.target?.map(t=>{let{name,url,user_identity,identity_pass_through,extranonce_size,aggregation,...rest}=t;return{name,url,userIdentity:user_identity,identityPassThrough:identity_pass_through,extranonceSize:extranonce_size,aggregation,...rest}})??emptyValue,routing:config3.routing?.map(r=>{let{name,from,goal,...rest}=r;return{name,from,goal:goal?.map(g=>{let{name:goalName,hr_weight,level,...goalAttr}=g,filteredLevels=level.filter(l=>Object.keys(l).length!==0);return{name:goalName,hrWeight:hr_weight,level:filteredLevels,...goalAttr}}),...rest}})??emptyValue})},denormalize(config3,isTemp=!1){let{server,target,routing,...attr}=config3,emptyValue=isTemp?void 0:[];return Object.assign({},attr,{server:config3.server?.map(s=>{let{name,port,extranonceSize,validatesHashRate,useEmptyExtranonce1,...rest}=s;return{name,port,extranonce_size:extranonceSize,validates_hash_rate:validatesHashRate,use_empty_extranonce1:useEmptyExtranonce1,...rest}})??emptyValue,target:config3.target?.map(t=>{let{name,url,userIdentity,identityPassThrough,extranonceSize,aggregation,...rest}=t;return{name,url:prependStratumV1Protocol(url),user_identity:userIdentity,identity_pass_through:identityPassThrough,extranonce_size:extranonceSize,aggregation,...rest}})??emptyValue,routing:config3.routing?.map(r=>{let{name,from,goal,...rest}=r;return{name,from,goal:goal.map(g=>{let{name:goalName,hrWeight,level,...goalAttr}=g;return{name:goalName,hr_weight:hrWeight,level,...goalAttr}}),...rest}})??emptyValue})}};function omitUnwantedKeysFromConfig(config3){let LIST_OF_PROPERTIES_TO_REMOVE=["$typeName","$unknown","use_empty_extranonce1"];return JSON.parse(JSON.stringify(config3,(k,v)=>LIST_OF_PROPERTIES_TO_REMOVE.includes(k)?void 0:v))}var validate_exports={};__export(validate_exports,{config:()=>config,isReservedName:()=>isReservedName,isValidFilename:()=>isValidFilename,isValidStratum1Url:()=>isValidStratum1Url});function getGlobalConfig(){let HOST="http://127.0.0.1",GRAFANA_PORT=process.env.GRAFANA_PORT??DEFAULT.GRAFANA_PORT,PROMETHEUS_PORT=process.env.PROMETHEUS_PORT??DEFAULT.PROMETHEUS_PORT,MINING_PORTS=getMinMaxPorts(process.env.MINING_PORTS??DEFAULT.MINING_PORTS);return{HOST,GRAFANA_PORT,PROMETHEUS_PORT,MINING_PORTS}}var MAX_INT_32=2147483647;function getMetadata(){let ports=getGlobalConfig().MINING_PORTS;return{server:{port:{min:ports.min,max:ports.max},extranonceSize:{min:0,max:255}},target:{extranonceSize:{min:4,max:7,default:6},aggregation:{min:1,max:127,default:50}},routingGoal:{hrWeight:{min:1,max:MAX_INT_32}}}}function getMinMaxPorts(input){let ports=input.split("-").map(port=>Number.parseInt(port,10));if(ports.length!==2)throw new Error("GUI: Wrong MINING_PORTS format");if(Number.isNaN(ports[0])||Number.isNaN(ports[1]))throw new Error("GUI: Wrong MINING_PORTS format");return{min:ports[0],max:ports[1]}}var external_exports={};__export(external_exports,{BRAND:()=>BRAND,DIRTY:()=>DIRTY,EMPTY_PATH:()=>EMPTY_PATH,INVALID:()=>INVALID,NEVER:()=>NEVER,OK:()=>OK,ParseStatus:()=>ParseStatus,Schema:()=>ZodType,ZodAny:()=>ZodAny,ZodArray:()=>ZodArray,ZodBigInt:()=>ZodBigInt,ZodBoolean:()=>ZodBoolean,ZodBranded:()=>ZodBranded,ZodCatch:()=>ZodCatch,ZodDate:()=>ZodDate,ZodDefault:()=>ZodDefault,ZodDiscriminatedUnion:()=>ZodDiscriminatedUnion,ZodEffects:()=>ZodEffects,ZodEnum:()=>ZodEnum,ZodError:()=>ZodError,ZodFirstPartyTypeKind:()=>ZodFirstPartyTypeKind,ZodFunction:()=>ZodFunction,ZodIntersection:()=>ZodIntersection,ZodIssueCode:()=>ZodIssueCode,ZodLazy:()=>ZodLazy,ZodLiteral:()=>ZodLiteral,ZodMap:()=>ZodMap,ZodNaN:()=>ZodNaN,ZodNativeEnum:()=>ZodNativeEnum,ZodNever:()=>ZodNever,ZodNull:()=>ZodNull,ZodNullable:()=>ZodNullable,ZodNumber:()=>ZodNumber,ZodObject:()=>ZodObject,ZodOptional:()=>ZodOptional,ZodParsedType:()=>ZodParsedType,ZodPipeline:()=>ZodPipeline,ZodPromise:()=>ZodPromise,ZodReadonly:()=>ZodReadonly,ZodRecord:()=>ZodRecord,ZodSchema:()=>ZodType,ZodSet:()=>ZodSet,ZodString:()=>ZodString,ZodSymbol:()=>ZodSymbol,ZodTransformer:()=>ZodEffects,ZodTuple:()=>ZodTuple,ZodType:()=>ZodType,ZodUndefined:()=>ZodUndefined,ZodUnion:()=>ZodUnion,ZodUnknown:()=>ZodUnknown,ZodVoid:()=>ZodVoid,addIssueToContext:()=>addIssueToContext,any:()=>anyType,array:()=>arrayType,bigint:()=>bigIntType,boolean:()=>booleanType,coerce:()=>coerce,custom:()=>custom,date:()=>dateType,datetimeRegex:()=>datetimeRegex,defaultErrorMap:()=>en_default,discriminatedUnion:()=>discriminatedUnionType,effect:()=>effectsType,enum:()=>enumType,function:()=>functionType,getErrorMap:()=>getErrorMap,getParsedType:()=>getParsedType,instanceof:()=>instanceOfType,intersection:()=>intersectionType,isAborted:()=>isAborted,isAsync:()=>isAsync,isDirty:()=>isDirty,isValid:()=>isValid,late:()=>late,lazy:()=>lazyType,literal:()=>literalType,makeIssue:()=>makeIssue,map:()=>mapType,nan:()=>nanType,nativeEnum:()=>nativeEnumType,never:()=>neverType,null:()=>nullType,nullable:()=>nullableType,number:()=>numberType,object:()=>objectType,objectUtil:()=>objectUtil,oboolean:()=>oboolean,onumber:()=>onumber,optional:()=>optionalType,ostring:()=>ostring,pipeline:()=>pipelineType,preprocess:()=>preprocessType,promise:()=>promiseType,quotelessJson:()=>quotelessJson,record:()=>recordType,set:()=>setType,setErrorMap:()=>setErrorMap,strictObject:()=>strictObjectType,string:()=>stringType,symbol:()=>symbolType,transformer:()=>effectsType,tuple:()=>tupleType,undefined:()=>undefinedType,union:()=>unionType,unknown:()=>unknownType,util:()=>util,void:()=>voidType});var util;(function(util3){util3.assertEqual=_=>{};function assertIs(_arg){}util3.assertIs=assertIs;function assertNever(_x){throw new Error}util3.assertNever=assertNever,util3.arrayToEnum=items=>{let obj={};for(let item of items)obj[item]=item;return obj},util3.getValidEnumValues=obj=>{let validKeys=util3.objectKeys(obj).filter(k=>typeof obj[obj[k]]!="number"),filtered={};for(let k of validKeys)filtered[k]=obj[k];return util3.objectValues(filtered)},util3.objectValues=obj=>util3.objectKeys(obj).map(function(e){return obj[e]}),util3.objectKeys=typeof Object.keys=="function"?obj=>Object.keys(obj):object=>{let keys2=[];for(let key in object)Object.prototype.hasOwnProperty.call(object,key)&&keys2.push(key);return keys2},util3.find=(arr,checker)=>{for(let item of arr)if(checker(item))return item},util3.isInteger=typeof Number.isInteger=="function"?val=>Number.isInteger(val):val=>typeof val=="number"&&Number.isFinite(val)&&Math.floor(val)===val;function joinValues(array,separator=" | "){return array.map(val=>typeof val=="string"?`'${val}'`:val).join(separator)}util3.joinValues=joinValues,util3.jsonStringifyReplacer=(_,value)=>typeof value=="bigint"?value.toString():value})(util||(util={}));var objectUtil;(function(objectUtil2){objectUtil2.mergeShapes=(first,second)=>({...first,...second})})(objectUtil||(objectUtil={}));var ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=data=>{switch(typeof data){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return Number.isNaN(data)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(data)?ZodParsedType.array:data===null?ZodParsedType.null:data.then&&typeof data.then=="function"&&data.catch&&typeof data.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&data instanceof Map?ZodParsedType.map:typeof Set<"u"&&data instanceof Set?ZodParsedType.set:typeof Date<"u"&&data instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}};var ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=obj=>JSON.stringify(obj,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError=class _ZodError extends Error{get errors(){return this.issues}constructor(issues){super(),this.issues=[],this.addIssue=sub=>{this.issues=[...this.issues,sub]},this.addIssues=(subs=[])=>{this.issues=[...this.issues,...subs]};let actualProto=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,actualProto):this.__proto__=actualProto,this.name="ZodError",this.issues=issues}format(_mapper){let mapper=_mapper||function(issue){return issue.message},fieldErrors={_errors:[]},processError=error=>{for(let issue of error.issues)if(issue.code==="invalid_union")issue.unionErrors.map(processError);else if(issue.code==="invalid_return_type")processError(issue.returnTypeError);else if(issue.code==="invalid_arguments")processError(issue.argumentsError);else if(issue.path.length===0)fieldErrors._errors.push(mapper(issue));else{let curr=fieldErrors,i=0;for(;i<issue.path.length;){let el=issue.path[i];i===issue.path.length-1?(curr[el]=curr[el]||{_errors:[]},curr[el]._errors.push(mapper(issue))):curr[el]=curr[el]||{_errors:[]},curr=curr[el],i++}}};return processError(this),fieldErrors}static assert(value){if(!(value instanceof _ZodError))throw new Error(`Not a ZodError: ${value}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(mapper=issue=>issue.message){let fieldErrors={},formErrors=[];for(let sub of this.issues)if(sub.path.length>0){let firstEl=sub.path[0];fieldErrors[firstEl]=fieldErrors[firstEl]||[],fieldErrors[firstEl].push(mapper(sub))}else formErrors.push(mapper(sub));return{formErrors,fieldErrors}}get formErrors(){return this.flatten()}};ZodError.create=issues=>new ZodError(issues);var errorMap=(issue,_ctx)=>{let message;switch(issue.code){case ZodIssueCode.invalid_type:issue.received===ZodParsedType.undefined?message="Required":message=`Expected ${issue.expected}, received ${issue.received}`;break;case ZodIssueCode.invalid_literal:message=`Invalid literal value, expected ${JSON.stringify(issue.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:message=`Unrecognized key(s) in object: ${util.joinValues(issue.keys,", ")}`;break;case ZodIssueCode.invalid_union:message="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:message=`Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;break;case ZodIssueCode.invalid_enum_value:message=`Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;break;case ZodIssueCode.invalid_arguments:message="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:message="Invalid function return type";break;case ZodIssueCode.invalid_date:message="Invalid date";break;case ZodIssueCode.invalid_string:typeof issue.validation=="object"?"includes"in issue.validation?(message=`Invalid input: must include "${issue.validation.includes}"`,typeof issue.validation.position=="number"&&(message=`${message} at one or more positions greater than or equal to ${issue.validation.position}`)):"startsWith"in issue.validation?message=`Invalid input: must start with "${issue.validation.startsWith}"`:"endsWith"in issue.validation?message=`Invalid input: must end with "${issue.validation.endsWith}"`:util.assertNever(issue.validation):issue.validation!=="regex"?message=`Invalid ${issue.validation}`:message="Invalid";break;case ZodIssueCode.too_small:issue.type==="array"?message=`Array must contain ${issue.exact?"exactly":issue.inclusive?"at least":"more than"} ${issue.minimum} element(s)`:issue.type==="string"?message=`String must contain ${issue.exact?"exactly":issue.inclusive?"at least":"over"} ${issue.minimum} character(s)`:issue.type==="number"?message=`Number must be ${issue.exact?"exactly equal to ":issue.inclusive?"greater than or equal to ":"greater than "}${issue.minimum}`:issue.type==="bigint"?message=`Number must be ${issue.exact?"exactly equal to ":issue.inclusive?"greater than or equal to ":"greater than "}${issue.minimum}`:issue.type==="date"?message=`Date must be ${issue.exact?"exactly equal to ":issue.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(issue.minimum))}`:message="Invalid input";break;case ZodIssueCode.too_big:issue.type==="array"?message=`Array must contain ${issue.exact?"exactly":issue.inclusive?"at most":"less than"} ${issue.maximum} element(s)`:issue.type==="string"?message=`String must contain ${issue.exact?"exactly":issue.inclusive?"at most":"under"} ${issue.maximum} character(s)`:issue.type==="number"?message=`Number must be ${issue.exact?"exactly":issue.inclusive?"less than or equal to":"less than"} ${issue.maximum}`:issue.type==="bigint"?message=`BigInt must be ${issue.exact?"exactly":issue.inclusive?"less than or equal to":"less than"} ${issue.maximum}`:issue.type==="date"?message=`Date must be ${issue.exact?"exactly":issue.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(issue.maximum))}`:message="Invalid input";break;case ZodIssueCode.custom:message="Invalid input";break;case ZodIssueCode.invalid_intersection_types:message="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:message=`Number must be a multiple of ${issue.multipleOf}`;break;case ZodIssueCode.not_finite:message="Number must be finite";break;default:message=_ctx.defaultError,util.assertNever(issue)}return{message}},en_default=errorMap;var overrideErrorMap=en_default;function setErrorMap(map){overrideErrorMap=map}function getErrorMap(){return overrideErrorMap}var makeIssue=params=>{let{data,path:path5,errorMaps,issueData}=params,fullPath=[...path5,...issueData.path||[]],fullIssue={...issueData,path:fullPath};if(issueData.message!==void 0)return{...issueData,path:fullPath,message:issueData.message};let errorMessage="",maps=errorMaps.filter(m=>!!m).slice().reverse();for(let map of maps)errorMessage=map(fullIssue,{data,defaultError:errorMessage}).message;return{...issueData,path:fullPath,message:errorMessage}},EMPTY_PATH=[];function addIssueToContext(ctx,issueData){let overrideMap=getErrorMap(),issue=makeIssue({issueData,data:ctx.data,path:ctx.path,errorMaps:[ctx.common.contextualErrorMap,ctx.schemaErrorMap,overrideMap,overrideMap===en_default?void 0:en_default].filter(x=>!!x)});ctx.common.issues.push(issue)}var ParseStatus=class _ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(status,results){let arrayValue=[];for(let s of results){if(s.status==="aborted")return INVALID;s.status==="dirty"&&status.dirty(),arrayValue.push(s.value)}return{status:status.value,value:arrayValue}}static async mergeObjectAsync(status,pairs){let syncPairs=[];for(let pair of pairs){let key=await pair.key,value=await pair.value;syncPairs.push({key,value})}return _ParseStatus.mergeObjectSync(status,syncPairs)}static mergeObjectSync(status,pairs){let finalObject={};for(let pair of pairs){let{key,value}=pair;if(key.status==="aborted"||value.status==="aborted")return INVALID;key.status==="dirty"&&status.dirty(),value.status==="dirty"&&status.dirty(),key.value!=="__proto__"&&(typeof value.value<"u"||pair.alwaysSet)&&(finalObject[key.value]=value.value)}return{status:status.value,value:finalObject}}},INVALID=Object.freeze({status:"aborted"}),DIRTY=value=>({status:"dirty",value}),OK=value=>({status:"valid",value}),isAborted=x=>x.status==="aborted",isDirty=x=>x.status==="dirty",isValid=x=>x.status==="valid",isAsync=x=>typeof Promise<"u"&&x instanceof Promise;var errorUtil;(function(errorUtil2){errorUtil2.errToObj=message=>typeof message=="string"?{message}:message||{},errorUtil2.toString=message=>typeof message=="string"?message:message?.message})(errorUtil||(errorUtil={}));var ParseInputLazyPath=class{constructor(parent,value,path5,key){this._cachedPath=[],this.parent=parent,this.data=value,this._path=path5,this._key=key}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},handleResult=(ctx,result)=>{if(isValid(result))return{success:!0,data:result.value};if(!ctx.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let error=new ZodError(ctx.common.issues);return this._error=error,this._error}}};function processCreateParams(params){if(!params)return{};let{errorMap:errorMap2,invalid_type_error,required_error,description}=params;if(errorMap2&&(invalid_type_error||required_error))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return errorMap2?{errorMap:errorMap2,description}:{errorMap:(iss,ctx)=>{let{message}=params;return iss.code==="invalid_enum_value"?{message:message??ctx.defaultError}:typeof ctx.data>"u"?{message:message??required_error??ctx.defaultError}:iss.code!=="invalid_type"?{message:ctx.defaultError}:{message:message??invalid_type_error??ctx.defaultError}},description}}var ZodType=class{get description(){return this._def.description}_getType(input){return getParsedType(input.data)}_getOrReturnCtx(input,ctx){return ctx||{common:input.parent.common,data:input.data,parsedType:getParsedType(input.data),schemaErrorMap:this._def.errorMap,path:input.path,parent:input.parent}}_processInputParams(input){return{status:new ParseStatus,ctx:{common:input.parent.common,data:input.data,parsedType:getParsedType(input.data),schemaErrorMap:this._def.errorMap,path:input.path,parent:input.parent}}}_parseSync(input){let result=this._parse(input);if(isAsync(result))throw new Error("Synchronous parse encountered promise.");return result}_parseAsync(input){let result=this._parse(input);return Promise.resolve(result)}parse(data,params){let result=this.safeParse(data,params);if(result.success)return result.data;throw result.error}safeParse(data,params){let ctx={common:{issues:[],async:params?.async??!1,contextualErrorMap:params?.errorMap},path:params?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data,parsedType:getParsedType(data)},result=this._parseSync({data,path:ctx.path,parent:ctx});return handleResult(ctx,result)}"~validate"(data){let ctx={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data,parsedType:getParsedType(data)};if(!this["~standard"].async)try{let result=this._parseSync({data,path:[],parent:ctx});return isValid(result)?{value:result.value}:{issues:ctx.common.issues}}catch(err){err?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),ctx.common={issues:[],async:!0}}return this._parseAsync({data,path:[],parent:ctx}).then(result=>isValid(result)?{value:result.value}:{issues:ctx.common.issues})}async parseAsync(data,params){let result=await this.safeParseAsync(data,params);if(result.success)return result.data;throw result.error}async safeParseAsync(data,params){let ctx={common:{issues:[],contextualErrorMap:params?.errorMap,async:!0},path:params?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data,parsedType:getParsedType(data)},maybeAsyncResult=this._parse({data,path:ctx.path,parent:ctx}),result=await(isAsync(maybeAsyncResult)?maybeAsyncResult:Promise.resolve(maybeAsyncResult));return handleResult(ctx,result)}refine(check,message){let getIssueProperties=val=>typeof message=="string"||typeof message>"u"?{message}:typeof message=="function"?message(val):message;return this._refinement((val,ctx)=>{let result=check(val),setError=()=>ctx.addIssue({code:ZodIssueCode.custom,...getIssueProperties(val)});return typeof Promise<"u"&&result instanceof Promise?result.then(data=>data?!0:(setError(),!1)):result?!0:(setError(),!1)})}refinement(check,refinementData){return this._refinement((val,ctx)=>check(val)?!0:(ctx.addIssue(typeof refinementData=="function"?refinementData(val,ctx):refinementData),!1))}_refinement(refinement){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement}})}superRefine(refinement){return this._refinement(refinement)}constructor(def){this.spa=this.safeParseAsync,this._def=def,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:data=>this["~validate"](data)}}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this)}promise(){return ZodPromise.create(this,this._def)}or(option){return ZodUnion.create([this,option],this._def)}and(incoming){return ZodIntersection.create(this,incoming,this._def)}transform(transform){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform}})}default(def){let defaultValueFunc=typeof def=="function"?def:()=>def;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:defaultValueFunc,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(def){let catchValueFunc=typeof def=="function"?def:()=>def;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:catchValueFunc,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(description){let This=this.constructor;return new This({...this._def,description})}pipe(target){return ZodPipeline.create(this,target)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,jwtRegex=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",emojiRegex,ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4CidrRegex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Regex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ipv6CidrRegex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64urlRegex=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(args){let secondsRegexSource="[0-5]\\d";args.precision?secondsRegexSource=`${secondsRegexSource}\\.\\d{${args.precision}}`:args.precision==null&&(secondsRegexSource=`${secondsRegexSource}(\\.\\d+)?`);let secondsQuantifier=args.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${secondsRegexSource})${secondsQuantifier}`}function timeRegex(args){return new RegExp(`^${timeRegexSource(args)}$`)}function datetimeRegex(args){let regex=`${dateRegexSource}T${timeRegexSource(args)}`,opts=[];return opts.push(args.local?"Z?":"Z"),args.offset&&opts.push("([+-]\\d{2}:?\\d{2})"),regex=`${regex}(${opts.join("|")})`,new RegExp(`^${regex}$`)}function isValidIP(ip,version){return!!((version==="v4"||!version)&&ipv4Regex.test(ip)||(version==="v6"||!version)&&ipv6Regex.test(ip))}function isValidJWT(jwt,alg){if(!jwtRegex.test(jwt))return!1;try{let[header]=jwt.split(".");if(!header)return!1;let base64=header.replace(/-/g,"+").replace(/_/g,"/").padEnd(header.length+(4-header.length%4)%4,"="),decoded=JSON.parse(atob(base64));return!(typeof decoded!="object"||decoded===null||"typ"in decoded&&decoded?.typ!=="JWT"||!decoded.alg||alg&&decoded.alg!==alg)}catch{return!1}}function isValidCidr(ip,version){return!!((version==="v4"||!version)&&ipv4CidrRegex.test(ip)||(version==="v6"||!version)&&ipv6CidrRegex.test(ip))}var ZodString=class _ZodString extends ZodType{_parse(input){if(this._def.coerce&&(input.data=String(input.data)),this._getType(input)!==ZodParsedType.string){let ctx2=this._getOrReturnCtx(input);return addIssueToContext(ctx2,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:ctx2.parsedType}),INVALID}let status=new ParseStatus,ctx;for(let check of this._def.checks)if(check.kind==="min")input.data.length<check.value&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:check.value,type:"string",inclusive:!0,exact:!1,message:check.message}),status.dirty());else if(check.kind==="max")input.data.length>check.value&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:check.value,type:"string",inclusive:!0,exact:!1,message:check.message}),status.dirty());else if(check.kind==="length"){let tooBig=input.data.length>check.value,tooSmall=input.data.length<check.value;(tooBig||tooSmall)&&(ctx=this._getOrReturnCtx(input,ctx),tooBig?addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:check.value,type:"string",inclusive:!0,exact:!0,message:check.message}):tooSmall&&addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:check.value,type:"string",inclusive:!0,exact:!0,message:check.message}),status.dirty())}else if(check.kind==="email")emailRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"email",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if(check.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"emoji",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if(check.kind==="uuid")uuidRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"uuid",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if(check.kind==="nanoid")nanoidRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if(check.kind==="cuid")cuidRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"cuid",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if(check.kind==="cuid2")cuid2Regex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if(check.kind==="ulid")ulidRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"ulid",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if(check.kind==="url")try{new URL(input.data)}catch{ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"url",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()}else check.kind==="regex"?(check.regex.lastIndex=0,check.regex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"regex",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty())):check.kind==="trim"?input.data=input.data.trim():check.kind==="includes"?input.data.includes(check.value,check.position)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:{includes:check.value,position:check.position},message:check.message}),status.dirty()):check.kind==="toLowerCase"?input.data=input.data.toLowerCase():check.kind==="toUpperCase"?input.data=input.data.toUpperCase():check.kind==="startsWith"?input.data.startsWith(check.value)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:{startsWith:check.value},message:check.message}),status.dirty()):check.kind==="endsWith"?input.data.endsWith(check.value)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:{endsWith:check.value},message:check.message}),status.dirty()):check.kind==="datetime"?datetimeRegex(check).test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:"datetime",message:check.message}),status.dirty()):check.kind==="date"?dateRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:"date",message:check.message}),status.dirty()):check.kind==="time"?timeRegex(check).test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:"time",message:check.message}),status.dirty()):check.kind==="duration"?durationRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"duration",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()):check.kind==="ip"?isValidIP(input.data,check.version)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"ip",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()):check.kind==="jwt"?isValidJWT(input.data,check.alg)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"jwt",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()):check.kind==="cidr"?isValidCidr(input.data,check.version)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"cidr",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()):check.kind==="base64"?base64Regex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"base64",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()):check.kind==="base64url"?base64urlRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"base64url",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()):util.assertNever(check);return{status:status.value,value:input.data}}_regex(regex,validation,message){return this.refinement(data=>regex.test(data),{validation,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(message)})}_addCheck(check){return new _ZodString({...this._def,checks:[...this._def.checks,check]})}email(message){return this._addCheck({kind:"email",...errorUtil.errToObj(message)})}url(message){return this._addCheck({kind:"url",...errorUtil.errToObj(message)})}emoji(message){return this._addCheck({kind:"emoji",...errorUtil.errToObj(message)})}uuid(message){return this._addCheck({kind:"uuid",...errorUtil.errToObj(message)})}nanoid(message){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(message)})}cuid(message){return this._addCheck({kind:"cuid",...errorUtil.errToObj(message)})}cuid2(message){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(message)})}ulid(message){return this._addCheck({kind:"ulid",...errorUtil.errToObj(message)})}base64(message){return this._addCheck({kind:"base64",...errorUtil.errToObj(message)})}base64url(message){return this._addCheck({kind:"base64url",...errorUtil.errToObj(message)})}jwt(options2){return this._addCheck({kind:"jwt",...errorUtil.errToObj(options2)})}ip(options2){return this._addCheck({kind:"ip",...errorUtil.errToObj(options2)})}cidr(options2){return this._addCheck({kind:"cidr",...errorUtil.errToObj(options2)})}datetime(options2){return typeof options2=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:options2}):this._addCheck({kind:"datetime",precision:typeof options2?.precision>"u"?null:options2?.precision,offset:options2?.offset??!1,local:options2?.local??!1,...errorUtil.errToObj(options2?.message)})}date(message){return this._addCheck({kind:"date",message})}time(options2){return typeof options2=="string"?this._addCheck({kind:"time",precision:null,message:options2}):this._addCheck({kind:"time",precision:typeof options2?.precision>"u"?null:options2?.precision,...errorUtil.errToObj(options2?.message)})}duration(message){return this._addCheck({kind:"duration",...errorUtil.errToObj(message)})}regex(regex,message){return this._addCheck({kind:"regex",regex,...errorUtil.errToObj(message)})}includes(value,options2){return this._addCheck({kind:"includes",value,position:options2?.position,...errorUtil.errToObj(options2?.message)})}startsWith(value,message){return this._addCheck({kind:"startsWith",value,...errorUtil.errToObj(message)})}endsWith(value,message){return this._addCheck({kind:"endsWith",value,...errorUtil.errToObj(message)})}min(minLength,message){return this._addCheck({kind:"min",value:minLength,...errorUtil.errToObj(message)})}max(maxLength,message){return this._addCheck({kind:"max",value:maxLength,...errorUtil.errToObj(message)})}length(len,message){return this._addCheck({kind:"length",value:len,...errorUtil.errToObj(message)})}nonempty(message){return this.min(1,errorUtil.errToObj(message))}trim(){return new _ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(ch=>ch.kind==="datetime")}get isDate(){return!!this._def.checks.find(ch=>ch.kind==="date")}get isTime(){return!!this._def.checks.find(ch=>ch.kind==="time")}get isDuration(){return!!this._def.checks.find(ch=>ch.kind==="duration")}get isEmail(){return!!this._def.checks.find(ch=>ch.kind==="email")}get isURL(){return!!this._def.checks.find(ch=>ch.kind==="url")}get isEmoji(){return!!this._def.checks.find(ch=>ch.kind==="emoji")}get isUUID(){return!!this._def.checks.find(ch=>ch.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(ch=>ch.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(ch=>ch.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(ch=>ch.kind==="cuid2")}get isULID(){return!!this._def.checks.find(ch=>ch.kind==="ulid")}get isIP(){return!!this._def.checks.find(ch=>ch.kind==="ip")}get isCIDR(){return!!this._def.checks.find(ch=>ch.kind==="cidr")}get isBase64(){return!!this._def.checks.find(ch=>ch.kind==="base64")}get isBase64url(){return!!this._def.checks.find(ch=>ch.kind==="base64url")}get minLength(){let min=null;for(let ch of this._def.checks)ch.kind==="min"&&(min===null||ch.value>min)&&(min=ch.value);return min}get maxLength(){let max=null;for(let ch of this._def.checks)ch.kind==="max"&&(max===null||ch.value<max)&&(max=ch.value);return max}};ZodString.create=params=>new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:params?.coerce??!1,...processCreateParams(params)});function floatSafeRemainder(val,step){let valDecCount=(val.toString().split(".")[1]||"").length,stepDecCount=(step.toString().split(".")[1]||"").length,decCount=valDecCount>stepDecCount?valDecCount:stepDecCount,valInt=Number.parseInt(val.toFixed(decCount).replace(".","")),stepInt=Number.parseInt(step.toFixed(decCount).replace(".",""));return valInt%stepInt/10**decCount}var ZodNumber=class _ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(input){if(this._def.coerce&&(input.data=Number(input.data)),this._getType(input)!==ZodParsedType.number){let ctx2=this._getOrReturnCtx(input);return addIssueToContext(ctx2,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:ctx2.parsedType}),INVALID}let ctx,status=new ParseStatus;for(let check of this._def.checks)check.kind==="int"?util.isInteger(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:check.message}),status.dirty()):check.kind==="min"?(check.inclusive?input.data<check.value:input.data<=check.value)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:check.value,type:"number",inclusive:check.inclusive,exact:!1,message:check.message}),status.dirty()):check.kind==="max"?(check.inclusive?input.data>check.value:input.data>=check.value)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:check.value,type:"number",inclusive:check.inclusive,exact:!1,message:check.message}),status.dirty()):check.kind==="multipleOf"?floatSafeRemainder(input.data,check.value)!==0&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.not_multiple_of,multipleOf:check.value,message:check.message}),status.dirty()):check.kind==="finite"?Number.isFinite(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.not_finite,message:check.message}),status.dirty()):util.assertNever(check);return{status:status.value,value:input.data}}gte(value,message){return this.setLimit("min",value,!0,errorUtil.toString(message))}gt(value,message){return this.setLimit("min",value,!1,errorUtil.toString(message))}lte(value,message){return this.setLimit("max",value,!0,errorUtil.toString(message))}lt(value,message){return this.setLimit("max",value,!1,errorUtil.toString(message))}setLimit(kind,value,inclusive,message){return new _ZodNumber({...this._def,checks:[...this._def.checks,{kind,value,inclusive,message:errorUtil.toString(message)}]})}_addCheck(check){return new _ZodNumber({...this._def,checks:[...this._def.checks,check]})}int(message){return this._addCheck({kind:"int",message:errorUtil.toString(message)})}positive(message){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(message)})}negative(message){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(message)})}nonpositive(message){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(message)})}nonnegative(message){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(message)})}multipleOf(value,message){return this._addCheck({kind:"multipleOf",value,message:errorUtil.toString(message)})}finite(message){return this._addCheck({kind:"finite",message:errorUtil.toString(message)})}safe(message){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(message)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(message)})}get minValue(){let min=null;for(let ch of this._def.checks)ch.kind==="min"&&(min===null||ch.value>min)&&(min=ch.value);return min}get maxValue(){let max=null;for(let ch of this._def.checks)ch.kind==="max"&&(max===null||ch.value<max)&&(max=ch.value);return max}get isInt(){return!!this._def.checks.find(ch=>ch.kind==="int"||ch.kind==="multipleOf"&&util.isInteger(ch.value))}get isFinite(){let max=null,min=null;for(let ch of this._def.checks){if(ch.kind==="finite"||ch.kind==="int"||ch.kind==="multipleOf")return!0;ch.kind==="min"?(min===null||ch.value>min)&&(min=ch.value):ch.kind==="max"&&(max===null||ch.value<max)&&(max=ch.value)}return Number.isFinite(min)&&Number.isFinite(max)}};ZodNumber.create=params=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:params?.coerce||!1,...processCreateParams(params)});var ZodBigInt=class _ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(input){if(this._def.coerce)try{input.data=BigInt(input.data)}catch{return this._getInvalidInput(input)}if(this._getType(input)!==ZodParsedType.bigint)return this._getInvalidInput(input);let ctx,status=new ParseStatus;for(let check of this._def.checks)check.kind==="min"?(check.inclusive?input.data<check.value:input.data<=check.value)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_small,type:"bigint",minimum:check.value,inclusive:check.inclusive,message:check.message}),status.dirty()):check.kind==="max"?(check.inclusive?input.data>check.value:input.data>=check.value)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_big,type:"bigint",maximum:check.value,inclusive:check.inclusive,message:check.message}),status.dirty()):check.kind==="multipleOf"?input.data%check.value!==BigInt(0)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.not_multiple_of,multipleOf:check.value,message:check.message}),status.dirty()):util.assertNever(check);return{status:status.value,value:input.data}}_getInvalidInput(input){let ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:ctx.parsedType}),INVALID}gte(value,message){return this.setLimit("min",value,!0,errorUtil.toString(message))}gt(value,message){return this.setLimit("min",value,!1,errorUtil.toString(message))}lte(value,message){return this.setLimit("max",value,!0,errorUtil.toString(message))}lt(value,message){return this.setLimit("max",value,!1,errorUtil.toString(message))}setLimit(kind,value,inclusive,message){return new _ZodBigInt({...this._def,checks:[...this._def.checks,{kind,value,inclusive,message:errorUtil.toString(message)}]})}_addCheck(check){return new _ZodBigInt({...this._def,checks:[...this._def.checks,check]})}positive(message){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(message)})}negative(message){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(message)})}nonpositive(message){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(message)})}nonnegative(message){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(message)})}multipleOf(value,message){return this._addCheck({kind:"multipleOf",value,message:errorUtil.toString(message)})}get minValue(){let min=null;for(let ch of this._def.checks)ch.kind==="min"&&(min===null||ch.value>min)&&(min=ch.value);return min}get maxValue(){let max=null;for(let ch of this._def.checks)ch.kind==="max"&&(max===null||ch.value<max)&&(max=ch.value);return max}};ZodBigInt.create=params=>new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:params?.coerce??!1,...processCreateParams(params)});var ZodBoolean=class extends ZodType{_parse(input){if(this._def.coerce&&(input.data=!!input.data),this._getType(input)!==ZodParsedType.boolean){let ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:ctx.parsedType}),INVALID}return OK(input.data)}};ZodBoolean.create=params=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:params?.coerce||!1,...processCreateParams(params)});var ZodDate=class _ZodDate extends ZodType{_parse(input){if(this._def.coerce&&(input.data=new Date(input.data)),this._getType(input)!==ZodParsedType.date){let ctx2=this._getOrReturnCtx(input);return addIssueToContext(ctx2,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:ctx2.parsedType}),INVALID}if(Number.isNaN(input.data.getTime())){let ctx2=this._getOrReturnCtx(input);return addIssueToContext(ctx2,{code:ZodIssueCode.invalid_date}),INVALID}let status=new ParseStatus,ctx;for(let check of this._def.checks)check.kind==="min"?input.data.getTime()<check.value&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_small,message:check.message,inclusive:!0,exact:!1,minimum:check.value,type:"date"}),status.dirty()):check.kind==="max"?input.data.getTime()>check.value&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_big,message:check.message,inclusive:!0,exact:!1,maximum:check.value,type:"date"}),status.dirty()):util.assertNever(check);return{status:status.value,value:new Date(input.data.getTime())}}_addCheck(check){return new _ZodDate({...this._def,checks:[...this._def.checks,check]})}min(minDate,message){return this._addCheck({kind:"min",value:minDate.getTime(),message:errorUtil.toString(message)})}max(maxDate,message){return this._addCheck({kind:"max",value:maxDate.getTime(),message:errorUtil.toString(message)})}get minDate(){let min=null;for(let ch of this._def.checks)ch.kind==="min"&&(min===null||ch.value>min)&&(min=ch.value);return min!=null?new Date(min):null}get maxDate(){let max=null;for(let ch of this._def.checks)ch.kind==="max"&&(max===null||ch.value<max)&&(max=ch.value);return max!=null?new Date(max):null}};ZodDate.create=params=>new ZodDate({checks:[],coerce:params?.coerce||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(params)});var ZodSymbol=class extends ZodType{_parse(input){if(this._getType(input)!==ZodParsedType.symbol){let ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:ctx.parsedType}),INVALID}return OK(input.data)}};ZodSymbol.create=params=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(params)});var ZodUndefined=class extends ZodType{_parse(input){if(this._getType(input)!==ZodParsedType.undefined){let ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:ctx.parsedType}),INVALID}return OK(input.data)}};ZodUndefined.create=params=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(params)});var ZodNull=class extends ZodType{_parse(input){if(this._getType(input)!==ZodParsedType.null){let ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:ctx.parsedType}),INVALID}return OK(input.data)}};ZodNull.create=params=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(params)});var ZodAny=class extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(input){return OK(input.data)}};ZodAny.create=params=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(params)});var ZodUnknown=class extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(input){return OK(input.data)}};ZodUnknown.create=params=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(params)});var ZodNever=class extends ZodType{_parse(input){let ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:ctx.parsedType}),INVALID}};ZodNever.create=params=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(params)});var ZodVoid=class extends ZodType{_parse(input){if(this._getType(input)!==ZodParsedType.undefined){let ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:ctx.parsedType}),INVALID}return OK(input.data)}};ZodVoid.create=params=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(params)});var ZodArray=class _ZodArray extends ZodType{_parse(input){let{ctx,status}=this._processInputParams(input),def=this._def;if(ctx.parsedType!==ZodParsedType.array)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:ctx.parsedType}),INVALID;if(def.exactLength!==null){let tooBig=ctx.data.length>def.exactLength.value,tooSmall=ctx.data.length<def.exactLength.value;(tooBig||tooSmall)&&(addIssueToContext(ctx,{code:tooBig?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:tooSmall?def.exactLength.value:void 0,maximum:tooBig?def.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:def.exactLength.message}),status.dirty())}if(def.minLength!==null&&ctx.data.length<def.minLength.value&&(addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:def.minLength.value,type:"array",inclusive:!0,exact:!1,message:def.minLength.message}),status.dirty()),def.maxLength!==null&&ctx.data.length>def.maxLength.value&&(addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:def.maxLength.value,type:"array",inclusive:!0,exact:!1,message:def.maxLength.message}),status.dirty()),ctx.common.async)return Promise.all([...ctx.data].map((item,i)=>def.type._parseAsync(new ParseInputLazyPath(ctx,item,ctx.path,i)))).then(result2=>ParseStatus.mergeArray(status,result2));let result=[...ctx.data].map((item,i)=>def.type._parseSync(new ParseInputLazyPath(ctx,item,ctx.path,i)));return ParseStatus.mergeArray(status,result)}get element(){return this._def.type}min(minLength,message){return new _ZodArray({...this._def,minLength:{value:minLength,message:errorUtil.toString(message)}})}max(maxLength,message){return new _ZodArray({...this._def,maxLength:{value:maxLength,message:errorUtil.toString(message)}})}length(len,message){return new _ZodArray({...this._def,exactLength:{value:len,message:errorUtil.toString(message)}})}nonempty(message){return this.min(1,message)}};ZodArray.create=(schema,params)=>new ZodArray({type:schema,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(params)});function deepPartialify(schema){if(schema instanceof ZodObject){let newShape={};for(let key in schema.shape){let fieldSchema=schema.shape[key];newShape[key]=ZodOptional.create(deepPartialify(fieldSchema))}return new ZodObject({...schema._def,shape:()=>newShape})}else return schema instanceof ZodArray?new ZodArray({...schema._def,type:deepPartialify(schema.element)}):schema instanceof ZodOptional?ZodOptional.create(deepPartialify(schema.unwrap())):schema instanceof ZodNullable?ZodNullable.create(deepPartialify(schema.unwrap())):schema instanceof ZodTuple?ZodTuple.create(schema.items.map(item=>deepPartialify(item))):schema}var ZodObject=class _ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let shape=this._def.shape(),keys2=util.objectKeys(shape);return this._cached={shape,keys:keys2},this._cached}_parse(input){if(this._getType(input)!==ZodParsedType.object){let ctx2=this._getOrReturnCtx(input);return addIssueToContext(ctx2,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ctx2.parsedType}),INVALID}let{status,ctx}=this._processInputParams(input),{shape,keys:shapeKeys}=this._getCached(),extraKeys=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(let key in ctx.data)shapeKeys.includes(key)||extraKeys.push(key);let pairs=[];for(let key of shapeKeys){let keyValidator=shape[key],value=ctx.data[key];pairs.push({key:{status:"valid",value:key},value:keyValidator._parse(new ParseInputLazyPath(ctx,value,ctx.path,key)),alwaysSet:key in ctx.data})}if(this._def.catchall instanceof ZodNever){let unknownKeys=this._def.unknownKeys;if(unknownKeys==="passthrough")for(let key of extraKeys)pairs.push({key:{status:"valid",value:key},value:{status:"valid",value:ctx.data[key]}});else if(unknownKeys==="strict")extraKeys.length>0&&(addIssueToContext(ctx,{code:ZodIssueCode.unrecognized_keys,keys:extraKeys}),status.dirty());else if(unknownKeys!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let catchall=this._def.catchall;for(let key of extraKeys){let value=ctx.data[key];pairs.push({key:{status:"valid",value:key},value:catchall._parse(new ParseInputLazyPath(ctx,value,ctx.path,key)),alwaysSet:key in ctx.data})}}return ctx.common.async?Promise.resolve().then(async()=>{let syncPairs=[];for(let pair of pairs){let key=await pair.key,value=await pair.value;syncPairs.push({key,value,alwaysSet:pair.alwaysSet})}return syncPairs}).then(syncPairs=>ParseStatus.mergeObjectSync(status,syncPairs)):ParseStatus.mergeObjectSync(status,pairs)}get shape(){return this._def.shape()}strict(message){return errorUtil.errToObj,new _ZodObject({...this._def,unknownKeys:"strict",...message!==void 0?{errorMap:(issue,ctx)=>{let defaultError=this._def.errorMap?.(issue,ctx).message??ctx.defaultError;return issue.code==="unrecognized_keys"?{message:errorUtil.errToObj(message).message??defaultError}:{message:defaultError}}}:{}})}strip(){return new _ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new _ZodObject({...this._def,unknownKeys:"passthrough"})}extend(augmentation){return new _ZodObject({...this._def,shape:()=>({...this._def.shape(),...augmentation})})}merge(merging){return new _ZodObject({unknownKeys:merging._def.unknownKeys,catchall:merging._def.catchall,shape:()=>({...this._def.shape(),...merging._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(key,schema){return this.augment({[key]:schema})}catchall(index2){return new _ZodObject({...this._def,catchall:index2})}pick(mask){let shape={};for(let key of util.objectKeys(mask))mask[key]&&this.shape[key]&&(shape[key]=this.shape[key]);return new _ZodObject({...this._def,shape:()=>shape})}omit(mask){let shape={};for(let key of util.objectKeys(this.shape))mask[key]||(shape[key]=this.shape[key]);return new _ZodObject({...this._def,shape:()=>shape})}deepPartial(){return deepPartialify(this)}partial(mask){let newShape={};for(let key of util.objectKeys(this.shape)){let fieldSchema=this.shape[key];mask&&!mask[key]?newShape[key]=fieldSchema:newShape[key]=fieldSchema.optional()}return new _ZodObject({...this._def,shape:()=>newShape})}required(mask){let newShape={};for(let key of util.objectKeys(this.shape))if(mask&&!mask[key])newShape[key]=this.shape[key];else{let newField2=this.shape[key];for(;newField2 instanceof ZodOptional;)newField2=newField2._def.innerType;newShape[key]=newField2}return new _ZodObject({...this._def,shape:()=>newShape})}keyof(){return createZodEnum(util.objectKeys(this.shape))}};ZodObject.create=(shape,params)=>new ZodObject({shape:()=>shape,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(params)});ZodObject.strictCreate=(shape,params)=>new ZodObject({shape:()=>shape,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(params)});ZodObject.lazycreate=(shape,params)=>new ZodObject({shape,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(params)});var ZodUnion=class extends ZodType{_parse(input){let{ctx}=this._processInputParams(input),options2=this._def.options;function handleResults(results){for(let result of results)if(result.result.status==="valid")return result.result;for(let result of results)if(result.result.status==="dirty")return ctx.common.issues.push(...result.ctx.common.issues),result.result;let unionErrors=results.map(result=>new ZodError(result.ctx.common.issues));return addIssueToContext(ctx,{code:ZodIssueCode.invalid_union,unionErrors}),INVALID}if(ctx.common.async)return Promise.all(options2.map(async option=>{let childCtx={...ctx,common:{...ctx.common,issues:[]},parent:null};return{result:await option._parseAsync({data:ctx.data,path:ctx.path,parent:childCtx}),ctx:childCtx}})).then(handleResults);{let dirty,issues=[];for(let option of options2){let childCtx={...ctx,common:{...ctx.common,issues:[]},parent:null},result=option._parseSync({data:ctx.data,path:ctx.path,parent:childCtx});if(result.status==="valid")return result;result.status==="dirty"&&!dirty&&(dirty={result,ctx:childCtx}),childCtx.common.issues.length&&issues.push(childCtx.common.issues)}if(dirty)return ctx.common.issues.push(...dirty.ctx.common.issues),dirty.result;let unionErrors=issues.map(issues2=>new ZodError(issues2));return addIssueToContext(ctx,{code:ZodIssueCode.invalid_union,unionErrors}),INVALID}}get options(){return this._def.options}};ZodUnion.create=(types,params)=>new ZodUnion({options:types,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(params)});var getDiscriminator=type=>type instanceof ZodLazy?getDiscriminator(type.schema):type instanceof ZodEffects?getDiscriminator(type.innerType()):type instanceof ZodLiteral?[type.value]:type instanceof ZodEnum?type.options:type instanceof ZodNativeEnum?util.objectValues(type.enum):type instanceof ZodDefault?getDiscriminator(type._def.innerType):type instanceof ZodUndefined?[void 0]:type instanceof ZodNull?[null]:type instanceof ZodOptional?[void 0,...getDiscriminator(type.unwrap())]:type instanceof ZodNullable?[null,...getDiscriminator(type.unwrap())]:type instanceof ZodBranded||type instanceof ZodReadonly?getDiscriminator(type.unwrap()):type instanceof ZodCatch?getDiscriminator(type._def.innerType):[],ZodDiscriminatedUnion=class _ZodDiscriminatedUnion extends ZodType{_parse(input){let{ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.object)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ctx.parsedType}),INVALID;let discriminator=this.discriminator,discriminatorValue=ctx.data[discriminator],option=this.optionsMap.get(discriminatorValue);return option?ctx.common.async?option._parseAsync({data:ctx.data,path:ctx.path,parent:ctx}):option._parseSync({data:ctx.data,path:ctx.path,parent:ctx}):(addIssueToContext(ctx,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[discriminator]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(discriminator,options2,params){let optionsMap=new Map;for(let type of options2){let discriminatorValues=getDiscriminator(type.shape[discriminator]);if(!discriminatorValues.length)throw new Error(`A discriminator value for key \`${discriminator}\` could not be extracted from all schema options`);for(let value of discriminatorValues){if(optionsMap.has(value))throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);optionsMap.set(value,type)}}return new _ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator,options:options2,optionsMap,...processCreateParams(params)})}};function mergeValues(a,b){let aType=getParsedType(a),bType=getParsedType(b);if(a===b)return{valid:!0,data:a};if(aType===ZodParsedType.object&&bType===ZodParsedType.object){let bKeys=util.objectKeys(b),sharedKeys=util.objectKeys(a).filter(key=>bKeys.indexOf(key)!==-1),newObj={...a,...b};for(let key of sharedKeys){let sharedValue=mergeValues(a[key],b[key]);if(!sharedValue.valid)return{valid:!1};newObj[key]=sharedValue.data}return{valid:!0,data:newObj}}else if(aType===ZodParsedType.array&&bType===ZodParsedType.array){if(a.length!==b.length)return{valid:!1};let newArray=[];for(let index2=0;index2<a.length;index2++){let itemA=a[index2],itemB=b[index2],sharedValue=mergeValues(itemA,itemB);if(!sharedValue.valid)return{valid:!1};newArray.push(sharedValue.data)}return{valid:!0,data:newArray}}else return aType===ZodParsedType.date&&bType===ZodParsedType.date&&+a==+b?{valid:!0,data:a}:{valid:!1}}var ZodIntersection=class extends ZodType{_parse(input){let{status,ctx}=this._processInputParams(input),handleParsed=(parsedLeft,parsedRight)=>{if(isAborted(parsedLeft)||isAborted(parsedRight))return INVALID;let merged=mergeValues(parsedLeft.value,parsedRight.value);return merged.valid?((isDirty(parsedLeft)||isDirty(parsedRight))&&status.dirty(),{status:status.value,value:merged.data}):(addIssueToContext(ctx,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return ctx.common.async?Promise.all([this._def.left._parseAsync({data:ctx.data,path:ctx.path,parent:ctx}),this._def.right._parseAsync({data:ctx.data,path:ctx.path,parent:ctx})]).then(([left,right])=>handleParsed(left,right)):handleParsed(this._def.left._parseSync({data:ctx.data,path:ctx.path,parent:ctx}),this._def.right._parseSync({data:ctx.data,path:ctx.path,parent:ctx}))}};ZodIntersection.create=(left,right,params)=>new ZodIntersection({left,right,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(params)});var ZodTuple=class _ZodTuple extends ZodType{_parse(input){let{status,ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.array)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:ctx.parsedType}),INVALID;if(ctx.data.length<this._def.items.length)return addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&ctx.data.length>this._def.items.length&&(addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),status.dirty());let items=[...ctx.data].map((item,itemIndex)=>{let schema=this._def.items[itemIndex]||this._def.rest;return schema?schema._parse(new ParseInputLazyPath(ctx,item,ctx.path,itemIndex)):null}).filter(x=>!!x);return ctx.common.async?Promise.all(items).then(results=>ParseStatus.mergeArray(status,results)):ParseStatus.mergeArray(status,items)}get items(){return this._def.items}rest(rest){return new _ZodTuple({...this._def,rest})}};ZodTuple.create=(schemas,params)=>{if(!Array.isArray(schemas))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:schemas,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(params)})};var ZodRecord=class _ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(input){let{status,ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.object)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ctx.parsedType}),INVALID;let pairs=[],keyType=this._def.keyType,valueType=this._def.valueType;for(let key in ctx.data)pairs.push({key:keyType._parse(new ParseInputLazyPath(ctx,key,ctx.path,key)),value:valueType._parse(new ParseInputLazyPath(ctx,ctx.data[key],ctx.path,key)),alwaysSet:key in ctx.data});return ctx.common.async?ParseStatus.mergeObjectAsync(status,pairs):ParseStatus.mergeObjectSync(status,pairs)}get element(){return this._def.valueType}static create(first,second,third){return second instanceof ZodType?new _ZodRecord({keyType:first,valueType:second,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(third)}):new _ZodRecord({keyType:ZodString.create(),valueType:first,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(second)})}},ZodMap=class extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(input){let{status,ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.map)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:ctx.parsedType}),INVALID;let keyType=this._def.keyType,valueType=this._def.valueType,pairs=[...ctx.data.entries()].map(([key,value],index2)=>({key:keyType._parse(new ParseInputLazyPath(ctx,key,ctx.path,[index2,"key"])),value:valueType._parse(new ParseInputLazyPath(ctx,value,ctx.path,[index2,"value"]))}));if(ctx.common.async){let finalMap=new Map;return Promise.resolve().then(async()=>{for(let pair of pairs){let key=await pair.key,value=await pair.value;if(key.status==="aborted"||value.status==="aborted")return INVALID;(key.status==="dirty"||value.status==="dirty")&&status.dirty(),finalMap.set(key.value,value.value)}return{status:status.value,value:finalMap}})}else{let finalMap=new Map;for(let pair of pairs){let key=pair.key,value=pair.value;if(key.status==="aborted"||value.status==="aborted")return INVALID;(key.status==="dirty"||value.status==="dirty")&&status.dirty(),finalMap.set(key.value,value.value)}return{status:status.value,value:finalMap}}}};ZodMap.create=(keyType,valueType,params)=>new ZodMap({valueType,keyType,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(params)});var ZodSet=class _ZodSet extends ZodType{_parse(input){let{status,ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.set)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:ctx.parsedType}),INVALID;let def=this._def;def.minSize!==null&&ctx.data.size<def.minSize.value&&(addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:def.minSize.value,type:"set",inclusive:!0,exact:!1,message:def.minSize.message}),status.dirty()),def.maxSize!==null&&ctx.data.size>def.maxSize.value&&(addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:def.maxSize.value,type:"set",inclusive:!0,exact:!1,message:def.maxSize.message}),status.dirty());let valueType=this._def.valueType;function finalizeSet(elements2){let parsedSet=new Set;for(let element of elements2){if(element.status==="aborted")return INVALID;element.status==="dirty"&&status.dirty(),parsedSet.add(element.value)}return{status:status.value,value:parsedSet}}let elements=[...ctx.data.values()].map((item,i)=>valueType._parse(new ParseInputLazyPath(ctx,item,ctx.path,i)));return ctx.common.async?Promise.all(elements).then(elements2=>finalizeSet(elements2)):finalizeSet(elements)}min(minSize,message){return new _ZodSet({...this._def,minSize:{value:minSize,message:errorUtil.toString(message)}})}max(maxSize,message){return new _ZodSet({...this._def,maxSize:{value:maxSize,message:errorUtil.toString(message)}})}size(size,message){return this.min(size,message).max(size,message)}nonempty(message){return this.min(1,message)}};ZodSet.create=(valueType,params)=>new ZodSet({valueType,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(params)});var ZodFunction=class _ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(input){let{ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.function)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:ctx.parsedType}),INVALID;function makeArgsIssue(args,error){return makeIssue({data:args,path:ctx.path,errorMaps:[ctx.common.contextualErrorMap,ctx.schemaErrorMap,getErrorMap(),en_default].filter(x=>!!x),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:error}})}function makeReturnsIssue(returns,error){return makeIssue({data:returns,path:ctx.path,errorMaps:[ctx.common.contextualErrorMap,ctx.schemaErrorMap,getErrorMap(),en_default].filter(x=>!!x),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:error}})}let params={errorMap:ctx.common.contextualErrorMap},fn=ctx.data;if(this._def.returns instanceof ZodPromise){let me=this;return OK(async function(...args){let error=new ZodError([]),parsedArgs=await me._def.args.parseAsync(args,params).catch(e=>{throw error.addIssue(makeArgsIssue(args,e)),error}),result=await Reflect.apply(fn,this,parsedArgs);return await me._def.returns._def.type.parseAsync(result,params).catch(e=>{throw error.addIssue(makeReturnsIssue(result,e)),error})})}else{let me=this;return OK(function(...args){let parsedArgs=me._def.args.safeParse(args,params);if(!parsedArgs.success)throw new ZodError([makeArgsIssue(args,parsedArgs.error)]);let result=Reflect.apply(fn,this,parsedArgs.data),parsedReturns=me._def.returns.safeParse(result,params);if(!parsedReturns.success)throw new ZodError([makeReturnsIssue(result,parsedReturns.error)]);return parsedReturns.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...items){return new _ZodFunction({...this._def,args:ZodTuple.create(items).rest(ZodUnknown.create())})}returns(returnType){return new _ZodFunction({...this._def,returns:returnType})}implement(func){return this.parse(func)}strictImplement(func){return this.parse(func)}static create(args,returns,params){return new _ZodFunction({args:args||ZodTuple.create([]).rest(ZodUnknown.create()),returns:returns||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(params)})}},ZodLazy=class extends ZodType{get schema(){return this._def.getter()}_parse(input){let{ctx}=this._processInputParams(input);return this._def.getter()._parse({data:ctx.data,path:ctx.path,parent:ctx})}};ZodLazy.create=(getter,params)=>new ZodLazy({getter,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(params)});var ZodLiteral=class extends ZodType{_parse(input){if(input.data!==this._def.value){let ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{received:ctx.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:input.data}}get value(){return this._def.value}};ZodLiteral.create=(value,params)=>new ZodLiteral({value,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(params)});function createZodEnum(values2,params){return new ZodEnum({values:values2,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(params)})}var ZodEnum=class _ZodEnum extends ZodType{_parse(input){if(typeof input.data!="string"){let ctx=this._getOrReturnCtx(input),expectedValues=this._def.values;return addIssueToContext(ctx,{expected:util.joinValues(expectedValues),received:ctx.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(input.data)){let ctx=this._getOrReturnCtx(input),expectedValues=this._def.values;return addIssueToContext(ctx,{received:ctx.data,code:ZodIssueCode.invalid_enum_value,options:expectedValues}),INVALID}return OK(input.data)}get options(){return this._def.values}get enum(){let enumValues={};for(let val of this._def.values)enumValues[val]=val;return enumValues}get Values(){let enumValues={};for(let val of this._def.values)enumValues[val]=val;return enumValues}get Enum(){let enumValues={};for(let val of this._def.values)enumValues[val]=val;return enumValues}extract(values2,newDef=this._def){return _ZodEnum.create(values2,{...this._def,...newDef})}exclude(values2,newDef=this._def){return _ZodEnum.create(this.options.filter(opt=>!values2.includes(opt)),{...this._def,...newDef})}};ZodEnum.create=createZodEnum;var ZodNativeEnum=class extends ZodType{_parse(input){let nativeEnumValues=util.getValidEnumValues(this._def.values),ctx=this._getOrReturnCtx(input);if(ctx.parsedType!==ZodParsedType.string&&ctx.parsedType!==ZodParsedType.number){let expectedValues=util.objectValues(nativeEnumValues);return addIssueToContext(ctx,{expected:util.joinValues(expectedValues),received:ctx.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._cache||(this._cache=new Set(util.getValidEnumValues(this._def.values))),!this._cache.has(input.data)){let expectedValues=util.objectValues(nativeEnumValues);return addIssueToContext(ctx,{received:ctx.data,code:ZodIssueCode.invalid_enum_value,options:expectedValues}),INVALID}return OK(input.data)}get enum(){return this._def.values}};ZodNativeEnum.create=(values2,params)=>new ZodNativeEnum({values:values2,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(params)});var ZodPromise=class extends ZodType{unwrap(){return this._def.type}_parse(input){let{ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.promise&&ctx.common.async===!1)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:ctx.parsedType}),INVALID;let promisified=ctx.parsedType===ZodParsedType.promise?ctx.data:Promise.resolve(ctx.data);return OK(promisified.then(data=>this._def.type.parseAsync(data,{path:ctx.path,errorMap:ctx.common.contextualErrorMap})))}};ZodPromise.create=(schema,params)=>new ZodPromise({type:schema,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(params)});var ZodEffects=class extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(input){let{status,ctx}=this._processInputParams(input),effect=this._def.effect||null,checkCtx={addIssue:arg=>{addIssueToContext(ctx,arg),arg.fatal?status.abort():status.dirty()},get path(){return ctx.path}};if(checkCtx.addIssue=checkCtx.addIssue.bind(checkCtx),effect.type==="preprocess"){let processed=effect.transform(ctx.data,checkCtx);if(ctx.common.async)return Promise.resolve(processed).then(async processed2=>{if(status.value==="aborted")return INVALID;let result=await this._def.schema._parseAsync({data:processed2,path:ctx.path,parent:ctx});return result.status==="aborted"?INVALID:result.status==="dirty"?DIRTY(result.value):status.value==="dirty"?DIRTY(result.value):result});{if(status.value==="aborted")return INVALID;let result=this._def.schema._parseSync({data:processed,path:ctx.path,parent:ctx});return result.status==="aborted"?INVALID:result.status==="dirty"?DIRTY(result.value):status.value==="dirty"?DIRTY(result.value):result}}if(effect.type==="refinement"){let executeRefinement=acc=>{let result=effect.refinement(acc,checkCtx);if(ctx.common.async)return Promise.resolve(result);if(result instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return acc};if(ctx.common.async===!1){let inner=this._def.schema._parseSync({data:ctx.data,path:ctx.path,parent:ctx});return inner.status==="aborted"?INVALID:(inner.status==="dirty"&&status.dirty(),executeRefinement(inner.value),{status:status.value,value:inner.value})}else return this._def.schema._parseAsync({data:ctx.data,path:ctx.path,parent:ctx}).then(inner=>inner.status==="aborted"?INVALID:(inner.status==="dirty"&&status.dirty(),executeRefinement(inner.value).then(()=>({status:status.value,value:inner.value}))))}if(effect.type==="transform")if(ctx.common.async===!1){let base=this._def.schema._parseSync({data:ctx.data,path:ctx.path,parent:ctx});if(!isValid(base))return INVALID;let result=effect.transform(base.value,checkCtx);if(result instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:status.value,value:result}}else return this._def.schema._parseAsync({data:ctx.data,path:ctx.path,parent:ctx}).then(base=>isValid(base)?Promise.resolve(effect.transform(base.value,checkCtx)).then(result=>({status:status.value,value:result})):INVALID);util.assertNever(effect)}};ZodEffects.create=(schema,effect,params)=>new ZodEffects({schema,typeName:ZodFirstPartyTypeKind.ZodEffects,effect,...processCreateParams(params)});ZodEffects.createWithPreprocess=(preprocess,schema,params)=>new ZodEffects({schema,effect:{type:"preprocess",transform:preprocess},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(params)});var ZodOptional=class extends ZodType{_parse(input){return this._getType(input)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(input)}unwrap(){return this._def.innerType}};ZodOptional.create=(type,params)=>new ZodOptional({innerType:type,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(params)});var ZodNullable=class extends ZodType{_parse(input){return this._getType(input)===ZodParsedType.null?OK(null):this._def.innerType._parse(input)}unwrap(){return this._def.innerType}};ZodNullable.create=(type,params)=>new ZodNullable({innerType:type,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(params)});var ZodDefault=class extends ZodType{_parse(input){let{ctx}=this._processInputParams(input),data=ctx.data;return ctx.parsedType===ZodParsedType.undefined&&(data=this._def.defaultValue()),this._def.innerType._parse({data,path:ctx.path,parent:ctx})}removeDefault(){return this._def.innerType}};ZodDefault.create=(type,params)=>new ZodDefault({innerType:type,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof params.default=="function"?params.default:()=>params.default,...processCreateParams(params)});var ZodCatch=class extends ZodType{_parse(input){let{ctx}=this._processInputParams(input),newCtx={...ctx,common:{...ctx.common,issues:[]}},result=this._def.innerType._parse({data:newCtx.data,path:newCtx.path,parent:{...newCtx}});return isAsync(result)?result.then(result2=>({status:"valid",value:result2.status==="valid"?result2.value:this._def.catchValue({get error(){return new ZodError(newCtx.common.issues)},input:newCtx.data})})):{status:"valid",value:result.status==="valid"?result.value:this._def.catchValue({get error(){return new ZodError(newCtx.common.issues)},input:newCtx.data})}}removeCatch(){return this._def.innerType}};ZodCatch.create=(type,params)=>new ZodCatch({innerType:type,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof params.catch=="function"?params.catch:()=>params.catch,...processCreateParams(params)});var ZodNaN=class extends ZodType{_parse(input){if(this._getType(input)!==ZodParsedType.nan){let ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:ctx.parsedType}),INVALID}return{status:"valid",value:input.data}}};ZodNaN.create=params=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(params)});var BRAND=Symbol("zod_brand"),ZodBranded=class extends ZodType{_parse(input){let{ctx}=this._processInputParams(input),data=ctx.data;return this._def.type._parse({data,path:ctx.path,parent:ctx})}unwrap(){return this._def.type}},ZodPipeline=class _ZodPipeline extends ZodType{_parse(input){let{status,ctx}=this._processInputParams(input);if(ctx.common.async)return(async()=>{let inResult=await this._def.in._parseAsync({data:ctx.data,path:ctx.path,parent:ctx});return inResult.status==="aborted"?INVALID:inResult.status==="dirty"?(status.dirty(),DIRTY(inResult.value)):this._def.out._parseAsync({data:inResult.value,path:ctx.path,parent:ctx})})();{let inResult=this._def.in._parseSync({data:ctx.data,path:ctx.path,parent:ctx});return inResult.status==="aborted"?INVALID:inResult.status==="dirty"?(status.dirty(),{status:"dirty",value:inResult.value}):this._def.out._parseSync({data:inResult.value,path:ctx.path,parent:ctx})}}static create(a,b){return new _ZodPipeline({in:a,out:b,typeName:ZodFirstPartyTypeKind.ZodPipeline})}},ZodReadonly=class extends ZodType{_parse(input){let result=this._def.innerType._parse(input),freeze=data=>(isValid(data)&&(data.value=Object.freeze(data.value)),data);return isAsync(result)?result.then(data=>freeze(data)):freeze(result)}unwrap(){return this._def.innerType}};ZodReadonly.create=(type,params)=>new ZodReadonly({innerType:type,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(params)});function cleanParams(params,data){let p=typeof params=="function"?params(data):typeof params=="string"?{message:params}:params;return typeof p=="string"?{message:p}:p}function custom(check,_params={},fatal){return check?ZodAny.create().superRefine((data,ctx)=>{let r=check(data);if(r instanceof Promise)return r.then(r2=>{if(!r2){let params=cleanParams(_params,data),_fatal=params.fatal??fatal??!0;ctx.addIssue({code:"custom",...params,fatal:_fatal})}});if(!r){let params=cleanParams(_params,data),_fatal=params.fatal??fatal??!0;ctx.addIssue({code:"custom",...params,fatal:_fatal})}}):ZodAny.create()}var late={object:ZodObject.lazycreate},ZodFirstPartyTypeKind;(function(ZodFirstPartyTypeKind2){ZodFirstPartyTypeKind2.ZodString="ZodString",ZodFirstPartyTypeKind2.ZodNumber="ZodNumber",ZodFirstPartyTypeKind2.ZodNaN="ZodNaN",ZodFirstPartyTypeKind2.ZodBigInt="ZodBigInt",ZodFirstPartyTypeKind2.ZodBoolean="ZodBoolean",ZodFirstPartyTypeKind2.ZodDate="ZodDate",ZodFirstPartyTypeKind2.ZodSymbol="ZodSymbol",ZodFirstPartyTypeKind2.ZodUndefined="ZodUndefined",ZodFirstPartyTypeKind2.ZodNull="ZodNull",ZodFirstPartyTypeKind2.ZodAny="ZodAny",ZodFirstPartyTypeKind2.ZodUnknown="ZodUnknown",ZodFirstPartyTypeKind2.ZodNever="ZodNever",ZodFirstPartyTypeKind2.ZodVoid="ZodVoid",ZodFirstPartyTypeKind2.ZodArray="ZodArray",ZodFirstPartyTypeKind2.ZodObject="ZodObject",ZodFirstPartyTypeKind2.ZodUnion="ZodUnion",ZodFirstPartyTypeKind2.ZodDiscriminatedUnion="ZodDiscriminatedUnion",ZodFirstPartyTypeKind2.ZodIntersection="ZodIntersection",ZodFirstPartyTypeKind2.ZodTuple="ZodTuple",ZodFirstPartyTypeKind2.ZodRecord="ZodRecord",ZodFirstPartyTypeKind2.ZodMap="ZodMap",ZodFirstPartyTypeKind2.ZodSet="ZodSet",ZodFirstPartyTypeKind2.ZodFunction="ZodFunction",ZodFirstPartyTypeKind2.ZodLazy="ZodLazy",ZodFirstPartyTypeKind2.ZodLiteral="ZodLiteral",ZodFirstPartyTypeKind2.ZodEnum="ZodEnum",ZodFirstPartyTypeKind2.ZodEffects="ZodEffects",ZodFirstPartyTypeKind2.ZodNativeEnum="ZodNativeEnum",ZodFirstPartyTypeKind2.ZodOptional="ZodOptional",ZodFirstPartyTypeKind2.ZodNullable="ZodNullable",ZodFirstPartyTypeKind2.ZodDefault="ZodDefault",ZodFirstPartyTypeKind2.ZodCatch="ZodCatch",ZodFirstPartyTypeKind2.ZodPromise="ZodPromise",ZodFirstPartyTypeKind2.ZodBranded="ZodBranded",ZodFirstPartyTypeKind2.ZodPipeline="ZodPipeline",ZodFirstPartyTypeKind2.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));var instanceOfType=(cls,params={message:`Input not instance of ${cls.name}`})=>custom(data=>data instanceof cls,params),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:(arg=>ZodString.create({...arg,coerce:!0})),number:(arg=>ZodNumber.create({...arg,coerce:!0})),boolean:(arg=>ZodBoolean.create({...arg,coerce:!0})),bigint:(arg=>ZodBigInt.create({...arg,coerce:!0})),date:(arg=>ZodDate.create({...arg,coerce:!0}))};var NEVER=INVALID;function isValidStratum1Url(url){try{let proto=new URL(url).protocol.slice(0,-1);return proto==="stratum+tcp"||proto==="stratum+tcp+secure"}catch{return!1}}var isReservedName=name=>RESERVED_FILE_NAMES.includes(name),isValidFilename=x=>external_exports.string().trim().min(3).regex(/^[a-zA-Z0-9]+$/).safeParse(x).success;function getProtoErrorCode(code2){return{invalid_type:5,invalid_literal:5,custom:6,invalid_union:5,invalid_union_discriminator:5,invalid_enum_value:5,unrecognized_keys:5,invalid_arguments:5,invalid_return_type:5,invalid_date:5,invalid_string:5,too_small:4,too_big:4,invalid_intersection_types:5,not_multiple_of:5,not_finite:5}[code2]}var config={server(server,servers){let{port,extranonceSize}=getMetadata().server,serverNames=servers.map(s=>s.name),serverPorts=servers.map(s=>s.port),validated=external_exports.object({name:external_exports.string().trim().min(1).refine(name=>!serverNames.includes(name),{message:"The value must be unique"}),port:external_exports.number().int().min(port.min).max(port.max).refine(name=>!serverPorts.includes(name),{message:"The value must be unique"}),extranonceSize:external_exports.optional(external_exports.number().int().min(extranonceSize.min).max(extranonceSize.max)),braiinspoolBosBonus:external_exports.optional(external_exports.string()),bosReferralCode:external_exports.optional(external_exports.string())}).safeParse(server);return validated.success?{isValid:!0,errors:[]}:{isValid:!1,errors:validated.error.errors.map(err=>create(ValidationErrorSchema,{code:getProtoErrorCode(err.code),path:err.path.map(p=>String(p)),message:err.message}))}},servers(servers){let results=[];return servers.forEach((currServer,idx,arr)=>{let filtered=[...arr];filtered.splice(idx,1);let e=this.server(currServer,filtered);e.isValid||(results=[...results,...e.errors])}),{isValid:results.length===0,errors:results}},target(target,targets){let targetNames=targets.map(t=>t.name),{aggregation,extranonceSize}=getMetadata().target,validated=external_exports.object({name:external_exports.string().trim().min(1).refine(name=>!targetNames.includes(name),{message:"The value must be unique"}),url:external_exports.string().trim().min(1).refine(url=>isValidStratum1Url(prependStratumV1Protocol(url)),{message:"Invalid value"}),userIdentity:external_exports.string().trim().min(1).regex(/(.*)\.(.*)/,{message:"Invalid format"}),aggregation:external_exports.optional(external_exports.number().int().min(aggregation.min).max(aggregation.max)),extranonceSize:external_exports.optional(external_exports.number().int().min(extranonceSize.min).max(extranonceSize.max))}).safeParse(target);return validated.success?{isValid:!0,errors:[]}:{isValid:!1,errors:validated.error.errors.map(err=>create(ValidationErrorSchema,{code:getProtoErrorCode(err.code),path:err.path.map(p=>String(p)),message:err.message}))}},targets(targets){let results=[];return targets.forEach((currTarget,idx,arr)=>{let filtered=[...arr];filtered.splice(idx,1);let e=this.target(currTarget,filtered);e.isValid||(results=[...results,...e.errors])}),{isValid:results.length===0,errors:results}},routingGoal(goal,targets,goals){let{hrWeight}=getMetadata().routingGoal,validated=external_exports.object({name:external_exports.string().trim().min(1).refine(name=>!goals.includes(name),{message:"The value must be unique"}),hrWeight:external_exports.optional(external_exports.number().int().min(hrWeight.min).max(hrWeight.max)),level:external_exports.array(external_exports.object({targets:external_exports.array(external_exports.string().refine(targetName=>targets.includes(targetName))).min(1)})).min(1)}).safeParse(goal);return validated.success?{isValid:!0,errors:[]}:{isValid:!1,errors:validated.error.errors.map(err=>create(ValidationErrorSchema,{code:getProtoErrorCode(err.code),message:err.message,path:err.path.map(p=>String(p))}))}},routings(routings,servers,targets){let knownServers=new Set(servers.map(x=>x.name)),knownTargets=new Set(targets.map(x=>x.name)),{hrWeight}=getMetadata().routingGoal,Goal=external_exports.object({name:external_exports.string().trim().min(1),hrWeight:external_exports.optional(external_exports.number().int().min(hrWeight.min).max(hrWeight.max)),level:external_exports.array(external_exports.object({targets:external_exports.array(external_exports.string().refine(targetName=>knownTargets.has(targetName))).min(1)})).min(1)}),validated=external_exports.array(external_exports.object({from:external_exports.array(external_exports.string().trim().min(1).refine(serverName=>knownServers.has(serverName),{message:"The server name must be known"})),goal:external_exports.array(Goal).min(1)})).min(1).safeParse(routings);return validated.success?{isValid:!0,errors:[]}:{isValid:!1,errors:validated.error.errors.map(err=>create(ValidationErrorSchema,{code:getProtoErrorCode(err.code),path:err.path.map(p=>String(p)),message:err.message}))}}};var git_exports={};__export(git_exports,{getUpdateInfo:()=>getUpdateInfo});var import_node_fs2=__toESM(require("node:fs"));var maxTime=Math.pow(10,8)*24*60*60*1e3,minTime=-maxTime;var secondsInHour=3600;var secondsInDay=secondsInHour*24,secondsInWeek=secondsInDay*7,secondsInYear=secondsInDay*365.2425,secondsInMonth=secondsInYear/12,secondsInQuarter=secondsInMonth*3,constructFromSymbol=Symbol.for("constructDateFrom");function constructFrom(date,value){return typeof date=="function"?date(value):date&&typeof date=="object"&&constructFromSymbol in date?date[constructFromSymbol](value):date instanceof Date?new date.constructor(value):new Date(value)}function toDate(argument,context){return constructFrom(context||argument,argument)}function getUnixTime(date){return Math.trunc(+toDate(date)/1e3)}var utils_exports={};__export(utils_exports,{arrayReplaceAt:()=>arrayReplaceAt,assign:()=>assign2,escapeHtml:()=>escapeHtml,escapeRE:()=>escapeRE,fromCodePoint:()=>fromCodePoint2,has:()=>has,isMdAsciiPunct:()=>isMdAsciiPunct,isPunctChar:()=>isPunctChar,isSpace:()=>isSpace,isString:()=>isString2,isValidEntityCode:()=>isValidEntityCode,isWhiteSpace:()=>isWhiteSpace,lib:()=>lib,normalizeReference:()=>normalizeReference,unescapeAll:()=>unescapeAll,unescapeMd:()=>unescapeMd});var mdurl_exports={};__export(mdurl_exports,{decode:()=>decode_default,encode:()=>encode_default,format:()=>format,parse:()=>parse_default});var decodeCache={};function getDecodeCache(exclude){let cache=decodeCache[exclude];if(cache)return cache;cache=decodeCache[exclude]=[];for(let i=0;i<128;i++){let ch=String.fromCharCode(i);cache.push(ch)}for(let i=0;i<exclude.length;i++){let ch=exclude.charCodeAt(i);cache[ch]="%"+("0"+ch.toString(16).toUpperCase()).slice(-2)}return cache}function decode(string,exclude){typeof exclude!="string"&&(exclude=decode.defaultChars);let cache=getDecodeCache(exclude);return string.replace(/(%[a-f0-9]{2})+/gi,function(seq){let result="";for(let i=0,l=seq.length;i<l;i+=3){let b1=parseInt(seq.slice(i+1,i+3),16);if(b1<128){result+=cache[b1];continue}if((b1&224)===192&&i+3<l){let b2=parseInt(seq.slice(i+4,i+6),16);if((b2&192)===128){let chr=b1<<6&1984|b2&63;chr<128?result+="\uFFFD\uFFFD":result+=String.fromCharCode(chr),i+=3;continue}}if((b1&240)===224&&i+6<l){let b2=parseInt(seq.slice(i+4,i+6),16),b3=parseInt(seq.slice(i+7,i+9),16);if((b2&192)===128&&(b3&192)===128){let chr=b1<<12&61440|b2<<6&4032|b3&63;chr<2048||chr>=55296&&chr<=57343?result+="\uFFFD\uFFFD\uFFFD":result+=String.fromCharCode(chr),i+=6;continue}}if((b1&248)===240&&i+9<l){let b2=parseInt(seq.slice(i+4,i+6),16),b3=parseInt(seq.slice(i+7,i+9),16),b4=parseInt(seq.slice(i+10,i+12),16);if((b2&192)===128&&(b3&192)===128&&(b4&192)===128){let chr=b1<<18&1835008|b2<<12&258048|b3<<6&4032|b4&63;chr<65536||chr>1114111?result+="\uFFFD\uFFFD\uFFFD\uFFFD":(chr-=65536,result+=String.fromCharCode(55296+(chr>>10),56320+(chr&1023))),i+=9;continue}}result+="\uFFFD"}return result})}decode.defaultChars=";/?:@&=+$,#";decode.componentChars="";var decode_default=decode;var encodeCache={};function getEncodeCache(exclude){let cache=encodeCache[exclude];if(cache)return cache;cache=encodeCache[exclude]=[];for(let i=0;i<128;i++){let ch=String.fromCharCode(i);/^[0-9a-z]$/i.test(ch)?cache.push(ch):cache.push("%"+("0"+i.toString(16).toUpperCase()).slice(-2))}for(let i=0;i<exclude.length;i++)cache[exclude.charCodeAt(i)]=exclude[i];return cache}function encode(string,exclude,keepEscaped){typeof exclude!="string"&&(keepEscaped=exclude,exclude=encode.defaultChars),typeof keepEscaped>"u"&&(keepEscaped=!0);let cache=getEncodeCache(exclude),result="";for(let i=0,l=string.length;i<l;i++){let code2=string.charCodeAt(i);if(keepEscaped&&code2===37&&i+2<l&&/^[0-9a-f]{2}$/i.test(string.slice(i+1,i+3))){result+=string.slice(i,i+3),i+=2;continue}if(code2<128){result+=cache[code2];continue}if(code2>=55296&&code2<=57343){if(code2>=55296&&code2<=56319&&i+1<l){let nextCode=string.charCodeAt(i+1);if(nextCode>=56320&&nextCode<=57343){result+=encodeURIComponent(string[i]+string[i+1]),i++;continue}}result+="%EF%BF%BD";continue}result+=encodeURIComponent(string[i])}return result}encode.defaultChars=";/?:@&=+$,-_.!~*'()#";encode.componentChars="-_.!~*'()";var encode_default=encode;function format(url){let result="";return result+=url.protocol||"",result+=url.slashes?"//":"",result+=url.auth?url.auth+"@":"",url.hostname&&url.hostname.indexOf(":")!==-1?result+="["+url.hostname+"]":result+=url.hostname||"",result+=url.port?":"+url.port:"",result+=url.pathname||"",result+=url.search||"",result+=url.hash||"",result}function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function urlParse(url,slashesDenoteHost){if(url&&url instanceof Url)return url;let u=new Url;return u.parse(url,slashesDenoteHost),u}Url.prototype.parse=function(url,slashesDenoteHost){let lowerProto,hec,slashes,rest=url;if(rest=rest.trim(),!slashesDenoteHost&&url.split("#").length===1){let simplePath=simplePathPattern.exec(rest);if(simplePath)return this.pathname=simplePath[1],simplePath[2]&&(this.search=simplePath[2]),this}let proto=protocolPattern.exec(rest);if(proto&&(proto=proto[0],lowerProto=proto.toLowerCase(),this.protocol=proto,rest=rest.substr(proto.length)),(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/))&&(slashes=rest.substr(0,2)==="//",slashes&&!(proto&&hostlessProtocol[proto])&&(rest=rest.substr(2),this.slashes=!0)),!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){let hostEnd=-1;for(let i=0;i<hostEndingChars.length;i++)hec=rest.indexOf(hostEndingChars[i]),hec!==-1&&(hostEnd===-1||hec<hostEnd)&&(hostEnd=hec);let auth,atSign;hostEnd===-1?atSign=rest.lastIndexOf("@"):atSign=rest.lastIndexOf("@",hostEnd),atSign!==-1&&(auth=rest.slice(0,atSign),rest=rest.slice(atSign+1),this.auth=auth),hostEnd=-1;for(let i=0;i<nonHostChars.length;i++)hec=rest.indexOf(nonHostChars[i]),hec!==-1&&(hostEnd===-1||hec<hostEnd)&&(hostEnd=hec);hostEnd===-1&&(hostEnd=rest.length),rest[hostEnd-1]===":"&&hostEnd--;let host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd),this.parseHost(host),this.hostname=this.hostname||"";let ipv6Hostname=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ipv6Hostname){let hostparts=this.hostname.split(/\./);for(let i=0,l=hostparts.length;i<l;i++){let part=hostparts[i];if(part&&!part.match(hostnamePartPattern)){let newpart="";for(let j=0,k=part.length;j<k;j++)part.charCodeAt(j)>127?newpart+="x":newpart+=part[j];if(!newpart.match(hostnamePartPattern)){let validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(hostnamePartStart);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest=notHost.join(".")+rest),this.hostname=validParts.join(".");break}}}}this.hostname.length>hostnameMaxLen&&(this.hostname=""),ipv6Hostname&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}let hash=rest.indexOf("#");hash!==-1&&(this.hash=rest.substr(hash),rest=rest.slice(0,hash));let qm=rest.indexOf("?");return qm!==-1&&(this.search=rest.substr(qm),rest=rest.slice(0,qm)),rest&&(this.pathname=rest),slashedProtocol[lowerProto]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Url.prototype.parseHost=function(host){let port=portPattern.exec(host);port&&(port=port[0],port!==":"&&(this.port=port.substr(1)),host=host.substr(0,host.length-port.length)),host&&(this.hostname=host)};var parse_default=urlParse;var uc_exports={};__export(uc_exports,{Any:()=>regex_default,Cc:()=>regex_default2,Cf:()=>regex_default3,P:()=>regex_default4,S:()=>regex_default5,Z:()=>regex_default6});var regex_default=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;var regex_default2=/[\0-\x1F\x7F-\x9F]/;var regex_default3=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/;var regex_default4=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/;var regex_default5=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/;var regex_default6=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/;var decode_data_html_default=new Uint16Array('\u1D41<\xD5\u0131\u028A\u049D\u057B\u05D0\u0675\u06DE\u07A2\u07D6\u080F\u0A4A\u0A91\u0DA1\u0E6D\u0F09\u0F26\u10CA\u1228\u12E1\u1415\u149D\u14C3\u14DF\u1525\0\0\0\0\0\0\u156B\u16CD\u198D\u1C12\u1DDD\u1F7E\u2060\u21B0\u228D\u23C0\u23FB\u2442\u2824\u2912\u2D08\u2E48\u2FCE\u3016\u32BA\u3639\u37AC\u38FE\u3A28\u3A71\u3AE0\u3B2E\u0800EMabcfglmnoprstu\\bfms\x7F\x84\x8B\x90\x95\x98\xA6\xB3\xB9\xC8\xCFlig\u803B\xC6\u40C6P\u803B&\u4026cute\u803B\xC1\u40C1reve;\u4102\u0100iyx}rc\u803B\xC2\u40C2;\u4410r;\uC000\u{1D504}rave\u803B\xC0\u40C0pha;\u4391acr;\u4100d;\u6A53\u0100gp\x9D\xA1on;\u4104f;\uC000\u{1D538}plyFunction;\u6061ing\u803B\xC5\u40C5\u0100cs\xBE\xC3r;\uC000\u{1D49C}ign;\u6254ilde\u803B\xC3\u40C3ml\u803B\xC4\u40C4\u0400aceforsu\xE5\xFB\xFE\u0117\u011C\u0122\u0127\u012A\u0100cr\xEA\xF2kslash;\u6216\u0176\xF6\xF8;\u6AE7ed;\u6306y;\u4411\u0180crt\u0105\u010B\u0114ause;\u6235noullis;\u612Ca;\u4392r;\uC000\u{1D505}pf;\uC000\u{1D539}eve;\u42D8c\xF2\u0113mpeq;\u624E\u0700HOacdefhilorsu\u014D\u0151\u0156\u0180\u019E\u01A2\u01B5\u01B7\u01BA\u01DC\u0215\u0273\u0278\u027Ecy;\u4427PY\u803B\xA9\u40A9\u0180cpy\u015D\u0162\u017Aute;\u4106\u0100;i\u0167\u0168\u62D2talDifferentialD;\u6145leys;\u612D\u0200aeio\u0189\u018E\u0194\u0198ron;\u410Cdil\u803B\xC7\u40C7rc;\u4108nint;\u6230ot;\u410A\u0100dn\u01A7\u01ADilla;\u40B8terDot;\u40B7\xF2\u017Fi;\u43A7rcle\u0200DMPT\u01C7\u01CB\u01D1\u01D6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01E2\u01F8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020FoubleQuote;\u601Duote;\u6019\u0200lnpu\u021E\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6A74\u0180git\u022F\u0236\u023Aruent;\u6261nt;\u622FourIntegral;\u622E\u0100fr\u024C\u024E;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6A2Fcr;\uC000\u{1D49E}p\u0100;C\u0284\u0285\u62D3ap;\u624D\u0580DJSZacefios\u02A0\u02AC\u02B0\u02B4\u02B8\u02CB\u02D7\u02E1\u02E6\u0333\u048D\u0100;o\u0179\u02A5trahd;\u6911cy;\u4402cy;\u4405cy;\u440F\u0180grs\u02BF\u02C4\u02C7ger;\u6021r;\u61A1hv;\u6AE4\u0100ay\u02D0\u02D5ron;\u410E;\u4414l\u0100;t\u02DD\u02DE\u6207a;\u4394r;\uC000\u{1D507}\u0100af\u02EB\u0327\u0100cm\u02F0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031Ccute;\u40B4o\u0174\u030B\u030D;\u42D9bleAcute;\u42DDrave;\u4060ilde;\u42DCond;\u62C4ferentialD;\u6146\u0470\u033D\0\0\0\u0342\u0354\0\u0405f;\uC000\u{1D53B}\u0180;DE\u0348\u0349\u034D\u40A8ot;\u60DCqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03CF\u03E2\u03F8ontourIntegra\xEC\u0239o\u0274\u0379\0\0\u037B\xBB\u0349nArrow;\u61D3\u0100eo\u0387\u03A4ft\u0180ART\u0390\u0396\u03A1rrow;\u61D0ightArrow;\u61D4e\xE5\u02CAng\u0100LR\u03AB\u03C4eft\u0100AR\u03B3\u03B9rrow;\u67F8ightArrow;\u67FAightArrow;\u67F9ight\u0100AT\u03D8\u03DErrow;\u61D2ee;\u62A8p\u0241\u03E9\0\0\u03EFrrow;\u61D1ownArrow;\u61D5erticalBar;\u6225n\u0300ABLRTa\u0412\u042A\u0430\u045E\u047F\u037Crrow\u0180;BU\u041D\u041E\u0422\u6193ar;\u6913pArrow;\u61F5reve;\u4311eft\u02D2\u043A\0\u0446\0\u0450ightVector;\u6950eeVector;\u695Eector\u0100;B\u0459\u045A\u61BDar;\u6956ight\u01D4\u0467\0\u0471eeVector;\u695Fector\u0100;B\u047A\u047B\u61C1ar;\u6957ee\u0100;A\u0486\u0487\u62A4rrow;\u61A7\u0100ct\u0492\u0497r;\uC000\u{1D49F}rok;\u4110\u0800NTacdfglmopqstux\u04BD\u04C0\u04C4\u04CB\u04DE\u04E2\u04E7\u04EE\u04F5\u0521\u052F\u0536\u0552\u055D\u0560\u0565G;\u414AH\u803B\xD0\u40D0cute\u803B\xC9\u40C9\u0180aiy\u04D2\u04D7\u04DCron;\u411Arc\u803B\xCA\u40CA;\u442Dot;\u4116r;\uC000\u{1D508}rave\u803B\xC8\u40C8ement;\u6208\u0100ap\u04FA\u04FEcr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65FBerySmallSquare;\u65AB\u0100gp\u0526\u052Aon;\u4118f;\uC000\u{1D53C}silon;\u4395u\u0100ai\u053C\u0549l\u0100;T\u0542\u0543\u6A75ilde;\u6242librium;\u61CC\u0100ci\u0557\u055Ar;\u6130m;\u6A73a;\u4397ml\u803B\xCB\u40CB\u0100ip\u056A\u056Fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058D\u05B2\u05CCy;\u4424r;\uC000\u{1D509}lled\u0253\u0597\0\0\u05A3mallSquare;\u65FCerySmallSquare;\u65AA\u0370\u05BA\0\u05BF\0\0\u05C4f;\uC000\u{1D53D}All;\u6200riertrf;\u6131c\xF2\u05CB\u0600JTabcdfgorst\u05E8\u05EC\u05EF\u05FA\u0600\u0612\u0616\u061B\u061D\u0623\u066C\u0672cy;\u4403\u803B>\u403Emma\u0100;d\u05F7\u05F8\u4393;\u43DCreve;\u411E\u0180eiy\u0607\u060C\u0610dil;\u4122rc;\u411C;\u4413ot;\u4120r;\uC000\u{1D50A};\u62D9pf;\uC000\u{1D53E}eater\u0300EFGLST\u0635\u0644\u064E\u0656\u065B\u0666qual\u0100;L\u063E\u063F\u6265ess;\u62DBullEqual;\u6267reater;\u6AA2ess;\u6277lantEqual;\u6A7Eilde;\u6273cr;\uC000\u{1D4A2};\u626B\u0400Aacfiosu\u0685\u068B\u0696\u069B\u069E\u06AA\u06BE\u06CARDcy;\u442A\u0100ct\u0690\u0694ek;\u42C7;\u405Eirc;\u4124r;\u610ClbertSpace;\u610B\u01F0\u06AF\0\u06B2f;\u610DizontalLine;\u6500\u0100ct\u06C3\u06C5\xF2\u06A9rok;\u4126mp\u0144\u06D0\u06D8ownHum\xF0\u012Fqual;\u624F\u0700EJOacdfgmnostu\u06FA\u06FE\u0703\u0707\u070E\u071A\u071E\u0721\u0728\u0744\u0778\u078B\u078F\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803B\xCD\u40CD\u0100iy\u0713\u0718rc\u803B\xCE\u40CE;\u4418ot;\u4130r;\u6111rave\u803B\xCC\u40CC\u0180;ap\u0720\u072F\u073F\u0100cg\u0734\u0737r;\u412AinaryI;\u6148lie\xF3\u03DD\u01F4\u0749\0\u0762\u0100;e\u074D\u074E\u622C\u0100gr\u0753\u0758ral;\u622Bsection;\u62C2isible\u0100CT\u076C\u0772omma;\u6063imes;\u6062\u0180gpt\u077F\u0783\u0788on;\u412Ef;\uC000\u{1D540}a;\u4399cr;\u6110ilde;\u4128\u01EB\u079A\0\u079Ecy;\u4406l\u803B\xCF\u40CF\u0280cfosu\u07AC\u07B7\u07BC\u07C2\u07D0\u0100iy\u07B1\u07B5rc;\u4134;\u4419r;\uC000\u{1D50D}pf;\uC000\u{1D541}\u01E3\u07C7\0\u07CCr;\uC000\u{1D4A5}rcy;\u4408kcy;\u4404\u0380HJacfos\u07E4\u07E8\u07EC\u07F1\u07FD\u0802\u0808cy;\u4425cy;\u440Cppa;\u439A\u0100ey\u07F6\u07FBdil;\u4136;\u441Ar;\uC000\u{1D50E}pf;\uC000\u{1D542}cr;\uC000\u{1D4A6}\u0580JTaceflmost\u0825\u0829\u082C\u0850\u0863\u09B3\u09B8\u09C7\u09CD\u0A37\u0A47cy;\u4409\u803B<\u403C\u0280cmnpr\u0837\u083C\u0841\u0844\u084Dute;\u4139bda;\u439Bg;\u67EAlacetrf;\u6112r;\u619E\u0180aey\u0857\u085C\u0861ron;\u413Ddil;\u413B;\u441B\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087E\u08A9\u08B1\u08E0\u08E6\u08FC\u092F\u095B\u0390\u096A\u0100nr\u0883\u088FgleBracket;\u67E8row\u0180;BR\u0899\u089A\u089E\u6190ar;\u61E4ightArrow;\u61C6eiling;\u6308o\u01F5\u08B7\0\u08C3bleBracket;\u67E6n\u01D4\u08C8\0\u08D2eeVector;\u6961ector\u0100;B\u08DB\u08DC\u61C3ar;\u6959loor;\u630Aight\u0100AV\u08EF\u08F5rrow;\u6194ector;\u694E\u0100er\u0901\u0917e\u0180;AV\u0909\u090A\u0910\u62A3rrow;\u61A4ector;\u695Aiangle\u0180;BE\u0924\u0925\u0929\u62B2ar;\u69CFqual;\u62B4p\u0180DTV\u0937\u0942\u094CownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61BFar;\u6958ector\u0100;B\u0965\u0966\u61BCar;\u6952ight\xE1\u039Cs\u0300EFGLST\u097E\u098B\u0995\u099D\u09A2\u09ADqualGreater;\u62DAullEqual;\u6266reater;\u6276ess;\u6AA1lantEqual;\u6A7Dilde;\u6272r;\uC000\u{1D50F}\u0100;e\u09BD\u09BE\u62D8ftarrow;\u61DAidot;\u413F\u0180npw\u09D4\u0A16\u0A1Bg\u0200LRlr\u09DE\u09F7\u0A02\u0A10eft\u0100AR\u09E6\u09ECrrow;\u67F5ightArrow;\u67F7ightArrow;\u67F6eft\u0100ar\u03B3\u0A0Aight\xE1\u03BFight\xE1\u03CAf;\uC000\u{1D543}er\u0100LR\u0A22\u0A2CeftArrow;\u6199ightArrow;\u6198\u0180cht\u0A3E\u0A40\u0A42\xF2\u084C;\u61B0rok;\u4141;\u626A\u0400acefiosu\u0A5A\u0A5D\u0A60\u0A77\u0A7C\u0A85\u0A8B\u0A8Ep;\u6905y;\u441C\u0100dl\u0A65\u0A6FiumSpace;\u605Flintrf;\u6133r;\uC000\u{1D510}nusPlus;\u6213pf;\uC000\u{1D544}c\xF2\u0A76;\u439C\u0480Jacefostu\u0AA3\u0AA7\u0AAD\u0AC0\u0B14\u0B19\u0D91\u0D97\u0D9Ecy;\u440Acute;\u4143\u0180aey\u0AB4\u0AB9\u0ABEron;\u4147dil;\u4145;\u441D\u0180gsw\u0AC7\u0AF0\u0B0Eative\u0180MTV\u0AD3\u0ADF\u0AE8ediumSpace;\u600Bhi\u0100cn\u0AE6\u0AD8\xEB\u0AD9eryThi\xEE\u0AD9ted\u0100GL\u0AF8\u0B06reaterGreate\xF2\u0673essLes\xF3\u0A48Line;\u400Ar;\uC000\u{1D511}\u0200Bnpt\u0B22\u0B28\u0B37\u0B3Areak;\u6060BreakingSpace;\u40A0f;\u6115\u0680;CDEGHLNPRSTV\u0B55\u0B56\u0B6A\u0B7C\u0BA1\u0BEB\u0C04\u0C5E\u0C84\u0CA6\u0CD8\u0D61\u0D85\u6AEC\u0100ou\u0B5B\u0B64ngruent;\u6262pCap;\u626DoubleVerticalBar;\u6226\u0180lqx\u0B83\u0B8A\u0B9Bement;\u6209ual\u0100;T\u0B92\u0B93\u6260ilde;\uC000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0BB6\u0BB7\u0BBD\u0BC9\u0BD3\u0BD8\u0BE5\u626Fqual;\u6271ullEqual;\uC000\u2267\u0338reater;\uC000\u226B\u0338ess;\u6279lantEqual;\uC000\u2A7E\u0338ilde;\u6275ump\u0144\u0BF2\u0BFDownHump;\uC000\u224E\u0338qual;\uC000\u224F\u0338e\u0100fs\u0C0A\u0C27tTriangle\u0180;BE\u0C1A\u0C1B\u0C21\u62EAar;\uC000\u29CF\u0338qual;\u62ECs\u0300;EGLST\u0C35\u0C36\u0C3C\u0C44\u0C4B\u0C58\u626Equal;\u6270reater;\u6278ess;\uC000\u226A\u0338lantEqual;\uC000\u2A7D\u0338ilde;\u6274ested\u0100GL\u0C68\u0C79reaterGreater;\uC000\u2AA2\u0338essLess;\uC000\u2AA1\u0338recedes\u0180;ES\u0C92\u0C93\u0C9B\u6280qual;\uC000\u2AAF\u0338lantEqual;\u62E0\u0100ei\u0CAB\u0CB9verseElement;\u620CghtTriangle\u0180;BE\u0CCB\u0CCC\u0CD2\u62EBar;\uC000\u29D0\u0338qual;\u62ED\u0100qu\u0CDD\u0D0CuareSu\u0100bp\u0CE8\u0CF9set\u0100;E\u0CF0\u0CF3\uC000\u228F\u0338qual;\u62E2erset\u0100;E\u0D03\u0D06\uC000\u2290\u0338qual;\u62E3\u0180bcp\u0D13\u0D24\u0D4Eset\u0100;E\u0D1B\u0D1E\uC000\u2282\u20D2qual;\u6288ceeds\u0200;EST\u0D32\u0D33\u0D3B\u0D46\u6281qual;\uC000\u2AB0\u0338lantEqual;\u62E1ilde;\uC000\u227F\u0338erset\u0100;E\u0D58\u0D5B\uC000\u2283\u20D2qual;\u6289ilde\u0200;EFT\u0D6E\u0D6F\u0D75\u0D7F\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uC000\u{1D4A9}ilde\u803B\xD1\u40D1;\u439D\u0700Eacdfgmoprstuv\u0DBD\u0DC2\u0DC9\u0DD5\u0DDB\u0DE0\u0DE7\u0DFC\u0E02\u0E20\u0E22\u0E32\u0E3F\u0E44lig;\u4152cute\u803B\xD3\u40D3\u0100iy\u0DCE\u0DD3rc\u803B\xD4\u40D4;\u441Eblac;\u4150r;\uC000\u{1D512}rave\u803B\xD2\u40D2\u0180aei\u0DEE\u0DF2\u0DF6cr;\u414Cga;\u43A9cron;\u439Fpf;\uC000\u{1D546}enCurly\u0100DQ\u0E0E\u0E1AoubleQuote;\u601Cuote;\u6018;\u6A54\u0100cl\u0E27\u0E2Cr;\uC000\u{1D4AA}ash\u803B\xD8\u40D8i\u016C\u0E37\u0E3Cde\u803B\xD5\u40D5es;\u6A37ml\u803B\xD6\u40D6er\u0100BP\u0E4B\u0E60\u0100ar\u0E50\u0E53r;\u603Eac\u0100ek\u0E5A\u0E5C;\u63DEet;\u63B4arenthesis;\u63DC\u0480acfhilors\u0E7F\u0E87\u0E8A\u0E8F\u0E92\u0E94\u0E9D\u0EB0\u0EFCrtialD;\u6202y;\u441Fr;\uC000\u{1D513}i;\u43A6;\u43A0usMinus;\u40B1\u0100ip\u0EA2\u0EADncareplan\xE5\u069Df;\u6119\u0200;eio\u0EB9\u0EBA\u0EE0\u0EE4\u6ABBcedes\u0200;EST\u0EC8\u0EC9\u0ECF\u0EDA\u627Aqual;\u6AAFlantEqual;\u627Cilde;\u627Eme;\u6033\u0100dp\u0EE9\u0EEEuct;\u620Fortion\u0100;a\u0225\u0EF9l;\u621D\u0100ci\u0F01\u0F06r;\uC000\u{1D4AB};\u43A8\u0200Ufos\u0F11\u0F16\u0F1B\u0F1FOT\u803B"\u4022r;\uC000\u{1D514}pf;\u611Acr;\uC000\u{1D4AC}\u0600BEacefhiorsu\u0F3E\u0F43\u0F47\u0F60\u0F73\u0FA7\u0FAA\u0FAD\u1096\u10A9\u10B4\u10BEarr;\u6910G\u803B\xAE\u40AE\u0180cnr\u0F4E\u0F53\u0F56ute;\u4154g;\u67EBr\u0100;t\u0F5C\u0F5D\u61A0l;\u6916\u0180aey\u0F67\u0F6C\u0F71ron;\u4158dil;\u4156;\u4420\u0100;v\u0F78\u0F79\u611Cerse\u0100EU\u0F82\u0F99\u0100lq\u0F87\u0F8Eement;\u620Builibrium;\u61CBpEquilibrium;\u696Fr\xBB\u0F79o;\u43A1ght\u0400ACDFTUVa\u0FC1\u0FEB\u0FF3\u1022\u1028\u105B\u1087\u03D8\u0100nr\u0FC6\u0FD2gleBracket;\u67E9row\u0180;BL\u0FDC\u0FDD\u0FE1\u6192ar;\u61E5eftArrow;\u61C4eiling;\u6309o\u01F5\u0FF9\0\u1005bleBracket;\u67E7n\u01D4\u100A\0\u1014eeVector;\u695Dector\u0100;B\u101D\u101E\u61C2ar;\u6955loor;\u630B\u0100er\u102D\u1043e\u0180;AV\u1035\u1036\u103C\u62A2rrow;\u61A6ector;\u695Biangle\u0180;BE\u1050\u1051\u1055\u62B3ar;\u69D0qual;\u62B5p\u0180DTV\u1063\u106E\u1078ownVector;\u694FeeVector;\u695Cector\u0100;B\u1082\u1083\u61BEar;\u6954ector\u0100;B\u1091\u1092\u61C0ar;\u6953\u0100pu\u109B\u109Ef;\u611DndImplies;\u6970ightarrow;\u61DB\u0100ch\u10B9\u10BCr;\u611B;\u61B1leDelayed;\u69F4\u0680HOacfhimoqstu\u10E4\u10F1\u10F7\u10FD\u1119\u111E\u1151\u1156\u1161\u1167\u11B5\u11BB\u11BF\u0100Cc\u10E9\u10EEHcy;\u4429y;\u4428FTcy;\u442Ccute;\u415A\u0280;aeiy\u1108\u1109\u110E\u1113\u1117\u6ABCron;\u4160dil;\u415Erc;\u415C;\u4421r;\uC000\u{1D516}ort\u0200DLRU\u112A\u1134\u113E\u1149ownArrow\xBB\u041EeftArrow\xBB\u089AightArrow\xBB\u0FDDpArrow;\u6191gma;\u43A3allCircle;\u6218pf;\uC000\u{1D54A}\u0272\u116D\0\0\u1170t;\u621Aare\u0200;ISU\u117B\u117C\u1189\u11AF\u65A1ntersection;\u6293u\u0100bp\u118F\u119Eset\u0100;E\u1197\u1198\u628Fqual;\u6291erset\u0100;E\u11A8\u11A9\u6290qual;\u6292nion;\u6294cr;\uC000\u{1D4AE}ar;\u62C6\u0200bcmp\u11C8\u11DB\u1209\u120B\u0100;s\u11CD\u11CE\u62D0et\u0100;E\u11CD\u11D5qual;\u6286\u0100ch\u11E0\u1205eeds\u0200;EST\u11ED\u11EE\u11F4\u11FF\u627Bqual;\u6AB0lantEqual;\u627Dilde;\u627FTh\xE1\u0F8C;\u6211\u0180;es\u1212\u1213\u1223\u62D1rset\u0100;E\u121C\u121D\u6283qual;\u6287et\xBB\u1213\u0580HRSacfhiors\u123E\u1244\u1249\u1255\u125E\u1271\u1276\u129F\u12C2\u12C8\u12D1ORN\u803B\xDE\u40DEADE;\u6122\u0100Hc\u124E\u1252cy;\u440By;\u4426\u0100bu\u125A\u125C;\u4009;\u43A4\u0180aey\u1265\u126A\u126Fron;\u4164dil;\u4162;\u4422r;\uC000\u{1D517}\u0100ei\u127B\u1289\u01F2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128E\u1298kSpace;\uC000\u205F\u200ASpace;\u6009lde\u0200;EFT\u12AB\u12AC\u12B2\u12BC\u623Cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uC000\u{1D54B}ipleDot;\u60DB\u0100ct\u12D6\u12DBr;\uC000\u{1D4AF}rok;\u4166\u0AE1\u12F7\u130E\u131A\u1326\0\u132C\u1331\0\0\0\0\0\u1338\u133D\u1377\u1385\0\u13FF\u1404\u140A\u1410\u0100cr\u12FB\u1301ute\u803B\xDA\u40DAr\u0100;o\u1307\u1308\u619Fcir;\u6949r\u01E3\u1313\0\u1316y;\u440Eve;\u416C\u0100iy\u131E\u1323rc\u803B\xDB\u40DB;\u4423blac;\u4170r;\uC000\u{1D518}rave\u803B\xD9\u40D9acr;\u416A\u0100di\u1341\u1369er\u0100BP\u1348\u135D\u0100ar\u134D\u1350r;\u405Fac\u0100ek\u1357\u1359;\u63DFet;\u63B5arenthesis;\u63DDon\u0100;P\u1370\u1371\u62C3lus;\u628E\u0100gp\u137B\u137Fon;\u4172f;\uC000\u{1D54C}\u0400ADETadps\u1395\u13AE\u13B8\u13C4\u03E8\u13D2\u13D7\u13F3rrow\u0180;BD\u1150\u13A0\u13A4ar;\u6912ownArrow;\u61C5ownArrow;\u6195quilibrium;\u696Eee\u0100;A\u13CB\u13CC\u62A5rrow;\u61A5own\xE1\u03F3er\u0100LR\u13DE\u13E8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13F9\u13FA\u43D2on;\u43A5ing;\u416Ecr;\uC000\u{1D4B0}ilde;\u4168ml\u803B\xDC\u40DC\u0480Dbcdefosv\u1427\u142C\u1430\u1433\u143E\u1485\u148A\u1490\u1496ash;\u62ABar;\u6AEBy;\u4412ash\u0100;l\u143B\u143C\u62A9;\u6AE6\u0100er\u1443\u1445;\u62C1\u0180bty\u144C\u1450\u147Aar;\u6016\u0100;i\u144F\u1455cal\u0200BLST\u1461\u1465\u146A\u1474ar;\u6223ine;\u407Ceparator;\u6758ilde;\u6240ThinSpace;\u600Ar;\uC000\u{1D519}pf;\uC000\u{1D54D}cr;\uC000\u{1D4B1}dash;\u62AA\u0280cefos\u14A7\u14AC\u14B1\u14B6\u14BCirc;\u4174dge;\u62C0r;\uC000\u{1D51A}pf;\uC000\u{1D54E}cr;\uC000\u{1D4B2}\u0200fios\u14CB\u14D0\u14D2\u14D8r;\uC000\u{1D51B};\u439Epf;\uC000\u{1D54F}cr;\uC000\u{1D4B3}\u0480AIUacfosu\u14F1\u14F5\u14F9\u14FD\u1504\u150F\u1514\u151A\u1520cy;\u442Fcy;\u4407cy;\u442Ecute\u803B\xDD\u40DD\u0100iy\u1509\u150Drc;\u4176;\u442Br;\uC000\u{1D51C}pf;\uC000\u{1D550}cr;\uC000\u{1D4B4}ml;\u4178\u0400Hacdefos\u1535\u1539\u153F\u154B\u154F\u155D\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417D;\u4417ot;\u417B\u01F2\u1554\0\u155BoWidt\xE8\u0AD9a;\u4396r;\u6128pf;\u6124cr;\uC000\u{1D4B5}\u0BE1\u1583\u158A\u1590\0\u15B0\u15B6\u15BF\0\0\0\0\u15C6\u15DB\u15EB\u165F\u166D\0\u1695\u169B\u16B2\u16B9\0\u16BEcute\u803B\xE1\u40E1reve;\u4103\u0300;Ediuy\u159C\u159D\u15A1\u15A3\u15A8\u15AD\u623E;\uC000\u223E\u0333;\u623Frc\u803B\xE2\u40E2te\u80BB\xB4\u0306;\u4430lig\u803B\xE6\u40E6\u0100;r\xB2\u15BA;\uC000\u{1D51E}rave\u803B\xE0\u40E0\u0100ep\u15CA\u15D6\u0100fp\u15CF\u15D4sym;\u6135\xE8\u15D3ha;\u43B1\u0100ap\u15DFc\u0100cl\u15E4\u15E7r;\u4101g;\u6A3F\u0264\u15F0\0\0\u160A\u0280;adsv\u15FA\u15FB\u15FF\u1601\u1607\u6227nd;\u6A55;\u6A5Clope;\u6A58;\u6A5A\u0380;elmrsz\u1618\u1619\u161B\u161E\u163F\u164F\u1659\u6220;\u69A4e\xBB\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163A\u163C\u163E;\u69A8;\u69A9;\u69AA;\u69AB;\u69AC;\u69AD;\u69AE;\u69AFt\u0100;v\u1645\u1646\u621Fb\u0100;d\u164C\u164D\u62BE;\u699D\u0100pt\u1654\u1657h;\u6222\xBB\xB9arr;\u637C\u0100gp\u1663\u1667on;\u4105f;\uC000\u{1D552}\u0380;Eaeiop\u12C1\u167B\u167D\u1682\u1684\u1687\u168A;\u6A70cir;\u6A6F;\u624Ad;\u624Bs;\u4027rox\u0100;e\u12C1\u1692\xF1\u1683ing\u803B\xE5\u40E5\u0180cty\u16A1\u16A6\u16A8r;\uC000\u{1D4B6};\u402Amp\u0100;e\u12C1\u16AF\xF1\u0288ilde\u803B\xE3\u40E3ml\u803B\xE4\u40E4\u0100ci\u16C2\u16C8onin\xF4\u0272nt;\u6A11\u0800Nabcdefiklnoprsu\u16ED\u16F1\u1730\u173C\u1743\u1748\u1778\u177D\u17E0\u17E6\u1839\u1850\u170D\u193D\u1948\u1970ot;\u6AED\u0100cr\u16F6\u171Ek\u0200ceps\u1700\u1705\u170D\u1713ong;\u624Cpsilon;\u43F6rime;\u6035im\u0100;e\u171A\u171B\u623Dq;\u62CD\u0176\u1722\u1726ee;\u62BDed\u0100;g\u172C\u172D\u6305e\xBB\u172Drk\u0100;t\u135C\u1737brk;\u63B6\u0100oy\u1701\u1741;\u4431quo;\u601E\u0280cmprt\u1753\u175B\u1761\u1764\u1768aus\u0100;e\u010A\u0109ptyv;\u69B0s\xE9\u170Cno\xF5\u0113\u0180ahw\u176F\u1771\u1773;\u43B2;\u6136een;\u626Cr;\uC000\u{1D51F}g\u0380costuvw\u178D\u179D\u17B3\u17C1\u17D5\u17DB\u17DE\u0180aiu\u1794\u1796\u179A\xF0\u0760rc;\u65EFp\xBB\u1371\u0180dpt\u17A4\u17A8\u17ADot;\u6A00lus;\u6A01imes;\u6A02\u0271\u17B9\0\0\u17BEcup;\u6A06ar;\u6605riangle\u0100du\u17CD\u17D2own;\u65BDp;\u65B3plus;\u6A04e\xE5\u1444\xE5\u14ADarow;\u690D\u0180ako\u17ED\u1826\u1835\u0100cn\u17F2\u1823k\u0180lst\u17FA\u05AB\u1802ozenge;\u69EBriangle\u0200;dlr\u1812\u1813\u1818\u181D\u65B4own;\u65BEeft;\u65C2ight;\u65B8k;\u6423\u01B1\u182B\0\u1833\u01B2\u182F\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183E\u184D\u0100;q\u1843\u1846\uC000=\u20E5uiv;\uC000\u2261\u20E5t;\u6310\u0200ptwx\u1859\u185E\u1867\u186Cf;\uC000\u{1D553}\u0100;t\u13CB\u1863om\xBB\u13CCtie;\u62C8\u0600DHUVbdhmptuv\u1885\u1896\u18AA\u18BB\u18D7\u18DB\u18EC\u18FF\u1905\u190A\u1910\u1921\u0200LRlr\u188E\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18A1\u18A2\u18A4\u18A6\u18A8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18B3\u18B5\u18B7\u18B9;\u655D;\u655A;\u655C;\u6559\u0380;HLRhlr\u18CA\u18CB\u18CD\u18CF\u18D1\u18D3\u18D5\u6551;\u656C;\u6563;\u6560;\u656B;\u6562;\u655Fox;\u69C9\u0200LRlr\u18E4\u18E6\u18E8\u18EA;\u6555;\u6552;\u6510;\u650C\u0280;DUdu\u06BD\u18F7\u18F9\u18FB\u18FD;\u6565;\u6568;\u652C;\u6534inus;\u629Flus;\u629Eimes;\u62A0\u0200LRlr\u1919\u191B\u191D\u191F;\u655B;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193B\u6502;\u656A;\u6561;\u655E;\u653C;\u6524;\u651C\u0100ev\u0123\u1942bar\u803B\xA6\u40A6\u0200ceio\u1951\u1956\u195A\u1960r;\uC000\u{1D4B7}mi;\u604Fm\u0100;e\u171A\u171Cl\u0180;bh\u1968\u1969\u196B\u405C;\u69C5sub;\u67C8\u016C\u1974\u197El\u0100;e\u1979\u197A\u6022t\xBB\u197Ap\u0180;Ee\u012F\u1985\u1987;\u6AAE\u0100;q\u06DC\u06DB\u0CE1\u19A7\0\u19E8\u1A11\u1A15\u1A32\0\u1A37\u1A50\0\0\u1AB4\0\0\u1AC1\0\0\u1B21\u1B2E\u1B4D\u1B52\0\u1BFD\0\u1C0C\u0180cpr\u19AD\u19B2\u19DDute;\u4107\u0300;abcds\u19BF\u19C0\u19C4\u19CA\u19D5\u19D9\u6229nd;\u6A44rcup;\u6A49\u0100au\u19CF\u19D2p;\u6A4Bp;\u6A47ot;\u6A40;\uC000\u2229\uFE00\u0100eo\u19E2\u19E5t;\u6041\xEE\u0693\u0200aeiu\u19F0\u19FB\u1A01\u1A05\u01F0\u19F5\0\u19F8s;\u6A4Don;\u410Ddil\u803B\xE7\u40E7rc;\u4109ps\u0100;s\u1A0C\u1A0D\u6A4Cm;\u6A50ot;\u410B\u0180dmn\u1A1B\u1A20\u1A26il\u80BB\xB8\u01ADptyv;\u69B2t\u8100\xA2;e\u1A2D\u1A2E\u40A2r\xE4\u01B2r;\uC000\u{1D520}\u0180cei\u1A3D\u1A40\u1A4Dy;\u4447ck\u0100;m\u1A47\u1A48\u6713ark\xBB\u1A48;\u43C7r\u0380;Ecefms\u1A5F\u1A60\u1A62\u1A6B\u1AA4\u1AAA\u1AAE\u65CB;\u69C3\u0180;el\u1A69\u1A6A\u1A6D\u42C6q;\u6257e\u0261\u1A74\0\0\u1A88rrow\u0100lr\u1A7C\u1A81eft;\u61BAight;\u61BB\u0280RSacd\u1A92\u1A94\u1A96\u1A9A\u1A9F\xBB\u0F47;\u64C8st;\u629Birc;\u629Aash;\u629Dnint;\u6A10id;\u6AEFcir;\u69C2ubs\u0100;u\u1ABB\u1ABC\u6663it\xBB\u1ABC\u02EC\u1AC7\u1AD4\u1AFA\0\u1B0Aon\u0100;e\u1ACD\u1ACE\u403A\u0100;q\xC7\xC6\u026D\u1AD9\0\0\u1AE2a\u0100;t\u1ADE\u1ADF\u402C;\u4040\u0180;fl\u1AE8\u1AE9\u1AEB\u6201\xEE\u1160e\u0100mx\u1AF1\u1AF6ent\xBB\u1AE9e\xF3\u024D\u01E7\u1AFE\0\u1B07\u0100;d\u12BB\u1B02ot;\u6A6Dn\xF4\u0246\u0180fry\u1B10\u1B14\u1B17;\uC000\u{1D554}o\xE4\u0254\u8100\xA9;s\u0155\u1B1Dr;\u6117\u0100ao\u1B25\u1B29rr;\u61B5ss;\u6717\u0100cu\u1B32\u1B37r;\uC000\u{1D4B8}\u0100bp\u1B3C\u1B44\u0100;e\u1B41\u1B42\u6ACF;\u6AD1\u0100;e\u1B49\u1B4A\u6AD0;\u6AD2dot;\u62EF\u0380delprvw\u1B60\u1B6C\u1B77\u1B82\u1BAC\u1BD4\u1BF9arr\u0100lr\u1B68\u1B6A;\u6938;\u6935\u0270\u1B72\0\0\u1B75r;\u62DEc;\u62DFarr\u0100;p\u1B7F\u1B80\u61B6;\u693D\u0300;bcdos\u1B8F\u1B90\u1B96\u1BA1\u1BA5\u1BA8\u622Arcap;\u6A48\u0100au\u1B9B\u1B9Ep;\u6A46p;\u6A4Aot;\u628Dr;\u6A45;\uC000\u222A\uFE00\u0200alrv\u1BB5\u1BBF\u1BDE\u1BE3rr\u0100;m\u1BBC\u1BBD\u61B7;\u693Cy\u0180evw\u1BC7\u1BD4\u1BD8q\u0270\u1BCE\0\0\u1BD2re\xE3\u1B73u\xE3\u1B75ee;\u62CEedge;\u62CFen\u803B\xA4\u40A4earrow\u0100lr\u1BEE\u1BF3eft\xBB\u1B80ight\xBB\u1BBDe\xE4\u1BDD\u0100ci\u1C01\u1C07onin\xF4\u01F7nt;\u6231lcty;\u632D\u0980AHabcdefhijlorstuwz\u1C38\u1C3B\u1C3F\u1C5D\u1C69\u1C75\u1C8A\u1C9E\u1CAC\u1CB7\u1CFB\u1CFF\u1D0D\u1D7B\u1D91\u1DAB\u1DBB\u1DC6\u1DCDr\xF2\u0381ar;\u6965\u0200glrs\u1C48\u1C4D\u1C52\u1C54ger;\u6020eth;\u6138\xF2\u1133h\u0100;v\u1C5A\u1C5B\u6010\xBB\u090A\u016B\u1C61\u1C67arow;\u690Fa\xE3\u0315\u0100ay\u1C6E\u1C73ron;\u410F;\u4434\u0180;ao\u0332\u1C7C\u1C84\u0100gr\u02BF\u1C81r;\u61CAtseq;\u6A77\u0180glm\u1C91\u1C94\u1C98\u803B\xB0\u40B0ta;\u43B4ptyv;\u69B1\u0100ir\u1CA3\u1CA8sht;\u697F;\uC000\u{1D521}ar\u0100lr\u1CB3\u1CB5\xBB\u08DC\xBB\u101E\u0280aegsv\u1CC2\u0378\u1CD6\u1CDC\u1CE0m\u0180;os\u0326\u1CCA\u1CD4nd\u0100;s\u0326\u1CD1uit;\u6666amma;\u43DDin;\u62F2\u0180;io\u1CE7\u1CE8\u1CF8\u40F7de\u8100\xF7;o\u1CE7\u1CF0ntimes;\u62C7n\xF8\u1CF7cy;\u4452c\u026F\u1D06\0\0\u1D0Arn;\u631Eop;\u630D\u0280lptuw\u1D18\u1D1D\u1D22\u1D49\u1D55lar;\u4024f;\uC000\u{1D555}\u0280;emps\u030B\u1D2D\u1D37\u1D3D\u1D42q\u0100;d\u0352\u1D33ot;\u6251inus;\u6238lus;\u6214quare;\u62A1blebarwedg\xE5\xFAn\u0180adh\u112E\u1D5D\u1D67ownarrow\xF3\u1C83arpoon\u0100lr\u1D72\u1D76ef\xF4\u1CB4igh\xF4\u1CB6\u0162\u1D7F\u1D85karo\xF7\u0F42\u026F\u1D8A\0\0\u1D8Ern;\u631Fop;\u630C\u0180cot\u1D98\u1DA3\u1DA6\u0100ry\u1D9D\u1DA1;\uC000\u{1D4B9};\u4455l;\u69F6rok;\u4111\u0100dr\u1DB0\u1DB4ot;\u62F1i\u0100;f\u1DBA\u1816\u65BF\u0100ah\u1DC0\u1DC3r\xF2\u0429a\xF2\u0FA6angle;\u69A6\u0100ci\u1DD2\u1DD5y;\u445Fgrarr;\u67FF\u0900Dacdefglmnopqrstux\u1E01\u1E09\u1E19\u1E38\u0578\u1E3C\u1E49\u1E61\u1E7E\u1EA5\u1EAF\u1EBD\u1EE1\u1F2A\u1F37\u1F44\u1F4E\u1F5A\u0100Do\u1E06\u1D34o\xF4\u1C89\u0100cs\u1E0E\u1E14ute\u803B\xE9\u40E9ter;\u6A6E\u0200aioy\u1E22\u1E27\u1E31\u1E36ron;\u411Br\u0100;c\u1E2D\u1E2E\u6256\u803B\xEA\u40EAlon;\u6255;\u444Dot;\u4117\u0100Dr\u1E41\u1E45ot;\u6252;\uC000\u{1D522}\u0180;rs\u1E50\u1E51\u1E57\u6A9Aave\u803B\xE8\u40E8\u0100;d\u1E5C\u1E5D\u6A96ot;\u6A98\u0200;ils\u1E6A\u1E6B\u1E72\u1E74\u6A99nters;\u63E7;\u6113\u0100;d\u1E79\u1E7A\u6A95ot;\u6A97\u0180aps\u1E85\u1E89\u1E97cr;\u4113ty\u0180;sv\u1E92\u1E93\u1E95\u6205et\xBB\u1E93p\u01001;\u1E9D\u1EA4\u0133\u1EA1\u1EA3;\u6004;\u6005\u6003\u0100gs\u1EAA\u1EAC;\u414Bp;\u6002\u0100gp\u1EB4\u1EB8on;\u4119f;\uC000\u{1D556}\u0180als\u1EC4\u1ECE\u1ED2r\u0100;s\u1ECA\u1ECB\u62D5l;\u69E3us;\u6A71i\u0180;lv\u1EDA\u1EDB\u1EDF\u43B5on\xBB\u1EDB;\u43F5\u0200csuv\u1EEA\u1EF3\u1F0B\u1F23\u0100io\u1EEF\u1E31rc\xBB\u1E2E\u0269\u1EF9\0\0\u1EFB\xED\u0548ant\u0100gl\u1F02\u1F06tr\xBB\u1E5Dess\xBB\u1E7A\u0180aei\u1F12\u1F16\u1F1Als;\u403Dst;\u625Fv\u0100;D\u0235\u1F20D;\u6A78parsl;\u69E5\u0100Da\u1F2F\u1F33ot;\u6253rr;\u6971\u0180cdi\u1F3E\u1F41\u1EF8r;\u612Fo\xF4\u0352\u0100ah\u1F49\u1F4B;\u43B7\u803B\xF0\u40F0\u0100mr\u1F53\u1F57l\u803B\xEB\u40EBo;\u60AC\u0180cip\u1F61\u1F64\u1F67l;\u4021s\xF4\u056E\u0100eo\u1F6C\u1F74ctatio\xEE\u0559nential\xE5\u0579\u09E1\u1F92\0\u1F9E\0\u1FA1\u1FA7\0\0\u1FC6\u1FCC\0\u1FD3\0\u1FE6\u1FEA\u2000\0\u2008\u205Allingdotse\xF1\u1E44y;\u4444male;\u6640\u0180ilr\u1FAD\u1FB3\u1FC1lig;\u8000\uFB03\u0269\u1FB9\0\0\u1FBDg;\u8000\uFB00ig;\u8000\uFB04;\uC000\u{1D523}lig;\u8000\uFB01lig;\uC000fj\u0180alt\u1FD9\u1FDC\u1FE1t;\u666Dig;\u8000\uFB02ns;\u65B1of;\u4192\u01F0\u1FEE\0\u1FF3f;\uC000\u{1D557}\u0100ak\u05BF\u1FF7\u0100;v\u1FFC\u1FFD\u62D4;\u6AD9artint;\u6A0D\u0100ao\u200C\u2055\u0100cs\u2011\u2052\u03B1\u201A\u2030\u2038\u2045\u2048\0\u2050\u03B2\u2022\u2025\u2027\u202A\u202C\0\u202E\u803B\xBD\u40BD;\u6153\u803B\xBC\u40BC;\u6155;\u6159;\u615B\u01B3\u2034\0\u2036;\u6154;\u6156\u02B4\u203E\u2041\0\0\u2043\u803B\xBE\u40BE;\u6157;\u615C5;\u6158\u01B6\u204C\0\u204E;\u615A;\u615D8;\u615El;\u6044wn;\u6322cr;\uC000\u{1D4BB}\u0880Eabcdefgijlnorstv\u2082\u2089\u209F\u20A5\u20B0\u20B4\u20F0\u20F5\u20FA\u20FF\u2103\u2112\u2138\u0317\u213E\u2152\u219E\u0100;l\u064D\u2087;\u6A8C\u0180cmp\u2090\u2095\u209Dute;\u41F5ma\u0100;d\u209C\u1CDA\u43B3;\u6A86reve;\u411F\u0100iy\u20AA\u20AErc;\u411D;\u4433ot;\u4121\u0200;lqs\u063E\u0642\u20BD\u20C9\u0180;qs\u063E\u064C\u20C4lan\xF4\u0665\u0200;cdl\u0665\u20D2\u20D5\u20E5c;\u6AA9ot\u0100;o\u20DC\u20DD\u6A80\u0100;l\u20E2\u20E3\u6A82;\u6A84\u0100;e\u20EA\u20ED\uC000\u22DB\uFE00s;\u6A94r;\uC000\u{1D524}\u0100;g\u0673\u061Bmel;\u6137cy;\u4453\u0200;Eaj\u065A\u210C\u210E\u2110;\u6A92;\u6AA5;\u6AA4\u0200Eaes\u211B\u211D\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6A8Arox\xBB\u2124\u0100;q\u212E\u212F\u6A88\u0100;q\u212E\u211Bim;\u62E7pf;\uC000\u{1D558}\u0100ci\u2143\u2146r;\u610Am\u0180;el\u066B\u214E\u2150;\u6A8E;\u6A90\u8300>;cdlqr\u05EE\u2160\u216A\u216E\u2173\u2179\u0100ci\u2165\u2167;\u6AA7r;\u6A7Aot;\u62D7Par;\u6995uest;\u6A7C\u0280adels\u2184\u216A\u2190\u0656\u219B\u01F0\u2189\0\u218Epro\xF8\u209Er;\u6978q\u0100lq\u063F\u2196les\xF3\u2088i\xED\u066B\u0100en\u21A3\u21ADrtneqq;\uC000\u2269\uFE00\xC5\u21AA\u0500Aabcefkosy\u21C4\u21C7\u21F1\u21F5\u21FA\u2218\u221D\u222F\u2268\u227Dr\xF2\u03A0\u0200ilmr\u21D0\u21D4\u21D7\u21DBrs\xF0\u1484f\xBB\u2024il\xF4\u06A9\u0100dr\u21E0\u21E4cy;\u444A\u0180;cw\u08F4\u21EB\u21EFir;\u6948;\u61ADar;\u610Firc;\u4125\u0180alr\u2201\u220E\u2213rts\u0100;u\u2209\u220A\u6665it\xBB\u220Alip;\u6026con;\u62B9r;\uC000\u{1D525}s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223A\u223E\u2243\u225E\u2263rr;\u61FFtht;\u623Bk\u0100lr\u2249\u2253eftarrow;\u61A9ightarrow;\u61AAf;\uC000\u{1D559}bar;\u6015\u0180clt\u226F\u2274\u2278r;\uC000\u{1D4BD}as\xE8\u21F4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xBB\u1C5B\u0AE1\u22A3\0\u22AA\0\u22B8\u22C5\u22CE\0\u22D5\u22F3\0\0\u22F8\u2322\u2367\u2362\u237F\0\u2386\u23AA\u23B4cute\u803B\xED\u40ED\u0180;iy\u0771\u22B0\u22B5rc\u803B\xEE\u40EE;\u4438\u0100cx\u22BC\u22BFy;\u4435cl\u803B\xA1\u40A1\u0100fr\u039F\u22C9;\uC000\u{1D526}rave\u803B\xEC\u40EC\u0200;ino\u073E\u22DD\u22E9\u22EE\u0100in\u22E2\u22E6nt;\u6A0Ct;\u622Dfin;\u69DCta;\u6129lig;\u4133\u0180aop\u22FE\u231A\u231D\u0180cgt\u2305\u2308\u2317r;\u412B\u0180elp\u071F\u230F\u2313in\xE5\u078Ear\xF4\u0720h;\u4131f;\u62B7ed;\u41B5\u0280;cfot\u04F4\u232C\u2331\u233D\u2341are;\u6105in\u0100;t\u2338\u2339\u621Eie;\u69DDdo\xF4\u2319\u0280;celp\u0757\u234C\u2350\u235B\u2361al;\u62BA\u0100gr\u2355\u2359er\xF3\u1563\xE3\u234Darhk;\u6A17rod;\u6A3C\u0200cgpt\u236F\u2372\u2376\u237By;\u4451on;\u412Ff;\uC000\u{1D55A}a;\u43B9uest\u803B\xBF\u40BF\u0100ci\u238A\u238Fr;\uC000\u{1D4BE}n\u0280;Edsv\u04F4\u239B\u239D\u23A1\u04F3;\u62F9ot;\u62F5\u0100;v\u23A6\u23A7\u62F4;\u62F3\u0100;i\u0777\u23AElde;\u4129\u01EB\u23B8\0\u23BCcy;\u4456l\u803B\xEF\u40EF\u0300cfmosu\u23CC\u23D7\u23DC\u23E1\u23E7\u23F5\u0100iy\u23D1\u23D5rc;\u4135;\u4439r;\uC000\u{1D527}ath;\u4237pf;\uC000\u{1D55B}\u01E3\u23EC\0\u23F1r;\uC000\u{1D4BF}rcy;\u4458kcy;\u4454\u0400acfghjos\u240B\u2416\u2422\u2427\u242D\u2431\u2435\u243Bppa\u0100;v\u2413\u2414\u43BA;\u43F0\u0100ey\u241B\u2420dil;\u4137;\u443Ar;\uC000\u{1D528}reen;\u4138cy;\u4445cy;\u445Cpf;\uC000\u{1D55C}cr;\uC000\u{1D4C0}\u0B80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248D\u2491\u250E\u253D\u255A\u2580\u264E\u265E\u2665\u2679\u267D\u269A\u26B2\u26D8\u275D\u2768\u278B\u27C0\u2801\u2812\u0180art\u2477\u247A\u247Cr\xF2\u09C6\xF2\u0395ail;\u691Barr;\u690E\u0100;g\u0994\u248B;\u6A8Bar;\u6962\u0963\u24A5\0\u24AA\0\u24B1\0\0\0\0\0\u24B5\u24BA\0\u24C6\u24C8\u24CD\0\u24F9ute;\u413Amptyv;\u69B4ra\xEE\u084Cbda;\u43BBg\u0180;dl\u088E\u24C1\u24C3;\u6991\xE5\u088E;\u6A85uo\u803B\xAB\u40ABr\u0400;bfhlpst\u0899\u24DE\u24E6\u24E9\u24EB\u24EE\u24F1\u24F5\u0100;f\u089D\u24E3s;\u691Fs;\u691D\xEB\u2252p;\u61ABl;\u6939im;\u6973l;\u61A2\u0180;ae\u24FF\u2500\u2504\u6AABil;\u6919\u0100;s\u2509\u250A\u6AAD;\uC000\u2AAD\uFE00\u0180abr\u2515\u2519\u251Drr;\u690Crk;\u6772\u0100ak\u2522\u252Cc\u0100ek\u2528\u252A;\u407B;\u405B\u0100es\u2531\u2533;\u698Bl\u0100du\u2539\u253B;\u698F;\u698D\u0200aeuy\u2546\u254B\u2556\u2558ron;\u413E\u0100di\u2550\u2554il;\u413C\xEC\u08B0\xE2\u2529;\u443B\u0200cqrs\u2563\u2566\u256D\u257Da;\u6936uo\u0100;r\u0E19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694Bh;\u61B2\u0280;fgqs\u258B\u258C\u0989\u25F3\u25FF\u6264t\u0280ahlrt\u2598\u25A4\u25B7\u25C2\u25E8rrow\u0100;t\u0899\u25A1a\xE9\u24F6arpoon\u0100du\u25AF\u25B4own\xBB\u045Ap\xBB\u0966eftarrows;\u61C7ight\u0180ahs\u25CD\u25D6\u25DErrow\u0100;s\u08F4\u08A7arpoon\xF3\u0F98quigarro\xF7\u21F0hreetimes;\u62CB\u0180;qs\u258B\u0993\u25FAlan\xF4\u09AC\u0280;cdgs\u09AC\u260A\u260D\u261D\u2628c;\u6AA8ot\u0100;o\u2614\u2615\u6A7F\u0100;r\u261A\u261B\u6A81;\u6A83\u0100;e\u2622\u2625\uC000\u22DA\uFE00s;\u6A93\u0280adegs\u2633\u2639\u263D\u2649\u264Bppro\xF8\u24C6ot;\u62D6q\u0100gq\u2643\u2645\xF4\u0989gt\xF2\u248C\xF4\u099Bi\xED\u09B2\u0180ilr\u2655\u08E1\u265Asht;\u697C;\uC000\u{1D529}\u0100;E\u099C\u2663;\u6A91\u0161\u2669\u2676r\u0100du\u25B2\u266E\u0100;l\u0965\u2673;\u696Alk;\u6584cy;\u4459\u0280;acht\u0A48\u2688\u268B\u2691\u2696r\xF2\u25C1orne\xF2\u1D08ard;\u696Bri;\u65FA\u0100io\u269F\u26A4dot;\u4140ust\u0100;a\u26AC\u26AD\u63B0che\xBB\u26AD\u0200Eaes\u26BB\u26BD\u26C9\u26D4;\u6268p\u0100;p\u26C3\u26C4\u6A89rox\xBB\u26C4\u0100;q\u26CE\u26CF\u6A87\u0100;q\u26CE\u26BBim;\u62E6\u0400abnoptwz\u26E9\u26F4\u26F7\u271A\u272F\u2741\u2747\u2750\u0100nr\u26EE\u26F1g;\u67ECr;\u61FDr\xEB\u08C1g\u0180lmr\u26FF\u270D\u2714eft\u0100ar\u09E6\u2707ight\xE1\u09F2apsto;\u67FCight\xE1\u09FDparrow\u0100lr\u2725\u2729ef\xF4\u24EDight;\u61AC\u0180afl\u2736\u2739\u273Dr;\u6985;\uC000\u{1D55D}us;\u6A2Dimes;\u6A34\u0161\u274B\u274Fst;\u6217\xE1\u134E\u0180;ef\u2757\u2758\u1800\u65CAnge\xBB\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277C\u2785\u2787r\xF2\u08A8orne\xF2\u1D8Car\u0100;d\u0F98\u2783;\u696D;\u600Eri;\u62BF\u0300achiqt\u2798\u279D\u0A40\u27A2\u27AE\u27BBquo;\u6039r;\uC000\u{1D4C1}m\u0180;eg\u09B2\u27AA\u27AC;\u6A8D;\u6A8F\u0100bu\u252A\u27B3o\u0100;r\u0E1F\u27B9;\u601Arok;\u4142\u8400<;cdhilqr\u082B\u27D2\u2639\u27DC\u27E0\u27E5\u27EA\u27F0\u0100ci\u27D7\u27D9;\u6AA6r;\u6A79re\xE5\u25F2mes;\u62C9arr;\u6976uest;\u6A7B\u0100Pi\u27F5\u27F9ar;\u6996\u0180;ef\u2800\u092D\u181B\u65C3r\u0100du\u2807\u280Dshar;\u694Ahar;\u6966\u0100en\u2817\u2821rtneqq;\uC000\u2268\uFE00\xC5\u281E\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288E\u2893\u28A0\u28A5\u28A8\u28DA\u28E2\u28E4\u0A83\u28F3\u2902Dot;\u623A\u0200clpr\u284E\u2852\u2863\u287Dr\u803B\xAF\u40AF\u0100et\u2857\u2859;\u6642\u0100;e\u285E\u285F\u6720se\xBB\u285F\u0100;s\u103B\u2868to\u0200;dlu\u103B\u2873\u2877\u287Bow\xEE\u048Cef\xF4\u090F\xF0\u13D1ker;\u65AE\u0100oy\u2887\u288Cmma;\u6A29;\u443Cash;\u6014asuredangle\xBB\u1626r;\uC000\u{1D52A}o;\u6127\u0180cdn\u28AF\u28B4\u28C9ro\u803B\xB5\u40B5\u0200;acd\u1464\u28BD\u28C0\u28C4s\xF4\u16A7ir;\u6AF0ot\u80BB\xB7\u01B5us\u0180;bd\u28D2\u1903\u28D3\u6212\u0100;u\u1D3C\u28D8;\u6A2A\u0163\u28DE\u28E1p;\u6ADB\xF2\u2212\xF0\u0A81\u0100dp\u28E9\u28EEels;\u62A7f;\uC000\u{1D55E}\u0100ct\u28F8\u28FDr;\uC000\u{1D4C2}pos\xBB\u159D\u0180;lm\u2909\u290A\u290D\u43BCtimap;\u62B8\u0C00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297E\u2989\u2998\u29DA\u29E9\u2A15\u2A1A\u2A58\u2A5D\u2A83\u2A95\u2AA4\u2AA8\u2B04\u2B07\u2B44\u2B7F\u2BAE\u2C34\u2C67\u2C7C\u2CE9\u0100gt\u2947\u294B;\uC000\u22D9\u0338\u0100;v\u2950\u0BCF\uC000\u226B\u20D2\u0180elt\u295A\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61CDightarrow;\u61CE;\uC000\u22D8\u0338\u0100;v\u297B\u0C47\uC000\u226A\u20D2ightarrow;\u61CF\u0100Dd\u298E\u2993ash;\u62AFash;\u62AE\u0280bcnpt\u29A3\u29A7\u29AC\u29B1\u29CCla\xBB\u02DEute;\u4144g;\uC000\u2220\u20D2\u0280;Eiop\u0D84\u29BC\u29C0\u29C5\u29C8;\uC000\u2A70\u0338d;\uC000\u224B\u0338s;\u4149ro\xF8\u0D84ur\u0100;a\u29D3\u29D4\u666El\u0100;s\u29D3\u0B38\u01F3\u29DF\0\u29E3p\u80BB\xA0\u0B37mp\u0100;e\u0BF9\u0C00\u0280aeouy\u29F4\u29FE\u2A03\u2A10\u2A13\u01F0\u29F9\0\u29FB;\u6A43on;\u4148dil;\u4146ng\u0100;d\u0D7E\u2A0Aot;\uC000\u2A6D\u0338p;\u6A42;\u443Dash;\u6013\u0380;Aadqsx\u0B92\u2A29\u2A2D\u2A3B\u2A41\u2A45\u2A50rr;\u61D7r\u0100hr\u2A33\u2A36k;\u6924\u0100;o\u13F2\u13F0ot;\uC000\u2250\u0338ui\xF6\u0B63\u0100ei\u2A4A\u2A4Ear;\u6928\xED\u0B98ist\u0100;s\u0BA0\u0B9Fr;\uC000\u{1D52B}\u0200Eest\u0BC5\u2A66\u2A79\u2A7C\u0180;qs\u0BBC\u2A6D\u0BE1\u0180;qs\u0BBC\u0BC5\u2A74lan\xF4\u0BE2i\xED\u0BEA\u0100;r\u0BB6\u2A81\xBB\u0BB7\u0180Aap\u2A8A\u2A8D\u2A91r\xF2\u2971rr;\u61AEar;\u6AF2\u0180;sv\u0F8D\u2A9C\u0F8C\u0100;d\u2AA1\u2AA2\u62FC;\u62FAcy;\u445A\u0380AEadest\u2AB7\u2ABA\u2ABE\u2AC2\u2AC5\u2AF6\u2AF9r\xF2\u2966;\uC000\u2266\u0338rr;\u619Ar;\u6025\u0200;fqs\u0C3B\u2ACE\u2AE3\u2AEFt\u0100ar\u2AD4\u2AD9rro\xF7\u2AC1ightarro\xF7\u2A90\u0180;qs\u0C3B\u2ABA\u2AEAlan\xF4\u0C55\u0100;s\u0C55\u2AF4\xBB\u0C36i\xED\u0C5D\u0100;r\u0C35\u2AFEi\u0100;e\u0C1A\u0C25i\xE4\u0D90\u0100pt\u2B0C\u2B11f;\uC000\u{1D55F}\u8180\xAC;in\u2B19\u2B1A\u2B36\u40ACn\u0200;Edv\u0B89\u2B24\u2B28\u2B2E;\uC000\u22F9\u0338ot;\uC000\u22F5\u0338\u01E1\u0B89\u2B33\u2B35;\u62F7;\u62F6i\u0100;v\u0CB8\u2B3C\u01E1\u0CB8\u2B41\u2B43;\u62FE;\u62FD\u0180aor\u2B4B\u2B63\u2B69r\u0200;ast\u0B7B\u2B55\u2B5A\u2B5Flle\xEC\u0B7Bl;\uC000\u2AFD\u20E5;\uC000\u2202\u0338lint;\u6A14\u0180;ce\u0C92\u2B70\u2B73u\xE5\u0CA5\u0100;c\u0C98\u2B78\u0100;e\u0C92\u2B7D\xF1\u0C98\u0200Aait\u2B88\u2B8B\u2B9D\u2BA7r\xF2\u2988rr\u0180;cw\u2B94\u2B95\u2B99\u619B;\uC000\u2933\u0338;\uC000\u219D\u0338ghtarrow\xBB\u2B95ri\u0100;e\u0CCB\u0CD6\u0380chimpqu\u2BBD\u2BCD\u2BD9\u2B04\u0B78\u2BE4\u2BEF\u0200;cer\u0D32\u2BC6\u0D37\u2BC9u\xE5\u0D45;\uC000\u{1D4C3}ort\u026D\u2B05\0\0\u2BD6ar\xE1\u2B56m\u0100;e\u0D6E\u2BDF\u0100;q\u0D74\u0D73su\u0100bp\u2BEB\u2BED\xE5\u0CF8\xE5\u0D0B\u0180bcp\u2BF6\u2C11\u2C19\u0200;Ees\u2BFF\u2C00\u0D22\u2C04\u6284;\uC000\u2AC5\u0338et\u0100;e\u0D1B\u2C0Bq\u0100;q\u0D23\u2C00c\u0100;e\u0D32\u2C17\xF1\u0D38\u0200;Ees\u2C22\u2C23\u0D5F\u2C27\u6285;\uC000\u2AC6\u0338et\u0100;e\u0D58\u2C2Eq\u0100;q\u0D60\u2C23\u0200gilr\u2C3D\u2C3F\u2C45\u2C47\xEC\u0BD7lde\u803B\xF1\u40F1\xE7\u0C43iangle\u0100lr\u2C52\u2C5Ceft\u0100;e\u0C1A\u2C5A\xF1\u0C26ight\u0100;e\u0CCB\u2C65\xF1\u0CD7\u0100;m\u2C6C\u2C6D\u43BD\u0180;es\u2C74\u2C75\u2C79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2C8F\u2C94\u2C99\u2C9E\u2CA3\u2CB0\u2CB6\u2CD3\u2CE3ash;\u62ADarr;\u6904p;\uC000\u224D\u20D2ash;\u62AC\u0100et\u2CA8\u2CAC;\uC000\u2265\u20D2;\uC000>\u20D2nfin;\u69DE\u0180Aet\u2CBD\u2CC1\u2CC5rr;\u6902;\uC000\u2264\u20D2\u0100;r\u2CCA\u2CCD\uC000<\u20D2ie;\uC000\u22B4\u20D2\u0100At\u2CD8\u2CDCrr;\u6903rie;\uC000\u22B5\u20D2im;\uC000\u223C\u20D2\u0180Aan\u2CF0\u2CF4\u2D02rr;\u61D6r\u0100hr\u2CFA\u2CFDk;\u6923\u0100;o\u13E7\u13E5ear;\u6927\u1253\u1A95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2D2D\0\u2D38\u2D48\u2D60\u2D65\u2D72\u2D84\u1B07\0\0\u2D8D\u2DAB\0\u2DC8\u2DCE\0\u2DDC\u2E19\u2E2B\u2E3E\u2E43\u0100cs\u2D31\u1A97ute\u803B\xF3\u40F3\u0100iy\u2D3C\u2D45r\u0100;c\u1A9E\u2D42\u803B\xF4\u40F4;\u443E\u0280abios\u1AA0\u2D52\u2D57\u01C8\u2D5Alac;\u4151v;\u6A38old;\u69BClig;\u4153\u0100cr\u2D69\u2D6Dir;\u69BF;\uC000\u{1D52C}\u036F\u2D79\0\0\u2D7C\0\u2D82n;\u42DBave\u803B\xF2\u40F2;\u69C1\u0100bm\u2D88\u0DF4ar;\u69B5\u0200acit\u2D95\u2D98\u2DA5\u2DA8r\xF2\u1A80\u0100ir\u2D9D\u2DA0r;\u69BEoss;\u69BBn\xE5\u0E52;\u69C0\u0180aei\u2DB1\u2DB5\u2DB9cr;\u414Dga;\u43C9\u0180cdn\u2DC0\u2DC5\u01CDron;\u43BF;\u69B6pf;\uC000\u{1D560}\u0180ael\u2DD4\u2DD7\u01D2r;\u69B7rp;\u69B9\u0380;adiosv\u2DEA\u2DEB\u2DEE\u2E08\u2E0D\u2E10\u2E16\u6228r\xF2\u1A86\u0200;efm\u2DF7\u2DF8\u2E02\u2E05\u6A5Dr\u0100;o\u2DFE\u2DFF\u6134f\xBB\u2DFF\u803B\xAA\u40AA\u803B\xBA\u40BAgof;\u62B6r;\u6A56lope;\u6A57;\u6A5B\u0180clo\u2E1F\u2E21\u2E27\xF2\u2E01ash\u803B\xF8\u40F8l;\u6298i\u016C\u2E2F\u2E34de\u803B\xF5\u40F5es\u0100;a\u01DB\u2E3As;\u6A36ml\u803B\xF6\u40F6bar;\u633D\u0AE1\u2E5E\0\u2E7D\0\u2E80\u2E9D\0\u2EA2\u2EB9\0\0\u2ECB\u0E9C\0\u2F13\0\0\u2F2B\u2FBC\0\u2FC8r\u0200;ast\u0403\u2E67\u2E72\u0E85\u8100\xB6;l\u2E6D\u2E6E\u40B6le\xEC\u0403\u0269\u2E78\0\0\u2E7Bm;\u6AF3;\u6AFDy;\u443Fr\u0280cimpt\u2E8B\u2E8F\u2E93\u1865\u2E97nt;\u4025od;\u402Eil;\u6030enk;\u6031r;\uC000\u{1D52D}\u0180imo\u2EA8\u2EB0\u2EB4\u0100;v\u2EAD\u2EAE\u43C6;\u43D5ma\xF4\u0A76ne;\u660E\u0180;tv\u2EBF\u2EC0\u2EC8\u43C0chfork\xBB\u1FFD;\u43D6\u0100au\u2ECF\u2EDFn\u0100ck\u2ED5\u2EDDk\u0100;h\u21F4\u2EDB;\u610E\xF6\u21F4s\u0480;abcdemst\u2EF3\u2EF4\u1908\u2EF9\u2EFD\u2F04\u2F06\u2F0A\u2F0E\u402Bcir;\u6A23ir;\u6A22\u0100ou\u1D40\u2F02;\u6A25;\u6A72n\u80BB\xB1\u0E9Dim;\u6A26wo;\u6A27\u0180ipu\u2F19\u2F20\u2F25ntint;\u6A15f;\uC000\u{1D561}nd\u803B\xA3\u40A3\u0500;Eaceinosu\u0EC8\u2F3F\u2F41\u2F44\u2F47\u2F81\u2F89\u2F92\u2F7E\u2FB6;\u6AB3p;\u6AB7u\xE5\u0ED9\u0100;c\u0ECE\u2F4C\u0300;acens\u0EC8\u2F59\u2F5F\u2F66\u2F68\u2F7Eppro\xF8\u2F43urlye\xF1\u0ED9\xF1\u0ECE\u0180aes\u2F6F\u2F76\u2F7Approx;\u6AB9qq;\u6AB5im;\u62E8i\xED\u0EDFme\u0100;s\u2F88\u0EAE\u6032\u0180Eas\u2F78\u2F90\u2F7A\xF0\u2F75\u0180dfp\u0EEC\u2F99\u2FAF\u0180als\u2FA0\u2FA5\u2FAAlar;\u632Eine;\u6312urf;\u6313\u0100;t\u0EFB\u2FB4\xEF\u0EFBrel;\u62B0\u0100ci\u2FC0\u2FC5r;\uC000\u{1D4C5};\u43C8ncsp;\u6008\u0300fiopsu\u2FDA\u22E2\u2FDF\u2FE5\u2FEB\u2FF1r;\uC000\u{1D52E}pf;\uC000\u{1D562}rime;\u6057cr;\uC000\u{1D4C6}\u0180aeo\u2FF8\u3009\u3013t\u0100ei\u2FFE\u3005rnion\xF3\u06B0nt;\u6A16st\u0100;e\u3010\u3011\u403F\xF1\u1F19\xF4\u0F14\u0A80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30E0\u310E\u312B\u3147\u3162\u3172\u318E\u3206\u3215\u3224\u3229\u3258\u326E\u3272\u3290\u32B0\u32B7\u0180art\u3047\u304A\u304Cr\xF2\u10B3\xF2\u03DDail;\u691Car\xF2\u1C65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307F\u308F\u3094\u30CC\u0100eu\u306D\u3071;\uC000\u223D\u0331te;\u4155i\xE3\u116Emptyv;\u69B3g\u0200;del\u0FD1\u3089\u308B\u308D;\u6992;\u69A5\xE5\u0FD1uo\u803B\xBB\u40BBr\u0580;abcfhlpstw\u0FDC\u30AC\u30AF\u30B7\u30B9\u30BC\u30BE\u30C0\u30C3\u30C7\u30CAp;\u6975\u0100;f\u0FE0\u30B4s;\u6920;\u6933s;\u691E\xEB\u225D\xF0\u272El;\u6945im;\u6974l;\u61A3;\u619D\u0100ai\u30D1\u30D5il;\u691Ao\u0100;n\u30DB\u30DC\u6236al\xF3\u0F1E\u0180abr\u30E7\u30EA\u30EEr\xF2\u17E5rk;\u6773\u0100ak\u30F3\u30FDc\u0100ek\u30F9\u30FB;\u407D;\u405D\u0100es\u3102\u3104;\u698Cl\u0100du\u310A\u310C;\u698E;\u6990\u0200aeuy\u3117\u311C\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xEC\u0FF2\xE2\u30FA;\u4440\u0200clqs\u3134\u3137\u313D\u3144a;\u6937dhar;\u6969uo\u0100;r\u020E\u020Dh;\u61B3\u0180acg\u314E\u315F\u0F44l\u0200;ips\u0F78\u3158\u315B\u109Cn\xE5\u10BBar\xF4\u0FA9t;\u65AD\u0180ilr\u3169\u1023\u316Esht;\u697D;\uC000\u{1D52F}\u0100ao\u3177\u3186r\u0100du\u317D\u317F\xBB\u047B\u0100;l\u1091\u3184;\u696C\u0100;v\u318B\u318C\u43C1;\u43F1\u0180gns\u3195\u31F9\u31FCht\u0300ahlrst\u31A4\u31B0\u31C2\u31D8\u31E4\u31EErrow\u0100;t\u0FDC\u31ADa\xE9\u30C8arpoon\u0100du\u31BB\u31BFow\xEE\u317Ep\xBB\u1092eft\u0100ah\u31CA\u31D0rrow\xF3\u0FEAarpoon\xF3\u0551ightarrows;\u61C9quigarro\xF7\u30CBhreetimes;\u62CCg;\u42DAingdotse\xF1\u1F32\u0180ahm\u320D\u3210\u3213r\xF2\u0FEAa\xF2\u0551;\u600Foust\u0100;a\u321E\u321F\u63B1che\xBB\u321Fmid;\u6AEE\u0200abpt\u3232\u323D\u3240\u3252\u0100nr\u3237\u323Ag;\u67EDr;\u61FEr\xEB\u1003\u0180afl\u3247\u324A\u324Er;\u6986;\uC000\u{1D563}us;\u6A2Eimes;\u6A35\u0100ap\u325D\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6A12ar\xF2\u31E3\u0200achq\u327B\u3280\u10BC\u3285quo;\u603Ar;\uC000\u{1D4C7}\u0100bu\u30FB\u328Ao\u0100;r\u0214\u0213\u0180hir\u3297\u329B\u32A0re\xE5\u31F8mes;\u62CAi\u0200;efl\u32AA\u1059\u1821\u32AB\u65B9tri;\u69CEluhar;\u6968;\u611E\u0D61\u32D5\u32DB\u32DF\u332C\u3338\u3371\0\u337A\u33A4\0\0\u33EC\u33F0\0\u3428\u3448\u345A\u34AD\u34B1\u34CA\u34F1\0\u3616\0\0\u3633cute;\u415Bqu\xEF\u27BA\u0500;Eaceinpsy\u11ED\u32F3\u32F5\u32FF\u3302\u330B\u330F\u331F\u3326\u3329;\u6AB4\u01F0\u32FA\0\u32FC;\u6AB8on;\u4161u\xE5\u11FE\u0100;d\u11F3\u3307il;\u415Frc;\u415D\u0180Eas\u3316\u3318\u331B;\u6AB6p;\u6ABAim;\u62E9olint;\u6A13i\xED\u1204;\u4441ot\u0180;be\u3334\u1D47\u3335\u62C5;\u6A66\u0380Aacmstx\u3346\u334A\u3357\u335B\u335E\u3363\u336Drr;\u61D8r\u0100hr\u3350\u3352\xEB\u2228\u0100;o\u0A36\u0A34t\u803B\xA7\u40A7i;\u403Bwar;\u6929m\u0100in\u3369\xF0nu\xF3\xF1t;\u6736r\u0100;o\u3376\u2055\uC000\u{1D530}\u0200acoy\u3382\u3386\u3391\u33A0rp;\u666F\u0100hy\u338B\u338Fcy;\u4449;\u4448rt\u026D\u3399\0\0\u339Ci\xE4\u1464ara\xEC\u2E6F\u803B\xAD\u40AD\u0100gm\u33A8\u33B4ma\u0180;fv\u33B1\u33B2\u33B2\u43C3;\u43C2\u0400;deglnpr\u12AB\u33C5\u33C9\u33CE\u33D6\u33DE\u33E1\u33E6ot;\u6A6A\u0100;q\u12B1\u12B0\u0100;E\u33D3\u33D4\u6A9E;\u6AA0\u0100;E\u33DB\u33DC\u6A9D;\u6A9Fe;\u6246lus;\u6A24arr;\u6972ar\xF2\u113D\u0200aeit\u33F8\u3408\u340F\u3417\u0100ls\u33FD\u3404lsetm\xE9\u336Ahp;\u6A33parsl;\u69E4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341C\u341D\u6AAA\u0100;s\u3422\u3423\u6AAC;\uC000\u2AAC\uFE00\u0180flp\u342E\u3433\u3442tcy;\u444C\u0100;b\u3438\u3439\u402F\u0100;a\u343E\u343F\u69C4r;\u633Ff;\uC000\u{1D564}a\u0100dr\u344D\u0402es\u0100;u\u3454\u3455\u6660it\xBB\u3455\u0180csu\u3460\u3479\u349F\u0100au\u3465\u346Fp\u0100;s\u1188\u346B;\uC000\u2293\uFE00p\u0100;s\u11B4\u3475;\uC000\u2294\uFE00u\u0100bp\u347F\u348F\u0180;es\u1197\u119C\u3486et\u0100;e\u1197\u348D\xF1\u119D\u0180;es\u11A8\u11AD\u3496et\u0100;e\u11A8\u349D\xF1\u11AE\u0180;af\u117B\u34A6\u05B0r\u0165\u34AB\u05B1\xBB\u117Car\xF2\u1148\u0200cemt\u34B9\u34BE\u34C2\u34C5r;\uC000\u{1D4C8}tm\xEE\xF1i\xEC\u3415ar\xE6\u11BE\u0100ar\u34CE\u34D5r\u0100;f\u34D4\u17BF\u6606\u0100an\u34DA\u34EDight\u0100ep\u34E3\u34EApsilo\xEE\u1EE0h\xE9\u2EAFs\xBB\u2852\u0280bcmnp\u34FB\u355E\u1209\u358B\u358E\u0480;Edemnprs\u350E\u350F\u3511\u3515\u351E\u3523\u352C\u3531\u3536\u6282;\u6AC5ot;\u6ABD\u0100;d\u11DA\u351Aot;\u6AC3ult;\u6AC1\u0100Ee\u3528\u352A;\u6ACB;\u628Alus;\u6ABFarr;\u6979\u0180eiu\u353D\u3552\u3555t\u0180;en\u350E\u3545\u354Bq\u0100;q\u11DA\u350Feq\u0100;q\u352B\u3528m;\u6AC7\u0100bp\u355A\u355C;\u6AD5;\u6AD3c\u0300;acens\u11ED\u356C\u3572\u3579\u357B\u3326ppro\xF8\u32FAurlye\xF1\u11FE\xF1\u11F3\u0180aes\u3582\u3588\u331Bppro\xF8\u331Aq\xF1\u3317g;\u666A\u0680123;Edehlmnps\u35A9\u35AC\u35AF\u121C\u35B2\u35B4\u35C0\u35C9\u35D5\u35DA\u35DF\u35E8\u35ED\u803B\xB9\u40B9\u803B\xB2\u40B2\u803B\xB3\u40B3;\u6AC6\u0100os\u35B9\u35BCt;\u6ABEub;\u6AD8\u0100;d\u1222\u35C5ot;\u6AC4s\u0100ou\u35CF\u35D2l;\u67C9b;\u6AD7arr;\u697Bult;\u6AC2\u0100Ee\u35E4\u35E6;\u6ACC;\u628Blus;\u6AC0\u0180eiu\u35F4\u3609\u360Ct\u0180;en\u121C\u35FC\u3602q\u0100;q\u1222\u35B2eq\u0100;q\u35E7\u35E4m;\u6AC8\u0100bp\u3611\u3613;\u6AD4;\u6AD6\u0180Aan\u361C\u3620\u362Drr;\u61D9r\u0100hr\u3626\u3628\xEB\u222E\u0100;o\u0A2B\u0A29war;\u692Alig\u803B\xDF\u40DF\u0BE1\u3651\u365D\u3660\u12CE\u3673\u3679\0\u367E\u36C2\0\0\0\0\0\u36DB\u3703\0\u3709\u376C\0\0\0\u3787\u0272\u3656\0\0\u365Bget;\u6316;\u43C4r\xEB\u0E5F\u0180aey\u3666\u366B\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uC000\u{1D531}\u0200eiko\u3686\u369D\u36B5\u36BC\u01F2\u368B\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369B\u43B8ym;\u43D1\u0100cn\u36A2\u36B2k\u0100as\u36A8\u36AEppro\xF8\u12C1im\xBB\u12ACs\xF0\u129E\u0100as\u36BA\u36AE\xF0\u12C1rn\u803B\xFE\u40FE\u01EC\u031F\u36C6\u22E7es\u8180\xD7;bd\u36CF\u36D0\u36D8\u40D7\u0100;a\u190F\u36D5r;\u6A31;\u6A30\u0180eps\u36E1\u36E3\u3700\xE1\u2A4D\u0200;bcf\u0486\u36EC\u36F0\u36F4ot;\u6336ir;\u6AF1\u0100;o\u36F9\u36FC\uC000\u{1D565}rk;\u6ADA\xE1\u3362rime;\u6034\u0180aip\u370F\u3712\u3764d\xE5\u1248\u0380adempst\u3721\u374D\u3740\u3751\u3757\u375C\u375Fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65B5own\xBB\u1DBBeft\u0100;e\u2800\u373E\xF1\u092E;\u625Cight\u0100;e\u32AA\u374B\xF1\u105Aot;\u65ECinus;\u6A3Alus;\u6A39b;\u69CDime;\u6A3Bezium;\u63E2\u0180cht\u3772\u377D\u3781\u0100ry\u3777\u377B;\uC000\u{1D4C9};\u4446cy;\u445Brok;\u4167\u0100io\u378B\u378Ex\xF4\u1777head\u0100lr\u3797\u37A0eftarro\xF7\u084Fightarrow\xBB\u0F5D\u0900AHabcdfghlmoprstuw\u37D0\u37D3\u37D7\u37E4\u37F0\u37FC\u380E\u381C\u3823\u3834\u3851\u385D\u386B\u38A9\u38CC\u38D2\u38EA\u38F6r\xF2\u03EDar;\u6963\u0100cr\u37DC\u37E2ute\u803B\xFA\u40FA\xF2\u1150r\u01E3\u37EA\0\u37EDy;\u445Eve;\u416D\u0100iy\u37F5\u37FArc\u803B\xFB\u40FB;\u4443\u0180abh\u3803\u3806\u380Br\xF2\u13ADlac;\u4171a\xF2\u13C3\u0100ir\u3813\u3818sht;\u697E;\uC000\u{1D532}rave\u803B\xF9\u40F9\u0161\u3827\u3831r\u0100lr\u382C\u382E\xBB\u0957\xBB\u1083lk;\u6580\u0100ct\u3839\u384D\u026F\u383F\0\0\u384Arn\u0100;e\u3845\u3846\u631Cr\xBB\u3846op;\u630Fri;\u65F8\u0100al\u3856\u385Acr;\u416B\u80BB\xA8\u0349\u0100gp\u3862\u3866on;\u4173f;\uC000\u{1D566}\u0300adhlsu\u114B\u3878\u387D\u1372\u3891\u38A0own\xE1\u13B3arpoon\u0100lr\u3888\u388Cef\xF4\u382Digh\xF4\u382Fi\u0180;hl\u3899\u389A\u389C\u43C5\xBB\u13FAon\xBB\u389Aparrows;\u61C8\u0180cit\u38B0\u38C4\u38C8\u026F\u38B6\0\0\u38C1rn\u0100;e\u38BC\u38BD\u631Dr\xBB\u38BDop;\u630Eng;\u416Fri;\u65F9cr;\uC000\u{1D4CA}\u0180dir\u38D9\u38DD\u38E2ot;\u62F0lde;\u4169i\u0100;f\u3730\u38E8\xBB\u1813\u0100am\u38EF\u38F2r\xF2\u38A8l\u803B\xFC\u40FCangle;\u69A7\u0780ABDacdeflnoprsz\u391C\u391F\u3929\u392D\u39B5\u39B8\u39BD\u39DF\u39E4\u39E8\u39F3\u39F9\u39FD\u3A01\u3A20r\xF2\u03F7ar\u0100;v\u3926\u3927\u6AE8;\u6AE9as\xE8\u03E1\u0100nr\u3932\u3937grt;\u699C\u0380eknprst\u34E3\u3946\u394B\u3952\u395D\u3964\u3996app\xE1\u2415othin\xE7\u1E96\u0180hir\u34EB\u2EC8\u3959op\xF4\u2FB5\u0100;h\u13B7\u3962\xEF\u318D\u0100iu\u3969\u396Dgm\xE1\u33B3\u0100bp\u3972\u3984setneq\u0100;q\u397D\u3980\uC000\u228A\uFE00;\uC000\u2ACB\uFE00setneq\u0100;q\u398F\u3992\uC000\u228B\uFE00;\uC000\u2ACC\uFE00\u0100hr\u399B\u399Fet\xE1\u369Ciangle\u0100lr\u39AA\u39AFeft\xBB\u0925ight\xBB\u1051y;\u4432ash\xBB\u1036\u0180elr\u39C4\u39D2\u39D7\u0180;be\u2DEA\u39CB\u39CFar;\u62BBq;\u625Alip;\u62EE\u0100bt\u39DC\u1468a\xF2\u1469r;\uC000\u{1D533}tr\xE9\u39AEsu\u0100bp\u39EF\u39F1\xBB\u0D1C\xBB\u0D59pf;\uC000\u{1D567}ro\xF0\u0EFBtr\xE9\u39B4\u0100cu\u3A06\u3A0Br;\uC000\u{1D4CB}\u0100bp\u3A10\u3A18n\u0100Ee\u3980\u3A16\xBB\u397En\u0100Ee\u3992\u3A1E\xBB\u3990igzag;\u699A\u0380cefoprs\u3A36\u3A3B\u3A56\u3A5B\u3A54\u3A61\u3A6Airc;\u4175\u0100di\u3A40\u3A51\u0100bg\u3A45\u3A49ar;\u6A5Fe\u0100;q\u15FA\u3A4F;\u6259erp;\u6118r;\uC000\u{1D534}pf;\uC000\u{1D568}\u0100;e\u1479\u3A66at\xE8\u1479cr;\uC000\u{1D4CC}\u0AE3\u178E\u3A87\0\u3A8B\0\u3A90\u3A9B\0\0\u3A9D\u3AA8\u3AAB\u3AAF\0\0\u3AC3\u3ACE\0\u3AD8\u17DC\u17DFtr\xE9\u17D1r;\uC000\u{1D535}\u0100Aa\u3A94\u3A97r\xF2\u03C3r\xF2\u09F6;\u43BE\u0100Aa\u3AA1\u3AA4r\xF2\u03B8r\xF2\u09EBa\xF0\u2713is;\u62FB\u0180dpt\u17A4\u3AB5\u3ABE\u0100fl\u3ABA\u17A9;\uC000\u{1D569}im\xE5\u17B2\u0100Aa\u3AC7\u3ACAr\xF2\u03CEr\xF2\u0A01\u0100cq\u3AD2\u17B8r;\uC000\u{1D4CD}\u0100pt\u17D6\u3ADCr\xE9\u17D4\u0400acefiosu\u3AF0\u3AFD\u3B08\u3B0C\u3B11\u3B15\u3B1B\u3B21c\u0100uy\u3AF6\u3AFBte\u803B\xFD\u40FD;\u444F\u0100iy\u3B02\u3B06rc;\u4177;\u444Bn\u803B\xA5\u40A5r;\uC000\u{1D536}cy;\u4457pf;\uC000\u{1D56A}cr;\uC000\u{1D4CE}\u0100cm\u3B26\u3B29y;\u444El\u803B\xFF\u40FF\u0500acdefhiosw\u3B42\u3B48\u3B54\u3B58\u3B64\u3B69\u3B6D\u3B74\u3B7A\u3B80cute;\u417A\u0100ay\u3B4D\u3B52ron;\u417E;\u4437ot;\u417C\u0100et\u3B5D\u3B61tr\xE6\u155Fa;\u43B6r;\uC000\u{1D537}cy;\u4436grarr;\u61DDpf;\uC000\u{1D56B}cr;\uC000\u{1D4CF}\u0100jn\u3B85\u3B87;\u600Dj;\u600C'.split("").map(c=>c.charCodeAt(0)));var decode_data_xml_default=new Uint16Array("\u0200aglq	\x1B\u026D\0\0p;\u4026os;\u4027t;\u403Et;\u403Cuot;\u4022".split("").map(c=>c.charCodeAt(0)));var _a,decodeMap=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),fromCodePoint=(_a=String.fromCodePoint)!==null&&_a!==void 0?_a:function(codePoint){let output="";return codePoint>65535&&(codePoint-=65536,output+=String.fromCharCode(codePoint>>>10&1023|55296),codePoint=56320|codePoint&1023),output+=String.fromCharCode(codePoint),output};function replaceCodePoint(codePoint){var _a2;return codePoint>=55296&&codePoint<=57343||codePoint>1114111?65533:(_a2=decodeMap.get(codePoint))!==null&&_a2!==void 0?_a2:codePoint}var CharCodes;(function(CharCodes2){CharCodes2[CharCodes2.NUM=35]="NUM",CharCodes2[CharCodes2.SEMI=59]="SEMI",CharCodes2[CharCodes2.EQUALS=61]="EQUALS",CharCodes2[CharCodes2.ZERO=48]="ZERO",CharCodes2[CharCodes2.NINE=57]="NINE",CharCodes2[CharCodes2.LOWER_A=97]="LOWER_A",CharCodes2[CharCodes2.LOWER_F=102]="LOWER_F",CharCodes2[CharCodes2.LOWER_X=120]="LOWER_X",CharCodes2[CharCodes2.LOWER_Z=122]="LOWER_Z",CharCodes2[CharCodes2.UPPER_A=65]="UPPER_A",CharCodes2[CharCodes2.UPPER_F=70]="UPPER_F",CharCodes2[CharCodes2.UPPER_Z=90]="UPPER_Z"})(CharCodes||(CharCodes={}));var TO_LOWER_BIT=32,BinTrieFlags;(function(BinTrieFlags2){BinTrieFlags2[BinTrieFlags2.VALUE_LENGTH=49152]="VALUE_LENGTH",BinTrieFlags2[BinTrieFlags2.BRANCH_LENGTH=16256]="BRANCH_LENGTH",BinTrieFlags2[BinTrieFlags2.JUMP_TABLE=127]="JUMP_TABLE"})(BinTrieFlags||(BinTrieFlags={}));function isNumber(code2){return code2>=CharCodes.ZERO&&code2<=CharCodes.NINE}function isHexadecimalCharacter(code2){return code2>=CharCodes.UPPER_A&&code2<=CharCodes.UPPER_F||code2>=CharCodes.LOWER_A&&code2<=CharCodes.LOWER_F}function isAsciiAlphaNumeric(code2){return code2>=CharCodes.UPPER_A&&code2<=CharCodes.UPPER_Z||code2>=CharCodes.LOWER_A&&code2<=CharCodes.LOWER_Z||isNumber(code2)}function isEntityInAttributeInvalidEnd(code2){return code2===CharCodes.EQUALS||isAsciiAlphaNumeric(code2)}var EntityDecoderState;(function(EntityDecoderState2){EntityDecoderState2[EntityDecoderState2.EntityStart=0]="EntityStart",EntityDecoderState2[EntityDecoderState2.NumericStart=1]="NumericStart",EntityDecoderState2[EntityDecoderState2.NumericDecimal=2]="NumericDecimal",EntityDecoderState2[EntityDecoderState2.NumericHex=3]="NumericHex",EntityDecoderState2[EntityDecoderState2.NamedEntity=4]="NamedEntity"})(EntityDecoderState||(EntityDecoderState={}));var DecodingMode;(function(DecodingMode2){DecodingMode2[DecodingMode2.Legacy=0]="Legacy",DecodingMode2[DecodingMode2.Strict=1]="Strict",DecodingMode2[DecodingMode2.Attribute=2]="Attribute"})(DecodingMode||(DecodingMode={}));var EntityDecoder=class{constructor(decodeTree,emitCodePoint,errors){this.decodeTree=decodeTree,this.emitCodePoint=emitCodePoint,this.errors=errors,this.state=EntityDecoderState.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=DecodingMode.Strict}startEntity(decodeMode){this.decodeMode=decodeMode,this.state=EntityDecoderState.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(str,offset){switch(this.state){case EntityDecoderState.EntityStart:return str.charCodeAt(offset)===CharCodes.NUM?(this.state=EntityDecoderState.NumericStart,this.consumed+=1,this.stateNumericStart(str,offset+1)):(this.state=EntityDecoderState.NamedEntity,this.stateNamedEntity(str,offset));case EntityDecoderState.NumericStart:return this.stateNumericStart(str,offset);case EntityDecoderState.NumericDecimal:return this.stateNumericDecimal(str,offset);case EntityDecoderState.NumericHex:return this.stateNumericHex(str,offset);case EntityDecoderState.NamedEntity:return this.stateNamedEntity(str,offset)}}stateNumericStart(str,offset){return offset>=str.length?-1:(str.charCodeAt(offset)|TO_LOWER_BIT)===CharCodes.LOWER_X?(this.state=EntityDecoderState.NumericHex,this.consumed+=1,this.stateNumericHex(str,offset+1)):(this.state=EntityDecoderState.NumericDecimal,this.stateNumericDecimal(str,offset))}addToNumericResult(str,start,end,base){if(start!==end){let digitCount=end-start;this.result=this.result*Math.pow(base,digitCount)+parseInt(str.substr(start,digitCount),base),this.consumed+=digitCount}}stateNumericHex(str,offset){let startIdx=offset;for(;offset<str.length;){let char=str.charCodeAt(offset);if(isNumber(char)||isHexadecimalCharacter(char))offset+=1;else return this.addToNumericResult(str,startIdx,offset,16),this.emitNumericEntity(char,3)}return this.addToNumericResult(str,startIdx,offset,16),-1}stateNumericDecimal(str,offset){let startIdx=offset;for(;offset<str.length;){let char=str.charCodeAt(offset);if(isNumber(char))offset+=1;else return this.addToNumericResult(str,startIdx,offset,10),this.emitNumericEntity(char,2)}return this.addToNumericResult(str,startIdx,offset,10),-1}emitNumericEntity(lastCp,expectedLength){var _a2;if(this.consumed<=expectedLength)return(_a2=this.errors)===null||_a2===void 0||_a2.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(lastCp===CharCodes.SEMI)this.consumed+=1;else if(this.decodeMode===DecodingMode.Strict)return 0;return this.emitCodePoint(replaceCodePoint(this.result),this.consumed),this.errors&&(lastCp!==CharCodes.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(str,offset){let{decodeTree}=this,current=decodeTree[this.treeIndex],valueLength=(current&BinTrieFlags.VALUE_LENGTH)>>14;for(;offset<str.length;offset++,this.excess++){let char=str.charCodeAt(offset);if(this.treeIndex=determineBranch(decodeTree,current,this.treeIndex+Math.max(1,valueLength),char),this.treeIndex<0)return this.result===0||this.decodeMode===DecodingMode.Attribute&&(valueLength===0||isEntityInAttributeInvalidEnd(char))?0:this.emitNotTerminatedNamedEntity();if(current=decodeTree[this.treeIndex],valueLength=(current&BinTrieFlags.VALUE_LENGTH)>>14,valueLength!==0){if(char===CharCodes.SEMI)return this.emitNamedEntityData(this.treeIndex,valueLength,this.consumed+this.excess);this.decodeMode!==DecodingMode.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var _a2;let{result,decodeTree}=this,valueLength=(decodeTree[result]&BinTrieFlags.VALUE_LENGTH)>>14;return this.emitNamedEntityData(result,valueLength,this.consumed),(_a2=this.errors)===null||_a2===void 0||_a2.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(result,valueLength,consumed){let{decodeTree}=this;return this.emitCodePoint(valueLength===1?decodeTree[result]&~BinTrieFlags.VALUE_LENGTH:decodeTree[result+1],consumed),valueLength===3&&this.emitCodePoint(decodeTree[result+2],consumed),consumed}end(){var _a2;switch(this.state){case EntityDecoderState.NamedEntity:return this.result!==0&&(this.decodeMode!==DecodingMode.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case EntityDecoderState.NumericDecimal:return this.emitNumericEntity(0,2);case EntityDecoderState.NumericHex:return this.emitNumericEntity(0,3);case EntityDecoderState.NumericStart:return(_a2=this.errors)===null||_a2===void 0||_a2.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case EntityDecoderState.EntityStart:return 0}}};function getDecoder(decodeTree){let ret="",decoder=new EntityDecoder(decodeTree,str=>ret+=fromCodePoint(str));return function(str,decodeMode){let lastIndex=0,offset=0;for(;(offset=str.indexOf("&",offset))>=0;){ret+=str.slice(lastIndex,offset),decoder.startEntity(decodeMode);let len=decoder.write(str,offset+1);if(len<0){lastIndex=offset+decoder.end();break}lastIndex=offset+len,offset=len===0?lastIndex+1:lastIndex}let result=ret+str.slice(lastIndex);return ret="",result}}function determineBranch(decodeTree,current,nodeIdx,char){let branchCount=(current&BinTrieFlags.BRANCH_LENGTH)>>7,jumpOffset=current&BinTrieFlags.JUMP_TABLE;if(branchCount===0)return jumpOffset!==0&&char===jumpOffset?nodeIdx:-1;if(jumpOffset){let value=char-jumpOffset;return value<0||value>=branchCount?-1:decodeTree[nodeIdx+value]-1}let lo=nodeIdx,hi=lo+branchCount-1;for(;lo<=hi;){let mid=lo+hi>>>1,midVal=decodeTree[mid];if(midVal<char)lo=mid+1;else if(midVal>char)hi=mid-1;else return decodeTree[mid+branchCount]}return-1}var htmlDecoder=getDecoder(decode_data_html_default),xmlDecoder=getDecoder(decode_data_xml_default);function decodeHTML(str,mode=DecodingMode.Legacy){return htmlDecoder(str,mode)}function restoreDiff(arr){for(let i=1;i<arr.length;i++)arr[i][0]+=arr[i-1][0]+1;return arr}var encode_html_default=new Map(restoreDiff([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(restoreDiff([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(restoreDiff([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(restoreDiff([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));var xmlCodeMap=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),getCodePoint=String.prototype.codePointAt!=null?(str,index2)=>str.codePointAt(index2):(c,index2)=>(c.charCodeAt(index2)&64512)===55296?(c.charCodeAt(index2)-55296)*1024+c.charCodeAt(index2+1)-56320+65536:c.charCodeAt(index2);function getEscaper(regex,map){return function(data){let match2,lastIdx=0,result="";for(;match2=regex.exec(data);)lastIdx!==match2.index&&(result+=data.substring(lastIdx,match2.index)),result+=map.get(match2[0].charCodeAt(0)),lastIdx=match2.index+1;return result+data.substring(lastIdx)}}var escapeUTF8=getEscaper(/[&<>'"]/g,xmlCodeMap),escapeAttribute=getEscaper(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),escapeText=getEscaper(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]));var EntityLevel;(function(EntityLevel2){EntityLevel2[EntityLevel2.XML=0]="XML",EntityLevel2[EntityLevel2.HTML=1]="HTML"})(EntityLevel||(EntityLevel={}));var EncodingMode;(function(EncodingMode2){EncodingMode2[EncodingMode2.UTF8=0]="UTF8",EncodingMode2[EncodingMode2.ASCII=1]="ASCII",EncodingMode2[EncodingMode2.Extensive=2]="Extensive",EncodingMode2[EncodingMode2.Attribute=3]="Attribute",EncodingMode2[EncodingMode2.Text=4]="Text"})(EncodingMode||(EncodingMode={}));function _class(obj){return Object.prototype.toString.call(obj)}function isString2(obj){return _class(obj)==="[object String]"}var _hasOwnProperty=Object.prototype.hasOwnProperty;function has(object,key){return _hasOwnProperty.call(object,key)}function assign2(obj){return Array.prototype.slice.call(arguments,1).forEach(function(source){if(source){if(typeof source!="object")throw new TypeError(source+"must be object");Object.keys(source).forEach(function(key){obj[key]=source[key]})}}),obj}function arrayReplaceAt(src,pos,newElements){return[].concat(src.slice(0,pos),newElements,src.slice(pos+1))}function isValidEntityCode(c){return!(c>=55296&&c<=57343||c>=64976&&c<=65007||(c&65535)===65535||(c&65535)===65534||c>=0&&c<=8||c===11||c>=14&&c<=31||c>=127&&c<=159||c>1114111)}function fromCodePoint2(c){if(c>65535){c-=65536;let surrogate1=55296+(c>>10),surrogate2=56320+(c&1023);return String.fromCharCode(surrogate1,surrogate2)}return String.fromCharCode(c)}var UNESCAPE_MD_RE=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,ENTITY_RE=/&([a-z#][a-z0-9]{1,31});/gi,UNESCAPE_ALL_RE=new RegExp(UNESCAPE_MD_RE.source+"|"+ENTITY_RE.source,"gi"),DIGITAL_ENTITY_TEST_RE=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function replaceEntityPattern(match2,name){if(name.charCodeAt(0)===35&&DIGITAL_ENTITY_TEST_RE.test(name)){let code2=name[1].toLowerCase()==="x"?parseInt(name.slice(2),16):parseInt(name.slice(1),10);return isValidEntityCode(code2)?fromCodePoint2(code2):match2}let decoded=decodeHTML(match2);return decoded!==match2?decoded:match2}function unescapeMd(str){return str.indexOf("\\")<0?str:str.replace(UNESCAPE_MD_RE,"$1")}function unescapeAll(str){return str.indexOf("\\")<0&&str.indexOf("&")<0?str:str.replace(UNESCAPE_ALL_RE,function(match2,escaped,entity2){return escaped||replaceEntityPattern(match2,entity2)})}var HTML_ESCAPE_TEST_RE=/[&<>"]/,HTML_ESCAPE_REPLACE_RE=/[&<>"]/g,HTML_REPLACEMENTS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function replaceUnsafeChar(ch){return HTML_REPLACEMENTS[ch]}function escapeHtml(str){return HTML_ESCAPE_TEST_RE.test(str)?str.replace(HTML_ESCAPE_REPLACE_RE,replaceUnsafeChar):str}var REGEXP_ESCAPE_RE=/[.?*+^$[\]\\(){}|-]/g;function escapeRE(str){return str.replace(REGEXP_ESCAPE_RE,"\\$&")}function isSpace(code2){switch(code2){case 9:case 32:return!0}return!1}function isWhiteSpace(code2){if(code2>=8192&&code2<=8202)return!0;switch(code2){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function isPunctChar(ch){return regex_default4.test(ch)||regex_default5.test(ch)}function isMdAsciiPunct(ch){switch(ch){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function normalizeReference(str){return str=str.trim().replace(/\s+/g," "),"\u1E9E".toLowerCase()==="\u1E7E"&&(str=str.replace(//g,"\xDF")),str.toLowerCase().toUpperCase()}var lib={mdurl:mdurl_exports,ucmicro:uc_exports};var helpers_exports={};__export(helpers_exports,{parseLinkDestination:()=>parseLinkDestination,parseLinkLabel:()=>parseLinkLabel,parseLinkTitle:()=>parseLinkTitle});function parseLinkLabel(state,start,disableNested){let level,found,marker,prevPos,max=state.posMax,oldPos=state.pos;for(state.pos=start+1,level=1;state.pos<max;){if(marker=state.src.charCodeAt(state.pos),marker===93&&(level--,level===0)){found=!0;break}if(prevPos=state.pos,state.md.inline.skipToken(state),marker===91){if(prevPos===state.pos-1)level++;else if(disableNested)return state.pos=oldPos,-1}}let labelEnd=-1;return found&&(labelEnd=state.pos),state.pos=oldPos,labelEnd}function parseLinkDestination(str,start,max){let code2,pos=start,result={ok:!1,pos:0,str:""};if(str.charCodeAt(pos)===60){for(pos++;pos<max;){if(code2=str.charCodeAt(pos),code2===10||code2===60)return result;if(code2===62)return result.pos=pos+1,result.str=unescapeAll(str.slice(start+1,pos)),result.ok=!0,result;if(code2===92&&pos+1<max){pos+=2;continue}pos++}return result}let level=0;for(;pos<max&&(code2=str.charCodeAt(pos),!(code2===32||code2<32||code2===127));){if(code2===92&&pos+1<max){if(str.charCodeAt(pos+1)===32)break;pos+=2;continue}if(code2===40&&(level++,level>32))return result;if(code2===41){if(level===0)break;level--}pos++}return start===pos||level!==0||(result.str=unescapeAll(str.slice(start,pos)),result.pos=pos,result.ok=!0),result}function parseLinkTitle(str,start,max,prev_state){let code2,pos=start,state={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(prev_state)state.str=prev_state.str,state.marker=prev_state.marker;else{if(pos>=max)return state;let marker=str.charCodeAt(pos);if(marker!==34&&marker!==39&&marker!==40)return state;start++,pos++,marker===40&&(marker=41),state.marker=marker}for(;pos<max;){if(code2=str.charCodeAt(pos),code2===state.marker)return state.pos=pos+1,state.str+=unescapeAll(str.slice(start,pos)),state.ok=!0,state;if(code2===40&&state.marker===41)return state;code2===92&&pos+1<max&&pos++,pos++}return state.can_continue=!0,state.str+=unescapeAll(str.slice(start,pos)),state}var default_rules={};default_rules.code_inline=function(tokens,idx,options2,env2,slf){let token=tokens[idx];return"<code"+slf.renderAttrs(token)+">"+escapeHtml(token.content)+"</code>"};default_rules.code_block=function(tokens,idx,options2,env2,slf){let token=tokens[idx];return"<pre"+slf.renderAttrs(token)+"><code>"+escapeHtml(tokens[idx].content)+`</code></pre>
`};default_rules.fence=function(tokens,idx,options2,env2,slf){let token=tokens[idx],info=token.info?unescapeAll(token.info).trim():"",langName="",langAttrs="";if(info){let arr=info.split(/(\s+)/g);langName=arr[0],langAttrs=arr.slice(2).join("")}let highlighted;if(options2.highlight?highlighted=options2.highlight(token.content,langName,langAttrs)||escapeHtml(token.content):highlighted=escapeHtml(token.content),highlighted.indexOf("<pre")===0)return highlighted+`
`;if(info){let i=token.attrIndex("class"),tmpAttrs=token.attrs?token.attrs.slice():[];i<0?tmpAttrs.push(["class",options2.langPrefix+langName]):(tmpAttrs[i]=tmpAttrs[i].slice(),tmpAttrs[i][1]+=" "+options2.langPrefix+langName);let tmpToken={attrs:tmpAttrs};return`<pre><code${slf.renderAttrs(tmpToken)}>${highlighted}</code></pre>
`}return`<pre><code${slf.renderAttrs(token)}>${highlighted}</code></pre>
`};default_rules.image=function(tokens,idx,options2,env2,slf){let token=tokens[idx];return token.attrs[token.attrIndex("alt")][1]=slf.renderInlineAsText(token.children,options2,env2),slf.renderToken(tokens,idx,options2)};default_rules.hardbreak=function(tokens,idx,options2){return options2.xhtmlOut?`<br />
`:`<br>
`};default_rules.softbreak=function(tokens,idx,options2){return options2.breaks?options2.xhtmlOut?`<br />
`:`<br>
`:`
`};default_rules.text=function(tokens,idx){return escapeHtml(tokens[idx].content)};default_rules.html_block=function(tokens,idx){return tokens[idx].content};default_rules.html_inline=function(tokens,idx){return tokens[idx].content};function Renderer(){this.rules=assign2({},default_rules)}Renderer.prototype.renderAttrs=function(token){let i,l,result;if(!token.attrs)return"";for(result="",i=0,l=token.attrs.length;i<l;i++)result+=" "+escapeHtml(token.attrs[i][0])+'="'+escapeHtml(token.attrs[i][1])+'"';return result};Renderer.prototype.renderToken=function(tokens,idx,options2){let token=tokens[idx],result="";if(token.hidden)return"";token.block&&token.nesting!==-1&&idx&&tokens[idx-1].hidden&&(result+=`
`),result+=(token.nesting===-1?"</":"<")+token.tag,result+=this.renderAttrs(token),token.nesting===0&&options2.xhtmlOut&&(result+=" /");let needLf=!1;if(token.block&&(needLf=!0,token.nesting===1&&idx+1<tokens.length)){let nextToken=tokens[idx+1];(nextToken.type==="inline"||nextToken.hidden||nextToken.nesting===-1&&nextToken.tag===token.tag)&&(needLf=!1)}return result+=needLf?`>
`:">",result};Renderer.prototype.renderInline=function(tokens,options2,env2){let result="",rules=this.rules;for(let i=0,len=tokens.length;i<len;i++){let type=tokens[i].type;typeof rules[type]<"u"?result+=rules[type](tokens,i,options2,env2,this):result+=this.renderToken(tokens,i,options2)}return result};Renderer.prototype.renderInlineAsText=function(tokens,options2,env2){let result="";for(let i=0,len=tokens.length;i<len;i++)switch(tokens[i].type){case"text":result+=tokens[i].content;break;case"image":result+=this.renderInlineAsText(tokens[i].children,options2,env2);break;case"html_inline":case"html_block":result+=tokens[i].content;break;case"softbreak":case"hardbreak":result+=`
`;break;default:}return result};Renderer.prototype.render=function(tokens,options2,env2){let result="",rules=this.rules;for(let i=0,len=tokens.length;i<len;i++){let type=tokens[i].type;type==="inline"?result+=this.renderInline(tokens[i].children,options2,env2):typeof rules[type]<"u"?result+=rules[type](tokens,i,options2,env2,this):result+=this.renderToken(tokens,i,options2,env2)}return result};var renderer_default=Renderer;function Ruler(){this.__rules__=[],this.__cache__=null}Ruler.prototype.__find__=function(name){for(let i=0;i<this.__rules__.length;i++)if(this.__rules__[i].name===name)return i;return-1};Ruler.prototype.__compile__=function(){let self2=this,chains=[""];self2.__rules__.forEach(function(rule){rule.enabled&&rule.alt.forEach(function(altName){chains.indexOf(altName)<0&&chains.push(altName)})}),self2.__cache__={},chains.forEach(function(chain){self2.__cache__[chain]=[],self2.__rules__.forEach(function(rule){rule.enabled&&(chain&&rule.alt.indexOf(chain)<0||self2.__cache__[chain].push(rule.fn))})})};Ruler.prototype.at=function(name,fn,options2){let index2=this.__find__(name),opt=options2||{};if(index2===-1)throw new Error("Parser rule not found: "+name);this.__rules__[index2].fn=fn,this.__rules__[index2].alt=opt.alt||[],this.__cache__=null};Ruler.prototype.before=function(beforeName,ruleName,fn,options2){let index2=this.__find__(beforeName),opt=options2||{};if(index2===-1)throw new Error("Parser rule not found: "+beforeName);this.__rules__.splice(index2,0,{name:ruleName,enabled:!0,fn,alt:opt.alt||[]}),this.__cache__=null};Ruler.prototype.after=function(afterName,ruleName,fn,options2){let index2=this.__find__(afterName),opt=options2||{};if(index2===-1)throw new Error("Parser rule not found: "+afterName);this.__rules__.splice(index2+1,0,{name:ruleName,enabled:!0,fn,alt:opt.alt||[]}),this.__cache__=null};Ruler.prototype.push=function(ruleName,fn,options2){let opt=options2||{};this.__rules__.push({name:ruleName,enabled:!0,fn,alt:opt.alt||[]}),this.__cache__=null};Ruler.prototype.enable=function(list2,ignoreInvalid){Array.isArray(list2)||(list2=[list2]);let result=[];return list2.forEach(function(name){let idx=this.__find__(name);if(idx<0){if(ignoreInvalid)return;throw new Error("Rules manager: invalid rule name "+name)}this.__rules__[idx].enabled=!0,result.push(name)},this),this.__cache__=null,result};Ruler.prototype.enableOnly=function(list2,ignoreInvalid){Array.isArray(list2)||(list2=[list2]),this.__rules__.forEach(function(rule){rule.enabled=!1}),this.enable(list2,ignoreInvalid)};Ruler.prototype.disable=function(list2,ignoreInvalid){Array.isArray(list2)||(list2=[list2]);let result=[];return list2.forEach(function(name){let idx=this.__find__(name);if(idx<0){if(ignoreInvalid)return;throw new Error("Rules manager: invalid rule name "+name)}this.__rules__[idx].enabled=!1,result.push(name)},this),this.__cache__=null,result};Ruler.prototype.getRules=function(chainName){return this.__cache__===null&&this.__compile__(),this.__cache__[chainName]||[]};var ruler_default=Ruler;function Token(type,tag,nesting){this.type=type,this.tag=tag,this.attrs=null,this.map=null,this.nesting=nesting,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Token.prototype.attrIndex=function(name){if(!this.attrs)return-1;let attrs=this.attrs;for(let i=0,len=attrs.length;i<len;i++)if(attrs[i][0]===name)return i;return-1};Token.prototype.attrPush=function(attrData){this.attrs?this.attrs.push(attrData):this.attrs=[attrData]};Token.prototype.attrSet=function(name,value){let idx=this.attrIndex(name),attrData=[name,value];idx<0?this.attrPush(attrData):this.attrs[idx]=attrData};Token.prototype.attrGet=function(name){let idx=this.attrIndex(name),value=null;return idx>=0&&(value=this.attrs[idx][1]),value};Token.prototype.attrJoin=function(name,value){let idx=this.attrIndex(name);idx<0?this.attrPush([name,value]):this.attrs[idx][1]=this.attrs[idx][1]+" "+value};var token_default=Token;function StateCore(src,md,env2){this.src=src,this.env=env2,this.tokens=[],this.inlineMode=!1,this.md=md}StateCore.prototype.Token=token_default;var state_core_default=StateCore;var NEWLINES_RE=/\r\n?|\n/g,NULL_RE=/\0/g;function normalize2(state){let str;str=state.src.replace(NEWLINES_RE,`
`),str=str.replace(NULL_RE,"\uFFFD"),state.src=str}function block(state){let token;state.inlineMode?(token=new state.Token("inline","",0),token.content=state.src,token.map=[0,1],token.children=[],state.tokens.push(token)):state.md.block.parse(state.src,state.md,state.env,state.tokens)}function inline(state){let tokens=state.tokens;for(let i=0,l=tokens.length;i<l;i++){let tok=tokens[i];tok.type==="inline"&&state.md.inline.parse(tok.content,state.md,state.env,tok.children)}}function isLinkOpen(str){return/^<a[>\s]/i.test(str)}function isLinkClose(str){return/^<\/a\s*>/i.test(str)}function linkify(state){let blockTokens=state.tokens;if(state.md.options.linkify)for(let j=0,l=blockTokens.length;j<l;j++){if(blockTokens[j].type!=="inline"||!state.md.linkify.pretest(blockTokens[j].content))continue;let tokens=blockTokens[j].children,htmlLinkLevel=0;for(let i=tokens.length-1;i>=0;i--){let currentToken=tokens[i];if(currentToken.type==="link_close"){for(i--;tokens[i].level!==currentToken.level&&tokens[i].type!=="link_open";)i--;continue}if(currentToken.type==="html_inline"&&(isLinkOpen(currentToken.content)&&htmlLinkLevel>0&&htmlLinkLevel--,isLinkClose(currentToken.content)&&htmlLinkLevel++),!(htmlLinkLevel>0)&&currentToken.type==="text"&&state.md.linkify.test(currentToken.content)){let text2=currentToken.content,links=state.md.linkify.match(text2),nodes=[],level=currentToken.level,lastPos=0;links.length>0&&links[0].index===0&&i>0&&tokens[i-1].type==="text_special"&&(links=links.slice(1));for(let ln=0;ln<links.length;ln++){let url=links[ln].url,fullUrl=state.md.normalizeLink(url);if(!state.md.validateLink(fullUrl))continue;let urlText=links[ln].text;links[ln].schema?links[ln].schema==="mailto:"&&!/^mailto:/i.test(urlText)?urlText=state.md.normalizeLinkText("mailto:"+urlText).replace(/^mailto:/,""):urlText=state.md.normalizeLinkText(urlText):urlText=state.md.normalizeLinkText("http://"+urlText).replace(/^http:\/\//,"");let pos=links[ln].index;if(pos>lastPos){let token=new state.Token("text","",0);token.content=text2.slice(lastPos,pos),token.level=level,nodes.push(token)}let token_o=new state.Token("link_open","a",1);token_o.attrs=[["href",fullUrl]],token_o.level=level++,token_o.markup="linkify",token_o.info="auto",nodes.push(token_o);let token_t=new state.Token("text","",0);token_t.content=urlText,token_t.level=level,nodes.push(token_t);let token_c=new state.Token("link_close","a",-1);token_c.level=--level,token_c.markup="linkify",token_c.info="auto",nodes.push(token_c),lastPos=links[ln].lastIndex}if(lastPos<text2.length){let token=new state.Token("text","",0);token.content=text2.slice(lastPos),token.level=level,nodes.push(token)}blockTokens[j].children=tokens=arrayReplaceAt(tokens,i,nodes)}}}}var RARE_RE=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,SCOPED_ABBR_TEST_RE=/\((c|tm|r)\)/i,SCOPED_ABBR_RE=/\((c|tm|r)\)/ig,SCOPED_ABBR={c:"\xA9",r:"\xAE",tm:"\u2122"};function replaceFn(match2,name){return SCOPED_ABBR[name.toLowerCase()]}function replace_scoped(inlineTokens){let inside_autolink=0;for(let i=inlineTokens.length-1;i>=0;i--){let token=inlineTokens[i];token.type==="text"&&!inside_autolink&&(token.content=token.content.replace(SCOPED_ABBR_RE,replaceFn)),token.type==="link_open"&&token.info==="auto"&&inside_autolink--,token.type==="link_close"&&token.info==="auto"&&inside_autolink++}}function replace_rare(inlineTokens){let inside_autolink=0;for(let i=inlineTokens.length-1;i>=0;i--){let token=inlineTokens[i];token.type==="text"&&!inside_autolink&&RARE_RE.test(token.content)&&(token.content=token.content.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1\u2014").replace(/(^|\s)--(?=\s|$)/mg,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1\u2013")),token.type==="link_open"&&token.info==="auto"&&inside_autolink--,token.type==="link_close"&&token.info==="auto"&&inside_autolink++}}function replace(state){let blkIdx;if(state.md.options.typographer)for(blkIdx=state.tokens.length-1;blkIdx>=0;blkIdx--)state.tokens[blkIdx].type==="inline"&&(SCOPED_ABBR_TEST_RE.test(state.tokens[blkIdx].content)&&replace_scoped(state.tokens[blkIdx].children),RARE_RE.test(state.tokens[blkIdx].content)&&replace_rare(state.tokens[blkIdx].children))}var QUOTE_TEST_RE=/['"]/,QUOTE_RE=/['"]/g,APOSTROPHE="\u2019";function replaceAt(str,index2,ch){return str.slice(0,index2)+ch+str.slice(index2+1)}function process_inlines(tokens,state){let j,stack=[];for(let i=0;i<tokens.length;i++){let token=tokens[i],thisLevel=tokens[i].level;for(j=stack.length-1;j>=0&&!(stack[j].level<=thisLevel);j--);if(stack.length=j+1,token.type!=="text")continue;let text2=token.content,pos=0,max=text2.length;OUTER:for(;pos<max;){QUOTE_RE.lastIndex=pos;let t=QUOTE_RE.exec(text2);if(!t)break;let canOpen=!0,canClose=!0;pos=t.index+1;let isSingle=t[0]==="'",lastChar=32;if(t.index-1>=0)lastChar=text2.charCodeAt(t.index-1);else for(j=i-1;j>=0&&!(tokens[j].type==="softbreak"||tokens[j].type==="hardbreak");j--)if(tokens[j].content){lastChar=tokens[j].content.charCodeAt(tokens[j].content.length-1);break}let nextChar=32;if(pos<max)nextChar=text2.charCodeAt(pos);else for(j=i+1;j<tokens.length&&!(tokens[j].type==="softbreak"||tokens[j].type==="hardbreak");j++)if(tokens[j].content){nextChar=tokens[j].content.charCodeAt(0);break}let isLastPunctChar=isMdAsciiPunct(lastChar)||isPunctChar(String.fromCharCode(lastChar)),isNextPunctChar=isMdAsciiPunct(nextChar)||isPunctChar(String.fromCharCode(nextChar)),isLastWhiteSpace=isWhiteSpace(lastChar),isNextWhiteSpace=isWhiteSpace(nextChar);if(isNextWhiteSpace?canOpen=!1:isNextPunctChar&&(isLastWhiteSpace||isLastPunctChar||(canOpen=!1)),isLastWhiteSpace?canClose=!1:isLastPunctChar&&(isNextWhiteSpace||isNextPunctChar||(canClose=!1)),nextChar===34&&t[0]==='"'&&lastChar>=48&&lastChar<=57&&(canClose=canOpen=!1),canOpen&&canClose&&(canOpen=isLastPunctChar,canClose=isNextPunctChar),!canOpen&&!canClose){isSingle&&(token.content=replaceAt(token.content,t.index,APOSTROPHE));continue}if(canClose)for(j=stack.length-1;j>=0;j--){let item=stack[j];if(stack[j].level<thisLevel)break;if(item.single===isSingle&&stack[j].level===thisLevel){item=stack[j];let openQuote,closeQuote;isSingle?(openQuote=state.md.options.quotes[2],closeQuote=state.md.options.quotes[3]):(openQuote=state.md.options.quotes[0],closeQuote=state.md.options.quotes[1]),token.content=replaceAt(token.content,t.index,closeQuote),tokens[item.token].content=replaceAt(tokens[item.token].content,item.pos,openQuote),pos+=closeQuote.length-1,item.token===i&&(pos+=openQuote.length-1),text2=token.content,max=text2.length,stack.length=j;continue OUTER}}canOpen?stack.push({token:i,pos:t.index,single:isSingle,level:thisLevel}):canClose&&isSingle&&(token.content=replaceAt(token.content,t.index,APOSTROPHE))}}}function smartquotes(state){if(state.md.options.typographer)for(let blkIdx=state.tokens.length-1;blkIdx>=0;blkIdx--)state.tokens[blkIdx].type!=="inline"||!QUOTE_TEST_RE.test(state.tokens[blkIdx].content)||process_inlines(state.tokens[blkIdx].children,state)}function text_join(state){let curr,last,blockTokens=state.tokens,l=blockTokens.length;for(let j=0;j<l;j++){if(blockTokens[j].type!=="inline")continue;let tokens=blockTokens[j].children,max=tokens.length;for(curr=0;curr<max;curr++)tokens[curr].type==="text_special"&&(tokens[curr].type="text");for(curr=last=0;curr<max;curr++)tokens[curr].type==="text"&&curr+1<max&&tokens[curr+1].type==="text"?tokens[curr+1].content=tokens[curr].content+tokens[curr+1].content:(curr!==last&&(tokens[last]=tokens[curr]),last++);curr!==last&&(tokens.length=last)}}var _rules=[["normalize",normalize2],["block",block],["inline",inline],["linkify",linkify],["replacements",replace],["smartquotes",smartquotes],["text_join",text_join]];function Core(){this.ruler=new ruler_default;for(let i=0;i<_rules.length;i++)this.ruler.push(_rules[i][0],_rules[i][1])}Core.prototype.process=function(state){let rules=this.ruler.getRules("");for(let i=0,l=rules.length;i<l;i++)rules[i](state)};Core.prototype.State=state_core_default;var parser_core_default=Core;function StateBlock(src,md,env2,tokens){this.src=src,this.md=md,this.env=env2,this.tokens=tokens,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;let s=this.src;for(let start=0,pos=0,indent=0,offset=0,len=s.length,indent_found=!1;pos<len;pos++){let ch=s.charCodeAt(pos);if(!indent_found)if(isSpace(ch)){indent++,ch===9?offset+=4-offset%4:offset++;continue}else indent_found=!0;(ch===10||pos===len-1)&&(ch!==10&&pos++,this.bMarks.push(start),this.eMarks.push(pos),this.tShift.push(indent),this.sCount.push(offset),this.bsCount.push(0),indent_found=!1,indent=0,offset=0,start=pos+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}StateBlock.prototype.push=function(type,tag,nesting){let token=new token_default(type,tag,nesting);return token.block=!0,nesting<0&&this.level--,token.level=this.level,nesting>0&&this.level++,this.tokens.push(token),token};StateBlock.prototype.isEmpty=function(line){return this.bMarks[line]+this.tShift[line]>=this.eMarks[line]};StateBlock.prototype.skipEmptyLines=function(from){for(let max=this.lineMax;from<max&&!(this.bMarks[from]+this.tShift[from]<this.eMarks[from]);from++);return from};StateBlock.prototype.skipSpaces=function(pos){for(let max=this.src.length;pos<max;pos++){let ch=this.src.charCodeAt(pos);if(!isSpace(ch))break}return pos};StateBlock.prototype.skipSpacesBack=function(pos,min){if(pos<=min)return pos;for(;pos>min;)if(!isSpace(this.src.charCodeAt(--pos)))return pos+1;return pos};StateBlock.prototype.skipChars=function(pos,code2){for(let max=this.src.length;pos<max&&this.src.charCodeAt(pos)===code2;pos++);return pos};StateBlock.prototype.skipCharsBack=function(pos,code2,min){if(pos<=min)return pos;for(;pos>min;)if(code2!==this.src.charCodeAt(--pos))return pos+1;return pos};StateBlock.prototype.getLines=function(begin,end,indent,keepLastLF){if(begin>=end)return"";let queue=new Array(end-begin);for(let i=0,line=begin;line<end;line++,i++){let lineIndent=0,lineStart=this.bMarks[line],first=lineStart,last;for(line+1<end||keepLastLF?last=this.eMarks[line]+1:last=this.eMarks[line];first<last&&lineIndent<indent;){let ch=this.src.charCodeAt(first);if(isSpace(ch))ch===9?lineIndent+=4-(lineIndent+this.bsCount[line])%4:lineIndent++;else if(first-lineStart<this.tShift[line])lineIndent++;else break;first++}lineIndent>indent?queue[i]=new Array(lineIndent-indent+1).join(" ")+this.src.slice(first,last):queue[i]=this.src.slice(first,last)}return queue.join("")};StateBlock.prototype.Token=token_default;var state_block_default=StateBlock;var MAX_AUTOCOMPLETED_CELLS=65536;function getLine(state,line){let pos=state.bMarks[line]+state.tShift[line],max=state.eMarks[line];return state.src.slice(pos,max)}function escapedSplit(str){let result=[],max=str.length,pos=0,ch=str.charCodeAt(pos),isEscaped2=!1,lastPos=0,current="";for(;pos<max;)ch===124&&(isEscaped2?(current+=str.substring(lastPos,pos-1),lastPos=pos):(result.push(current+str.substring(lastPos,pos)),current="",lastPos=pos+1)),isEscaped2=ch===92,pos++,ch=str.charCodeAt(pos);return result.push(current+str.substring(lastPos)),result}function table(state,startLine,endLine,silent){if(startLine+2>endLine)return!1;let nextLine=startLine+1;if(state.sCount[nextLine]<state.blkIndent||state.sCount[nextLine]-state.blkIndent>=4)return!1;let pos=state.bMarks[nextLine]+state.tShift[nextLine];if(pos>=state.eMarks[nextLine])return!1;let firstCh=state.src.charCodeAt(pos++);if(firstCh!==124&&firstCh!==45&&firstCh!==58||pos>=state.eMarks[nextLine])return!1;let secondCh=state.src.charCodeAt(pos++);if(secondCh!==124&&secondCh!==45&&secondCh!==58&&!isSpace(secondCh)||firstCh===45&&isSpace(secondCh))return!1;for(;pos<state.eMarks[nextLine];){let ch=state.src.charCodeAt(pos);if(ch!==124&&ch!==45&&ch!==58&&!isSpace(ch))return!1;pos++}let lineText=getLine(state,startLine+1),columns=lineText.split("|"),aligns=[];for(let i=0;i<columns.length;i++){let t=columns[i].trim();if(!t){if(i===0||i===columns.length-1)continue;return!1}if(!/^:?-+:?$/.test(t))return!1;t.charCodeAt(t.length-1)===58?aligns.push(t.charCodeAt(0)===58?"center":"right"):t.charCodeAt(0)===58?aligns.push("left"):aligns.push("")}if(lineText=getLine(state,startLine).trim(),lineText.indexOf("|")===-1||state.sCount[startLine]-state.blkIndent>=4)return!1;columns=escapedSplit(lineText),columns.length&&columns[0]===""&&columns.shift(),columns.length&&columns[columns.length-1]===""&&columns.pop();let columnCount=columns.length;if(columnCount===0||columnCount!==aligns.length)return!1;if(silent)return!0;let oldParentType=state.parentType;state.parentType="table";let terminatorRules=state.md.block.ruler.getRules("blockquote"),token_to=state.push("table_open","table",1),tableLines=[startLine,0];token_to.map=tableLines;let token_tho=state.push("thead_open","thead",1);token_tho.map=[startLine,startLine+1];let token_htro=state.push("tr_open","tr",1);token_htro.map=[startLine,startLine+1];for(let i=0;i<columns.length;i++){let token_ho=state.push("th_open","th",1);aligns[i]&&(token_ho.attrs=[["style","text-align:"+aligns[i]]]);let token_il=state.push("inline","",0);token_il.content=columns[i].trim(),token_il.children=[],state.push("th_close","th",-1)}state.push("tr_close","tr",-1),state.push("thead_close","thead",-1);let tbodyLines,autocompletedCells=0;for(nextLine=startLine+2;nextLine<endLine&&!(state.sCount[nextLine]<state.blkIndent);nextLine++){let terminate=!1;for(let i=0,l=terminatorRules.length;i<l;i++)if(terminatorRules[i](state,nextLine,endLine,!0)){terminate=!0;break}if(terminate||(lineText=getLine(state,nextLine).trim(),!lineText)||state.sCount[nextLine]-state.blkIndent>=4||(columns=escapedSplit(lineText),columns.length&&columns[0]===""&&columns.shift(),columns.length&&columns[columns.length-1]===""&&columns.pop(),autocompletedCells+=columnCount-columns.length,autocompletedCells>MAX_AUTOCOMPLETED_CELLS))break;if(nextLine===startLine+2){let token_tbo=state.push("tbody_open","tbody",1);token_tbo.map=tbodyLines=[startLine+2,0]}let token_tro=state.push("tr_open","tr",1);token_tro.map=[nextLine,nextLine+1];for(let i=0;i<columnCount;i++){let token_tdo=state.push("td_open","td",1);aligns[i]&&(token_tdo.attrs=[["style","text-align:"+aligns[i]]]);let token_il=state.push("inline","",0);token_il.content=columns[i]?columns[i].trim():"",token_il.children=[],state.push("td_close","td",-1)}state.push("tr_close","tr",-1)}return tbodyLines&&(state.push("tbody_close","tbody",-1),tbodyLines[1]=nextLine),state.push("table_close","table",-1),tableLines[1]=nextLine,state.parentType=oldParentType,state.line=nextLine,!0}function code(state,startLine,endLine){if(state.sCount[startLine]-state.blkIndent<4)return!1;let nextLine=startLine+1,last=nextLine;for(;nextLine<endLine;){if(state.isEmpty(nextLine)){nextLine++;continue}if(state.sCount[nextLine]-state.blkIndent>=4){nextLine++,last=nextLine;continue}break}state.line=last;let token=state.push("code_block","code",0);return token.content=state.getLines(startLine,last,4+state.blkIndent,!1)+`
`,token.map=[startLine,state.line],!0}function fence(state,startLine,endLine,silent){let pos=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine];if(state.sCount[startLine]-state.blkIndent>=4||pos+3>max)return!1;let marker=state.src.charCodeAt(pos);if(marker!==126&&marker!==96)return!1;let mem=pos;pos=state.skipChars(pos,marker);let len=pos-mem;if(len<3)return!1;let markup=state.src.slice(mem,pos),params=state.src.slice(pos,max);if(marker===96&&params.indexOf(String.fromCharCode(marker))>=0)return!1;if(silent)return!0;let nextLine=startLine,haveEndMarker=!1;for(;nextLine++,!(nextLine>=endLine||(pos=mem=state.bMarks[nextLine]+state.tShift[nextLine],max=state.eMarks[nextLine],pos<max&&state.sCount[nextLine]<state.blkIndent));)if(state.src.charCodeAt(pos)===marker&&!(state.sCount[nextLine]-state.blkIndent>=4)&&(pos=state.skipChars(pos,marker),!(pos-mem<len)&&(pos=state.skipSpaces(pos),!(pos<max)))){haveEndMarker=!0;break}len=state.sCount[startLine],state.line=nextLine+(haveEndMarker?1:0);let token=state.push("fence","code",0);return token.info=params,token.content=state.getLines(startLine+1,nextLine,len,!0),token.markup=markup,token.map=[startLine,state.line],!0}function blockquote(state,startLine,endLine,silent){let pos=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine],oldLineMax=state.lineMax;if(state.sCount[startLine]-state.blkIndent>=4||state.src.charCodeAt(pos)!==62)return!1;if(silent)return!0;let oldBMarks=[],oldBSCount=[],oldSCount=[],oldTShift=[],terminatorRules=state.md.block.ruler.getRules("blockquote"),oldParentType=state.parentType;state.parentType="blockquote";let lastLineEmpty=!1,nextLine;for(nextLine=startLine;nextLine<endLine;nextLine++){let isOutdented=state.sCount[nextLine]<state.blkIndent;if(pos=state.bMarks[nextLine]+state.tShift[nextLine],max=state.eMarks[nextLine],pos>=max)break;if(state.src.charCodeAt(pos++)===62&&!isOutdented){let initial=state.sCount[nextLine]+1,spaceAfterMarker,adjustTab;state.src.charCodeAt(pos)===32?(pos++,initial++,adjustTab=!1,spaceAfterMarker=!0):state.src.charCodeAt(pos)===9?(spaceAfterMarker=!0,(state.bsCount[nextLine]+initial)%4===3?(pos++,initial++,adjustTab=!1):adjustTab=!0):spaceAfterMarker=!1;let offset=initial;for(oldBMarks.push(state.bMarks[nextLine]),state.bMarks[nextLine]=pos;pos<max;){let ch=state.src.charCodeAt(pos);if(isSpace(ch))ch===9?offset+=4-(offset+state.bsCount[nextLine]+(adjustTab?1:0))%4:offset++;else break;pos++}lastLineEmpty=pos>=max,oldBSCount.push(state.bsCount[nextLine]),state.bsCount[nextLine]=state.sCount[nextLine]+1+(spaceAfterMarker?1:0),oldSCount.push(state.sCount[nextLine]),state.sCount[nextLine]=offset-initial,oldTShift.push(state.tShift[nextLine]),state.tShift[nextLine]=pos-state.bMarks[nextLine];continue}if(lastLineEmpty)break;let terminate=!1;for(let i=0,l=terminatorRules.length;i<l;i++)if(terminatorRules[i](state,nextLine,endLine,!0)){terminate=!0;break}if(terminate){state.lineMax=nextLine,state.blkIndent!==0&&(oldBMarks.push(state.bMarks[nextLine]),oldBSCount.push(state.bsCount[nextLine]),oldTShift.push(state.tShift[nextLine]),oldSCount.push(state.sCount[nextLine]),state.sCount[nextLine]-=state.blkIndent);break}oldBMarks.push(state.bMarks[nextLine]),oldBSCount.push(state.bsCount[nextLine]),oldTShift.push(state.tShift[nextLine]),oldSCount.push(state.sCount[nextLine]),state.sCount[nextLine]=-1}let oldIndent=state.blkIndent;state.blkIndent=0;let token_o=state.push("blockquote_open","blockquote",1);token_o.markup=">";let lines=[startLine,0];token_o.map=lines,state.md.block.tokenize(state,startLine,nextLine);let token_c=state.push("blockquote_close","blockquote",-1);token_c.markup=">",state.lineMax=oldLineMax,state.parentType=oldParentType,lines[1]=state.line;for(let i=0;i<oldTShift.length;i++)state.bMarks[i+startLine]=oldBMarks[i],state.tShift[i+startLine]=oldTShift[i],state.sCount[i+startLine]=oldSCount[i],state.bsCount[i+startLine]=oldBSCount[i];return state.blkIndent=oldIndent,!0}function hr(state,startLine,endLine,silent){let max=state.eMarks[startLine];if(state.sCount[startLine]-state.blkIndent>=4)return!1;let pos=state.bMarks[startLine]+state.tShift[startLine],marker=state.src.charCodeAt(pos++);if(marker!==42&&marker!==45&&marker!==95)return!1;let cnt=1;for(;pos<max;){let ch=state.src.charCodeAt(pos++);if(ch!==marker&&!isSpace(ch))return!1;ch===marker&&cnt++}if(cnt<3)return!1;if(silent)return!0;state.line=startLine+1;let token=state.push("hr","hr",0);return token.map=[startLine,state.line],token.markup=Array(cnt+1).join(String.fromCharCode(marker)),!0}function skipBulletListMarker(state,startLine){let max=state.eMarks[startLine],pos=state.bMarks[startLine]+state.tShift[startLine],marker=state.src.charCodeAt(pos++);if(marker!==42&&marker!==45&&marker!==43)return-1;if(pos<max){let ch=state.src.charCodeAt(pos);if(!isSpace(ch))return-1}return pos}function skipOrderedListMarker(state,startLine){let start=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine],pos=start;if(pos+1>=max)return-1;let ch=state.src.charCodeAt(pos++);if(ch<48||ch>57)return-1;for(;;){if(pos>=max)return-1;if(ch=state.src.charCodeAt(pos++),ch>=48&&ch<=57){if(pos-start>=10)return-1;continue}if(ch===41||ch===46)break;return-1}return pos<max&&(ch=state.src.charCodeAt(pos),!isSpace(ch))?-1:pos}function markTightParagraphs(state,idx){let level=state.level+2;for(let i=idx+2,l=state.tokens.length-2;i<l;i++)state.tokens[i].level===level&&state.tokens[i].type==="paragraph_open"&&(state.tokens[i+2].hidden=!0,state.tokens[i].hidden=!0,i+=2)}function list(state,startLine,endLine,silent){let max,pos,start,token,nextLine=startLine,tight=!0;if(state.sCount[nextLine]-state.blkIndent>=4||state.listIndent>=0&&state.sCount[nextLine]-state.listIndent>=4&&state.sCount[nextLine]<state.blkIndent)return!1;let isTerminatingParagraph=!1;silent&&state.parentType==="paragraph"&&state.sCount[nextLine]>=state.blkIndent&&(isTerminatingParagraph=!0);let isOrdered,markerValue,posAfterMarker;if((posAfterMarker=skipOrderedListMarker(state,nextLine))>=0){if(isOrdered=!0,start=state.bMarks[nextLine]+state.tShift[nextLine],markerValue=Number(state.src.slice(start,posAfterMarker-1)),isTerminatingParagraph&&markerValue!==1)return!1}else if((posAfterMarker=skipBulletListMarker(state,nextLine))>=0)isOrdered=!1;else return!1;if(isTerminatingParagraph&&state.skipSpaces(posAfterMarker)>=state.eMarks[nextLine])return!1;if(silent)return!0;let markerCharCode=state.src.charCodeAt(posAfterMarker-1),listTokIdx=state.tokens.length;isOrdered?(token=state.push("ordered_list_open","ol",1),markerValue!==1&&(token.attrs=[["start",markerValue]])):token=state.push("bullet_list_open","ul",1);let listLines=[nextLine,0];token.map=listLines,token.markup=String.fromCharCode(markerCharCode);let prevEmptyEnd=!1,terminatorRules=state.md.block.ruler.getRules("list"),oldParentType=state.parentType;for(state.parentType="list";nextLine<endLine;){pos=posAfterMarker,max=state.eMarks[nextLine];let initial=state.sCount[nextLine]+posAfterMarker-(state.bMarks[nextLine]+state.tShift[nextLine]),offset=initial;for(;pos<max;){let ch=state.src.charCodeAt(pos);if(ch===9)offset+=4-(offset+state.bsCount[nextLine])%4;else if(ch===32)offset++;else break;pos++}let contentStart=pos,indentAfterMarker;contentStart>=max?indentAfterMarker=1:indentAfterMarker=offset-initial,indentAfterMarker>4&&(indentAfterMarker=1);let indent=initial+indentAfterMarker;token=state.push("list_item_open","li",1),token.markup=String.fromCharCode(markerCharCode);let itemLines=[nextLine,0];token.map=itemLines,isOrdered&&(token.info=state.src.slice(start,posAfterMarker-1));let oldTight=state.tight,oldTShift=state.tShift[nextLine],oldSCount=state.sCount[nextLine],oldListIndent=state.listIndent;if(state.listIndent=state.blkIndent,state.blkIndent=indent,state.tight=!0,state.tShift[nextLine]=contentStart-state.bMarks[nextLine],state.sCount[nextLine]=offset,contentStart>=max&&state.isEmpty(nextLine+1)?state.line=Math.min(state.line+2,endLine):state.md.block.tokenize(state,nextLine,endLine,!0),(!state.tight||prevEmptyEnd)&&(tight=!1),prevEmptyEnd=state.line-nextLine>1&&state.isEmpty(state.line-1),state.blkIndent=state.listIndent,state.listIndent=oldListIndent,state.tShift[nextLine]=oldTShift,state.sCount[nextLine]=oldSCount,state.tight=oldTight,token=state.push("list_item_close","li",-1),token.markup=String.fromCharCode(markerCharCode),nextLine=state.line,itemLines[1]=nextLine,nextLine>=endLine||state.sCount[nextLine]<state.blkIndent||state.sCount[nextLine]-state.blkIndent>=4)break;let terminate=!1;for(let i=0,l=terminatorRules.length;i<l;i++)if(terminatorRules[i](state,nextLine,endLine,!0)){terminate=!0;break}if(terminate)break;if(isOrdered){if(posAfterMarker=skipOrderedListMarker(state,nextLine),posAfterMarker<0)break;start=state.bMarks[nextLine]+state.tShift[nextLine]}else if(posAfterMarker=skipBulletListMarker(state,nextLine),posAfterMarker<0)break;if(markerCharCode!==state.src.charCodeAt(posAfterMarker-1))break}return isOrdered?token=state.push("ordered_list_close","ol",-1):token=state.push("bullet_list_close","ul",-1),token.markup=String.fromCharCode(markerCharCode),listLines[1]=nextLine,state.line=nextLine,state.parentType=oldParentType,tight&&markTightParagraphs(state,listTokIdx),!0}function reference(state,startLine,_endLine,silent){let pos=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine],nextLine=startLine+1;if(state.sCount[startLine]-state.blkIndent>=4||state.src.charCodeAt(pos)!==91)return!1;function getNextLine(nextLine2){let endLine=state.lineMax;if(nextLine2>=endLine||state.isEmpty(nextLine2))return null;let isContinuation=!1;if(state.sCount[nextLine2]-state.blkIndent>3&&(isContinuation=!0),state.sCount[nextLine2]<0&&(isContinuation=!0),!isContinuation){let terminatorRules=state.md.block.ruler.getRules("reference"),oldParentType=state.parentType;state.parentType="reference";let terminate=!1;for(let i=0,l=terminatorRules.length;i<l;i++)if(terminatorRules[i](state,nextLine2,endLine,!0)){terminate=!0;break}if(state.parentType=oldParentType,terminate)return null}let pos2=state.bMarks[nextLine2]+state.tShift[nextLine2],max2=state.eMarks[nextLine2];return state.src.slice(pos2,max2+1)}let str=state.src.slice(pos,max+1);max=str.length;let labelEnd=-1;for(pos=1;pos<max;pos++){let ch=str.charCodeAt(pos);if(ch===91)return!1;if(ch===93){labelEnd=pos;break}else if(ch===10){let lineContent=getNextLine(nextLine);lineContent!==null&&(str+=lineContent,max=str.length,nextLine++)}else if(ch===92&&(pos++,pos<max&&str.charCodeAt(pos)===10)){let lineContent=getNextLine(nextLine);lineContent!==null&&(str+=lineContent,max=str.length,nextLine++)}}if(labelEnd<0||str.charCodeAt(labelEnd+1)!==58)return!1;for(pos=labelEnd+2;pos<max;pos++){let ch=str.charCodeAt(pos);if(ch===10){let lineContent=getNextLine(nextLine);lineContent!==null&&(str+=lineContent,max=str.length,nextLine++)}else if(!isSpace(ch))break}let destRes=state.md.helpers.parseLinkDestination(str,pos,max);if(!destRes.ok)return!1;let href=state.md.normalizeLink(destRes.str);if(!state.md.validateLink(href))return!1;pos=destRes.pos;let destEndPos=pos,destEndLineNo=nextLine,start=pos;for(;pos<max;pos++){let ch=str.charCodeAt(pos);if(ch===10){let lineContent=getNextLine(nextLine);lineContent!==null&&(str+=lineContent,max=str.length,nextLine++)}else if(!isSpace(ch))break}let titleRes=state.md.helpers.parseLinkTitle(str,pos,max);for(;titleRes.can_continue;){let lineContent=getNextLine(nextLine);if(lineContent===null)break;str+=lineContent,pos=max,max=str.length,nextLine++,titleRes=state.md.helpers.parseLinkTitle(str,pos,max,titleRes)}let title;for(pos<max&&start!==pos&&titleRes.ok?(title=titleRes.str,pos=titleRes.pos):(title="",pos=destEndPos,nextLine=destEndLineNo);pos<max;){let ch=str.charCodeAt(pos);if(!isSpace(ch))break;pos++}if(pos<max&&str.charCodeAt(pos)!==10&&title)for(title="",pos=destEndPos,nextLine=destEndLineNo;pos<max;){let ch=str.charCodeAt(pos);if(!isSpace(ch))break;pos++}if(pos<max&&str.charCodeAt(pos)!==10)return!1;let label=normalizeReference(str.slice(1,labelEnd));return label?(silent||(typeof state.env.references>"u"&&(state.env.references={}),typeof state.env.references[label]>"u"&&(state.env.references[label]={title,href}),state.line=nextLine),!0):!1}var html_blocks_default=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"];var attr_name="[a-zA-Z_:][a-zA-Z0-9:._-]*",unquoted="[^\"'=<>`\\x00-\\x20]+",single_quoted="'[^']*'",double_quoted='"[^"]*"',attr_value="(?:"+unquoted+"|"+single_quoted+"|"+double_quoted+")",attribute="(?:\\s+"+attr_name+"(?:\\s*=\\s*"+attr_value+")?)",open_tag="<[A-Za-z][A-Za-z0-9\\-]*"+attribute+"*\\s*\\/?>",close_tag="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",comment="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",processing="<[?][\\s\\S]*?[?]>",declaration="<![A-Za-z][^>]*>",cdata="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",HTML_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+"|"+comment+"|"+processing+"|"+declaration+"|"+cdata+")"),HTML_OPEN_CLOSE_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+")");var HTML_SEQUENCES=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+html_blocks_default.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(HTML_OPEN_CLOSE_TAG_RE.source+"\\s*$"),/^$/,!1]];function html_block(state,startLine,endLine,silent){let pos=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine];if(state.sCount[startLine]-state.blkIndent>=4||!state.md.options.html||state.src.charCodeAt(pos)!==60)return!1;let lineText=state.src.slice(pos,max),i=0;for(;i<HTML_SEQUENCES.length&&!HTML_SEQUENCES[i][0].test(lineText);i++);if(i===HTML_SEQUENCES.length)return!1;if(silent)return HTML_SEQUENCES[i][2];let nextLine=startLine+1;if(!HTML_SEQUENCES[i][1].test(lineText)){for(;nextLine<endLine&&!(state.sCount[nextLine]<state.blkIndent);nextLine++)if(pos=state.bMarks[nextLine]+state.tShift[nextLine],max=state.eMarks[nextLine],lineText=state.src.slice(pos,max),HTML_SEQUENCES[i][1].test(lineText)){lineText.length!==0&&nextLine++;break}}state.line=nextLine;let token=state.push("html_block","",0);return token.map=[startLine,nextLine],token.content=state.getLines(startLine,nextLine,state.blkIndent,!0),!0}function heading(state,startLine,endLine,silent){let pos=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine];if(state.sCount[startLine]-state.blkIndent>=4)return!1;let ch=state.src.charCodeAt(pos);if(ch!==35||pos>=max)return!1;let level=1;for(ch=state.src.charCodeAt(++pos);ch===35&&pos<max&&level<=6;)level++,ch=state.src.charCodeAt(++pos);if(level>6||pos<max&&!isSpace(ch))return!1;if(silent)return!0;max=state.skipSpacesBack(max,pos);let tmp=state.skipCharsBack(max,35,pos);tmp>pos&&isSpace(state.src.charCodeAt(tmp-1))&&(max=tmp),state.line=startLine+1;let token_o=state.push("heading_open","h"+String(level),1);token_o.markup="########".slice(0,level),token_o.map=[startLine,state.line];let token_i=state.push("inline","",0);token_i.content=state.src.slice(pos,max).trim(),token_i.map=[startLine,state.line],token_i.children=[];let token_c=state.push("heading_close","h"+String(level),-1);return token_c.markup="########".slice(0,level),!0}function lheading(state,startLine,endLine){let terminatorRules=state.md.block.ruler.getRules("paragraph");if(state.sCount[startLine]-state.blkIndent>=4)return!1;let oldParentType=state.parentType;state.parentType="paragraph";let level=0,marker,nextLine=startLine+1;for(;nextLine<endLine&&!state.isEmpty(nextLine);nextLine++){if(state.sCount[nextLine]-state.blkIndent>3)continue;if(state.sCount[nextLine]>=state.blkIndent){let pos=state.bMarks[nextLine]+state.tShift[nextLine],max=state.eMarks[nextLine];if(pos<max&&(marker=state.src.charCodeAt(pos),(marker===45||marker===61)&&(pos=state.skipChars(pos,marker),pos=state.skipSpaces(pos),pos>=max))){level=marker===61?1:2;break}}if(state.sCount[nextLine]<0)continue;let terminate=!1;for(let i=0,l=terminatorRules.length;i<l;i++)if(terminatorRules[i](state,nextLine,endLine,!0)){terminate=!0;break}if(terminate)break}if(!level)return!1;let content=state.getLines(startLine,nextLine,state.blkIndent,!1).trim();state.line=nextLine+1;let token_o=state.push("heading_open","h"+String(level),1);token_o.markup=String.fromCharCode(marker),token_o.map=[startLine,state.line];let token_i=state.push("inline","",0);token_i.content=content,token_i.map=[startLine,state.line-1],token_i.children=[];let token_c=state.push("heading_close","h"+String(level),-1);return token_c.markup=String.fromCharCode(marker),state.parentType=oldParentType,!0}function paragraph(state,startLine,endLine){let terminatorRules=state.md.block.ruler.getRules("paragraph"),oldParentType=state.parentType,nextLine=startLine+1;for(state.parentType="paragraph";nextLine<endLine&&!state.isEmpty(nextLine);nextLine++){if(state.sCount[nextLine]-state.blkIndent>3||state.sCount[nextLine]<0)continue;let terminate=!1;for(let i=0,l=terminatorRules.length;i<l;i++)if(terminatorRules[i](state,nextLine,endLine,!0)){terminate=!0;break}if(terminate)break}let content=state.getLines(startLine,nextLine,state.blkIndent,!1).trim();state.line=nextLine;let token_o=state.push("paragraph_open","p",1);token_o.map=[startLine,state.line];let token_i=state.push("inline","",0);return token_i.content=content,token_i.map=[startLine,state.line],token_i.children=[],state.push("paragraph_close","p",-1),state.parentType=oldParentType,!0}var _rules2=[["table",table,["paragraph","reference"]],["code",code],["fence",fence,["paragraph","reference","blockquote","list"]],["blockquote",blockquote,["paragraph","reference","blockquote","list"]],["hr",hr,["paragraph","reference","blockquote","list"]],["list",list,["paragraph","reference","blockquote"]],["reference",reference],["html_block",html_block,["paragraph","reference","blockquote"]],["heading",heading,["paragraph","reference","blockquote"]],["lheading",lheading],["paragraph",paragraph]];function ParserBlock(){this.ruler=new ruler_default;for(let i=0;i<_rules2.length;i++)this.ruler.push(_rules2[i][0],_rules2[i][1],{alt:(_rules2[i][2]||[]).slice()})}ParserBlock.prototype.tokenize=function(state,startLine,endLine){let rules=this.ruler.getRules(""),len=rules.length,maxNesting=state.md.options.maxNesting,line=startLine,hasEmptyLines=!1;for(;line<endLine&&(state.line=line=state.skipEmptyLines(line),!(line>=endLine||state.sCount[line]<state.blkIndent));){if(state.level>=maxNesting){state.line=endLine;break}let prevLine=state.line,ok=!1;for(let i=0;i<len;i++)if(ok=rules[i](state,line,endLine,!1),ok){if(prevLine>=state.line)throw new Error("block rule didn't increment state.line");break}if(!ok)throw new Error("none of the block rules matched");state.tight=!hasEmptyLines,state.isEmpty(state.line-1)&&(hasEmptyLines=!0),line=state.line,line<endLine&&state.isEmpty(line)&&(hasEmptyLines=!0,line++,state.line=line)}};ParserBlock.prototype.parse=function(src,md,env2,outTokens){if(!src)return;let state=new this.State(src,md,env2,outTokens);this.tokenize(state,state.line,state.lineMax)};ParserBlock.prototype.State=state_block_default;var parser_block_default=ParserBlock;function StateInline(src,md,env2,outTokens){this.src=src,this.env=env2,this.md=md,this.tokens=outTokens,this.tokens_meta=Array(outTokens.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}StateInline.prototype.pushPending=function(){let token=new token_default("text","",0);return token.content=this.pending,token.level=this.pendingLevel,this.tokens.push(token),this.pending="",token};StateInline.prototype.push=function(type,tag,nesting){this.pending&&this.pushPending();let token=new token_default(type,tag,nesting),token_meta=null;return nesting<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),token.level=this.level,nesting>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],token_meta={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(token),this.tokens_meta.push(token_meta),token};StateInline.prototype.scanDelims=function(start,canSplitWord){let max=this.posMax,marker=this.src.charCodeAt(start),lastChar=start>0?this.src.charCodeAt(start-1):32,pos=start;for(;pos<max&&this.src.charCodeAt(pos)===marker;)pos++;let count=pos-start,nextChar=pos<max?this.src.charCodeAt(pos):32,isLastPunctChar=isMdAsciiPunct(lastChar)||isPunctChar(String.fromCharCode(lastChar)),isNextPunctChar=isMdAsciiPunct(nextChar)||isPunctChar(String.fromCharCode(nextChar)),isLastWhiteSpace=isWhiteSpace(lastChar),isNextWhiteSpace=isWhiteSpace(nextChar),left_flanking=!isNextWhiteSpace&&(!isNextPunctChar||isLastWhiteSpace||isLastPunctChar),right_flanking=!isLastWhiteSpace&&(!isLastPunctChar||isNextWhiteSpace||isNextPunctChar);return{can_open:left_flanking&&(canSplitWord||!right_flanking||isLastPunctChar),can_close:right_flanking&&(canSplitWord||!left_flanking||isNextPunctChar),length:count}};StateInline.prototype.Token=token_default;var state_inline_default=StateInline;function isTerminatorChar(ch){switch(ch){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function text(state,silent){let pos=state.pos;for(;pos<state.posMax&&!isTerminatorChar(state.src.charCodeAt(pos));)pos++;return pos===state.pos?!1:(silent||(state.pending+=state.src.slice(state.pos,pos)),state.pos=pos,!0)}var SCHEME_RE=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function linkify2(state,silent){if(!state.md.options.linkify||state.linkLevel>0)return!1;let pos=state.pos,max=state.posMax;if(pos+3>max||state.src.charCodeAt(pos)!==58||state.src.charCodeAt(pos+1)!==47||state.src.charCodeAt(pos+2)!==47)return!1;let match2=state.pending.match(SCHEME_RE);if(!match2)return!1;let proto=match2[1],link3=state.md.linkify.matchAtStart(state.src.slice(pos-proto.length));if(!link3)return!1;let url=link3.url;if(url.length<=proto.length)return!1;url=url.replace(/\*+$/,"");let fullUrl=state.md.normalizeLink(url);if(!state.md.validateLink(fullUrl))return!1;if(!silent){state.pending=state.pending.slice(0,-proto.length);let token_o=state.push("link_open","a",1);token_o.attrs=[["href",fullUrl]],token_o.markup="linkify",token_o.info="auto";let token_t=state.push("text","",0);token_t.content=state.md.normalizeLinkText(url);let token_c=state.push("link_close","a",-1);token_c.markup="linkify",token_c.info="auto"}return state.pos+=url.length-proto.length,!0}function newline(state,silent){let pos=state.pos;if(state.src.charCodeAt(pos)!==10)return!1;let pmax=state.pending.length-1,max=state.posMax;if(!silent)if(pmax>=0&&state.pending.charCodeAt(pmax)===32)if(pmax>=1&&state.pending.charCodeAt(pmax-1)===32){let ws=pmax-1;for(;ws>=1&&state.pending.charCodeAt(ws-1)===32;)ws--;state.pending=state.pending.slice(0,ws),state.push("hardbreak","br",0)}else state.pending=state.pending.slice(0,-1),state.push("softbreak","br",0);else state.push("softbreak","br",0);for(pos++;pos<max&&isSpace(state.src.charCodeAt(pos));)pos++;return state.pos=pos,!0}var ESCAPED=[];for(let i=0;i<256;i++)ESCAPED.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(ch){ESCAPED[ch.charCodeAt(0)]=1});function escape3(state,silent){let pos=state.pos,max=state.posMax;if(state.src.charCodeAt(pos)!==92||(pos++,pos>=max))return!1;let ch1=state.src.charCodeAt(pos);if(ch1===10){for(silent||state.push("hardbreak","br",0),pos++;pos<max&&(ch1=state.src.charCodeAt(pos),!!isSpace(ch1));)pos++;return state.pos=pos,!0}let escapedStr=state.src[pos];if(ch1>=55296&&ch1<=56319&&pos+1<max){let ch2=state.src.charCodeAt(pos+1);ch2>=56320&&ch2<=57343&&(escapedStr+=state.src[pos+1],pos++)}let origStr="\\"+escapedStr;if(!silent){let token=state.push("text_special","",0);ch1<256&&ESCAPED[ch1]!==0?token.content=escapedStr:token.content=origStr,token.markup=origStr,token.info="escape"}return state.pos=pos+1,!0}function backtick(state,silent){let pos=state.pos;if(state.src.charCodeAt(pos)!==96)return!1;let start=pos;pos++;let max=state.posMax;for(;pos<max&&state.src.charCodeAt(pos)===96;)pos++;let marker=state.src.slice(start,pos),openerLength=marker.length;if(state.backticksScanned&&(state.backticks[openerLength]||0)<=start)return silent||(state.pending+=marker),state.pos+=openerLength,!0;let matchEnd=pos,matchStart;for(;(matchStart=state.src.indexOf("`",matchEnd))!==-1;){for(matchEnd=matchStart+1;matchEnd<max&&state.src.charCodeAt(matchEnd)===96;)matchEnd++;let closerLength=matchEnd-matchStart;if(closerLength===openerLength){if(!silent){let token=state.push("code_inline","code",0);token.markup=marker,token.content=state.src.slice(pos,matchStart).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return state.pos=matchEnd,!0}state.backticks[closerLength]=matchStart}return state.backticksScanned=!0,silent||(state.pending+=marker),state.pos+=openerLength,!0}function strikethrough_tokenize(state,silent){let start=state.pos,marker=state.src.charCodeAt(start);if(silent||marker!==126)return!1;let scanned=state.scanDelims(state.pos,!0),len=scanned.length,ch=String.fromCharCode(marker);if(len<2)return!1;let token;len%2&&(token=state.push("text","",0),token.content=ch,len--);for(let i=0;i<len;i+=2)token=state.push("text","",0),token.content=ch+ch,state.delimiters.push({marker,length:0,token:state.tokens.length-1,end:-1,open:scanned.can_open,close:scanned.can_close});return state.pos+=scanned.length,!0}function postProcess(state,delimiters){let token,loneMarkers=[],max=delimiters.length;for(let i=0;i<max;i++){let startDelim=delimiters[i];if(startDelim.marker!==126||startDelim.end===-1)continue;let endDelim=delimiters[startDelim.end];token=state.tokens[startDelim.token],token.type="s_open",token.tag="s",token.nesting=1,token.markup="~~",token.content="",token=state.tokens[endDelim.token],token.type="s_close",token.tag="s",token.nesting=-1,token.markup="~~",token.content="",state.tokens[endDelim.token-1].type==="text"&&state.tokens[endDelim.token-1].content==="~"&&loneMarkers.push(endDelim.token-1)}for(;loneMarkers.length;){let i=loneMarkers.pop(),j=i+1;for(;j<state.tokens.length&&state.tokens[j].type==="s_close";)j++;j--,i!==j&&(token=state.tokens[j],state.tokens[j]=state.tokens[i],state.tokens[i]=token)}}function strikethrough_postProcess(state){let tokens_meta=state.tokens_meta,max=state.tokens_meta.length;postProcess(state,state.delimiters);for(let curr=0;curr<max;curr++)tokens_meta[curr]&&tokens_meta[curr].delimiters&&postProcess(state,tokens_meta[curr].delimiters)}var strikethrough_default={tokenize:strikethrough_tokenize,postProcess:strikethrough_postProcess};function emphasis_tokenize(state,silent){let start=state.pos,marker=state.src.charCodeAt(start);if(silent||marker!==95&&marker!==42)return!1;let scanned=state.scanDelims(state.pos,marker===42);for(let i=0;i<scanned.length;i++){let token=state.push("text","",0);token.content=String.fromCharCode(marker),state.delimiters.push({marker,length:scanned.length,token:state.tokens.length-1,end:-1,open:scanned.can_open,close:scanned.can_close})}return state.pos+=scanned.length,!0}function postProcess2(state,delimiters){let max=delimiters.length;for(let i=max-1;i>=0;i--){let startDelim=delimiters[i];if(startDelim.marker!==95&&startDelim.marker!==42||startDelim.end===-1)continue;let endDelim=delimiters[startDelim.end],isStrong=i>0&&delimiters[i-1].end===startDelim.end+1&&delimiters[i-1].marker===startDelim.marker&&delimiters[i-1].token===startDelim.token-1&&delimiters[startDelim.end+1].token===endDelim.token+1,ch=String.fromCharCode(startDelim.marker),token_o=state.tokens[startDelim.token];token_o.type=isStrong?"strong_open":"em_open",token_o.tag=isStrong?"strong":"em",token_o.nesting=1,token_o.markup=isStrong?ch+ch:ch,token_o.content="";let token_c=state.tokens[endDelim.token];token_c.type=isStrong?"strong_close":"em_close",token_c.tag=isStrong?"strong":"em",token_c.nesting=-1,token_c.markup=isStrong?ch+ch:ch,token_c.content="",isStrong&&(state.tokens[delimiters[i-1].token].content="",state.tokens[delimiters[startDelim.end+1].token].content="",i--)}}function emphasis_post_process(state){let tokens_meta=state.tokens_meta,max=state.tokens_meta.length;postProcess2(state,state.delimiters);for(let curr=0;curr<max;curr++)tokens_meta[curr]&&tokens_meta[curr].delimiters&&postProcess2(state,tokens_meta[curr].delimiters)}var emphasis_default={tokenize:emphasis_tokenize,postProcess:emphasis_post_process};function link2(state,silent){let code2,label,res,ref,href="",title="",start=state.pos,parseReference=!0;if(state.src.charCodeAt(state.pos)!==91)return!1;let oldPos=state.pos,max=state.posMax,labelStart=state.pos+1,labelEnd=state.md.helpers.parseLinkLabel(state,state.pos,!0);if(labelEnd<0)return!1;let pos=labelEnd+1;if(pos<max&&state.src.charCodeAt(pos)===40){for(parseReference=!1,pos++;pos<max&&(code2=state.src.charCodeAt(pos),!(!isSpace(code2)&&code2!==10));pos++);if(pos>=max)return!1;if(start=pos,res=state.md.helpers.parseLinkDestination(state.src,pos,state.posMax),res.ok){for(href=state.md.normalizeLink(res.str),state.md.validateLink(href)?pos=res.pos:href="",start=pos;pos<max&&(code2=state.src.charCodeAt(pos),!(!isSpace(code2)&&code2!==10));pos++);if(res=state.md.helpers.parseLinkTitle(state.src,pos,state.posMax),pos<max&&start!==pos&&res.ok)for(title=res.str,pos=res.pos;pos<max&&(code2=state.src.charCodeAt(pos),!(!isSpace(code2)&&code2!==10));pos++);}(pos>=max||state.src.charCodeAt(pos)!==41)&&(parseReference=!0),pos++}if(parseReference){if(typeof state.env.references>"u")return!1;if(pos<max&&state.src.charCodeAt(pos)===91?(start=pos+1,pos=state.md.helpers.parseLinkLabel(state,pos),pos>=0?label=state.src.slice(start,pos++):pos=labelEnd+1):pos=labelEnd+1,label||(label=state.src.slice(labelStart,labelEnd)),ref=state.env.references[normalizeReference(label)],!ref)return state.pos=oldPos,!1;href=ref.href,title=ref.title}if(!silent){state.pos=labelStart,state.posMax=labelEnd;let token_o=state.push("link_open","a",1),attrs=[["href",href]];token_o.attrs=attrs,title&&attrs.push(["title",title]),state.linkLevel++,state.md.inline.tokenize(state),state.linkLevel--,state.push("link_close","a",-1)}return state.pos=pos,state.posMax=max,!0}function image(state,silent){let code2,content,label,pos,ref,res,title,start,href="",oldPos=state.pos,max=state.posMax;if(state.src.charCodeAt(state.pos)!==33||state.src.charCodeAt(state.pos+1)!==91)return!1;let labelStart=state.pos+2,labelEnd=state.md.helpers.parseLinkLabel(state,state.pos+1,!1);if(labelEnd<0)return!1;if(pos=labelEnd+1,pos<max&&state.src.charCodeAt(pos)===40){for(pos++;pos<max&&(code2=state.src.charCodeAt(pos),!(!isSpace(code2)&&code2!==10));pos++);if(pos>=max)return!1;for(start=pos,res=state.md.helpers.parseLinkDestination(state.src,pos,state.posMax),res.ok&&(href=state.md.normalizeLink(res.str),state.md.validateLink(href)?pos=res.pos:href=""),start=pos;pos<max&&(code2=state.src.charCodeAt(pos),!(!isSpace(code2)&&code2!==10));pos++);if(res=state.md.helpers.parseLinkTitle(state.src,pos,state.posMax),pos<max&&start!==pos&&res.ok)for(title=res.str,pos=res.pos;pos<max&&(code2=state.src.charCodeAt(pos),!(!isSpace(code2)&&code2!==10));pos++);else title="";if(pos>=max||state.src.charCodeAt(pos)!==41)return state.pos=oldPos,!1;pos++}else{if(typeof state.env.references>"u")return!1;if(pos<max&&state.src.charCodeAt(pos)===91?(start=pos+1,pos=state.md.helpers.parseLinkLabel(state,pos),pos>=0?label=state.src.slice(start,pos++):pos=labelEnd+1):pos=labelEnd+1,label||(label=state.src.slice(labelStart,labelEnd)),ref=state.env.references[normalizeReference(label)],!ref)return state.pos=oldPos,!1;href=ref.href,title=ref.title}if(!silent){content=state.src.slice(labelStart,labelEnd);let tokens=[];state.md.inline.parse(content,state.md,state.env,tokens);let token=state.push("image","img",0),attrs=[["src",href],["alt",""]];token.attrs=attrs,token.children=tokens,token.content=content,title&&attrs.push(["title",title])}return state.pos=pos,state.posMax=max,!0}var EMAIL_RE=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,AUTOLINK_RE=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function autolink(state,silent){let pos=state.pos;if(state.src.charCodeAt(pos)!==60)return!1;let start=state.pos,max=state.posMax;for(;;){if(++pos>=max)return!1;let ch=state.src.charCodeAt(pos);if(ch===60)return!1;if(ch===62)break}let url=state.src.slice(start+1,pos);if(AUTOLINK_RE.test(url)){let fullUrl=state.md.normalizeLink(url);if(!state.md.validateLink(fullUrl))return!1;if(!silent){let token_o=state.push("link_open","a",1);token_o.attrs=[["href",fullUrl]],token_o.markup="autolink",token_o.info="auto";let token_t=state.push("text","",0);token_t.content=state.md.normalizeLinkText(url);let token_c=state.push("link_close","a",-1);token_c.markup="autolink",token_c.info="auto"}return state.pos+=url.length+2,!0}if(EMAIL_RE.test(url)){let fullUrl=state.md.normalizeLink("mailto:"+url);if(!state.md.validateLink(fullUrl))return!1;if(!silent){let token_o=state.push("link_open","a",1);token_o.attrs=[["href",fullUrl]],token_o.markup="autolink",token_o.info="auto";let token_t=state.push("text","",0);token_t.content=state.md.normalizeLinkText(url);let token_c=state.push("link_close","a",-1);token_c.markup="autolink",token_c.info="auto"}return state.pos+=url.length+2,!0}return!1}function isLinkOpen2(str){return/^<a[>\s]/i.test(str)}function isLinkClose2(str){return/^<\/a\s*>/i.test(str)}function isLetter(ch){let lc=ch|32;return lc>=97&&lc<=122}function html_inline(state,silent){if(!state.md.options.html)return!1;let max=state.posMax,pos=state.pos;if(state.src.charCodeAt(pos)!==60||pos+2>=max)return!1;let ch=state.src.charCodeAt(pos+1);if(ch!==33&&ch!==63&&ch!==47&&!isLetter(ch))return!1;let match2=state.src.slice(pos).match(HTML_TAG_RE);if(!match2)return!1;if(!silent){let token=state.push("html_inline","",0);token.content=match2[0],isLinkOpen2(token.content)&&state.linkLevel++,isLinkClose2(token.content)&&state.linkLevel--}return state.pos+=match2[0].length,!0}var DIGITAL_RE=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,NAMED_RE=/^&([a-z][a-z0-9]{1,31});/i;function entity(state,silent){let pos=state.pos,max=state.posMax;if(state.src.charCodeAt(pos)!==38||pos+1>=max)return!1;if(state.src.charCodeAt(pos+1)===35){let match2=state.src.slice(pos).match(DIGITAL_RE);if(match2){if(!silent){let code2=match2[1][0].toLowerCase()==="x"?parseInt(match2[1].slice(1),16):parseInt(match2[1],10),token=state.push("text_special","",0);token.content=isValidEntityCode(code2)?fromCodePoint2(code2):fromCodePoint2(65533),token.markup=match2[0],token.info="entity"}return state.pos+=match2[0].length,!0}}else{let match2=state.src.slice(pos).match(NAMED_RE);if(match2){let decoded=decodeHTML(match2[0]);if(decoded!==match2[0]){if(!silent){let token=state.push("text_special","",0);token.content=decoded,token.markup=match2[0],token.info="entity"}return state.pos+=match2[0].length,!0}}}return!1}function processDelimiters(delimiters){let openersBottom={},max=delimiters.length;if(!max)return;let headerIdx=0,lastTokenIdx=-2,jumps=[];for(let closerIdx=0;closerIdx<max;closerIdx++){let closer=delimiters[closerIdx];if(jumps.push(0),(delimiters[headerIdx].marker!==closer.marker||lastTokenIdx!==closer.token-1)&&(headerIdx=closerIdx),lastTokenIdx=closer.token,closer.length=closer.length||0,!closer.close)continue;openersBottom.hasOwnProperty(closer.marker)||(openersBottom[closer.marker]=[-1,-1,-1,-1,-1,-1]);let minOpenerIdx=openersBottom[closer.marker][(closer.open?3:0)+closer.length%3],openerIdx=headerIdx-jumps[headerIdx]-1,newMinOpenerIdx=openerIdx;for(;openerIdx>minOpenerIdx;openerIdx-=jumps[openerIdx]+1){let opener=delimiters[openerIdx];if(opener.marker===closer.marker&&opener.open&&opener.end<0){let isOddMatch=!1;if((opener.close||closer.open)&&(opener.length+closer.length)%3===0&&(opener.length%3!==0||closer.length%3!==0)&&(isOddMatch=!0),!isOddMatch){let lastJump=openerIdx>0&&!delimiters[openerIdx-1].open?jumps[openerIdx-1]+1:0;jumps[closerIdx]=closerIdx-openerIdx+lastJump,jumps[openerIdx]=lastJump,closer.open=!1,opener.end=closerIdx,opener.close=!1,newMinOpenerIdx=-1,lastTokenIdx=-2;break}}}newMinOpenerIdx!==-1&&(openersBottom[closer.marker][(closer.open?3:0)+(closer.length||0)%3]=newMinOpenerIdx)}}function link_pairs(state){let tokens_meta=state.tokens_meta,max=state.tokens_meta.length;processDelimiters(state.delimiters);for(let curr=0;curr<max;curr++)tokens_meta[curr]&&tokens_meta[curr].delimiters&&processDelimiters(tokens_meta[curr].delimiters)}function fragments_join(state){let curr,last,level=0,tokens=state.tokens,max=state.tokens.length;for(curr=last=0;curr<max;curr++)tokens[curr].nesting<0&&level--,tokens[curr].level=level,tokens[curr].nesting>0&&level++,tokens[curr].type==="text"&&curr+1<max&&tokens[curr+1].type==="text"?tokens[curr+1].content=tokens[curr].content+tokens[curr+1].content:(curr!==last&&(tokens[last]=tokens[curr]),last++);curr!==last&&(tokens.length=last)}var _rules3=[["text",text],["linkify",linkify2],["newline",newline],["escape",escape3],["backticks",backtick],["strikethrough",strikethrough_default.tokenize],["emphasis",emphasis_default.tokenize],["link",link2],["image",image],["autolink",autolink],["html_inline",html_inline],["entity",entity]],_rules22=[["balance_pairs",link_pairs],["strikethrough",strikethrough_default.postProcess],["emphasis",emphasis_default.postProcess],["fragments_join",fragments_join]];function ParserInline(){this.ruler=new ruler_default;for(let i=0;i<_rules3.length;i++)this.ruler.push(_rules3[i][0],_rules3[i][1]);this.ruler2=new ruler_default;for(let i=0;i<_rules22.length;i++)this.ruler2.push(_rules22[i][0],_rules22[i][1])}ParserInline.prototype.skipToken=function(state){let pos=state.pos,rules=this.ruler.getRules(""),len=rules.length,maxNesting=state.md.options.maxNesting,cache=state.cache;if(typeof cache[pos]<"u"){state.pos=cache[pos];return}let ok=!1;if(state.level<maxNesting){for(let i=0;i<len;i++)if(state.level++,ok=rules[i](state,!0),state.level--,ok){if(pos>=state.pos)throw new Error("inline rule didn't increment state.pos");break}}else state.pos=state.posMax;ok||state.pos++,cache[pos]=state.pos};ParserInline.prototype.tokenize=function(state){let rules=this.ruler.getRules(""),len=rules.length,end=state.posMax,maxNesting=state.md.options.maxNesting;for(;state.pos<end;){let prevPos=state.pos,ok=!1;if(state.level<maxNesting){for(let i=0;i<len;i++)if(ok=rules[i](state,!1),ok){if(prevPos>=state.pos)throw new Error("inline rule didn't increment state.pos");break}}if(ok){if(state.pos>=end)break;continue}state.pending+=state.src[state.pos++]}state.pending&&state.pushPending()};ParserInline.prototype.parse=function(str,md,env2,outTokens){let state=new this.State(str,md,env2,outTokens);this.tokenize(state);let rules=this.ruler2.getRules(""),len=rules.length;for(let i=0;i<len;i++)rules[i](state)};ParserInline.prototype.State=state_inline_default;var parser_inline_default=ParserInline;function re_default(opts){let re={};opts=opts||{},re.src_Any=regex_default.source,re.src_Cc=regex_default2.source,re.src_Z=regex_default6.source,re.src_P=regex_default4.source,re.src_ZPCc=[re.src_Z,re.src_P,re.src_Cc].join("|"),re.src_ZCc=[re.src_Z,re.src_Cc].join("|");let text_separators="[><\uFF5C]";return re.src_pseudo_letter="(?:(?!"+text_separators+"|"+re.src_ZPCc+")"+re.src_Any+")",re.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",re.src_auth="(?:(?:(?!"+re.src_ZCc+"|[@/\\[\\]()]).)+@)?",re.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",re.src_host_terminator="(?=$|"+text_separators+"|"+re.src_ZPCc+")(?!"+(opts["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+re.src_ZPCc+"))",re.src_path="(?:[/?#](?:(?!"+re.src_ZCc+"|"+text_separators+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+re.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+re.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+re.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+re.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+re.src_ZCc+"|[']).)+\\'|\\'(?="+re.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+re.src_ZCc+"|[.]|$)|"+(opts["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+re.src_ZCc+"|$)|;(?!"+re.src_ZCc+"|$)|\\!+(?!"+re.src_ZCc+"|[!]|$)|\\?(?!"+re.src_ZCc+"|[?]|$))+|\\/)?",re.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',re.src_xn="xn--[a-z0-9\\-]{1,59}",re.src_domain_root="(?:"+re.src_xn+"|"+re.src_pseudo_letter+"{1,63})",re.src_domain="(?:"+re.src_xn+"|(?:"+re.src_pseudo_letter+")|(?:"+re.src_pseudo_letter+"(?:-|"+re.src_pseudo_letter+"){0,61}"+re.src_pseudo_letter+"))",re.src_host="(?:(?:(?:(?:"+re.src_domain+")\\.)*"+re.src_domain+"))",re.tpl_host_fuzzy="(?:"+re.src_ip4+"|(?:(?:(?:"+re.src_domain+")\\.)+(?:%TLDS%)))",re.tpl_host_no_ip_fuzzy="(?:(?:(?:"+re.src_domain+")\\.)+(?:%TLDS%))",re.src_host_strict=re.src_host+re.src_host_terminator,re.tpl_host_fuzzy_strict=re.tpl_host_fuzzy+re.src_host_terminator,re.src_host_port_strict=re.src_host+re.src_port+re.src_host_terminator,re.tpl_host_port_fuzzy_strict=re.tpl_host_fuzzy+re.src_port+re.src_host_terminator,re.tpl_host_port_no_ip_fuzzy_strict=re.tpl_host_no_ip_fuzzy+re.src_port+re.src_host_terminator,re.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+re.src_ZPCc+"|>|$))",re.tpl_email_fuzzy="(^|"+text_separators+'|"|\\(|'+re.src_ZCc+")("+re.src_email_name+"@"+re.tpl_host_fuzzy_strict+")",re.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+re.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+re.tpl_host_port_fuzzy_strict+re.src_path+")",re.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+re.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+re.tpl_host_port_no_ip_fuzzy_strict+re.src_path+")",re}function assign3(obj){return Array.prototype.slice.call(arguments,1).forEach(function(source){source&&Object.keys(source).forEach(function(key){obj[key]=source[key]})}),obj}function _class2(obj){return Object.prototype.toString.call(obj)}function isString3(obj){return _class2(obj)==="[object String]"}function isObject3(obj){return _class2(obj)==="[object Object]"}function isRegExp(obj){return _class2(obj)==="[object RegExp]"}function isFunction(obj){return _class2(obj)==="[object Function]"}function escapeRE2(str){return str.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var defaultOptions2={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function isOptionsObj(obj){return Object.keys(obj||{}).reduce(function(acc,k){return acc||defaultOptions2.hasOwnProperty(k)},!1)}var defaultSchemas={"http:":{validate:function(text2,pos,self2){let tail=text2.slice(pos);return self2.re.http||(self2.re.http=new RegExp("^\\/\\/"+self2.re.src_auth+self2.re.src_host_port_strict+self2.re.src_path,"i")),self2.re.http.test(tail)?tail.match(self2.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(text2,pos,self2){let tail=text2.slice(pos);return self2.re.no_http||(self2.re.no_http=new RegExp("^"+self2.re.src_auth+"(?:localhost|(?:(?:"+self2.re.src_domain+")\\.)+"+self2.re.src_domain_root+")"+self2.re.src_port+self2.re.src_host_terminator+self2.re.src_path,"i")),self2.re.no_http.test(tail)?pos>=3&&text2[pos-3]===":"||pos>=3&&text2[pos-3]==="/"?0:tail.match(self2.re.no_http)[0].length:0}},"mailto:":{validate:function(text2,pos,self2){let tail=text2.slice(pos);return self2.re.mailto||(self2.re.mailto=new RegExp("^"+self2.re.src_email_name+"@"+self2.re.src_host_strict,"i")),self2.re.mailto.test(tail)?tail.match(self2.re.mailto)[0].length:0}}},tlds_2ch_src_re="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",tlds_default="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function resetScanCache(self2){self2.__index__=-1,self2.__text_cache__=""}function createValidator(re){return function(text2,pos){let tail=text2.slice(pos);return re.test(tail)?tail.match(re)[0].length:0}}function createNormalizer(){return function(match2,self2){self2.normalize(match2)}}function compile(self2){let re=self2.re=re_default(self2.__opts__),tlds2=self2.__tlds__.slice();self2.onCompile(),self2.__tlds_replaced__||tlds2.push(tlds_2ch_src_re),tlds2.push(re.src_xn),re.src_tlds=tlds2.join("|");function untpl(tpl){return tpl.replace("%TLDS%",re.src_tlds)}re.email_fuzzy=RegExp(untpl(re.tpl_email_fuzzy),"i"),re.link_fuzzy=RegExp(untpl(re.tpl_link_fuzzy),"i"),re.link_no_ip_fuzzy=RegExp(untpl(re.tpl_link_no_ip_fuzzy),"i"),re.host_fuzzy_test=RegExp(untpl(re.tpl_host_fuzzy_test),"i");let aliases=[];self2.__compiled__={};function schemaError(name,val){throw new Error('(LinkifyIt) Invalid schema "'+name+'": '+val)}Object.keys(self2.__schemas__).forEach(function(name){let val=self2.__schemas__[name];if(val===null)return;let compiled={validate:null,link:null};if(self2.__compiled__[name]=compiled,isObject3(val)){isRegExp(val.validate)?compiled.validate=createValidator(val.validate):isFunction(val.validate)?compiled.validate=val.validate:schemaError(name,val),isFunction(val.normalize)?compiled.normalize=val.normalize:val.normalize?schemaError(name,val):compiled.normalize=createNormalizer();return}if(isString3(val)){aliases.push(name);return}schemaError(name,val)}),aliases.forEach(function(alias){self2.__compiled__[self2.__schemas__[alias]]&&(self2.__compiled__[alias].validate=self2.__compiled__[self2.__schemas__[alias]].validate,self2.__compiled__[alias].normalize=self2.__compiled__[self2.__schemas__[alias]].normalize)}),self2.__compiled__[""]={validate:null,normalize:createNormalizer()};let slist=Object.keys(self2.__compiled__).filter(function(name){return name.length>0&&self2.__compiled__[name]}).map(escapeRE2).join("|");self2.re.schema_test=RegExp("(^|(?!_)(?:[><\uFF5C]|"+re.src_ZPCc+"))("+slist+")","i"),self2.re.schema_search=RegExp("(^|(?!_)(?:[><\uFF5C]|"+re.src_ZPCc+"))("+slist+")","ig"),self2.re.schema_at_start=RegExp("^"+self2.re.schema_search.source,"i"),self2.re.pretest=RegExp("("+self2.re.schema_test.source+")|("+self2.re.host_fuzzy_test.source+")|@","i"),resetScanCache(self2)}function Match(self2,shift){let start=self2.__index__,end=self2.__last_index__,text2=self2.__text_cache__.slice(start,end);this.schema=self2.__schema__.toLowerCase(),this.index=start+shift,this.lastIndex=end+shift,this.raw=text2,this.text=text2,this.url=text2}function createMatch(self2,shift){let match2=new Match(self2,shift);return self2.__compiled__[match2.schema].normalize(match2,self2),match2}function LinkifyIt(schemas,options2){if(!(this instanceof LinkifyIt))return new LinkifyIt(schemas,options2);options2||isOptionsObj(schemas)&&(options2=schemas,schemas={}),this.__opts__=assign3({},defaultOptions2,options2),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign3({},defaultSchemas,schemas),this.__compiled__={},this.__tlds__=tlds_default,this.__tlds_replaced__=!1,this.re={},compile(this)}LinkifyIt.prototype.add=function(schema,definition){return this.__schemas__[schema]=definition,compile(this),this};LinkifyIt.prototype.set=function(options2){return this.__opts__=assign3(this.__opts__,options2),this};LinkifyIt.prototype.test=function(text2){if(this.__text_cache__=text2,this.__index__=-1,!text2.length)return!1;let m,ml,me,len,shift,next,re,tld_pos,at_pos;if(this.re.schema_test.test(text2)){for(re=this.re.schema_search,re.lastIndex=0;(m=re.exec(text2))!==null;)if(len=this.testSchemaAt(text2,m[2],re.lastIndex),len){this.__schema__=m[2],this.__index__=m.index+m[1].length,this.__last_index__=m.index+m[0].length+len;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(tld_pos=text2.search(this.re.host_fuzzy_test),tld_pos>=0&&(this.__index__<0||tld_pos<this.__index__)&&(ml=text2.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(shift=ml.index+ml[1].length,(this.__index__<0||shift<this.__index__)&&(this.__schema__="",this.__index__=shift,this.__last_index__=ml.index+ml[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(at_pos=text2.indexOf("@"),at_pos>=0&&(me=text2.match(this.re.email_fuzzy))!==null&&(shift=me.index+me[1].length,next=me.index+me[0].length,(this.__index__<0||shift<this.__index__||shift===this.__index__&&next>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=shift,this.__last_index__=next))),this.__index__>=0};LinkifyIt.prototype.pretest=function(text2){return this.re.pretest.test(text2)};LinkifyIt.prototype.testSchemaAt=function(text2,schema,pos){return this.__compiled__[schema.toLowerCase()]?this.__compiled__[schema.toLowerCase()].validate(text2,pos,this):0};LinkifyIt.prototype.match=function(text2){let result=[],shift=0;this.__index__>=0&&this.__text_cache__===text2&&(result.push(createMatch(this,shift)),shift=this.__last_index__);let tail=shift?text2.slice(shift):text2;for(;this.test(tail);)result.push(createMatch(this,shift)),tail=tail.slice(this.__last_index__),shift+=this.__last_index__;return result.length?result:null};LinkifyIt.prototype.matchAtStart=function(text2){if(this.__text_cache__=text2,this.__index__=-1,!text2.length)return null;let m=this.re.schema_at_start.exec(text2);if(!m)return null;let len=this.testSchemaAt(text2,m[2],m[0].length);return len?(this.__schema__=m[2],this.__index__=m.index+m[1].length,this.__last_index__=m.index+m[0].length+len,createMatch(this,0)):null};LinkifyIt.prototype.tlds=function(list2,keepOld){return list2=Array.isArray(list2)?list2:[list2],keepOld?(this.__tlds__=this.__tlds__.concat(list2).sort().filter(function(el,idx,arr){return el!==arr[idx-1]}).reverse(),compile(this),this):(this.__tlds__=list2.slice(),this.__tlds_replaced__=!0,compile(this),this)};LinkifyIt.prototype.normalize=function(match2){match2.schema||(match2.url="http://"+match2.url),match2.schema==="mailto:"&&!/^mailto:/i.test(match2.url)&&(match2.url="mailto:"+match2.url)};LinkifyIt.prototype.onCompile=function(){};var linkify_it_default=LinkifyIt;var import_punycode=__toESM(require_punycode(),1);var default_default={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}};var zero_default={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}};var commonmark_default={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}};var config2={default:default_default,zero:zero_default,commonmark:commonmark_default},BAD_PROTO_RE=/^(vbscript|javascript|file|data):/,GOOD_DATA_RE=/^data:image\/(gif|png|jpeg|webp);/;function validateLink(url){let str=url.trim().toLowerCase();return BAD_PROTO_RE.test(str)?GOOD_DATA_RE.test(str):!0}var RECODE_HOSTNAME_FOR=["http:","https:","mailto:"];function normalizeLink(url){let parsed=parse_default(url,!0);if(parsed.hostname&&(!parsed.protocol||RECODE_HOSTNAME_FOR.indexOf(parsed.protocol)>=0))try{parsed.hostname=import_punycode.default.toASCII(parsed.hostname)}catch{}return encode_default(format(parsed))}function normalizeLinkText(url){let parsed=parse_default(url,!0);if(parsed.hostname&&(!parsed.protocol||RECODE_HOSTNAME_FOR.indexOf(parsed.protocol)>=0))try{parsed.hostname=import_punycode.default.toUnicode(parsed.hostname)}catch{}return decode_default(format(parsed),decode_default.defaultChars+"%")}function MarkdownIt(presetName,options2){if(!(this instanceof MarkdownIt))return new MarkdownIt(presetName,options2);options2||isString2(presetName)||(options2=presetName||{},presetName="default"),this.inline=new parser_inline_default,this.block=new parser_block_default,this.core=new parser_core_default,this.renderer=new renderer_default,this.linkify=new linkify_it_default,this.validateLink=validateLink,this.normalizeLink=normalizeLink,this.normalizeLinkText=normalizeLinkText,this.utils=utils_exports,this.helpers=assign2({},helpers_exports),this.options={},this.configure(presetName),options2&&this.set(options2)}MarkdownIt.prototype.set=function(options2){return assign2(this.options,options2),this};MarkdownIt.prototype.configure=function(presets){let self2=this;if(isString2(presets)){let presetName=presets;if(presets=config2[presetName],!presets)throw new Error('Wrong `markdown-it` preset "'+presetName+'", check name')}if(!presets)throw new Error("Wrong `markdown-it` preset, can't be empty");return presets.options&&self2.set(presets.options),presets.components&&Object.keys(presets.components).forEach(function(name){presets.components[name].rules&&self2[name].ruler.enableOnly(presets.components[name].rules),presets.components[name].rules2&&self2[name].ruler2.enableOnly(presets.components[name].rules2)}),this};MarkdownIt.prototype.enable=function(list2,ignoreInvalid){let result=[];Array.isArray(list2)||(list2=[list2]),["core","block","inline"].forEach(function(chain){result=result.concat(this[chain].ruler.enable(list2,!0))},this),result=result.concat(this.inline.ruler2.enable(list2,!0));let missed=list2.filter(function(name){return result.indexOf(name)<0});if(missed.length&&!ignoreInvalid)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+missed);return this};MarkdownIt.prototype.disable=function(list2,ignoreInvalid){let result=[];Array.isArray(list2)||(list2=[list2]),["core","block","inline"].forEach(function(chain){result=result.concat(this[chain].ruler.disable(list2,!0))},this),result=result.concat(this.inline.ruler2.disable(list2,!0));let missed=list2.filter(function(name){return result.indexOf(name)<0});if(missed.length&&!ignoreInvalid)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+missed);return this};MarkdownIt.prototype.use=function(plugin2){let args=[this].concat(Array.prototype.slice.call(arguments,1));return plugin2.apply(plugin2,args),this};MarkdownIt.prototype.parse=function(src,env2){if(typeof src!="string")throw new Error("Input data should be a String");let state=new this.core.State(src,this,env2);return this.core.process(state),state.tokens};MarkdownIt.prototype.render=function(src,env2){return env2=env2||{},this.renderer.render(this.parse(src,env2),this.options,env2)};MarkdownIt.prototype.parseInline=function(src,env2){let state=new this.core.State(src,this,env2);return state.inlineMode=!0,this.core.process(state),state.tokens};MarkdownIt.prototype.renderInline=function(src,env2){return env2=env2||{},this.renderer.render(this.parseInline(src,env2),this.options,env2)};var lib_default=MarkdownIt;var import_isomorphic_git=__toESM(require_isomorphic_git());var import_simple_get=__toESM(require_simple_get(),1);function fromValue(value){let queue=[value];return{next(){return Promise.resolve({done:queue.length===0,value:queue.pop()})},return(){return queue=[],{}},[Symbol.asyncIterator](){return this}}}function getIterator(iterable){return iterable[Symbol.asyncIterator]?iterable[Symbol.asyncIterator]():iterable[Symbol.iterator]?iterable[Symbol.iterator]():iterable.next?iterable:fromValue(iterable)}async function forAwait(iterable,cb){let iter=getIterator(iterable);for(;;){let{value,done}=await iter.next();if(value&&await cb(value),done)break}iter.return&&iter.return()}function asyncIteratorToStream(iter){let{PassThrough}=require_ours(),stream=new PassThrough;return setTimeout(async()=>{await forAwait(iter,chunk=>stream.write(chunk)),stream.end()},1),stream}async function collect(iterable){let size=0,buffers=[];await forAwait(iterable,value=>{buffers.push(value),size+=value.byteLength});let result=new Uint8Array(size),nextIndex=0;for(let buffer of buffers)result.set(buffer,nextIndex),nextIndex+=buffer.byteLength;return result}function fromNodeStream(stream){let asyncIterator=Object.getOwnPropertyDescriptor(stream,Symbol.asyncIterator);if(asyncIterator&&asyncIterator.enumerable)return stream;let ended=!1,queue=[],defer={};return stream.on("data",chunk=>{queue.push(chunk),defer.resolve&&(defer.resolve({value:queue.shift(),done:!1}),defer={})}),stream.on("error",err=>{defer.reject&&(defer.reject(err),defer={})}),stream.on("end",()=>{ended=!0,defer.resolve&&(defer.resolve({done:!0}),defer={})}),{next(){return new Promise((resolve,reject)=>{if(queue.length===0&&ended)return resolve({done:!0});if(queue.length>0)return resolve({value:queue.shift(),done:!1});queue.length===0&&!ended&&(defer={resolve,reject})})},return(){stream.removeAllListeners(),stream.destroy&&stream.destroy()},[Symbol.asyncIterator](){return this}}}async function request({onProgress,url,method="GET",headers={},agent,body}){return body&&Array.isArray(body)?body=Buffer.from(await collect(body)):body&&(body=asyncIteratorToStream(body)),new Promise((resolve,reject)=>{(0,import_simple_get.default)({url,method,headers,agent,body},(err,res)=>{if(err)return reject(err);try{let iter=fromNodeStream(res);resolve({url:res.url,method:res.method,statusCode:res.statusCode,statusMessage:res.statusMessage,body:iter,headers:res.headers})}catch(e){reject(e)}})})}var index={request},node_default=index;var REPO=Object.freeze({owner:"braiins",repo:"farm-proxy",getCommitUrl(hash){return`https://github.com/${this.owner}/${this.repo}/commit/${hash}`},async getReleases(){let url=`https://api.github.com/repos/${this.owner}/${this.repo}/releases?per_page=100&page=0`;return fetch(url).then(x=>x.json())}}),markdownParser=new lib_default("default",{html:!0,linkify:!0,typographer:!0});async function getUpdateInfo(baseDir){let res={commits:[],releases:[]},gitConf={fs:import_node_fs2.default,http:node_default,dir:baseDir};await import_isomorphic_git.default.fetch(gitConf);let tags=new Map,tagNames=await import_isomorphic_git.default.listTags(gitConf);for await(let tag of tagNames){let oid=await import_isomorphic_git.default.resolveRef({...gitConf,ref:tag}),obj=await import_isomorphic_git.default.readObject({...gitConf,oid});if(obj.type==="tag"&&obj.format==="parsed"){let sha=await import_isomorphic_git.default.resolveRef({...gitConf,ref:obj.object.object});tags.set(sha,tag)}else tags.set(oid,tag)}let head=await import_isomorphic_git.default.resolveRef({...gitConf,ref:"HEAD"}),commits=await import_isomorphic_git.default.log({...gitConf,ref:"origin/master"});for(let c of commits){if(c.oid===head)break;res.commits.push({href:REPO.getCommitUrl(c.oid),tag:tags.get(c.oid),hash:c.oid.slice(0,7),subject:c.commit.message.split(`
`)[0]?.trim()??"",createAt:c.commit.author.timestamp})}return(await REPO.getReleases()).forEach(x=>{res.releases.push({tag:x.tag_name,href:x.url,createdAt:getUnixTime(new Date(x.created_at)),publishedAt:getUnixTime(new Date(x.published_at)),name:x.name,body:markdownParser.render(x.body)})}),res}function print(...args){let log=(a,b)=>global.console.log(a,import_node_util2.default.inspect(b,{colors:!0,depth:5})),[label,obj]=args;typeof label=="string"?log(label,obj):Object.entries(label).forEach(([k,v])=>{log(k,v)})}var console2={...global.console,print};function sortByName(a,b){return a.name.toLowerCase().localeCompare(b.name.toLowerCase())}var Service=class{connectRouter=router=>router.service(ConfigService,this);#logger;state;constructor(config3,logger){if(this.#logger=logger,!config3.env.FP_CONFIG_PROFILE)throw new Error("GUI: FP_CONFIG_PROFILE not provided");let FP_CONFIG_PROFILE2=import_node_path3.default.parse(config3.env.FP_CONFIG_PROFILE).base;if(this.#logger.info(`GUI: FP_CONFIG_PROFILE: "${FP_CONFIG_PROFILE2}"`),FP_CONFIG_PROFILE2!==ACTIVE_PROFILE_FULL_NAME){let message=`GUI: Set "FP_CONFIG_PROFILE=${ACTIVE_PROFILE_FULL_NAME}" as an environment variable to use the GUI.`;this.#logger.error(message),import_node_process.default.exit(0)}let{rootPath}=config3,pathConfigs=import_node_path3.default.resolve(rootPath,"config"),pathTemplates=import_node_path3.default.resolve(pathConfigs,"templates"),templateFiles=this.#getTemplates(pathTemplates);this.#logger.info(`GUI: Templates: [${templateFiles.map(f=>f.title).join(", ")}]`),this.state={config:config3,templateFiles,paths:{repo:rootPath,configs:pathConfigs,templates:pathTemplates,configTmp:import_node_path3.default.resolve(pathConfigs,"tmp"),configBak:import_node_path3.default.resolve(pathConfigs,"bak"),dotProfile:import_node_path3.default.resolve(pathConfigs,".profile"),defaultProfile:import_node_path3.default.resolve(pathConfigs,config3.env.FP_CONFIG_PROFILE)}},this.#createDirs(),this.#setInitActiveProfile()}#getTemplates(pathTemplates){let templates=[],files=[];try{files=fs_default.readdirSync(pathTemplates,{withFileTypes:!0})}catch(err){if(err instanceof Error)throw new Error(`Failed to load templates from ${pathTemplates}: ${err.message}`)}for(let file of files){let filePath=import_node_path3.default.join(pathTemplates,file.name);if(import_node_path3.default.parse(file.name).ext!==".toml")continue;let description=parse_exports.parsedConfig.normalize(parse_exports.toml.load(filePath)).description;templates.push(create(TemplateSchema,{title:import_node_path3.default.parse(file.name).name,description}))}return templates}#getProfileNameFromDotProfile(){let{dotProfile}=this.state.paths;return fs_default.existsSync(dotProfile)?parse_exports.env.load(dotProfile).ACTIVE_PROFILE??"":""}#setInitActiveProfile(){let ACTIVE_PROFILE=this.#getProfileNameFromDotProfile();ACTIVE_PROFILE&&(this.#tomlSave(this.state.paths.defaultProfile,this.#configLoadBase(ACTIVE_PROFILE)),this.reloadProxyConfig(create(ReloadProxyConfigRequestSchema,{fileName:ACTIVE_PROFILE}))),parse_exports.env.write({ACTIVE_PROFILE},this.state.paths.dotProfile,GENERATED_BY_HEADER),this.#logger.info(`GUI: Set initial active profile name: "${ACTIVE_PROFILE}"`)}#createDirs(){fs_default.mkdirSync(this.state.paths.templates,{recursive:!0}),fs_default.mkdirSync(this.state.paths.configTmp,{recursive:!0}),fs_default.mkdirSync(this.state.paths.configBak,{recursive:!0})}#getConfigFilesNames(){return fs_default.readdirSync(this.state.paths.configs,{withFileTypes:!0}).filter(x=>!(!x.name.endsWith(".toml")||RESERVED_FILE_NAMES.includes(import_node_path3.default.parse(x.name).name))).map(x=>import_node_path3.default.basename(x.name,".toml"))}#validateConfigName(name){if(!validate_exports.isValidFilename(name))throw new Error2(201,"Filename validation failed");if(validate_exports.isReservedName(name))throw new Error2(201,`"${name}" is reserved profile name. Please provide another profile name!`)}#assertConfigName(name,shouldExist,isTemplate=!1){let{templateFiles}=this.state,templateFileNames=templateFiles.map(x=>x.title),exists=(isTemplate?templateFileNames:this.#getConfigFilesNames()).includes(name),msg;if(exists&&!shouldExist&&(msg=`Config named "${name}" already exists!`),!exists&&shouldExist&&(msg=`Unknown config name "${name}"!`),msg)throw new Error2(101,msg)}#tomlLoad(filePath,isTemp=!1){let{parsedConfig:parsedConfig2,omitUnwantedKeysFromConfig:omitUnwantedKeysFromConfig2}=parse_exports;try{let loadedConfig=parse_exports.toml.load(filePath),omittedConfig=omitUnwantedKeysFromConfig2(loadedConfig);return parsedConfig2.normalize(omittedConfig,isTemp)}catch{throw new Error2(1,`Failed to load config file "${filePath}".`)}}#tomlSave(filePath,d,isTemp=!1){let{parsedConfig:parsedConfig2,omitUnwantedKeysFromConfig:omitUnwantedKeysFromConfig2}=parse_exports,denormalized=parsedConfig2.denormalize(d,isTemp),omittedConfig=omitUnwantedKeysFromConfig2(denormalized);try{parse_exports.toml.write(omittedConfig,filePath)}catch{throw new Error2(1,`Failed to save config file "${filePath}".`)}}#configLoadBase(name){let{paths}=this.state;return this.#assertConfigName(name,!0),this.#tomlLoad(import_node_path3.default.join(paths.configs,`${name}.toml`))}#configLoadTemp(name){let{paths}=this.state;this.#assertConfigName(name,!0);let tmpPath=import_node_path3.default.join(paths.configTmp,`${name}.toml`);if(fs_default.existsSync(tmpPath))return this.#tomlLoad(tmpPath,!0)}#configLoadState(name){this.#assertConfigName(name,!0);let tmp=this.#configLoadTemp(name),tgt=this.#configLoadBase(name);try{return assign({},tgt,{server:tmp?.server??tgt.server,target:tmp?.target??tgt.target,routing:tmp?.routing??tgt.routing})}catch{throw new Error2(101,"Failed to load config file.")}}#configSaveTemp(name,config3){let{paths}=this.state;this.#assertConfigName(name,!0);try{let mergedConfig=Object.assign({},this.#configLoadTemp(name),config3),configPath=import_node_path3.default.join(paths.configTmp,`${name}.toml`);this.#tomlSave(configPath,mergedConfig,!0)}catch{throw new Error2(1,"Failed to save config file.")}}async getActiveProfile(){let ACTIVE_PROFILE=this.#getProfileNameFromDotProfile();if(!ACTIVE_PROFILE)throw new Error2(201,"Please provide active profile name!");if(validate_exports.isReservedName(ACTIVE_PROFILE))throw new Error2(201,`"${ACTIVE_PROFILE}" is reserved profile name. Please provide another profile name!`);return create(ActiveProfileResponseSchema,{fileName:ACTIVE_PROFILE})}async setActiveProfile(req){let{fileName}=req,{paths}=this.state;this.#assertConfigName(fileName,!0);try{let profileName=import_node_path3.default.parse(fileName).name,r=await this.reloadProxyConfig(create(ReloadProxyConfigRequestSchema,{fileName:profileName}));return r.error?create(SetActiveProfileResponseSchema,{error:r.error}):(parse_exports.env.write({ACTIVE_PROFILE:profileName},paths.dotProfile,GENERATED_BY_HEADER),this.#tomlSave(paths.defaultProfile,this.#configLoadBase(profileName)),create(SetActiveProfileResponseSchema,{}))}catch(e){let error=e instanceof Error?e:new Error("Failed to set active config!");return create(SetActiveProfileResponseSchema,{error:error.message})}}async listConfigFiles(){return create(ListConfigFilesResponseSchema,{files:this.#getConfigFilesNames()})}async listTemplateFiles(){let{templateFiles}=this.state;return create(ListTemplateFilesResponseSchema,{files:templateFiles})}async cloneTemplateFile(req){let{sourceName,targetName}=req,{paths}=this.state;this.#validateConfigName(targetName),this.#assertConfigName(sourceName,!0,!0),this.#assertConfigName(targetName,!1);let src=import_node_path3.default.join(paths.templates,`${sourceName}.toml`),dst=import_node_path3.default.join(paths.configs,`${targetName}.toml`);try{return await fs_default.promises.copyFile(src,dst),{}}catch(e){throw new Error2(1,`Failed to clone config file: "${e.message}"!`)}}async createBlankConfigFile(req){let{fileName}=req,{paths}=this.state;this.#validateConfigName(fileName),this.#assertConfigName(fileName,!1);let dst=import_node_path3.default.join(paths.configs,`${fileName}.toml`);return fs_default.writeFileSync(dst,""),{}}async createConfigFileFromUploadedFile(req){let{fileName,fileContent}=req,{paths}=this.state;if(this.#validateConfigName(fileName),this.#assertConfigName(fileName,!1),!fileContent)throw new Error2(201,"File is missing");try{let{isValid:isValid2}=await this.validateConfigFile({$typeName:"braiins.froxy.ValidateConfigFileRequest",fileContent});if(!isValid2)throw new Error2(201,"Profile validation failed");let parsed=parse_exports.toml.parse(fileContent),dst=import_node_path3.default.join(paths.configs,`${fileName}.toml`);return this.#tomlSave(dst,parsed),{}}catch(e){throw new Error2(1,`Failed to create config file: "${e.message}"!`)}}async validateConfigFile(req){let{fileContent}=req,{parsedConfig:parsedConfig2}=parse_exports,parsed=parse_exports.toml.parse(fileContent),normalized=parsedConfig2.normalize(parsed),serverErrors=validate_exports.config.servers(normalized.server),targetErrors=validate_exports.config.targets(normalized.target),routingErrors=validate_exports.config.routings(normalized.routing,normalized.server,normalized.target),isValid2=[serverErrors,targetErrors,routingErrors].every(e=>e.isValid),errors=create(ValidationErrorsSchema,{servers:serverErrors,targets:targetErrors,routings:routingErrors});return create(ValidateConfigFileResponseSchema,{isValid:isValid2,errors})}async deleteConfigFile({fileName}){this.#assertConfigName(fileName,!0);let activeProfile=this.#getProfileNameFromDotProfile();if(fileName===activeProfile)throw new Error2(201,"Cannot delete mounted config file!");try{let{paths}=this.state,srcPath=import_node_path3.default.join(paths.configs,`${fileName}.toml`),bakPath=import_node_path3.default.join(paths.configBak,convert_exports.conf2bak(`${fileName}.toml`));return fs_default.renameSync(srcPath,bakPath),{}}catch(e){throw new Error2(1,`Failed to delete config file: "${e.message}"!`)}}async getServers(req){let{fileName}=req,conf=this.#configLoadState(fileName);return create(ServersListSchema,{servers:conf.server.map(x=>create(ServerSchema,x))})}async isServerWellFormed(req){let{fileName,server,serverName}=req;if(!server)throw new Error2(201,"Server validation failed");let servers=this.#configLoadState(fileName).server;serverName&&(servers=servers.filter(s=>s.name!==serverName));let e=validate_exports.config.server(server,servers);return create(IsServerWellFormedResponseSchema,{errors:e.errors,isValid:e.isValid})}async addServer(req){let{fileName,server}=req,{isValid:isValid2}=await this.isServerWellFormed({$typeName:"braiins.froxy.IsServerWellFormedRequest",server,fileName});if(!isValid2||!server)throw new Error2(201,"Server validation failed");let servers=this.#configLoadState(fileName).server.concat(server).sort(sortByName);return this.#configSaveTemp(fileName,{server:servers}),EmptyResponse}async updateServer(req){let{fileName,server,serverName}=req;if(!server)throw new Error2(201,"Server validation failed");let config3=this.#configLoadState(fileName),prevServer=config3.server.find(s=>s.name===serverName),servers=config3.server.filter(s=>s.name!==serverName),{isValid:isValid2}=await this.isServerWellFormed({$typeName:"braiins.froxy.IsServerWellFormedRequest",fileName,server,serverName});if(!isValid2||!prevServer)throw new Error2(201,"Server validation failed");let updatedServers=servers.concat(server).sort(sortByName),{isDepends}=await this.isServerDependsOnRouting({$typeName:"braiins.froxy.IsServerDependsOnRoutingRequest",fileName,serverName}),routings=config3.routing;return isDepends&&routings.forEach(routing=>{routing.from=routing.from.filter(name=>name!==serverName).concat(server.name)}),this.#configSaveTemp(fileName,{routing:routings,server:updatedServers}),EmptyResponse}async isServerDependsOnRouting(req){let{fileName,serverName}=req,config3=this.#configLoadState(fileName);if(!config3.server.find(s=>s.name===serverName))throw new Error2(201,"Server validation failed");let isDepends=!1;return config3.routing.forEach(r=>{r.from.includes(serverName)&&(isDepends=!0)}),create(IsServerDependsOnRoutingResponseSchema,{isDepends})}async deleteServer(req){let{serverName,fileName}=req,{isDepends}=await this.isServerDependsOnRouting({$typeName:"braiins.froxy.IsServerDependsOnRoutingRequest",fileName,serverName});if(isDepends)throw new Error2(201,"Server validation failed");let server=this.#configLoadState(fileName).server.filter(s=>s.name!==serverName);return this.#configSaveTemp(fileName,{server}),EmptyResponse}async getTargets(req){let{fileName}=req,conf=this.#configLoadState(fileName);return create(TargetsListSchema,{targets:conf.target.map(x=>create(TargetSchema,x))})}async isTargetWellFormed(req){let{fileName,target,targetName}=req;if(!target)throw new Error2(201,"Target validation failed");let targets=this.#configLoadState(fileName).target;targetName&&(targets=targets.filter(t=>t.name!==targetName));let e=validate_exports.config.target(target,targets);return create(IsTargetWellFormedResponseSchema,{errors:e.errors,isValid:e.isValid})}async addTarget(req){let{fileName,target}=req,{isValid:isValid2}=await this.isTargetWellFormed({$typeName:"braiins.froxy.IsTargetWellFormedRequest",fileName,target});if(!isValid2||!target)throw new Error2(201,"Target validation failed");let targets=this.#configLoadState(fileName).target.concat(target).sort(sortByName);return this.#configSaveTemp(fileName,{target:targets}),EmptyResponse}async isTargetDependsOnRouting(req){let{fileName,targetName}=req,config3=this.#configLoadState(fileName);if(!config3.target.find(t=>t.name===targetName))throw new Error2(201,"Target validation failed");let dependsOn=[],isDepends=!1;return config3.routing.forEach(r=>{r.goal.forEach(goal=>{goal.level.forEach(level=>{level.targets.includes(targetName)&&(isDepends=!0,dependsOn.push(goal.name))})})}),create(IsTargetDependsOnRoutingResponseSchema,{isDepends,dependsOn})}async updateTarget(req){let{fileName,target,targetName}=req;if(!target)throw new Error2(201,"Target validation failed");let config3=this.#configLoadState(fileName),prevTarget=config3.target.find(t=>t.name===targetName),targets=config3.target.filter(t=>t.name!==targetName),{isValid:isValid2}=await this.isTargetWellFormed({$typeName:"braiins.froxy.IsTargetWellFormedRequest",fileName,target,targetName});if(!isValid2||!prevTarget)throw new Error2(201,"Target validation failed");let updatedTargets=targets.concat(target),{isDepends}=await this.isTargetDependsOnRouting({$typeName:"braiins.froxy.IsTargetDependsOnRoutingRequest",fileName,targetName}),routings=config3.routing.sort(sortByName);return isDepends&&routings[0].goal.forEach(g=>{g.level.forEach(l=>{l.targets.includes(targetName)&&(l.targets=l.targets.filter(name=>name!==targetName).concat(target.name))})}),this.#configSaveTemp(fileName,{routing:routings,target:updatedTargets}),EmptyResponse}async deleteTarget(req){let{fileName,targetName}=req,{isDepends}=await this.isTargetDependsOnRouting({$typeName:"braiins.froxy.IsTargetDependsOnRoutingRequest",fileName,targetName});if(isDepends)throw new Error2(201,"Target validation failed");let target=this.#configLoadState(fileName).target.filter(t=>t.name!==targetName);return this.#configSaveTemp(fileName,{target}),EmptyResponse}async getRoutings({fileName}){let conf=this.#configLoadState(fileName);return create(RoutingsListSchema,{routings:conf.routing})}async areRoutingsWellFormed(req){let{fileName,routings}=req,conf=this.#configLoadState(fileName),res=validate_exports.config.routings(routings,conf.server,conf.target);return create(AreRoutingsWellFormedResponseSchema,res)}async setRoutings(req){let{fileName,routings}=req,{isValid:isValid2}=await this.areRoutingsWellFormed({$typeName:"braiins.froxy.AreRoutingsWellFormedRequest",fileName,routings});if(!isValid2)throw new Error2(201,"Routing validation failed");return this.#configSaveTemp(fileName,{routing:routings}),EmptyResponse}async isRoutingGoalWellFormed(req){let{fileName,goal,goalName}=req;if(!goal)throw new Error2(201,"Routing goal validation failed");let conf=this.#configLoadState(fileName),targets=Array.from(new Set(conf.target.map(x=>x.name))),routing=cloneDeep(conf.routing);routing.length===0&&routing.push(create(RoutingSchema));let goals=routing[0].goal.map(x=>x.name);goalName&&(goals=goals.filter(x=>x!==goalName));let e=validate_exports.config.routingGoal(goal,targets,goals);return create(IsRoutingGoalWellFormedResponseSchema,{errors:e.errors,isValid:e.isValid})}async addRoutingGoal(req){let{fileName,goal}=req;if(!goal)throw new Error2(201,"Routing goal validation failed");let{isValid:isValid2}=await this.isRoutingGoalWellFormed({$typeName:"braiins.froxy.IsRoutingGoalWellFormedRequest",fileName,goal});if(!isValid2)throw new Error2(201,"Routing goal validation failed");let config3=this.#configLoadState(fileName),routing=cloneDeep(config3.routing);routing.length===0&&routing.push(create(RoutingSchema));let updatedGoals=routing[0].goal.concat(goal).sort(sortByName);return routing[0].goal=updatedGoals,this.#configSaveTemp(fileName,{routing}),EmptyResponse}async deleteRoutingGoal(req){let{fileName,goalName}=req,config3=this.#configLoadState(fileName),routing=cloneDeep(config3.routing),goals=routing[0].goal.filter(g=>g.name!==goalName);return routing[0].goal=goals,this.#configSaveTemp(fileName,{routing}),EmptyResponse}async updateRoutingGoal(req){let{fileName,goal,goalName}=req;if(!goal)throw new Error2(201,"Routing goal validation failed");let config3=this.#configLoadState(fileName),routing=cloneDeep(config3.routing),prevGoal=routing[0].goal.find(g=>g.name===goalName),goals=routing[0].goal.filter(g=>g.name!==goalName),{isValid:isValid2}=await this.isRoutingGoalWellFormed({$typeName:"braiins.froxy.IsRoutingGoalWellFormedRequest",fileName,goal,goalName});if(!isValid2||!prevGoal)throw new Error2(201,"Routing goal validation failed");let updatedGoal=assign({},prevGoal,goal),updatedGoals=goals.concat(updatedGoal).sort(sortByName);return routing[0].goal=updatedGoals,this.#configSaveTemp(fileName,{routing}),EmptyResponse}async getPendingChanges(){let{paths}=this.state,files=[],tempFiles=[];fs_default.readdirSync(paths.configTmp,{withFileTypes:!0,encoding:"utf8"}).forEach(x=>{let absPath=import_node_path3.default.join(paths.configTmp,x.name);if(x.isFile()&&x.name.match(/\.toml$/)){tempFiles.push(Object.assign(x,{absPath}));return}this.#logger.info(`GUI: Removing unexpected file: ${absPath}`),fs_default.unlinkSync(absPath)});try{for await(let file of tempFiles){let fileName=import_node_path3.default.basename(file.name,".toml"),stat=fs_default.statSync(file.absPath,{bigint:!1}),contentBase=parse_exports.toml.stringify(this.#configLoadBase(fileName)),contentState=parse_exports.toml.stringify(this.#configLoadState(fileName)),contentDiff=new import_line_diff.default(contentBase,contentState).toString();contentDiff=contentDiff.split(`
`).map(x=>x.slice(1)).join(`
`),files.push(create(TempFileSchema,{fileName,content:contentDiff,createdAt:convert_exports.date2timestamp(stat.birthtime),modifiedAt:convert_exports.date2timestamp(stat.mtime)}))}}catch(e){e instanceof Error&&this.#logger.error(`getPendingChanges: ${e.message}`)}return create(GetPendingChangesResponseSchema,{files})}async commitPendingChanges(req){let{fileName}=req,{paths}=this.state;if(!this.#configLoadTemp(fileName))return create(CommitPendingChangesResponseSchema);let backupFileName=convert_exports.conf2bak(fileName),filePathBackup=import_node_path3.default.join(paths.configBak,backupFileName),filePathTarget=import_node_path3.default.join(paths.configs,`${fileName}.toml`),filePathTemp=import_node_path3.default.join(paths.configTmp,`${fileName}.toml`);try{await fs_default.promises.copyFile(filePathTarget,filePathBackup)}catch(e){return e instanceof Error&&this.#logger.error(`commitPendingChanges: ${e.message}`),create(CommitPendingChangesResponseSchema,{result:{case:"errorMessage",value:`Failed to backup current config file: ${e}`}})}try{this.#tomlSave(filePathTarget,this.#configLoadState(fileName)),fs_default.unlinkSync(filePathTemp)}catch(e){return e instanceof Error&&this.#logger.error(`commitPendingChanges: ${e.message}`),create(CommitPendingChangesResponseSchema,{result:{case:"errorMessage",value:`Failed to save changes to config file: ${e}`}})}try{this.#getProfileNameFromDotProfile()===fileName&&this.#tomlSave(this.state.paths.defaultProfile,this.#configLoadBase(fileName))}catch(e){e instanceof Error&&this.#logger.error(`commitPendingChanges: ${e.message}`)}return create(CommitPendingChangesResponseSchema,{result:{case:"backupFileName",value:backupFileName}})}async discardPendingChanges({fileName}){let{paths}=this.state;try{fs_default.unlinkSync(import_node_path3.default.join(paths.configTmp,`${fileName}.toml`))}catch(e){e instanceof Error&&this.#logger.error(`discardPendingChanges: ${e.message}`)}return EmptyResponse}async reloadProxyConfig({fileName}){if(import_node_process.default.env.NODE_ENV==="test")return create(ReloadProxyConfigResponseSchema,{});let{parsedConfig:parsedConfig2}=parse_exports,conf=parsedConfig2.denormalize(this.#configLoadBase(fileName));try{let r=await fetch(`${this.state.config.api}/configure/`,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(conf)}),responseText=await r.text();if(r.status===200)this.#logger.info(`GUI: Config validated by Farm Proxy with response: "${responseText}"`),this.#logger.info(`GUI: Reloading Farm Proxy using "${fileName}" profile`);else throw new Error(responseText)}catch(e){let message=e instanceof Error?e.message:"UNKNOWN_ERROR";return this.#logger.error(`GUI: Failed to reload Farm Proxy: ${message}`),create(ReloadProxyConfigResponseSchema,{error:message})}return create(ReloadProxyConfigResponseSchema,{})}};var InfoService2=class{connectRouter=router=>router.service(InfoService,this);state;constructor(config3){let PATH_REPO=config3.rootPath,{HOST,GRAFANA_PORT,PROMETHEUS_PORT}=getGlobalConfig(),metadata=getMetadata();this.state={metadata,defaultConfig:{$typeName:"braiins.froxy.GetDefaultConfigResponse",server:create(ServerSchema,{name:process.env.DEFAULT_SERVER_NAME??DEFAULT.SERVER_NAME,port:Number(process.env.DEFAULT_SERVER_PORT??DEFAULT.SERVER_PORT)}),target:create(TargetSchema,{name:process.env.DEFAULT_TARGET_NAME??DEFAULT.TARGET_NAME}),routingGoal:create(RoutingGoalSchema,{name:process.env.DEFAULT_ROUTING_GOAL_NAME??DEFAULT.ROUTING_GOAL_NAME})},paths:{repo:PATH_REPO},urls:{proxy:`${config3.api}/configure/`,grafana:new URL(`${HOST}:${GRAFANA_PORT}`),prometheus:new URL(`${HOST}:${PROMETHEUS_PORT}`)},config:config3}}async getRepositoryInfo(){let{paths}=this.state,res={$typeName:"braiins.froxy.GetRepositoryInfoResponse",commits:[],releases:[],error:""};try{let info=await git_exports.getUpdateInfo(paths.repo);res.commits=info.commits.map(c=>create(CommitSchema,{tag:c.tag,hash:c.hash,href:c.href,subject:c.subject,createdAt:convert_exports.tsToTimestamp(c.createAt)})),res.releases=info.releases.map(r=>create(ReleaseSchema,{tag:r.tag,url:r.href,name:r.name,body:r.body,publishedAt:convert_exports.tsToTimestamp(r.publishedAt)}))}catch(e){res.error=e.message}return res}#IS_TEST_ENV=!1;#isFulfilled=p=>this.#IS_TEST_ENV?!0:p.status==="fulfilled";async listServices(){let{urls}=this.state,[$statusProxy,$statusGrafana,$statusPrometheus]=await Promise.allSettled([fetch(urls.proxy),fetch(urls.grafana.href),fetch(urls.prometheus.href)]);return create(ListServicesResponseSchema,{proxy:{host:urls.proxy,isLive:this.#isFulfilled($statusProxy)},grafana:{host:urls.grafana.href,isLive:this.#isFulfilled($statusGrafana)},prometheus:{host:urls.prometheus.href,isLive:this.#isFulfilled($statusPrometheus)}})}async getMetadata(){return create(GetMetadataResponseSchema,this.state.metadata)}async getDefaultConfig(){return create(GetDefaultConfigResponseSchema,this.state.defaultConfig)}};async function getServer({rootPath,logLevel="info",webAssets}){let NODE_ENV=import_node_process2.default.env.NODE_ENV,API_ENDPOINT=import_node_process2.default.env.API_ENDPOINT,FP_CONFIG_PROFILE2=import_node_process2.default.env.FP_CONFIG_PROFILE,CLIENT_BUILD_PATH=import_node_path4.default.resolve(rootPath,"build","client"),staticPath=webAssets||CLIENT_BUILD_PATH,server=(0,import_fastify.default)({ignoreTrailingSlash:!0,logger:{stream:src_default2({translateTime:"HH:MM:ss Z",ignore:"pid,hostname",colorize:!0})}});if(NODE_ENV==="development"){let HMR_PROXY_HOST=import_node_process2.default.env.HMR_PROXY_HOST??"http://0.0.0.0:9001";server.log.info(`GUI: NODE_ENV: ${NODE_ENV}`),server.log.info(`GUI: HMR_PROXY_HOST: ${HMR_PROXY_HOST}`),server.register(import_http_proxy.default,{upstream:`${HMR_PROXY_HOST}/__hmr`,prefix:"/__hmr"})}await server.register(src_default,{logLevel}),await server.register(fastifyConnectPlugin,{routes(router){new InfoService2({rootPath,logLevel,api:API_ENDPOINT}).connectRouter(router),new Service({rootPath,logLevel,api:API_ENDPOINT,env:{FP_CONFIG_PROFILE:FP_CONFIG_PROFILE2}},server.log).connectRouter(router)},prefix:"api",logLevel,grpc:!0,grpcWeb:!0,connect:!0}),server.post("/reset-fs",()=>(FS.resetFs(),"done")),await server.register(import_static.default,{prefix:"/",root:[staticPath]});async function getIndex(_,reply){return reply.header("Content-Type","text/html"),import_node_fs3.default.readFile(import_node_path4.default.join(staticPath,"/index.html"),(err,fileBuffer)=>reply.send(err||fileBuffer)),reply}return server.get("/",getIndex),server.setNotFoundHandler(getIndex),server}var{values}=(0,import_node_util3.parseArgs)({options:{assets:{type:"string"}}}),{assets}=values;(async()=>{let server=await getServer({logLevel:"info",rootPath:import_node_process2.default.cwd(),webAssets:assets});server.log.info(" - "),await server.listen({host:"0.0.0.0",port:7777}),server.log.info(" - ")})();
//# sourceMappingURL=index.cjs.map
