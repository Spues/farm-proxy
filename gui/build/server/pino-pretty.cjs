"use strict";var __getOwnPropNames=Object.getOwnPropertyNames;var __commonJS=(cb,mod)=>function(){return mod||(0,cb[__getOwnPropNames(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports};var require_colorette=__commonJS({"../../../../node_modules/colorette/index.cjs"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var tty=require("tty");function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach(function(k){if(k!=="default"){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:!0,get:function(){return e[k]}})}}),n.default=e,Object.freeze(n)}var tty__namespace=_interopNamespace(tty),{env={},argv=[],platform=""}=typeof process>"u"?{}:process,isDisabled="NO_COLOR"in env||argv.includes("--no-color"),isForced="FORCE_COLOR"in env||argv.includes("--color"),isWindows=platform==="win32",isDumbTerminal=env.TERM==="dumb",isCompatibleTerminal=tty__namespace&&tty__namespace.isatty&&tty__namespace.isatty(1)&&env.TERM&&!isDumbTerminal,isCI="CI"in env&&("GITHUB_ACTIONS"in env||"GITLAB_CI"in env||"CIRCLECI"in env),isColorSupported2=!isDisabled&&(isForced||isWindows&&!isDumbTerminal||isCompatibleTerminal||isCI),replaceClose=(index,string,close,replace,head=string.substring(0,index)+replace,tail=string.substring(index+close.length),next=tail.indexOf(close))=>head+(next<0?tail:replaceClose(next,tail,close,replace)),clearBleed=(index,string,open,close,replace)=>index<0?open+string+close:open+replaceClose(index,string,close,replace)+close,filterEmpty=(open,close,replace=open,at=open.length+1)=>string=>string||!(string===""||string===void 0)?clearBleed((""+string).indexOf(close,at),string,open,close,replace):"",init=(open,close,replace)=>filterEmpty(`\x1B[${open}m`,`\x1B[${close}m`,replace),colors2={reset:init(0,0),bold:init(1,22,"\x1B[22m\x1B[1m"),dim:init(2,22,"\x1B[22m\x1B[2m"),italic:init(3,23),underline:init(4,24),inverse:init(7,27),hidden:init(8,28),strikethrough:init(9,29),black:init(30,39),red:init(31,39),green:init(32,39),yellow:init(33,39),blue:init(34,39),magenta:init(35,39),cyan:init(36,39),white:init(37,39),gray:init(90,39),bgBlack:init(40,49),bgRed:init(41,49),bgGreen:init(42,49),bgYellow:init(43,49),bgBlue:init(44,49),bgMagenta:init(45,49),bgCyan:init(46,49),bgWhite:init(47,49),blackBright:init(90,39),redBright:init(91,39),greenBright:init(92,39),yellowBright:init(93,39),blueBright:init(94,39),magentaBright:init(95,39),cyanBright:init(96,39),whiteBright:init(97,39),bgBlackBright:init(100,49),bgRedBright:init(101,49),bgGreenBright:init(102,49),bgYellowBright:init(103,49),bgBlueBright:init(104,49),bgMagentaBright:init(105,49),bgCyanBright:init(106,49),bgWhiteBright:init(107,49)},createColors=({useColor=isColorSupported2}={})=>useColor?colors2:Object.keys(colors2).reduce((colors3,key)=>({...colors3,[key]:String}),{}),{reset,bold,dim,italic,underline,inverse,hidden,strikethrough,black,red,green,yellow,blue,magenta,cyan,white,gray,bgBlack,bgRed,bgGreen,bgYellow,bgBlue,bgMagenta,bgCyan,bgWhite,blackBright,redBright,greenBright,yellowBright,blueBright,magentaBright,cyanBright,whiteBright,bgBlackBright,bgRedBright,bgGreenBright,bgYellowBright,bgBlueBright,bgMagentaBright,bgCyanBright,bgWhiteBright}=createColors();exports2.bgBlack=bgBlack;exports2.bgBlackBright=bgBlackBright;exports2.bgBlue=bgBlue;exports2.bgBlueBright=bgBlueBright;exports2.bgCyan=bgCyan;exports2.bgCyanBright=bgCyanBright;exports2.bgGreen=bgGreen;exports2.bgGreenBright=bgGreenBright;exports2.bgMagenta=bgMagenta;exports2.bgMagentaBright=bgMagentaBright;exports2.bgRed=bgRed;exports2.bgRedBright=bgRedBright;exports2.bgWhite=bgWhite;exports2.bgWhiteBright=bgWhiteBright;exports2.bgYellow=bgYellow;exports2.bgYellowBright=bgYellowBright;exports2.black=black;exports2.blackBright=blackBright;exports2.blue=blue;exports2.blueBright=blueBright;exports2.bold=bold;exports2.createColors=createColors;exports2.cyan=cyan;exports2.cyanBright=cyanBright;exports2.dim=dim;exports2.gray=gray;exports2.green=green;exports2.greenBright=greenBright;exports2.hidden=hidden;exports2.inverse=inverse;exports2.isColorSupported=isColorSupported2;exports2.italic=italic;exports2.magenta=magenta;exports2.magentaBright=magentaBright;exports2.red=red;exports2.redBright=redBright;exports2.reset=reset;exports2.strikethrough=strikethrough;exports2.underline=underline;exports2.white=white;exports2.whiteBright=whiteBright;exports2.yellow=yellow;exports2.yellowBright=yellowBright}});var require_wrappy=__commonJS({"../../../../node_modules/wrappy/wrappy.js"(exports2,module2){module2.exports=wrappy;function wrappy(fn,cb){if(fn&&cb)return wrappy(fn)(cb);if(typeof fn!="function")throw new TypeError("need wrapper function");return Object.keys(fn).forEach(function(k){wrapper[k]=fn[k]}),wrapper;function wrapper(){for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];var ret=fn.apply(this,args),cb2=args[args.length-1];return typeof ret=="function"&&ret!==cb2&&Object.keys(cb2).forEach(function(k){ret[k]=cb2[k]}),ret}}}});var require_once=__commonJS({"../../../../node_modules/once/once.js"(exports2,module2){var wrappy=require_wrappy();module2.exports=wrappy(once);module2.exports.strict=wrappy(onceStrict);once.proto=once(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:!0})});function once(fn){var f=function(){return f.called?f.value:(f.called=!0,f.value=fn.apply(this,arguments))};return f.called=!1,f}function onceStrict(fn){var f=function(){if(f.called)throw new Error(f.onceError);return f.called=!0,f.value=fn.apply(this,arguments)},name=fn.name||"Function wrapped with `once`";return f.onceError=name+" shouldn't be called more than once",f.called=!1,f}}});var require_end_of_stream=__commonJS({"../../../../node_modules/end-of-stream/index.js"(exports2,module2){var once=require_once(),noop=function(){},qnt=global.Bare?queueMicrotask:process.nextTick.bind(process),isRequest=function(stream){return stream.setHeader&&typeof stream.abort=="function"},isChildProcess=function(stream){return stream.stdio&&Array.isArray(stream.stdio)&&stream.stdio.length===3},eos=function(stream,opts,callback){if(typeof opts=="function")return eos(stream,null,opts);opts||(opts={}),callback=once(callback||noop);var ws=stream._writableState,rs=stream._readableState,readable=opts.readable||opts.readable!==!1&&stream.readable,writable=opts.writable||opts.writable!==!1&&stream.writable,cancelled=!1,onlegacyfinish=function(){stream.writable||onfinish()},onfinish=function(){writable=!1,readable||callback.call(stream)},onend=function(){readable=!1,writable||callback.call(stream)},onexit=function(exitCode){callback.call(stream,exitCode?new Error("exited with error code: "+exitCode):null)},onerror=function(err){callback.call(stream,err)},onclose=function(){qnt(onclosenexttick)},onclosenexttick=function(){if(!cancelled){if(readable&&!(rs&&rs.ended&&!rs.destroyed))return callback.call(stream,new Error("premature close"));if(writable&&!(ws&&ws.ended&&!ws.destroyed))return callback.call(stream,new Error("premature close"))}},onrequest=function(){stream.req.on("finish",onfinish)};return isRequest(stream)?(stream.on("complete",onfinish),stream.on("abort",onclose),stream.req?onrequest():stream.on("request",onrequest)):writable&&!ws&&(stream.on("end",onlegacyfinish),stream.on("close",onlegacyfinish)),isChildProcess(stream)&&stream.on("exit",onexit),stream.on("end",onend),stream.on("finish",onfinish),opts.error!==!1&&stream.on("error",onerror),stream.on("close",onclose),function(){cancelled=!0,stream.removeListener("complete",onfinish),stream.removeListener("abort",onclose),stream.removeListener("request",onrequest),stream.req&&stream.req.removeListener("finish",onfinish),stream.removeListener("end",onlegacyfinish),stream.removeListener("close",onlegacyfinish),stream.removeListener("finish",onfinish),stream.removeListener("exit",onexit),stream.removeListener("end",onend),stream.removeListener("error",onerror),stream.removeListener("close",onclose)}};module2.exports=eos}});var require_pump=__commonJS({"../../../../node_modules/pump/index.js"(exports2,module2){var once=require_once(),eos=require_end_of_stream(),fs;try{fs=require("fs")}catch{}var noop=function(){},ancient=typeof process>"u"?!1:/^v?\.0/.test(process.version),isFn=function(fn){return typeof fn=="function"},isFS=function(stream){return!ancient||!fs?!1:(stream instanceof(fs.ReadStream||noop)||stream instanceof(fs.WriteStream||noop))&&isFn(stream.close)},isRequest=function(stream){return stream.setHeader&&isFn(stream.abort)},destroyer=function(stream,reading,writing,callback){callback=once(callback);var closed=!1;stream.on("close",function(){closed=!0}),eos(stream,{readable:reading,writable:writing},function(err){if(err)return callback(err);closed=!0,callback()});var destroyed=!1;return function(err){if(!closed&&!destroyed){if(destroyed=!0,isFS(stream))return stream.close(noop);if(isRequest(stream))return stream.abort();if(isFn(stream.destroy))return stream.destroy();callback(err||new Error("stream was destroyed"))}}},call=function(fn){fn()},pipe=function(from,to){return from.pipe(to)},pump2=function(){var streams=Array.prototype.slice.call(arguments),callback=isFn(streams[streams.length-1]||noop)&&streams.pop()||noop;if(Array.isArray(streams[0])&&(streams=streams[0]),streams.length<2)throw new Error("pump requires two streams per minimum");var error,destroys=streams.map(function(stream,i){var reading=i<streams.length-1,writing=i>0;return destroyer(stream,reading,writing,function(err){error||(error=err),err&&destroys.forEach(call),!reading&&(destroys.forEach(call),callback(error))})});return streams.reduce(pipe)};module2.exports=pump2}});var require_split2=__commonJS({"../../../../node_modules/split2/index.js"(exports2,module2){"use strict";var{Transform:Transform2}=require("stream"),{StringDecoder}=require("string_decoder"),kLast=Symbol("last"),kDecoder=Symbol("decoder");function transform(chunk,enc,cb){let list;if(this.overflow){if(list=this[kDecoder].write(chunk).split(this.matcher),list.length===1)return cb();list.shift(),this.overflow=!1}else this[kLast]+=this[kDecoder].write(chunk),list=this[kLast].split(this.matcher);this[kLast]=list.pop();for(let i=0;i<list.length;i++)try{push(this,this.mapper(list[i]))}catch(error){return cb(error)}if(this.overflow=this[kLast].length>this.maxLength,this.overflow&&!this.skipOverflow){cb(new Error("maximum buffer reached"));return}cb()}function flush(cb){if(this[kLast]+=this[kDecoder].end(),this[kLast])try{push(this,this.mapper(this[kLast]))}catch(error){return cb(error)}cb()}function push(self,val){val!==void 0&&self.push(val)}function noop(incoming){return incoming}function split(matcher,mapper,options){switch(matcher=matcher||/\r?\n/,mapper=mapper||noop,options=options||{},arguments.length){case 1:typeof matcher=="function"?(mapper=matcher,matcher=/\r?\n/):typeof matcher=="object"&&!(matcher instanceof RegExp)&&!matcher[Symbol.split]&&(options=matcher,matcher=/\r?\n/);break;case 2:typeof matcher=="function"?(options=mapper,mapper=matcher,matcher=/\r?\n/):typeof mapper=="object"&&(options=mapper,mapper=noop)}options=Object.assign({},options),options.autoDestroy=!0,options.transform=transform,options.flush=flush,options.readableObjectMode=!0;let stream=new Transform2(options);return stream[kLast]="",stream[kDecoder]=new StringDecoder("utf8"),stream.matcher=matcher,stream.mapper=mapper,stream.maxLength=options.maxLength,stream.skipOverflow=options.skipOverflow||!1,stream.overflow=!1,stream._destroy=function(err,cb){this._writableState.errorEmitted=!1,cb(err)},stream}module2.exports=split}});var require_pino_abstract_transport=__commonJS({"../../../../node_modules/pino-abstract-transport/index.js"(exports2,module2){"use strict";var metadata=Symbol.for("pino.metadata"),split=require_split2(),{Duplex}=require("stream"),{parentPort,workerData}=require("worker_threads");function createDeferred(){let resolve,reject,promise=new Promise((_resolve,_reject)=>{resolve=_resolve,reject=_reject});return promise.resolve=resolve,promise.reject=reject,promise}module2.exports=function(fn,opts={}){let waitForConfig=opts.expectPinoConfig===!0&&workerData?.workerData?.pinoWillSendConfig===!0,parseLines=opts.parse==="lines",parseLine=typeof opts.parseLine=="function"?opts.parseLine:JSON.parse,close=opts.close||defaultClose,stream=split(function(line){let value;try{value=parseLine(line)}catch(error){this.emit("unknown",line,error);return}if(value===null){this.emit("unknown",line,"Null value ignored");return}return typeof value!="object"&&(value={data:value,time:Date.now()}),stream[metadata]&&(stream.lastTime=value.time,stream.lastLevel=value.level,stream.lastObj=value),parseLines?line:value},{autoDestroy:!0});if(stream._destroy=function(err,cb){let promise=close(err,cb);promise&&typeof promise.then=="function"&&promise.then(cb,cb)},opts.expectPinoConfig===!0&&workerData?.workerData?.pinoWillSendConfig!==!0&&setImmediate(()=>{stream.emit("error",new Error("This transport is not compatible with the current version of pino. Please upgrade pino to the latest version."))}),opts.metadata!==!1&&(stream[metadata]=!0,stream.lastTime=0,stream.lastLevel=0,stream.lastObj=null),waitForConfig){let pinoConfig={},configReceived=createDeferred();return parentPort.on("message",function handleMessage(message){message.code==="PINO_CONFIG"&&(pinoConfig=message.config,configReceived.resolve(),parentPort.off("message",handleMessage))}),Object.defineProperties(stream,{levels:{get(){return pinoConfig.levels}},messageKey:{get(){return pinoConfig.messageKey}},errorKey:{get(){return pinoConfig.errorKey}}}),configReceived.then(finish)}return finish();function finish(){let res=fn(stream);if(res&&typeof res.catch=="function")res.catch(err=>{stream.destroy(err)}),res=null;else if(opts.enablePipelining&&res)return Duplex.from({writable:stream,readable:res});return stream}};function defaultClose(err,cb){process.nextTick(cb,err)}}});var require_constants=__commonJS({"../../../../node_modules/pino-pretty/lib/constants.js"(exports2,module2){"use strict";module2.exports={DATE_FORMAT:"yyyy-mm-dd HH:MM:ss.l o",DATE_FORMAT_SIMPLE:"HH:MM:ss.l",ERROR_LIKE_KEYS:["err","error"],MESSAGE_KEY:"msg",LEVEL_KEY:"level",LEVEL_LABEL:"levelLabel",TIMESTAMP_KEY:"time",LEVELS:{default:"USERLVL",60:"FATAL",50:"ERROR",40:"WARN",30:"INFO",20:"DEBUG",10:"TRACE"},LEVEL_NAMES:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},LOGGER_KEYS:["pid","hostname","name","level","time","timestamp","caller"]}}});var require_get_level_label_data=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/get-level-label-data.js"(exports2,module2){"use strict";module2.exports=getLevelLabelData;var{LEVELS,LEVEL_NAMES}=require_constants();function getLevelLabelData(useOnlyCustomProps,customLevels,customLevelNames){let levels=useOnlyCustomProps?customLevels||LEVELS:Object.assign({},LEVELS,customLevels),levelNames=useOnlyCustomProps?customLevelNames||LEVEL_NAMES:Object.assign({},LEVEL_NAMES,customLevelNames);return function(level){let levelNum="default";return Number.isInteger(+level)?levelNum=Object.prototype.hasOwnProperty.call(levels,level)?level:levelNum:levelNum=Object.prototype.hasOwnProperty.call(levelNames,level.toLowerCase())?levelNames[level.toLowerCase()]:levelNum,[levels[levelNum],levelNum]}}}});var require_colors=__commonJS({"../../../../node_modules/pino-pretty/lib/colors.js"(exports2,module2){"use strict";var nocolor=input=>input,plain={default:nocolor,60:nocolor,50:nocolor,40:nocolor,30:nocolor,20:nocolor,10:nocolor,message:nocolor,greyMessage:nocolor,property:nocolor},{createColors}=require_colorette(),getLevelLabelData=require_get_level_label_data(),availableColors=createColors({useColor:!0}),{white,bgRed,red,yellow,green,blue,gray,cyan,magenta}=availableColors,colored={default:white,60:bgRed,50:red,40:yellow,30:green,20:blue,10:gray,message:cyan,greyMessage:gray,property:magenta};function resolveCustomColoredColorizer(customColors){return customColors.reduce(function(agg,[level,color]){return agg[level]=typeof availableColors[color]=="function"?availableColors[color]:white,agg},{default:white,message:cyan,greyMessage:gray,property:magenta})}function colorizeLevel(useOnlyCustomProps){return function(level,colorizer,{customLevels,customLevelNames}={}){let[levelStr,levelNum]=getLevelLabelData(useOnlyCustomProps,customLevels,customLevelNames)(level);return Object.prototype.hasOwnProperty.call(colorizer,levelNum)?colorizer[levelNum](levelStr):colorizer.default(levelStr)}}function plainColorizer(useOnlyCustomProps){let newPlainColorizer=colorizeLevel(useOnlyCustomProps),customColoredColorizer=function(level,opts){return newPlainColorizer(level,plain,opts)};return customColoredColorizer.message=plain.message,customColoredColorizer.greyMessage=plain.greyMessage,customColoredColorizer.property=plain.property,customColoredColorizer.colors=createColors({useColor:!1}),customColoredColorizer}function coloredColorizer(useOnlyCustomProps){let newColoredColorizer=colorizeLevel(useOnlyCustomProps),customColoredColorizer=function(level,opts){return newColoredColorizer(level,colored,opts)};return customColoredColorizer.message=colored.message,customColoredColorizer.property=colored.property,customColoredColorizer.greyMessage=colored.greyMessage,customColoredColorizer.colors=availableColors,customColoredColorizer}function customColoredColorizerFactory(customColors,useOnlyCustomProps){let onlyCustomColored=resolveCustomColoredColorizer(customColors),customColored=useOnlyCustomProps?onlyCustomColored:Object.assign({},colored,onlyCustomColored),colorizeLevelCustom=colorizeLevel(useOnlyCustomProps),customColoredColorizer=function(level,opts){return colorizeLevelCustom(level,customColored,opts)};return customColoredColorizer.colors=availableColors,customColoredColorizer.message=customColoredColorizer.message||customColored.message,customColoredColorizer.property=customColoredColorizer.property||customColored.property,customColoredColorizer.greyMessage=customColoredColorizer.greyMessage||customColored.greyMessage,customColoredColorizer}module2.exports=function(useColors=!1,customColors,useOnlyCustomProps){return useColors&&customColors!==void 0?customColoredColorizerFactory(customColors,useOnlyCustomProps):useColors?coloredColorizer(useOnlyCustomProps):plainColorizer(useOnlyCustomProps)}}});var require_atomic_sleep=__commonJS({"../../../../node_modules/atomic-sleep/index.js"(exports2,module2){"use strict";if(typeof SharedArrayBuffer<"u"&&typeof Atomics<"u"){let sleep=function(ms){if((ms>0&&ms<1/0)===!1)throw typeof ms!="number"&&typeof ms!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(nil,0,0,Number(ms))},nil=new Int32Array(new SharedArrayBuffer(4));module2.exports=sleep}else{let sleep=function(ms){if((ms>0&&ms<1/0)===!1)throw typeof ms!="number"&&typeof ms!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");let target=Date.now()+Number(ms);for(;target>Date.now(););};module2.exports=sleep}}});var require_sonic_boom=__commonJS({"../../../../node_modules/sonic-boom/index.js"(exports2,module2){"use strict";var fs=require("fs"),EventEmitter=require("events"),inherits=require("util").inherits,path=require("path"),sleep=require_atomic_sleep(),assert=require("assert"),BUSY_WRITE_TIMEOUT=100,kEmptyBuffer=Buffer.allocUnsafe(0),MAX_WRITE=16*1024,kContentModeBuffer="buffer",kContentModeUtf8="utf8",[major,minor]=(process.versions.node||"0.0").split(".").map(Number),kCopyBuffer=major>=22&&minor>=7;function openFile(file,sonic){sonic._opening=!0,sonic._writing=!0,sonic._asyncDrainScheduled=!1;function fileOpened(err,fd){if(err){sonic._reopening=!1,sonic._writing=!1,sonic._opening=!1,sonic.sync?process.nextTick(()=>{sonic.listenerCount("error")>0&&sonic.emit("error",err)}):sonic.emit("error",err);return}let reopening=sonic._reopening;sonic.fd=fd,sonic.file=file,sonic._reopening=!1,sonic._opening=!1,sonic._writing=!1,sonic.sync?process.nextTick(()=>sonic.emit("ready")):sonic.emit("ready"),!sonic.destroyed&&(!sonic._writing&&sonic._len>sonic.minLength||sonic._flushPending?sonic._actualWrite():reopening&&process.nextTick(()=>sonic.emit("drain")))}let flags=sonic.append?"a":"w",mode=sonic.mode;if(sonic.sync)try{sonic.mkdir&&fs.mkdirSync(path.dirname(file),{recursive:!0});let fd=fs.openSync(file,flags,mode);fileOpened(null,fd)}catch(err){throw fileOpened(err),err}else sonic.mkdir?fs.mkdir(path.dirname(file),{recursive:!0},err=>{if(err)return fileOpened(err);fs.open(file,flags,mode,fileOpened)}):fs.open(file,flags,mode,fileOpened)}function SonicBoom(opts){if(!(this instanceof SonicBoom))return new SonicBoom(opts);let{fd,dest,minLength,maxLength,maxWrite,periodicFlush,sync,append=!0,mkdir,retryEAGAIN,fsync,contentMode,mode}=opts||{};fd=fd||dest,this._len=0,this.fd=-1,this._bufs=[],this._lens=[],this._writing=!1,this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._flushPending=!1,this._hwm=Math.max(minLength||0,16387),this.file=null,this.destroyed=!1,this.minLength=minLength||0,this.maxLength=maxLength||0,this.maxWrite=maxWrite||MAX_WRITE,this._periodicFlush=periodicFlush||0,this._periodicFlushTimer=void 0,this.sync=sync||!1,this.writable=!0,this._fsync=fsync||!1,this.append=append||!1,this.mode=mode,this.retryEAGAIN=retryEAGAIN||(()=>!0),this.mkdir=mkdir||!1;let fsWriteSync,fsWrite;if(contentMode===kContentModeBuffer)this._writingBuf=kEmptyBuffer,this.write=writeBuffer,this.flush=flushBuffer,this.flushSync=flushBufferSync,this._actualWrite=actualWriteBuffer,fsWriteSync=()=>fs.writeSync(this.fd,this._writingBuf),fsWrite=()=>fs.write(this.fd,this._writingBuf,this.release);else if(contentMode===void 0||contentMode===kContentModeUtf8)this._writingBuf="",this.write=write,this.flush=flush,this.flushSync=flushSync,this._actualWrite=actualWrite,fsWriteSync=()=>fs.writeSync(this.fd,this._writingBuf,"utf8"),fsWrite=()=>fs.write(this.fd,this._writingBuf,"utf8",this.release);else throw new Error(`SonicBoom supports "${kContentModeUtf8}" and "${kContentModeBuffer}", but passed ${contentMode}`);if(typeof fd=="number")this.fd=fd,process.nextTick(()=>this.emit("ready"));else if(typeof fd=="string")openFile(fd,this);else throw new Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw new Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(err,n)=>{if(err){if((err.code==="EAGAIN"||err.code==="EBUSY")&&this.retryEAGAIN(err,this._writingBuf.length,this._len-this._writingBuf.length))if(this.sync)try{sleep(BUSY_WRITE_TIMEOUT),this.release(void 0,0)}catch(err2){this.release(err2)}else setTimeout(fsWrite,BUSY_WRITE_TIMEOUT);else this._writing=!1,this.emit("error",err);return}this.emit("write",n);let releasedBufObj=releaseWritingBuf(this._writingBuf,this._len,n);if(this._len=releasedBufObj.len,this._writingBuf=releasedBufObj.writingBuf,this._writingBuf.length){if(!this.sync){fsWrite();return}try{do{let n2=fsWriteSync(),releasedBufObj2=releaseWritingBuf(this._writingBuf,this._len,n2);this._len=releasedBufObj2.len,this._writingBuf=releasedBufObj2.writingBuf}while(this._writingBuf.length)}catch(err2){this.release(err2);return}}this._fsync&&fs.fsyncSync(this.fd);let len=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):len>this.minLength?this._actualWrite():this._ending?len>0?this._actualWrite():(this._writing=!1,actualClose(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(emitDrain,this)):this.emit("drain"))},this.on("newListener",function(name){name==="drain"&&(this._asyncDrainScheduled=!1)}),this._periodicFlush!==0&&(this._periodicFlushTimer=setInterval(()=>this.flush(null),this._periodicFlush),this._periodicFlushTimer.unref())}function releaseWritingBuf(writingBuf,len,n){return typeof writingBuf=="string"&&Buffer.byteLength(writingBuf)!==n&&(n=Buffer.from(writingBuf).subarray(0,n).toString().length),len=Math.max(len-n,0),writingBuf=writingBuf.slice(n),{writingBuf,len}}function emitDrain(sonic){sonic.listenerCount("drain")>0&&(sonic._asyncDrainScheduled=!1,sonic.emit("drain"))}inherits(SonicBoom,EventEmitter);function mergeBuf(bufs,len){return bufs.length===0?kEmptyBuffer:bufs.length===1?bufs[0]:Buffer.concat(bufs,len)}function write(data){if(this.destroyed)throw new Error("SonicBoom destroyed");let len=this._len+data.length,bufs=this._bufs;return this.maxLength&&len>this.maxLength?(this.emit("drop",data),this._len<this._hwm):(bufs.length===0||bufs[bufs.length-1].length+data.length>this.maxWrite?bufs.push(""+data):bufs[bufs.length-1]+=data,this._len=len,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}function writeBuffer(data){if(this.destroyed)throw new Error("SonicBoom destroyed");let len=this._len+data.length,bufs=this._bufs,lens=this._lens;return this.maxLength&&len>this.maxLength?(this.emit("drop",data),this._len<this._hwm):(bufs.length===0||lens[lens.length-1]+data.length>this.maxWrite?(bufs.push([data]),lens.push(data.length)):(bufs[bufs.length-1].push(data),lens[lens.length-1]+=data.length),this._len=len,!this._writing&&this._len>=this.minLength&&this._actualWrite(),this._len<this._hwm)}function callFlushCallbackOnDrain(cb){this._flushPending=!0;let onDrain=()=>{if(this._fsync)this._flushPending=!1,cb();else try{fs.fsync(this.fd,err=>{this._flushPending=!1,cb(err)})}catch(err){cb(err)}this.off("error",onError)},onError=err=>{this._flushPending=!1,cb(err),this.off("drain",onDrain)};this.once("drain",onDrain),this.once("error",onError)}function flush(cb){if(cb!=null&&typeof cb!="function")throw new Error("flush cb must be a function");if(this.destroyed){let error=new Error("SonicBoom destroyed");if(cb){cb(error);return}throw error}if(this.minLength<=0){cb?.();return}cb&&callFlushCallbackOnDrain.call(this,cb),!this._writing&&(this._bufs.length===0&&this._bufs.push(""),this._actualWrite())}function flushBuffer(cb){if(cb!=null&&typeof cb!="function")throw new Error("flush cb must be a function");if(this.destroyed){let error=new Error("SonicBoom destroyed");if(cb){cb(error);return}throw error}if(this.minLength<=0){cb?.();return}cb&&callFlushCallbackOnDrain.call(this,cb),!this._writing&&(this._bufs.length===0&&(this._bufs.push([]),this._lens.push(0)),this._actualWrite())}SonicBoom.prototype.reopen=function(file){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(file)});return}if(this._ending)return;if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(file&&(this.file=file),this._reopening=!0,this._writing)return;let fd=this.fd;this.once("ready",()=>{fd!==this.fd&&fs.close(fd,err=>{if(err)return this.emit("error",err)})}),openFile(this.file,this)};SonicBoom.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}this._ending||(this._ending=!0,!this._writing&&(this._len>0&&this.fd>=0?this._actualWrite():actualClose(this)))};function flushSync(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");let buf="";for(;this._bufs.length||buf;){buf.length<=0&&(buf=this._bufs[0]);try{let n=fs.writeSync(this.fd,buf,"utf8"),releasedBufObj=releaseWritingBuf(buf,this._len,n);buf=releasedBufObj.writingBuf,this._len=releasedBufObj.len,buf.length<=0&&this._bufs.shift()}catch(err){if((err.code==="EAGAIN"||err.code==="EBUSY")&&!this.retryEAGAIN(err,buf.length,this._len-buf.length))throw err;sleep(BUSY_WRITE_TIMEOUT)}}try{fs.fsyncSync(this.fd)}catch{}}function flushBufferSync(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift([this._writingBuf]),this._writingBuf=kEmptyBuffer);let buf=kEmptyBuffer;for(;this._bufs.length||buf.length;){buf.length<=0&&(buf=mergeBuf(this._bufs[0],this._lens[0]));try{let n=fs.writeSync(this.fd,buf);buf=buf.subarray(n),this._len=Math.max(this._len-n,0),buf.length<=0&&(this._bufs.shift(),this._lens.shift())}catch(err){if((err.code==="EAGAIN"||err.code==="EBUSY")&&!this.retryEAGAIN(err,buf.length,this._len-buf.length))throw err;sleep(BUSY_WRITE_TIMEOUT)}}}SonicBoom.prototype.destroy=function(){this.destroyed||actualClose(this)};function actualWrite(){let release=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf||this._bufs.shift()||"",this.sync)try{let written=fs.writeSync(this.fd,this._writingBuf,"utf8");release(null,written)}catch(err){release(err)}else fs.write(this.fd,this._writingBuf,"utf8",release)}function actualWriteBuffer(){let release=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf.length?this._writingBuf:mergeBuf(this._bufs.shift(),this._lens.shift()),this.sync)try{let written=fs.writeSync(this.fd,this._writingBuf);release(null,written)}catch(err){release(err)}else kCopyBuffer&&(this._writingBuf=Buffer.from(this._writingBuf)),fs.write(this.fd,this._writingBuf,release)}function actualClose(sonic){if(sonic.fd===-1){sonic.once("ready",actualClose.bind(null,sonic));return}sonic._periodicFlushTimer!==void 0&&clearInterval(sonic._periodicFlushTimer),sonic.destroyed=!0,sonic._bufs=[],sonic._lens=[],assert(typeof sonic.fd=="number",`sonic.fd must be a number, got ${typeof sonic.fd}`);try{fs.fsync(sonic.fd,closeWrapped)}catch{}function closeWrapped(){sonic.fd!==1&&sonic.fd!==2?fs.close(sonic.fd,done):done()}function done(err){if(err){sonic.emit("error",err);return}sonic._ending&&!sonic._writing&&sonic.emit("finish"),sonic.emit("close")}}SonicBoom.SonicBoom=SonicBoom;SonicBoom.default=SonicBoom;module2.exports=SonicBoom}});var require_noop=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/noop.js"(exports2,module2){"use strict";module2.exports=function(){}}});var require_on_exit_leak_free=__commonJS({"../../../../node_modules/on-exit-leak-free/index.js"(exports2,module2){"use strict";var refs={exit:[],beforeExit:[]},functions={exit:onExit,beforeExit:onBeforeExit},registry;function ensureRegistry(){registry===void 0&&(registry=new FinalizationRegistry(clear))}function install(event){refs[event].length>0||process.on(event,functions[event])}function uninstall(event){refs[event].length>0||(process.removeListener(event,functions[event]),refs.exit.length===0&&refs.beforeExit.length===0&&(registry=void 0))}function onExit(){callRefs("exit")}function onBeforeExit(){callRefs("beforeExit")}function callRefs(event){for(let ref of refs[event]){let obj=ref.deref(),fn=ref.fn;obj!==void 0&&fn(obj,event)}refs[event]=[]}function clear(ref){for(let event of["exit","beforeExit"]){let index=refs[event].indexOf(ref);refs[event].splice(index,index+1),uninstall(event)}}function _register(event,obj,fn){if(obj===void 0)throw new Error("the object can't be undefined");install(event);let ref=new WeakRef(obj);ref.fn=fn,ensureRegistry(),registry.register(obj,ref),refs[event].push(ref)}function register(obj,fn){_register("exit",obj,fn)}function registerBeforeExit(obj,fn){_register("beforeExit",obj,fn)}function unregister(obj){if(registry!==void 0){registry.unregister(obj);for(let event of["exit","beforeExit"])refs[event]=refs[event].filter(ref=>{let _obj=ref.deref();return _obj&&_obj!==obj}),uninstall(event)}}module2.exports={register,registerBeforeExit,unregister}}});var require_build_safe_sonic_boom=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/build-safe-sonic-boom.js"(exports2,module2){"use strict";module2.exports=buildSafeSonicBoom2;var{isMainThread}=require("node:worker_threads"),SonicBoom=require_sonic_boom(),noop=require_noop();function buildSafeSonicBoom2(opts){let stream=new SonicBoom(opts);return stream.on("error",filterBrokenPipe),!opts.sync&&isMainThread&&setupOnExit(stream),stream;function filterBrokenPipe(err){if(err.code==="EPIPE"){stream.write=noop,stream.end=noop,stream.flushSync=noop,stream.destroy=noop;return}stream.removeListener("error",filterBrokenPipe)}}function setupOnExit(stream){if(global.WeakRef&&global.WeakMap&&global.FinalizationRegistry){let onExit=require_on_exit_leak_free();onExit.register(stream,autoEnd),stream.on("close",function(){onExit.unregister(stream)})}}function autoEnd(stream,eventName){stream.destroyed||(eventName==="beforeExit"?(stream.flush(),stream.on("drain",function(){stream.end()})):stream.flushSync())}}});var require_is_valid_date=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/is-valid-date.js"(exports2,module2){"use strict";module2.exports=isValidDate;function isValidDate(date){return date instanceof Date&&!Number.isNaN(date.getTime())}}});var require_create_date=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/create-date.js"(exports2,module2){"use strict";module2.exports=createDate;var isValidDate=require_is_valid_date();function createDate(epoch){let date=new Date(epoch);return isValidDate(date)||(date=new Date(+epoch)),date}}});var require_split_property_key=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/split-property-key.js"(exports2,module2){"use strict";module2.exports=splitPropertyKey;function splitPropertyKey(key){let result=[],backslash=!1,segment="";for(let i=0;i<key.length;i++){let c=key.charAt(i);if(c==="\\"){backslash=!0;continue}if(backslash){backslash=!1,segment+=c;continue}if(c==="."){result.push(segment),segment="";continue}segment+=c}return segment.length&&result.push(segment),result}}});var require_get_property_value=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/get-property-value.js"(exports2,module2){"use strict";module2.exports=getPropertyValue;var splitPropertyKey=require_split_property_key();function getPropertyValue(obj,property){let props=Array.isArray(property)?property:splitPropertyKey(property);for(let prop of props){if(!Object.prototype.hasOwnProperty.call(obj,prop))return;obj=obj[prop]}return obj}}});var require_delete_log_property=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/delete-log-property.js"(exports2,module2){"use strict";module2.exports=deleteLogProperty;var getPropertyValue=require_get_property_value(),splitPropertyKey=require_split_property_key();function deleteLogProperty(log,property){let props=splitPropertyKey(property),propToDelete=props.pop();log=getPropertyValue(log,props),log!==null&&typeof log=="object"&&Object.prototype.hasOwnProperty.call(log,propToDelete)&&delete log[propToDelete]}}});var require_cjs=__commonJS({"../../../../node_modules/fast-copy/dist/cjs/index.cjs"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:!0});var toStringFunction=Function.prototype.toString,create=Object.create,toStringObject=Object.prototype.toString,LegacyCache=(function(){function LegacyCache2(){this._keys=[],this._values=[]}return LegacyCache2.prototype.has=function(key){return!!~this._keys.indexOf(key)},LegacyCache2.prototype.get=function(key){return this._values[this._keys.indexOf(key)]},LegacyCache2.prototype.set=function(key,value){this._keys.push(key),this._values.push(value)},LegacyCache2})();function createCacheLegacy(){return new LegacyCache}function createCacheModern(){return new WeakMap}var createCache=typeof WeakMap<"u"?createCacheModern:createCacheLegacy;function getCleanClone(prototype){if(!prototype)return create(null);var Constructor=prototype.constructor;if(Constructor===Object)return prototype===Object.prototype?{}:create(prototype);if(Constructor&&~toStringFunction.call(Constructor).indexOf("[native code]"))try{return new Constructor}catch{}return create(prototype)}function getRegExpFlagsLegacy(regExp){var flags="";return regExp.global&&(flags+="g"),regExp.ignoreCase&&(flags+="i"),regExp.multiline&&(flags+="m"),regExp.unicode&&(flags+="u"),regExp.sticky&&(flags+="y"),flags}function getRegExpFlagsModern(regExp){return regExp.flags}var getRegExpFlags=/test/g.flags==="g"?getRegExpFlagsModern:getRegExpFlagsLegacy;function getTagLegacy(value){var type=toStringObject.call(value);return type.substring(8,type.length-1)}function getTagModern(value){return value[Symbol.toStringTag]||getTagLegacy(value)}var getTag=typeof Symbol<"u"?getTagModern:getTagLegacy,defineProperty=Object.defineProperty,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,_a=Object.prototype,hasOwnProperty=_a.hasOwnProperty,propertyIsEnumerable=_a.propertyIsEnumerable,SUPPORTS_SYMBOL=typeof getOwnPropertySymbols=="function";function getStrictPropertiesModern(object){return getOwnPropertyNames(object).concat(getOwnPropertySymbols(object))}var getStrictProperties=SUPPORTS_SYMBOL?getStrictPropertiesModern:getOwnPropertyNames;function copyOwnPropertiesStrict(value,clone,state){for(var properties=getStrictProperties(value),index2=0,length_1=properties.length,property=void 0,descriptor=void 0;index2<length_1;++index2)if(property=properties[index2],!(property==="callee"||property==="caller")){if(descriptor=getOwnPropertyDescriptor(value,property),!descriptor){clone[property]=state.copier(value[property],state);continue}!descriptor.get&&!descriptor.set&&(descriptor.value=state.copier(descriptor.value,state));try{defineProperty(clone,property,descriptor)}catch{clone[property]=descriptor.value}}return clone}function copyArrayLoose(array,state){var clone=new state.Constructor;state.cache.set(array,clone);for(var index2=0,length_2=array.length;index2<length_2;++index2)clone[index2]=state.copier(array[index2],state);return clone}function copyArrayStrict(array,state){var clone=new state.Constructor;return state.cache.set(array,clone),copyOwnPropertiesStrict(array,clone,state)}function copyArrayBuffer(arrayBuffer,_state){return arrayBuffer.slice(0)}function copyBlob(blob,_state){return blob.slice(0,blob.size,blob.type)}function copyDataView(dataView,state){return new state.Constructor(copyArrayBuffer(dataView.buffer))}function copyDate(date,state){return new state.Constructor(date.getTime())}function copyMapLoose(map,state){var clone=new state.Constructor;return state.cache.set(map,clone),map.forEach(function(value,key){clone.set(key,state.copier(value,state))}),clone}function copyMapStrict(map,state){return copyOwnPropertiesStrict(map,copyMapLoose(map,state),state)}function copyObjectLooseLegacy(object,state){var clone=getCleanClone(state.prototype);state.cache.set(object,clone);for(var key in object)hasOwnProperty.call(object,key)&&(clone[key]=state.copier(object[key],state));return clone}function copyObjectLooseModern(object,state){var clone=getCleanClone(state.prototype);state.cache.set(object,clone);for(var key in object)hasOwnProperty.call(object,key)&&(clone[key]=state.copier(object[key],state));for(var symbols=getOwnPropertySymbols(object),index2=0,length_3=symbols.length,symbol=void 0;index2<length_3;++index2)symbol=symbols[index2],propertyIsEnumerable.call(object,symbol)&&(clone[symbol]=state.copier(object[symbol],state));return clone}var copyObjectLoose=SUPPORTS_SYMBOL?copyObjectLooseModern:copyObjectLooseLegacy;function copyObjectStrict(object,state){var clone=getCleanClone(state.prototype);return state.cache.set(object,clone),copyOwnPropertiesStrict(object,clone,state)}function copyPrimitiveWrapper(primitiveObject,state){return new state.Constructor(primitiveObject.valueOf())}function copyRegExp(regExp,state){var clone=new state.Constructor(regExp.source,getRegExpFlags(regExp));return clone.lastIndex=regExp.lastIndex,clone}function copySelf(value,_state){return value}function copySetLoose(set,state){var clone=new state.Constructor;return state.cache.set(set,clone),set.forEach(function(value){clone.add(state.copier(value,state))}),clone}function copySetStrict(set,state){return copyOwnPropertiesStrict(set,copySetLoose(set,state),state)}var isArray=Array.isArray,assign=Object.assign,getPrototypeOf=Object.getPrototypeOf||(function(obj){return obj.__proto__}),DEFAULT_LOOSE_OPTIONS={array:copyArrayLoose,arrayBuffer:copyArrayBuffer,blob:copyBlob,dataView:copyDataView,date:copyDate,error:copySelf,map:copyMapLoose,object:copyObjectLoose,regExp:copyRegExp,set:copySetLoose},DEFAULT_STRICT_OPTIONS=assign({},DEFAULT_LOOSE_OPTIONS,{array:copyArrayStrict,map:copyMapStrict,object:copyObjectStrict,set:copySetStrict});function getTagSpecificCopiers(options){return{Arguments:options.object,Array:options.array,ArrayBuffer:options.arrayBuffer,Blob:options.blob,Boolean:copyPrimitiveWrapper,DataView:options.dataView,Date:options.date,Error:options.error,Float32Array:options.arrayBuffer,Float64Array:options.arrayBuffer,Int8Array:options.arrayBuffer,Int16Array:options.arrayBuffer,Int32Array:options.arrayBuffer,Map:options.map,Number:copyPrimitiveWrapper,Object:options.object,Promise:copySelf,RegExp:options.regExp,Set:options.set,String:copyPrimitiveWrapper,WeakMap:copySelf,WeakSet:copySelf,Uint8Array:options.arrayBuffer,Uint8ClampedArray:options.arrayBuffer,Uint16Array:options.arrayBuffer,Uint32Array:options.arrayBuffer,Uint64Array:options.arrayBuffer}}function createCopier(options){var normalizedOptions=assign({},DEFAULT_LOOSE_OPTIONS,options),tagSpecificCopiers=getTagSpecificCopiers(normalizedOptions),array=tagSpecificCopiers.Array,object=tagSpecificCopiers.Object;function copier(value,state){if(state.prototype=state.Constructor=void 0,!value||typeof value!="object")return value;if(state.cache.has(value))return state.cache.get(value);if(state.prototype=getPrototypeOf(value),state.Constructor=state.prototype&&state.prototype.constructor,!state.Constructor||state.Constructor===Object)return object(value,state);if(isArray(value))return array(value,state);var tagSpecificCopier=tagSpecificCopiers[getTag(value)];return tagSpecificCopier?tagSpecificCopier(value,state):typeof value.then=="function"?value:object(value,state)}return function(value){return copier(value,{Constructor:void 0,cache:createCache(),copier,prototype:void 0})}}function createStrictCopier(options){return createCopier(assign({},DEFAULT_STRICT_OPTIONS,options))}var copyStrict=createStrictCopier({}),index=createCopier({});exports2.copyStrict=copyStrict;exports2.createCopier=createCopier;exports2.createStrictCopier=createStrictCopier;exports2.default=index}});var require_filter_log=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/filter-log.js"(exports2,module2){"use strict";module2.exports=filterLog;var{createCopier}=require_cjs(),fastCopy=createCopier({}),deleteLogProperty=require_delete_log_property();function filterLog({log,context}){let{ignoreKeys,includeKeys}=context,logCopy=fastCopy(log);if(includeKeys){let logIncluded={};return includeKeys.forEach(key=>{logIncluded[key]=logCopy[key]}),logIncluded}return ignoreKeys.forEach(ignoreKey=>{deleteLogProperty(logCopy,ignoreKey)}),logCopy}}});var require_dateformat=__commonJS({"../../../../node_modules/dateformat/lib/dateformat.js"(exports2,module2){"use strict";function _typeof(obj){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(obj2){return typeof obj2}:_typeof=function(obj2){return obj2&&typeof Symbol=="function"&&obj2.constructor===Symbol&&obj2!==Symbol.prototype?"symbol":typeof obj2},_typeof(obj)}(function(global2){var _arguments=arguments,dateFormat=(function(){var token=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,timezoneClip=/[^-+\dA-Z]/g;return function(date,mask,utc,gmt){if(_arguments.length===1&&kindOf(date)==="string"&&!/\d/.test(date)&&(mask=date,date=void 0),date=date||date===0?date:new Date,date instanceof Date||(date=new Date(date)),isNaN(date))throw TypeError("Invalid date");mask=String(dateFormat.masks[mask]||mask||dateFormat.masks.default);var maskSlice=mask.slice(0,4);(maskSlice==="UTC:"||maskSlice==="GMT:")&&(mask=mask.slice(4),utc=!0,maskSlice==="GMT:"&&(gmt=!0));var _=function(){return utc?"getUTC":"get"},_d=function(){return date[_()+"Date"]()},D=function(){return date[_()+"Day"]()},_m=function(){return date[_()+"Month"]()},y=function(){return date[_()+"FullYear"]()},_H=function(){return date[_()+"Hours"]()},_M=function(){return date[_()+"Minutes"]()},_s=function(){return date[_()+"Seconds"]()},_L=function(){return date[_()+"Milliseconds"]()},_o=function(){return utc?0:date.getTimezoneOffset()},_W=function(){return getWeek(date)},_N=function(){return getDayOfWeek(date)},flags={d:function(){return _d()},dd:function(){return pad(_d())},ddd:function(){return dateFormat.i18n.dayNames[D()]},DDD:function(){return getDayName({y:y(),m:_m(),d:_d(),_:_(),dayName:dateFormat.i18n.dayNames[D()],short:!0})},dddd:function(){return dateFormat.i18n.dayNames[D()+7]},DDDD:function(){return getDayName({y:y(),m:_m(),d:_d(),_:_(),dayName:dateFormat.i18n.dayNames[D()+7]})},m:function(){return _m()+1},mm:function(){return pad(_m()+1)},mmm:function(){return dateFormat.i18n.monthNames[_m()]},mmmm:function(){return dateFormat.i18n.monthNames[_m()+12]},yy:function(){return String(y()).slice(2)},yyyy:function(){return pad(y(),4)},h:function(){return _H()%12||12},hh:function(){return pad(_H()%12||12)},H:function(){return _H()},HH:function(){return pad(_H())},M:function(){return _M()},MM:function(){return pad(_M())},s:function(){return _s()},ss:function(){return pad(_s())},l:function(){return pad(_L(),3)},L:function(){return pad(Math.floor(_L()/10))},t:function(){return _H()<12?dateFormat.i18n.timeNames[0]:dateFormat.i18n.timeNames[1]},tt:function(){return _H()<12?dateFormat.i18n.timeNames[2]:dateFormat.i18n.timeNames[3]},T:function(){return _H()<12?dateFormat.i18n.timeNames[4]:dateFormat.i18n.timeNames[5]},TT:function(){return _H()<12?dateFormat.i18n.timeNames[6]:dateFormat.i18n.timeNames[7]},Z:function(){return gmt?"GMT":utc?"UTC":(String(date).match(timezone)||[""]).pop().replace(timezoneClip,"").replace(/GMT\+0000/g,"UTC")},o:function(){return(_o()>0?"-":"+")+pad(Math.floor(Math.abs(_o())/60)*100+Math.abs(_o())%60,4)},p:function(){return(_o()>0?"-":"+")+pad(Math.floor(Math.abs(_o())/60),2)+":"+pad(Math.floor(Math.abs(_o())%60),2)},S:function(){return["th","st","nd","rd"][_d()%10>3?0:(_d()%100-_d()%10!=10)*_d()%10]},W:function(){return _W()},WW:function(){return pad(_W())},N:function(){return _N()}};return mask.replace(token,function(match){return match in flags?flags[match]():match.slice(1,match.length-1)})}})();dateFormat.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};var pad=function(val,len){for(val=String(val),len=len||2;val.length<len;)val="0"+val;return val},getDayName=function(_ref){var y=_ref.y,m=_ref.m,d=_ref.d,_=_ref._,dayName=_ref.dayName,_ref$short=_ref.short,_short=_ref$short===void 0?!1:_ref$short,today=new Date,yesterday=new Date;yesterday.setDate(yesterday[_+"Date"]()-1);var tomorrow=new Date;tomorrow.setDate(tomorrow[_+"Date"]()+1);var today_d=function(){return today[_+"Date"]()},today_m=function(){return today[_+"Month"]()},today_y=function(){return today[_+"FullYear"]()},yesterday_d=function(){return yesterday[_+"Date"]()},yesterday_m=function(){return yesterday[_+"Month"]()},yesterday_y=function(){return yesterday[_+"FullYear"]()},tomorrow_d=function(){return tomorrow[_+"Date"]()},tomorrow_m=function(){return tomorrow[_+"Month"]()},tomorrow_y=function(){return tomorrow[_+"FullYear"]()};return today_y()===y&&today_m()===m&&today_d()===d?_short?"Tdy":"Today":yesterday_y()===y&&yesterday_m()===m&&yesterday_d()===d?_short?"Ysd":"Yesterday":tomorrow_y()===y&&tomorrow_m()===m&&tomorrow_d()===d?_short?"Tmw":"Tomorrow":dayName},getWeek=function(date){var targetThursday=new Date(date.getFullYear(),date.getMonth(),date.getDate());targetThursday.setDate(targetThursday.getDate()-(targetThursday.getDay()+6)%7+3);var firstThursday=new Date(targetThursday.getFullYear(),0,4);firstThursday.setDate(firstThursday.getDate()-(firstThursday.getDay()+6)%7+3);var ds=targetThursday.getTimezoneOffset()-firstThursday.getTimezoneOffset();targetThursday.setHours(targetThursday.getHours()-ds);var weekDiff=(targetThursday-firstThursday)/(864e5*7);return 1+Math.floor(weekDiff)},getDayOfWeek=function(date){var dow=date.getDay();return dow===0&&(dow=7),dow},kindOf=function(val){return val===null?"null":val===void 0?"undefined":_typeof(val)!=="object"?_typeof(val):Array.isArray(val)?"array":{}.toString.call(val).slice(8,-1).toLowerCase()};typeof define=="function"&&define.amd?define(function(){return dateFormat}):(typeof exports2>"u"?"undefined":_typeof(exports2))==="object"?module2.exports=dateFormat:global2.dateFormat=dateFormat})(void 0)}});var require_format_time=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/format-time.js"(exports2,module2){"use strict";module2.exports=formatTime;var{DATE_FORMAT,DATE_FORMAT_SIMPLE}=require_constants(),dateformat=require_dateformat(),createDate=require_create_date(),isValidDate=require_is_valid_date();function formatTime(epoch,translateTime=!1){if(translateTime===!1)return epoch;let instant=createDate(epoch);if(!isValidDate(instant))return epoch;if(translateTime===!0)return dateformat(instant,DATE_FORMAT_SIMPLE);let upperFormat=translateTime.toUpperCase();if(upperFormat==="SYS:STANDARD")return dateformat(instant,DATE_FORMAT);let prefix=upperFormat.substr(0,4);return prefix==="SYS:"||prefix==="UTC:"?prefix==="UTC:"?dateformat(instant,translateTime):dateformat(instant,translateTime.slice(4)):dateformat(instant,`UTC:${translateTime}`)}}});var require_handle_custom_levels_names_opts=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/handle-custom-levels-names-opts.js"(exports2,module2){"use strict";module2.exports=handleCustomLevelsNamesOpts;function handleCustomLevelsNamesOpts(cLevels){return cLevels?typeof cLevels=="string"?cLevels.split(",").reduce((agg,value,idx)=>{let[levelName,levelNum=idx]=value.split(":");return agg[levelName.toLowerCase()]=levelNum,agg},{}):Object.prototype.toString.call(cLevels)==="[object Object]"?Object.keys(cLevels).reduce((agg,levelName)=>(agg[levelName.toLowerCase()]=cLevels[levelName],agg),{}):{}:{}}}});var require_handle_custom_levels_opts=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/handle-custom-levels-opts.js"(exports2,module2){"use strict";module2.exports=handleCustomLevelsOpts;function handleCustomLevelsOpts(cLevels){return cLevels?typeof cLevels=="string"?cLevels.split(",").reduce((agg,value,idx)=>{let[levelName,levelNum=idx]=value.split(":");return agg[levelNum]=levelName.toUpperCase(),agg},{default:"USERLVL"}):Object.prototype.toString.call(cLevels)==="[object Object]"?Object.keys(cLevels).reduce((agg,levelName)=>(agg[cLevels[levelName]]=levelName.toUpperCase(),agg),{default:"USERLVL"}):{}:{}}}});var require_interpret_conditionals=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/interpret-conditionals.js"(exports2,module2){"use strict";module2.exports=interpretConditionals;var getPropertyValue=require_get_property_value();function interpretConditionals(messageFormat,log){return messageFormat=messageFormat.replace(/{if (.*?)}(.*?){end}/g,replacer),messageFormat=messageFormat.replace(/{if (.*?)}/g,""),messageFormat=messageFormat.replace(/{end}/g,""),messageFormat.replace(/\s+/g," ").trim();function replacer(_,key,value){let propertyValue=getPropertyValue(log,key);return propertyValue&&value.includes(key)?value.replace(new RegExp("{"+key+"}","g"),propertyValue):""}}}});var require_is_object=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/is-object.js"(exports2,module2){"use strict";module2.exports=isObject;function isObject(input){return Object.prototype.toString.apply(input)==="[object Object]"}}});var require_join_lines_with_indentation=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/join-lines-with-indentation.js"(exports2,module2){"use strict";module2.exports=joinLinesWithIndentation;function joinLinesWithIndentation({input,ident="    ",eol=`
`}){let lines=input.split(/\r?\n/);for(let i=1;i<lines.length;i+=1)lines[i]=ident+lines[i];return lines.join(eol)}}});var require_parse_factory_options=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/parse-factory-options.js"(exports2,module2){"use strict";module2.exports=parseFactoryOptions2;var{LEVEL_NAMES}=require_constants(),colors2=require_colors(),handleCustomLevelsOpts=require_handle_custom_levels_opts(),handleCustomLevelsNamesOpts=require_handle_custom_levels_names_opts(),handleLevelLabelData=require_get_level_label_data();function parseFactoryOptions2(options){let EOL=options.crlf?`\r
`:`
`,IDENT="    ",{customPrettifiers,errorLikeObjectKeys,hideObject,levelFirst,levelKey,levelLabel,messageFormat,messageKey,minimumLevel,singleLine,timestampKey,translateTime}=options,errorProps=options.errorProps.split(","),useOnlyCustomProps=typeof options.useOnlyCustomProps=="boolean"?options.useOnlyCustomProps:options.useOnlyCustomProps==="true",customLevels=handleCustomLevelsOpts(options.customLevels),customLevelNames=handleCustomLevelsNamesOpts(options.customLevels),getLevelLabelData=handleLevelLabelData(useOnlyCustomProps,customLevels,customLevelNames),customColors;if(options.customColors)if(typeof options.customColors=="string")customColors=options.customColors.split(",").reduce((agg,value)=>{let[level,color]=value.split(":"),levelNum=(useOnlyCustomProps?options.customLevels:customLevelNames[level]!==void 0)?customLevelNames[level]:LEVEL_NAMES[level],colorIdx=levelNum!==void 0?levelNum:level;return agg.push([colorIdx,color]),agg},[]);else if(typeof options.customColors=="object")customColors=Object.keys(options.customColors).reduce((agg,value)=>{let[level,color]=[value,options.customColors[value]],levelNum=(useOnlyCustomProps?options.customLevels:customLevelNames[level]!==void 0)?customLevelNames[level]:LEVEL_NAMES[level],colorIdx=levelNum!==void 0?levelNum:level;return agg.push([colorIdx,color]),agg},[]);else throw new Error("options.customColors must be of type string or object.");let customProperties={customLevels,customLevelNames};useOnlyCustomProps===!0&&!options.customLevels&&(customProperties.customLevels=void 0,customProperties.customLevelNames=void 0);let includeKeys=options.include!==void 0?new Set(options.include.split(",")):void 0,ignoreKeys=!includeKeys&&options.ignore?new Set(options.ignore.split(",")):void 0,colorizer=colors2(options.colorize,customColors,useOnlyCustomProps),objectColorizer=options.colorizeObjects?colorizer:colors2(!1,[],!1);return{EOL,IDENT,colorizer,customColors,customLevelNames,customLevels,customPrettifiers,customProperties,errorLikeObjectKeys,errorProps,getLevelLabelData,hideObject,ignoreKeys,includeKeys,levelFirst,levelKey,levelLabel,messageFormat,messageKey,minimumLevel,objectColorizer,singleLine,timestampKey,translateTime,useOnlyCustomProps}}}});var require_fast_safe_stringify=__commonJS({"../../../../node_modules/fast-safe-stringify/index.js"(exports2,module2){module2.exports=stringify;stringify.default=stringify;stringify.stable=deterministicStringify;stringify.stableStringify=deterministicStringify;var LIMIT_REPLACE_NODE="[...]",CIRCULAR_REPLACE_NODE="[Circular]",arr=[],replacerStack=[];function defaultOptions2(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify(obj,replacer,spacer,options){typeof options>"u"&&(options=defaultOptions2()),decirc(obj,"",0,[],void 0,0,options);var res;try{replacerStack.length===0?res=JSON.stringify(obj,replacer,spacer):res=JSON.stringify(obj,replaceGetterValues(replacer),spacer)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var part=arr.pop();part.length===4?Object.defineProperty(part[0],part[1],part[3]):part[0][part[1]]=part[2]}}return res}function setReplace(replace,val,k,parent){var propertyDescriptor=Object.getOwnPropertyDescriptor(parent,k);propertyDescriptor.get!==void 0?propertyDescriptor.configurable?(Object.defineProperty(parent,k,{value:replace}),arr.push([parent,k,val,propertyDescriptor])):replacerStack.push([val,k,replace]):(parent[k]=replace,arr.push([parent,k,val]))}function decirc(val,k,edgeIndex,stack,parent,depth,options){depth+=1;var i;if(typeof val=="object"&&val!==null){for(i=0;i<stack.length;i++)if(stack[i]===val){setReplace(CIRCULAR_REPLACE_NODE,val,k,parent);return}if(typeof options.depthLimit<"u"&&depth>options.depthLimit){setReplace(LIMIT_REPLACE_NODE,val,k,parent);return}if(typeof options.edgesLimit<"u"&&edgeIndex+1>options.edgesLimit){setReplace(LIMIT_REPLACE_NODE,val,k,parent);return}if(stack.push(val),Array.isArray(val))for(i=0;i<val.length;i++)decirc(val[i],i,i,stack,val,depth,options);else{var keys=Object.keys(val);for(i=0;i<keys.length;i++){var key=keys[i];decirc(val[key],key,i,stack,val,depth,options)}}stack.pop()}}function compareFunction(a,b){return a<b?-1:a>b?1:0}function deterministicStringify(obj,replacer,spacer,options){typeof options>"u"&&(options=defaultOptions2());var tmp=deterministicDecirc(obj,"",0,[],void 0,0,options)||obj,res;try{replacerStack.length===0?res=JSON.stringify(tmp,replacer,spacer):res=JSON.stringify(tmp,replaceGetterValues(replacer),spacer)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var part=arr.pop();part.length===4?Object.defineProperty(part[0],part[1],part[3]):part[0][part[1]]=part[2]}}return res}function deterministicDecirc(val,k,edgeIndex,stack,parent,depth,options){depth+=1;var i;if(typeof val=="object"&&val!==null){for(i=0;i<stack.length;i++)if(stack[i]===val){setReplace(CIRCULAR_REPLACE_NODE,val,k,parent);return}try{if(typeof val.toJSON=="function")return}catch{return}if(typeof options.depthLimit<"u"&&depth>options.depthLimit){setReplace(LIMIT_REPLACE_NODE,val,k,parent);return}if(typeof options.edgesLimit<"u"&&edgeIndex+1>options.edgesLimit){setReplace(LIMIT_REPLACE_NODE,val,k,parent);return}if(stack.push(val),Array.isArray(val))for(i=0;i<val.length;i++)deterministicDecirc(val[i],i,i,stack,val,depth,options);else{var tmp={},keys=Object.keys(val).sort(compareFunction);for(i=0;i<keys.length;i++){var key=keys[i];deterministicDecirc(val[key],key,i,stack,val,depth,options),tmp[key]=val[key]}if(typeof parent<"u")arr.push([parent,k,val]),parent[k]=tmp;else return tmp}stack.pop()}}function replaceGetterValues(replacer){return replacer=typeof replacer<"u"?replacer:function(k,v){return v},function(key,val){if(replacerStack.length>0)for(var i=0;i<replacerStack.length;i++){var part=replacerStack[i];if(part[1]===key&&part[0]===val){val=part[2],replacerStack.splice(i,1);break}}return replacer.call(this,key,val)}}}});var require_prettify_error=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/prettify-error.js"(exports2,module2){"use strict";module2.exports=prettifyError;var joinLinesWithIndentation=require_join_lines_with_indentation();function prettifyError({keyName,lines,eol,ident}){let result="",joinedLines=joinLinesWithIndentation({input:lines,ident,eol}),splitLines=`${ident}${keyName}: ${joinedLines}${eol}`.split(eol);for(let j=0;j<splitLines.length;j+=1){j!==0&&(result+=eol);let line=splitLines[j];if(/^\s*"stack"/.test(line)){let matches=/^(\s*"stack":)\s*(".*"),?$/.exec(line);if(matches&&matches.length===3){let indentSize=/^\s*/.exec(line)[0].length+4,indentation=" ".repeat(indentSize),stackMessage=matches[2];result+=matches[1]+eol+indentation+JSON.parse(stackMessage).replace(/\n/g,eol+indentation)}else result+=line}else result+=line}return result}}});var require_prettify_object=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/prettify-object.js"(exports2,module2){"use strict";module2.exports=prettifyObject;var{LOGGER_KEYS}=require_constants(),stringifySafe=require_fast_safe_stringify(),joinLinesWithIndentation=require_join_lines_with_indentation(),prettifyError=require_prettify_error();function prettifyObject({log,excludeLoggerKeys=!0,skipKeys=[],context}){let{EOL:eol,IDENT:ident,customPrettifiers,errorLikeObjectKeys:errorLikeKeys,objectColorizer,singleLine,colorizer}=context,keysToIgnore=[].concat(skipKeys);excludeLoggerKeys===!0&&Array.prototype.push.apply(keysToIgnore,LOGGER_KEYS);let result="",{plain,errors}=Object.entries(log).reduce(({plain:plain2,errors:errors2},[k,v])=>{if(keysToIgnore.includes(k)===!1){let pretty2=typeof customPrettifiers[k]=="function"?customPrettifiers[k](v,k,log,{colors:colorizer.colors}):v;errorLikeKeys.includes(k)?errors2[k]=pretty2:plain2[k]=pretty2}return{plain:plain2,errors:errors2}},{plain:{},errors:{}});return singleLine?(Object.keys(plain).length>0&&(result+=objectColorizer.greyMessage(stringifySafe(plain))),result+=eol,result=result.replace(/\\\\/gi,"\\")):Object.entries(plain).forEach(([keyName,keyValue])=>{let lines=typeof customPrettifiers[keyName]=="function"?keyValue:stringifySafe(keyValue,null,2);if(lines===void 0)return;lines=lines.replace(/\\\\/gi,"\\");let joinedLines=joinLinesWithIndentation({input:lines,ident,eol});result+=`${ident}${objectColorizer.property(keyName)}:${joinedLines.startsWith(eol)?"":" "}${joinedLines}${eol}`}),Object.entries(errors).forEach(([keyName,keyValue])=>{let lines=typeof customPrettifiers[keyName]=="function"?keyValue:stringifySafe(keyValue,null,2);lines!==void 0&&(result+=prettifyError({keyName,lines,eol,ident}))}),result}}});var require_prettify_error_log=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/prettify-error-log.js"(exports2,module2){"use strict";module2.exports=prettifyErrorLog;var{LOGGER_KEYS}=require_constants(),isObject=require_is_object(),joinLinesWithIndentation=require_join_lines_with_indentation(),prettifyObject=require_prettify_object();function prettifyErrorLog({log,context}){let{EOL:eol,IDENT:ident,errorProps:errorProperties,messageKey}=context,stack=log.stack,joinedLines=joinLinesWithIndentation({input:stack,ident,eol}),result=`${ident}${joinedLines}${eol}`;if(errorProperties.length>0){let excludeProperties=LOGGER_KEYS.concat(messageKey,"type","stack"),propertiesToPrint;errorProperties[0]==="*"?propertiesToPrint=Object.keys(log).filter(k=>excludeProperties.includes(k)===!1):propertiesToPrint=errorProperties.filter(k=>excludeProperties.includes(k)===!1);for(let i=0;i<propertiesToPrint.length;i+=1){let key=propertiesToPrint[i];if(key in log){if(isObject(log[key])){let prettifiedObject=prettifyObject({log:log[key],excludeLoggerKeys:!1,context:{...context,IDENT:ident+ident}});result=`${result}${ident}${key}: {${eol}${prettifiedObject}${ident}}${eol}`;continue}result=`${result}${ident}${key}: ${log[key]}${eol}`}}}return result}}});var require_prettify_level=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/prettify-level.js"(exports2,module2){"use strict";module2.exports=prettifyLevel;var getPropertyValue=require_get_property_value();function prettifyLevel({log,context}){let{colorizer,customLevels,customLevelNames,levelKey,getLevelLabelData}=context,prettifier=context.customPrettifiers?.level,output=getPropertyValue(log,levelKey);if(output===void 0)return;let labelColorized=colorizer(output,{customLevels,customLevelNames});if(prettifier){let[label]=getLevelLabelData(output);return prettifier(output,levelKey,log,{label,labelColorized,colors:colorizer.colors})}return labelColorized}}});var require_prettify_message=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/prettify-message.js"(exports2,module2){"use strict";module2.exports=prettifyMessage;var{LEVELS}=require_constants(),getPropertyValue=require_get_property_value(),interpretConditionals=require_interpret_conditionals();function prettifyMessage({log,context}){let{colorizer,customLevels,levelKey,levelLabel,messageFormat,messageKey,useOnlyCustomProps}=context;if(messageFormat&&typeof messageFormat=="string"){let parsedMessageFormat=interpretConditionals(messageFormat,log),message=String(parsedMessageFormat).replace(/{([^{}]+)}/g,function(match,p1){let level;return p1===levelLabel&&(level=getPropertyValue(log,levelKey))!==void 0?(useOnlyCustomProps?customLevels===void 0:customLevels[level]===void 0)?LEVELS[level]:customLevels[level]:getPropertyValue(log,p1)||""});return colorizer.message(message)}if(messageFormat&&typeof messageFormat=="function"){let msg=messageFormat(log,messageKey,levelLabel,{colors:colorizer.colors});return colorizer.message(msg)}if(messageKey in log&&!(typeof log[messageKey]!="string"&&typeof log[messageKey]!="number"&&typeof log[messageKey]!="boolean"))return colorizer.message(log[messageKey])}}});var require_prettify_metadata=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/prettify-metadata.js"(exports2,module2){"use strict";module2.exports=prettifyMetadata;function prettifyMetadata({log,context}){let{customPrettifiers:prettifiers,colorizer}=context,line="";if(log.name||log.pid||log.hostname){if(line+="(",log.name&&(line+=prettifiers.name?prettifiers.name(log.name,"name",log,{colors:colorizer.colors}):log.name),log.pid){let prettyPid=prettifiers.pid?prettifiers.pid(log.pid,"pid",log,{colors:colorizer.colors}):log.pid;log.name&&log.pid?line+="/"+prettyPid:line+=prettyPid}if(log.hostname){let prettyHostname=prettifiers.hostname?prettifiers.hostname(log.hostname,"hostname",log,{colors:colorizer.colors}):log.hostname;line+=`${line==="("?"on":" on"} ${prettyHostname}`}line+=")"}if(log.caller){let prettyCaller=prettifiers.caller?prettifiers.caller(log.caller,"caller",log,{colors:colorizer.colors}):log.caller;line+=`${line===""?"":" "}<${prettyCaller}>`}if(line!=="")return line}}});var require_prettify_time=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/prettify-time.js"(exports2,module2){"use strict";module2.exports=prettifyTime;var formatTime=require_format_time();function prettifyTime({log,context}){let{timestampKey,translateTime:translateFormat}=context,prettifier=context.customPrettifiers?.time,time=null;if(timestampKey in log?time=log[timestampKey]:"timestamp"in log&&(time=log.timestamp),time===null)return;let output=translateFormat?formatTime(time,translateFormat):time;return prettifier?prettifier(output):`[${output}]`}}});var require_utils=__commonJS({"../../../../node_modules/pino-pretty/lib/utils/index.js"(exports2,module2){"use strict";module2.exports={buildSafeSonicBoom:require_build_safe_sonic_boom(),createDate:require_create_date(),deleteLogProperty:require_delete_log_property(),filterLog:require_filter_log(),formatTime:require_format_time(),getPropertyValue:require_get_property_value(),handleCustomLevelsNamesOpts:require_handle_custom_levels_names_opts(),handleCustomLevelsOpts:require_handle_custom_levels_opts(),interpretConditionals:require_interpret_conditionals(),isObject:require_is_object(),isValidDate:require_is_valid_date(),joinLinesWithIndentation:require_join_lines_with_indentation(),noop:require_noop(),parseFactoryOptions:require_parse_factory_options(),prettifyErrorLog:require_prettify_error_log(),prettifyError:require_prettify_error(),prettifyLevel:require_prettify_level(),prettifyMessage:require_prettify_message(),prettifyMetadata:require_prettify_metadata(),prettifyObject:require_prettify_object(),prettifyTime:require_prettify_time(),splitPropertyKey:require_split_property_key(),getLevelLabelData:require_get_level_label_data()}}});var require_secure_json_parse=__commonJS({"../../../../node_modules/secure-json-parse/index.js"(exports2,module2){"use strict";var hasBuffer=typeof Buffer<"u",suspectProtoRx=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function _parse(text,reviver,options){options==null&&reviver!==null&&typeof reviver=="object"&&(options=reviver,reviver=void 0),hasBuffer&&Buffer.isBuffer(text)&&(text=text.toString()),text&&text.charCodeAt(0)===65279&&(text=text.slice(1));let obj=JSON.parse(text,reviver);if(obj===null||typeof obj!="object")return obj;let protoAction=options&&options.protoAction||"error",constructorAction=options&&options.constructorAction||"error";if(protoAction==="ignore"&&constructorAction==="ignore")return obj;if(protoAction!=="ignore"&&constructorAction!=="ignore"){if(suspectProtoRx.test(text)===!1&&suspectConstructorRx.test(text)===!1)return obj}else if(protoAction!=="ignore"&&constructorAction==="ignore"){if(suspectProtoRx.test(text)===!1)return obj}else if(suspectConstructorRx.test(text)===!1)return obj;return filter(obj,{protoAction,constructorAction,safe:options&&options.safe})}function filter(obj,{protoAction="error",constructorAction="error",safe}={}){let next=[obj];for(;next.length;){let nodes=next;next=[];for(let node of nodes){if(protoAction!=="ignore"&&Object.prototype.hasOwnProperty.call(node,"__proto__")){if(safe===!0)return null;if(protoAction==="error")throw new SyntaxError("Object contains forbidden prototype property");delete node.__proto__}if(constructorAction!=="ignore"&&Object.prototype.hasOwnProperty.call(node,"constructor")&&node.constructor!==null&&typeof node.constructor=="object"&&Object.prototype.hasOwnProperty.call(node.constructor,"prototype")){if(safe===!0)return null;if(constructorAction==="error")throw new SyntaxError("Object contains forbidden prototype property");delete node.constructor}for(let key in node){let value=node[key];value&&typeof value=="object"&&next.push(value)}}}return obj}function parse(text,reviver,options){let{stackTraceLimit}=Error;Error.stackTraceLimit=0;try{return _parse(text,reviver,options)}finally{Error.stackTraceLimit=stackTraceLimit}}function safeParse(text,reviver){let{stackTraceLimit}=Error;Error.stackTraceLimit=0;try{return _parse(text,reviver,{safe:!0})}catch{return}finally{Error.stackTraceLimit=stackTraceLimit}}module2.exports=parse;module2.exports.default=parse;module2.exports.parse=parse;module2.exports.safeParse=safeParse;module2.exports.scan=filter}});var require_pretty=__commonJS({"../../../../node_modules/pino-pretty/lib/pretty.js"(exports2,module2){"use strict";module2.exports=pretty2;var sjs=require_secure_json_parse(),isObject=require_is_object(),prettifyErrorLog=require_prettify_error_log(),prettifyLevel=require_prettify_level(),prettifyMessage=require_prettify_message(),prettifyMetadata=require_prettify_metadata(),prettifyObject=require_prettify_object(),prettifyTime=require_prettify_time(),filterLog=require_filter_log(),{LEVELS,LEVEL_KEY:LEVEL_KEY2,LEVEL_NAMES}=require_constants(),jsonParser=input=>{try{return{value:sjs.parse(input,{protoAction:"remove"})}}catch(err){return{err}}};function pretty2(inputData){let log;if(isObject(inputData))log=inputData;else{let parsed=jsonParser(inputData);if(parsed.err||!isObject(parsed.value))return inputData+this.EOL;log=parsed.value}if(this.minimumLevel){let condition;this.useOnlyCustomProps?condition=this.customLevels:condition=this.customLevelNames[this.minimumLevel]!==void 0;let minimum;if(condition?minimum=this.customLevelNames[this.minimumLevel]:minimum=LEVEL_NAMES[this.minimumLevel],minimum||(minimum=typeof this.minimumLevel=="string"?LEVEL_NAMES[this.minimumLevel]:LEVEL_NAMES[LEVELS[this.minimumLevel].toLowerCase()]),log[this.levelKey===void 0?LEVEL_KEY2:this.levelKey]<minimum)return}let prettifiedMessage=prettifyMessage({log,context:this.context});(this.ignoreKeys||this.includeKeys)&&(log=filterLog({log,context:this.context}));let prettifiedLevel=prettifyLevel({log,context:{...this.context,...this.context.customProperties}}),prettifiedMetadata=prettifyMetadata({log,context:this.context}),prettifiedTime=prettifyTime({log,context:this.context}),line="";if(this.levelFirst&&prettifiedLevel&&(line=`${prettifiedLevel}`),prettifiedTime&&line===""?line=`${prettifiedTime}`:prettifiedTime&&(line=`${line} ${prettifiedTime}`),!this.levelFirst&&prettifiedLevel&&(line.length>0?line=`${line} ${prettifiedLevel}`:line=prettifiedLevel),prettifiedMetadata&&(line.length>0?line=`${line} ${prettifiedMetadata}:`:line=prettifiedMetadata),line.endsWith(":")===!1&&line!==""&&(line+=":"),prettifiedMessage!==void 0&&(line.length>0?line=`${line} ${prettifiedMessage}`:line=prettifiedMessage),line.length>0&&!this.singleLine&&(line+=this.EOL),log.type==="Error"&&typeof log.stack=="string"){let prettifiedErrorLog=prettifyErrorLog({log,context:this.context});this.singleLine&&(line+=this.EOL),line+=prettifiedErrorLog}else if(this.hideObject===!1){let skipKeys=[this.messageKey,this.levelKey,this.timestampKey].map(key=>key.replaceAll(/\\/g,"")).filter(key=>typeof log[key]=="string"||typeof log[key]=="number"||typeof log[key]=="boolean"),prettifiedObject=prettifyObject({log,skipKeys,context:this.context});this.singleLine&&!/^\s$/.test(prettifiedObject)&&(line+=" "),line+=prettifiedObject}return line}}});var{isColorSupported}=require_colorette(),pump=require_pump(),{Transform}=require("node:stream"),abstractTransport=require_pino_abstract_transport(),colors=require_colors(),{ERROR_LIKE_KEYS,LEVEL_KEY,LEVEL_LABEL,MESSAGE_KEY,TIMESTAMP_KEY}=require_constants(),{buildSafeSonicBoom,parseFactoryOptions}=require_utils(),pretty=require_pretty(),defaultOptions={colorize:isColorSupported,colorizeObjects:!0,crlf:!1,customColors:null,customLevels:null,customPrettifiers:{},errorLikeObjectKeys:ERROR_LIKE_KEYS,errorProps:"",hideObject:!1,ignore:"hostname",include:void 0,levelFirst:!1,levelKey:LEVEL_KEY,levelLabel:LEVEL_LABEL,messageFormat:null,messageKey:MESSAGE_KEY,minimumLevel:void 0,outputStream:process.stdout,singleLine:!1,timestampKey:TIMESTAMP_KEY,translateTime:!0,useOnlyCustomProps:!0};function prettyFactory(options){let context=parseFactoryOptions(Object.assign({},defaultOptions,options));return pretty.bind({...context,context})}function build(opts={}){let pretty2=prettyFactory(opts),destination;return abstractTransport(function(source){source.on("message",function pinoConfigListener(message){!message||message.code!=="PINO_CONFIG"||(Object.assign(opts,{messageKey:message.config.messageKey,errorLikeObjectKeys:Array.from(new Set([...opts.errorLikeObjectKeys||ERROR_LIKE_KEYS,message.config.errorKey])),customLevels:message.config.levels.values}),pretty2=prettyFactory(opts),source.off("message",pinoConfigListener))});let stream=new Transform({objectMode:!0,autoDestroy:!0,transform(chunk,enc,cb){let line=pretty2(chunk);cb(null,line)}});return typeof opts.destination=="object"&&typeof opts.destination.write=="function"?destination=opts.destination:destination=buildSafeSonicBoom({dest:opts.destination||1,append:opts.append,mkdir:opts.mkdir,sync:opts.sync}),source.on("unknown",function(line){destination.write(line+`
`)}),pump(source,stream,destination),stream},{parse:"lines",close(err,cb){destination.on("close",()=>{cb(err)})}})}module.exports=build;module.exports.build=build;module.exports.PinoPretty=build;module.exports.prettyFactory=prettyFactory;module.exports.colorizerFactory=colors;module.exports.isColorSupported=isColorSupported;module.exports.default=build;
//# sourceMappingURL=pino-pretty.cjs.map
